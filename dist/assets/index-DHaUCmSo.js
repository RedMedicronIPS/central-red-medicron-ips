var Bx=Object.defineProperty;var Cm=St=>{throw TypeError(St)};var Ux=(St,er,tr)=>er in St?Bx(St,er,{enumerable:!0,configurable:!0,writable:!0,value:tr}):St[er]=tr;var _i=(St,er,tr)=>Ux(St,typeof er!="symbol"?er+"":er,tr),$p=(St,er,tr)=>er.has(St)||Cm("Cannot "+tr);var xn=(St,er,tr)=>($p(St,er,"read from private field"),tr?tr.call(St):er.get(St)),js=(St,er,tr)=>er.has(St)?Cm("Cannot add the same private member more than once"):er instanceof WeakSet?er.add(St):er.set(St,tr),Ns=(St,er,tr,rr)=>($p(St,er,"write to private field"),rr?rr.call(St,tr):er.set(St,tr),tr),hs=(St,er,tr)=>($p(St,er,"access private method"),tr);var Ip=(St,er,tr,rr)=>({set _(nr){Ns(St,er,nr,tr)},get _(){return xn(St,er,rr)}});function _mergeNamespaces(St,er){for(var tr=0;tr<er.length;tr++){const rr=er[tr];if(typeof rr!="string"&&!Array.isArray(rr)){for(const nr in rr)if(nr!=="default"&&!(nr in St)){const ar=Object.getOwnPropertyDescriptor(rr,nr);ar&&Object.defineProperty(St,nr,ar.get?ar:{enumerable:!0,get:()=>rr[nr]})}}}return Object.freeze(Object.defineProperty(St,Symbol.toStringTag,{value:"Module"}))}(function(){const er=document.createElement("link").relList;if(er&&er.supports&&er.supports("modulepreload"))return;for(const nr of document.querySelectorAll('link[rel="modulepreload"]'))rr(nr);new MutationObserver(nr=>{for(const ar of nr)if(ar.type==="childList")for(const sr of ar.addedNodes)sr.tagName==="LINK"&&sr.rel==="modulepreload"&&rr(sr)}).observe(document,{childList:!0,subtree:!0});function tr(nr){const ar={};return nr.integrity&&(ar.integrity=nr.integrity),nr.referrerPolicy&&(ar.referrerPolicy=nr.referrerPolicy),nr.crossOrigin==="use-credentials"?ar.credentials="include":nr.crossOrigin==="anonymous"?ar.credentials="omit":ar.credentials="same-origin",ar}function rr(nr){if(nr.ep)return;nr.ep=!0;const ar=tr(nr);fetch(nr.href,ar)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(St){return St&&St.__esModule&&Object.prototype.hasOwnProperty.call(St,"default")?St.default:St}function getAugmentedNamespace(St){if(St.__esModule)return St;var er=St.default;if(typeof er=="function"){var tr=function rr(){return this instanceof rr?Reflect.construct(er,arguments,this.constructor):er.apply(this,arguments)};tr.prototype=er.prototype}else tr={};return Object.defineProperty(tr,"__esModule",{value:!0}),Object.keys(St).forEach(function(rr){var nr=Object.getOwnPropertyDescriptor(St,rr);Object.defineProperty(tr,rr,nr.get?nr:{enumerable:!0,get:function(){return St[rr]}})}),tr}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$6=Symbol.for("react.element"),n$9=Symbol.for("react.portal"),p$7=Symbol.for("react.fragment"),q$3=Symbol.for("react.strict_mode"),r$5=Symbol.for("react.profiler"),t$6=Symbol.for("react.provider"),u$8=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w$7=Symbol.for("react.suspense"),x$6=Symbol.for("react.memo"),y$9=Symbol.for("react.lazy"),z$4=Symbol.iterator;function A$4(St){return St===null||typeof St!="object"?null:(St=z$4&&St[z$4]||St["@@iterator"],typeof St=="function"?St:null)}var B$4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$7=Object.assign,D$4={};function E$4(St,er,tr){this.props=St,this.context=er,this.refs=D$4,this.updater=tr||B$4}E$4.prototype.isReactComponent={};E$4.prototype.setState=function(St,er){if(typeof St!="object"&&typeof St!="function"&&St!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,St,er,"setState")};E$4.prototype.forceUpdate=function(St){this.updater.enqueueForceUpdate(this,St,"forceUpdate")};function F$4(){}F$4.prototype=E$4.prototype;function G$4(St,er,tr){this.props=St,this.context=er,this.refs=D$4,this.updater=tr||B$4}var H$7=G$4.prototype=new F$4;H$7.constructor=G$4;C$7(H$7,E$4.prototype);H$7.isPureReactComponent=!0;var I$7=Array.isArray,J$3=Object.prototype.hasOwnProperty,K$4={current:null},L$5={key:!0,ref:!0,__self:!0,__source:!0};function M$5(St,er,tr){var rr,nr={},ar=null,sr=null;if(er!=null)for(rr in er.ref!==void 0&&(sr=er.ref),er.key!==void 0&&(ar=""+er.key),er)J$3.call(er,rr)&&!L$5.hasOwnProperty(rr)&&(nr[rr]=er[rr]);var ir=arguments.length-2;if(ir===1)nr.children=tr;else if(1<ir){for(var or=Array(ir),lr=0;lr<ir;lr++)or[lr]=arguments[lr+2];nr.children=or}if(St&&St.defaultProps)for(rr in ir=St.defaultProps,ir)nr[rr]===void 0&&(nr[rr]=ir[rr]);return{$$typeof:l$6,type:St,key:ar,ref:sr,props:nr,_owner:K$4.current}}function N$3(St,er){return{$$typeof:l$6,type:St.type,key:er,ref:St.ref,props:St.props,_owner:St._owner}}function O$5(St){return typeof St=="object"&&St!==null&&St.$$typeof===l$6}function escape$1(St){var er={"=":"=0",":":"=2"};return"$"+St.replace(/[=:]/g,function(tr){return er[tr]})}var P$7=/\/+/g;function Q$3(St,er){return typeof St=="object"&&St!==null&&St.key!=null?escape$1(""+St.key):er.toString(36)}function R$3(St,er,tr,rr,nr){var ar=typeof St;(ar==="undefined"||ar==="boolean")&&(St=null);var sr=!1;if(St===null)sr=!0;else switch(ar){case"string":case"number":sr=!0;break;case"object":switch(St.$$typeof){case l$6:case n$9:sr=!0}}if(sr)return sr=St,nr=nr(sr),St=rr===""?"."+Q$3(sr,0):rr,I$7(nr)?(tr="",St!=null&&(tr=St.replace(P$7,"$&/")+"/"),R$3(nr,er,tr,"",function(lr){return lr})):nr!=null&&(O$5(nr)&&(nr=N$3(nr,tr+(!nr.key||sr&&sr.key===nr.key?"":(""+nr.key).replace(P$7,"$&/")+"/")+St)),er.push(nr)),1;if(sr=0,rr=rr===""?".":rr+":",I$7(St))for(var ir=0;ir<St.length;ir++){ar=St[ir];var or=rr+Q$3(ar,ir);sr+=R$3(ar,er,tr,or,nr)}else if(or=A$4(St),typeof or=="function")for(St=or.call(St),ir=0;!(ar=St.next()).done;)ar=ar.value,or=rr+Q$3(ar,ir++),sr+=R$3(ar,er,tr,or,nr);else if(ar==="object")throw er=String(St),Error("Objects are not valid as a React child (found: "+(er==="[object Object]"?"object with keys {"+Object.keys(St).join(", ")+"}":er)+"). If you meant to render a collection of children, use an array instead.");return sr}function S$5(St,er,tr){if(St==null)return St;var rr=[],nr=0;return R$3(St,rr,"","",function(ar){return er.call(tr,ar,nr++)}),rr}function T$5(St){if(St._status===-1){var er=St._result;er=er(),er.then(function(tr){(St._status===0||St._status===-1)&&(St._status=1,St._result=tr)},function(tr){(St._status===0||St._status===-1)&&(St._status=2,St._result=tr)}),St._status===-1&&(St._status=0,St._result=er)}if(St._status===1)return St._result.default;throw St._result}var U$6={current:null},V$3={transition:null},W$3={ReactCurrentDispatcher:U$6,ReactCurrentBatchConfig:V$3,ReactCurrentOwner:K$4};function X$6(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$5,forEach:function(St,er,tr){S$5(St,function(){er.apply(this,arguments)},tr)},count:function(St){var er=0;return S$5(St,function(){er++}),er},toArray:function(St){return S$5(St,function(er){return er})||[]},only:function(St){if(!O$5(St))throw Error("React.Children.only expected to receive a single React element child.");return St}};react_production_min.Component=E$4;react_production_min.Fragment=p$7;react_production_min.Profiler=r$5;react_production_min.PureComponent=G$4;react_production_min.StrictMode=q$3;react_production_min.Suspense=w$7;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$3;react_production_min.act=X$6;react_production_min.cloneElement=function(St,er,tr){if(St==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+St+".");var rr=C$7({},St.props),nr=St.key,ar=St.ref,sr=St._owner;if(er!=null){if(er.ref!==void 0&&(ar=er.ref,sr=K$4.current),er.key!==void 0&&(nr=""+er.key),St.type&&St.type.defaultProps)var ir=St.type.defaultProps;for(or in er)J$3.call(er,or)&&!L$5.hasOwnProperty(or)&&(rr[or]=er[or]===void 0&&ir!==void 0?ir[or]:er[or])}var or=arguments.length-2;if(or===1)rr.children=tr;else if(1<or){ir=Array(or);for(var lr=0;lr<or;lr++)ir[lr]=arguments[lr+2];rr.children=ir}return{$$typeof:l$6,type:St.type,key:nr,ref:ar,props:rr,_owner:sr}};react_production_min.createContext=function(St){return St={$$typeof:u$8,_currentValue:St,_currentValue2:St,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},St.Provider={$$typeof:t$6,_context:St},St.Consumer=St};react_production_min.createElement=M$5;react_production_min.createFactory=function(St){var er=M$5.bind(null,St);return er.type=St,er};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(St){return{$$typeof:v$2,render:St}};react_production_min.isValidElement=O$5;react_production_min.lazy=function(St){return{$$typeof:y$9,_payload:{_status:-1,_result:St},_init:T$5}};react_production_min.memo=function(St,er){return{$$typeof:x$6,type:St,compare:er===void 0?null:er}};react_production_min.startTransition=function(St){var er=V$3.transition;V$3.transition={};try{St()}finally{V$3.transition=er}};react_production_min.unstable_act=X$6;react_production_min.useCallback=function(St,er){return U$6.current.useCallback(St,er)};react_production_min.useContext=function(St){return U$6.current.useContext(St)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(St){return U$6.current.useDeferredValue(St)};react_production_min.useEffect=function(St,er){return U$6.current.useEffect(St,er)};react_production_min.useId=function(){return U$6.current.useId()};react_production_min.useImperativeHandle=function(St,er,tr){return U$6.current.useImperativeHandle(St,er,tr)};react_production_min.useInsertionEffect=function(St,er){return U$6.current.useInsertionEffect(St,er)};react_production_min.useLayoutEffect=function(St,er){return U$6.current.useLayoutEffect(St,er)};react_production_min.useMemo=function(St,er){return U$6.current.useMemo(St,er)};react_production_min.useReducer=function(St,er,tr){return U$6.current.useReducer(St,er,tr)};react_production_min.useRef=function(St){return U$6.current.useRef(St)};react_production_min.useState=function(St){return U$6.current.useState(St)};react_production_min.useSyncExternalStore=function(St,er,tr){return U$6.current.useSyncExternalStore(St,er,tr)};react_production_min.useTransition=function(){return U$6.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const U$5=getDefaultExportFromCjs(reactExports),t$5=_mergeNamespaces({__proto__:null,default:U$5},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$9=reactExports,k$5=Symbol.for("react.element"),l$5=Symbol.for("react.fragment"),m$6=Object.prototype.hasOwnProperty,n$8=f$9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$6={key:!0,ref:!0,__self:!0,__source:!0};function q$2(St,er,tr){var rr,nr={},ar=null,sr=null;tr!==void 0&&(ar=""+tr),er.key!==void 0&&(ar=""+er.key),er.ref!==void 0&&(sr=er.ref);for(rr in er)m$6.call(er,rr)&&!p$6.hasOwnProperty(rr)&&(nr[rr]=er[rr]);if(St&&St.defaultProps)for(rr in er=St.defaultProps,er)nr[rr]===void 0&&(nr[rr]=er[rr]);return{$$typeof:k$5,type:St,key:ar,ref:sr,props:nr,_owner:n$8.current}}reactJsxRuntime_production_min.Fragment=l$5;reactJsxRuntime_production_min.jsx=q$2;reactJsxRuntime_production_min.jsxs=q$2;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(St){function er(Vr,Jr){var tn=Vr.length;Vr.push(Jr);e:for(;0<tn;){var Yr=tn-1>>>1,Sr=Vr[Yr];if(0<nr(Sr,Jr))Vr[Yr]=Jr,Vr[tn]=Sr,tn=Yr;else break e}}function tr(Vr){return Vr.length===0?null:Vr[0]}function rr(Vr){if(Vr.length===0)return null;var Jr=Vr[0],tn=Vr.pop();if(tn!==Jr){Vr[0]=tn;e:for(var Yr=0,Sr=Vr.length,Rr=Sr>>>1;Yr<Rr;){var Tr=2*(Yr+1)-1,Dr=Vr[Tr],Mr=Tr+1,Br=Vr[Mr];if(0>nr(Dr,tn))Mr<Sr&&0>nr(Br,Dr)?(Vr[Yr]=Br,Vr[Mr]=tn,Yr=Mr):(Vr[Yr]=Dr,Vr[Tr]=tn,Yr=Tr);else if(Mr<Sr&&0>nr(Br,tn))Vr[Yr]=Br,Vr[Mr]=tn,Yr=Mr;else break e}}return Jr}function nr(Vr,Jr){var tn=Vr.sortIndex-Jr.sortIndex;return tn!==0?tn:Vr.id-Jr.id}if(typeof performance=="object"&&typeof performance.now=="function"){var ar=performance;St.unstable_now=function(){return ar.now()}}else{var sr=Date,ir=sr.now();St.unstable_now=function(){return sr.now()-ir}}var or=[],lr=[],cr=1,ur=null,dr=3,fr=!1,mr=!1,xr=!1,pr=typeof setTimeout=="function"?setTimeout:null,hr=typeof clearTimeout=="function"?clearTimeout:null,gr=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function vr(Vr){for(var Jr=tr(lr);Jr!==null;){if(Jr.callback===null)rr(lr);else if(Jr.startTime<=Vr)rr(lr),Jr.sortIndex=Jr.expirationTime,er(or,Jr);else break;Jr=tr(lr)}}function br(Vr){if(xr=!1,vr(Vr),!mr)if(tr(or)!==null)mr=!0,Qr(yr);else{var Jr=tr(lr);Jr!==null&&zr(br,Jr.startTime-Vr)}}function yr(Vr,Jr){mr=!1,xr&&(xr=!1,hr(_r),_r=-1),fr=!0;var tn=dr;try{for(vr(Jr),ur=tr(or);ur!==null&&(!(ur.expirationTime>Jr)||Vr&&!Pr());){var Yr=ur.callback;if(typeof Yr=="function"){ur.callback=null,dr=ur.priorityLevel;var Sr=Yr(ur.expirationTime<=Jr);Jr=St.unstable_now(),typeof Sr=="function"?ur.callback=Sr:ur===tr(or)&&rr(or),vr(Jr)}else rr(or);ur=tr(or)}if(ur!==null)var Rr=!0;else{var Tr=tr(lr);Tr!==null&&zr(br,Tr.startTime-Jr),Rr=!1}return Rr}finally{ur=null,dr=tn,fr=!1}}var Er=!1,jr=null,_r=-1,Cr=5,Or=-1;function Pr(){return!(St.unstable_now()-Or<Cr)}function Lr(){if(jr!==null){var Vr=St.unstable_now();Or=Vr;var Jr=!0;try{Jr=jr(!0,Vr)}finally{Jr?Gr():(Er=!1,jr=null)}}else Er=!1}var Gr;if(typeof gr=="function")Gr=function(){gr(Lr)};else if(typeof MessageChannel<"u"){var Kr=new MessageChannel,nn=Kr.port2;Kr.port1.onmessage=Lr,Gr=function(){nn.postMessage(null)}}else Gr=function(){pr(Lr,0)};function Qr(Vr){jr=Vr,Er||(Er=!0,Gr())}function zr(Vr,Jr){_r=pr(function(){Vr(St.unstable_now())},Jr)}St.unstable_IdlePriority=5,St.unstable_ImmediatePriority=1,St.unstable_LowPriority=4,St.unstable_NormalPriority=3,St.unstable_Profiling=null,St.unstable_UserBlockingPriority=2,St.unstable_cancelCallback=function(Vr){Vr.callback=null},St.unstable_continueExecution=function(){mr||fr||(mr=!0,Qr(yr))},St.unstable_forceFrameRate=function(Vr){0>Vr||125<Vr?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Cr=0<Vr?Math.floor(1e3/Vr):5},St.unstable_getCurrentPriorityLevel=function(){return dr},St.unstable_getFirstCallbackNode=function(){return tr(or)},St.unstable_next=function(Vr){switch(dr){case 1:case 2:case 3:var Jr=3;break;default:Jr=dr}var tn=dr;dr=Jr;try{return Vr()}finally{dr=tn}},St.unstable_pauseExecution=function(){},St.unstable_requestPaint=function(){},St.unstable_runWithPriority=function(Vr,Jr){switch(Vr){case 1:case 2:case 3:case 4:case 5:break;default:Vr=3}var tn=dr;dr=Vr;try{return Jr()}finally{dr=tn}},St.unstable_scheduleCallback=function(Vr,Jr,tn){var Yr=St.unstable_now();switch(typeof tn=="object"&&tn!==null?(tn=tn.delay,tn=typeof tn=="number"&&0<tn?Yr+tn:Yr):tn=Yr,Vr){case 1:var Sr=-1;break;case 2:Sr=250;break;case 5:Sr=1073741823;break;case 4:Sr=1e4;break;default:Sr=5e3}return Sr=tn+Sr,Vr={id:cr++,callback:Jr,priorityLevel:Vr,startTime:tn,expirationTime:Sr,sortIndex:-1},tn>Yr?(Vr.sortIndex=tn,er(lr,Vr),tr(or)===null&&Vr===tr(lr)&&(xr?(hr(_r),_r=-1):xr=!0,zr(br,tn-Yr))):(Vr.sortIndex=Sr,er(or,Vr),mr||fr||(mr=!0,Qr(yr))),Vr},St.unstable_shouldYield=Pr,St.unstable_wrapCallback=function(Vr){var Jr=dr;return function(){var tn=dr;dr=Jr;try{return Vr.apply(this,arguments)}finally{dr=tn}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$5(St){for(var er="https://reactjs.org/docs/error-decoder.html?invariant="+St,tr=1;tr<arguments.length;tr++)er+="&args[]="+encodeURIComponent(arguments[tr]);return"Minified React error #"+St+"; visit "+er+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(St,er){ha(St,er),ha(St+"Capture",er)}function ha(St,er){for(ea[St]=er,St=0;St<er.length;St++)da.add(er[St])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka$1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(St){return ja.call(ma,St)?!0:ja.call(la,St)?!1:ka$1.test(St)?ma[St]=!0:(la[St]=!0,!1)}function pa(St,er,tr,rr){if(tr!==null&&tr.type===0)return!1;switch(typeof er){case"function":case"symbol":return!0;case"boolean":return rr?!1:tr!==null?!tr.acceptsBooleans:(St=St.toLowerCase().slice(0,5),St!=="data-"&&St!=="aria-");default:return!1}}function qa(St,er,tr,rr){if(er===null||typeof er>"u"||pa(St,er,tr,rr))return!0;if(rr)return!1;if(tr!==null)switch(tr.type){case 3:return!er;case 4:return er===!1;case 5:return isNaN(er);case 6:return isNaN(er)||1>er}return!1}function v$1(St,er,tr,rr,nr,ar,sr){this.acceptsBooleans=er===2||er===3||er===4,this.attributeName=rr,this.attributeNamespace=nr,this.mustUseProperty=tr,this.propertyName=St,this.type=er,this.sanitizeURL=ar,this.removeEmptyString=sr}var z$3={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(St){z$3[St]=new v$1(St,0,!1,St,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(St){var er=St[0];z$3[er]=new v$1(er,1,!1,St[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(St){z$3[St]=new v$1(St,2,!1,St.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(St){z$3[St]=new v$1(St,2,!1,St,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(St){z$3[St]=new v$1(St,3,!1,St.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(St){z$3[St]=new v$1(St,3,!0,St,null,!1,!1)});["capture","download"].forEach(function(St){z$3[St]=new v$1(St,4,!1,St,null,!1,!1)});["cols","rows","size","span"].forEach(function(St){z$3[St]=new v$1(St,6,!1,St,null,!1,!1)});["rowSpan","start"].forEach(function(St){z$3[St]=new v$1(St,5,!1,St.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(St){return St[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(St){var er=St.replace(ra,sa);z$3[er]=new v$1(er,1,!1,St,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(St){var er=St.replace(ra,sa);z$3[er]=new v$1(er,1,!1,St,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(St){var er=St.replace(ra,sa);z$3[er]=new v$1(er,1,!1,St,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(St){z$3[St]=new v$1(St,1,!1,St.toLowerCase(),null,!1,!1)});z$3.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(St){z$3[St]=new v$1(St,1,!1,St.toLowerCase(),null,!0,!0)});function ta(St,er,tr,rr){var nr=z$3.hasOwnProperty(er)?z$3[er]:null;(nr!==null?nr.type!==0:rr||!(2<er.length)||er[0]!=="o"&&er[0]!=="O"||er[1]!=="n"&&er[1]!=="N")&&(qa(er,tr,nr,rr)&&(tr=null),rr||nr===null?oa(er)&&(tr===null?St.removeAttribute(er):St.setAttribute(er,""+tr)):nr.mustUseProperty?St[nr.propertyName]=tr===null?nr.type===3?!1:"":tr:(er=nr.attributeName,rr=nr.attributeNamespace,tr===null?St.removeAttribute(er):(nr=nr.type,tr=nr===3||nr===4&&tr===!0?"":""+tr,rr?St.setAttributeNS(rr,er,tr):St.setAttribute(er,tr))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(St){return St===null||typeof St!="object"?null:(St=Ja&&St[Ja]||St["@@iterator"],typeof St=="function"?St:null)}var A$3=Object.assign,La;function Ma(St){if(La===void 0)try{throw Error()}catch(tr){var er=tr.stack.trim().match(/\n( *(at )?)/);La=er&&er[1]||""}return`
`+La+St}var Na=!1;function Oa(St,er){if(!St||Na)return"";Na=!0;var tr=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(er)if(er=function(){throw Error()},Object.defineProperty(er.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(er,[])}catch(lr){var rr=lr}Reflect.construct(St,[],er)}else{try{er.call()}catch(lr){rr=lr}St.call(er.prototype)}else{try{throw Error()}catch(lr){rr=lr}St()}}catch(lr){if(lr&&rr&&typeof lr.stack=="string"){for(var nr=lr.stack.split(`
`),ar=rr.stack.split(`
`),sr=nr.length-1,ir=ar.length-1;1<=sr&&0<=ir&&nr[sr]!==ar[ir];)ir--;for(;1<=sr&&0<=ir;sr--,ir--)if(nr[sr]!==ar[ir]){if(sr!==1||ir!==1)do if(sr--,ir--,0>ir||nr[sr]!==ar[ir]){var or=`
`+nr[sr].replace(" at new "," at ");return St.displayName&&or.includes("<anonymous>")&&(or=or.replace("<anonymous>",St.displayName)),or}while(1<=sr&&0<=ir);break}}}finally{Na=!1,Error.prepareStackTrace=tr}return(St=St?St.displayName||St.name:"")?Ma(St):""}function Pa(St){switch(St.tag){case 5:return Ma(St.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return St=Oa(St.type,!1),St;case 11:return St=Oa(St.type.render,!1),St;case 1:return St=Oa(St.type,!0),St;default:return""}}function Qa(St){if(St==null)return null;if(typeof St=="function")return St.displayName||St.name||null;if(typeof St=="string")return St;switch(St){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof St=="object")switch(St.$$typeof){case Ca:return(St.displayName||"Context")+".Consumer";case Ba:return(St._context.displayName||"Context")+".Provider";case Da:var er=St.render;return St=St.displayName,St||(St=er.displayName||er.name||"",St=St!==""?"ForwardRef("+St+")":"ForwardRef"),St;case Ga:return er=St.displayName||null,er!==null?er:Qa(St.type)||"Memo";case Ha:er=St._payload,St=St._init;try{return Qa(St(er))}catch{}}return null}function Ra(St){var er=St.type;switch(St.tag){case 24:return"Cache";case 9:return(er.displayName||"Context")+".Consumer";case 10:return(er._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return St=er.render,St=St.displayName||St.name||"",er.displayName||(St!==""?"ForwardRef("+St+")":"ForwardRef");case 7:return"Fragment";case 5:return er;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(er);case 8:return er===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof er=="function")return er.displayName||er.name||null;if(typeof er=="string")return er}return null}function Sa(St){switch(typeof St){case"boolean":case"number":case"string":case"undefined":return St;case"object":return St;default:return""}}function Ta(St){var er=St.type;return(St=St.nodeName)&&St.toLowerCase()==="input"&&(er==="checkbox"||er==="radio")}function Ua(St){var er=Ta(St)?"checked":"value",tr=Object.getOwnPropertyDescriptor(St.constructor.prototype,er),rr=""+St[er];if(!St.hasOwnProperty(er)&&typeof tr<"u"&&typeof tr.get=="function"&&typeof tr.set=="function"){var nr=tr.get,ar=tr.set;return Object.defineProperty(St,er,{configurable:!0,get:function(){return nr.call(this)},set:function(sr){rr=""+sr,ar.call(this,sr)}}),Object.defineProperty(St,er,{enumerable:tr.enumerable}),{getValue:function(){return rr},setValue:function(sr){rr=""+sr},stopTracking:function(){St._valueTracker=null,delete St[er]}}}}function Va(St){St._valueTracker||(St._valueTracker=Ua(St))}function Wa(St){if(!St)return!1;var er=St._valueTracker;if(!er)return!0;var tr=er.getValue(),rr="";return St&&(rr=Ta(St)?St.checked?"true":"false":St.value),St=rr,St!==tr?(er.setValue(St),!0):!1}function Xa(St){if(St=St||(typeof document<"u"?document:void 0),typeof St>"u")return null;try{return St.activeElement||St.body}catch{return St.body}}function Ya(St,er){var tr=er.checked;return A$3({},er,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:tr??St._wrapperState.initialChecked})}function Za(St,er){var tr=er.defaultValue==null?"":er.defaultValue,rr=er.checked!=null?er.checked:er.defaultChecked;tr=Sa(er.value!=null?er.value:tr),St._wrapperState={initialChecked:rr,initialValue:tr,controlled:er.type==="checkbox"||er.type==="radio"?er.checked!=null:er.value!=null}}function ab(St,er){er=er.checked,er!=null&&ta(St,"checked",er,!1)}function bb(St,er){ab(St,er);var tr=Sa(er.value),rr=er.type;if(tr!=null)rr==="number"?(tr===0&&St.value===""||St.value!=tr)&&(St.value=""+tr):St.value!==""+tr&&(St.value=""+tr);else if(rr==="submit"||rr==="reset"){St.removeAttribute("value");return}er.hasOwnProperty("value")?cb(St,er.type,tr):er.hasOwnProperty("defaultValue")&&cb(St,er.type,Sa(er.defaultValue)),er.checked==null&&er.defaultChecked!=null&&(St.defaultChecked=!!er.defaultChecked)}function db(St,er,tr){if(er.hasOwnProperty("value")||er.hasOwnProperty("defaultValue")){var rr=er.type;if(!(rr!=="submit"&&rr!=="reset"||er.value!==void 0&&er.value!==null))return;er=""+St._wrapperState.initialValue,tr||er===St.value||(St.value=er),St.defaultValue=er}tr=St.name,tr!==""&&(St.name=""),St.defaultChecked=!!St._wrapperState.initialChecked,tr!==""&&(St.name=tr)}function cb(St,er,tr){(er!=="number"||Xa(St.ownerDocument)!==St)&&(tr==null?St.defaultValue=""+St._wrapperState.initialValue:St.defaultValue!==""+tr&&(St.defaultValue=""+tr))}var eb=Array.isArray;function fb(St,er,tr,rr){if(St=St.options,er){er={};for(var nr=0;nr<tr.length;nr++)er["$"+tr[nr]]=!0;for(tr=0;tr<St.length;tr++)nr=er.hasOwnProperty("$"+St[tr].value),St[tr].selected!==nr&&(St[tr].selected=nr),nr&&rr&&(St[tr].defaultSelected=!0)}else{for(tr=""+Sa(tr),er=null,nr=0;nr<St.length;nr++){if(St[nr].value===tr){St[nr].selected=!0,rr&&(St[nr].defaultSelected=!0);return}er!==null||St[nr].disabled||(er=St[nr])}er!==null&&(er.selected=!0)}}function gb(St,er){if(er.dangerouslySetInnerHTML!=null)throw Error(p$5(91));return A$3({},er,{value:void 0,defaultValue:void 0,children:""+St._wrapperState.initialValue})}function hb(St,er){var tr=er.value;if(tr==null){if(tr=er.children,er=er.defaultValue,tr!=null){if(er!=null)throw Error(p$5(92));if(eb(tr)){if(1<tr.length)throw Error(p$5(93));tr=tr[0]}er=tr}er==null&&(er=""),tr=er}St._wrapperState={initialValue:Sa(tr)}}function ib(St,er){var tr=Sa(er.value),rr=Sa(er.defaultValue);tr!=null&&(tr=""+tr,tr!==St.value&&(St.value=tr),er.defaultValue==null&&St.defaultValue!==tr&&(St.defaultValue=tr)),rr!=null&&(St.defaultValue=""+rr)}function jb(St){var er=St.textContent;er===St._wrapperState.initialValue&&er!==""&&er!==null&&(St.value=er)}function kb(St){switch(St){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(St,er){return St==null||St==="http://www.w3.org/1999/xhtml"?kb(er):St==="http://www.w3.org/2000/svg"&&er==="foreignObject"?"http://www.w3.org/1999/xhtml":St}var mb,nb=function(St){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(er,tr,rr,nr){MSApp.execUnsafeLocalFunction(function(){return St(er,tr,rr,nr)})}:St}(function(St,er){if(St.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in St)St.innerHTML=er;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+er.valueOf().toString()+"</svg>",er=mb.firstChild;St.firstChild;)St.removeChild(St.firstChild);for(;er.firstChild;)St.appendChild(er.firstChild)}});function ob(St,er){if(er){var tr=St.firstChild;if(tr&&tr===St.lastChild&&tr.nodeType===3){tr.nodeValue=er;return}}St.textContent=er}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(St){qb.forEach(function(er){er=er+St.charAt(0).toUpperCase()+St.substring(1),pb[er]=pb[St]})});function rb(St,er,tr){return er==null||typeof er=="boolean"||er===""?"":tr||typeof er!="number"||er===0||pb.hasOwnProperty(St)&&pb[St]?(""+er).trim():er+"px"}function sb(St,er){St=St.style;for(var tr in er)if(er.hasOwnProperty(tr)){var rr=tr.indexOf("--")===0,nr=rb(tr,er[tr],rr);tr==="float"&&(tr="cssFloat"),rr?St.setProperty(tr,nr):St[tr]=nr}}var tb=A$3({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(St,er){if(er){if(tb[St]&&(er.children!=null||er.dangerouslySetInnerHTML!=null))throw Error(p$5(137,St));if(er.dangerouslySetInnerHTML!=null){if(er.children!=null)throw Error(p$5(60));if(typeof er.dangerouslySetInnerHTML!="object"||!("__html"in er.dangerouslySetInnerHTML))throw Error(p$5(61))}if(er.style!=null&&typeof er.style!="object")throw Error(p$5(62))}}function vb(St,er){if(St.indexOf("-")===-1)return typeof er.is=="string";switch(St){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(St){return St=St.target||St.srcElement||window,St.correspondingUseElement&&(St=St.correspondingUseElement),St.nodeType===3?St.parentNode:St}var yb=null,zb=null,Ab=null;function Bb(St){if(St=Cb(St)){if(typeof yb!="function")throw Error(p$5(280));var er=St.stateNode;er&&(er=Db(er),yb(St.stateNode,St.type,er))}}function Eb(St){zb?Ab?Ab.push(St):Ab=[St]:zb=St}function Fb(){if(zb){var St=zb,er=Ab;if(Ab=zb=null,Bb(St),er)for(St=0;St<er.length;St++)Bb(er[St])}}function Gb(St,er){return St(er)}function Hb(){}var Ib=!1;function Jb(St,er,tr){if(Ib)return St(er,tr);Ib=!0;try{return Gb(St,er,tr)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(St,er){var tr=St.stateNode;if(tr===null)return null;var rr=Db(tr);if(rr===null)return null;tr=rr[er];e:switch(er){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(rr=!rr.disabled)||(St=St.type,rr=!(St==="button"||St==="input"||St==="select"||St==="textarea")),St=!rr;break e;default:St=!1}if(St)return null;if(tr&&typeof tr!="function")throw Error(p$5(231,er,typeof tr));return tr}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(St,er,tr,rr,nr,ar,sr,ir,or){var lr=Array.prototype.slice.call(arguments,3);try{er.apply(tr,lr)}catch(cr){this.onError(cr)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(St){Ob=!0,Pb=St}};function Tb(St,er,tr,rr,nr,ar,sr,ir,or){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(St,er,tr,rr,nr,ar,sr,ir,or){if(Tb.apply(this,arguments),Ob){if(Ob){var lr=Pb;Ob=!1,Pb=null}else throw Error(p$5(198));Qb||(Qb=!0,Rb=lr)}}function Vb(St){var er=St,tr=St;if(St.alternate)for(;er.return;)er=er.return;else{St=er;do er=St,er.flags&4098&&(tr=er.return),St=er.return;while(St)}return er.tag===3?tr:null}function Wb(St){if(St.tag===13){var er=St.memoizedState;if(er===null&&(St=St.alternate,St!==null&&(er=St.memoizedState)),er!==null)return er.dehydrated}return null}function Xb(St){if(Vb(St)!==St)throw Error(p$5(188))}function Yb(St){var er=St.alternate;if(!er){if(er=Vb(St),er===null)throw Error(p$5(188));return er!==St?null:St}for(var tr=St,rr=er;;){var nr=tr.return;if(nr===null)break;var ar=nr.alternate;if(ar===null){if(rr=nr.return,rr!==null){tr=rr;continue}break}if(nr.child===ar.child){for(ar=nr.child;ar;){if(ar===tr)return Xb(nr),St;if(ar===rr)return Xb(nr),er;ar=ar.sibling}throw Error(p$5(188))}if(tr.return!==rr.return)tr=nr,rr=ar;else{for(var sr=!1,ir=nr.child;ir;){if(ir===tr){sr=!0,tr=nr,rr=ar;break}if(ir===rr){sr=!0,rr=nr,tr=ar;break}ir=ir.sibling}if(!sr){for(ir=ar.child;ir;){if(ir===tr){sr=!0,tr=ar,rr=nr;break}if(ir===rr){sr=!0,rr=ar,tr=nr;break}ir=ir.sibling}if(!sr)throw Error(p$5(189))}}if(tr.alternate!==rr)throw Error(p$5(190))}if(tr.tag!==3)throw Error(p$5(188));return tr.stateNode.current===tr?St:er}function Zb(St){return St=Yb(St),St!==null?$b(St):null}function $b(St){if(St.tag===5||St.tag===6)return St;for(St=St.child;St!==null;){var er=$b(St);if(er!==null)return er;St=St.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$3=ca.unstable_now,ec$1=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc$1=null;function mc(St){if(lc$1&&typeof lc$1.onCommitFiberRoot=="function")try{lc$1.onCommitFiberRoot(kc,St,void 0,(St.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(St){return St>>>=0,St===0?32:31-(pc(St)/qc|0)|0}var rc=64,sc=4194304;function tc(St){switch(St&-St){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return St&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return St&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return St}}function uc(St,er){var tr=St.pendingLanes;if(tr===0)return 0;var rr=0,nr=St.suspendedLanes,ar=St.pingedLanes,sr=tr&268435455;if(sr!==0){var ir=sr&~nr;ir!==0?rr=tc(ir):(ar&=sr,ar!==0&&(rr=tc(ar)))}else sr=tr&~nr,sr!==0?rr=tc(sr):ar!==0&&(rr=tc(ar));if(rr===0)return 0;if(er!==0&&er!==rr&&!(er&nr)&&(nr=rr&-rr,ar=er&-er,nr>=ar||nr===16&&(ar&4194240)!==0))return er;if(rr&4&&(rr|=tr&16),er=St.entangledLanes,er!==0)for(St=St.entanglements,er&=rr;0<er;)tr=31-oc(er),nr=1<<tr,rr|=St[tr],er&=~nr;return rr}function vc(St,er){switch(St){case 1:case 2:case 4:return er+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return er+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(St,er){for(var tr=St.suspendedLanes,rr=St.pingedLanes,nr=St.expirationTimes,ar=St.pendingLanes;0<ar;){var sr=31-oc(ar),ir=1<<sr,or=nr[sr];or===-1?(!(ir&tr)||ir&rr)&&(nr[sr]=vc(ir,er)):or<=er&&(St.expiredLanes|=ir),ar&=~ir}}function xc(St){return St=St.pendingLanes&-1073741825,St!==0?St:St&1073741824?1073741824:0}function yc(){var St=rc;return rc<<=1,!(rc&4194240)&&(rc=64),St}function zc(St){for(var er=[],tr=0;31>tr;tr++)er.push(St);return er}function Ac(St,er,tr){St.pendingLanes|=er,er!==536870912&&(St.suspendedLanes=0,St.pingedLanes=0),St=St.eventTimes,er=31-oc(er),St[er]=tr}function Bc(St,er){var tr=St.pendingLanes&~er;St.pendingLanes=er,St.suspendedLanes=0,St.pingedLanes=0,St.expiredLanes&=er,St.mutableReadLanes&=er,St.entangledLanes&=er,er=St.entanglements;var rr=St.eventTimes;for(St=St.expirationTimes;0<tr;){var nr=31-oc(tr),ar=1<<nr;er[nr]=0,rr[nr]=-1,St[nr]=-1,tr&=~ar}}function Cc(St,er){var tr=St.entangledLanes|=er;for(St=St.entanglements;tr;){var rr=31-oc(tr),nr=1<<rr;nr&er|St[rr]&er&&(St[rr]|=er),tr&=~nr}}var C$6=0;function Dc(St){return St&=-St,1<St?4<St?St&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(St,er){switch(St){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(er.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(er.pointerId)}}function Tc(St,er,tr,rr,nr,ar){return St===null||St.nativeEvent!==ar?(St={blockedOn:er,domEventName:tr,eventSystemFlags:rr,nativeEvent:ar,targetContainers:[nr]},er!==null&&(er=Cb(er),er!==null&&Fc(er)),St):(St.eventSystemFlags|=rr,er=St.targetContainers,nr!==null&&er.indexOf(nr)===-1&&er.push(nr),St)}function Uc(St,er,tr,rr,nr){switch(er){case"focusin":return Lc=Tc(Lc,St,er,tr,rr,nr),!0;case"dragenter":return Mc=Tc(Mc,St,er,tr,rr,nr),!0;case"mouseover":return Nc=Tc(Nc,St,er,tr,rr,nr),!0;case"pointerover":var ar=nr.pointerId;return Oc.set(ar,Tc(Oc.get(ar)||null,St,er,tr,rr,nr)),!0;case"gotpointercapture":return ar=nr.pointerId,Pc.set(ar,Tc(Pc.get(ar)||null,St,er,tr,rr,nr)),!0}return!1}function Vc(St){var er=Wc(St.target);if(er!==null){var tr=Vb(er);if(tr!==null){if(er=tr.tag,er===13){if(er=Wb(tr),er!==null){St.blockedOn=er,Ic(St.priority,function(){Gc(tr)});return}}else if(er===3&&tr.stateNode.current.memoizedState.isDehydrated){St.blockedOn=tr.tag===3?tr.stateNode.containerInfo:null;return}}}St.blockedOn=null}function Xc(St){if(St.blockedOn!==null)return!1;for(var er=St.targetContainers;0<er.length;){var tr=Yc(St.domEventName,St.eventSystemFlags,er[0],St.nativeEvent);if(tr===null){tr=St.nativeEvent;var rr=new tr.constructor(tr.type,tr);wb=rr,tr.target.dispatchEvent(rr),wb=null}else return er=Cb(tr),er!==null&&Fc(er),St.blockedOn=tr,!1;er.shift()}return!0}function Zc(St,er,tr){Xc(St)&&tr.delete(er)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(St,er){St.blockedOn===er&&(St.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(St){function er(nr){return ad(nr,St)}if(0<Kc.length){ad(Kc[0],St);for(var tr=1;tr<Kc.length;tr++){var rr=Kc[tr];rr.blockedOn===St&&(rr.blockedOn=null)}}for(Lc!==null&&ad(Lc,St),Mc!==null&&ad(Mc,St),Nc!==null&&ad(Nc,St),Oc.forEach(er),Pc.forEach(er),tr=0;tr<Qc.length;tr++)rr=Qc[tr],rr.blockedOn===St&&(rr.blockedOn=null);for(;0<Qc.length&&(tr=Qc[0],tr.blockedOn===null);)Vc(tr),tr.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(St,er,tr,rr){var nr=C$6,ar=cd.transition;cd.transition=null;try{C$6=1,fd$1(St,er,tr,rr)}finally{C$6=nr,cd.transition=ar}}function gd(St,er,tr,rr){var nr=C$6,ar=cd.transition;cd.transition=null;try{C$6=4,fd$1(St,er,tr,rr)}finally{C$6=nr,cd.transition=ar}}function fd$1(St,er,tr,rr){if(dd){var nr=Yc(St,er,tr,rr);if(nr===null)hd(St,er,rr,id$2,tr),Sc(St,rr);else if(Uc(nr,St,er,tr,rr))rr.stopPropagation();else if(Sc(St,rr),er&4&&-1<Rc.indexOf(St)){for(;nr!==null;){var ar=Cb(nr);if(ar!==null&&Ec(ar),ar=Yc(St,er,tr,rr),ar===null&&hd(St,er,rr,id$2,tr),ar===nr)break;nr=ar}nr!==null&&rr.stopPropagation()}else hd(St,er,rr,null,tr)}}var id$2=null;function Yc(St,er,tr,rr){if(id$2=null,St=xb(rr),St=Wc(St),St!==null)if(er=Vb(St),er===null)St=null;else if(tr=er.tag,tr===13){if(St=Wb(er),St!==null)return St;St=null}else if(tr===3){if(er.stateNode.current.memoizedState.isDehydrated)return er.tag===3?er.stateNode.containerInfo:null;St=null}else er!==St&&(St=null);return id$2=St,null}function jd(St){switch(St){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec$1()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var St,er=ld,tr=er.length,rr,nr="value"in kd?kd.value:kd.textContent,ar=nr.length;for(St=0;St<tr&&er[St]===nr[St];St++);var sr=tr-St;for(rr=1;rr<=sr&&er[tr-rr]===nr[ar-rr];rr++);return md=nr.slice(St,1<rr?1-rr:void 0)}function od(St){var er=St.keyCode;return"charCode"in St?(St=St.charCode,St===0&&er===13&&(St=13)):St=er,St===10&&(St=13),32<=St||St===13?St:0}function pd(){return!0}function qd(){return!1}function rd(St){function er(tr,rr,nr,ar,sr){this._reactName=tr,this._targetInst=nr,this.type=rr,this.nativeEvent=ar,this.target=sr,this.currentTarget=null;for(var ir in St)St.hasOwnProperty(ir)&&(tr=St[ir],this[ir]=tr?tr(ar):ar[ir]);return this.isDefaultPrevented=(ar.defaultPrevented!=null?ar.defaultPrevented:ar.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$3(er.prototype,{preventDefault:function(){this.defaultPrevented=!0;var tr=this.nativeEvent;tr&&(tr.preventDefault?tr.preventDefault():typeof tr.returnValue!="unknown"&&(tr.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var tr=this.nativeEvent;tr&&(tr.stopPropagation?tr.stopPropagation():typeof tr.cancelBubble!="unknown"&&(tr.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),er}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(St){return St.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td$1=rd(sd),ud=A$3({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$3({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(St){return St.relatedTarget===void 0?St.fromElement===St.srcElement?St.toElement:St.fromElement:St.relatedTarget},movementX:function(St){return"movementX"in St?St.movementX:(St!==yd&&(yd&&St.type==="mousemove"?(wd=St.screenX-yd.screenX,xd=St.screenY-yd.screenY):xd=wd=0,yd=St),wd)},movementY:function(St){return"movementY"in St?St.movementY:xd}}),Bd=rd(Ad),Cd=A$3({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$3({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$3({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$3({},sd,{clipboardData:function(St){return"clipboardData"in St?St.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$3({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(St){var er=this.nativeEvent;return er.getModifierState?er.getModifierState(St):(St=Od[St])?!!er[St]:!1}function zd(){return Pd}var Qd=A$3({},ud,{key:function(St){if(St.key){var er=Md[St.key]||St.key;if(er!=="Unidentified")return er}return St.type==="keypress"?(St=od(St),St===13?"Enter":String.fromCharCode(St)):St.type==="keydown"||St.type==="keyup"?Nd[St.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(St){return St.type==="keypress"?od(St):0},keyCode:function(St){return St.type==="keydown"||St.type==="keyup"?St.keyCode:0},which:function(St){return St.type==="keypress"?od(St):St.type==="keydown"||St.type==="keyup"?St.keyCode:0}}),Rd=rd(Qd),Sd=A$3({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$3({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$3({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$3({},Ad,{deltaX:function(St){return"deltaX"in St?St.deltaX:"wheelDeltaX"in St?-St.wheelDeltaX:0},deltaY:function(St){return"deltaY"in St?St.deltaY:"wheelDeltaY"in St?-St.wheelDeltaY:"wheelDelta"in St?-St.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$1=ia&&"CompositionEvent"in window,be$1=null;ia&&"documentMode"in document&&(be$1=document.documentMode);var ce$1=ia&&"TextEvent"in window&&!be$1,de$2=ia&&(!ae$1||be$1&&8<be$1&&11>=be$1),ee$2=" ",fe$2=!1;function ge$1(St,er){switch(St){case"keyup":return $d.indexOf(er.keyCode)!==-1;case"keydown":return er.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$1(St){return St=St.detail,typeof St=="object"&&"data"in St?St.data:null}var ie$1=!1;function je$1(St,er){switch(St){case"compositionend":return he$1(er);case"keypress":return er.which!==32?null:(fe$2=!0,ee$2);case"textInput":return St=er.data,St===ee$2&&fe$2?null:St;default:return null}}function ke(St,er){if(ie$1)return St==="compositionend"||!ae$1&&ge$1(St,er)?(St=nd(),md=ld=kd=null,ie$1=!1,St):null;switch(St){case"paste":return null;case"keypress":if(!(er.ctrlKey||er.altKey||er.metaKey)||er.ctrlKey&&er.altKey){if(er.char&&1<er.char.length)return er.char;if(er.which)return String.fromCharCode(er.which)}return null;case"compositionend":return de$2&&er.locale!=="ko"?null:er.data;default:return null}}var le$1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$2(St){var er=St&&St.nodeName&&St.nodeName.toLowerCase();return er==="input"?!!le$1[St.type]:er==="textarea"}function ne$3(St,er,tr,rr){Eb(rr),er=oe$2(er,"onChange"),0<er.length&&(tr=new td$1("onChange","change",null,tr,rr),St.push({event:tr,listeners:er}))}var pe$1=null,qe$1=null;function re$3(St){se$1(St,0)}function te$2(St){var er=ue$2(St);if(Wa(er))return St}function ve$1(St,er){if(St==="change")return er}var we$2=!1;if(ia){var xe;if(ia){var ye$1="oninput"in document;if(!ye$1){var ze$2=document.createElement("div");ze$2.setAttribute("oninput","return;"),ye$1=typeof ze$2.oninput=="function"}xe=ye$1}else xe=!1;we$2=xe&&(!document.documentMode||9<document.documentMode)}function Ae$1(){pe$1&&(pe$1.detachEvent("onpropertychange",Be$1),qe$1=pe$1=null)}function Be$1(St){if(St.propertyName==="value"&&te$2(qe$1)){var er=[];ne$3(er,qe$1,St,xb(St)),Jb(re$3,er)}}function Ce(St,er,tr){St==="focusin"?(Ae$1(),pe$1=er,qe$1=tr,pe$1.attachEvent("onpropertychange",Be$1)):St==="focusout"&&Ae$1()}function De$1(St){if(St==="selectionchange"||St==="keyup"||St==="keydown")return te$2(qe$1)}function Ee(St,er){if(St==="click")return te$2(er)}function Fe$1(St,er){if(St==="input"||St==="change")return te$2(er)}function Ge$1(St,er){return St===er&&(St!==0||1/St===1/er)||St!==St&&er!==er}var He$2=typeof Object.is=="function"?Object.is:Ge$1;function Ie$1(St,er){if(He$2(St,er))return!0;if(typeof St!="object"||St===null||typeof er!="object"||er===null)return!1;var tr=Object.keys(St),rr=Object.keys(er);if(tr.length!==rr.length)return!1;for(rr=0;rr<tr.length;rr++){var nr=tr[rr];if(!ja.call(er,nr)||!He$2(St[nr],er[nr]))return!1}return!0}function Je$1(St){for(;St&&St.firstChild;)St=St.firstChild;return St}function Ke$1(St,er){var tr=Je$1(St);St=0;for(var rr;tr;){if(tr.nodeType===3){if(rr=St+tr.textContent.length,St<=er&&rr>=er)return{node:tr,offset:er-St};St=rr}e:{for(;tr;){if(tr.nextSibling){tr=tr.nextSibling;break e}tr=tr.parentNode}tr=void 0}tr=Je$1(tr)}}function Le$2(St,er){return St&&er?St===er?!0:St&&St.nodeType===3?!1:er&&er.nodeType===3?Le$2(St,er.parentNode):"contains"in St?St.contains(er):St.compareDocumentPosition?!!(St.compareDocumentPosition(er)&16):!1:!1}function Me(){for(var St=window,er=Xa();er instanceof St.HTMLIFrameElement;){try{var tr=typeof er.contentWindow.location.href=="string"}catch{tr=!1}if(tr)St=er.contentWindow;else break;er=Xa(St.document)}return er}function Ne$2(St){var er=St&&St.nodeName&&St.nodeName.toLowerCase();return er&&(er==="input"&&(St.type==="text"||St.type==="search"||St.type==="tel"||St.type==="url"||St.type==="password")||er==="textarea"||St.contentEditable==="true")}function Oe(St){var er=Me(),tr=St.focusedElem,rr=St.selectionRange;if(er!==tr&&tr&&tr.ownerDocument&&Le$2(tr.ownerDocument.documentElement,tr)){if(rr!==null&&Ne$2(tr)){if(er=rr.start,St=rr.end,St===void 0&&(St=er),"selectionStart"in tr)tr.selectionStart=er,tr.selectionEnd=Math.min(St,tr.value.length);else if(St=(er=tr.ownerDocument||document)&&er.defaultView||window,St.getSelection){St=St.getSelection();var nr=tr.textContent.length,ar=Math.min(rr.start,nr);rr=rr.end===void 0?ar:Math.min(rr.end,nr),!St.extend&&ar>rr&&(nr=rr,rr=ar,ar=nr),nr=Ke$1(tr,ar);var sr=Ke$1(tr,rr);nr&&sr&&(St.rangeCount!==1||St.anchorNode!==nr.node||St.anchorOffset!==nr.offset||St.focusNode!==sr.node||St.focusOffset!==sr.offset)&&(er=er.createRange(),er.setStart(nr.node,nr.offset),St.removeAllRanges(),ar>rr?(St.addRange(er),St.extend(sr.node,sr.offset)):(er.setEnd(sr.node,sr.offset),St.addRange(er)))}}for(er=[],St=tr;St=St.parentNode;)St.nodeType===1&&er.push({element:St,left:St.scrollLeft,top:St.scrollTop});for(typeof tr.focus=="function"&&tr.focus(),tr=0;tr<er.length;tr++)St=er[tr],St.element.scrollLeft=St.left,St.element.scrollTop=St.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re$1=null,Se=null,Te$1=!1;function Ue$1(St,er,tr){var rr=tr.window===tr?tr.document:tr.nodeType===9?tr:tr.ownerDocument;Te$1||Qe==null||Qe!==Xa(rr)||(rr=Qe,"selectionStart"in rr&&Ne$2(rr)?rr={start:rr.selectionStart,end:rr.selectionEnd}:(rr=(rr.ownerDocument&&rr.ownerDocument.defaultView||window).getSelection(),rr={anchorNode:rr.anchorNode,anchorOffset:rr.anchorOffset,focusNode:rr.focusNode,focusOffset:rr.focusOffset}),Se&&Ie$1(Se,rr)||(Se=rr,rr=oe$2(Re$1,"onSelect"),0<rr.length&&(er=new td$1("onSelect","select",null,er,tr),St.push({event:er,listeners:rr}),er.target=Qe)))}function Ve$1(St,er){var tr={};return tr[St.toLowerCase()]=er.toLowerCase(),tr["Webkit"+St]="webkit"+er,tr["Moz"+St]="moz"+er,tr}var We$1={animationend:Ve$1("Animation","AnimationEnd"),animationiteration:Ve$1("Animation","AnimationIteration"),animationstart:Ve$1("Animation","AnimationStart"),transitionend:Ve$1("Transition","TransitionEnd")},Xe$1={},Ye$1={};ia&&(Ye$1=document.createElement("div").style,"AnimationEvent"in window||(delete We$1.animationend.animation,delete We$1.animationiteration.animation,delete We$1.animationstart.animation),"TransitionEvent"in window||delete We$1.transitionend.transition);function Ze(St){if(Xe$1[St])return Xe$1[St];if(!We$1[St])return St;var er=We$1[St],tr;for(tr in er)if(er.hasOwnProperty(tr)&&tr in Ye$1)return Xe$1[St]=er[tr];return St}var $e$1=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(St,er){df.set(St,er),fa(er,[St])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e$1,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(St,er,tr){var rr=St.type||"unknown-event";St.currentTarget=tr,Ub(rr,er,void 0,St),St.currentTarget=null}function se$1(St,er){er=(er&4)!==0;for(var tr=0;tr<St.length;tr++){var rr=St[tr],nr=rr.event;rr=rr.listeners;e:{var ar=void 0;if(er)for(var sr=rr.length-1;0<=sr;sr--){var ir=rr[sr],or=ir.instance,lr=ir.currentTarget;if(ir=ir.listener,or!==ar&&nr.isPropagationStopped())break e;nf(nr,ir,lr),ar=or}else for(sr=0;sr<rr.length;sr++){if(ir=rr[sr],or=ir.instance,lr=ir.currentTarget,ir=ir.listener,or!==ar&&nr.isPropagationStopped())break e;nf(nr,ir,lr),ar=or}}}if(Qb)throw St=Rb,Qb=!1,Rb=null,St}function D$3(St,er){var tr=er[of];tr===void 0&&(tr=er[of]=new Set);var rr=St+"__bubble";tr.has(rr)||(pf(er,St,2,!1),tr.add(rr))}function qf(St,er,tr){var rr=0;er&&(rr|=4),pf(tr,St,rr,er)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(St){if(!St[rf]){St[rf]=!0,da.forEach(function(tr){tr!=="selectionchange"&&(mf.has(tr)||qf(tr,!1,St),qf(tr,!0,St))});var er=St.nodeType===9?St:St.ownerDocument;er===null||er[rf]||(er[rf]=!0,qf("selectionchange",!1,er))}}function pf(St,er,tr,rr){switch(jd(er)){case 1:var nr=ed;break;case 4:nr=gd;break;default:nr=fd$1}tr=nr.bind(null,er,tr,St),nr=void 0,!Lb||er!=="touchstart"&&er!=="touchmove"&&er!=="wheel"||(nr=!0),rr?nr!==void 0?St.addEventListener(er,tr,{capture:!0,passive:nr}):St.addEventListener(er,tr,!0):nr!==void 0?St.addEventListener(er,tr,{passive:nr}):St.addEventListener(er,tr,!1)}function hd(St,er,tr,rr,nr){var ar=rr;if(!(er&1)&&!(er&2)&&rr!==null)e:for(;;){if(rr===null)return;var sr=rr.tag;if(sr===3||sr===4){var ir=rr.stateNode.containerInfo;if(ir===nr||ir.nodeType===8&&ir.parentNode===nr)break;if(sr===4)for(sr=rr.return;sr!==null;){var or=sr.tag;if((or===3||or===4)&&(or=sr.stateNode.containerInfo,or===nr||or.nodeType===8&&or.parentNode===nr))return;sr=sr.return}for(;ir!==null;){if(sr=Wc(ir),sr===null)return;if(or=sr.tag,or===5||or===6){rr=ar=sr;continue e}ir=ir.parentNode}}rr=rr.return}Jb(function(){var lr=ar,cr=xb(tr),ur=[];e:{var dr=df.get(St);if(dr!==void 0){var fr=td$1,mr=St;switch(St){case"keypress":if(od(tr)===0)break e;case"keydown":case"keyup":fr=Rd;break;case"focusin":mr="focus",fr=Fd;break;case"focusout":mr="blur",fr=Fd;break;case"beforeblur":case"afterblur":fr=Fd;break;case"click":if(tr.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fr=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fr=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fr=Vd;break;case $e$1:case af:case bf:fr=Hd;break;case cf:fr=Xd;break;case"scroll":fr=vd;break;case"wheel":fr=Zd;break;case"copy":case"cut":case"paste":fr=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fr=Td}var xr=(er&4)!==0,pr=!xr&&St==="scroll",hr=xr?dr!==null?dr+"Capture":null:dr;xr=[];for(var gr=lr,vr;gr!==null;){vr=gr;var br=vr.stateNode;if(vr.tag===5&&br!==null&&(vr=br,hr!==null&&(br=Kb(gr,hr),br!=null&&xr.push(tf(gr,br,vr)))),pr)break;gr=gr.return}0<xr.length&&(dr=new fr(dr,mr,null,tr,cr),ur.push({event:dr,listeners:xr}))}}if(!(er&7)){e:{if(dr=St==="mouseover"||St==="pointerover",fr=St==="mouseout"||St==="pointerout",dr&&tr!==wb&&(mr=tr.relatedTarget||tr.fromElement)&&(Wc(mr)||mr[uf]))break e;if((fr||dr)&&(dr=cr.window===cr?cr:(dr=cr.ownerDocument)?dr.defaultView||dr.parentWindow:window,fr?(mr=tr.relatedTarget||tr.toElement,fr=lr,mr=mr?Wc(mr):null,mr!==null&&(pr=Vb(mr),mr!==pr||mr.tag!==5&&mr.tag!==6)&&(mr=null)):(fr=null,mr=lr),fr!==mr)){if(xr=Bd,br="onMouseLeave",hr="onMouseEnter",gr="mouse",(St==="pointerout"||St==="pointerover")&&(xr=Td,br="onPointerLeave",hr="onPointerEnter",gr="pointer"),pr=fr==null?dr:ue$2(fr),vr=mr==null?dr:ue$2(mr),dr=new xr(br,gr+"leave",fr,tr,cr),dr.target=pr,dr.relatedTarget=vr,br=null,Wc(cr)===lr&&(xr=new xr(hr,gr+"enter",mr,tr,cr),xr.target=vr,xr.relatedTarget=pr,br=xr),pr=br,fr&&mr)t:{for(xr=fr,hr=mr,gr=0,vr=xr;vr;vr=vf(vr))gr++;for(vr=0,br=hr;br;br=vf(br))vr++;for(;0<gr-vr;)xr=vf(xr),gr--;for(;0<vr-gr;)hr=vf(hr),vr--;for(;gr--;){if(xr===hr||hr!==null&&xr===hr.alternate)break t;xr=vf(xr),hr=vf(hr)}xr=null}else xr=null;fr!==null&&wf(ur,dr,fr,xr,!1),mr!==null&&pr!==null&&wf(ur,pr,mr,xr,!0)}}e:{if(dr=lr?ue$2(lr):window,fr=dr.nodeName&&dr.nodeName.toLowerCase(),fr==="select"||fr==="input"&&dr.type==="file")var yr=ve$1;else if(me$2(dr))if(we$2)yr=Fe$1;else{yr=De$1;var Er=Ce}else(fr=dr.nodeName)&&fr.toLowerCase()==="input"&&(dr.type==="checkbox"||dr.type==="radio")&&(yr=Ee);if(yr&&(yr=yr(St,lr))){ne$3(ur,yr,tr,cr);break e}Er&&Er(St,dr,lr),St==="focusout"&&(Er=dr._wrapperState)&&Er.controlled&&dr.type==="number"&&cb(dr,"number",dr.value)}switch(Er=lr?ue$2(lr):window,St){case"focusin":(me$2(Er)||Er.contentEditable==="true")&&(Qe=Er,Re$1=lr,Se=null);break;case"focusout":Se=Re$1=Qe=null;break;case"mousedown":Te$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$1=!1,Ue$1(ur,tr,cr);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue$1(ur,tr,cr)}var jr;if(ae$1)e:{switch(St){case"compositionstart":var _r="onCompositionStart";break e;case"compositionend":_r="onCompositionEnd";break e;case"compositionupdate":_r="onCompositionUpdate";break e}_r=void 0}else ie$1?ge$1(St,tr)&&(_r="onCompositionEnd"):St==="keydown"&&tr.keyCode===229&&(_r="onCompositionStart");_r&&(de$2&&tr.locale!=="ko"&&(ie$1||_r!=="onCompositionStart"?_r==="onCompositionEnd"&&ie$1&&(jr=nd()):(kd=cr,ld="value"in kd?kd.value:kd.textContent,ie$1=!0)),Er=oe$2(lr,_r),0<Er.length&&(_r=new Ld(_r,St,null,tr,cr),ur.push({event:_r,listeners:Er}),jr?_r.data=jr:(jr=he$1(tr),jr!==null&&(_r.data=jr)))),(jr=ce$1?je$1(St,tr):ke(St,tr))&&(lr=oe$2(lr,"onBeforeInput"),0<lr.length&&(cr=new Ld("onBeforeInput","beforeinput",null,tr,cr),ur.push({event:cr,listeners:lr}),cr.data=jr))}se$1(ur,er)})}function tf(St,er,tr){return{instance:St,listener:er,currentTarget:tr}}function oe$2(St,er){for(var tr=er+"Capture",rr=[];St!==null;){var nr=St,ar=nr.stateNode;nr.tag===5&&ar!==null&&(nr=ar,ar=Kb(St,tr),ar!=null&&rr.unshift(tf(St,ar,nr)),ar=Kb(St,er),ar!=null&&rr.push(tf(St,ar,nr))),St=St.return}return rr}function vf(St){if(St===null)return null;do St=St.return;while(St&&St.tag!==5);return St||null}function wf(St,er,tr,rr,nr){for(var ar=er._reactName,sr=[];tr!==null&&tr!==rr;){var ir=tr,or=ir.alternate,lr=ir.stateNode;if(or!==null&&or===rr)break;ir.tag===5&&lr!==null&&(ir=lr,nr?(or=Kb(tr,ar),or!=null&&sr.unshift(tf(tr,or,ir))):nr||(or=Kb(tr,ar),or!=null&&sr.push(tf(tr,or,ir)))),tr=tr.return}sr.length!==0&&St.push({event:er,listeners:sr})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(St){return(typeof St=="string"?St:""+St).replace(xf,`
`).replace(yf,"")}function Af(St,er,tr){if(er=zf(er),zf(St)!==er&&tr)throw Error(p$5(425))}function Bf(){}var Cf=null,Df=null;function Ef(St,er){return St==="textarea"||St==="noscript"||typeof er.children=="string"||typeof er.children=="number"||typeof er.dangerouslySetInnerHTML=="object"&&er.dangerouslySetInnerHTML!==null&&er.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(St){return Hf.resolve(null).then(St).catch(If)}:Ff;function If(St){setTimeout(function(){throw St})}function Kf(St,er){var tr=er,rr=0;do{var nr=tr.nextSibling;if(St.removeChild(tr),nr&&nr.nodeType===8)if(tr=nr.data,tr==="/$"){if(rr===0){St.removeChild(nr),bd(er);return}rr--}else tr!=="$"&&tr!=="$?"&&tr!=="$!"||rr++;tr=nr}while(tr);bd(er)}function Lf(St){for(;St!=null;St=St.nextSibling){var er=St.nodeType;if(er===1||er===3)break;if(er===8){if(er=St.data,er==="$"||er==="$!"||er==="$?")break;if(er==="/$")return null}}return St}function Mf(St){St=St.previousSibling;for(var er=0;St;){if(St.nodeType===8){var tr=St.data;if(tr==="$"||tr==="$!"||tr==="$?"){if(er===0)return St;er--}else tr==="/$"&&er++}St=St.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(St){var er=St[Of];if(er)return er;for(var tr=St.parentNode;tr;){if(er=tr[uf]||tr[Of]){if(tr=er.alternate,er.child!==null||tr!==null&&tr.child!==null)for(St=Mf(St);St!==null;){if(tr=St[Of])return tr;St=Mf(St)}return er}St=tr,tr=St.parentNode}return null}function Cb(St){return St=St[Of]||St[uf],!St||St.tag!==5&&St.tag!==6&&St.tag!==13&&St.tag!==3?null:St}function ue$2(St){if(St.tag===5||St.tag===6)return St.stateNode;throw Error(p$5(33))}function Db(St){return St[Pf]||null}var Sf=[],Tf=-1;function Uf(St){return{current:St}}function E$3(St){0>Tf||(St.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$3(St,er){Tf++,Sf[Tf]=St.current,St.current=er}var Vf={},H$6=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(St,er){var tr=St.type.contextTypes;if(!tr)return Vf;var rr=St.stateNode;if(rr&&rr.__reactInternalMemoizedUnmaskedChildContext===er)return rr.__reactInternalMemoizedMaskedChildContext;var nr={},ar;for(ar in tr)nr[ar]=er[ar];return rr&&(St=St.stateNode,St.__reactInternalMemoizedUnmaskedChildContext=er,St.__reactInternalMemoizedMaskedChildContext=nr),nr}function Zf(St){return St=St.childContextTypes,St!=null}function $f(){E$3(Wf),E$3(H$6)}function ag(St,er,tr){if(H$6.current!==Vf)throw Error(p$5(168));G$3(H$6,er),G$3(Wf,tr)}function bg(St,er,tr){var rr=St.stateNode;if(er=er.childContextTypes,typeof rr.getChildContext!="function")return tr;rr=rr.getChildContext();for(var nr in rr)if(!(nr in er))throw Error(p$5(108,Ra(St)||"Unknown",nr));return A$3({},tr,rr)}function cg(St){return St=(St=St.stateNode)&&St.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$6.current,G$3(H$6,St),G$3(Wf,Wf.current),!0}function dg(St,er,tr){var rr=St.stateNode;if(!rr)throw Error(p$5(169));tr?(St=bg(St,er,Xf),rr.__reactInternalMemoizedMergedChildContext=St,E$3(Wf),E$3(H$6),G$3(H$6,St)):E$3(Wf),G$3(Wf,tr)}var eg=null,fg=!1,gg=!1;function hg(St){eg===null?eg=[St]:eg.push(St)}function ig(St){fg=!0,hg(St)}function jg(){if(!gg&&eg!==null){gg=!0;var St=0,er=C$6;try{var tr=eg;for(C$6=1;St<tr.length;St++){var rr=tr[St];do rr=rr(!0);while(rr!==null)}eg=null,fg=!1}catch(nr){throw eg!==null&&(eg=eg.slice(St+1)),ac(fc,jg),nr}finally{C$6=er,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(St,er){kg[lg++]=ng,kg[lg++]=mg,mg=St,ng=er}function ug(St,er,tr){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=St;var rr=rg;St=sg;var nr=32-oc(rr)-1;rr&=~(1<<nr),tr+=1;var ar=32-oc(er)+nr;if(30<ar){var sr=nr-nr%5;ar=(rr&(1<<sr)-1).toString(32),rr>>=sr,nr-=sr,rg=1<<32-oc(er)+nr|tr<<nr|rr,sg=ar+St}else rg=1<<ar|tr<<nr|rr,sg=St}function vg(St){St.return!==null&&(tg(St,1),ug(St,1,0))}function wg(St){for(;St===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;St===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$6=!1,zg=null;function Ag(St,er){var tr=Bg(5,null,null,0);tr.elementType="DELETED",tr.stateNode=er,tr.return=St,er=St.deletions,er===null?(St.deletions=[tr],St.flags|=16):er.push(tr)}function Cg(St,er){switch(St.tag){case 5:var tr=St.type;return er=er.nodeType!==1||tr.toLowerCase()!==er.nodeName.toLowerCase()?null:er,er!==null?(St.stateNode=er,xg=St,yg=Lf(er.firstChild),!0):!1;case 6:return er=St.pendingProps===""||er.nodeType!==3?null:er,er!==null?(St.stateNode=er,xg=St,yg=null,!0):!1;case 13:return er=er.nodeType!==8?null:er,er!==null?(tr=qg!==null?{id:rg,overflow:sg}:null,St.memoizedState={dehydrated:er,treeContext:tr,retryLane:1073741824},tr=Bg(18,null,null,0),tr.stateNode=er,tr.return=St,St.child=tr,xg=St,yg=null,!0):!1;default:return!1}}function Dg(St){return(St.mode&1)!==0&&(St.flags&128)===0}function Eg(St){if(I$6){var er=yg;if(er){var tr=er;if(!Cg(St,er)){if(Dg(St))throw Error(p$5(418));er=Lf(tr.nextSibling);var rr=xg;er&&Cg(St,er)?Ag(rr,tr):(St.flags=St.flags&-4097|2,I$6=!1,xg=St)}}else{if(Dg(St))throw Error(p$5(418));St.flags=St.flags&-4097|2,I$6=!1,xg=St}}}function Fg(St){for(St=St.return;St!==null&&St.tag!==5&&St.tag!==3&&St.tag!==13;)St=St.return;xg=St}function Gg(St){if(St!==xg)return!1;if(!I$6)return Fg(St),I$6=!0,!1;var er;if((er=St.tag!==3)&&!(er=St.tag!==5)&&(er=St.type,er=er!=="head"&&er!=="body"&&!Ef(St.type,St.memoizedProps)),er&&(er=yg)){if(Dg(St))throw Hg(),Error(p$5(418));for(;er;)Ag(St,er),er=Lf(er.nextSibling)}if(Fg(St),St.tag===13){if(St=St.memoizedState,St=St!==null?St.dehydrated:null,!St)throw Error(p$5(317));e:{for(St=St.nextSibling,er=0;St;){if(St.nodeType===8){var tr=St.data;if(tr==="/$"){if(er===0){yg=Lf(St.nextSibling);break e}er--}else tr!=="$"&&tr!=="$!"&&tr!=="$?"||er++}St=St.nextSibling}yg=null}}else yg=xg?Lf(St.stateNode.nextSibling):null;return!0}function Hg(){for(var St=yg;St;)St=Lf(St.nextSibling)}function Ig(){yg=xg=null,I$6=!1}function Jg(St){zg===null?zg=[St]:zg.push(St)}var Kg=ua.ReactCurrentBatchConfig;function Lg(St,er,tr){if(St=tr.ref,St!==null&&typeof St!="function"&&typeof St!="object"){if(tr._owner){if(tr=tr._owner,tr){if(tr.tag!==1)throw Error(p$5(309));var rr=tr.stateNode}if(!rr)throw Error(p$5(147,St));var nr=rr,ar=""+St;return er!==null&&er.ref!==null&&typeof er.ref=="function"&&er.ref._stringRef===ar?er.ref:(er=function(sr){var ir=nr.refs;sr===null?delete ir[ar]:ir[ar]=sr},er._stringRef=ar,er)}if(typeof St!="string")throw Error(p$5(284));if(!tr._owner)throw Error(p$5(290,St))}return St}function Mg(St,er){throw St=Object.prototype.toString.call(er),Error(p$5(31,St==="[object Object]"?"object with keys {"+Object.keys(er).join(", ")+"}":St))}function Ng(St){var er=St._init;return er(St._payload)}function Og(St){function er(hr,gr){if(St){var vr=hr.deletions;vr===null?(hr.deletions=[gr],hr.flags|=16):vr.push(gr)}}function tr(hr,gr){if(!St)return null;for(;gr!==null;)er(hr,gr),gr=gr.sibling;return null}function rr(hr,gr){for(hr=new Map;gr!==null;)gr.key!==null?hr.set(gr.key,gr):hr.set(gr.index,gr),gr=gr.sibling;return hr}function nr(hr,gr){return hr=Pg(hr,gr),hr.index=0,hr.sibling=null,hr}function ar(hr,gr,vr){return hr.index=vr,St?(vr=hr.alternate,vr!==null?(vr=vr.index,vr<gr?(hr.flags|=2,gr):vr):(hr.flags|=2,gr)):(hr.flags|=1048576,gr)}function sr(hr){return St&&hr.alternate===null&&(hr.flags|=2),hr}function ir(hr,gr,vr,br){return gr===null||gr.tag!==6?(gr=Qg(vr,hr.mode,br),gr.return=hr,gr):(gr=nr(gr,vr),gr.return=hr,gr)}function or(hr,gr,vr,br){var yr=vr.type;return yr===ya?cr(hr,gr,vr.props.children,br,vr.key):gr!==null&&(gr.elementType===yr||typeof yr=="object"&&yr!==null&&yr.$$typeof===Ha&&Ng(yr)===gr.type)?(br=nr(gr,vr.props),br.ref=Lg(hr,gr,vr),br.return=hr,br):(br=Rg(vr.type,vr.key,vr.props,null,hr.mode,br),br.ref=Lg(hr,gr,vr),br.return=hr,br)}function lr(hr,gr,vr,br){return gr===null||gr.tag!==4||gr.stateNode.containerInfo!==vr.containerInfo||gr.stateNode.implementation!==vr.implementation?(gr=Sg(vr,hr.mode,br),gr.return=hr,gr):(gr=nr(gr,vr.children||[]),gr.return=hr,gr)}function cr(hr,gr,vr,br,yr){return gr===null||gr.tag!==7?(gr=Tg(vr,hr.mode,br,yr),gr.return=hr,gr):(gr=nr(gr,vr),gr.return=hr,gr)}function ur(hr,gr,vr){if(typeof gr=="string"&&gr!==""||typeof gr=="number")return gr=Qg(""+gr,hr.mode,vr),gr.return=hr,gr;if(typeof gr=="object"&&gr!==null){switch(gr.$$typeof){case va:return vr=Rg(gr.type,gr.key,gr.props,null,hr.mode,vr),vr.ref=Lg(hr,null,gr),vr.return=hr,vr;case wa:return gr=Sg(gr,hr.mode,vr),gr.return=hr,gr;case Ha:var br=gr._init;return ur(hr,br(gr._payload),vr)}if(eb(gr)||Ka(gr))return gr=Tg(gr,hr.mode,vr,null),gr.return=hr,gr;Mg(hr,gr)}return null}function dr(hr,gr,vr,br){var yr=gr!==null?gr.key:null;if(typeof vr=="string"&&vr!==""||typeof vr=="number")return yr!==null?null:ir(hr,gr,""+vr,br);if(typeof vr=="object"&&vr!==null){switch(vr.$$typeof){case va:return vr.key===yr?or(hr,gr,vr,br):null;case wa:return vr.key===yr?lr(hr,gr,vr,br):null;case Ha:return yr=vr._init,dr(hr,gr,yr(vr._payload),br)}if(eb(vr)||Ka(vr))return yr!==null?null:cr(hr,gr,vr,br,null);Mg(hr,vr)}return null}function fr(hr,gr,vr,br,yr){if(typeof br=="string"&&br!==""||typeof br=="number")return hr=hr.get(vr)||null,ir(gr,hr,""+br,yr);if(typeof br=="object"&&br!==null){switch(br.$$typeof){case va:return hr=hr.get(br.key===null?vr:br.key)||null,or(gr,hr,br,yr);case wa:return hr=hr.get(br.key===null?vr:br.key)||null,lr(gr,hr,br,yr);case Ha:var Er=br._init;return fr(hr,gr,vr,Er(br._payload),yr)}if(eb(br)||Ka(br))return hr=hr.get(vr)||null,cr(gr,hr,br,yr,null);Mg(gr,br)}return null}function mr(hr,gr,vr,br){for(var yr=null,Er=null,jr=gr,_r=gr=0,Cr=null;jr!==null&&_r<vr.length;_r++){jr.index>_r?(Cr=jr,jr=null):Cr=jr.sibling;var Or=dr(hr,jr,vr[_r],br);if(Or===null){jr===null&&(jr=Cr);break}St&&jr&&Or.alternate===null&&er(hr,jr),gr=ar(Or,gr,_r),Er===null?yr=Or:Er.sibling=Or,Er=Or,jr=Cr}if(_r===vr.length)return tr(hr,jr),I$6&&tg(hr,_r),yr;if(jr===null){for(;_r<vr.length;_r++)jr=ur(hr,vr[_r],br),jr!==null&&(gr=ar(jr,gr,_r),Er===null?yr=jr:Er.sibling=jr,Er=jr);return I$6&&tg(hr,_r),yr}for(jr=rr(hr,jr);_r<vr.length;_r++)Cr=fr(jr,hr,_r,vr[_r],br),Cr!==null&&(St&&Cr.alternate!==null&&jr.delete(Cr.key===null?_r:Cr.key),gr=ar(Cr,gr,_r),Er===null?yr=Cr:Er.sibling=Cr,Er=Cr);return St&&jr.forEach(function(Pr){return er(hr,Pr)}),I$6&&tg(hr,_r),yr}function xr(hr,gr,vr,br){var yr=Ka(vr);if(typeof yr!="function")throw Error(p$5(150));if(vr=yr.call(vr),vr==null)throw Error(p$5(151));for(var Er=yr=null,jr=gr,_r=gr=0,Cr=null,Or=vr.next();jr!==null&&!Or.done;_r++,Or=vr.next()){jr.index>_r?(Cr=jr,jr=null):Cr=jr.sibling;var Pr=dr(hr,jr,Or.value,br);if(Pr===null){jr===null&&(jr=Cr);break}St&&jr&&Pr.alternate===null&&er(hr,jr),gr=ar(Pr,gr,_r),Er===null?yr=Pr:Er.sibling=Pr,Er=Pr,jr=Cr}if(Or.done)return tr(hr,jr),I$6&&tg(hr,_r),yr;if(jr===null){for(;!Or.done;_r++,Or=vr.next())Or=ur(hr,Or.value,br),Or!==null&&(gr=ar(Or,gr,_r),Er===null?yr=Or:Er.sibling=Or,Er=Or);return I$6&&tg(hr,_r),yr}for(jr=rr(hr,jr);!Or.done;_r++,Or=vr.next())Or=fr(jr,hr,_r,Or.value,br),Or!==null&&(St&&Or.alternate!==null&&jr.delete(Or.key===null?_r:Or.key),gr=ar(Or,gr,_r),Er===null?yr=Or:Er.sibling=Or,Er=Or);return St&&jr.forEach(function(Lr){return er(hr,Lr)}),I$6&&tg(hr,_r),yr}function pr(hr,gr,vr,br){if(typeof vr=="object"&&vr!==null&&vr.type===ya&&vr.key===null&&(vr=vr.props.children),typeof vr=="object"&&vr!==null){switch(vr.$$typeof){case va:e:{for(var yr=vr.key,Er=gr;Er!==null;){if(Er.key===yr){if(yr=vr.type,yr===ya){if(Er.tag===7){tr(hr,Er.sibling),gr=nr(Er,vr.props.children),gr.return=hr,hr=gr;break e}}else if(Er.elementType===yr||typeof yr=="object"&&yr!==null&&yr.$$typeof===Ha&&Ng(yr)===Er.type){tr(hr,Er.sibling),gr=nr(Er,vr.props),gr.ref=Lg(hr,Er,vr),gr.return=hr,hr=gr;break e}tr(hr,Er);break}else er(hr,Er);Er=Er.sibling}vr.type===ya?(gr=Tg(vr.props.children,hr.mode,br,vr.key),gr.return=hr,hr=gr):(br=Rg(vr.type,vr.key,vr.props,null,hr.mode,br),br.ref=Lg(hr,gr,vr),br.return=hr,hr=br)}return sr(hr);case wa:e:{for(Er=vr.key;gr!==null;){if(gr.key===Er)if(gr.tag===4&&gr.stateNode.containerInfo===vr.containerInfo&&gr.stateNode.implementation===vr.implementation){tr(hr,gr.sibling),gr=nr(gr,vr.children||[]),gr.return=hr,hr=gr;break e}else{tr(hr,gr);break}else er(hr,gr);gr=gr.sibling}gr=Sg(vr,hr.mode,br),gr.return=hr,hr=gr}return sr(hr);case Ha:return Er=vr._init,pr(hr,gr,Er(vr._payload),br)}if(eb(vr))return mr(hr,gr,vr,br);if(Ka(vr))return xr(hr,gr,vr,br);Mg(hr,vr)}return typeof vr=="string"&&vr!==""||typeof vr=="number"?(vr=""+vr,gr!==null&&gr.tag===6?(tr(hr,gr.sibling),gr=nr(gr,vr),gr.return=hr,hr=gr):(tr(hr,gr),gr=Qg(vr,hr.mode,br),gr.return=hr,hr=gr),sr(hr)):tr(hr,gr)}return pr}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(St){var er=Wg.current;E$3(Wg),St._currentValue=er}function bh(St,er,tr){for(;St!==null;){var rr=St.alternate;if((St.childLanes&er)!==er?(St.childLanes|=er,rr!==null&&(rr.childLanes|=er)):rr!==null&&(rr.childLanes&er)!==er&&(rr.childLanes|=er),St===tr)break;St=St.return}}function ch(St,er){Xg=St,Zg=Yg=null,St=St.dependencies,St!==null&&St.firstContext!==null&&(St.lanes&er&&(dh=!0),St.firstContext=null)}function eh(St){var er=St._currentValue;if(Zg!==St)if(St={context:St,memoizedValue:er,next:null},Yg===null){if(Xg===null)throw Error(p$5(308));Yg=St,Xg.dependencies={lanes:0,firstContext:St}}else Yg=Yg.next=St;return er}var fh=null;function gh(St){fh===null?fh=[St]:fh.push(St)}function hh(St,er,tr,rr){var nr=er.interleaved;return nr===null?(tr.next=tr,gh(er)):(tr.next=nr.next,nr.next=tr),er.interleaved=tr,ih(St,rr)}function ih(St,er){St.lanes|=er;var tr=St.alternate;for(tr!==null&&(tr.lanes|=er),tr=St,St=St.return;St!==null;)St.childLanes|=er,tr=St.alternate,tr!==null&&(tr.childLanes|=er),tr=St,St=St.return;return tr.tag===3?tr.stateNode:null}var jh=!1;function kh(St){St.updateQueue={baseState:St.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(St,er){St=St.updateQueue,er.updateQueue===St&&(er.updateQueue={baseState:St.baseState,firstBaseUpdate:St.firstBaseUpdate,lastBaseUpdate:St.lastBaseUpdate,shared:St.shared,effects:St.effects})}function mh(St,er){return{eventTime:St,lane:er,tag:0,payload:null,callback:null,next:null}}function nh(St,er,tr){var rr=St.updateQueue;if(rr===null)return null;if(rr=rr.shared,K$3&2){var nr=rr.pending;return nr===null?er.next=er:(er.next=nr.next,nr.next=er),rr.pending=er,ih(St,tr)}return nr=rr.interleaved,nr===null?(er.next=er,gh(rr)):(er.next=nr.next,nr.next=er),rr.interleaved=er,ih(St,tr)}function oh(St,er,tr){if(er=er.updateQueue,er!==null&&(er=er.shared,(tr&4194240)!==0)){var rr=er.lanes;rr&=St.pendingLanes,tr|=rr,er.lanes=tr,Cc(St,tr)}}function ph(St,er){var tr=St.updateQueue,rr=St.alternate;if(rr!==null&&(rr=rr.updateQueue,tr===rr)){var nr=null,ar=null;if(tr=tr.firstBaseUpdate,tr!==null){do{var sr={eventTime:tr.eventTime,lane:tr.lane,tag:tr.tag,payload:tr.payload,callback:tr.callback,next:null};ar===null?nr=ar=sr:ar=ar.next=sr,tr=tr.next}while(tr!==null);ar===null?nr=ar=er:ar=ar.next=er}else nr=ar=er;tr={baseState:rr.baseState,firstBaseUpdate:nr,lastBaseUpdate:ar,shared:rr.shared,effects:rr.effects},St.updateQueue=tr;return}St=tr.lastBaseUpdate,St===null?tr.firstBaseUpdate=er:St.next=er,tr.lastBaseUpdate=er}function qh(St,er,tr,rr){var nr=St.updateQueue;jh=!1;var ar=nr.firstBaseUpdate,sr=nr.lastBaseUpdate,ir=nr.shared.pending;if(ir!==null){nr.shared.pending=null;var or=ir,lr=or.next;or.next=null,sr===null?ar=lr:sr.next=lr,sr=or;var cr=St.alternate;cr!==null&&(cr=cr.updateQueue,ir=cr.lastBaseUpdate,ir!==sr&&(ir===null?cr.firstBaseUpdate=lr:ir.next=lr,cr.lastBaseUpdate=or))}if(ar!==null){var ur=nr.baseState;sr=0,cr=lr=or=null,ir=ar;do{var dr=ir.lane,fr=ir.eventTime;if((rr&dr)===dr){cr!==null&&(cr=cr.next={eventTime:fr,lane:0,tag:ir.tag,payload:ir.payload,callback:ir.callback,next:null});e:{var mr=St,xr=ir;switch(dr=er,fr=tr,xr.tag){case 1:if(mr=xr.payload,typeof mr=="function"){ur=mr.call(fr,ur,dr);break e}ur=mr;break e;case 3:mr.flags=mr.flags&-65537|128;case 0:if(mr=xr.payload,dr=typeof mr=="function"?mr.call(fr,ur,dr):mr,dr==null)break e;ur=A$3({},ur,dr);break e;case 2:jh=!0}}ir.callback!==null&&ir.lane!==0&&(St.flags|=64,dr=nr.effects,dr===null?nr.effects=[ir]:dr.push(ir))}else fr={eventTime:fr,lane:dr,tag:ir.tag,payload:ir.payload,callback:ir.callback,next:null},cr===null?(lr=cr=fr,or=ur):cr=cr.next=fr,sr|=dr;if(ir=ir.next,ir===null){if(ir=nr.shared.pending,ir===null)break;dr=ir,ir=dr.next,dr.next=null,nr.lastBaseUpdate=dr,nr.shared.pending=null}}while(!0);if(cr===null&&(or=ur),nr.baseState=or,nr.firstBaseUpdate=lr,nr.lastBaseUpdate=cr,er=nr.shared.interleaved,er!==null){nr=er;do sr|=nr.lane,nr=nr.next;while(nr!==er)}else ar===null&&(nr.shared.lanes=0);rh|=sr,St.lanes=sr,St.memoizedState=ur}}function sh(St,er,tr){if(St=er.effects,er.effects=null,St!==null)for(er=0;er<St.length;er++){var rr=St[er],nr=rr.callback;if(nr!==null){if(rr.callback=null,rr=tr,typeof nr!="function")throw Error(p$5(191,nr));nr.call(rr)}}}var th={},uh=Uf(th),vh$1=Uf(th),wh=Uf(th);function xh(St){if(St===th)throw Error(p$5(174));return St}function yh(St,er){switch(G$3(wh,er),G$3(vh$1,St),G$3(uh,th),St=er.nodeType,St){case 9:case 11:er=(er=er.documentElement)?er.namespaceURI:lb(null,"");break;default:St=St===8?er.parentNode:er,er=St.namespaceURI||null,St=St.tagName,er=lb(er,St)}E$3(uh),G$3(uh,er)}function zh(){E$3(uh),E$3(vh$1),E$3(wh)}function Ah(St){xh(wh.current);var er=xh(uh.current),tr=lb(er,St.type);er!==tr&&(G$3(vh$1,St),G$3(uh,tr))}function Bh(St){vh$1.current===St&&(E$3(uh),E$3(vh$1))}var L$4=Uf(0);function Ch(St){for(var er=St;er!==null;){if(er.tag===13){var tr=er.memoizedState;if(tr!==null&&(tr=tr.dehydrated,tr===null||tr.data==="$?"||tr.data==="$!"))return er}else if(er.tag===19&&er.memoizedProps.revealOrder!==void 0){if(er.flags&128)return er}else if(er.child!==null){er.child.return=er,er=er.child;continue}if(er===St)break;for(;er.sibling===null;){if(er.return===null||er.return===St)return null;er=er.return}er.sibling.return=er.return,er=er.sibling}return null}var Dh=[];function Eh(){for(var St=0;St<Dh.length;St++)Dh[St]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M$4=null,N$2=null,O$4=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$6(){throw Error(p$5(321))}function Mh(St,er){if(er===null)return!1;for(var tr=0;tr<er.length&&tr<St.length;tr++)if(!He$2(St[tr],er[tr]))return!1;return!0}function Nh(St,er,tr,rr,nr,ar){if(Hh=ar,M$4=er,er.memoizedState=null,er.updateQueue=null,er.lanes=0,Fh.current=St===null||St.memoizedState===null?Oh:Ph,St=tr(rr,nr),Jh){ar=0;do{if(Jh=!1,Kh=0,25<=ar)throw Error(p$5(301));ar+=1,O$4=N$2=null,er.updateQueue=null,Fh.current=Qh,St=tr(rr,nr)}while(Jh)}if(Fh.current=Rh,er=N$2!==null&&N$2.next!==null,Hh=0,O$4=N$2=M$4=null,Ih=!1,er)throw Error(p$5(300));return St}function Sh(){var St=Kh!==0;return Kh=0,St}function Th(){var St={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O$4===null?M$4.memoizedState=O$4=St:O$4=O$4.next=St,O$4}function Uh(){if(N$2===null){var St=M$4.alternate;St=St!==null?St.memoizedState:null}else St=N$2.next;var er=O$4===null?M$4.memoizedState:O$4.next;if(er!==null)O$4=er,N$2=St;else{if(St===null)throw Error(p$5(310));N$2=St,St={memoizedState:N$2.memoizedState,baseState:N$2.baseState,baseQueue:N$2.baseQueue,queue:N$2.queue,next:null},O$4===null?M$4.memoizedState=O$4=St:O$4=O$4.next=St}return O$4}function Vh(St,er){return typeof er=="function"?er(St):er}function Wh(St){var er=Uh(),tr=er.queue;if(tr===null)throw Error(p$5(311));tr.lastRenderedReducer=St;var rr=N$2,nr=rr.baseQueue,ar=tr.pending;if(ar!==null){if(nr!==null){var sr=nr.next;nr.next=ar.next,ar.next=sr}rr.baseQueue=nr=ar,tr.pending=null}if(nr!==null){ar=nr.next,rr=rr.baseState;var ir=sr=null,or=null,lr=ar;do{var cr=lr.lane;if((Hh&cr)===cr)or!==null&&(or=or.next={lane:0,action:lr.action,hasEagerState:lr.hasEagerState,eagerState:lr.eagerState,next:null}),rr=lr.hasEagerState?lr.eagerState:St(rr,lr.action);else{var ur={lane:cr,action:lr.action,hasEagerState:lr.hasEagerState,eagerState:lr.eagerState,next:null};or===null?(ir=or=ur,sr=rr):or=or.next=ur,M$4.lanes|=cr,rh|=cr}lr=lr.next}while(lr!==null&&lr!==ar);or===null?sr=rr:or.next=ir,He$2(rr,er.memoizedState)||(dh=!0),er.memoizedState=rr,er.baseState=sr,er.baseQueue=or,tr.lastRenderedState=rr}if(St=tr.interleaved,St!==null){nr=St;do ar=nr.lane,M$4.lanes|=ar,rh|=ar,nr=nr.next;while(nr!==St)}else nr===null&&(tr.lanes=0);return[er.memoizedState,tr.dispatch]}function Xh(St){var er=Uh(),tr=er.queue;if(tr===null)throw Error(p$5(311));tr.lastRenderedReducer=St;var rr=tr.dispatch,nr=tr.pending,ar=er.memoizedState;if(nr!==null){tr.pending=null;var sr=nr=nr.next;do ar=St(ar,sr.action),sr=sr.next;while(sr!==nr);He$2(ar,er.memoizedState)||(dh=!0),er.memoizedState=ar,er.baseQueue===null&&(er.baseState=ar),tr.lastRenderedState=ar}return[ar,rr]}function Yh(){}function Zh(St,er){var tr=M$4,rr=Uh(),nr=er(),ar=!He$2(rr.memoizedState,nr);if(ar&&(rr.memoizedState=nr,dh=!0),rr=rr.queue,$h(ai.bind(null,tr,rr,St),[St]),rr.getSnapshot!==er||ar||O$4!==null&&O$4.memoizedState.tag&1){if(tr.flags|=2048,bi(9,ci.bind(null,tr,rr,nr,er),void 0,null),Q$2===null)throw Error(p$5(349));Hh&30||di(tr,er,nr)}return nr}function di(St,er,tr){St.flags|=16384,St={getSnapshot:er,value:tr},er=M$4.updateQueue,er===null?(er={lastEffect:null,stores:null},M$4.updateQueue=er,er.stores=[St]):(tr=er.stores,tr===null?er.stores=[St]:tr.push(St))}function ci(St,er,tr,rr){er.value=tr,er.getSnapshot=rr,ei(er)&&fi(St)}function ai(St,er,tr){return tr(function(){ei(er)&&fi(St)})}function ei(St){var er=St.getSnapshot;St=St.value;try{var tr=er();return!He$2(St,tr)}catch{return!0}}function fi(St){var er=ih(St,1);er!==null&&gi(er,St,1,-1)}function hi(St){var er=Th();return typeof St=="function"&&(St=St()),er.memoizedState=er.baseState=St,St={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:St},er.queue=St,St=St.dispatch=ii.bind(null,M$4,St),[er.memoizedState,St]}function bi(St,er,tr,rr){return St={tag:St,create:er,destroy:tr,deps:rr,next:null},er=M$4.updateQueue,er===null?(er={lastEffect:null,stores:null},M$4.updateQueue=er,er.lastEffect=St.next=St):(tr=er.lastEffect,tr===null?er.lastEffect=St.next=St:(rr=tr.next,tr.next=St,St.next=rr,er.lastEffect=St)),St}function ji(){return Uh().memoizedState}function ki(St,er,tr,rr){var nr=Th();M$4.flags|=St,nr.memoizedState=bi(1|er,tr,void 0,rr===void 0?null:rr)}function li(St,er,tr,rr){var nr=Uh();rr=rr===void 0?null:rr;var ar=void 0;if(N$2!==null){var sr=N$2.memoizedState;if(ar=sr.destroy,rr!==null&&Mh(rr,sr.deps)){nr.memoizedState=bi(er,tr,ar,rr);return}}M$4.flags|=St,nr.memoizedState=bi(1|er,tr,ar,rr)}function mi(St,er){return ki(8390656,8,St,er)}function $h(St,er){return li(2048,8,St,er)}function ni(St,er){return li(4,2,St,er)}function oi(St,er){return li(4,4,St,er)}function pi$2(St,er){if(typeof er=="function")return St=St(),er(St),function(){er(null)};if(er!=null)return St=St(),er.current=St,function(){er.current=null}}function qi(St,er,tr){return tr=tr!=null?tr.concat([St]):null,li(4,4,pi$2.bind(null,er,St),tr)}function ri(){}function si(St,er){var tr=Uh();er=er===void 0?null:er;var rr=tr.memoizedState;return rr!==null&&er!==null&&Mh(er,rr[1])?rr[0]:(tr.memoizedState=[St,er],St)}function ti(St,er){var tr=Uh();er=er===void 0?null:er;var rr=tr.memoizedState;return rr!==null&&er!==null&&Mh(er,rr[1])?rr[0]:(St=St(),tr.memoizedState=[St,er],St)}function ui(St,er,tr){return Hh&21?(He$2(tr,er)||(tr=yc(),M$4.lanes|=tr,rh|=tr,St.baseState=!0),er):(St.baseState&&(St.baseState=!1,dh=!0),St.memoizedState=tr)}function vi(St,er){var tr=C$6;C$6=tr!==0&&4>tr?tr:4,St(!0);var rr=Gh.transition;Gh.transition={};try{St(!1),er()}finally{C$6=tr,Gh.transition=rr}}function wi(){return Uh().memoizedState}function xi(St,er,tr){var rr=yi(St);if(tr={lane:rr,action:tr,hasEagerState:!1,eagerState:null,next:null},zi(St))Ai(er,tr);else if(tr=hh(St,er,tr,rr),tr!==null){var nr=R$2();gi(tr,St,rr,nr),Bi(tr,er,rr)}}function ii(St,er,tr){var rr=yi(St),nr={lane:rr,action:tr,hasEagerState:!1,eagerState:null,next:null};if(zi(St))Ai(er,nr);else{var ar=St.alternate;if(St.lanes===0&&(ar===null||ar.lanes===0)&&(ar=er.lastRenderedReducer,ar!==null))try{var sr=er.lastRenderedState,ir=ar(sr,tr);if(nr.hasEagerState=!0,nr.eagerState=ir,He$2(ir,sr)){var or=er.interleaved;or===null?(nr.next=nr,gh(er)):(nr.next=or.next,or.next=nr),er.interleaved=nr;return}}catch{}finally{}tr=hh(St,er,nr,rr),tr!==null&&(nr=R$2(),gi(tr,St,rr,nr),Bi(tr,er,rr))}}function zi(St){var er=St.alternate;return St===M$4||er!==null&&er===M$4}function Ai(St,er){Jh=Ih=!0;var tr=St.pending;tr===null?er.next=er:(er.next=tr.next,tr.next=er),St.pending=er}function Bi(St,er,tr){if(tr&4194240){var rr=er.lanes;rr&=St.pendingLanes,tr|=rr,er.lanes=tr,Cc(St,tr)}}var Rh={readContext:eh,useCallback:P$6,useContext:P$6,useEffect:P$6,useImperativeHandle:P$6,useInsertionEffect:P$6,useLayoutEffect:P$6,useMemo:P$6,useReducer:P$6,useRef:P$6,useState:P$6,useDebugValue:P$6,useDeferredValue:P$6,useTransition:P$6,useMutableSource:P$6,useSyncExternalStore:P$6,useId:P$6,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(St,er){return Th().memoizedState=[St,er===void 0?null:er],St},useContext:eh,useEffect:mi,useImperativeHandle:function(St,er,tr){return tr=tr!=null?tr.concat([St]):null,ki(4194308,4,pi$2.bind(null,er,St),tr)},useLayoutEffect:function(St,er){return ki(4194308,4,St,er)},useInsertionEffect:function(St,er){return ki(4,2,St,er)},useMemo:function(St,er){var tr=Th();return er=er===void 0?null:er,St=St(),tr.memoizedState=[St,er],St},useReducer:function(St,er,tr){var rr=Th();return er=tr!==void 0?tr(er):er,rr.memoizedState=rr.baseState=er,St={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:St,lastRenderedState:er},rr.queue=St,St=St.dispatch=xi.bind(null,M$4,St),[rr.memoizedState,St]},useRef:function(St){var er=Th();return St={current:St},er.memoizedState=St},useState:hi,useDebugValue:ri,useDeferredValue:function(St){return Th().memoizedState=St},useTransition:function(){var St=hi(!1),er=St[0];return St=vi.bind(null,St[1]),Th().memoizedState=St,[er,St]},useMutableSource:function(){},useSyncExternalStore:function(St,er,tr){var rr=M$4,nr=Th();if(I$6){if(tr===void 0)throw Error(p$5(407));tr=tr()}else{if(tr=er(),Q$2===null)throw Error(p$5(349));Hh&30||di(rr,er,tr)}nr.memoizedState=tr;var ar={value:tr,getSnapshot:er};return nr.queue=ar,mi(ai.bind(null,rr,ar,St),[St]),rr.flags|=2048,bi(9,ci.bind(null,rr,ar,tr,er),void 0,null),tr},useId:function(){var St=Th(),er=Q$2.identifierPrefix;if(I$6){var tr=sg,rr=rg;tr=(rr&~(1<<32-oc(rr)-1)).toString(32)+tr,er=":"+er+"R"+tr,tr=Kh++,0<tr&&(er+="H"+tr.toString(32)),er+=":"}else tr=Lh++,er=":"+er+"r"+tr.toString(32)+":";return St.memoizedState=er},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(St){var er=Uh();return ui(er,N$2.memoizedState,St)},useTransition:function(){var St=Wh(Vh)[0],er=Uh().memoizedState;return[St,er]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(St){var er=Uh();return N$2===null?er.memoizedState=St:ui(er,N$2.memoizedState,St)},useTransition:function(){var St=Xh(Vh)[0],er=Uh().memoizedState;return[St,er]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(St,er){if(St&&St.defaultProps){er=A$3({},er),St=St.defaultProps;for(var tr in St)er[tr]===void 0&&(er[tr]=St[tr]);return er}return er}function Di(St,er,tr,rr){er=St.memoizedState,tr=tr(rr,er),tr=tr==null?er:A$3({},er,tr),St.memoizedState=tr,St.lanes===0&&(St.updateQueue.baseState=tr)}var Ei={isMounted:function(St){return(St=St._reactInternals)?Vb(St)===St:!1},enqueueSetState:function(St,er,tr){St=St._reactInternals;var rr=R$2(),nr=yi(St),ar=mh(rr,nr);ar.payload=er,tr!=null&&(ar.callback=tr),er=nh(St,ar,nr),er!==null&&(gi(er,St,nr,rr),oh(er,St,nr))},enqueueReplaceState:function(St,er,tr){St=St._reactInternals;var rr=R$2(),nr=yi(St),ar=mh(rr,nr);ar.tag=1,ar.payload=er,tr!=null&&(ar.callback=tr),er=nh(St,ar,nr),er!==null&&(gi(er,St,nr,rr),oh(er,St,nr))},enqueueForceUpdate:function(St,er){St=St._reactInternals;var tr=R$2(),rr=yi(St),nr=mh(tr,rr);nr.tag=2,er!=null&&(nr.callback=er),er=nh(St,nr,rr),er!==null&&(gi(er,St,rr,tr),oh(er,St,rr))}};function Fi(St,er,tr,rr,nr,ar,sr){return St=St.stateNode,typeof St.shouldComponentUpdate=="function"?St.shouldComponentUpdate(rr,ar,sr):er.prototype&&er.prototype.isPureReactComponent?!Ie$1(tr,rr)||!Ie$1(nr,ar):!0}function Gi(St,er,tr){var rr=!1,nr=Vf,ar=er.contextType;return typeof ar=="object"&&ar!==null?ar=eh(ar):(nr=Zf(er)?Xf:H$6.current,rr=er.contextTypes,ar=(rr=rr!=null)?Yf(St,nr):Vf),er=new er(tr,ar),St.memoizedState=er.state!==null&&er.state!==void 0?er.state:null,er.updater=Ei,St.stateNode=er,er._reactInternals=St,rr&&(St=St.stateNode,St.__reactInternalMemoizedUnmaskedChildContext=nr,St.__reactInternalMemoizedMaskedChildContext=ar),er}function Hi(St,er,tr,rr){St=er.state,typeof er.componentWillReceiveProps=="function"&&er.componentWillReceiveProps(tr,rr),typeof er.UNSAFE_componentWillReceiveProps=="function"&&er.UNSAFE_componentWillReceiveProps(tr,rr),er.state!==St&&Ei.enqueueReplaceState(er,er.state,null)}function Ii(St,er,tr,rr){var nr=St.stateNode;nr.props=tr,nr.state=St.memoizedState,nr.refs={},kh(St);var ar=er.contextType;typeof ar=="object"&&ar!==null?nr.context=eh(ar):(ar=Zf(er)?Xf:H$6.current,nr.context=Yf(St,ar)),nr.state=St.memoizedState,ar=er.getDerivedStateFromProps,typeof ar=="function"&&(Di(St,er,ar,tr),nr.state=St.memoizedState),typeof er.getDerivedStateFromProps=="function"||typeof nr.getSnapshotBeforeUpdate=="function"||typeof nr.UNSAFE_componentWillMount!="function"&&typeof nr.componentWillMount!="function"||(er=nr.state,typeof nr.componentWillMount=="function"&&nr.componentWillMount(),typeof nr.UNSAFE_componentWillMount=="function"&&nr.UNSAFE_componentWillMount(),er!==nr.state&&Ei.enqueueReplaceState(nr,nr.state,null),qh(St,tr,nr,rr),nr.state=St.memoizedState),typeof nr.componentDidMount=="function"&&(St.flags|=4194308)}function Ji(St,er){try{var tr="",rr=er;do tr+=Pa(rr),rr=rr.return;while(rr);var nr=tr}catch(ar){nr=`
Error generating stack: `+ar.message+`
`+ar.stack}return{value:St,source:er,stack:nr,digest:null}}function Ki(St,er,tr){return{value:St,source:null,stack:tr??null,digest:er??null}}function Li(St,er){try{console.error(er.value)}catch(tr){setTimeout(function(){throw tr})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(St,er,tr){tr=mh(-1,tr),tr.tag=3,tr.payload={element:null};var rr=er.value;return tr.callback=function(){Oi||(Oi=!0,Pi=rr),Li(St,er)},tr}function Qi(St,er,tr){tr=mh(-1,tr),tr.tag=3;var rr=St.type.getDerivedStateFromError;if(typeof rr=="function"){var nr=er.value;tr.payload=function(){return rr(nr)},tr.callback=function(){Li(St,er)}}var ar=St.stateNode;return ar!==null&&typeof ar.componentDidCatch=="function"&&(tr.callback=function(){Li(St,er),typeof rr!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var sr=er.stack;this.componentDidCatch(er.value,{componentStack:sr!==null?sr:""})}),tr}function Si(St,er,tr){var rr=St.pingCache;if(rr===null){rr=St.pingCache=new Mi;var nr=new Set;rr.set(er,nr)}else nr=rr.get(er),nr===void 0&&(nr=new Set,rr.set(er,nr));nr.has(tr)||(nr.add(tr),St=Ti.bind(null,St,er,tr),er.then(St,St))}function Ui(St){do{var er;if((er=St.tag===13)&&(er=St.memoizedState,er=er!==null?er.dehydrated!==null:!0),er)return St;St=St.return}while(St!==null);return null}function Vi(St,er,tr,rr,nr){return St.mode&1?(St.flags|=65536,St.lanes=nr,St):(St===er?St.flags|=65536:(St.flags|=128,tr.flags|=131072,tr.flags&=-52805,tr.tag===1&&(tr.alternate===null?tr.tag=17:(er=mh(-1,1),er.tag=2,nh(tr,er,1))),tr.lanes|=1),St)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(St,er,tr,rr){er.child=St===null?Vg(er,null,tr,rr):Ug(er,St.child,tr,rr)}function Yi(St,er,tr,rr,nr){tr=tr.render;var ar=er.ref;return ch(er,nr),rr=Nh(St,er,tr,rr,ar,nr),tr=Sh(),St!==null&&!dh?(er.updateQueue=St.updateQueue,er.flags&=-2053,St.lanes&=~nr,Zi(St,er,nr)):(I$6&&tr&&vg(er),er.flags|=1,Xi(St,er,rr,nr),er.child)}function $i(St,er,tr,rr,nr){if(St===null){var ar=tr.type;return typeof ar=="function"&&!aj(ar)&&ar.defaultProps===void 0&&tr.compare===null&&tr.defaultProps===void 0?(er.tag=15,er.type=ar,bj(St,er,ar,rr,nr)):(St=Rg(tr.type,null,rr,er,er.mode,nr),St.ref=er.ref,St.return=er,er.child=St)}if(ar=St.child,!(St.lanes&nr)){var sr=ar.memoizedProps;if(tr=tr.compare,tr=tr!==null?tr:Ie$1,tr(sr,rr)&&St.ref===er.ref)return Zi(St,er,nr)}return er.flags|=1,St=Pg(ar,rr),St.ref=er.ref,St.return=er,er.child=St}function bj(St,er,tr,rr,nr){if(St!==null){var ar=St.memoizedProps;if(Ie$1(ar,rr)&&St.ref===er.ref)if(dh=!1,er.pendingProps=rr=ar,(St.lanes&nr)!==0)St.flags&131072&&(dh=!0);else return er.lanes=St.lanes,Zi(St,er,nr)}return cj(St,er,tr,rr,nr)}function dj(St,er,tr){var rr=er.pendingProps,nr=rr.children,ar=St!==null?St.memoizedState:null;if(rr.mode==="hidden")if(!(er.mode&1))er.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$3(ej,fj),fj|=tr;else{if(!(tr&1073741824))return St=ar!==null?ar.baseLanes|tr:tr,er.lanes=er.childLanes=1073741824,er.memoizedState={baseLanes:St,cachePool:null,transitions:null},er.updateQueue=null,G$3(ej,fj),fj|=St,null;er.memoizedState={baseLanes:0,cachePool:null,transitions:null},rr=ar!==null?ar.baseLanes:tr,G$3(ej,fj),fj|=rr}else ar!==null?(rr=ar.baseLanes|tr,er.memoizedState=null):rr=tr,G$3(ej,fj),fj|=rr;return Xi(St,er,nr,tr),er.child}function gj(St,er){var tr=er.ref;(St===null&&tr!==null||St!==null&&St.ref!==tr)&&(er.flags|=512,er.flags|=2097152)}function cj(St,er,tr,rr,nr){var ar=Zf(tr)?Xf:H$6.current;return ar=Yf(er,ar),ch(er,nr),tr=Nh(St,er,tr,rr,ar,nr),rr=Sh(),St!==null&&!dh?(er.updateQueue=St.updateQueue,er.flags&=-2053,St.lanes&=~nr,Zi(St,er,nr)):(I$6&&rr&&vg(er),er.flags|=1,Xi(St,er,tr,nr),er.child)}function hj(St,er,tr,rr,nr){if(Zf(tr)){var ar=!0;cg(er)}else ar=!1;if(ch(er,nr),er.stateNode===null)ij(St,er),Gi(er,tr,rr),Ii(er,tr,rr,nr),rr=!0;else if(St===null){var sr=er.stateNode,ir=er.memoizedProps;sr.props=ir;var or=sr.context,lr=tr.contextType;typeof lr=="object"&&lr!==null?lr=eh(lr):(lr=Zf(tr)?Xf:H$6.current,lr=Yf(er,lr));var cr=tr.getDerivedStateFromProps,ur=typeof cr=="function"||typeof sr.getSnapshotBeforeUpdate=="function";ur||typeof sr.UNSAFE_componentWillReceiveProps!="function"&&typeof sr.componentWillReceiveProps!="function"||(ir!==rr||or!==lr)&&Hi(er,sr,rr,lr),jh=!1;var dr=er.memoizedState;sr.state=dr,qh(er,rr,sr,nr),or=er.memoizedState,ir!==rr||dr!==or||Wf.current||jh?(typeof cr=="function"&&(Di(er,tr,cr,rr),or=er.memoizedState),(ir=jh||Fi(er,tr,ir,rr,dr,or,lr))?(ur||typeof sr.UNSAFE_componentWillMount!="function"&&typeof sr.componentWillMount!="function"||(typeof sr.componentWillMount=="function"&&sr.componentWillMount(),typeof sr.UNSAFE_componentWillMount=="function"&&sr.UNSAFE_componentWillMount()),typeof sr.componentDidMount=="function"&&(er.flags|=4194308)):(typeof sr.componentDidMount=="function"&&(er.flags|=4194308),er.memoizedProps=rr,er.memoizedState=or),sr.props=rr,sr.state=or,sr.context=lr,rr=ir):(typeof sr.componentDidMount=="function"&&(er.flags|=4194308),rr=!1)}else{sr=er.stateNode,lh(St,er),ir=er.memoizedProps,lr=er.type===er.elementType?ir:Ci(er.type,ir),sr.props=lr,ur=er.pendingProps,dr=sr.context,or=tr.contextType,typeof or=="object"&&or!==null?or=eh(or):(or=Zf(tr)?Xf:H$6.current,or=Yf(er,or));var fr=tr.getDerivedStateFromProps;(cr=typeof fr=="function"||typeof sr.getSnapshotBeforeUpdate=="function")||typeof sr.UNSAFE_componentWillReceiveProps!="function"&&typeof sr.componentWillReceiveProps!="function"||(ir!==ur||dr!==or)&&Hi(er,sr,rr,or),jh=!1,dr=er.memoizedState,sr.state=dr,qh(er,rr,sr,nr);var mr=er.memoizedState;ir!==ur||dr!==mr||Wf.current||jh?(typeof fr=="function"&&(Di(er,tr,fr,rr),mr=er.memoizedState),(lr=jh||Fi(er,tr,lr,rr,dr,mr,or)||!1)?(cr||typeof sr.UNSAFE_componentWillUpdate!="function"&&typeof sr.componentWillUpdate!="function"||(typeof sr.componentWillUpdate=="function"&&sr.componentWillUpdate(rr,mr,or),typeof sr.UNSAFE_componentWillUpdate=="function"&&sr.UNSAFE_componentWillUpdate(rr,mr,or)),typeof sr.componentDidUpdate=="function"&&(er.flags|=4),typeof sr.getSnapshotBeforeUpdate=="function"&&(er.flags|=1024)):(typeof sr.componentDidUpdate!="function"||ir===St.memoizedProps&&dr===St.memoizedState||(er.flags|=4),typeof sr.getSnapshotBeforeUpdate!="function"||ir===St.memoizedProps&&dr===St.memoizedState||(er.flags|=1024),er.memoizedProps=rr,er.memoizedState=mr),sr.props=rr,sr.state=mr,sr.context=or,rr=lr):(typeof sr.componentDidUpdate!="function"||ir===St.memoizedProps&&dr===St.memoizedState||(er.flags|=4),typeof sr.getSnapshotBeforeUpdate!="function"||ir===St.memoizedProps&&dr===St.memoizedState||(er.flags|=1024),rr=!1)}return jj(St,er,tr,rr,ar,nr)}function jj(St,er,tr,rr,nr,ar){gj(St,er);var sr=(er.flags&128)!==0;if(!rr&&!sr)return nr&&dg(er,tr,!1),Zi(St,er,ar);rr=er.stateNode,Wi.current=er;var ir=sr&&typeof tr.getDerivedStateFromError!="function"?null:rr.render();return er.flags|=1,St!==null&&sr?(er.child=Ug(er,St.child,null,ar),er.child=Ug(er,null,ir,ar)):Xi(St,er,ir,ar),er.memoizedState=rr.state,nr&&dg(er,tr,!0),er.child}function kj(St){var er=St.stateNode;er.pendingContext?ag(St,er.pendingContext,er.pendingContext!==er.context):er.context&&ag(St,er.context,!1),yh(St,er.containerInfo)}function lj(St,er,tr,rr,nr){return Ig(),Jg(nr),er.flags|=256,Xi(St,er,tr,rr),er.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(St){return{baseLanes:St,cachePool:null,transitions:null}}function oj(St,er,tr){var rr=er.pendingProps,nr=L$4.current,ar=!1,sr=(er.flags&128)!==0,ir;if((ir=sr)||(ir=St!==null&&St.memoizedState===null?!1:(nr&2)!==0),ir?(ar=!0,er.flags&=-129):(St===null||St.memoizedState!==null)&&(nr|=1),G$3(L$4,nr&1),St===null)return Eg(er),St=er.memoizedState,St!==null&&(St=St.dehydrated,St!==null)?(er.mode&1?St.data==="$!"?er.lanes=8:er.lanes=1073741824:er.lanes=1,null):(sr=rr.children,St=rr.fallback,ar?(rr=er.mode,ar=er.child,sr={mode:"hidden",children:sr},!(rr&1)&&ar!==null?(ar.childLanes=0,ar.pendingProps=sr):ar=pj(sr,rr,0,null),St=Tg(St,rr,tr,null),ar.return=er,St.return=er,ar.sibling=St,er.child=ar,er.child.memoizedState=nj(tr),er.memoizedState=mj,St):qj(er,sr));if(nr=St.memoizedState,nr!==null&&(ir=nr.dehydrated,ir!==null))return rj(St,er,sr,rr,ir,nr,tr);if(ar){ar=rr.fallback,sr=er.mode,nr=St.child,ir=nr.sibling;var or={mode:"hidden",children:rr.children};return!(sr&1)&&er.child!==nr?(rr=er.child,rr.childLanes=0,rr.pendingProps=or,er.deletions=null):(rr=Pg(nr,or),rr.subtreeFlags=nr.subtreeFlags&14680064),ir!==null?ar=Pg(ir,ar):(ar=Tg(ar,sr,tr,null),ar.flags|=2),ar.return=er,rr.return=er,rr.sibling=ar,er.child=rr,rr=ar,ar=er.child,sr=St.child.memoizedState,sr=sr===null?nj(tr):{baseLanes:sr.baseLanes|tr,cachePool:null,transitions:sr.transitions},ar.memoizedState=sr,ar.childLanes=St.childLanes&~tr,er.memoizedState=mj,rr}return ar=St.child,St=ar.sibling,rr=Pg(ar,{mode:"visible",children:rr.children}),!(er.mode&1)&&(rr.lanes=tr),rr.return=er,rr.sibling=null,St!==null&&(tr=er.deletions,tr===null?(er.deletions=[St],er.flags|=16):tr.push(St)),er.child=rr,er.memoizedState=null,rr}function qj(St,er){return er=pj({mode:"visible",children:er},St.mode,0,null),er.return=St,St.child=er}function sj(St,er,tr,rr){return rr!==null&&Jg(rr),Ug(er,St.child,null,tr),St=qj(er,er.pendingProps.children),St.flags|=2,er.memoizedState=null,St}function rj(St,er,tr,rr,nr,ar,sr){if(tr)return er.flags&256?(er.flags&=-257,rr=Ki(Error(p$5(422))),sj(St,er,sr,rr)):er.memoizedState!==null?(er.child=St.child,er.flags|=128,null):(ar=rr.fallback,nr=er.mode,rr=pj({mode:"visible",children:rr.children},nr,0,null),ar=Tg(ar,nr,sr,null),ar.flags|=2,rr.return=er,ar.return=er,rr.sibling=ar,er.child=rr,er.mode&1&&Ug(er,St.child,null,sr),er.child.memoizedState=nj(sr),er.memoizedState=mj,ar);if(!(er.mode&1))return sj(St,er,sr,null);if(nr.data==="$!"){if(rr=nr.nextSibling&&nr.nextSibling.dataset,rr)var ir=rr.dgst;return rr=ir,ar=Error(p$5(419)),rr=Ki(ar,rr,void 0),sj(St,er,sr,rr)}if(ir=(sr&St.childLanes)!==0,dh||ir){if(rr=Q$2,rr!==null){switch(sr&-sr){case 4:nr=2;break;case 16:nr=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:nr=32;break;case 536870912:nr=268435456;break;default:nr=0}nr=nr&(rr.suspendedLanes|sr)?0:nr,nr!==0&&nr!==ar.retryLane&&(ar.retryLane=nr,ih(St,nr),gi(rr,St,nr,-1))}return tj(),rr=Ki(Error(p$5(421))),sj(St,er,sr,rr)}return nr.data==="$?"?(er.flags|=128,er.child=St.child,er=uj.bind(null,St),nr._reactRetry=er,null):(St=ar.treeContext,yg=Lf(nr.nextSibling),xg=er,I$6=!0,zg=null,St!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=St.id,sg=St.overflow,qg=er),er=qj(er,rr.children),er.flags|=4096,er)}function vj(St,er,tr){St.lanes|=er;var rr=St.alternate;rr!==null&&(rr.lanes|=er),bh(St.return,er,tr)}function wj(St,er,tr,rr,nr){var ar=St.memoizedState;ar===null?St.memoizedState={isBackwards:er,rendering:null,renderingStartTime:0,last:rr,tail:tr,tailMode:nr}:(ar.isBackwards=er,ar.rendering=null,ar.renderingStartTime=0,ar.last=rr,ar.tail=tr,ar.tailMode=nr)}function xj(St,er,tr){var rr=er.pendingProps,nr=rr.revealOrder,ar=rr.tail;if(Xi(St,er,rr.children,tr),rr=L$4.current,rr&2)rr=rr&1|2,er.flags|=128;else{if(St!==null&&St.flags&128)e:for(St=er.child;St!==null;){if(St.tag===13)St.memoizedState!==null&&vj(St,tr,er);else if(St.tag===19)vj(St,tr,er);else if(St.child!==null){St.child.return=St,St=St.child;continue}if(St===er)break e;for(;St.sibling===null;){if(St.return===null||St.return===er)break e;St=St.return}St.sibling.return=St.return,St=St.sibling}rr&=1}if(G$3(L$4,rr),!(er.mode&1))er.memoizedState=null;else switch(nr){case"forwards":for(tr=er.child,nr=null;tr!==null;)St=tr.alternate,St!==null&&Ch(St)===null&&(nr=tr),tr=tr.sibling;tr=nr,tr===null?(nr=er.child,er.child=null):(nr=tr.sibling,tr.sibling=null),wj(er,!1,nr,tr,ar);break;case"backwards":for(tr=null,nr=er.child,er.child=null;nr!==null;){if(St=nr.alternate,St!==null&&Ch(St)===null){er.child=nr;break}St=nr.sibling,nr.sibling=tr,tr=nr,nr=St}wj(er,!0,tr,null,ar);break;case"together":wj(er,!1,null,null,void 0);break;default:er.memoizedState=null}return er.child}function ij(St,er){!(er.mode&1)&&St!==null&&(St.alternate=null,er.alternate=null,er.flags|=2)}function Zi(St,er,tr){if(St!==null&&(er.dependencies=St.dependencies),rh|=er.lanes,!(tr&er.childLanes))return null;if(St!==null&&er.child!==St.child)throw Error(p$5(153));if(er.child!==null){for(St=er.child,tr=Pg(St,St.pendingProps),er.child=tr,tr.return=er;St.sibling!==null;)St=St.sibling,tr=tr.sibling=Pg(St,St.pendingProps),tr.return=er;tr.sibling=null}return er.child}function yj(St,er,tr){switch(er.tag){case 3:kj(er),Ig();break;case 5:Ah(er);break;case 1:Zf(er.type)&&cg(er);break;case 4:yh(er,er.stateNode.containerInfo);break;case 10:var rr=er.type._context,nr=er.memoizedProps.value;G$3(Wg,rr._currentValue),rr._currentValue=nr;break;case 13:if(rr=er.memoizedState,rr!==null)return rr.dehydrated!==null?(G$3(L$4,L$4.current&1),er.flags|=128,null):tr&er.child.childLanes?oj(St,er,tr):(G$3(L$4,L$4.current&1),St=Zi(St,er,tr),St!==null?St.sibling:null);G$3(L$4,L$4.current&1);break;case 19:if(rr=(tr&er.childLanes)!==0,St.flags&128){if(rr)return xj(St,er,tr);er.flags|=128}if(nr=er.memoizedState,nr!==null&&(nr.rendering=null,nr.tail=null,nr.lastEffect=null),G$3(L$4,L$4.current),rr)break;return null;case 22:case 23:return er.lanes=0,dj(St,er,tr)}return Zi(St,er,tr)}var zj,Aj,Bj,Cj;zj=function(St,er){for(var tr=er.child;tr!==null;){if(tr.tag===5||tr.tag===6)St.appendChild(tr.stateNode);else if(tr.tag!==4&&tr.child!==null){tr.child.return=tr,tr=tr.child;continue}if(tr===er)break;for(;tr.sibling===null;){if(tr.return===null||tr.return===er)return;tr=tr.return}tr.sibling.return=tr.return,tr=tr.sibling}};Aj=function(){};Bj=function(St,er,tr,rr){var nr=St.memoizedProps;if(nr!==rr){St=er.stateNode,xh(uh.current);var ar=null;switch(tr){case"input":nr=Ya(St,nr),rr=Ya(St,rr),ar=[];break;case"select":nr=A$3({},nr,{value:void 0}),rr=A$3({},rr,{value:void 0}),ar=[];break;case"textarea":nr=gb(St,nr),rr=gb(St,rr),ar=[];break;default:typeof nr.onClick!="function"&&typeof rr.onClick=="function"&&(St.onclick=Bf)}ub(tr,rr);var sr;tr=null;for(lr in nr)if(!rr.hasOwnProperty(lr)&&nr.hasOwnProperty(lr)&&nr[lr]!=null)if(lr==="style"){var ir=nr[lr];for(sr in ir)ir.hasOwnProperty(sr)&&(tr||(tr={}),tr[sr]="")}else lr!=="dangerouslySetInnerHTML"&&lr!=="children"&&lr!=="suppressContentEditableWarning"&&lr!=="suppressHydrationWarning"&&lr!=="autoFocus"&&(ea.hasOwnProperty(lr)?ar||(ar=[]):(ar=ar||[]).push(lr,null));for(lr in rr){var or=rr[lr];if(ir=nr!=null?nr[lr]:void 0,rr.hasOwnProperty(lr)&&or!==ir&&(or!=null||ir!=null))if(lr==="style")if(ir){for(sr in ir)!ir.hasOwnProperty(sr)||or&&or.hasOwnProperty(sr)||(tr||(tr={}),tr[sr]="");for(sr in or)or.hasOwnProperty(sr)&&ir[sr]!==or[sr]&&(tr||(tr={}),tr[sr]=or[sr])}else tr||(ar||(ar=[]),ar.push(lr,tr)),tr=or;else lr==="dangerouslySetInnerHTML"?(or=or?or.__html:void 0,ir=ir?ir.__html:void 0,or!=null&&ir!==or&&(ar=ar||[]).push(lr,or)):lr==="children"?typeof or!="string"&&typeof or!="number"||(ar=ar||[]).push(lr,""+or):lr!=="suppressContentEditableWarning"&&lr!=="suppressHydrationWarning"&&(ea.hasOwnProperty(lr)?(or!=null&&lr==="onScroll"&&D$3("scroll",St),ar||ir===or||(ar=[])):(ar=ar||[]).push(lr,or))}tr&&(ar=ar||[]).push("style",tr);var lr=ar;(er.updateQueue=lr)&&(er.flags|=4)}};Cj=function(St,er,tr,rr){tr!==rr&&(er.flags|=4)};function Dj(St,er){if(!I$6)switch(St.tailMode){case"hidden":er=St.tail;for(var tr=null;er!==null;)er.alternate!==null&&(tr=er),er=er.sibling;tr===null?St.tail=null:tr.sibling=null;break;case"collapsed":tr=St.tail;for(var rr=null;tr!==null;)tr.alternate!==null&&(rr=tr),tr=tr.sibling;rr===null?er||St.tail===null?St.tail=null:St.tail.sibling=null:rr.sibling=null}}function S$4(St){var er=St.alternate!==null&&St.alternate.child===St.child,tr=0,rr=0;if(er)for(var nr=St.child;nr!==null;)tr|=nr.lanes|nr.childLanes,rr|=nr.subtreeFlags&14680064,rr|=nr.flags&14680064,nr.return=St,nr=nr.sibling;else for(nr=St.child;nr!==null;)tr|=nr.lanes|nr.childLanes,rr|=nr.subtreeFlags,rr|=nr.flags,nr.return=St,nr=nr.sibling;return St.subtreeFlags|=rr,St.childLanes=tr,er}function Ej(St,er,tr){var rr=er.pendingProps;switch(wg(er),er.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$4(er),null;case 1:return Zf(er.type)&&$f(),S$4(er),null;case 3:return rr=er.stateNode,zh(),E$3(Wf),E$3(H$6),Eh(),rr.pendingContext&&(rr.context=rr.pendingContext,rr.pendingContext=null),(St===null||St.child===null)&&(Gg(er)?er.flags|=4:St===null||St.memoizedState.isDehydrated&&!(er.flags&256)||(er.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(St,er),S$4(er),null;case 5:Bh(er);var nr=xh(wh.current);if(tr=er.type,St!==null&&er.stateNode!=null)Bj(St,er,tr,rr,nr),St.ref!==er.ref&&(er.flags|=512,er.flags|=2097152);else{if(!rr){if(er.stateNode===null)throw Error(p$5(166));return S$4(er),null}if(St=xh(uh.current),Gg(er)){rr=er.stateNode,tr=er.type;var ar=er.memoizedProps;switch(rr[Of]=er,rr[Pf]=ar,St=(er.mode&1)!==0,tr){case"dialog":D$3("cancel",rr),D$3("close",rr);break;case"iframe":case"object":case"embed":D$3("load",rr);break;case"video":case"audio":for(nr=0;nr<lf.length;nr++)D$3(lf[nr],rr);break;case"source":D$3("error",rr);break;case"img":case"image":case"link":D$3("error",rr),D$3("load",rr);break;case"details":D$3("toggle",rr);break;case"input":Za(rr,ar),D$3("invalid",rr);break;case"select":rr._wrapperState={wasMultiple:!!ar.multiple},D$3("invalid",rr);break;case"textarea":hb(rr,ar),D$3("invalid",rr)}ub(tr,ar),nr=null;for(var sr in ar)if(ar.hasOwnProperty(sr)){var ir=ar[sr];sr==="children"?typeof ir=="string"?rr.textContent!==ir&&(ar.suppressHydrationWarning!==!0&&Af(rr.textContent,ir,St),nr=["children",ir]):typeof ir=="number"&&rr.textContent!==""+ir&&(ar.suppressHydrationWarning!==!0&&Af(rr.textContent,ir,St),nr=["children",""+ir]):ea.hasOwnProperty(sr)&&ir!=null&&sr==="onScroll"&&D$3("scroll",rr)}switch(tr){case"input":Va(rr),db(rr,ar,!0);break;case"textarea":Va(rr),jb(rr);break;case"select":case"option":break;default:typeof ar.onClick=="function"&&(rr.onclick=Bf)}rr=nr,er.updateQueue=rr,rr!==null&&(er.flags|=4)}else{sr=nr.nodeType===9?nr:nr.ownerDocument,St==="http://www.w3.org/1999/xhtml"&&(St=kb(tr)),St==="http://www.w3.org/1999/xhtml"?tr==="script"?(St=sr.createElement("div"),St.innerHTML="<script><\/script>",St=St.removeChild(St.firstChild)):typeof rr.is=="string"?St=sr.createElement(tr,{is:rr.is}):(St=sr.createElement(tr),tr==="select"&&(sr=St,rr.multiple?sr.multiple=!0:rr.size&&(sr.size=rr.size))):St=sr.createElementNS(St,tr),St[Of]=er,St[Pf]=rr,zj(St,er,!1,!1),er.stateNode=St;e:{switch(sr=vb(tr,rr),tr){case"dialog":D$3("cancel",St),D$3("close",St),nr=rr;break;case"iframe":case"object":case"embed":D$3("load",St),nr=rr;break;case"video":case"audio":for(nr=0;nr<lf.length;nr++)D$3(lf[nr],St);nr=rr;break;case"source":D$3("error",St),nr=rr;break;case"img":case"image":case"link":D$3("error",St),D$3("load",St),nr=rr;break;case"details":D$3("toggle",St),nr=rr;break;case"input":Za(St,rr),nr=Ya(St,rr),D$3("invalid",St);break;case"option":nr=rr;break;case"select":St._wrapperState={wasMultiple:!!rr.multiple},nr=A$3({},rr,{value:void 0}),D$3("invalid",St);break;case"textarea":hb(St,rr),nr=gb(St,rr),D$3("invalid",St);break;default:nr=rr}ub(tr,nr),ir=nr;for(ar in ir)if(ir.hasOwnProperty(ar)){var or=ir[ar];ar==="style"?sb(St,or):ar==="dangerouslySetInnerHTML"?(or=or?or.__html:void 0,or!=null&&nb(St,or)):ar==="children"?typeof or=="string"?(tr!=="textarea"||or!=="")&&ob(St,or):typeof or=="number"&&ob(St,""+or):ar!=="suppressContentEditableWarning"&&ar!=="suppressHydrationWarning"&&ar!=="autoFocus"&&(ea.hasOwnProperty(ar)?or!=null&&ar==="onScroll"&&D$3("scroll",St):or!=null&&ta(St,ar,or,sr))}switch(tr){case"input":Va(St),db(St,rr,!1);break;case"textarea":Va(St),jb(St);break;case"option":rr.value!=null&&St.setAttribute("value",""+Sa(rr.value));break;case"select":St.multiple=!!rr.multiple,ar=rr.value,ar!=null?fb(St,!!rr.multiple,ar,!1):rr.defaultValue!=null&&fb(St,!!rr.multiple,rr.defaultValue,!0);break;default:typeof nr.onClick=="function"&&(St.onclick=Bf)}switch(tr){case"button":case"input":case"select":case"textarea":rr=!!rr.autoFocus;break e;case"img":rr=!0;break e;default:rr=!1}}rr&&(er.flags|=4)}er.ref!==null&&(er.flags|=512,er.flags|=2097152)}return S$4(er),null;case 6:if(St&&er.stateNode!=null)Cj(St,er,St.memoizedProps,rr);else{if(typeof rr!="string"&&er.stateNode===null)throw Error(p$5(166));if(tr=xh(wh.current),xh(uh.current),Gg(er)){if(rr=er.stateNode,tr=er.memoizedProps,rr[Of]=er,(ar=rr.nodeValue!==tr)&&(St=xg,St!==null))switch(St.tag){case 3:Af(rr.nodeValue,tr,(St.mode&1)!==0);break;case 5:St.memoizedProps.suppressHydrationWarning!==!0&&Af(rr.nodeValue,tr,(St.mode&1)!==0)}ar&&(er.flags|=4)}else rr=(tr.nodeType===9?tr:tr.ownerDocument).createTextNode(rr),rr[Of]=er,er.stateNode=rr}return S$4(er),null;case 13:if(E$3(L$4),rr=er.memoizedState,St===null||St.memoizedState!==null&&St.memoizedState.dehydrated!==null){if(I$6&&yg!==null&&er.mode&1&&!(er.flags&128))Hg(),Ig(),er.flags|=98560,ar=!1;else if(ar=Gg(er),rr!==null&&rr.dehydrated!==null){if(St===null){if(!ar)throw Error(p$5(318));if(ar=er.memoizedState,ar=ar!==null?ar.dehydrated:null,!ar)throw Error(p$5(317));ar[Of]=er}else Ig(),!(er.flags&128)&&(er.memoizedState=null),er.flags|=4;S$4(er),ar=!1}else zg!==null&&(Fj(zg),zg=null),ar=!0;if(!ar)return er.flags&65536?er:null}return er.flags&128?(er.lanes=tr,er):(rr=rr!==null,rr!==(St!==null&&St.memoizedState!==null)&&rr&&(er.child.flags|=8192,er.mode&1&&(St===null||L$4.current&1?T$4===0&&(T$4=3):tj())),er.updateQueue!==null&&(er.flags|=4),S$4(er),null);case 4:return zh(),Aj(St,er),St===null&&sf(er.stateNode.containerInfo),S$4(er),null;case 10:return ah(er.type._context),S$4(er),null;case 17:return Zf(er.type)&&$f(),S$4(er),null;case 19:if(E$3(L$4),ar=er.memoizedState,ar===null)return S$4(er),null;if(rr=(er.flags&128)!==0,sr=ar.rendering,sr===null)if(rr)Dj(ar,!1);else{if(T$4!==0||St!==null&&St.flags&128)for(St=er.child;St!==null;){if(sr=Ch(St),sr!==null){for(er.flags|=128,Dj(ar,!1),rr=sr.updateQueue,rr!==null&&(er.updateQueue=rr,er.flags|=4),er.subtreeFlags=0,rr=tr,tr=er.child;tr!==null;)ar=tr,St=rr,ar.flags&=14680066,sr=ar.alternate,sr===null?(ar.childLanes=0,ar.lanes=St,ar.child=null,ar.subtreeFlags=0,ar.memoizedProps=null,ar.memoizedState=null,ar.updateQueue=null,ar.dependencies=null,ar.stateNode=null):(ar.childLanes=sr.childLanes,ar.lanes=sr.lanes,ar.child=sr.child,ar.subtreeFlags=0,ar.deletions=null,ar.memoizedProps=sr.memoizedProps,ar.memoizedState=sr.memoizedState,ar.updateQueue=sr.updateQueue,ar.type=sr.type,St=sr.dependencies,ar.dependencies=St===null?null:{lanes:St.lanes,firstContext:St.firstContext}),tr=tr.sibling;return G$3(L$4,L$4.current&1|2),er.child}St=St.sibling}ar.tail!==null&&B$3()>Gj&&(er.flags|=128,rr=!0,Dj(ar,!1),er.lanes=4194304)}else{if(!rr)if(St=Ch(sr),St!==null){if(er.flags|=128,rr=!0,tr=St.updateQueue,tr!==null&&(er.updateQueue=tr,er.flags|=4),Dj(ar,!0),ar.tail===null&&ar.tailMode==="hidden"&&!sr.alternate&&!I$6)return S$4(er),null}else 2*B$3()-ar.renderingStartTime>Gj&&tr!==1073741824&&(er.flags|=128,rr=!0,Dj(ar,!1),er.lanes=4194304);ar.isBackwards?(sr.sibling=er.child,er.child=sr):(tr=ar.last,tr!==null?tr.sibling=sr:er.child=sr,ar.last=sr)}return ar.tail!==null?(er=ar.tail,ar.rendering=er,ar.tail=er.sibling,ar.renderingStartTime=B$3(),er.sibling=null,tr=L$4.current,G$3(L$4,rr?tr&1|2:tr&1),er):(S$4(er),null);case 22:case 23:return Hj(),rr=er.memoizedState!==null,St!==null&&St.memoizedState!==null!==rr&&(er.flags|=8192),rr&&er.mode&1?fj&1073741824&&(S$4(er),er.subtreeFlags&6&&(er.flags|=8192)):S$4(er),null;case 24:return null;case 25:return null}throw Error(p$5(156,er.tag))}function Ij(St,er){switch(wg(er),er.tag){case 1:return Zf(er.type)&&$f(),St=er.flags,St&65536?(er.flags=St&-65537|128,er):null;case 3:return zh(),E$3(Wf),E$3(H$6),Eh(),St=er.flags,St&65536&&!(St&128)?(er.flags=St&-65537|128,er):null;case 5:return Bh(er),null;case 13:if(E$3(L$4),St=er.memoizedState,St!==null&&St.dehydrated!==null){if(er.alternate===null)throw Error(p$5(340));Ig()}return St=er.flags,St&65536?(er.flags=St&-65537|128,er):null;case 19:return E$3(L$4),null;case 4:return zh(),null;case 10:return ah(er.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U$4=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V$2=null;function Lj(St,er){var tr=St.ref;if(tr!==null)if(typeof tr=="function")try{tr(null)}catch(rr){W$2(St,er,rr)}else tr.current=null}function Mj(St,er,tr){try{tr()}catch(rr){W$2(St,er,rr)}}var Nj=!1;function Oj(St,er){if(Cf=dd,St=Me(),Ne$2(St)){if("selectionStart"in St)var tr={start:St.selectionStart,end:St.selectionEnd};else e:{tr=(tr=St.ownerDocument)&&tr.defaultView||window;var rr=tr.getSelection&&tr.getSelection();if(rr&&rr.rangeCount!==0){tr=rr.anchorNode;var nr=rr.anchorOffset,ar=rr.focusNode;rr=rr.focusOffset;try{tr.nodeType,ar.nodeType}catch{tr=null;break e}var sr=0,ir=-1,or=-1,lr=0,cr=0,ur=St,dr=null;t:for(;;){for(var fr;ur!==tr||nr!==0&&ur.nodeType!==3||(ir=sr+nr),ur!==ar||rr!==0&&ur.nodeType!==3||(or=sr+rr),ur.nodeType===3&&(sr+=ur.nodeValue.length),(fr=ur.firstChild)!==null;)dr=ur,ur=fr;for(;;){if(ur===St)break t;if(dr===tr&&++lr===nr&&(ir=sr),dr===ar&&++cr===rr&&(or=sr),(fr=ur.nextSibling)!==null)break;ur=dr,dr=ur.parentNode}ur=fr}tr=ir===-1||or===-1?null:{start:ir,end:or}}else tr=null}tr=tr||{start:0,end:0}}else tr=null;for(Df={focusedElem:St,selectionRange:tr},dd=!1,V$2=er;V$2!==null;)if(er=V$2,St=er.child,(er.subtreeFlags&1028)!==0&&St!==null)St.return=er,V$2=St;else for(;V$2!==null;){er=V$2;try{var mr=er.alternate;if(er.flags&1024)switch(er.tag){case 0:case 11:case 15:break;case 1:if(mr!==null){var xr=mr.memoizedProps,pr=mr.memoizedState,hr=er.stateNode,gr=hr.getSnapshotBeforeUpdate(er.elementType===er.type?xr:Ci(er.type,xr),pr);hr.__reactInternalSnapshotBeforeUpdate=gr}break;case 3:var vr=er.stateNode.containerInfo;vr.nodeType===1?vr.textContent="":vr.nodeType===9&&vr.documentElement&&vr.removeChild(vr.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$5(163))}}catch(br){W$2(er,er.return,br)}if(St=er.sibling,St!==null){St.return=er.return,V$2=St;break}V$2=er.return}return mr=Nj,Nj=!1,mr}function Pj(St,er,tr){var rr=er.updateQueue;if(rr=rr!==null?rr.lastEffect:null,rr!==null){var nr=rr=rr.next;do{if((nr.tag&St)===St){var ar=nr.destroy;nr.destroy=void 0,ar!==void 0&&Mj(er,tr,ar)}nr=nr.next}while(nr!==rr)}}function Qj(St,er){if(er=er.updateQueue,er=er!==null?er.lastEffect:null,er!==null){var tr=er=er.next;do{if((tr.tag&St)===St){var rr=tr.create;tr.destroy=rr()}tr=tr.next}while(tr!==er)}}function Rj(St){var er=St.ref;if(er!==null){var tr=St.stateNode;switch(St.tag){case 5:St=tr;break;default:St=tr}typeof er=="function"?er(St):er.current=St}}function Sj(St){var er=St.alternate;er!==null&&(St.alternate=null,Sj(er)),St.child=null,St.deletions=null,St.sibling=null,St.tag===5&&(er=St.stateNode,er!==null&&(delete er[Of],delete er[Pf],delete er[of],delete er[Qf],delete er[Rf])),St.stateNode=null,St.return=null,St.dependencies=null,St.memoizedProps=null,St.memoizedState=null,St.pendingProps=null,St.stateNode=null,St.updateQueue=null}function Tj(St){return St.tag===5||St.tag===3||St.tag===4}function Uj(St){e:for(;;){for(;St.sibling===null;){if(St.return===null||Tj(St.return))return null;St=St.return}for(St.sibling.return=St.return,St=St.sibling;St.tag!==5&&St.tag!==6&&St.tag!==18;){if(St.flags&2||St.child===null||St.tag===4)continue e;St.child.return=St,St=St.child}if(!(St.flags&2))return St.stateNode}}function Vj(St,er,tr){var rr=St.tag;if(rr===5||rr===6)St=St.stateNode,er?tr.nodeType===8?tr.parentNode.insertBefore(St,er):tr.insertBefore(St,er):(tr.nodeType===8?(er=tr.parentNode,er.insertBefore(St,tr)):(er=tr,er.appendChild(St)),tr=tr._reactRootContainer,tr!=null||er.onclick!==null||(er.onclick=Bf));else if(rr!==4&&(St=St.child,St!==null))for(Vj(St,er,tr),St=St.sibling;St!==null;)Vj(St,er,tr),St=St.sibling}function Wj(St,er,tr){var rr=St.tag;if(rr===5||rr===6)St=St.stateNode,er?tr.insertBefore(St,er):tr.appendChild(St);else if(rr!==4&&(St=St.child,St!==null))for(Wj(St,er,tr),St=St.sibling;St!==null;)Wj(St,er,tr),St=St.sibling}var X$5=null,Xj=!1;function Yj(St,er,tr){for(tr=tr.child;tr!==null;)Zj(St,er,tr),tr=tr.sibling}function Zj(St,er,tr){if(lc$1&&typeof lc$1.onCommitFiberUnmount=="function")try{lc$1.onCommitFiberUnmount(kc,tr)}catch{}switch(tr.tag){case 5:U$4||Lj(tr,er);case 6:var rr=X$5,nr=Xj;X$5=null,Yj(St,er,tr),X$5=rr,Xj=nr,X$5!==null&&(Xj?(St=X$5,tr=tr.stateNode,St.nodeType===8?St.parentNode.removeChild(tr):St.removeChild(tr)):X$5.removeChild(tr.stateNode));break;case 18:X$5!==null&&(Xj?(St=X$5,tr=tr.stateNode,St.nodeType===8?Kf(St.parentNode,tr):St.nodeType===1&&Kf(St,tr),bd(St)):Kf(X$5,tr.stateNode));break;case 4:rr=X$5,nr=Xj,X$5=tr.stateNode.containerInfo,Xj=!0,Yj(St,er,tr),X$5=rr,Xj=nr;break;case 0:case 11:case 14:case 15:if(!U$4&&(rr=tr.updateQueue,rr!==null&&(rr=rr.lastEffect,rr!==null))){nr=rr=rr.next;do{var ar=nr,sr=ar.destroy;ar=ar.tag,sr!==void 0&&(ar&2||ar&4)&&Mj(tr,er,sr),nr=nr.next}while(nr!==rr)}Yj(St,er,tr);break;case 1:if(!U$4&&(Lj(tr,er),rr=tr.stateNode,typeof rr.componentWillUnmount=="function"))try{rr.props=tr.memoizedProps,rr.state=tr.memoizedState,rr.componentWillUnmount()}catch(ir){W$2(tr,er,ir)}Yj(St,er,tr);break;case 21:Yj(St,er,tr);break;case 22:tr.mode&1?(U$4=(rr=U$4)||tr.memoizedState!==null,Yj(St,er,tr),U$4=rr):Yj(St,er,tr);break;default:Yj(St,er,tr)}}function ak(St){var er=St.updateQueue;if(er!==null){St.updateQueue=null;var tr=St.stateNode;tr===null&&(tr=St.stateNode=new Kj),er.forEach(function(rr){var nr=bk.bind(null,St,rr);tr.has(rr)||(tr.add(rr),rr.then(nr,nr))})}}function ck(St,er){var tr=er.deletions;if(tr!==null)for(var rr=0;rr<tr.length;rr++){var nr=tr[rr];try{var ar=St,sr=er,ir=sr;e:for(;ir!==null;){switch(ir.tag){case 5:X$5=ir.stateNode,Xj=!1;break e;case 3:X$5=ir.stateNode.containerInfo,Xj=!0;break e;case 4:X$5=ir.stateNode.containerInfo,Xj=!0;break e}ir=ir.return}if(X$5===null)throw Error(p$5(160));Zj(ar,sr,nr),X$5=null,Xj=!1;var or=nr.alternate;or!==null&&(or.return=null),nr.return=null}catch(lr){W$2(nr,er,lr)}}if(er.subtreeFlags&12854)for(er=er.child;er!==null;)dk(er,St),er=er.sibling}function dk(St,er){var tr=St.alternate,rr=St.flags;switch(St.tag){case 0:case 11:case 14:case 15:if(ck(er,St),ek(St),rr&4){try{Pj(3,St,St.return),Qj(3,St)}catch(xr){W$2(St,St.return,xr)}try{Pj(5,St,St.return)}catch(xr){W$2(St,St.return,xr)}}break;case 1:ck(er,St),ek(St),rr&512&&tr!==null&&Lj(tr,tr.return);break;case 5:if(ck(er,St),ek(St),rr&512&&tr!==null&&Lj(tr,tr.return),St.flags&32){var nr=St.stateNode;try{ob(nr,"")}catch(xr){W$2(St,St.return,xr)}}if(rr&4&&(nr=St.stateNode,nr!=null)){var ar=St.memoizedProps,sr=tr!==null?tr.memoizedProps:ar,ir=St.type,or=St.updateQueue;if(St.updateQueue=null,or!==null)try{ir==="input"&&ar.type==="radio"&&ar.name!=null&&ab(nr,ar),vb(ir,sr);var lr=vb(ir,ar);for(sr=0;sr<or.length;sr+=2){var cr=or[sr],ur=or[sr+1];cr==="style"?sb(nr,ur):cr==="dangerouslySetInnerHTML"?nb(nr,ur):cr==="children"?ob(nr,ur):ta(nr,cr,ur,lr)}switch(ir){case"input":bb(nr,ar);break;case"textarea":ib(nr,ar);break;case"select":var dr=nr._wrapperState.wasMultiple;nr._wrapperState.wasMultiple=!!ar.multiple;var fr=ar.value;fr!=null?fb(nr,!!ar.multiple,fr,!1):dr!==!!ar.multiple&&(ar.defaultValue!=null?fb(nr,!!ar.multiple,ar.defaultValue,!0):fb(nr,!!ar.multiple,ar.multiple?[]:"",!1))}nr[Pf]=ar}catch(xr){W$2(St,St.return,xr)}}break;case 6:if(ck(er,St),ek(St),rr&4){if(St.stateNode===null)throw Error(p$5(162));nr=St.stateNode,ar=St.memoizedProps;try{nr.nodeValue=ar}catch(xr){W$2(St,St.return,xr)}}break;case 3:if(ck(er,St),ek(St),rr&4&&tr!==null&&tr.memoizedState.isDehydrated)try{bd(er.containerInfo)}catch(xr){W$2(St,St.return,xr)}break;case 4:ck(er,St),ek(St);break;case 13:ck(er,St),ek(St),nr=St.child,nr.flags&8192&&(ar=nr.memoizedState!==null,nr.stateNode.isHidden=ar,!ar||nr.alternate!==null&&nr.alternate.memoizedState!==null||(fk=B$3())),rr&4&&ak(St);break;case 22:if(cr=tr!==null&&tr.memoizedState!==null,St.mode&1?(U$4=(lr=U$4)||cr,ck(er,St),U$4=lr):ck(er,St),ek(St),rr&8192){if(lr=St.memoizedState!==null,(St.stateNode.isHidden=lr)&&!cr&&St.mode&1)for(V$2=St,cr=St.child;cr!==null;){for(ur=V$2=cr;V$2!==null;){switch(dr=V$2,fr=dr.child,dr.tag){case 0:case 11:case 14:case 15:Pj(4,dr,dr.return);break;case 1:Lj(dr,dr.return);var mr=dr.stateNode;if(typeof mr.componentWillUnmount=="function"){rr=dr,tr=dr.return;try{er=rr,mr.props=er.memoizedProps,mr.state=er.memoizedState,mr.componentWillUnmount()}catch(xr){W$2(rr,tr,xr)}}break;case 5:Lj(dr,dr.return);break;case 22:if(dr.memoizedState!==null){gk(ur);continue}}fr!==null?(fr.return=dr,V$2=fr):gk(ur)}cr=cr.sibling}e:for(cr=null,ur=St;;){if(ur.tag===5){if(cr===null){cr=ur;try{nr=ur.stateNode,lr?(ar=nr.style,typeof ar.setProperty=="function"?ar.setProperty("display","none","important"):ar.display="none"):(ir=ur.stateNode,or=ur.memoizedProps.style,sr=or!=null&&or.hasOwnProperty("display")?or.display:null,ir.style.display=rb("display",sr))}catch(xr){W$2(St,St.return,xr)}}}else if(ur.tag===6){if(cr===null)try{ur.stateNode.nodeValue=lr?"":ur.memoizedProps}catch(xr){W$2(St,St.return,xr)}}else if((ur.tag!==22&&ur.tag!==23||ur.memoizedState===null||ur===St)&&ur.child!==null){ur.child.return=ur,ur=ur.child;continue}if(ur===St)break e;for(;ur.sibling===null;){if(ur.return===null||ur.return===St)break e;cr===ur&&(cr=null),ur=ur.return}cr===ur&&(cr=null),ur.sibling.return=ur.return,ur=ur.sibling}}break;case 19:ck(er,St),ek(St),rr&4&&ak(St);break;case 21:break;default:ck(er,St),ek(St)}}function ek(St){var er=St.flags;if(er&2){try{e:{for(var tr=St.return;tr!==null;){if(Tj(tr)){var rr=tr;break e}tr=tr.return}throw Error(p$5(160))}switch(rr.tag){case 5:var nr=rr.stateNode;rr.flags&32&&(ob(nr,""),rr.flags&=-33);var ar=Uj(St);Wj(St,ar,nr);break;case 3:case 4:var sr=rr.stateNode.containerInfo,ir=Uj(St);Vj(St,ir,sr);break;default:throw Error(p$5(161))}}catch(or){W$2(St,St.return,or)}St.flags&=-3}er&4096&&(St.flags&=-4097)}function hk(St,er,tr){V$2=St,ik(St)}function ik(St,er,tr){for(var rr=(St.mode&1)!==0;V$2!==null;){var nr=V$2,ar=nr.child;if(nr.tag===22&&rr){var sr=nr.memoizedState!==null||Jj;if(!sr){var ir=nr.alternate,or=ir!==null&&ir.memoizedState!==null||U$4;ir=Jj;var lr=U$4;if(Jj=sr,(U$4=or)&&!lr)for(V$2=nr;V$2!==null;)sr=V$2,or=sr.child,sr.tag===22&&sr.memoizedState!==null?jk(nr):or!==null?(or.return=sr,V$2=or):jk(nr);for(;ar!==null;)V$2=ar,ik(ar),ar=ar.sibling;V$2=nr,Jj=ir,U$4=lr}kk(St)}else nr.subtreeFlags&8772&&ar!==null?(ar.return=nr,V$2=ar):kk(St)}}function kk(St){for(;V$2!==null;){var er=V$2;if(er.flags&8772){var tr=er.alternate;try{if(er.flags&8772)switch(er.tag){case 0:case 11:case 15:U$4||Qj(5,er);break;case 1:var rr=er.stateNode;if(er.flags&4&&!U$4)if(tr===null)rr.componentDidMount();else{var nr=er.elementType===er.type?tr.memoizedProps:Ci(er.type,tr.memoizedProps);rr.componentDidUpdate(nr,tr.memoizedState,rr.__reactInternalSnapshotBeforeUpdate)}var ar=er.updateQueue;ar!==null&&sh(er,ar,rr);break;case 3:var sr=er.updateQueue;if(sr!==null){if(tr=null,er.child!==null)switch(er.child.tag){case 5:tr=er.child.stateNode;break;case 1:tr=er.child.stateNode}sh(er,sr,tr)}break;case 5:var ir=er.stateNode;if(tr===null&&er.flags&4){tr=ir;var or=er.memoizedProps;switch(er.type){case"button":case"input":case"select":case"textarea":or.autoFocus&&tr.focus();break;case"img":or.src&&(tr.src=or.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(er.memoizedState===null){var lr=er.alternate;if(lr!==null){var cr=lr.memoizedState;if(cr!==null){var ur=cr.dehydrated;ur!==null&&bd(ur)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$5(163))}U$4||er.flags&512&&Rj(er)}catch(dr){W$2(er,er.return,dr)}}if(er===St){V$2=null;break}if(tr=er.sibling,tr!==null){tr.return=er.return,V$2=tr;break}V$2=er.return}}function gk(St){for(;V$2!==null;){var er=V$2;if(er===St){V$2=null;break}var tr=er.sibling;if(tr!==null){tr.return=er.return,V$2=tr;break}V$2=er.return}}function jk(St){for(;V$2!==null;){var er=V$2;try{switch(er.tag){case 0:case 11:case 15:var tr=er.return;try{Qj(4,er)}catch(or){W$2(er,tr,or)}break;case 1:var rr=er.stateNode;if(typeof rr.componentDidMount=="function"){var nr=er.return;try{rr.componentDidMount()}catch(or){W$2(er,nr,or)}}var ar=er.return;try{Rj(er)}catch(or){W$2(er,ar,or)}break;case 5:var sr=er.return;try{Rj(er)}catch(or){W$2(er,sr,or)}}}catch(or){W$2(er,er.return,or)}if(er===St){V$2=null;break}var ir=er.sibling;if(ir!==null){ir.return=er.return,V$2=ir;break}V$2=er.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K$3=0,Q$2=null,Y$1=null,Z$2=0,fj=0,ej=Uf(0),T$4=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R$2(){return K$3&6?B$3():Ak!==-1?Ak:Ak=B$3()}function yi(St){return St.mode&1?K$3&2&&Z$2!==0?Z$2&-Z$2:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(St=C$6,St!==0||(St=window.event,St=St===void 0?16:jd(St.type)),St):1}function gi(St,er,tr,rr){if(50<yk)throw yk=0,zk=null,Error(p$5(185));Ac(St,tr,rr),(!(K$3&2)||St!==Q$2)&&(St===Q$2&&(!(K$3&2)&&(qk|=tr),T$4===4&&Ck(St,Z$2)),Dk(St,rr),tr===1&&K$3===0&&!(er.mode&1)&&(Gj=B$3()+500,fg&&jg()))}function Dk(St,er){var tr=St.callbackNode;wc(St,er);var rr=uc(St,St===Q$2?Z$2:0);if(rr===0)tr!==null&&bc(tr),St.callbackNode=null,St.callbackPriority=0;else if(er=rr&-rr,St.callbackPriority!==er){if(tr!=null&&bc(tr),er===1)St.tag===0?ig(Ek.bind(null,St)):hg(Ek.bind(null,St)),Jf(function(){!(K$3&6)&&jg()}),tr=null;else{switch(Dc(rr)){case 1:tr=fc;break;case 4:tr=gc;break;case 16:tr=hc;break;case 536870912:tr=jc;break;default:tr=hc}tr=Fk(tr,Gk.bind(null,St))}St.callbackPriority=er,St.callbackNode=tr}}function Gk(St,er){if(Ak=-1,Bk=0,K$3&6)throw Error(p$5(327));var tr=St.callbackNode;if(Hk()&&St.callbackNode!==tr)return null;var rr=uc(St,St===Q$2?Z$2:0);if(rr===0)return null;if(rr&30||rr&St.expiredLanes||er)er=Ik(St,rr);else{er=rr;var nr=K$3;K$3|=2;var ar=Jk();(Q$2!==St||Z$2!==er)&&(uk=null,Gj=B$3()+500,Kk(St,er));do try{Lk();break}catch(ir){Mk(St,ir)}while(!0);$g(),mk.current=ar,K$3=nr,Y$1!==null?er=0:(Q$2=null,Z$2=0,er=T$4)}if(er!==0){if(er===2&&(nr=xc(St),nr!==0&&(rr=nr,er=Nk(St,nr))),er===1)throw tr=pk,Kk(St,0),Ck(St,rr),Dk(St,B$3()),tr;if(er===6)Ck(St,rr);else{if(nr=St.current.alternate,!(rr&30)&&!Ok(nr)&&(er=Ik(St,rr),er===2&&(ar=xc(St),ar!==0&&(rr=ar,er=Nk(St,ar))),er===1))throw tr=pk,Kk(St,0),Ck(St,rr),Dk(St,B$3()),tr;switch(St.finishedWork=nr,St.finishedLanes=rr,er){case 0:case 1:throw Error(p$5(345));case 2:Pk(St,tk,uk);break;case 3:if(Ck(St,rr),(rr&130023424)===rr&&(er=fk+500-B$3(),10<er)){if(uc(St,0)!==0)break;if(nr=St.suspendedLanes,(nr&rr)!==rr){R$2(),St.pingedLanes|=St.suspendedLanes&nr;break}St.timeoutHandle=Ff(Pk.bind(null,St,tk,uk),er);break}Pk(St,tk,uk);break;case 4:if(Ck(St,rr),(rr&4194240)===rr)break;for(er=St.eventTimes,nr=-1;0<rr;){var sr=31-oc(rr);ar=1<<sr,sr=er[sr],sr>nr&&(nr=sr),rr&=~ar}if(rr=nr,rr=B$3()-rr,rr=(120>rr?120:480>rr?480:1080>rr?1080:1920>rr?1920:3e3>rr?3e3:4320>rr?4320:1960*lk(rr/1960))-rr,10<rr){St.timeoutHandle=Ff(Pk.bind(null,St,tk,uk),rr);break}Pk(St,tk,uk);break;case 5:Pk(St,tk,uk);break;default:throw Error(p$5(329))}}}return Dk(St,B$3()),St.callbackNode===tr?Gk.bind(null,St):null}function Nk(St,er){var tr=sk;return St.current.memoizedState.isDehydrated&&(Kk(St,er).flags|=256),St=Ik(St,er),St!==2&&(er=tk,tk=tr,er!==null&&Fj(er)),St}function Fj(St){tk===null?tk=St:tk.push.apply(tk,St)}function Ok(St){for(var er=St;;){if(er.flags&16384){var tr=er.updateQueue;if(tr!==null&&(tr=tr.stores,tr!==null))for(var rr=0;rr<tr.length;rr++){var nr=tr[rr],ar=nr.getSnapshot;nr=nr.value;try{if(!He$2(ar(),nr))return!1}catch{return!1}}}if(tr=er.child,er.subtreeFlags&16384&&tr!==null)tr.return=er,er=tr;else{if(er===St)break;for(;er.sibling===null;){if(er.return===null||er.return===St)return!0;er=er.return}er.sibling.return=er.return,er=er.sibling}}return!0}function Ck(St,er){for(er&=~rk,er&=~qk,St.suspendedLanes|=er,St.pingedLanes&=~er,St=St.expirationTimes;0<er;){var tr=31-oc(er),rr=1<<tr;St[tr]=-1,er&=~rr}}function Ek(St){if(K$3&6)throw Error(p$5(327));Hk();var er=uc(St,0);if(!(er&1))return Dk(St,B$3()),null;var tr=Ik(St,er);if(St.tag!==0&&tr===2){var rr=xc(St);rr!==0&&(er=rr,tr=Nk(St,rr))}if(tr===1)throw tr=pk,Kk(St,0),Ck(St,er),Dk(St,B$3()),tr;if(tr===6)throw Error(p$5(345));return St.finishedWork=St.current.alternate,St.finishedLanes=er,Pk(St,tk,uk),Dk(St,B$3()),null}function Qk(St,er){var tr=K$3;K$3|=1;try{return St(er)}finally{K$3=tr,K$3===0&&(Gj=B$3()+500,fg&&jg())}}function Rk(St){wk!==null&&wk.tag===0&&!(K$3&6)&&Hk();var er=K$3;K$3|=1;var tr=ok.transition,rr=C$6;try{if(ok.transition=null,C$6=1,St)return St()}finally{C$6=rr,ok.transition=tr,K$3=er,!(K$3&6)&&jg()}}function Hj(){fj=ej.current,E$3(ej)}function Kk(St,er){St.finishedWork=null,St.finishedLanes=0;var tr=St.timeoutHandle;if(tr!==-1&&(St.timeoutHandle=-1,Gf(tr)),Y$1!==null)for(tr=Y$1.return;tr!==null;){var rr=tr;switch(wg(rr),rr.tag){case 1:rr=rr.type.childContextTypes,rr!=null&&$f();break;case 3:zh(),E$3(Wf),E$3(H$6),Eh();break;case 5:Bh(rr);break;case 4:zh();break;case 13:E$3(L$4);break;case 19:E$3(L$4);break;case 10:ah(rr.type._context);break;case 22:case 23:Hj()}tr=tr.return}if(Q$2=St,Y$1=St=Pg(St.current,null),Z$2=fj=er,T$4=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(er=0;er<fh.length;er++)if(tr=fh[er],rr=tr.interleaved,rr!==null){tr.interleaved=null;var nr=rr.next,ar=tr.pending;if(ar!==null){var sr=ar.next;ar.next=nr,rr.next=sr}tr.pending=rr}fh=null}return St}function Mk(St,er){do{var tr=Y$1;try{if($g(),Fh.current=Rh,Ih){for(var rr=M$4.memoizedState;rr!==null;){var nr=rr.queue;nr!==null&&(nr.pending=null),rr=rr.next}Ih=!1}if(Hh=0,O$4=N$2=M$4=null,Jh=!1,Kh=0,nk.current=null,tr===null||tr.return===null){T$4=1,pk=er,Y$1=null;break}e:{var ar=St,sr=tr.return,ir=tr,or=er;if(er=Z$2,ir.flags|=32768,or!==null&&typeof or=="object"&&typeof or.then=="function"){var lr=or,cr=ir,ur=cr.tag;if(!(cr.mode&1)&&(ur===0||ur===11||ur===15)){var dr=cr.alternate;dr?(cr.updateQueue=dr.updateQueue,cr.memoizedState=dr.memoizedState,cr.lanes=dr.lanes):(cr.updateQueue=null,cr.memoizedState=null)}var fr=Ui(sr);if(fr!==null){fr.flags&=-257,Vi(fr,sr,ir,ar,er),fr.mode&1&&Si(ar,lr,er),er=fr,or=lr;var mr=er.updateQueue;if(mr===null){var xr=new Set;xr.add(or),er.updateQueue=xr}else mr.add(or);break e}else{if(!(er&1)){Si(ar,lr,er),tj();break e}or=Error(p$5(426))}}else if(I$6&&ir.mode&1){var pr=Ui(sr);if(pr!==null){!(pr.flags&65536)&&(pr.flags|=256),Vi(pr,sr,ir,ar,er),Jg(Ji(or,ir));break e}}ar=or=Ji(or,ir),T$4!==4&&(T$4=2),sk===null?sk=[ar]:sk.push(ar),ar=sr;do{switch(ar.tag){case 3:ar.flags|=65536,er&=-er,ar.lanes|=er;var hr=Ni(ar,or,er);ph(ar,hr);break e;case 1:ir=or;var gr=ar.type,vr=ar.stateNode;if(!(ar.flags&128)&&(typeof gr.getDerivedStateFromError=="function"||vr!==null&&typeof vr.componentDidCatch=="function"&&(Ri===null||!Ri.has(vr)))){ar.flags|=65536,er&=-er,ar.lanes|=er;var br=Qi(ar,ir,er);ph(ar,br);break e}}ar=ar.return}while(ar!==null)}Sk(tr)}catch(yr){er=yr,Y$1===tr&&tr!==null&&(Y$1=tr=tr.return);continue}break}while(!0)}function Jk(){var St=mk.current;return mk.current=Rh,St===null?Rh:St}function tj(){(T$4===0||T$4===3||T$4===2)&&(T$4=4),Q$2===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q$2,Z$2)}function Ik(St,er){var tr=K$3;K$3|=2;var rr=Jk();(Q$2!==St||Z$2!==er)&&(uk=null,Kk(St,er));do try{Tk();break}catch(nr){Mk(St,nr)}while(!0);if($g(),K$3=tr,mk.current=rr,Y$1!==null)throw Error(p$5(261));return Q$2=null,Z$2=0,T$4}function Tk(){for(;Y$1!==null;)Uk(Y$1)}function Lk(){for(;Y$1!==null&&!cc();)Uk(Y$1)}function Uk(St){var er=Vk(St.alternate,St,fj);St.memoizedProps=St.pendingProps,er===null?Sk(St):Y$1=er,nk.current=null}function Sk(St){var er=St;do{var tr=er.alternate;if(St=er.return,er.flags&32768){if(tr=Ij(tr,er),tr!==null){tr.flags&=32767,Y$1=tr;return}if(St!==null)St.flags|=32768,St.subtreeFlags=0,St.deletions=null;else{T$4=6,Y$1=null;return}}else if(tr=Ej(tr,er,fj),tr!==null){Y$1=tr;return}if(er=er.sibling,er!==null){Y$1=er;return}Y$1=er=St}while(er!==null);T$4===0&&(T$4=5)}function Pk(St,er,tr){var rr=C$6,nr=ok.transition;try{ok.transition=null,C$6=1,Wk(St,er,tr,rr)}finally{ok.transition=nr,C$6=rr}return null}function Wk(St,er,tr,rr){do Hk();while(wk!==null);if(K$3&6)throw Error(p$5(327));tr=St.finishedWork;var nr=St.finishedLanes;if(tr===null)return null;if(St.finishedWork=null,St.finishedLanes=0,tr===St.current)throw Error(p$5(177));St.callbackNode=null,St.callbackPriority=0;var ar=tr.lanes|tr.childLanes;if(Bc(St,ar),St===Q$2&&(Y$1=Q$2=null,Z$2=0),!(tr.subtreeFlags&2064)&&!(tr.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),ar=(tr.flags&15990)!==0,tr.subtreeFlags&15990||ar){ar=ok.transition,ok.transition=null;var sr=C$6;C$6=1;var ir=K$3;K$3|=4,nk.current=null,Oj(St,tr),dk(tr,St),Oe(Df),dd=!!Cf,Df=Cf=null,St.current=tr,hk(tr),dc(),K$3=ir,C$6=sr,ok.transition=ar}else St.current=tr;if(vk&&(vk=!1,wk=St,xk=nr),ar=St.pendingLanes,ar===0&&(Ri=null),mc(tr.stateNode),Dk(St,B$3()),er!==null)for(rr=St.onRecoverableError,tr=0;tr<er.length;tr++)nr=er[tr],rr(nr.value,{componentStack:nr.stack,digest:nr.digest});if(Oi)throw Oi=!1,St=Pi,Pi=null,St;return xk&1&&St.tag!==0&&Hk(),ar=St.pendingLanes,ar&1?St===zk?yk++:(yk=0,zk=St):yk=0,jg(),null}function Hk(){if(wk!==null){var St=Dc(xk),er=ok.transition,tr=C$6;try{if(ok.transition=null,C$6=16>St?16:St,wk===null)var rr=!1;else{if(St=wk,wk=null,xk=0,K$3&6)throw Error(p$5(331));var nr=K$3;for(K$3|=4,V$2=St.current;V$2!==null;){var ar=V$2,sr=ar.child;if(V$2.flags&16){var ir=ar.deletions;if(ir!==null){for(var or=0;or<ir.length;or++){var lr=ir[or];for(V$2=lr;V$2!==null;){var cr=V$2;switch(cr.tag){case 0:case 11:case 15:Pj(8,cr,ar)}var ur=cr.child;if(ur!==null)ur.return=cr,V$2=ur;else for(;V$2!==null;){cr=V$2;var dr=cr.sibling,fr=cr.return;if(Sj(cr),cr===lr){V$2=null;break}if(dr!==null){dr.return=fr,V$2=dr;break}V$2=fr}}}var mr=ar.alternate;if(mr!==null){var xr=mr.child;if(xr!==null){mr.child=null;do{var pr=xr.sibling;xr.sibling=null,xr=pr}while(xr!==null)}}V$2=ar}}if(ar.subtreeFlags&2064&&sr!==null)sr.return=ar,V$2=sr;else e:for(;V$2!==null;){if(ar=V$2,ar.flags&2048)switch(ar.tag){case 0:case 11:case 15:Pj(9,ar,ar.return)}var hr=ar.sibling;if(hr!==null){hr.return=ar.return,V$2=hr;break e}V$2=ar.return}}var gr=St.current;for(V$2=gr;V$2!==null;){sr=V$2;var vr=sr.child;if(sr.subtreeFlags&2064&&vr!==null)vr.return=sr,V$2=vr;else e:for(sr=gr;V$2!==null;){if(ir=V$2,ir.flags&2048)try{switch(ir.tag){case 0:case 11:case 15:Qj(9,ir)}}catch(yr){W$2(ir,ir.return,yr)}if(ir===sr){V$2=null;break e}var br=ir.sibling;if(br!==null){br.return=ir.return,V$2=br;break e}V$2=ir.return}}if(K$3=nr,jg(),lc$1&&typeof lc$1.onPostCommitFiberRoot=="function")try{lc$1.onPostCommitFiberRoot(kc,St)}catch{}rr=!0}return rr}finally{C$6=tr,ok.transition=er}}return!1}function Xk(St,er,tr){er=Ji(tr,er),er=Ni(St,er,1),St=nh(St,er,1),er=R$2(),St!==null&&(Ac(St,1,er),Dk(St,er))}function W$2(St,er,tr){if(St.tag===3)Xk(St,St,tr);else for(;er!==null;){if(er.tag===3){Xk(er,St,tr);break}else if(er.tag===1){var rr=er.stateNode;if(typeof er.type.getDerivedStateFromError=="function"||typeof rr.componentDidCatch=="function"&&(Ri===null||!Ri.has(rr))){St=Ji(tr,St),St=Qi(er,St,1),er=nh(er,St,1),St=R$2(),er!==null&&(Ac(er,1,St),Dk(er,St));break}}er=er.return}}function Ti(St,er,tr){var rr=St.pingCache;rr!==null&&rr.delete(er),er=R$2(),St.pingedLanes|=St.suspendedLanes&tr,Q$2===St&&(Z$2&tr)===tr&&(T$4===4||T$4===3&&(Z$2&130023424)===Z$2&&500>B$3()-fk?Kk(St,0):rk|=tr),Dk(St,er)}function Yk(St,er){er===0&&(St.mode&1?(er=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):er=1);var tr=R$2();St=ih(St,er),St!==null&&(Ac(St,er,tr),Dk(St,tr))}function uj(St){var er=St.memoizedState,tr=0;er!==null&&(tr=er.retryLane),Yk(St,tr)}function bk(St,er){var tr=0;switch(St.tag){case 13:var rr=St.stateNode,nr=St.memoizedState;nr!==null&&(tr=nr.retryLane);break;case 19:rr=St.stateNode;break;default:throw Error(p$5(314))}rr!==null&&rr.delete(er),Yk(St,tr)}var Vk;Vk=function(St,er,tr){if(St!==null)if(St.memoizedProps!==er.pendingProps||Wf.current)dh=!0;else{if(!(St.lanes&tr)&&!(er.flags&128))return dh=!1,yj(St,er,tr);dh=!!(St.flags&131072)}else dh=!1,I$6&&er.flags&1048576&&ug(er,ng,er.index);switch(er.lanes=0,er.tag){case 2:var rr=er.type;ij(St,er),St=er.pendingProps;var nr=Yf(er,H$6.current);ch(er,tr),nr=Nh(null,er,rr,St,nr,tr);var ar=Sh();return er.flags|=1,typeof nr=="object"&&nr!==null&&typeof nr.render=="function"&&nr.$$typeof===void 0?(er.tag=1,er.memoizedState=null,er.updateQueue=null,Zf(rr)?(ar=!0,cg(er)):ar=!1,er.memoizedState=nr.state!==null&&nr.state!==void 0?nr.state:null,kh(er),nr.updater=Ei,er.stateNode=nr,nr._reactInternals=er,Ii(er,rr,St,tr),er=jj(null,er,rr,!0,ar,tr)):(er.tag=0,I$6&&ar&&vg(er),Xi(null,er,nr,tr),er=er.child),er;case 16:rr=er.elementType;e:{switch(ij(St,er),St=er.pendingProps,nr=rr._init,rr=nr(rr._payload),er.type=rr,nr=er.tag=Zk(rr),St=Ci(rr,St),nr){case 0:er=cj(null,er,rr,St,tr);break e;case 1:er=hj(null,er,rr,St,tr);break e;case 11:er=Yi(null,er,rr,St,tr);break e;case 14:er=$i(null,er,rr,Ci(rr.type,St),tr);break e}throw Error(p$5(306,rr,""))}return er;case 0:return rr=er.type,nr=er.pendingProps,nr=er.elementType===rr?nr:Ci(rr,nr),cj(St,er,rr,nr,tr);case 1:return rr=er.type,nr=er.pendingProps,nr=er.elementType===rr?nr:Ci(rr,nr),hj(St,er,rr,nr,tr);case 3:e:{if(kj(er),St===null)throw Error(p$5(387));rr=er.pendingProps,ar=er.memoizedState,nr=ar.element,lh(St,er),qh(er,rr,null,tr);var sr=er.memoizedState;if(rr=sr.element,ar.isDehydrated)if(ar={element:rr,isDehydrated:!1,cache:sr.cache,pendingSuspenseBoundaries:sr.pendingSuspenseBoundaries,transitions:sr.transitions},er.updateQueue.baseState=ar,er.memoizedState=ar,er.flags&256){nr=Ji(Error(p$5(423)),er),er=lj(St,er,rr,tr,nr);break e}else if(rr!==nr){nr=Ji(Error(p$5(424)),er),er=lj(St,er,rr,tr,nr);break e}else for(yg=Lf(er.stateNode.containerInfo.firstChild),xg=er,I$6=!0,zg=null,tr=Vg(er,null,rr,tr),er.child=tr;tr;)tr.flags=tr.flags&-3|4096,tr=tr.sibling;else{if(Ig(),rr===nr){er=Zi(St,er,tr);break e}Xi(St,er,rr,tr)}er=er.child}return er;case 5:return Ah(er),St===null&&Eg(er),rr=er.type,nr=er.pendingProps,ar=St!==null?St.memoizedProps:null,sr=nr.children,Ef(rr,nr)?sr=null:ar!==null&&Ef(rr,ar)&&(er.flags|=32),gj(St,er),Xi(St,er,sr,tr),er.child;case 6:return St===null&&Eg(er),null;case 13:return oj(St,er,tr);case 4:return yh(er,er.stateNode.containerInfo),rr=er.pendingProps,St===null?er.child=Ug(er,null,rr,tr):Xi(St,er,rr,tr),er.child;case 11:return rr=er.type,nr=er.pendingProps,nr=er.elementType===rr?nr:Ci(rr,nr),Yi(St,er,rr,nr,tr);case 7:return Xi(St,er,er.pendingProps,tr),er.child;case 8:return Xi(St,er,er.pendingProps.children,tr),er.child;case 12:return Xi(St,er,er.pendingProps.children,tr),er.child;case 10:e:{if(rr=er.type._context,nr=er.pendingProps,ar=er.memoizedProps,sr=nr.value,G$3(Wg,rr._currentValue),rr._currentValue=sr,ar!==null)if(He$2(ar.value,sr)){if(ar.children===nr.children&&!Wf.current){er=Zi(St,er,tr);break e}}else for(ar=er.child,ar!==null&&(ar.return=er);ar!==null;){var ir=ar.dependencies;if(ir!==null){sr=ar.child;for(var or=ir.firstContext;or!==null;){if(or.context===rr){if(ar.tag===1){or=mh(-1,tr&-tr),or.tag=2;var lr=ar.updateQueue;if(lr!==null){lr=lr.shared;var cr=lr.pending;cr===null?or.next=or:(or.next=cr.next,cr.next=or),lr.pending=or}}ar.lanes|=tr,or=ar.alternate,or!==null&&(or.lanes|=tr),bh(ar.return,tr,er),ir.lanes|=tr;break}or=or.next}}else if(ar.tag===10)sr=ar.type===er.type?null:ar.child;else if(ar.tag===18){if(sr=ar.return,sr===null)throw Error(p$5(341));sr.lanes|=tr,ir=sr.alternate,ir!==null&&(ir.lanes|=tr),bh(sr,tr,er),sr=ar.sibling}else sr=ar.child;if(sr!==null)sr.return=ar;else for(sr=ar;sr!==null;){if(sr===er){sr=null;break}if(ar=sr.sibling,ar!==null){ar.return=sr.return,sr=ar;break}sr=sr.return}ar=sr}Xi(St,er,nr.children,tr),er=er.child}return er;case 9:return nr=er.type,rr=er.pendingProps.children,ch(er,tr),nr=eh(nr),rr=rr(nr),er.flags|=1,Xi(St,er,rr,tr),er.child;case 14:return rr=er.type,nr=Ci(rr,er.pendingProps),nr=Ci(rr.type,nr),$i(St,er,rr,nr,tr);case 15:return bj(St,er,er.type,er.pendingProps,tr);case 17:return rr=er.type,nr=er.pendingProps,nr=er.elementType===rr?nr:Ci(rr,nr),ij(St,er),er.tag=1,Zf(rr)?(St=!0,cg(er)):St=!1,ch(er,tr),Gi(er,rr,nr),Ii(er,rr,nr,tr),jj(null,er,rr,!0,St,tr);case 19:return xj(St,er,tr);case 22:return dj(St,er,tr)}throw Error(p$5(156,er.tag))};function Fk(St,er){return ac(St,er)}function $k(St,er,tr,rr){this.tag=St,this.key=tr,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=er,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=rr,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(St,er,tr,rr){return new $k(St,er,tr,rr)}function aj(St){return St=St.prototype,!(!St||!St.isReactComponent)}function Zk(St){if(typeof St=="function")return aj(St)?1:0;if(St!=null){if(St=St.$$typeof,St===Da)return 11;if(St===Ga)return 14}return 2}function Pg(St,er){var tr=St.alternate;return tr===null?(tr=Bg(St.tag,er,St.key,St.mode),tr.elementType=St.elementType,tr.type=St.type,tr.stateNode=St.stateNode,tr.alternate=St,St.alternate=tr):(tr.pendingProps=er,tr.type=St.type,tr.flags=0,tr.subtreeFlags=0,tr.deletions=null),tr.flags=St.flags&14680064,tr.childLanes=St.childLanes,tr.lanes=St.lanes,tr.child=St.child,tr.memoizedProps=St.memoizedProps,tr.memoizedState=St.memoizedState,tr.updateQueue=St.updateQueue,er=St.dependencies,tr.dependencies=er===null?null:{lanes:er.lanes,firstContext:er.firstContext},tr.sibling=St.sibling,tr.index=St.index,tr.ref=St.ref,tr}function Rg(St,er,tr,rr,nr,ar){var sr=2;if(rr=St,typeof St=="function")aj(St)&&(sr=1);else if(typeof St=="string")sr=5;else e:switch(St){case ya:return Tg(tr.children,nr,ar,er);case za:sr=8,nr|=8;break;case Aa:return St=Bg(12,tr,er,nr|2),St.elementType=Aa,St.lanes=ar,St;case Ea:return St=Bg(13,tr,er,nr),St.elementType=Ea,St.lanes=ar,St;case Fa:return St=Bg(19,tr,er,nr),St.elementType=Fa,St.lanes=ar,St;case Ia:return pj(tr,nr,ar,er);default:if(typeof St=="object"&&St!==null)switch(St.$$typeof){case Ba:sr=10;break e;case Ca:sr=9;break e;case Da:sr=11;break e;case Ga:sr=14;break e;case Ha:sr=16,rr=null;break e}throw Error(p$5(130,St==null?St:typeof St,""))}return er=Bg(sr,tr,er,nr),er.elementType=St,er.type=rr,er.lanes=ar,er}function Tg(St,er,tr,rr){return St=Bg(7,St,rr,er),St.lanes=tr,St}function pj(St,er,tr,rr){return St=Bg(22,St,rr,er),St.elementType=Ia,St.lanes=tr,St.stateNode={isHidden:!1},St}function Qg(St,er,tr){return St=Bg(6,St,null,er),St.lanes=tr,St}function Sg(St,er,tr){return er=Bg(4,St.children!==null?St.children:[],St.key,er),er.lanes=tr,er.stateNode={containerInfo:St.containerInfo,pendingChildren:null,implementation:St.implementation},er}function al(St,er,tr,rr,nr){this.tag=er,this.containerInfo=St,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=rr,this.onRecoverableError=nr,this.mutableSourceEagerHydrationData=null}function bl(St,er,tr,rr,nr,ar,sr,ir,or){return St=new al(St,er,tr,ir,or),er===1?(er=1,ar===!0&&(er|=8)):er=0,ar=Bg(3,null,null,er),St.current=ar,ar.stateNode=St,ar.memoizedState={element:rr,isDehydrated:tr,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(ar),St}function cl(St,er,tr){var rr=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:rr==null?null:""+rr,children:St,containerInfo:er,implementation:tr}}function dl(St){if(!St)return Vf;St=St._reactInternals;e:{if(Vb(St)!==St||St.tag!==1)throw Error(p$5(170));var er=St;do{switch(er.tag){case 3:er=er.stateNode.context;break e;case 1:if(Zf(er.type)){er=er.stateNode.__reactInternalMemoizedMergedChildContext;break e}}er=er.return}while(er!==null);throw Error(p$5(171))}if(St.tag===1){var tr=St.type;if(Zf(tr))return bg(St,tr,er)}return er}function el(St,er,tr,rr,nr,ar,sr,ir,or){return St=bl(tr,rr,!0,St,nr,ar,sr,ir,or),St.context=dl(null),tr=St.current,rr=R$2(),nr=yi(tr),ar=mh(rr,nr),ar.callback=er??null,nh(tr,ar,nr),St.current.lanes=nr,Ac(St,nr,rr),Dk(St,rr),St}function fl$1(St,er,tr,rr){var nr=er.current,ar=R$2(),sr=yi(nr);return tr=dl(tr),er.context===null?er.context=tr:er.pendingContext=tr,er=mh(ar,sr),er.payload={element:St},rr=rr===void 0?null:rr,rr!==null&&(er.callback=rr),St=nh(nr,er,sr),St!==null&&(gi(St,nr,sr,ar),oh(St,nr,sr)),sr}function gl(St){if(St=St.current,!St.child)return null;switch(St.child.tag){case 5:return St.child.stateNode;default:return St.child.stateNode}}function hl(St,er){if(St=St.memoizedState,St!==null&&St.dehydrated!==null){var tr=St.retryLane;St.retryLane=tr!==0&&tr<er?tr:er}}function il(St,er){hl(St,er),(St=St.alternate)&&hl(St,er)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(St){console.error(St)};function ll(St){this._internalRoot=St}ml.prototype.render=ll.prototype.render=function(St){var er=this._internalRoot;if(er===null)throw Error(p$5(409));fl$1(St,er,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var St=this._internalRoot;if(St!==null){this._internalRoot=null;var er=St.containerInfo;Rk(function(){fl$1(null,St,null,null)}),er[uf]=null}};function ml(St){this._internalRoot=St}ml.prototype.unstable_scheduleHydration=function(St){if(St){var er=Hc();St={blockedOn:null,target:St,priority:er};for(var tr=0;tr<Qc.length&&er!==0&&er<Qc[tr].priority;tr++);Qc.splice(tr,0,St),tr===0&&Vc(St)}};function nl(St){return!(!St||St.nodeType!==1&&St.nodeType!==9&&St.nodeType!==11)}function ol(St){return!(!St||St.nodeType!==1&&St.nodeType!==9&&St.nodeType!==11&&(St.nodeType!==8||St.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(St,er,tr,rr,nr){if(nr){if(typeof rr=="function"){var ar=rr;rr=function(){var lr=gl(sr);ar.call(lr)}}var sr=el(er,rr,St,0,null,!1,!1,"",pl);return St._reactRootContainer=sr,St[uf]=sr.current,sf(St.nodeType===8?St.parentNode:St),Rk(),sr}for(;nr=St.lastChild;)St.removeChild(nr);if(typeof rr=="function"){var ir=rr;rr=function(){var lr=gl(or);ir.call(lr)}}var or=bl(St,0,!1,null,null,!1,!1,"",pl);return St._reactRootContainer=or,St[uf]=or.current,sf(St.nodeType===8?St.parentNode:St),Rk(function(){fl$1(er,or,tr,rr)}),or}function rl(St,er,tr,rr,nr){var ar=tr._reactRootContainer;if(ar){var sr=ar;if(typeof nr=="function"){var ir=nr;nr=function(){var or=gl(sr);ir.call(or)}}fl$1(er,sr,St,nr)}else sr=ql(tr,er,St,nr,rr);return gl(sr)}Ec=function(St){switch(St.tag){case 3:var er=St.stateNode;if(er.current.memoizedState.isDehydrated){var tr=tc(er.pendingLanes);tr!==0&&(Cc(er,tr|1),Dk(er,B$3()),!(K$3&6)&&(Gj=B$3()+500,jg()))}break;case 13:Rk(function(){var rr=ih(St,1);if(rr!==null){var nr=R$2();gi(rr,St,1,nr)}}),il(St,1)}};Fc=function(St){if(St.tag===13){var er=ih(St,134217728);if(er!==null){var tr=R$2();gi(er,St,134217728,tr)}il(St,134217728)}};Gc=function(St){if(St.tag===13){var er=yi(St),tr=ih(St,er);if(tr!==null){var rr=R$2();gi(tr,St,er,rr)}il(St,er)}};Hc=function(){return C$6};Ic=function(St,er){var tr=C$6;try{return C$6=St,er()}finally{C$6=tr}};yb=function(St,er,tr){switch(er){case"input":if(bb(St,tr),er=tr.name,tr.type==="radio"&&er!=null){for(tr=St;tr.parentNode;)tr=tr.parentNode;for(tr=tr.querySelectorAll("input[name="+JSON.stringify(""+er)+'][type="radio"]'),er=0;er<tr.length;er++){var rr=tr[er];if(rr!==St&&rr.form===St.form){var nr=Db(rr);if(!nr)throw Error(p$5(90));Wa(rr),bb(rr,nr)}}}break;case"textarea":ib(St,tr);break;case"select":er=tr.value,er!=null&&fb(St,!!tr.multiple,er,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue$2,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(St){return St=Zb(St),St===null?null:St.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc$1=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(St,er){var tr=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(er))throw Error(p$5(200));return cl(St,er,null,tr)};reactDom_production_min.createRoot=function(St,er){if(!nl(St))throw Error(p$5(299));var tr=!1,rr="",nr=kl;return er!=null&&(er.unstable_strictMode===!0&&(tr=!0),er.identifierPrefix!==void 0&&(rr=er.identifierPrefix),er.onRecoverableError!==void 0&&(nr=er.onRecoverableError)),er=bl(St,1,!1,null,null,tr,!1,rr,nr),St[uf]=er.current,sf(St.nodeType===8?St.parentNode:St),new ll(er)};reactDom_production_min.findDOMNode=function(St){if(St==null)return null;if(St.nodeType===1)return St;var er=St._reactInternals;if(er===void 0)throw typeof St.render=="function"?Error(p$5(188)):(St=Object.keys(St).join(","),Error(p$5(268,St)));return St=Zb(er),St=St===null?null:St.stateNode,St};reactDom_production_min.flushSync=function(St){return Rk(St)};reactDom_production_min.hydrate=function(St,er,tr){if(!ol(er))throw Error(p$5(200));return rl(null,St,er,!0,tr)};reactDom_production_min.hydrateRoot=function(St,er,tr){if(!nl(St))throw Error(p$5(405));var rr=tr!=null&&tr.hydratedSources||null,nr=!1,ar="",sr=kl;if(tr!=null&&(tr.unstable_strictMode===!0&&(nr=!0),tr.identifierPrefix!==void 0&&(ar=tr.identifierPrefix),tr.onRecoverableError!==void 0&&(sr=tr.onRecoverableError)),er=el(er,null,St,1,tr??null,nr,!1,ar,sr),St[uf]=er.current,sf(St),rr)for(St=0;St<rr.length;St++)tr=rr[St],nr=tr._getVersion,nr=nr(tr._source),er.mutableSourceEagerHydrationData==null?er.mutableSourceEagerHydrationData=[tr,nr]:er.mutableSourceEagerHydrationData.push(tr,nr);return new ml(er)};reactDom_production_min.render=function(St,er,tr){if(!ol(er))throw Error(p$5(200));return rl(null,St,er,!1,tr)};reactDom_production_min.unmountComponentAtNode=function(St){if(!ol(St))throw Error(p$5(40));return St._reactRootContainer?(Rk(function(){rl(null,null,St,!1,function(){St._reactRootContainer=null,St[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(St,er,tr,rr){if(!ol(tr))throw Error(p$5(200));if(St==null||St._reactInternals===void 0)throw Error(p$5(38));return rl(St,er,tr,!1,rr)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(St){console.error(St)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,createRoot,m$5=reactDomExports;createRoot=m$5.createRoot,m$5.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$u(){return _extends$u=Object.assign?Object.assign.bind():function(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er];for(var rr in tr)Object.prototype.hasOwnProperty.call(tr,rr)&&(St[rr]=tr[rr])}return St},_extends$u.apply(this,arguments)}var Action;(function(St){St.Pop="POP",St.Push="PUSH",St.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(St){St===void 0&&(St={});function er(rr,nr){let{pathname:ar,search:sr,hash:ir}=rr.location;return createLocation("",{pathname:ar,search:sr,hash:ir},nr.state&&nr.state.usr||null,nr.state&&nr.state.key||"default")}function tr(rr,nr){return typeof nr=="string"?nr:createPath(nr)}return getUrlBasedHistory(er,tr,null,St)}function invariant$2(St,er){if(St===!1||St===null||typeof St>"u")throw new Error(er)}function warning(St,er){if(!St){typeof console<"u"&&console.warn(er);try{throw new Error(er)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(St,er){return{usr:St.state,key:St.key,idx:er}}function createLocation(St,er,tr,rr){return tr===void 0&&(tr=null),_extends$u({pathname:typeof St=="string"?St:St.pathname,search:"",hash:""},typeof er=="string"?parsePath(er):er,{state:tr,key:er&&er.key||rr||createKey()})}function createPath(St){let{pathname:er="/",search:tr="",hash:rr=""}=St;return tr&&tr!=="?"&&(er+=tr.charAt(0)==="?"?tr:"?"+tr),rr&&rr!=="#"&&(er+=rr.charAt(0)==="#"?rr:"#"+rr),er}function parsePath(St){let er={};if(St){let tr=St.indexOf("#");tr>=0&&(er.hash=St.substr(tr),St=St.substr(0,tr));let rr=St.indexOf("?");rr>=0&&(er.search=St.substr(rr),St=St.substr(0,rr)),St&&(er.pathname=St)}return er}function getUrlBasedHistory(St,er,tr,rr){rr===void 0&&(rr={});let{window:nr=document.defaultView,v5Compat:ar=!1}=rr,sr=nr.history,ir=Action.Pop,or=null,lr=cr();lr==null&&(lr=0,sr.replaceState(_extends$u({},sr.state,{idx:lr}),""));function cr(){return(sr.state||{idx:null}).idx}function ur(){ir=Action.Pop;let pr=cr(),hr=pr==null?null:pr-lr;lr=pr,or&&or({action:ir,location:xr.location,delta:hr})}function dr(pr,hr){ir=Action.Push;let gr=createLocation(xr.location,pr,hr);lr=cr()+1;let vr=getHistoryState(gr,lr),br=xr.createHref(gr);try{sr.pushState(vr,"",br)}catch(yr){if(yr instanceof DOMException&&yr.name==="DataCloneError")throw yr;nr.location.assign(br)}ar&&or&&or({action:ir,location:xr.location,delta:1})}function fr(pr,hr){ir=Action.Replace;let gr=createLocation(xr.location,pr,hr);lr=cr();let vr=getHistoryState(gr,lr),br=xr.createHref(gr);sr.replaceState(vr,"",br),ar&&or&&or({action:ir,location:xr.location,delta:0})}function mr(pr){let hr=nr.location.origin!=="null"?nr.location.origin:nr.location.href,gr=typeof pr=="string"?pr:createPath(pr);return gr=gr.replace(/ $/,"%20"),invariant$2(hr,"No window.location.(origin|href) available to create URL for href: "+gr),new URL(gr,hr)}let xr={get action(){return ir},get location(){return St(nr,sr)},listen(pr){if(or)throw new Error("A history only accepts one active listener");return nr.addEventListener(PopStateEventType,ur),or=pr,()=>{nr.removeEventListener(PopStateEventType,ur),or=null}},createHref(pr){return er(nr,pr)},createURL:mr,encodeLocation(pr){let hr=mr(pr);return{pathname:hr.pathname,search:hr.search,hash:hr.hash}},push:dr,replace:fr,go(pr){return sr.go(pr)}};return xr}var ResultType;(function(St){St.data="data",St.deferred="deferred",St.redirect="redirect",St.error="error"})(ResultType||(ResultType={}));function matchRoutes(St,er,tr){return tr===void 0&&(tr="/"),matchRoutesImpl(St,er,tr)}function matchRoutesImpl(St,er,tr,rr){let nr=typeof er=="string"?parsePath(er):er,ar=stripBasename(nr.pathname||"/",tr);if(ar==null)return null;let sr=flattenRoutes(St);rankRouteBranches(sr);let ir=null;for(let or=0;ir==null&&or<sr.length;++or){let lr=decodePath(ar);ir=matchRouteBranch(sr[or],lr)}return ir}function flattenRoutes(St,er,tr,rr){er===void 0&&(er=[]),tr===void 0&&(tr=[]),rr===void 0&&(rr="");let nr=(ar,sr,ir)=>{let or={relativePath:ir===void 0?ar.path||"":ir,caseSensitive:ar.caseSensitive===!0,childrenIndex:sr,route:ar};or.relativePath.startsWith("/")&&(invariant$2(or.relativePath.startsWith(rr),'Absolute route path "'+or.relativePath+'" nested under path '+('"'+rr+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),or.relativePath=or.relativePath.slice(rr.length));let lr=joinPaths([rr,or.relativePath]),cr=tr.concat(or);ar.children&&ar.children.length>0&&(invariant$2(ar.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+lr+'".')),flattenRoutes(ar.children,er,cr,lr)),!(ar.path==null&&!ar.index)&&er.push({path:lr,score:computeScore(lr,ar.index),routesMeta:cr})};return St.forEach((ar,sr)=>{var ir;if(ar.path===""||!((ir=ar.path)!=null&&ir.includes("?")))nr(ar,sr);else for(let or of explodeOptionalSegments(ar.path))nr(ar,sr,or)}),er}function explodeOptionalSegments(St){let er=St.split("/");if(er.length===0)return[];let[tr,...rr]=er,nr=tr.endsWith("?"),ar=tr.replace(/\?$/,"");if(rr.length===0)return nr?[ar,""]:[ar];let sr=explodeOptionalSegments(rr.join("/")),ir=[];return ir.push(...sr.map(or=>or===""?ar:[ar,or].join("/"))),nr&&ir.push(...sr),ir.map(or=>St.startsWith("/")&&or===""?"/":or)}function rankRouteBranches(St){St.sort((er,tr)=>er.score!==tr.score?tr.score-er.score:compareIndexes(er.routesMeta.map(rr=>rr.childrenIndex),tr.routesMeta.map(rr=>rr.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=St=>St==="*";function computeScore(St,er){let tr=St.split("/"),rr=tr.length;return tr.some(isSplat)&&(rr+=splatPenalty),er&&(rr+=indexRouteValue),tr.filter(nr=>!isSplat(nr)).reduce((nr,ar)=>nr+(paramRe.test(ar)?dynamicSegmentValue:ar===""?emptySegmentValue:staticSegmentValue),rr)}function compareIndexes(St,er){return St.length===er.length&&St.slice(0,-1).every((rr,nr)=>rr===er[nr])?St[St.length-1]-er[er.length-1]:0}function matchRouteBranch(St,er,tr){let{routesMeta:rr}=St,nr={},ar="/",sr=[];for(let ir=0;ir<rr.length;++ir){let or=rr[ir],lr=ir===rr.length-1,cr=ar==="/"?er:er.slice(ar.length)||"/",ur=matchPath({path:or.relativePath,caseSensitive:or.caseSensitive,end:lr},cr),dr=or.route;if(!ur)return null;Object.assign(nr,ur.params),sr.push({params:nr,pathname:joinPaths([ar,ur.pathname]),pathnameBase:normalizePathname(joinPaths([ar,ur.pathnameBase])),route:dr}),ur.pathnameBase!=="/"&&(ar=joinPaths([ar,ur.pathnameBase]))}return sr}function matchPath(St,er){typeof St=="string"&&(St={path:St,caseSensitive:!1,end:!0});let[tr,rr]=compilePath(St.path,St.caseSensitive,St.end),nr=er.match(tr);if(!nr)return null;let ar=nr[0],sr=ar.replace(/(.)\/+$/,"$1"),ir=nr.slice(1);return{params:rr.reduce((lr,cr,ur)=>{let{paramName:dr,isOptional:fr}=cr;if(dr==="*"){let xr=ir[ur]||"";sr=ar.slice(0,ar.length-xr.length).replace(/(.)\/+$/,"$1")}const mr=ir[ur];return fr&&!mr?lr[dr]=void 0:lr[dr]=(mr||"").replace(/%2F/g,"/"),lr},{}),pathname:ar,pathnameBase:sr,pattern:St}}function compilePath(St,er,tr){er===void 0&&(er=!1),tr===void 0&&(tr=!0),warning(St==="*"||!St.endsWith("*")||St.endsWith("/*"),'Route path "'+St+'" will be treated as if it were '+('"'+St.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+St.replace(/\*$/,"/*")+'".'));let rr=[],nr="^"+St.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(sr,ir,or)=>(rr.push({paramName:ir,isOptional:or!=null}),or?"/?([^\\/]+)?":"/([^\\/]+)"));return St.endsWith("*")?(rr.push({paramName:"*"}),nr+=St==="*"||St==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):tr?nr+="\\/*$":St!==""&&St!=="/"&&(nr+="(?:(?=\\/|$))"),[new RegExp(nr,er?void 0:"i"),rr]}function decodePath(St){try{return St.split("/").map(er=>decodeURIComponent(er).replace(/\//g,"%2F")).join("/")}catch(er){return warning(!1,'The URL path "'+St+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+er+").")),St}}function stripBasename(St,er){if(er==="/")return St;if(!St.toLowerCase().startsWith(er.toLowerCase()))return null;let tr=er.endsWith("/")?er.length-1:er.length,rr=St.charAt(tr);return rr&&rr!=="/"?null:St.slice(tr)||"/"}function resolvePath(St,er){er===void 0&&(er="/");let{pathname:tr,search:rr="",hash:nr=""}=typeof St=="string"?parsePath(St):St;return{pathname:tr?tr.startsWith("/")?tr:resolvePathname(tr,er):er,search:normalizeSearch(rr),hash:normalizeHash(nr)}}function resolvePathname(St,er){let tr=er.replace(/\/+$/,"").split("/");return St.split("/").forEach(nr=>{nr===".."?tr.length>1&&tr.pop():nr!=="."&&tr.push(nr)}),tr.length>1?tr.join("/"):"/"}function getInvalidPathError(St,er,tr,rr){return"Cannot include a '"+St+"' character in a manually specified "+("`to."+er+"` field ["+JSON.stringify(rr)+"].  Please separate it out to the ")+("`to."+tr+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(St){return St.filter((er,tr)=>tr===0||er.route.path&&er.route.path.length>0)}function getResolveToMatches(St,er){let tr=getPathContributingMatches(St);return er?tr.map((rr,nr)=>nr===tr.length-1?rr.pathname:rr.pathnameBase):tr.map(rr=>rr.pathnameBase)}function resolveTo(St,er,tr,rr){rr===void 0&&(rr=!1);let nr;typeof St=="string"?nr=parsePath(St):(nr=_extends$u({},St),invariant$2(!nr.pathname||!nr.pathname.includes("?"),getInvalidPathError("?","pathname","search",nr)),invariant$2(!nr.pathname||!nr.pathname.includes("#"),getInvalidPathError("#","pathname","hash",nr)),invariant$2(!nr.search||!nr.search.includes("#"),getInvalidPathError("#","search","hash",nr)));let ar=St===""||nr.pathname==="",sr=ar?"/":nr.pathname,ir;if(sr==null)ir=tr;else{let ur=er.length-1;if(!rr&&sr.startsWith("..")){let dr=sr.split("/");for(;dr[0]==="..";)dr.shift(),ur-=1;nr.pathname=dr.join("/")}ir=ur>=0?er[ur]:"/"}let or=resolvePath(nr,ir),lr=sr&&sr!=="/"&&sr.endsWith("/"),cr=(ar||sr===".")&&tr.endsWith("/");return!or.pathname.endsWith("/")&&(lr||cr)&&(or.pathname+="/"),or}const joinPaths=St=>St.join("/").replace(/\/\/+/g,"/"),normalizePathname=St=>St.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=St=>!St||St==="?"?"":St.startsWith("?")?St:"?"+St,normalizeHash=St=>!St||St==="#"?"":St.startsWith("#")?St:"#"+St;function isRouteErrorResponse(St){return St!=null&&typeof St.status=="number"&&typeof St.statusText=="string"&&typeof St.internal=="boolean"&&"data"in St}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$t(){return _extends$t=Object.assign?Object.assign.bind():function(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er];for(var rr in tr)Object.prototype.hasOwnProperty.call(tr,rr)&&(St[rr]=tr[rr])}return St},_extends$t.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(St,er){let{relative:tr}=er===void 0?{}:er;useInRouterContext()||invariant$2(!1);let{basename:rr,navigator:nr}=reactExports.useContext(NavigationContext),{hash:ar,pathname:sr,search:ir}=useResolvedPath(St,{relative:tr}),or=sr;return rr!=="/"&&(or=sr==="/"?rr:joinPaths([rr,sr])),nr.createHref({pathname:or,search:ir,hash:ar})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant$2(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect$2(St){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(St)}function useNavigate(){let{isDataRoute:St}=reactExports.useContext(RouteContext);return St?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant$2(!1);let St=reactExports.useContext(DataRouterContext),{basename:er,future:tr,navigator:rr}=reactExports.useContext(NavigationContext),{matches:nr}=reactExports.useContext(RouteContext),{pathname:ar}=useLocation(),sr=JSON.stringify(getResolveToMatches(nr,tr.v7_relativeSplatPath)),ir=reactExports.useRef(!1);return useIsomorphicLayoutEffect$2(()=>{ir.current=!0}),reactExports.useCallback(function(lr,cr){if(cr===void 0&&(cr={}),!ir.current)return;if(typeof lr=="number"){rr.go(lr);return}let ur=resolveTo(lr,JSON.parse(sr),ar,cr.relative==="path");St==null&&er!=="/"&&(ur.pathname=ur.pathname==="/"?er:joinPaths([er,ur.pathname])),(cr.replace?rr.replace:rr.push)(ur,cr.state,cr)},[er,rr,sr,ar,St])}const OutletContext=reactExports.createContext(null);function useOutlet(St){let er=reactExports.useContext(RouteContext).outlet;return er&&reactExports.createElement(OutletContext.Provider,{value:St},er)}function useParams(){let{matches:St}=reactExports.useContext(RouteContext),er=St[St.length-1];return er?er.params:{}}function useResolvedPath(St,er){let{relative:tr}=er===void 0?{}:er,{future:rr}=reactExports.useContext(NavigationContext),{matches:nr}=reactExports.useContext(RouteContext),{pathname:ar}=useLocation(),sr=JSON.stringify(getResolveToMatches(nr,rr.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(St,JSON.parse(sr),ar,tr==="path"),[St,sr,ar,tr])}function useRoutes(St,er){return useRoutesImpl(St,er)}function useRoutesImpl(St,er,tr,rr){useInRouterContext()||invariant$2(!1);let{navigator:nr}=reactExports.useContext(NavigationContext),{matches:ar}=reactExports.useContext(RouteContext),sr=ar[ar.length-1],ir=sr?sr.params:{};sr&&sr.pathname;let or=sr?sr.pathnameBase:"/";sr&&sr.route;let lr=useLocation(),cr;if(er){var ur;let pr=typeof er=="string"?parsePath(er):er;or==="/"||(ur=pr.pathname)!=null&&ur.startsWith(or)||invariant$2(!1),cr=pr}else cr=lr;let dr=cr.pathname||"/",fr=dr;if(or!=="/"){let pr=or.replace(/^\//,"").split("/");fr="/"+dr.replace(/^\//,"").split("/").slice(pr.length).join("/")}let mr=matchRoutes(St,{pathname:fr}),xr=_renderMatches(mr&&mr.map(pr=>Object.assign({},pr,{params:Object.assign({},ir,pr.params),pathname:joinPaths([or,nr.encodeLocation?nr.encodeLocation(pr.pathname).pathname:pr.pathname]),pathnameBase:pr.pathnameBase==="/"?or:joinPaths([or,nr.encodeLocation?nr.encodeLocation(pr.pathnameBase).pathname:pr.pathnameBase])})),ar,tr,rr);return er&&xr?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$t({pathname:"/",search:"",hash:"",state:null,key:"default"},cr),navigationType:Action.Pop}},xr):xr}function DefaultErrorComponent(){let St=useRouteError(),er=isRouteErrorResponse(St)?St.status+" "+St.statusText:St instanceof Error?St.message:JSON.stringify(St),tr=St instanceof Error?St.stack:null,nr={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},er),tr?reactExports.createElement("pre",{style:nr},tr):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(er){super(er),this.state={location:er.location,revalidation:er.revalidation,error:er.error}}static getDerivedStateFromError(er){return{error:er}}static getDerivedStateFromProps(er,tr){return tr.location!==er.location||tr.revalidation!=="idle"&&er.revalidation==="idle"?{error:er.error,location:er.location,revalidation:er.revalidation}:{error:er.error!==void 0?er.error:tr.error,location:tr.location,revalidation:er.revalidation||tr.revalidation}}componentDidCatch(er,tr){console.error("React Router caught the following error during render",er,tr)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(St){let{routeContext:er,match:tr,children:rr}=St,nr=reactExports.useContext(DataRouterContext);return nr&&nr.static&&nr.staticContext&&(tr.route.errorElement||tr.route.ErrorBoundary)&&(nr.staticContext._deepestRenderedBoundaryId=tr.route.id),reactExports.createElement(RouteContext.Provider,{value:er},rr)}function _renderMatches(St,er,tr,rr){var nr;if(er===void 0&&(er=[]),tr===void 0&&(tr=null),rr===void 0&&(rr=null),St==null){var ar;if(!tr)return null;if(tr.errors)St=tr.matches;else if((ar=rr)!=null&&ar.v7_partialHydration&&er.length===0&&!tr.initialized&&tr.matches.length>0)St=tr.matches;else return null}let sr=St,ir=(nr=tr)==null?void 0:nr.errors;if(ir!=null){let cr=sr.findIndex(ur=>ur.route.id&&(ir==null?void 0:ir[ur.route.id])!==void 0);cr>=0||invariant$2(!1),sr=sr.slice(0,Math.min(sr.length,cr+1))}let or=!1,lr=-1;if(tr&&rr&&rr.v7_partialHydration)for(let cr=0;cr<sr.length;cr++){let ur=sr[cr];if((ur.route.HydrateFallback||ur.route.hydrateFallbackElement)&&(lr=cr),ur.route.id){let{loaderData:dr,errors:fr}=tr,mr=ur.route.loader&&dr[ur.route.id]===void 0&&(!fr||fr[ur.route.id]===void 0);if(ur.route.lazy||mr){or=!0,lr>=0?sr=sr.slice(0,lr+1):sr=[sr[0]];break}}}return sr.reduceRight((cr,ur,dr)=>{let fr,mr=!1,xr=null,pr=null;tr&&(fr=ir&&ur.route.id?ir[ur.route.id]:void 0,xr=ur.route.errorElement||defaultErrorElement,or&&(lr<0&&dr===0?(warningOnce("route-fallback"),mr=!0,pr=null):lr===dr&&(mr=!0,pr=ur.route.hydrateFallbackElement||null)));let hr=er.concat(sr.slice(0,dr+1)),gr=()=>{let vr;return fr?vr=xr:mr?vr=pr:ur.route.Component?vr=reactExports.createElement(ur.route.Component,null):ur.route.element?vr=ur.route.element:vr=cr,reactExports.createElement(RenderedRoute,{match:ur,routeContext:{outlet:cr,matches:hr,isDataRoute:tr!=null},children:vr})};return tr&&(ur.route.ErrorBoundary||ur.route.errorElement||dr===0)?reactExports.createElement(RenderErrorBoundary,{location:tr.location,revalidation:tr.revalidation,component:xr,error:fr,children:gr(),routeContext:{outlet:null,matches:hr,isDataRoute:!0}}):gr()},null)}var DataRouterHook$1=function(St){return St.UseBlocker="useBlocker",St.UseRevalidator="useRevalidator",St.UseNavigateStable="useNavigate",St}(DataRouterHook$1||{}),DataRouterStateHook$1=function(St){return St.UseBlocker="useBlocker",St.UseLoaderData="useLoaderData",St.UseActionData="useActionData",St.UseRouteError="useRouteError",St.UseNavigation="useNavigation",St.UseRouteLoaderData="useRouteLoaderData",St.UseMatches="useMatches",St.UseRevalidator="useRevalidator",St.UseNavigateStable="useNavigate",St.UseRouteId="useRouteId",St}(DataRouterStateHook$1||{});function useDataRouterContext(St){let er=reactExports.useContext(DataRouterContext);return er||invariant$2(!1),er}function useDataRouterState(St){let er=reactExports.useContext(DataRouterStateContext);return er||invariant$2(!1),er}function useRouteContext(St){let er=reactExports.useContext(RouteContext);return er||invariant$2(!1),er}function useCurrentRouteId(St){let er=useRouteContext(),tr=er.matches[er.matches.length-1];return tr.route.id||invariant$2(!1),tr.route.id}function useRouteError(){var St;let er=reactExports.useContext(RouteErrorContext),tr=useDataRouterState(DataRouterStateHook$1.UseRouteError),rr=useCurrentRouteId();return er!==void 0?er:(St=tr.errors)==null?void 0:St[rr]}function useNavigateStable(){let{router:St}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),er=useCurrentRouteId(),tr=reactExports.useRef(!1);return useIsomorphicLayoutEffect$2(()=>{tr.current=!0}),reactExports.useCallback(function(nr,ar){ar===void 0&&(ar={}),tr.current&&(typeof nr=="number"?St.navigate(nr):St.navigate(nr,_extends$t({fromRouteId:er},ar)))},[St,er])}const alreadyWarned$1={};function warningOnce(St,er,tr){alreadyWarned$1[St]||(alreadyWarned$1[St]=!0)}function logV6DeprecationWarnings(St,er){St==null||St.v7_startTransition,St==null||St.v7_relativeSplatPath}function Navigate(St){let{to:er,replace:tr,state:rr,relative:nr}=St;useInRouterContext()||invariant$2(!1);let{future:ar,static:sr}=reactExports.useContext(NavigationContext),{matches:ir}=reactExports.useContext(RouteContext),{pathname:or}=useLocation(),lr=useNavigate(),cr=resolveTo(er,getResolveToMatches(ir,ar.v7_relativeSplatPath),or,nr==="path"),ur=JSON.stringify(cr);return reactExports.useEffect(()=>lr(JSON.parse(ur),{replace:tr,state:rr,relative:nr}),[lr,ur,nr,tr,rr]),null}function Outlet(St){return useOutlet(St.context)}function Route(St){invariant$2(!1)}function Router(St){let{basename:er="/",children:tr=null,location:rr,navigationType:nr=Action.Pop,navigator:ar,static:sr=!1,future:ir}=St;useInRouterContext()&&invariant$2(!1);let or=er.replace(/^\/*/,"/"),lr=reactExports.useMemo(()=>({basename:or,navigator:ar,static:sr,future:_extends$t({v7_relativeSplatPath:!1},ir)}),[or,ir,ar,sr]);typeof rr=="string"&&(rr=parsePath(rr));let{pathname:cr="/",search:ur="",hash:dr="",state:fr=null,key:mr="default"}=rr,xr=reactExports.useMemo(()=>{let pr=stripBasename(cr,or);return pr==null?null:{location:{pathname:pr,search:ur,hash:dr,state:fr,key:mr},navigationType:nr}},[or,cr,ur,dr,fr,mr,nr]);return xr==null?null:reactExports.createElement(NavigationContext.Provider,{value:lr},reactExports.createElement(LocationContext.Provider,{children:tr,value:xr}))}function Routes(St){let{children:er,location:tr}=St;return useRoutes(createRoutesFromChildren(er),tr)}new Promise(()=>{});function createRoutesFromChildren(St,er){er===void 0&&(er=[]);let tr=[];return reactExports.Children.forEach(St,(rr,nr)=>{if(!reactExports.isValidElement(rr))return;let ar=[...er,nr];if(rr.type===reactExports.Fragment){tr.push.apply(tr,createRoutesFromChildren(rr.props.children,ar));return}rr.type!==Route&&invariant$2(!1),!rr.props.index||!rr.props.children||invariant$2(!1);let sr={id:rr.props.id||ar.join("-"),caseSensitive:rr.props.caseSensitive,element:rr.props.element,Component:rr.props.Component,index:rr.props.index,path:rr.props.path,loader:rr.props.loader,action:rr.props.action,errorElement:rr.props.errorElement,ErrorBoundary:rr.props.ErrorBoundary,hasErrorBoundary:rr.props.ErrorBoundary!=null||rr.props.errorElement!=null,shouldRevalidate:rr.props.shouldRevalidate,handle:rr.props.handle,lazy:rr.props.lazy};rr.props.children&&(sr.children=createRoutesFromChildren(rr.props.children,ar)),tr.push(sr)}),tr}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$s(){return _extends$s=Object.assign?Object.assign.bind():function(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er];for(var rr in tr)Object.prototype.hasOwnProperty.call(tr,rr)&&(St[rr]=tr[rr])}return St},_extends$s.apply(this,arguments)}function _objectWithoutPropertiesLoose$n(St,er){if(St==null)return{};var tr={},rr=Object.keys(St),nr,ar;for(ar=0;ar<rr.length;ar++)nr=rr[ar],!(er.indexOf(nr)>=0)&&(tr[nr]=St[nr]);return tr}function isModifiedEvent(St){return!!(St.metaKey||St.altKey||St.ctrlKey||St.shiftKey)}function shouldProcessLinkClick(St,er){return St.button===0&&(!er||er==="_self")&&!isModifiedEvent(St)}const _excluded$n=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=t$5[START_TRANSITION];function BrowserRouter(St){let{basename:er,children:tr,future:rr,window:nr}=St,ar=reactExports.useRef();ar.current==null&&(ar.current=createBrowserHistory({window:nr,v5Compat:!0}));let sr=ar.current,[ir,or]=reactExports.useState({action:sr.action,location:sr.location}),{v7_startTransition:lr}=rr||{},cr=reactExports.useCallback(ur=>{lr&&startTransitionImpl?startTransitionImpl(()=>or(ur)):or(ur)},[or,lr]);return reactExports.useLayoutEffect(()=>sr.listen(cr),[sr,cr]),reactExports.useEffect(()=>logV6DeprecationWarnings(rr),[rr]),reactExports.createElement(Router,{basename:er,children:tr,location:ir.location,navigationType:ir.action,navigator:sr,future:rr})}const isBrowser$1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function(er,tr){let{onClick:rr,relative:nr,reloadDocument:ar,replace:sr,state:ir,target:or,to:lr,preventScrollReset:cr,viewTransition:ur}=er,dr=_objectWithoutPropertiesLoose$n(er,_excluded$n),{basename:fr}=reactExports.useContext(NavigationContext),mr,xr=!1;if(typeof lr=="string"&&ABSOLUTE_URL_REGEX.test(lr)&&(mr=lr,isBrowser$1))try{let vr=new URL(window.location.href),br=lr.startsWith("//")?new URL(vr.protocol+lr):new URL(lr),yr=stripBasename(br.pathname,fr);br.origin===vr.origin&&yr!=null?lr=yr+br.search+br.hash:xr=!0}catch{}let pr=useHref(lr,{relative:nr}),hr=useLinkClickHandler(lr,{replace:sr,state:ir,target:or,preventScrollReset:cr,relative:nr,viewTransition:ur});function gr(vr){rr&&rr(vr),vr.defaultPrevented||hr(vr)}return reactExports.createElement("a",_extends$s({},dr,{href:mr||pr,onClick:xr||ar?rr:gr,ref:tr,target:or}))});var DataRouterHook;(function(St){St.UseScrollRestoration="useScrollRestoration",St.UseSubmit="useSubmit",St.UseSubmitFetcher="useSubmitFetcher",St.UseFetcher="useFetcher",St.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(St){St.UseFetcher="useFetcher",St.UseFetchers="useFetchers",St.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(St,er){let{target:tr,replace:rr,state:nr,preventScrollReset:ar,relative:sr,viewTransition:ir}=er===void 0?{}:er,or=useNavigate(),lr=useLocation(),cr=useResolvedPath(St,{relative:sr});return reactExports.useCallback(ur=>{if(shouldProcessLinkClick(ur,tr)){ur.preventDefault();let dr=rr!==void 0?rr:createPath(lr)===createPath(cr);or(St,{replace:dr,state:nr,preventScrollReset:ar,relative:sr,viewTransition:ir})}},[lr,or,cr,rr,nr,tr,St,ar,sr,ir])}function r$4(St){var er,tr,rr="";if(typeof St=="string"||typeof St=="number")rr+=St;else if(typeof St=="object")if(Array.isArray(St)){var nr=St.length;for(er=0;er<nr;er++)St[er]&&(tr=r$4(St[er]))&&(rr&&(rr+=" "),rr+=tr)}else for(tr in St)St[tr]&&(rr&&(rr+=" "),rr+=tr);return rr}function clsx(){for(var St,er,tr=0,rr="",nr=arguments.length;tr<nr;tr++)(St=arguments[tr])&&(er=r$4(St))&&(rr&&(rr+=" "),rr+=er);return rr}function Mt$1(St){if(typeof document>"u")return;let er=document.head||document.getElementsByTagName("head")[0],tr=document.createElement("style");tr.type="text/css",er.firstChild?er.insertBefore(tr,er.firstChild):er.appendChild(tr),tr.styleSheet?tr.styleSheet.cssText=St:tr.appendChild(document.createTextNode(St))}Mt$1(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var L$3=St=>typeof St=="number"&&!isNaN(St),N$1=St=>typeof St=="string",P$5=St=>typeof St=="function",mt$1=St=>N$1(St)||L$3(St),B$2=St=>N$1(St)||P$5(St)?St:null,pt$1=(St,er)=>St===!1||L$3(St)&&St>0?St:er,z$2=St=>reactExports.isValidElement(St)||N$1(St)||P$5(St)||L$3(St);function Z$1(St,er,tr=300){let{scrollHeight:rr,style:nr}=St;requestAnimationFrame(()=>{nr.minHeight="initial",nr.height=rr+"px",nr.transition=`all ${tr}ms`,requestAnimationFrame(()=>{nr.height="0",nr.padding="0",nr.margin="0",setTimeout(er,tr)})})}function $$4({enter:St,exit:er,appendPosition:tr=!1,collapse:rr=!0,collapseDuration:nr=300}){return function({children:ar,position:sr,preventExitTransition:ir,done:or,nodeRef:lr,isIn:cr,playToast:ur}){let dr=tr?`${St}--${sr}`:St,fr=tr?`${er}--${sr}`:er,mr=reactExports.useRef(0);return reactExports.useLayoutEffect(()=>{let xr=lr.current,pr=dr.split(" "),hr=gr=>{gr.target===lr.current&&(ur(),xr.removeEventListener("animationend",hr),xr.removeEventListener("animationcancel",hr),mr.current===0&&gr.type!=="animationcancel"&&xr.classList.remove(...pr))};xr.classList.add(...pr),xr.addEventListener("animationend",hr),xr.addEventListener("animationcancel",hr)},[]),reactExports.useEffect(()=>{let xr=lr.current,pr=()=>{xr.removeEventListener("animationend",pr),rr?Z$1(xr,or,nr):or()};cr||(ir?pr():(mr.current=1,xr.className+=` ${fr}`,xr.addEventListener("animationend",pr)))},[cr]),U$5.createElement(U$5.Fragment,null,ar)}}function J$2(St,er){return{content:tt$1(St.content,St.props),containerId:St.props.containerId,id:St.props.toastId,theme:St.props.theme,type:St.props.type,data:St.props.data||{},isLoading:St.props.isLoading,icon:St.props.icon,reason:St.removalReason,status:er}}function tt$1(St,er,tr=!1){return reactExports.isValidElement(St)&&!N$1(St.type)?reactExports.cloneElement(St,{closeToast:er.closeToast,toastProps:er,data:er.data,isPaused:tr}):P$5(St)?St({closeToast:er.closeToast,toastProps:er,data:er.data,isPaused:tr}):St}function yt$1({closeToast:St,theme:er,ariaLabel:tr="close"}){return U$5.createElement("button",{className:`Toastify__close-button Toastify__close-button--${er}`,type:"button",onClick:rr=>{rr.stopPropagation(),St(!0)},"aria-label":tr},U$5.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},U$5.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function gt$1({delay:St,isRunning:er,closeToast:tr,type:rr="default",hide:nr,className:ar,controlledProgress:sr,progress:ir,rtl:or,isIn:lr,theme:cr}){let ur=nr||sr&&ir===0,dr={animationDuration:`${St}ms`,animationPlayState:er?"running":"paused"};sr&&(dr.transform=`scaleX(${ir})`);let fr=clsx("Toastify__progress-bar",sr?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${cr}`,`Toastify__progress-bar--${rr}`,{"Toastify__progress-bar--rtl":or}),mr=P$5(ar)?ar({rtl:or,type:rr,defaultClassName:fr}):clsx(fr,ar),xr={[sr&&ir>=1?"onTransitionEnd":"onAnimationEnd"]:sr&&ir<1?null:()=>{lr&&tr()}};return U$5.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":ur},U$5.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${cr} Toastify__progress-bar--${rr}`}),U$5.createElement("div",{role:"progressbar","aria-hidden":ur?"true":"false","aria-label":"notification timer",className:mr,style:dr,...xr}))}var Xt$1=1,at$1=()=>`${Xt$1++}`;function _t$1(St,er,tr){let rr=1,nr=0,ar=[],sr=[],ir=er,or=new Map,lr=new Set,cr=gr=>(lr.add(gr),()=>lr.delete(gr)),ur=()=>{sr=Array.from(or.values()),lr.forEach(gr=>gr())},dr=({containerId:gr,toastId:vr,updateId:br})=>{let yr=gr?gr!==St:St!==1,Er=or.has(vr)&&br==null;return yr||Er},fr=(gr,vr)=>{or.forEach(br=>{var yr;(vr==null||vr===br.props.toastId)&&((yr=br.toggle)==null||yr.call(br,gr))})},mr=gr=>{var vr,br;(br=(vr=gr.props)==null?void 0:vr.onClose)==null||br.call(vr,gr.removalReason),gr.isActive=!1},xr=gr=>{if(gr==null)or.forEach(mr);else{let vr=or.get(gr);vr&&mr(vr)}ur()},pr=()=>{nr-=ar.length,ar=[]},hr=gr=>{var vr,br;let{toastId:yr,updateId:Er}=gr.props,jr=Er==null;gr.staleId&&or.delete(gr.staleId),gr.isActive=!0,or.set(yr,gr),ur(),tr(J$2(gr,jr?"added":"updated")),jr&&((br=(vr=gr.props).onOpen)==null||br.call(vr))};return{id:St,props:ir,observe:cr,toggle:fr,removeToast:xr,toasts:or,clearQueue:pr,buildToast:(gr,vr)=>{if(dr(vr))return;let{toastId:br,updateId:yr,data:Er,staleId:jr,delay:_r}=vr,Cr=yr==null;Cr&&nr++;let Or={...ir,style:ir.toastStyle,key:rr++,...Object.fromEntries(Object.entries(vr).filter(([Lr,Gr])=>Gr!=null)),toastId:br,updateId:yr,data:Er,isIn:!1,className:B$2(vr.className||ir.toastClassName),progressClassName:B$2(vr.progressClassName||ir.progressClassName),autoClose:vr.isLoading?!1:pt$1(vr.autoClose,ir.autoClose),closeToast(Lr){or.get(br).removalReason=Lr,xr(br)},deleteToast(){let Lr=or.get(br);if(Lr!=null){if(tr(J$2(Lr,"removed")),or.delete(br),nr--,nr<0&&(nr=0),ar.length>0){hr(ar.shift());return}ur()}}};Or.closeButton=ir.closeButton,vr.closeButton===!1||z$2(vr.closeButton)?Or.closeButton=vr.closeButton:vr.closeButton===!0&&(Or.closeButton=z$2(ir.closeButton)?ir.closeButton:!0);let Pr={content:gr,props:Or,staleId:jr};ir.limit&&ir.limit>0&&nr>ir.limit&&Cr?ar.push(Pr):L$3(_r)?setTimeout(()=>{hr(Pr)},_r):hr(Pr)},setProps(gr){ir=gr},setToggle:(gr,vr)=>{let br=or.get(gr);br&&(br.toggle=vr)},isToastActive:gr=>{var vr;return(vr=or.get(gr))==null?void 0:vr.isActive},getSnapshot:()=>sr}}var I$5=new Map,F$3=[],st$1=new Set,Vt$1=St=>st$1.forEach(er=>er(St)),bt$1=()=>I$5.size>0;function Qt$1(){F$3.forEach(St=>nt$1(St.content,St.options)),F$3=[]}var vt$1=(St,{containerId:er})=>{var tr;return(tr=I$5.get(er||1))==null?void 0:tr.toasts.get(St)};function X$4(St,er){var tr;if(er)return!!((tr=I$5.get(er))!=null&&tr.isToastActive(St));let rr=!1;return I$5.forEach(nr=>{nr.isToastActive(St)&&(rr=!0)}),rr}function ht$1(St){if(!bt$1()){F$3=F$3.filter(er=>St!=null&&er.options.toastId!==St);return}if(St==null||mt$1(St))I$5.forEach(er=>{er.removeToast(St)});else if(St&&("containerId"in St||"id"in St)){let er=I$5.get(St.containerId);er?er.removeToast(St.id):I$5.forEach(tr=>{tr.removeToast(St.id)})}}var Ct$1=(St={})=>{I$5.forEach(er=>{er.props.limit&&(!St.containerId||er.id===St.containerId)&&er.clearQueue()})};function nt$1(St,er){z$2(St)&&(bt$1()||F$3.push({content:St,options:er}),I$5.forEach(tr=>{tr.buildToast(St,er)}))}function xt$1(St){var er;(er=I$5.get(St.containerId||1))==null||er.setToggle(St.id,St.fn)}function rt$1(St,er){I$5.forEach(tr=>{(er==null||!(er!=null&&er.containerId)||(er==null?void 0:er.containerId)===tr.id)&&tr.toggle(St,er==null?void 0:er.id)})}function Et$1(St){let er=St.containerId||1;return{subscribe(tr){let rr=_t$1(er,St,Vt$1);I$5.set(er,rr);let nr=rr.observe(tr);return Qt$1(),()=>{nr(),I$5.delete(er)}},setProps(tr){var rr;(rr=I$5.get(er))==null||rr.setProps(tr)},getSnapshot(){var tr;return(tr=I$5.get(er))==null?void 0:tr.getSnapshot()}}}function Pt$1(St){return st$1.add(St),()=>{st$1.delete(St)}}function Wt$1(St){return St&&(N$1(St.toastId)||L$3(St.toastId))?St.toastId:at$1()}function U$3(St,er){return nt$1(St,er),er.toastId}function V$1(St,er){return{...er,type:er&&er.type||St,toastId:Wt$1(er)}}function Q$1(St){return(er,tr)=>U$3(er,V$1(St,tr))}function y$8(St,er){return U$3(St,V$1("default",er))}y$8.loading=(St,er)=>U$3(St,V$1("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...er}));function Gt$1(St,{pending:er,error:tr,success:rr},nr){let ar;er&&(ar=N$1(er)?y$8.loading(er,nr):y$8.loading(er.render,{...nr,...er}));let sr={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},ir=(lr,cr,ur)=>{if(cr==null){y$8.dismiss(ar);return}let dr={type:lr,...sr,...nr,data:ur},fr=N$1(cr)?{render:cr}:cr;return ar?y$8.update(ar,{...dr,...fr}):y$8(fr.render,{...dr,...fr}),ur},or=P$5(St)?St():St;return or.then(lr=>ir("success",rr,lr)).catch(lr=>ir("error",tr,lr)),or}y$8.promise=Gt$1;y$8.success=Q$1("success");y$8.info=Q$1("info");y$8.error=Q$1("error");y$8.warning=Q$1("warning");y$8.warn=y$8.warning;y$8.dark=(St,er)=>U$3(St,V$1("default",{theme:"dark",...er}));function qt$1(St){ht$1(St)}y$8.dismiss=qt$1;y$8.clearWaitingQueue=Ct$1;y$8.isActive=X$4;y$8.update=(St,er={})=>{let tr=vt$1(St,er);if(tr){let{props:rr,content:nr}=tr,ar={delay:100,...rr,...er,toastId:er.toastId||St,updateId:at$1()};ar.toastId!==St&&(ar.staleId=St);let sr=ar.render||nr;delete ar.render,U$3(sr,ar)}};y$8.done=St=>{y$8.update(St,{progress:1})};y$8.onChange=Pt$1;y$8.play=St=>rt$1(!0,St);y$8.pause=St=>rt$1(!1,St);function It$1(St){var er;let{subscribe:tr,getSnapshot:rr,setProps:nr}=reactExports.useRef(Et$1(St)).current;nr(St);let ar=(er=reactExports.useSyncExternalStore(tr,rr,rr))==null?void 0:er.slice();function sr(ir){if(!ar)return[];let or=new Map;return St.newestOnTop&&ar.reverse(),ar.forEach(lr=>{let{position:cr}=lr.props;or.has(cr)||or.set(cr,[]),or.get(cr).push(lr)}),Array.from(or,lr=>ir(lr[0],lr[1]))}return{getToastToRender:sr,isToastActive:X$4,count:ar==null?void 0:ar.length}}function At$1(St){let[er,tr]=reactExports.useState(!1),[rr,nr]=reactExports.useState(!1),ar=reactExports.useRef(null),sr=reactExports.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:ir,pauseOnHover:or,closeToast:lr,onClick:cr,closeOnClick:ur}=St;xt$1({id:St.toastId,containerId:St.containerId,fn:tr}),reactExports.useEffect(()=>{if(St.pauseOnFocusLoss)return dr(),()=>{fr()}},[St.pauseOnFocusLoss]);function dr(){document.hasFocus()||hr(),window.addEventListener("focus",pr),window.addEventListener("blur",hr)}function fr(){window.removeEventListener("focus",pr),window.removeEventListener("blur",hr)}function mr(jr){if(St.draggable===!0||St.draggable===jr.pointerType){gr();let _r=ar.current;sr.canCloseOnClick=!0,sr.canDrag=!0,_r.style.transition="none",St.draggableDirection==="x"?(sr.start=jr.clientX,sr.removalDistance=_r.offsetWidth*(St.draggablePercent/100)):(sr.start=jr.clientY,sr.removalDistance=_r.offsetHeight*(St.draggablePercent===80?St.draggablePercent*1.5:St.draggablePercent)/100)}}function xr(jr){let{top:_r,bottom:Cr,left:Or,right:Pr}=ar.current.getBoundingClientRect();jr.nativeEvent.type!=="touchend"&&St.pauseOnHover&&jr.clientX>=Or&&jr.clientX<=Pr&&jr.clientY>=_r&&jr.clientY<=Cr?hr():pr()}function pr(){tr(!0)}function hr(){tr(!1)}function gr(){sr.didMove=!1,document.addEventListener("pointermove",br),document.addEventListener("pointerup",yr)}function vr(){document.removeEventListener("pointermove",br),document.removeEventListener("pointerup",yr)}function br(jr){let _r=ar.current;if(sr.canDrag&&_r){sr.didMove=!0,er&&hr(),St.draggableDirection==="x"?sr.delta=jr.clientX-sr.start:sr.delta=jr.clientY-sr.start,sr.start!==jr.clientX&&(sr.canCloseOnClick=!1);let Cr=St.draggableDirection==="x"?`${sr.delta}px, var(--y)`:`0, calc(${sr.delta}px + var(--y))`;_r.style.transform=`translate3d(${Cr},0)`,_r.style.opacity=`${1-Math.abs(sr.delta/sr.removalDistance)}`}}function yr(){vr();let jr=ar.current;if(sr.canDrag&&sr.didMove&&jr){if(sr.canDrag=!1,Math.abs(sr.delta)>sr.removalDistance){nr(!0),St.closeToast(!0),St.collapseAll();return}jr.style.transition="transform 0.2s, opacity 0.2s",jr.style.removeProperty("transform"),jr.style.removeProperty("opacity")}}let Er={onPointerDown:mr,onPointerUp:xr};return ir&&or&&(Er.onMouseEnter=hr,St.stacked||(Er.onMouseLeave=pr)),ur&&(Er.onClick=jr=>{cr&&cr(jr),sr.canCloseOnClick&&lr(!0)}),{playToast:pr,pauseToast:hr,isRunning:er,preventExitTransition:rr,toastRef:ar,eventHandlers:Er}}var Ot$1=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,G$2=({theme:St,type:er,isLoading:tr,...rr})=>U$5.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:St==="colored"?"currentColor":`var(--toastify-icon-color-${er})`,...rr});function ao(St){return U$5.createElement(G$2,{...St},U$5.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function so(St){return U$5.createElement(G$2,{...St},U$5.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function no(St){return U$5.createElement(G$2,{...St},U$5.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function ro(St){return U$5.createElement(G$2,{...St},U$5.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function io(){return U$5.createElement("div",{className:"Toastify__spinner"})}var W$1={info:so,warning:ao,success:no,error:ro,spinner:io},lo=St=>St in W$1;function Nt$1({theme:St,type:er,isLoading:tr,icon:rr}){let nr=null,ar={theme:St,type:er};return rr===!1||(P$5(rr)?nr=rr({...ar,isLoading:tr}):reactExports.isValidElement(rr)?nr=reactExports.cloneElement(rr,ar):tr?nr=W$1.spinner():lo(er)&&(nr=W$1[er](ar))),nr}var wt$1=St=>{let{isRunning:er,preventExitTransition:tr,toastRef:rr,eventHandlers:nr,playToast:ar}=At$1(St),{closeButton:sr,children:ir,autoClose:or,onClick:lr,type:cr,hideProgressBar:ur,closeToast:dr,transition:fr,position:mr,className:xr,style:pr,progressClassName:hr,updateId:gr,role:vr,progress:br,rtl:yr,toastId:Er,deleteToast:jr,isIn:_r,isLoading:Cr,closeOnClick:Or,theme:Pr,ariaLabel:Lr}=St,Gr=clsx("Toastify__toast",`Toastify__toast-theme--${Pr}`,`Toastify__toast--${cr}`,{"Toastify__toast--rtl":yr},{"Toastify__toast--close-on-click":Or}),Kr=P$5(xr)?xr({rtl:yr,position:mr,type:cr,defaultClassName:Gr}):clsx(Gr,xr),nn=Nt$1(St),Qr=!!br||!or,zr={closeToast:dr,type:cr,theme:Pr},Vr=null;return sr===!1||(P$5(sr)?Vr=sr(zr):reactExports.isValidElement(sr)?Vr=reactExports.cloneElement(sr,zr):Vr=yt$1(zr)),U$5.createElement(fr,{isIn:_r,done:jr,position:mr,preventExitTransition:tr,nodeRef:rr,playToast:ar},U$5.createElement("div",{id:Er,tabIndex:0,onClick:lr,"data-in":_r,className:Kr,...nr,style:pr,ref:rr,..._r&&{role:vr,"aria-label":Lr}},nn!=null&&U$5.createElement("div",{className:clsx("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!Cr})},nn),tt$1(ir,St,!er),Vr,!St.customProgressBar&&U$5.createElement(gt$1,{...gr&&!Qr?{key:`p-${gr}`}:{},rtl:yr,theme:Pr,delay:or,isRunning:er,isIn:_r,closeToast:dr,hide:ur,type:cr,className:hr,controlledProgress:Qr,progress:br||0})))},K$2=(St,er=!1)=>({enter:`Toastify--animate Toastify__${St}-enter`,exit:`Toastify--animate Toastify__${St}-exit`,appendPosition:er}),lt$1=$$4(K$2("bounce",!0)),_o={position:"top-right",transition:lt$1,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:St=>St.altKey&&St.code==="KeyT"};function Lt$2(St){let er={..._o,...St},tr=St.stacked,[rr,nr]=reactExports.useState(!0),ar=reactExports.useRef(null),{getToastToRender:sr,isToastActive:ir,count:or}=It$1(er),{className:lr,style:cr,rtl:ur,containerId:dr,hotKeys:fr}=er;function mr(pr){let hr=clsx("Toastify__toast-container",`Toastify__toast-container--${pr}`,{"Toastify__toast-container--rtl":ur});return P$5(lr)?lr({position:pr,rtl:ur,defaultClassName:hr}):clsx(hr,B$2(lr))}function xr(){tr&&(nr(!0),y$8.play())}return Ot$1(()=>{var pr;if(tr){let hr=ar.current.querySelectorAll('[data-in="true"]'),gr=12,vr=(pr=er.position)==null?void 0:pr.includes("top"),br=0,yr=0;Array.from(hr).reverse().forEach((Er,jr)=>{let _r=Er;_r.classList.add("Toastify__toast--stacked"),jr>0&&(_r.dataset.collapsed=`${rr}`),_r.dataset.pos||(_r.dataset.pos=vr?"top":"bot");let Cr=br*(rr?.2:1)+(rr?0:gr*jr);_r.style.setProperty("--y",`${vr?Cr:Cr*-1}px`),_r.style.setProperty("--g",`${gr}`),_r.style.setProperty("--s",`${1-(rr?yr:0)}`),br+=_r.offsetHeight,yr+=.025})}},[rr,or,tr]),reactExports.useEffect(()=>{function pr(hr){var gr;let vr=ar.current;fr(hr)&&((gr=vr.querySelector('[tabIndex="0"]'))==null||gr.focus(),nr(!1),y$8.pause()),hr.key==="Escape"&&(document.activeElement===vr||vr!=null&&vr.contains(document.activeElement))&&(nr(!0),y$8.play())}return document.addEventListener("keydown",pr),()=>{document.removeEventListener("keydown",pr)}},[fr]),U$5.createElement("section",{ref:ar,className:"Toastify",id:dr,onMouseEnter:()=>{tr&&(nr(!1),y$8.pause())},onMouseLeave:xr,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":er["aria-label"]},sr((pr,hr)=>{let gr=hr.length?{...cr}:{...cr,pointerEvents:"none"};return U$5.createElement("div",{tabIndex:-1,className:mr(pr),"data-stacked":tr,style:gr,key:`c-${pr}`},hr.map(({content:vr,props:br})=>U$5.createElement(wt$1,{...br,stacked:tr,collapseAll:xr,isIn:ir(br.toastId,br.containerId),key:`t-${br.key}`},vr)))}))}const AuthContext=reactExports.createContext(void 0),AuthProvider=({children:St})=>{const[er,tr]=reactExports.useState(null);reactExports.useEffect(()=>{const ar=localStorage.getItem("user");ar&&tr(JSON.parse(ar))},[]);const rr=(er==null?void 0:er.roles)??[],nr=()=>{localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("user"),tr(null),window.location.href="/auth/login"};return jsxRuntimeExports.jsx(AuthContext.Provider,{value:{user:er,isAuthenticated:!!localStorage.getItem("access_token"),roles:rr,setUser:tr,logout:nr},children:St})},useAuthContext=()=>{const St=reactExports.useContext(AuthContext);if(!St)throw new Error("useAuthContext must be used within AuthProvider");return St};function bind(St,er){return function(){return St.apply(er,arguments)}}const{toString:toString$1}=Object.prototype,{getPrototypeOf:getPrototypeOf$1}=Object,{iterator,toStringTag}=Symbol,kindOf=(St=>er=>{const tr=toString$1.call(er);return St[tr]||(St[tr]=tr.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=St=>(St=St.toLowerCase(),er=>kindOf(er)===St),typeOfTest=St=>er=>typeof er===St,{isArray}=Array,isUndefined=typeOfTest("undefined");function isBuffer(St){return St!==null&&!isUndefined(St)&&St.constructor!==null&&!isUndefined(St.constructor)&&isFunction(St.constructor.isBuffer)&&St.constructor.isBuffer(St)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(St){let er;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?er=ArrayBuffer.isView(St):er=St&&St.buffer&&isArrayBuffer(St.buffer),er}const isString=typeOfTest("string"),isFunction=typeOfTest("function"),isNumber$1=typeOfTest("number"),isObject$2=St=>St!==null&&typeof St=="object",isBoolean$1=St=>St===!0||St===!1,isPlainObject$6=St=>{if(kindOf(St)!=="object")return!1;const er=getPrototypeOf$1(St);return(er===null||er===Object.prototype||Object.getPrototypeOf(er)===null)&&!(toStringTag in St)&&!(iterator in St)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=St=>isObject$2(St)&&isFunction(St.pipe),isFormData=St=>{let er;return St&&(typeof FormData=="function"&&St instanceof FormData||isFunction(St.append)&&((er=kindOf(St))==="formdata"||er==="object"&&isFunction(St.toString)&&St.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=St=>St.trim?St.trim():St.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(St,er,{allOwnKeys:tr=!1}={}){if(St===null||typeof St>"u")return;let rr,nr;if(typeof St!="object"&&(St=[St]),isArray(St))for(rr=0,nr=St.length;rr<nr;rr++)er.call(null,St[rr],rr,St);else{const ar=tr?Object.getOwnPropertyNames(St):Object.keys(St),sr=ar.length;let ir;for(rr=0;rr<sr;rr++)ir=ar[rr],er.call(null,St[ir],ir,St)}}function findKey(St,er){er=er.toLowerCase();const tr=Object.keys(St);let rr=tr.length,nr;for(;rr-- >0;)if(nr=tr[rr],er===nr.toLowerCase())return nr;return null}const _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,isContextDefined=St=>!isUndefined(St)&&St!==_global;function merge(){const{caseless:St}=isContextDefined(this)&&this||{},er={},tr=(rr,nr)=>{const ar=St&&findKey(er,nr)||nr;isPlainObject$6(er[ar])&&isPlainObject$6(rr)?er[ar]=merge(er[ar],rr):isPlainObject$6(rr)?er[ar]=merge({},rr):isArray(rr)?er[ar]=rr.slice():er[ar]=rr};for(let rr=0,nr=arguments.length;rr<nr;rr++)arguments[rr]&&forEach(arguments[rr],tr);return er}const extend$1=(St,er,tr,{allOwnKeys:rr}={})=>(forEach(er,(nr,ar)=>{tr&&isFunction(nr)?St[ar]=bind(nr,tr):St[ar]=nr},{allOwnKeys:rr}),St),stripBOM=St=>(St.charCodeAt(0)===65279&&(St=St.slice(1)),St),inherits=(St,er,tr,rr)=>{St.prototype=Object.create(er.prototype,rr),St.prototype.constructor=St,Object.defineProperty(St,"super",{value:er.prototype}),tr&&Object.assign(St.prototype,tr)},toFlatObject=(St,er,tr,rr)=>{let nr,ar,sr;const ir={};if(er=er||{},St==null)return er;do{for(nr=Object.getOwnPropertyNames(St),ar=nr.length;ar-- >0;)sr=nr[ar],(!rr||rr(sr,St,er))&&!ir[sr]&&(er[sr]=St[sr],ir[sr]=!0);St=tr!==!1&&getPrototypeOf$1(St)}while(St&&(!tr||tr(St,er))&&St!==Object.prototype);return er},endsWith=(St,er,tr)=>{St=String(St),(tr===void 0||tr>St.length)&&(tr=St.length),tr-=er.length;const rr=St.indexOf(er,tr);return rr!==-1&&rr===tr},toArray$2=St=>{if(!St)return null;if(isArray(St))return St;let er=St.length;if(!isNumber$1(er))return null;const tr=new Array(er);for(;er-- >0;)tr[er]=St[er];return tr},isTypedArray$1=(St=>er=>St&&er instanceof St)(typeof Uint8Array<"u"&&getPrototypeOf$1(Uint8Array)),forEachEntry=(St,er)=>{const rr=(St&&St[iterator]).call(St);let nr;for(;(nr=rr.next())&&!nr.done;){const ar=nr.value;er.call(St,ar[0],ar[1])}},matchAll=(St,er)=>{let tr;const rr=[];for(;(tr=St.exec(er))!==null;)rr.push(tr);return rr},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase$1=St=>St.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(tr,rr,nr){return rr.toUpperCase()+nr}),hasOwnProperty=(({hasOwnProperty:St})=>(er,tr)=>St.call(er,tr))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(St,er)=>{const tr=Object.getOwnPropertyDescriptors(St),rr={};forEach(tr,(nr,ar)=>{let sr;(sr=er(nr,ar,St))!==!1&&(rr[ar]=sr||nr)}),Object.defineProperties(St,rr)},freezeMethods=St=>{reduceDescriptors(St,(er,tr)=>{if(isFunction(St)&&["arguments","caller","callee"].indexOf(tr)!==-1)return!1;const rr=St[tr];if(isFunction(rr)){if(er.enumerable=!1,"writable"in er){er.writable=!1;return}er.set||(er.set=()=>{throw Error("Can not rewrite read-only method '"+tr+"'")})}})},toObjectSet=(St,er)=>{const tr={},rr=nr=>{nr.forEach(ar=>{tr[ar]=!0})};return isArray(St)?rr(St):rr(String(St).split(er)),tr},noop$8=()=>{},toFiniteNumber=(St,er)=>St!=null&&Number.isFinite(St=+St)?St:er;function isSpecCompliantForm(St){return!!(St&&isFunction(St.append)&&St[toStringTag]==="FormData"&&St[iterator])}const toJSONObject=St=>{const er=new Array(10),tr=(rr,nr)=>{if(isObject$2(rr)){if(er.indexOf(rr)>=0)return;if(!("toJSON"in rr)){er[nr]=rr;const ar=isArray(rr)?[]:{};return forEach(rr,(sr,ir)=>{const or=tr(sr,nr+1);!isUndefined(or)&&(ar[ir]=or)}),er[nr]=void 0,ar}}return rr};return tr(St,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=St=>St&&(isObject$2(St)||isFunction(St))&&isFunction(St.then)&&isFunction(St.catch),_setImmediate=((St,er)=>St?setImmediate:er?((tr,rr)=>(_global.addEventListener("message",({source:nr,data:ar})=>{nr===_global&&ar===tr&&rr.length&&rr.shift()()},!1),nr=>{rr.push(nr),_global.postMessage(tr,"*")}))(`axios@${Math.random()}`,[]):tr=>setTimeout(tr))(typeof setImmediate=="function",isFunction(_global.postMessage)),asap=typeof queueMicrotask<"u"?queueMicrotask.bind(_global):typeof process<"u"&&process.nextTick||_setImmediate,isIterable=St=>St!=null&&isFunction(St[iterator]),utils$2={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber:isNumber$1,isBoolean:isBoolean$1,isObject:isObject$2,isPlainObject:isPlainObject$6,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction,isStream,isURLSearchParams,isTypedArray:isTypedArray$1,isFileList,forEach,merge,extend:extend$1,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray:toArray$2,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase:toCamelCase$1,noop:noop$8,toFiniteNumber,findKey,global:_global,isContextDefined,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable,setImmediate:_setImmediate,asap,isIterable};function AxiosError$1(St,er,tr,rr,nr){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=St,this.name="AxiosError",er&&(this.code=er),tr&&(this.config=tr),rr&&(this.request=rr),nr&&(this.response=nr,this.status=nr.status?nr.status:null)}utils$2.inherits(AxiosError$1,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$2.toJSONObject(this.config),code:this.code,status:this.status}}});const prototype$1=AxiosError$1.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(St=>{descriptors[St]={value:St}});Object.defineProperties(AxiosError$1,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError$1.from=(St,er,tr,rr,nr,ar)=>{const sr=Object.create(prototype$1);return utils$2.toFlatObject(St,sr,function(or){return or!==Error.prototype},ir=>ir!=="isAxiosError"),AxiosError$1.call(sr,St.message,er,tr,rr,nr),sr.cause=St,sr.name=St.name,ar&&Object.assign(sr,ar),sr};const httpAdapter=null;function isVisitable(St){return utils$2.isPlainObject(St)||utils$2.isArray(St)}function removeBrackets(St){return utils$2.endsWith(St,"[]")?St.slice(0,-2):St}function renderKey(St,er,tr){return St?St.concat(er).map(function(nr,ar){return nr=removeBrackets(nr),!tr&&ar?"["+nr+"]":nr}).join(tr?".":""):er}function isFlatArray(St){return utils$2.isArray(St)&&!St.some(isVisitable)}const predicates=utils$2.toFlatObject(utils$2,{},null,function(er){return/^is[A-Z]/.test(er)});function toFormData$1(St,er,tr){if(!utils$2.isObject(St))throw new TypeError("target must be an object");er=er||new FormData,tr=utils$2.toFlatObject(tr,{metaTokens:!0,dots:!1,indexes:!1},!1,function(xr,pr){return!utils$2.isUndefined(pr[xr])});const rr=tr.metaTokens,nr=tr.visitor||cr,ar=tr.dots,sr=tr.indexes,or=(tr.Blob||typeof Blob<"u"&&Blob)&&utils$2.isSpecCompliantForm(er);if(!utils$2.isFunction(nr))throw new TypeError("visitor must be a function");function lr(mr){if(mr===null)return"";if(utils$2.isDate(mr))return mr.toISOString();if(!or&&utils$2.isBlob(mr))throw new AxiosError$1("Blob is not supported. Use a Buffer instead.");return utils$2.isArrayBuffer(mr)||utils$2.isTypedArray(mr)?or&&typeof Blob=="function"?new Blob([mr]):Buffer.from(mr):mr}function cr(mr,xr,pr){let hr=mr;if(mr&&!pr&&typeof mr=="object"){if(utils$2.endsWith(xr,"{}"))xr=rr?xr:xr.slice(0,-2),mr=JSON.stringify(mr);else if(utils$2.isArray(mr)&&isFlatArray(mr)||(utils$2.isFileList(mr)||utils$2.endsWith(xr,"[]"))&&(hr=utils$2.toArray(mr)))return xr=removeBrackets(xr),hr.forEach(function(vr,br){!(utils$2.isUndefined(vr)||vr===null)&&er.append(sr===!0?renderKey([xr],br,ar):sr===null?xr:xr+"[]",lr(vr))}),!1}return isVisitable(mr)?!0:(er.append(renderKey(pr,xr,ar),lr(mr)),!1)}const ur=[],dr=Object.assign(predicates,{defaultVisitor:cr,convertValue:lr,isVisitable});function fr(mr,xr){if(!utils$2.isUndefined(mr)){if(ur.indexOf(mr)!==-1)throw Error("Circular reference detected in "+xr.join("."));ur.push(mr),utils$2.forEach(mr,function(hr,gr){(!(utils$2.isUndefined(hr)||hr===null)&&nr.call(er,hr,utils$2.isString(gr)?gr.trim():gr,xr,dr))===!0&&fr(hr,xr?xr.concat(gr):[gr])}),ur.pop()}}if(!utils$2.isObject(St))throw new TypeError("data must be an object");return fr(St),er}function encode$1(St){const er={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(St).replace(/[!'()~]|%20|%00/g,function(rr){return er[rr]})}function AxiosURLSearchParams(St,er){this._pairs=[],St&&toFormData$1(St,this,er)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(er,tr){this._pairs.push([er,tr])};prototype.toString=function(er){const tr=er?function(rr){return er.call(this,rr,encode$1)}:encode$1;return this._pairs.map(function(nr){return tr(nr[0])+"="+tr(nr[1])},"").join("&")};function encode(St){return encodeURIComponent(St).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(St,er,tr){if(!er)return St;const rr=tr&&tr.encode||encode;utils$2.isFunction(tr)&&(tr={serialize:tr});const nr=tr&&tr.serialize;let ar;if(nr?ar=nr(er,tr):ar=utils$2.isURLSearchParams(er)?er.toString():new AxiosURLSearchParams(er,tr).toString(rr),ar){const sr=St.indexOf("#");sr!==-1&&(St=St.slice(0,sr)),St+=(St.indexOf("?")===-1?"?":"&")+ar}return St}class InterceptorManager{constructor(){this.handlers=[]}use(er,tr,rr){return this.handlers.push({fulfilled:er,rejected:tr,synchronous:rr?rr.synchronous:!1,runWhen:rr?rr.runWhen:null}),this.handlers.length-1}eject(er){this.handlers[er]&&(this.handlers[er]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(er){utils$2.forEach(this.handlers,function(rr){rr!==null&&er(rr)})}}const transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",_navigator=typeof navigator=="object"&&navigator||void 0,hasStandardBrowserEnv=hasBrowserEnv&&(!_navigator||["ReactNative","NativeScript","NS"].indexOf(_navigator.product)<0),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost",utils$1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,navigator:_navigator,origin},Symbol.toStringTag,{value:"Module"})),platform={...utils$1,...platform$1};function toURLEncodedForm(St,er){return toFormData$1(St,new platform.classes.URLSearchParams,Object.assign({visitor:function(tr,rr,nr,ar){return platform.isNode&&utils$2.isBuffer(tr)?(this.append(rr,tr.toString("base64")),!1):ar.defaultVisitor.apply(this,arguments)}},er))}function parsePropPath(St){return utils$2.matchAll(/\w+|\[(\w*)]/g,St).map(er=>er[0]==="[]"?"":er[1]||er[0])}function arrayToObject(St){const er={},tr=Object.keys(St);let rr;const nr=tr.length;let ar;for(rr=0;rr<nr;rr++)ar=tr[rr],er[ar]=St[ar];return er}function formDataToJSON(St){function er(tr,rr,nr,ar){let sr=tr[ar++];if(sr==="__proto__")return!0;const ir=Number.isFinite(+sr),or=ar>=tr.length;return sr=!sr&&utils$2.isArray(nr)?nr.length:sr,or?(utils$2.hasOwnProp(nr,sr)?nr[sr]=[nr[sr],rr]:nr[sr]=rr,!ir):((!nr[sr]||!utils$2.isObject(nr[sr]))&&(nr[sr]=[]),er(tr,rr,nr[sr],ar)&&utils$2.isArray(nr[sr])&&(nr[sr]=arrayToObject(nr[sr])),!ir)}if(utils$2.isFormData(St)&&utils$2.isFunction(St.entries)){const tr={};return utils$2.forEachEntry(St,(rr,nr)=>{er(parsePropPath(rr),nr,tr,0)}),tr}return null}function stringifySafely(St,er,tr){if(utils$2.isString(St))try{return(er||JSON.parse)(St),utils$2.trim(St)}catch(rr){if(rr.name!=="SyntaxError")throw rr}return(tr||JSON.stringify)(St)}const defaults$1={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function(er,tr){const rr=tr.getContentType()||"",nr=rr.indexOf("application/json")>-1,ar=utils$2.isObject(er);if(ar&&utils$2.isHTMLForm(er)&&(er=new FormData(er)),utils$2.isFormData(er))return nr?JSON.stringify(formDataToJSON(er)):er;if(utils$2.isArrayBuffer(er)||utils$2.isBuffer(er)||utils$2.isStream(er)||utils$2.isFile(er)||utils$2.isBlob(er)||utils$2.isReadableStream(er))return er;if(utils$2.isArrayBufferView(er))return er.buffer;if(utils$2.isURLSearchParams(er))return tr.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),er.toString();let ir;if(ar){if(rr.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(er,this.formSerializer).toString();if((ir=utils$2.isFileList(er))||rr.indexOf("multipart/form-data")>-1){const or=this.env&&this.env.FormData;return toFormData$1(ir?{"files[]":er}:er,or&&new or,this.formSerializer)}}return ar||nr?(tr.setContentType("application/json",!1),stringifySafely(er)):er}],transformResponse:[function(er){const tr=this.transitional||defaults$1.transitional,rr=tr&&tr.forcedJSONParsing,nr=this.responseType==="json";if(utils$2.isResponse(er)||utils$2.isReadableStream(er))return er;if(er&&utils$2.isString(er)&&(rr&&!this.responseType||nr)){const sr=!(tr&&tr.silentJSONParsing)&&nr;try{return JSON.parse(er)}catch(ir){if(sr)throw ir.name==="SyntaxError"?AxiosError$1.from(ir,AxiosError$1.ERR_BAD_RESPONSE,this,null,this.response):ir}}return er}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function(er){return er>=200&&er<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$2.forEach(["delete","get","head","post","put","patch"],St=>{defaults$1.headers[St]={}});const ignoreDuplicateOf=utils$2.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=St=>{const er={};let tr,rr,nr;return St&&St.split(`
`).forEach(function(sr){nr=sr.indexOf(":"),tr=sr.substring(0,nr).trim().toLowerCase(),rr=sr.substring(nr+1).trim(),!(!tr||er[tr]&&ignoreDuplicateOf[tr])&&(tr==="set-cookie"?er[tr]?er[tr].push(rr):er[tr]=[rr]:er[tr]=er[tr]?er[tr]+", "+rr:rr)}),er},$internals=Symbol("internals");function normalizeHeader(St){return St&&String(St).trim().toLowerCase()}function normalizeValue(St){return St===!1||St==null?St:utils$2.isArray(St)?St.map(normalizeValue):String(St)}function parseTokens(St){const er=Object.create(null),tr=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let rr;for(;rr=tr.exec(St);)er[rr[1]]=rr[2];return er}const isValidHeaderName=St=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(St.trim());function matchHeaderValue(St,er,tr,rr,nr){if(utils$2.isFunction(rr))return rr.call(this,er,tr);if(nr&&(er=tr),!!utils$2.isString(er)){if(utils$2.isString(rr))return er.indexOf(rr)!==-1;if(utils$2.isRegExp(rr))return rr.test(er)}}function formatHeader(St){return St.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(er,tr,rr)=>tr.toUpperCase()+rr)}function buildAccessors(St,er){const tr=utils$2.toCamelCase(" "+er);["get","set","has"].forEach(rr=>{Object.defineProperty(St,rr+tr,{value:function(nr,ar,sr){return this[rr].call(this,er,nr,ar,sr)},configurable:!0})})}let AxiosHeaders$1=class{constructor(er){er&&this.set(er)}set(er,tr,rr){const nr=this;function ar(ir,or,lr){const cr=normalizeHeader(or);if(!cr)throw new Error("header name must be a non-empty string");const ur=utils$2.findKey(nr,cr);(!ur||nr[ur]===void 0||lr===!0||lr===void 0&&nr[ur]!==!1)&&(nr[ur||or]=normalizeValue(ir))}const sr=(ir,or)=>utils$2.forEach(ir,(lr,cr)=>ar(lr,cr,or));if(utils$2.isPlainObject(er)||er instanceof this.constructor)sr(er,tr);else if(utils$2.isString(er)&&(er=er.trim())&&!isValidHeaderName(er))sr(parseHeaders(er),tr);else if(utils$2.isObject(er)&&utils$2.isIterable(er)){let ir={},or,lr;for(const cr of er){if(!utils$2.isArray(cr))throw TypeError("Object iterator must return a key-value pair");ir[lr=cr[0]]=(or=ir[lr])?utils$2.isArray(or)?[...or,cr[1]]:[or,cr[1]]:cr[1]}sr(ir,tr)}else er!=null&&ar(tr,er,rr);return this}get(er,tr){if(er=normalizeHeader(er),er){const rr=utils$2.findKey(this,er);if(rr){const nr=this[rr];if(!tr)return nr;if(tr===!0)return parseTokens(nr);if(utils$2.isFunction(tr))return tr.call(this,nr,rr);if(utils$2.isRegExp(tr))return tr.exec(nr);throw new TypeError("parser must be boolean|regexp|function")}}}has(er,tr){if(er=normalizeHeader(er),er){const rr=utils$2.findKey(this,er);return!!(rr&&this[rr]!==void 0&&(!tr||matchHeaderValue(this,this[rr],rr,tr)))}return!1}delete(er,tr){const rr=this;let nr=!1;function ar(sr){if(sr=normalizeHeader(sr),sr){const ir=utils$2.findKey(rr,sr);ir&&(!tr||matchHeaderValue(rr,rr[ir],ir,tr))&&(delete rr[ir],nr=!0)}}return utils$2.isArray(er)?er.forEach(ar):ar(er),nr}clear(er){const tr=Object.keys(this);let rr=tr.length,nr=!1;for(;rr--;){const ar=tr[rr];(!er||matchHeaderValue(this,this[ar],ar,er,!0))&&(delete this[ar],nr=!0)}return nr}normalize(er){const tr=this,rr={};return utils$2.forEach(this,(nr,ar)=>{const sr=utils$2.findKey(rr,ar);if(sr){tr[sr]=normalizeValue(nr),delete tr[ar];return}const ir=er?formatHeader(ar):String(ar).trim();ir!==ar&&delete tr[ar],tr[ir]=normalizeValue(nr),rr[ir]=!0}),this}concat(...er){return this.constructor.concat(this,...er)}toJSON(er){const tr=Object.create(null);return utils$2.forEach(this,(rr,nr)=>{rr!=null&&rr!==!1&&(tr[nr]=er&&utils$2.isArray(rr)?rr.join(", "):rr)}),tr}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([er,tr])=>er+": "+tr).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(er){return er instanceof this?er:new this(er)}static concat(er,...tr){const rr=new this(er);return tr.forEach(nr=>rr.set(nr)),rr}static accessor(er){const rr=(this[$internals]=this[$internals]={accessors:{}}).accessors,nr=this.prototype;function ar(sr){const ir=normalizeHeader(sr);rr[ir]||(buildAccessors(nr,sr),rr[ir]=!0)}return utils$2.isArray(er)?er.forEach(ar):ar(er),this}};AxiosHeaders$1.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$2.reduceDescriptors(AxiosHeaders$1.prototype,({value:St},er)=>{let tr=er[0].toUpperCase()+er.slice(1);return{get:()=>St,set(rr){this[tr]=rr}}});utils$2.freezeMethods(AxiosHeaders$1);function transformData(St,er){const tr=this||defaults$1,rr=er||tr,nr=AxiosHeaders$1.from(rr.headers);let ar=rr.data;return utils$2.forEach(St,function(ir){ar=ir.call(tr,ar,nr.normalize(),er?er.status:void 0)}),nr.normalize(),ar}function isCancel$1(St){return!!(St&&St.__CANCEL__)}function CanceledError$1(St,er,tr){AxiosError$1.call(this,St??"canceled",AxiosError$1.ERR_CANCELED,er,tr),this.name="CanceledError"}utils$2.inherits(CanceledError$1,AxiosError$1,{__CANCEL__:!0});function settle(St,er,tr){const rr=tr.config.validateStatus;!tr.status||!rr||rr(tr.status)?St(tr):er(new AxiosError$1("Request failed with status code "+tr.status,[AxiosError$1.ERR_BAD_REQUEST,AxiosError$1.ERR_BAD_RESPONSE][Math.floor(tr.status/100)-4],tr.config,tr.request,tr))}function parseProtocol(St){const er=/^([-+\w]{1,25})(:?\/\/|:)/.exec(St);return er&&er[1]||""}function speedometer(St,er){St=St||10;const tr=new Array(St),rr=new Array(St);let nr=0,ar=0,sr;return er=er!==void 0?er:1e3,function(or){const lr=Date.now(),cr=rr[ar];sr||(sr=lr),tr[nr]=or,rr[nr]=lr;let ur=ar,dr=0;for(;ur!==nr;)dr+=tr[ur++],ur=ur%St;if(nr=(nr+1)%St,nr===ar&&(ar=(ar+1)%St),lr-sr<er)return;const fr=cr&&lr-cr;return fr?Math.round(dr*1e3/fr):void 0}}function throttle$3(St,er){let tr=0,rr=1e3/er,nr,ar;const sr=(lr,cr=Date.now())=>{tr=cr,nr=null,ar&&(clearTimeout(ar),ar=null),St.apply(null,lr)};return[(...lr)=>{const cr=Date.now(),ur=cr-tr;ur>=rr?sr(lr,cr):(nr=lr,ar||(ar=setTimeout(()=>{ar=null,sr(nr)},rr-ur)))},()=>nr&&sr(nr)]}const progressEventReducer=(St,er,tr=3)=>{let rr=0;const nr=speedometer(50,250);return throttle$3(ar=>{const sr=ar.loaded,ir=ar.lengthComputable?ar.total:void 0,or=sr-rr,lr=nr(or),cr=sr<=ir;rr=sr;const ur={loaded:sr,total:ir,progress:ir?sr/ir:void 0,bytes:or,rate:lr||void 0,estimated:lr&&ir&&cr?(ir-sr)/lr:void 0,event:ar,lengthComputable:ir!=null,[er?"download":"upload"]:!0};St(ur)},tr)},progressEventDecorator=(St,er)=>{const tr=St!=null;return[rr=>er[0]({lengthComputable:tr,total:St,loaded:rr}),er[1]]},asyncDecorator=St=>(...er)=>utils$2.asap(()=>St(...er)),isURLSameOrigin=platform.hasStandardBrowserEnv?((St,er)=>tr=>(tr=new URL(tr,platform.origin),St.protocol===tr.protocol&&St.host===tr.host&&(er||St.port===tr.port)))(new URL(platform.origin),platform.navigator&&/(msie|trident)/i.test(platform.navigator.userAgent)):()=>!0,cookies=platform.hasStandardBrowserEnv?{write(St,er,tr,rr,nr,ar){const sr=[St+"="+encodeURIComponent(er)];utils$2.isNumber(tr)&&sr.push("expires="+new Date(tr).toGMTString()),utils$2.isString(rr)&&sr.push("path="+rr),utils$2.isString(nr)&&sr.push("domain="+nr),ar===!0&&sr.push("secure"),document.cookie=sr.join("; ")},read(St){const er=document.cookie.match(new RegExp("(^|;\\s*)("+St+")=([^;]*)"));return er?decodeURIComponent(er[3]):null},remove(St){this.write(St,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(St){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(St)}function combineURLs(St,er){return er?St.replace(/\/?\/$/,"")+"/"+er.replace(/^\/+/,""):St}function buildFullPath(St,er,tr){let rr=!isAbsoluteURL(er);return St&&(rr||tr==!1)?combineURLs(St,er):er}const headersToObject=St=>St instanceof AxiosHeaders$1?{...St}:St;function mergeConfig$1(St,er){er=er||{};const tr={};function rr(lr,cr,ur,dr){return utils$2.isPlainObject(lr)&&utils$2.isPlainObject(cr)?utils$2.merge.call({caseless:dr},lr,cr):utils$2.isPlainObject(cr)?utils$2.merge({},cr):utils$2.isArray(cr)?cr.slice():cr}function nr(lr,cr,ur,dr){if(utils$2.isUndefined(cr)){if(!utils$2.isUndefined(lr))return rr(void 0,lr,ur,dr)}else return rr(lr,cr,ur,dr)}function ar(lr,cr){if(!utils$2.isUndefined(cr))return rr(void 0,cr)}function sr(lr,cr){if(utils$2.isUndefined(cr)){if(!utils$2.isUndefined(lr))return rr(void 0,lr)}else return rr(void 0,cr)}function ir(lr,cr,ur){if(ur in er)return rr(lr,cr);if(ur in St)return rr(void 0,lr)}const or={url:ar,method:ar,data:ar,baseURL:sr,transformRequest:sr,transformResponse:sr,paramsSerializer:sr,timeout:sr,timeoutMessage:sr,withCredentials:sr,withXSRFToken:sr,adapter:sr,responseType:sr,xsrfCookieName:sr,xsrfHeaderName:sr,onUploadProgress:sr,onDownloadProgress:sr,decompress:sr,maxContentLength:sr,maxBodyLength:sr,beforeRedirect:sr,transport:sr,httpAgent:sr,httpsAgent:sr,cancelToken:sr,socketPath:sr,responseEncoding:sr,validateStatus:ir,headers:(lr,cr,ur)=>nr(headersToObject(lr),headersToObject(cr),ur,!0)};return utils$2.forEach(Object.keys(Object.assign({},St,er)),function(cr){const ur=or[cr]||nr,dr=ur(St[cr],er[cr],cr);utils$2.isUndefined(dr)&&ur!==ir||(tr[cr]=dr)}),tr}const resolveConfig=St=>{const er=mergeConfig$1({},St);let{data:tr,withXSRFToken:rr,xsrfHeaderName:nr,xsrfCookieName:ar,headers:sr,auth:ir}=er;er.headers=sr=AxiosHeaders$1.from(sr),er.url=buildURL(buildFullPath(er.baseURL,er.url,er.allowAbsoluteUrls),St.params,St.paramsSerializer),ir&&sr.set("Authorization","Basic "+btoa((ir.username||"")+":"+(ir.password?unescape(encodeURIComponent(ir.password)):"")));let or;if(utils$2.isFormData(tr)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)sr.setContentType(void 0);else if((or=sr.getContentType())!==!1){const[lr,...cr]=or?or.split(";").map(ur=>ur.trim()).filter(Boolean):[];sr.setContentType([lr||"multipart/form-data",...cr].join("; "))}}if(platform.hasStandardBrowserEnv&&(rr&&utils$2.isFunction(rr)&&(rr=rr(er)),rr||rr!==!1&&isURLSameOrigin(er.url))){const lr=nr&&ar&&cookies.read(ar);lr&&sr.set(nr,lr)}return er},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(St){return new Promise(function(tr,rr){const nr=resolveConfig(St);let ar=nr.data;const sr=AxiosHeaders$1.from(nr.headers).normalize();let{responseType:ir,onUploadProgress:or,onDownloadProgress:lr}=nr,cr,ur,dr,fr,mr;function xr(){fr&&fr(),mr&&mr(),nr.cancelToken&&nr.cancelToken.unsubscribe(cr),nr.signal&&nr.signal.removeEventListener("abort",cr)}let pr=new XMLHttpRequest;pr.open(nr.method.toUpperCase(),nr.url,!0),pr.timeout=nr.timeout;function hr(){if(!pr)return;const vr=AxiosHeaders$1.from("getAllResponseHeaders"in pr&&pr.getAllResponseHeaders()),yr={data:!ir||ir==="text"||ir==="json"?pr.responseText:pr.response,status:pr.status,statusText:pr.statusText,headers:vr,config:St,request:pr};settle(function(jr){tr(jr),xr()},function(jr){rr(jr),xr()},yr),pr=null}"onloadend"in pr?pr.onloadend=hr:pr.onreadystatechange=function(){!pr||pr.readyState!==4||pr.status===0&&!(pr.responseURL&&pr.responseURL.indexOf("file:")===0)||setTimeout(hr)},pr.onabort=function(){pr&&(rr(new AxiosError$1("Request aborted",AxiosError$1.ECONNABORTED,St,pr)),pr=null)},pr.onerror=function(){rr(new AxiosError$1("Network Error",AxiosError$1.ERR_NETWORK,St,pr)),pr=null},pr.ontimeout=function(){let br=nr.timeout?"timeout of "+nr.timeout+"ms exceeded":"timeout exceeded";const yr=nr.transitional||transitionalDefaults;nr.timeoutErrorMessage&&(br=nr.timeoutErrorMessage),rr(new AxiosError$1(br,yr.clarifyTimeoutError?AxiosError$1.ETIMEDOUT:AxiosError$1.ECONNABORTED,St,pr)),pr=null},ar===void 0&&sr.setContentType(null),"setRequestHeader"in pr&&utils$2.forEach(sr.toJSON(),function(br,yr){pr.setRequestHeader(yr,br)}),utils$2.isUndefined(nr.withCredentials)||(pr.withCredentials=!!nr.withCredentials),ir&&ir!=="json"&&(pr.responseType=nr.responseType),lr&&([dr,mr]=progressEventReducer(lr,!0),pr.addEventListener("progress",dr)),or&&pr.upload&&([ur,fr]=progressEventReducer(or),pr.upload.addEventListener("progress",ur),pr.upload.addEventListener("loadend",fr)),(nr.cancelToken||nr.signal)&&(cr=vr=>{pr&&(rr(!vr||vr.type?new CanceledError$1(null,St,pr):vr),pr.abort(),pr=null)},nr.cancelToken&&nr.cancelToken.subscribe(cr),nr.signal&&(nr.signal.aborted?cr():nr.signal.addEventListener("abort",cr)));const gr=parseProtocol(nr.url);if(gr&&platform.protocols.indexOf(gr)===-1){rr(new AxiosError$1("Unsupported protocol "+gr+":",AxiosError$1.ERR_BAD_REQUEST,St));return}pr.send(ar||null)})},composeSignals=(St,er)=>{const{length:tr}=St=St?St.filter(Boolean):[];if(er||tr){let rr=new AbortController,nr;const ar=function(lr){if(!nr){nr=!0,ir();const cr=lr instanceof Error?lr:this.reason;rr.abort(cr instanceof AxiosError$1?cr:new CanceledError$1(cr instanceof Error?cr.message:cr))}};let sr=er&&setTimeout(()=>{sr=null,ar(new AxiosError$1(`timeout ${er} of ms exceeded`,AxiosError$1.ETIMEDOUT))},er);const ir=()=>{St&&(sr&&clearTimeout(sr),sr=null,St.forEach(lr=>{lr.unsubscribe?lr.unsubscribe(ar):lr.removeEventListener("abort",ar)}),St=null)};St.forEach(lr=>lr.addEventListener("abort",ar));const{signal:or}=rr;return or.unsubscribe=()=>utils$2.asap(ir),or}},streamChunk=function*(St,er){let tr=St.byteLength;if(tr<er){yield St;return}let rr=0,nr;for(;rr<tr;)nr=rr+er,yield St.slice(rr,nr),rr=nr},readBytes=async function*(St,er){for await(const tr of readStream(St))yield*streamChunk(tr,er)},readStream=async function*(St){if(St[Symbol.asyncIterator]){yield*St;return}const er=St.getReader();try{for(;;){const{done:tr,value:rr}=await er.read();if(tr)break;yield rr}}finally{await er.cancel()}},trackStream=(St,er,tr,rr)=>{const nr=readBytes(St,er);let ar=0,sr,ir=or=>{sr||(sr=!0,rr&&rr(or))};return new ReadableStream({async pull(or){try{const{done:lr,value:cr}=await nr.next();if(lr){ir(),or.close();return}let ur=cr.byteLength;if(tr){let dr=ar+=ur;tr(dr)}or.enqueue(new Uint8Array(cr))}catch(lr){throw ir(lr),lr}},cancel(or){return ir(or),nr.return()}},{highWaterMark:2})},isFetchSupported=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",isReadableStreamSupported=isFetchSupported&&typeof ReadableStream=="function",encodeText=isFetchSupported&&(typeof TextEncoder=="function"?(St=>er=>St.encode(er))(new TextEncoder):async St=>new Uint8Array(await new Response(St).arrayBuffer())),test$1=(St,...er)=>{try{return!!St(...er)}catch{return!1}},supportsRequestStream=isReadableStreamSupported&&test$1(()=>{let St=!1;const er=new Request(platform.origin,{body:new ReadableStream,method:"POST",get duplex(){return St=!0,"half"}}).headers.has("Content-Type");return St&&!er}),DEFAULT_CHUNK_SIZE=64*1024,supportsResponseStream=isReadableStreamSupported&&test$1(()=>utils$2.isReadableStream(new Response("").body)),resolvers={stream:supportsResponseStream&&(St=>St.body)};isFetchSupported&&(St=>{["text","arrayBuffer","blob","formData","stream"].forEach(er=>{!resolvers[er]&&(resolvers[er]=utils$2.isFunction(St[er])?tr=>tr[er]():(tr,rr)=>{throw new AxiosError$1(`Response type '${er}' is not supported`,AxiosError$1.ERR_NOT_SUPPORT,rr)})})})(new Response);const getBodyLength=async St=>{if(St==null)return 0;if(utils$2.isBlob(St))return St.size;if(utils$2.isSpecCompliantForm(St))return(await new Request(platform.origin,{method:"POST",body:St}).arrayBuffer()).byteLength;if(utils$2.isArrayBufferView(St)||utils$2.isArrayBuffer(St))return St.byteLength;if(utils$2.isURLSearchParams(St)&&(St=St+""),utils$2.isString(St))return(await encodeText(St)).byteLength},resolveBodyLength=async(St,er)=>{const tr=utils$2.toFiniteNumber(St.getContentLength());return tr??getBodyLength(er)},fetchAdapter=isFetchSupported&&(async St=>{let{url:er,method:tr,data:rr,signal:nr,cancelToken:ar,timeout:sr,onDownloadProgress:ir,onUploadProgress:or,responseType:lr,headers:cr,withCredentials:ur="same-origin",fetchOptions:dr}=resolveConfig(St);lr=lr?(lr+"").toLowerCase():"text";let fr=composeSignals([nr,ar&&ar.toAbortSignal()],sr),mr;const xr=fr&&fr.unsubscribe&&(()=>{fr.unsubscribe()});let pr;try{if(or&&supportsRequestStream&&tr!=="get"&&tr!=="head"&&(pr=await resolveBodyLength(cr,rr))!==0){let yr=new Request(er,{method:"POST",body:rr,duplex:"half"}),Er;if(utils$2.isFormData(rr)&&(Er=yr.headers.get("content-type"))&&cr.setContentType(Er),yr.body){const[jr,_r]=progressEventDecorator(pr,progressEventReducer(asyncDecorator(or)));rr=trackStream(yr.body,DEFAULT_CHUNK_SIZE,jr,_r)}}utils$2.isString(ur)||(ur=ur?"include":"omit");const hr="credentials"in Request.prototype;mr=new Request(er,{...dr,signal:fr,method:tr.toUpperCase(),headers:cr.normalize().toJSON(),body:rr,duplex:"half",credentials:hr?ur:void 0});let gr=await fetch(mr);const vr=supportsResponseStream&&(lr==="stream"||lr==="response");if(supportsResponseStream&&(ir||vr&&xr)){const yr={};["status","statusText","headers"].forEach(Cr=>{yr[Cr]=gr[Cr]});const Er=utils$2.toFiniteNumber(gr.headers.get("content-length")),[jr,_r]=ir&&progressEventDecorator(Er,progressEventReducer(asyncDecorator(ir),!0))||[];gr=new Response(trackStream(gr.body,DEFAULT_CHUNK_SIZE,jr,()=>{_r&&_r(),xr&&xr()}),yr)}lr=lr||"text";let br=await resolvers[utils$2.findKey(resolvers,lr)||"text"](gr,St);return!vr&&xr&&xr(),await new Promise((yr,Er)=>{settle(yr,Er,{data:br,headers:AxiosHeaders$1.from(gr.headers),status:gr.status,statusText:gr.statusText,config:St,request:mr})})}catch(hr){throw xr&&xr(),hr&&hr.name==="TypeError"&&/Load failed|fetch/i.test(hr.message)?Object.assign(new AxiosError$1("Network Error",AxiosError$1.ERR_NETWORK,St,mr),{cause:hr.cause||hr}):AxiosError$1.from(hr,hr&&hr.code,St,mr)}}),knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:fetchAdapter};utils$2.forEach(knownAdapters,(St,er)=>{if(St){try{Object.defineProperty(St,"name",{value:er})}catch{}Object.defineProperty(St,"adapterName",{value:er})}});const renderReason=St=>`- ${St}`,isResolvedHandle=St=>utils$2.isFunction(St)||St===null||St===!1,adapters={getAdapter:St=>{St=utils$2.isArray(St)?St:[St];const{length:er}=St;let tr,rr;const nr={};for(let ar=0;ar<er;ar++){tr=St[ar];let sr;if(rr=tr,!isResolvedHandle(tr)&&(rr=knownAdapters[(sr=String(tr)).toLowerCase()],rr===void 0))throw new AxiosError$1(`Unknown adapter '${sr}'`);if(rr)break;nr[sr||"#"+ar]=rr}if(!rr){const ar=Object.entries(nr).map(([ir,or])=>`adapter ${ir} `+(or===!1?"is not supported by the environment":"is not available in the build"));let sr=er?ar.length>1?`since :
`+ar.map(renderReason).join(`
`):" "+renderReason(ar[0]):"as no adapter specified";throw new AxiosError$1("There is no suitable adapter to dispatch the request "+sr,"ERR_NOT_SUPPORT")}return rr},adapters:knownAdapters};function throwIfCancellationRequested(St){if(St.cancelToken&&St.cancelToken.throwIfRequested(),St.signal&&St.signal.aborted)throw new CanceledError$1(null,St)}function dispatchRequest(St){return throwIfCancellationRequested(St),St.headers=AxiosHeaders$1.from(St.headers),St.data=transformData.call(St,St.transformRequest),["post","put","patch"].indexOf(St.method)!==-1&&St.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(St.adapter||defaults$1.adapter)(St).then(function(rr){return throwIfCancellationRequested(St),rr.data=transformData.call(St,St.transformResponse,rr),rr.headers=AxiosHeaders$1.from(rr.headers),rr},function(rr){return isCancel$1(rr)||(throwIfCancellationRequested(St),rr&&rr.response&&(rr.response.data=transformData.call(St,St.transformResponse,rr.response),rr.response.headers=AxiosHeaders$1.from(rr.response.headers))),Promise.reject(rr)})}const VERSION$1="1.9.0",validators$1={};["object","boolean","number","function","string","symbol"].forEach((St,er)=>{validators$1[St]=function(rr){return typeof rr===St||"a"+(er<1?"n ":" ")+St}});const deprecatedWarnings={};validators$1.transitional=function(er,tr,rr){function nr(ar,sr){return"[Axios v"+VERSION$1+"] Transitional option '"+ar+"'"+sr+(rr?". "+rr:"")}return(ar,sr,ir)=>{if(er===!1)throw new AxiosError$1(nr(sr," has been removed"+(tr?" in "+tr:"")),AxiosError$1.ERR_DEPRECATED);return tr&&!deprecatedWarnings[sr]&&(deprecatedWarnings[sr]=!0,console.warn(nr(sr," has been deprecated since v"+tr+" and will be removed in the near future"))),er?er(ar,sr,ir):!0}};validators$1.spelling=function(er){return(tr,rr)=>(console.warn(`${rr} is likely a misspelling of ${er}`),!0)};function assertOptions(St,er,tr){if(typeof St!="object")throw new AxiosError$1("options must be an object",AxiosError$1.ERR_BAD_OPTION_VALUE);const rr=Object.keys(St);let nr=rr.length;for(;nr-- >0;){const ar=rr[nr],sr=er[ar];if(sr){const ir=St[ar],or=ir===void 0||sr(ir,ar,St);if(or!==!0)throw new AxiosError$1("option "+ar+" must be "+or,AxiosError$1.ERR_BAD_OPTION_VALUE);continue}if(tr!==!0)throw new AxiosError$1("Unknown option "+ar,AxiosError$1.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;let Axios$1=class{constructor(er){this.defaults=er||{},this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}async request(er,tr){try{return await this._request(er,tr)}catch(rr){if(rr instanceof Error){let nr={};Error.captureStackTrace?Error.captureStackTrace(nr):nr=new Error;const ar=nr.stack?nr.stack.replace(/^.+\n/,""):"";try{rr.stack?ar&&!String(rr.stack).endsWith(ar.replace(/^.+\n.+\n/,""))&&(rr.stack+=`
`+ar):rr.stack=ar}catch{}}throw rr}}_request(er,tr){typeof er=="string"?(tr=tr||{},tr.url=er):tr=er||{},tr=mergeConfig$1(this.defaults,tr);const{transitional:rr,paramsSerializer:nr,headers:ar}=tr;rr!==void 0&&validator.assertOptions(rr,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),nr!=null&&(utils$2.isFunction(nr)?tr.paramsSerializer={serialize:nr}:validator.assertOptions(nr,{encode:validators.function,serialize:validators.function},!0)),tr.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?tr.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:tr.allowAbsoluteUrls=!0),validator.assertOptions(tr,{baseUrl:validators.spelling("baseURL"),withXsrfToken:validators.spelling("withXSRFToken")},!0),tr.method=(tr.method||this.defaults.method||"get").toLowerCase();let sr=ar&&utils$2.merge(ar.common,ar[tr.method]);ar&&utils$2.forEach(["delete","get","head","post","put","patch","common"],mr=>{delete ar[mr]}),tr.headers=AxiosHeaders$1.concat(sr,ar);const ir=[];let or=!0;this.interceptors.request.forEach(function(xr){typeof xr.runWhen=="function"&&xr.runWhen(tr)===!1||(or=or&&xr.synchronous,ir.unshift(xr.fulfilled,xr.rejected))});const lr=[];this.interceptors.response.forEach(function(xr){lr.push(xr.fulfilled,xr.rejected)});let cr,ur=0,dr;if(!or){const mr=[dispatchRequest.bind(this),void 0];for(mr.unshift.apply(mr,ir),mr.push.apply(mr,lr),dr=mr.length,cr=Promise.resolve(tr);ur<dr;)cr=cr.then(mr[ur++],mr[ur++]);return cr}dr=ir.length;let fr=tr;for(ur=0;ur<dr;){const mr=ir[ur++],xr=ir[ur++];try{fr=mr(fr)}catch(pr){xr.call(this,pr);break}}try{cr=dispatchRequest.call(this,fr)}catch(mr){return Promise.reject(mr)}for(ur=0,dr=lr.length;ur<dr;)cr=cr.then(lr[ur++],lr[ur++]);return cr}getUri(er){er=mergeConfig$1(this.defaults,er);const tr=buildFullPath(er.baseURL,er.url,er.allowAbsoluteUrls);return buildURL(tr,er.params,er.paramsSerializer)}};utils$2.forEach(["delete","get","head","options"],function(er){Axios$1.prototype[er]=function(tr,rr){return this.request(mergeConfig$1(rr||{},{method:er,url:tr,data:(rr||{}).data}))}});utils$2.forEach(["post","put","patch"],function(er){function tr(rr){return function(ar,sr,ir){return this.request(mergeConfig$1(ir||{},{method:er,headers:rr?{"Content-Type":"multipart/form-data"}:{},url:ar,data:sr}))}}Axios$1.prototype[er]=tr(),Axios$1.prototype[er+"Form"]=tr(!0)});let CancelToken$1=class Nm{constructor(er){if(typeof er!="function")throw new TypeError("executor must be a function.");let tr;this.promise=new Promise(function(ar){tr=ar});const rr=this;this.promise.then(nr=>{if(!rr._listeners)return;let ar=rr._listeners.length;for(;ar-- >0;)rr._listeners[ar](nr);rr._listeners=null}),this.promise.then=nr=>{let ar;const sr=new Promise(ir=>{rr.subscribe(ir),ar=ir}).then(nr);return sr.cancel=function(){rr.unsubscribe(ar)},sr},er(function(ar,sr,ir){rr.reason||(rr.reason=new CanceledError$1(ar,sr,ir),tr(rr.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(er){if(this.reason){er(this.reason);return}this._listeners?this._listeners.push(er):this._listeners=[er]}unsubscribe(er){if(!this._listeners)return;const tr=this._listeners.indexOf(er);tr!==-1&&this._listeners.splice(tr,1)}toAbortSignal(){const er=new AbortController,tr=rr=>{er.abort(rr)};return this.subscribe(tr),er.signal.unsubscribe=()=>this.unsubscribe(tr),er.signal}static source(){let er;return{token:new Nm(function(nr){er=nr}),cancel:er}}};function spread$1(St){return function(tr){return St.apply(null,tr)}}function isAxiosError$1(St){return utils$2.isObject(St)&&St.isAxiosError===!0}const HttpStatusCode$1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode$1).forEach(([St,er])=>{HttpStatusCode$1[er]=St});function createInstance(St){const er=new Axios$1(St),tr=bind(Axios$1.prototype.request,er);return utils$2.extend(tr,Axios$1.prototype,er,{allOwnKeys:!0}),utils$2.extend(tr,er,null,{allOwnKeys:!0}),tr.create=function(nr){return createInstance(mergeConfig$1(St,nr))},tr}const axios=createInstance(defaults$1);axios.Axios=Axios$1;axios.CanceledError=CanceledError$1;axios.CancelToken=CancelToken$1;axios.isCancel=isCancel$1;axios.VERSION=VERSION$1;axios.toFormData=toFormData$1;axios.AxiosError=AxiosError$1;axios.Cancel=axios.CanceledError;axios.all=function(er){return Promise.all(er)};axios.spread=spread$1;axios.isAxiosError=isAxiosError$1;axios.mergeConfig=mergeConfig$1;axios.AxiosHeaders=AxiosHeaders$1;axios.formToJSON=St=>formDataToJSON(utils$2.isHTMLForm(St)?new FormData(St):St);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode$1;axios.default=axios;const{Axios,AxiosError,CanceledError,isCancel,CancelToken,VERSION,all,Cancel,isAxiosError,spread,toFormData,AxiosHeaders,HttpStatusCode,formToJSON,getAdapter,mergeConfig}=axios,axiosInstance=axios.create({baseURL:"http://152.200.161.234:8081/api",headers:{"Content-Type":"application/json"}});axiosInstance.interceptors.request.use(St=>{const er=localStorage.getItem("access_token");return er&&(St.headers.Authorization=`Bearer ${er}`),St},St=>Promise.reject(St));axiosInstance.interceptors.response.use(St=>St,async St=>{var tr;const er=St.config;if(((tr=St.response)==null?void 0:tr.status)===401&&!er._retry){er._retry=!0;const rr=localStorage.getItem("refresh_token");if(rr)try{const nr=await axios.post("/api/token/refresh/",{refresh:rr}),{access:ar}=nr.data;return localStorage.setItem("access_token",ar),er.headers.Authorization=`Bearer ${ar}`,axios(er)}catch(nr){return localStorage.clear(),window.location.href="/auth/login",Promise.reject(nr)}}return Promise.reject(St)});const login=async(St,er)=>{var tr,rr;try{const ar=(await axiosInstance.post("/users/login/",{username:St,password:er})).data;return ar.require_2fa?{require_2fa:!0,temp_token:ar.temp_token,message:ar.message}:(localStorage.setItem("access_token",ar.access),localStorage.setItem("refresh_token",ar.refresh),localStorage.setItem("user",JSON.stringify(ar.user)),{user:ar.user,token:ar.access})}catch(nr){throw new Error(((rr=(tr=nr.response)==null?void 0:tr.data)==null?void 0:rr.detail)||"Error en el inicio de sesin")}},logout=()=>{localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("user")},requestPasswordReset=async St=>{var er,tr;try{return(await axiosInstance.post("/users/password-reset/",{email:St,reset_url:`${window.location.origin}/auth/reset-password`})).data}catch(rr){throw new Error(((tr=(er=rr.response)==null?void 0:er.data)==null?void 0:tr.detail)||"Error al solicitar el reset de contrasea")}},enable2FA=async()=>{var St,er;try{const tr=await axiosInstance.post("/users/2fa/toggle/",{enable_2fa:!0});return tr.data.temp_token&&localStorage.setItem("temp_2fa_token",tr.data.temp_token),tr.data}catch(tr){throw new Error(((er=(St=tr.response)==null?void 0:St.data)==null?void 0:er.detail)||"Error al activar 2FA")}},verify2FA=async({code:St,temp_token:er})=>{var tr,rr;try{const ar=(await axiosInstance.post("/users/verify-otp/",{temp_token:er,otp_code:St})).data;return localStorage.setItem("access_token",ar.access),localStorage.setItem("refresh_token",ar.refresh),localStorage.setItem("user",JSON.stringify(ar.user)),ar}catch(nr){throw new Error(((rr=(tr=nr.response)==null?void 0:tr.data)==null?void 0:rr.error)||"Error en la verificacin 2FA")}},disable2FA=async()=>{var St,er;try{const tr=await axiosInstance.post("/users/2fa/toggle/",{enable_2fa:!1}),rr=JSON.parse(localStorage.getItem("user")||"{}");return localStorage.setItem("user",JSON.stringify({...rr,is_2fa_enabled:!1})),tr.data}catch(tr){throw new Error(((er=(St=tr.response)==null?void 0:St.data)==null?void 0:er.detail)||"Error al desactivar 2FA")}},getProfile=async()=>{const St=await axiosInstance.get("/users/me/");return localStorage.setItem("user",JSON.stringify(St.data)),St.data},updateProfile=async(St,er=!1)=>{const tr=er?{headers:{"Content-Type":"multipart/form-data"}}:{},rr=await axiosInstance.patch("/users/me/",St,tr);return localStorage.setItem("user",JSON.stringify(rr.data)),rr.data},changePassword=async({current_password:St,new_password:er})=>{var tr,rr,nr,ar;try{return(await axiosInstance.post("/users/change-password/",{current_password:St,new_password:er})).data}catch(sr){throw new Error(((rr=(tr=sr.response)==null?void 0:tr.data)==null?void 0:rr.detail)||((ar=(nr=sr.response)==null?void 0:nr.data)==null?void 0:ar.error)||"Error al cambiar la contrasea")}},defaultOptions={position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"light"},notify={success:(St,er)=>{y$8.success(St,{...defaultOptions,...er})},error:(St,er)=>{y$8.error(St,{...defaultOptions,...er})},info:(St,er)=>{y$8.info(St,{...defaultOptions,...er})},warning:(St,er)=>{y$8.warning(St,{...defaultOptions,...er})},confirm:(St,er)=>{const tr=(er==null?void 0:er.title)||"Confirmar";return er!=null&&er.confirmText,er!=null&&er.cancelText,window.confirm(er!=null&&er.title?`${tr}

${St}`:St)},quickConfirm:(St,er)=>window.confirm(er?`${er}

${St}`:St)},useAuth=()=>{const[St,er]=reactExports.useState(null),[tr,rr]=reactExports.useState(!1),nr=useNavigate(),{setUser:ar,...sr}=useAuthContext();return{loginUser:async(lr,cr)=>{rr(!0),er(null);try{const ur=await login(lr,cr);if(ur.require_2fa){nr("/auth/verify-2fa",{state:{tempToken:ur.temp_token,username:lr}});return}ar(ur.user),notify.success("Inicio de sesin exitoso"),nr("/menu")}catch(ur){const dr=ur.message||"Error en el inicio de sesin";er(dr),notify.error(dr)}finally{rr(!1)}},logoutUser:()=>{logout(),ar(null),nr("/auth/login")},error:St,loading:tr,...sr}};var DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext=U$5.createContext&&U$5.createContext(DefaultContext),__assign=function(){return __assign=Object.assign||function(St){for(var er,tr=1,rr=arguments.length;tr<rr;tr++){er=arguments[tr];for(var nr in er)Object.prototype.hasOwnProperty.call(er,nr)&&(St[nr]=er[nr])}return St},__assign.apply(this,arguments)},__rest=function(St,er){var tr={};for(var rr in St)Object.prototype.hasOwnProperty.call(St,rr)&&er.indexOf(rr)<0&&(tr[rr]=St[rr]);if(St!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nr=0,rr=Object.getOwnPropertySymbols(St);nr<rr.length;nr++)er.indexOf(rr[nr])<0&&Object.prototype.propertyIsEnumerable.call(St,rr[nr])&&(tr[rr[nr]]=St[rr[nr]]);return tr};function Tree2Element(St){return St&&St.map(function(er,tr){return U$5.createElement(er.tag,__assign({key:tr},er.attr),Tree2Element(er.child))})}function GenIcon(St){return function(er){return U$5.createElement(IconBase,__assign({attr:__assign({},St.attr)},er),Tree2Element(St.child))}}function IconBase(St){var er=function(tr){var rr=St.attr,nr=St.size,ar=St.title,sr=__rest(St,["attr","size","title"]),ir=nr||tr.size||"1em",or;return tr.className&&(or=tr.className),St.className&&(or=(or?or+" ":"")+St.className),U$5.createElement("svg",__assign({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},tr.attr,rr,sr,{className:or,style:__assign(__assign({color:St.color||tr.color},tr.style),St.style),height:ir,width:ir,xmlns:"http://www.w3.org/2000/svg"}),ar&&U$5.createElement("title",null,ar),St.children)};return IconContext!==void 0?U$5.createElement(IconContext.Consumer,null,function(tr){return er(tr)}):er(DefaultContext)}function HiCheckCircle$1(St){return GenIcon({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"}}]})(St)}function HiChevronDown$1(St){return GenIcon({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"}}]})(St)}function HiDownload(St){return GenIcon({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"}}]})(St)}function HiExclamationCircle(St){return GenIcon({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"}}]})(St)}function HiEyeOff(St){return GenIcon({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z",clipRule:"evenodd"}},{tag:"path",attr:{d:"M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z"}}]})(St)}function HiEye$1(St){return GenIcon({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}},{tag:"path",attr:{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"}}]})(St)}function HiHeart$1(St){return GenIcon({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"}}]})(St)}function HiLogout(St){return GenIcon({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z",clipRule:"evenodd"}}]})(St)}function HiMail(St){return GenIcon({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}},{tag:"path",attr:{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"}}]})(St)}function HiMoon(St){return GenIcon({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"}}]})(St)}function HiOfficeBuilding(St){return GenIcon({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h8a2 2 0 012 2v12a1 1 0 110 2h-3a1 1 0 01-1-1v-2a1 1 0 00-1-1H9a1 1 0 00-1 1v2a1 1 0 01-1 1H4a1 1 0 110-2V4zm3 1h2v2H7V5zm2 4H7v2h2V9zm2-4h2v2h-2V5zm2 4h-2v2h2V9z",clipRule:"evenodd"}}]})(St)}function HiRefresh(St){return GenIcon({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"}}]})(St)}function HiSpeakerphone(St){return GenIcon({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M18 3a1 1 0 00-1.447-.894L8.763 6H5a3 3 0 000 6h.28l1.771 5.316A1 1 0 008 18h1a1 1 0 001-1v-4.382l6.553 3.276A1 1 0 0018 15V3z",clipRule:"evenodd"}}]})(St)}function HiSun(St){return GenIcon({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z",clipRule:"evenodd"}}]})(St)}function HiUser$1(St){return GenIcon({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"}}]})(St)}function HiOutlineCog(St){return GenIcon({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}},{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}}]})(St)}function HiOutlineCollection(St){return GenIcon({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"}}]})(St)}function HiOutlineDocumentText$1(St){return GenIcon({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"}}]})(St)}function HiOutlineExclamation(St){return GenIcon({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"}}]})(St)}function Button({variant:St="primary",fullWidth:er,loading:tr,children:rr,className:nr,disabled:ar,...sr}){const ir="flex justify-center items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",or={primary:"bg-primary-600 hover:bg-primary-700 text-white focus:ring-primary-500 dark:bg-primary-700 dark:hover:bg-primary-800",secondary:"bg-gray-100 hover:bg-gray-200 text-gray-700 focus:ring-gray-500 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-100",danger:"bg-red-600 hover:bg-red-700 text-white focus:ring-red-500 dark:bg-red-700 dark:hover:bg-red-800"};return jsxRuntimeExports.jsxs("button",{className:`
        ${ir}
        ${or[St]}
        ${er?"w-full":""}
        ${nr||""}
      `,disabled:tr||ar,...sr,children:[tr&&jsxRuntimeExports.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),jsxRuntimeExports.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),rr]})}const Input=({label:St,type:er,showPasswordToggle:tr,id:rr,...nr})=>{const[ar,sr]=reactExports.useState(!1),ir=er==="password"&&tr;return jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[St&&jsxRuntimeExports.jsx("label",{htmlFor:rr,className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-100",children:St}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{id:rr,...nr,type:ir?ar?"text":"password":er,className:"w-full border rounded px-3 py-2 pr-10 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100"}),ir&&jsxRuntimeExports.jsx("button",{type:"button",tabIndex:-1,className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500",onClick:()=>sr(or=>!or),children:ar?jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-5.523 0-10-4.477-10-10 0-1.657.336-3.236.938-4.675M15 12a3 3 0 11-6 0 3 3 0 016 0z"})}):jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.477 0 8.268 2.943 9.542 7-.274.822-.642 1.6-1.09 2.326M15.54 15.54A9.956 9.956 0 0112 19c-5.523 0-10-4.477-10-10 0-1.657.336-3.236.938-4.675"})]})})]})]})};function LoginPage(){var dr;const{loginUser:St,loading:er,error:tr}=useAuth(),[rr,nr]=reactExports.useState({username:"",password:""}),[ar,sr]=reactExports.useState(!1);useNavigate();const or=(dr=useLocation().state)==null?void 0:dr.successMessage,lr=new Date().getFullYear(),cr=fr=>{nr({...rr,[fr.target.name]:fr.target.value})},ur=async fr=>{fr.preventDefault();try{await St(rr.username,rr.password)}catch{}};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen flex flex-col lg:flex-row",children:[jsxRuntimeExports.jsxs("div",{className:"w-full lg:w-7/12 min-h-[40vh] lg:min-h-screen flex items-center justify-center p-4 sm:p-6 lg:p-12 bg-gradient-to-br from-slate-700 via-blue-800 to-blue-900 relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 opacity-10 bg-pattern"}),jsxRuntimeExports.jsxs("div",{className:"relative z-10 w-full max-w-xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"mb-8 lg:mb-12",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-8 lg:mb-16",children:[jsxRuntimeExports.jsx("img",{src:"/logo.png",alt:"Red Medicron IPS",className:"h-12 sm:h-14 w-auto"}),jsxRuntimeExports.jsx("h1",{className:"text-xl sm:text-2xl font-medium text-white",children:"Portal Institucional"})]}),jsxRuntimeExports.jsxs("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-white mb-4 lg:mb-6 leading-tight",children:["Gestin mdica ",jsxRuntimeExports.jsx("br",{}),"simplificada"]}),jsxRuntimeExports.jsx("p",{className:"text-lg sm:text-xl text-blue-100 max-w-md",children:"Accede a todas las herramientas necesarias para tu institucin mdica en un solo lugar."})]}),jsxRuntimeExports.jsxs("div",{className:"mt-8 lg:mt-12 mb-8 lg:mb-16 grid grid-cols-1 sm:grid-cols-2 gap-4 lg:gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-lg bg-white/10",children:jsxRuntimeExports.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-white font-semibold",children:"Acceso Seguro"}),jsxRuntimeExports.jsx("p",{className:"text-blue-100 text-sm",children:"Conexin encriptada y autenticacin de dos factores"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-lg bg-white/10",children:jsxRuntimeExports.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-white font-semibold",children:"Experiencia Comprobada"}),jsxRuntimeExports.jsx("p",{className:"text-blue-100 text-sm",children:"Ms de 10 aos brindando servicios de calidad"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"hidden lg:block text-sm text-blue-200",children:[" ",lr," Red Medicron IPS. ",jsxRuntimeExports.jsx("br",{}),"Todos los derechos reservados."]})]})]}),jsxRuntimeExports.jsx("div",{className:"w-full lg:w-5/12 flex items-center justify-center p-4 sm:p-6 lg:p-12 bg-white",children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-sm space-y-6 lg:space-y-8",children:[or&&jsxRuntimeExports.jsxs("div",{className:"bg-green-50 text-green-700 p-4 rounded-lg text-sm flex items-center",children:[jsxRuntimeExports.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),or]}),jsxRuntimeExports.jsxs("div",{className:"text-center lg:text-left",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Bienvenido de nuevo"}),jsxRuntimeExports.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Ingresa tus credenciales para continuar"})]}),jsxRuntimeExports.jsxs("form",{onSubmit:ur,className:"space-y-4 lg:space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-5",children:[jsxRuntimeExports.jsx(Input,{id:"username",name:"username",type:"text",required:!0,label:"Usuario",placeholder:"Ingresa tu nombre de usuario",value:rr.username,onChange:cr,autoComplete:"username"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Input,{id:"password",name:"password",type:ar?"text":"password",required:!0,label:"Contrasea",placeholder:"Ingresa tu contrasea",value:rr.password,onChange:cr,autoComplete:"current-password"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>sr(!ar),className:"absolute right-3 top-[38px] text-gray-400 hover:text-gray-600 transition-colors","aria-label":ar?"Ocultar contrasea":"Mostrar contrasea",children:ar?jsxRuntimeExports.jsx(HiEyeOff,{className:"w-5 h-5"}):jsxRuntimeExports.jsx(HiEye$1,{className:"w-5 h-5"})})]})]}),tr&&jsxRuntimeExports.jsxs("div",{className:"bg-red-50 text-red-600 px-4 py-3 rounded-lg text-sm flex items-center",children:[jsxRuntimeExports.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),tr==="Invalid credentials"?"Credenciales invlidas":tr]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("label",{className:"flex items-center",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Recordarme"})]}),jsxRuntimeExports.jsx(Link,{to:"/auth/forgot-password",className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Olvidaste tu contrasea?"})]}),jsxRuntimeExports.jsx(Button,{type:"submit",variant:"primary",fullWidth:!0,loading:er,className:"py-2.5",children:er?"Iniciando sesin...":"Iniciar sesin"})]}),jsxRuntimeExports.jsx("div",{className:"mt-6 lg:mt-8 pt-4 lg:pt-6 border-t border-gray-200",children:jsxRuntimeExports.jsxs("div",{className:"space-y-3 lg:space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2 sm:gap-4 text-xs sm:text-sm text-gray-500",children:[jsxRuntimeExports.jsx("a",{href:"#",className:"hover:text-gray-700",children:"Trminos de uso"}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:""}),jsxRuntimeExports.jsx("a",{href:"#",className:"hover:text-gray-700",children:"Poltica de privacidad"})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-[11px] sm:text-xs text-gray-500",children:"Horario de soporte: Lun-Vie 7:00 AM - 3:30 PM"}),jsxRuntimeExports.jsxs("p",{className:"text-[11px] sm:text-xs text-gray-500",children:["Contacto: tics@redmedicronips.com.co ",jsxRuntimeExports.jsx("br",{className:"sm:hidden"})," +57 (317) 498-0971"]})]})]})}),jsxRuntimeExports.jsxs("div",{className:"lg:hidden text-center text-[11px] text-gray-500 pt-4",children:[" ",lr," Red Medicron IPS. Todos los derechos reservados."]})]})})]})}function ForgotPassword(){const[St,er]=reactExports.useState(""),[tr,rr]=reactExports.useState(!1),[nr,ar]=reactExports.useState(""),[sr,ir]=reactExports.useState(!1),or=new Date().getFullYear(),lr=async cr=>{cr.preventDefault(),ir(!0),ar("");try{await requestPasswordReset(St),rr(!0)}catch(ur){ar(ur.message||"Error al enviar el correo")}finally{ir(!1)}};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen flex flex-col lg:flex-row",children:[jsxRuntimeExports.jsxs("div",{className:"w-full lg:w-7/12 min-h-[40vh] lg:min-h-screen flex items-center justify-center p-4 sm:p-6 lg:p-12 bg-gradient-to-br from-slate-700 via-blue-800 to-blue-900 relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 opacity-10 bg-pattern"}),jsxRuntimeExports.jsxs("div",{className:"relative z-10 w-full max-w-xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"mb-8 lg:mb-12",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-8 lg:mb-16",children:[jsxRuntimeExports.jsx("img",{src:"/logo.png",alt:"Red Medicron IPS",className:"h-12 sm:h-14 w-auto"}),jsxRuntimeExports.jsx("h1",{className:"text-xl sm:text-2xl font-medium text-white",children:"Portal Institucional"})]}),jsxRuntimeExports.jsxs("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-white mb-4 lg:mb-6 leading-tight",children:["Recupera tu ",jsxRuntimeExports.jsx("br",{}),"contrasea"]}),jsxRuntimeExports.jsx("p",{className:"text-lg sm:text-xl text-blue-100 max-w-md",children:"Te enviaremos instrucciones para restablecer tu contrasea."})]}),jsxRuntimeExports.jsxs("div",{className:"hidden lg:block text-sm text-blue-200",children:[" ",or," Red Medicron IPS. ",jsxRuntimeExports.jsx("br",{}),"Todos los derechos reservados."]})]})]}),jsxRuntimeExports.jsx("div",{className:"w-full lg:w-5/12 flex items-center justify-center p-4 sm:p-6 lg:p-12 bg-white",children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-sm space-y-6 lg:space-y-8",children:[tr?jsxRuntimeExports.jsxs("div",{className:"text-center space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx("svg",{className:"w-8 h-8 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Correo enviado!"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Te hemos enviado las instrucciones para restablecer tu contrasea. Por favor revisa tu bandeja de entrada."}),jsxRuntimeExports.jsx(Link,{to:"/auth/login",className:"mt-6 inline-block text-blue-600 hover:text-blue-800 font-medium",children:"Volver al inicio de sesin"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"text-center lg:text-left",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Olvidaste tu contrasea?"}),jsxRuntimeExports.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Ingresa tu correo electrnico y te enviaremos instrucciones para restablecerla."})]}),jsxRuntimeExports.jsxs("form",{onSubmit:lr,className:"space-y-6",children:[jsxRuntimeExports.jsx(Input,{type:"email",label:"Correo electrnico",placeholder:"ejemplo@redmedicronips.com.co",value:St,onChange:cr=>er(cr.target.value),required:!0}),nr&&jsxRuntimeExports.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg text-sm",children:nr}),jsxRuntimeExports.jsx(Button,{type:"submit",variant:"primary",fullWidth:!0,className:"py-2.5",disabled:sr,children:sr?"Enviando...":"Enviar instrucciones"}),jsxRuntimeExports.jsx(Link,{to:"/auth/login",className:"block text-center text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Volver al inicio de sesin"})]})]}),jsxRuntimeExports.jsxs("div",{className:"lg:hidden text-center text-[11px] text-gray-500 pt-4",children:[" ",or," Red Medicron IPS. Todos los derechos reservados."]})]})})]})}function ResetPassword(){const[St,er]=reactExports.useState({password:"",confirmPassword:""}),[tr,rr]=reactExports.useState(""),[nr,ar]=reactExports.useState(!1),[sr,ir]=reactExports.useState(!1),{userId:or,token:lr}=useParams(),cr=useNavigate(),ur=async dr=>{var fr,mr;if(dr.preventDefault(),rr(""),ar(!0),St.password!==St.confirmPassword){rr("Las contraseas no coinciden"),ar(!1);return}try{await axiosInstance.post(`/users/password-reset-confirm/${or}/${lr}/`,{new_password:St.password,confirm_password:St.confirmPassword}),ir(!0),setTimeout(()=>{cr("/auth/login",{state:{successMessage:"Tu contrasea ha sido actualizada exitosamente. Por favor, inicia sesin con tu nueva contrasea."}})},3e3)}catch(xr){rr(((mr=(fr=xr.response)==null?void 0:fr.data)==null?void 0:mr.detail)||"Error al restablecer la contrasea")}finally{ar(!1)}};return sr?jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:jsxRuntimeExports.jsx("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-xl shadow-sm",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4",children:jsxRuntimeExports.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Contrasea actualizada!"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-8",children:"Tu contrasea ha sido cambiada exitosamente."}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500",children:"Sers redirigido al inicio de sesin en unos segundos..."}),jsxRuntimeExports.jsx("button",{onClick:()=>cr("/auth/login"),className:"mt-4 text-blue-600 hover:text-blue-800 font-medium text-sm",children:"Ir al inicio de sesin"})]})})}):jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:jsxRuntimeExports.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-xl shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Restablecer contrasea"}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-gray-600",children:"Ingresa tu nueva contrasea"})]}),jsxRuntimeExports.jsxs("form",{onSubmit:ur,className:"mt-8 space-y-6",children:[tr&&jsxRuntimeExports.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg text-sm",children:tr}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx(Input,{type:"password",label:"Nueva contrasea",value:St.password,onChange:dr=>er({...St,password:dr.target.value}),required:!0,minLength:8,disabled:nr}),jsxRuntimeExports.jsx(Input,{type:"password",label:"Confirmar contrasea",value:St.confirmPassword,onChange:dr=>er({...St,confirmPassword:dr.target.value}),required:!0,minLength:8,disabled:nr})]}),jsxRuntimeExports.jsx(Button,{type:"submit",variant:"primary",fullWidth:!0,className:"py-2.5",loading:nr,children:nr?"Cambiando contrasea...":"Cambiar contrasea"})]})]})})}function Verify2FA(){var dr,fr;const[St,er]=reactExports.useState(""),[tr,rr]=reactExports.useState(""),[nr,ar]=reactExports.useState(!1),sr=useNavigate(),ir=useLocation(),or=(dr=ir.state)==null?void 0:dr.tempToken,lr=(fr=ir.state)==null?void 0:fr.username,{setUser:cr}=useAuthContext();reactExports.useEffect(()=>{or||sr("/auth/login")},[or,sr]);const ur=async mr=>{var xr,pr;if(mr.preventDefault(),!St||!or){notify.error("Se requiere el cdigo y el token temporal");return}ar(!0),rr("");try{const hr=await verify2FA({code:St,temp_token:or});cr(hr.user),notify.success("Verificacin exitosa"),sr("/dashboard")}catch(hr){const gr=((pr=(xr=hr.response)==null?void 0:xr.data)==null?void 0:pr.detail)||hr.message||"Error en la verificacin";notify.error(gr),rr(gr)}finally{ar(!1)}};return jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:jsxRuntimeExports.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-xl shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Verificacin 2FA"}),jsxRuntimeExports.jsxs("p",{className:"mt-2 text-gray-600",children:["Ingresa el cdigo de verificacin para ",lr]})]}),jsxRuntimeExports.jsxs("form",{onSubmit:ur,className:"mt-8 space-y-6",children:[tr&&jsxRuntimeExports.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg text-sm",children:tr}),jsxRuntimeExports.jsx(Input,{type:"text",label:"Cdigo OTP",value:St,onChange:mr=>{const xr=mr.target.value.replace(/\D/g,"");xr.length<=6&&er(xr)},placeholder:"Ingresa el cdigo de 6 dgitos",required:!0,pattern:"\\d{6}",maxLength:6,className:"text-center tracking-wider font-mono"}),jsxRuntimeExports.jsx(Button,{type:"submit",variant:"primary",fullWidth:!0,loading:nr,className:"py-2.5",children:nr?"Verificando...":"Verificar"})]})]})})}var __defProp=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(St,er,tr)=>er in St?__defProp(St,er,{enumerable:!0,configurable:!0,writable:!0,value:tr}):St[er]=tr,__spreadValues=(St,er)=>{for(var tr in er||(er={}))__hasOwnProp.call(er,tr)&&__defNormalProp(St,tr,er[tr]);if(__getOwnPropSymbols)for(var tr of __getOwnPropSymbols(er))__propIsEnum.call(er,tr)&&__defNormalProp(St,tr,er[tr]);return St},__objRest=(St,er)=>{var tr={};for(var rr in St)__hasOwnProp.call(St,rr)&&er.indexOf(rr)<0&&(tr[rr]=St[rr]);if(St!=null&&__getOwnPropSymbols)for(var rr of __getOwnPropSymbols(St))er.indexOf(rr)<0&&__propIsEnum.call(St,rr)&&(tr[rr]=St[rr]);return tr};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var qrcodegen;(St=>{const er=class Co{constructor(or,lr,cr,ur){if(this.version=or,this.errorCorrectionLevel=lr,this.modules=[],this.isFunction=[],or<Co.MIN_VERSION||or>Co.MAX_VERSION)throw new RangeError("Version value out of range");if(ur<-1||ur>7)throw new RangeError("Mask value out of range");this.size=or*4+17;let dr=[];for(let mr=0;mr<this.size;mr++)dr.push(!1);for(let mr=0;mr<this.size;mr++)this.modules.push(dr.slice()),this.isFunction.push(dr.slice());this.drawFunctionPatterns();const fr=this.addEccAndInterleave(cr);if(this.drawCodewords(fr),ur==-1){let mr=1e9;for(let xr=0;xr<8;xr++){this.applyMask(xr),this.drawFormatBits(xr);const pr=this.getPenaltyScore();pr<mr&&(ur=xr,mr=pr),this.applyMask(xr)}}nr(0<=ur&&ur<=7),this.mask=ur,this.applyMask(ur),this.drawFormatBits(ur),this.isFunction=[]}static encodeText(or,lr){const cr=St.QrSegment.makeSegments(or);return Co.encodeSegments(cr,lr)}static encodeBinary(or,lr){const cr=St.QrSegment.makeBytes(or);return Co.encodeSegments([cr],lr)}static encodeSegments(or,lr,cr=1,ur=40,dr=-1,fr=!0){if(!(Co.MIN_VERSION<=cr&&cr<=ur&&ur<=Co.MAX_VERSION)||dr<-1||dr>7)throw new RangeError("Invalid value");let mr,xr;for(mr=cr;;mr++){const vr=Co.getNumDataCodewords(mr,lr)*8,br=sr.getTotalBits(or,mr);if(br<=vr){xr=br;break}if(mr>=ur)throw new RangeError("Data too long")}for(const vr of[Co.Ecc.MEDIUM,Co.Ecc.QUARTILE,Co.Ecc.HIGH])fr&&xr<=Co.getNumDataCodewords(mr,vr)*8&&(lr=vr);let pr=[];for(const vr of or){tr(vr.mode.modeBits,4,pr),tr(vr.numChars,vr.mode.numCharCountBits(mr),pr);for(const br of vr.getData())pr.push(br)}nr(pr.length==xr);const hr=Co.getNumDataCodewords(mr,lr)*8;nr(pr.length<=hr),tr(0,Math.min(4,hr-pr.length),pr),tr(0,(8-pr.length%8)%8,pr),nr(pr.length%8==0);for(let vr=236;pr.length<hr;vr^=253)tr(vr,8,pr);let gr=[];for(;gr.length*8<pr.length;)gr.push(0);return pr.forEach((vr,br)=>gr[br>>>3]|=vr<<7-(br&7)),new Co(mr,lr,gr,dr)}getModule(or,lr){return 0<=or&&or<this.size&&0<=lr&&lr<this.size&&this.modules[lr][or]}getModules(){return this.modules}drawFunctionPatterns(){for(let cr=0;cr<this.size;cr++)this.setFunctionModule(6,cr,cr%2==0),this.setFunctionModule(cr,6,cr%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const or=this.getAlignmentPatternPositions(),lr=or.length;for(let cr=0;cr<lr;cr++)for(let ur=0;ur<lr;ur++)cr==0&&ur==0||cr==0&&ur==lr-1||cr==lr-1&&ur==0||this.drawAlignmentPattern(or[cr],or[ur]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(or){const lr=this.errorCorrectionLevel.formatBits<<3|or;let cr=lr;for(let dr=0;dr<10;dr++)cr=cr<<1^(cr>>>9)*1335;const ur=(lr<<10|cr)^21522;nr(ur>>>15==0);for(let dr=0;dr<=5;dr++)this.setFunctionModule(8,dr,rr(ur,dr));this.setFunctionModule(8,7,rr(ur,6)),this.setFunctionModule(8,8,rr(ur,7)),this.setFunctionModule(7,8,rr(ur,8));for(let dr=9;dr<15;dr++)this.setFunctionModule(14-dr,8,rr(ur,dr));for(let dr=0;dr<8;dr++)this.setFunctionModule(this.size-1-dr,8,rr(ur,dr));for(let dr=8;dr<15;dr++)this.setFunctionModule(8,this.size-15+dr,rr(ur,dr));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let or=this.version;for(let cr=0;cr<12;cr++)or=or<<1^(or>>>11)*7973;const lr=this.version<<12|or;nr(lr>>>18==0);for(let cr=0;cr<18;cr++){const ur=rr(lr,cr),dr=this.size-11+cr%3,fr=Math.floor(cr/3);this.setFunctionModule(dr,fr,ur),this.setFunctionModule(fr,dr,ur)}}drawFinderPattern(or,lr){for(let cr=-4;cr<=4;cr++)for(let ur=-4;ur<=4;ur++){const dr=Math.max(Math.abs(ur),Math.abs(cr)),fr=or+ur,mr=lr+cr;0<=fr&&fr<this.size&&0<=mr&&mr<this.size&&this.setFunctionModule(fr,mr,dr!=2&&dr!=4)}}drawAlignmentPattern(or,lr){for(let cr=-2;cr<=2;cr++)for(let ur=-2;ur<=2;ur++)this.setFunctionModule(or+ur,lr+cr,Math.max(Math.abs(ur),Math.abs(cr))!=1)}setFunctionModule(or,lr,cr){this.modules[lr][or]=cr,this.isFunction[lr][or]=!0}addEccAndInterleave(or){const lr=this.version,cr=this.errorCorrectionLevel;if(or.length!=Co.getNumDataCodewords(lr,cr))throw new RangeError("Invalid argument");const ur=Co.NUM_ERROR_CORRECTION_BLOCKS[cr.ordinal][lr],dr=Co.ECC_CODEWORDS_PER_BLOCK[cr.ordinal][lr],fr=Math.floor(Co.getNumRawDataModules(lr)/8),mr=ur-fr%ur,xr=Math.floor(fr/ur);let pr=[];const hr=Co.reedSolomonComputeDivisor(dr);for(let vr=0,br=0;vr<ur;vr++){let yr=or.slice(br,br+xr-dr+(vr<mr?0:1));br+=yr.length;const Er=Co.reedSolomonComputeRemainder(yr,hr);vr<mr&&yr.push(0),pr.push(yr.concat(Er))}let gr=[];for(let vr=0;vr<pr[0].length;vr++)pr.forEach((br,yr)=>{(vr!=xr-dr||yr>=mr)&&gr.push(br[vr])});return nr(gr.length==fr),gr}drawCodewords(or){if(or.length!=Math.floor(Co.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let lr=0;for(let cr=this.size-1;cr>=1;cr-=2){cr==6&&(cr=5);for(let ur=0;ur<this.size;ur++)for(let dr=0;dr<2;dr++){const fr=cr-dr,xr=(cr+1&2)==0?this.size-1-ur:ur;!this.isFunction[xr][fr]&&lr<or.length*8&&(this.modules[xr][fr]=rr(or[lr>>>3],7-(lr&7)),lr++)}}nr(lr==or.length*8)}applyMask(or){if(or<0||or>7)throw new RangeError("Mask value out of range");for(let lr=0;lr<this.size;lr++)for(let cr=0;cr<this.size;cr++){let ur;switch(or){case 0:ur=(cr+lr)%2==0;break;case 1:ur=lr%2==0;break;case 2:ur=cr%3==0;break;case 3:ur=(cr+lr)%3==0;break;case 4:ur=(Math.floor(cr/3)+Math.floor(lr/2))%2==0;break;case 5:ur=cr*lr%2+cr*lr%3==0;break;case 6:ur=(cr*lr%2+cr*lr%3)%2==0;break;case 7:ur=((cr+lr)%2+cr*lr%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[lr][cr]&&ur&&(this.modules[lr][cr]=!this.modules[lr][cr])}}getPenaltyScore(){let or=0;for(let dr=0;dr<this.size;dr++){let fr=!1,mr=0,xr=[0,0,0,0,0,0,0];for(let pr=0;pr<this.size;pr++)this.modules[dr][pr]==fr?(mr++,mr==5?or+=Co.PENALTY_N1:mr>5&&or++):(this.finderPenaltyAddHistory(mr,xr),fr||(or+=this.finderPenaltyCountPatterns(xr)*Co.PENALTY_N3),fr=this.modules[dr][pr],mr=1);or+=this.finderPenaltyTerminateAndCount(fr,mr,xr)*Co.PENALTY_N3}for(let dr=0;dr<this.size;dr++){let fr=!1,mr=0,xr=[0,0,0,0,0,0,0];for(let pr=0;pr<this.size;pr++)this.modules[pr][dr]==fr?(mr++,mr==5?or+=Co.PENALTY_N1:mr>5&&or++):(this.finderPenaltyAddHistory(mr,xr),fr||(or+=this.finderPenaltyCountPatterns(xr)*Co.PENALTY_N3),fr=this.modules[pr][dr],mr=1);or+=this.finderPenaltyTerminateAndCount(fr,mr,xr)*Co.PENALTY_N3}for(let dr=0;dr<this.size-1;dr++)for(let fr=0;fr<this.size-1;fr++){const mr=this.modules[dr][fr];mr==this.modules[dr][fr+1]&&mr==this.modules[dr+1][fr]&&mr==this.modules[dr+1][fr+1]&&(or+=Co.PENALTY_N2)}let lr=0;for(const dr of this.modules)lr=dr.reduce((fr,mr)=>fr+(mr?1:0),lr);const cr=this.size*this.size,ur=Math.ceil(Math.abs(lr*20-cr*10)/cr)-1;return nr(0<=ur&&ur<=9),or+=ur*Co.PENALTY_N4,nr(0<=or&&or<=2568888),or}getAlignmentPatternPositions(){if(this.version==1)return[];{const or=Math.floor(this.version/7)+2,lr=this.version==32?26:Math.ceil((this.version*4+4)/(or*2-2))*2;let cr=[6];for(let ur=this.size-7;cr.length<or;ur-=lr)cr.splice(1,0,ur);return cr}}static getNumRawDataModules(or){if(or<Co.MIN_VERSION||or>Co.MAX_VERSION)throw new RangeError("Version number out of range");let lr=(16*or+128)*or+64;if(or>=2){const cr=Math.floor(or/7)+2;lr-=(25*cr-10)*cr-55,or>=7&&(lr-=36)}return nr(208<=lr&&lr<=29648),lr}static getNumDataCodewords(or,lr){return Math.floor(Co.getNumRawDataModules(or)/8)-Co.ECC_CODEWORDS_PER_BLOCK[lr.ordinal][or]*Co.NUM_ERROR_CORRECTION_BLOCKS[lr.ordinal][or]}static reedSolomonComputeDivisor(or){if(or<1||or>255)throw new RangeError("Degree out of range");let lr=[];for(let ur=0;ur<or-1;ur++)lr.push(0);lr.push(1);let cr=1;for(let ur=0;ur<or;ur++){for(let dr=0;dr<lr.length;dr++)lr[dr]=Co.reedSolomonMultiply(lr[dr],cr),dr+1<lr.length&&(lr[dr]^=lr[dr+1]);cr=Co.reedSolomonMultiply(cr,2)}return lr}static reedSolomonComputeRemainder(or,lr){let cr=lr.map(ur=>0);for(const ur of or){const dr=ur^cr.shift();cr.push(0),lr.forEach((fr,mr)=>cr[mr]^=Co.reedSolomonMultiply(fr,dr))}return cr}static reedSolomonMultiply(or,lr){if(or>>>8||lr>>>8)throw new RangeError("Byte out of range");let cr=0;for(let ur=7;ur>=0;ur--)cr=cr<<1^(cr>>>7)*285,cr^=(lr>>>ur&1)*or;return nr(cr>>>8==0),cr}finderPenaltyCountPatterns(or){const lr=or[1];nr(lr<=this.size*3);const cr=lr>0&&or[2]==lr&&or[3]==lr*3&&or[4]==lr&&or[5]==lr;return(cr&&or[0]>=lr*4&&or[6]>=lr?1:0)+(cr&&or[6]>=lr*4&&or[0]>=lr?1:0)}finderPenaltyTerminateAndCount(or,lr,cr){return or&&(this.finderPenaltyAddHistory(lr,cr),lr=0),lr+=this.size,this.finderPenaltyAddHistory(lr,cr),this.finderPenaltyCountPatterns(cr)}finderPenaltyAddHistory(or,lr){lr[0]==0&&(or+=this.size),lr.pop(),lr.unshift(or)}};er.MIN_VERSION=1,er.MAX_VERSION=40,er.PENALTY_N1=3,er.PENALTY_N2=3,er.PENALTY_N3=40,er.PENALTY_N4=10,er.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],er.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],St.QrCode=er;function tr(ir,or,lr){if(or<0||or>31||ir>>>or)throw new RangeError("Value out of range");for(let cr=or-1;cr>=0;cr--)lr.push(ir>>>cr&1)}function rr(ir,or){return(ir>>>or&1)!=0}function nr(ir){if(!ir)throw new Error("Assertion error")}const ar=class Tl{constructor(or,lr,cr){if(this.mode=or,this.numChars=lr,this.bitData=cr,lr<0)throw new RangeError("Invalid argument");this.bitData=cr.slice()}static makeBytes(or){let lr=[];for(const cr of or)tr(cr,8,lr);return new Tl(Tl.Mode.BYTE,or.length,lr)}static makeNumeric(or){if(!Tl.isNumeric(or))throw new RangeError("String contains non-numeric characters");let lr=[];for(let cr=0;cr<or.length;){const ur=Math.min(or.length-cr,3);tr(parseInt(or.substring(cr,cr+ur),10),ur*3+1,lr),cr+=ur}return new Tl(Tl.Mode.NUMERIC,or.length,lr)}static makeAlphanumeric(or){if(!Tl.isAlphanumeric(or))throw new RangeError("String contains unencodable characters in alphanumeric mode");let lr=[],cr;for(cr=0;cr+2<=or.length;cr+=2){let ur=Tl.ALPHANUMERIC_CHARSET.indexOf(or.charAt(cr))*45;ur+=Tl.ALPHANUMERIC_CHARSET.indexOf(or.charAt(cr+1)),tr(ur,11,lr)}return cr<or.length&&tr(Tl.ALPHANUMERIC_CHARSET.indexOf(or.charAt(cr)),6,lr),new Tl(Tl.Mode.ALPHANUMERIC,or.length,lr)}static makeSegments(or){return or==""?[]:Tl.isNumeric(or)?[Tl.makeNumeric(or)]:Tl.isAlphanumeric(or)?[Tl.makeAlphanumeric(or)]:[Tl.makeBytes(Tl.toUtf8ByteArray(or))]}static makeEci(or){let lr=[];if(or<0)throw new RangeError("ECI assignment value out of range");if(or<128)tr(or,8,lr);else if(or<16384)tr(2,2,lr),tr(or,14,lr);else if(or<1e6)tr(6,3,lr),tr(or,21,lr);else throw new RangeError("ECI assignment value out of range");return new Tl(Tl.Mode.ECI,0,lr)}static isNumeric(or){return Tl.NUMERIC_REGEX.test(or)}static isAlphanumeric(or){return Tl.ALPHANUMERIC_REGEX.test(or)}getData(){return this.bitData.slice()}static getTotalBits(or,lr){let cr=0;for(const ur of or){const dr=ur.mode.numCharCountBits(lr);if(ur.numChars>=1<<dr)return 1/0;cr+=4+dr+ur.bitData.length}return cr}static toUtf8ByteArray(or){or=encodeURI(or);let lr=[];for(let cr=0;cr<or.length;cr++)or.charAt(cr)!="%"?lr.push(or.charCodeAt(cr)):(lr.push(parseInt(or.substring(cr+1,cr+3),16)),cr+=2);return lr}};ar.NUMERIC_REGEX=/^[0-9]*$/,ar.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,ar.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let sr=ar;St.QrSegment=ar})(qrcodegen||(qrcodegen={}));(St=>{(er=>{const tr=class{constructor(nr,ar){this.ordinal=nr,this.formatBits=ar}};tr.LOW=new tr(0,1),tr.MEDIUM=new tr(1,0),tr.QUARTILE=new tr(2,3),tr.HIGH=new tr(3,2),er.Ecc=tr})(St.QrCode||(St.QrCode={}))})(qrcodegen||(qrcodegen={}));(St=>{(er=>{const tr=class{constructor(nr,ar){this.modeBits=nr,this.numBitsCharCount=ar}numCharCountBits(nr){return this.numBitsCharCount[Math.floor((nr+7)/17)]}};tr.NUMERIC=new tr(1,[10,12,14]),tr.ALPHANUMERIC=new tr(2,[9,11,13]),tr.BYTE=new tr(4,[8,16,16]),tr.KANJI=new tr(8,[8,10,12]),tr.ECI=new tr(7,[0,0,0]),er.Mode=tr})(St.QrSegment||(St.QrSegment={}))})(qrcodegen||(qrcodegen={}));var qrcodegen_default=qrcodegen;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var ERROR_LEVEL_MAP={L:qrcodegen_default.QrCode.Ecc.LOW,M:qrcodegen_default.QrCode.Ecc.MEDIUM,Q:qrcodegen_default.QrCode.Ecc.QUARTILE,H:qrcodegen_default.QrCode.Ecc.HIGH},DEFAULT_SIZE=128,DEFAULT_LEVEL="L",DEFAULT_BGCOLOR="#FFFFFF",DEFAULT_FGCOLOR="#000000",DEFAULT_INCLUDEMARGIN=!1,DEFAULT_MINVERSION=1,SPEC_MARGIN_SIZE=4,DEFAULT_MARGIN_SIZE=0,DEFAULT_IMG_SCALE=.1;function generatePath(St,er=0){const tr=[];return St.forEach(function(rr,nr){let ar=null;rr.forEach(function(sr,ir){if(!sr&&ar!==null){tr.push(`M${ar+er} ${nr+er}h${ir-ar}v1H${ar+er}z`),ar=null;return}if(ir===rr.length-1){if(!sr)return;ar===null?tr.push(`M${ir+er},${nr+er} h1v1H${ir+er}z`):tr.push(`M${ar+er},${nr+er} h${ir+1-ar}v1H${ar+er}z`);return}sr&&ar===null&&(ar=ir)})}),tr.join("")}function excavateModules(St,er){return St.slice().map((tr,rr)=>rr<er.y||rr>=er.y+er.h?tr:tr.map((nr,ar)=>ar<er.x||ar>=er.x+er.w?nr:!1))}function getImageSettings(St,er,tr,rr){if(rr==null)return null;const nr=St.length+tr*2,ar=Math.floor(er*DEFAULT_IMG_SCALE),sr=nr/er,ir=(rr.width||ar)*sr,or=(rr.height||ar)*sr,lr=rr.x==null?St.length/2-ir/2:rr.x*sr,cr=rr.y==null?St.length/2-or/2:rr.y*sr,ur=rr.opacity==null?1:rr.opacity;let dr=null;if(rr.excavate){let mr=Math.floor(lr),xr=Math.floor(cr),pr=Math.ceil(ir+lr-mr),hr=Math.ceil(or+cr-xr);dr={x:mr,y:xr,w:pr,h:hr}}const fr=rr.crossOrigin;return{x:lr,y:cr,h:or,w:ir,excavation:dr,opacity:ur,crossOrigin:fr}}function getMarginSize(St,er){return er!=null?Math.max(Math.floor(er),0):St?SPEC_MARGIN_SIZE:DEFAULT_MARGIN_SIZE}function useQRCode({value:St,level:er,minVersion:tr,includeMargin:rr,marginSize:nr,imageSettings:ar,size:sr,boostLevel:ir}){let or=U$5.useMemo(()=>{const mr=(Array.isArray(St)?St:[St]).reduce((xr,pr)=>(xr.push(...qrcodegen_default.QrSegment.makeSegments(pr)),xr),[]);return qrcodegen_default.QrCode.encodeSegments(mr,ERROR_LEVEL_MAP[er],tr,void 0,void 0,ir)},[St,er,tr,ir]);const{cells:lr,margin:cr,numCells:ur,calculatedImageSettings:dr}=U$5.useMemo(()=>{let fr=or.getModules();const mr=getMarginSize(rr,nr),xr=fr.length+mr*2,pr=getImageSettings(fr,sr,mr,ar);return{cells:fr,margin:mr,numCells:xr,calculatedImageSettings:pr}},[or,sr,ar,rr,nr]);return{qrcode:or,margin:cr,cells:lr,numCells:ur,calculatedImageSettings:dr}}var SUPPORTS_PATH2D=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),QRCodeCanvas=U$5.forwardRef(function(er,tr){const rr=er,{value:nr,size:ar=DEFAULT_SIZE,level:sr=DEFAULT_LEVEL,bgColor:ir=DEFAULT_BGCOLOR,fgColor:or=DEFAULT_FGCOLOR,includeMargin:lr=DEFAULT_INCLUDEMARGIN,minVersion:cr=DEFAULT_MINVERSION,boostLevel:ur,marginSize:dr,imageSettings:fr}=rr,xr=__objRest(rr,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:pr}=xr,hr=__objRest(xr,["style"]),gr=fr==null?void 0:fr.src,vr=U$5.useRef(null),br=U$5.useRef(null),yr=U$5.useCallback(Kr=>{vr.current=Kr,typeof tr=="function"?tr(Kr):tr&&(tr.current=Kr)},[tr]),[Er,jr]=U$5.useState(!1),{margin:_r,cells:Cr,numCells:Or,calculatedImageSettings:Pr}=useQRCode({value:nr,level:sr,minVersion:cr,boostLevel:ur,includeMargin:lr,marginSize:dr,imageSettings:fr,size:ar});U$5.useEffect(()=>{if(vr.current!=null){const Kr=vr.current,nn=Kr.getContext("2d");if(!nn)return;let Qr=Cr;const zr=br.current,Vr=Pr!=null&&zr!==null&&zr.complete&&zr.naturalHeight!==0&&zr.naturalWidth!==0;Vr&&Pr.excavation!=null&&(Qr=excavateModules(Cr,Pr.excavation));const Jr=window.devicePixelRatio||1;Kr.height=Kr.width=ar*Jr;const tn=ar/Or*Jr;nn.scale(tn,tn),nn.fillStyle=ir,nn.fillRect(0,0,Or,Or),nn.fillStyle=or,SUPPORTS_PATH2D?nn.fill(new Path2D(generatePath(Qr,_r))):Cr.forEach(function(Yr,Sr){Yr.forEach(function(Rr,Tr){Rr&&nn.fillRect(Tr+_r,Sr+_r,1,1)})}),Pr&&(nn.globalAlpha=Pr.opacity),Vr&&nn.drawImage(zr,Pr.x+_r,Pr.y+_r,Pr.w,Pr.h)}}),U$5.useEffect(()=>{jr(!1)},[gr]);const Lr=__spreadValues({height:ar,width:ar},pr);let Gr=null;return gr!=null&&(Gr=U$5.createElement("img",{src:gr,key:gr,style:{display:"none"},onLoad:()=>{jr(!0)},ref:br,crossOrigin:Pr==null?void 0:Pr.crossOrigin})),U$5.createElement(U$5.Fragment,null,U$5.createElement("canvas",__spreadValues({style:Lr,height:ar,width:ar,ref:yr,role:"img"},hr)),Gr)});QRCodeCanvas.displayName="QRCodeCanvas";var QRCodeSVG=U$5.forwardRef(function(er,tr){const rr=er,{value:nr,size:ar=DEFAULT_SIZE,level:sr=DEFAULT_LEVEL,bgColor:ir=DEFAULT_BGCOLOR,fgColor:or=DEFAULT_FGCOLOR,includeMargin:lr=DEFAULT_INCLUDEMARGIN,minVersion:cr=DEFAULT_MINVERSION,boostLevel:ur,title:dr,marginSize:fr,imageSettings:mr}=rr,xr=__objRest(rr,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:pr,cells:hr,numCells:gr,calculatedImageSettings:vr}=useQRCode({value:nr,level:sr,minVersion:cr,boostLevel:ur,includeMargin:lr,marginSize:fr,imageSettings:mr,size:ar});let br=hr,yr=null;mr!=null&&vr!=null&&(vr.excavation!=null&&(br=excavateModules(hr,vr.excavation)),yr=U$5.createElement("image",{href:mr.src,height:vr.h,width:vr.w,x:vr.x+pr,y:vr.y+pr,preserveAspectRatio:"none",opacity:vr.opacity,crossOrigin:vr.crossOrigin}));const Er=generatePath(br,pr);return U$5.createElement("svg",__spreadValues({height:ar,width:ar,viewBox:`0 0 ${gr} ${gr}`,ref:tr,role:"img"},xr),!!dr&&U$5.createElement("title",null,dr),U$5.createElement("path",{fill:ir,d:`M0,0 h${gr}v${gr}H0z`,shapeRendering:"crispEdges"}),U$5.createElement("path",{fill:or,d:Er,shapeRendering:"crispEdges"}),yr)});QRCodeSVG.displayName="QRCodeSVG";const Disable2FAConfirmModal$1=({isOpen:St,onClose:er,onConfirm:tr,loading:rr})=>St?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-md w-full",children:jsxRuntimeExports.jsxs("div",{className:"p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0",children:jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-red-100 dark:bg-red-900/20 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx("span",{className:"text-red-600 dark:text-red-400 text-lg",children:""})})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Desactivar Autenticacin de Dos Factores"})]}),jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-3",children:"Ests seguro de que deseas desactivar la autenticacin de dos factores?"}),jsxRuntimeExports.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-3",children:jsxRuntimeExports.jsxs("p",{className:"text-yellow-800 dark:text-yellow-200 text-sm",children:[jsxRuntimeExports.jsx("strong",{children:"Advertencia:"})," Esta accin reducir significativamente la seguridad de tu cuenta. Sin 2FA, tu cuenta ser ms vulnerable a accesos no autorizados."]})})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-3",children:[jsxRuntimeExports.jsx("button",{onClick:er,disabled:rr,className:"px-4 py-2 bg-gray-500 hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-lg transition-colors",children:"Cancelar"}),jsxRuntimeExports.jsx("button",{onClick:tr,disabled:rr,className:"px-4 py-2 bg-red-600 hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-lg transition-colors",children:rr?"Desactivando...":"S, desactivar"})]})]})})}):null;function Configure2FA(){const[St,er]=reactExports.useState(""),[tr,rr]=reactExports.useState(""),[nr,ar]=reactExports.useState(!1),[sr,ir]=reactExports.useState(""),[or,lr]=reactExports.useState(!1),[cr,ur]=reactExports.useState(!1),dr=useNavigate(),{user:fr,setUser:mr}=useAuthContext(),[xr,pr]=reactExports.useState((fr==null?void 0:fr.is_2fa_enabled)||!1);reactExports.useEffect(()=>{!(fr!=null&&fr.is_2fa_enabled)&&!or&&lr(!0)},[fr,or]);const hr=Cr=>{if(fr){const Or={...fr,is_2fa_enabled:Cr};mr(Or),localStorage.setItem("user",JSON.stringify(Or))}},gr=async()=>{ar(!0),ir("");try{console.log(" Habilitando 2FA...");const Or=await enable2FA();if(console.log(" Respuesta del servidor:",Or),Or.otp_uri&&Or.secret)er(Or.otp_uri),rr(Or.secret),notify.success("2FA configurado exitosamente. Escanea el cdigo QR con tu aplicacin de autenticacin"),notify.info("Se ha enviado un correo con la informacin de respaldo y los pasos de configuracin");else throw new Error("No se recibi la informacin necesaria del servidor")}catch(Cr){console.error(" Error al habilitar 2FA:",Cr);const Or=Cr.message||"Error al configurar 2FA";ir(Or),notify.error(Or)}finally{ar(!1)}},vr=()=>{ur(!0)},br=async()=>{ar(!0),ir("");try{console.log(" Deshabilitando 2FA..."),await disable2FA(),pr(!1),hr(!1),ur(!1),notify.success("Autenticacin de dos factores desactivada exitosamente"),dr("/profile",{state:{is2FAEnabled:!1,successMessage:"2FA desactivado correctamente"}})}catch(Cr){console.error(" Error al deshabilitar 2FA:",Cr);const Or=Cr.message||"Error al desactivar 2FA";ir(Or),notify.error(Or)}finally{ar(!1)}},yr=()=>{nr||ur(!1)},Er=()=>{pr(!0),hr(!0),notify.info("Recuerda usar el cdigo de tu aplicacin de autenticacin en tu prximo inicio de sesin"),dr("/profile",{state:{is2FAEnabled:!0,successMessage:"2FA configurado correctamente"}})},jr=()=>{er(""),rr(""),ir(""),dr("/profile")},_r=()=>{dr("/profile")};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:[jsxRuntimeExports.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white dark:bg-gray-800 p-8 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("button",{onClick:_r,className:"flex items-center gap-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 transition-colors",disabled:nr,children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"Volver al perfil"})]}),!xr&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-1",children:[jsxRuntimeExports.jsx("div",{className:`w-2 h-2 rounded-full ${St?"bg-gray-300":"bg-blue-500"}`}),jsxRuntimeExports.jsx("div",{className:`w-2 h-2 rounded-full ${St?"bg-blue-500":"bg-gray-300"}`})]}),jsxRuntimeExports.jsx("span",{children:St?"Completar":"Configurar"})]})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:"Configuracin de Autenticacin de Dos Factores"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:xr?"Gestiona tu configuracin de autenticacin de dos factores":"Mejora la seguridad de tu cuenta configurando la autenticacin de dos factores"})]}),sr&&jsxRuntimeExports.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400 p-4 rounded-lg text-sm",children:sr}),jsxRuntimeExports.jsx("div",{className:"space-y-6",children:xr?jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 p-4 rounded-lg text-green-800 dark:text-green-200 text-center",children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:" 2FA est actualmente activado"}),jsxRuntimeExports.jsx("p",{className:"text-sm mt-1",children:"Tu cuenta est protegida con autenticacin de dos factores"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[jsxRuntimeExports.jsx(Button,{variant:"danger",onClick:vr,loading:nr,disabled:nr,children:nr?"Desactivando...":"Desactivar 2FA"}),jsxRuntimeExports.jsx(Button,{variant:"secondary",onClick:gr,disabled:nr,children:"Reconfigurar 2FA"})]})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[!St&&jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 p-4 rounded-lg text-yellow-800 dark:text-yellow-200 mb-6",children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:" 2FA no est activado"}),jsxRuntimeExports.jsx("p",{className:"text-sm mt-1",children:"Tu cuenta no est protegida con autenticacin de dos factores"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx(Button,{variant:"primary",onClick:gr,loading:nr,disabled:nr,className:"w-full",children:nr?"Configurando...":"Configurar 2FA"}),jsxRuntimeExports.jsx(Button,{variant:"secondary",onClick:_r,disabled:nr,className:"w-full",children:"Tal vez ms tarde"})]})]}),St&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 p-4 rounded-lg",children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-blue-800 dark:text-blue-200 mb-2",children:"Pasos a seguir:"}),jsxRuntimeExports.jsxs("ol",{className:"list-decimal list-inside text-blue-700 dark:text-blue-300 space-y-1 text-sm",children:[jsxRuntimeExports.jsx("li",{children:"Descarga una aplicacin de autenticacin como Google Authenticator, Microsoft Authenticator, Authy u otra de tu preferencia"}),jsxRuntimeExports.jsx("li",{children:"Abre la aplicacin y selecciona aadir una nueva cuenta"}),jsxRuntimeExports.jsx("li",{children:"Escanea el cdigo QR que aparece abajo o introduce manualmente la clave secreta"}),jsxRuntimeExports.jsx("li",{children:"Guarda la clave secreta en un lugar seguro como respaldo"}),jsxRuntimeExports.jsx("li",{children:"Se te ha enviado un correo con esta informacin y los pasos detallados"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"p-4 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg",children:jsxRuntimeExports.jsx(QRCodeCanvas,{value:St,size:200,level:"H",includeMargin:!0})}),jsxRuntimeExports.jsxs("div",{className:"w-full text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Escanea este cdigo QR con tu aplicacin de autenticacin"}),tr&&jsxRuntimeExports.jsxs("div",{className:"mt-4",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Clave de respaldo:"}),jsxRuntimeExports.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg p-3 mb-2",children:jsxRuntimeExports.jsx("p",{className:"font-mono text-sm text-gray-900 dark:text-gray-100 break-all",children:tr})}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Guarda esta clave en un lugar seguro. La necesitars si pierdes acceso a tu aplicacin de autenticacin."})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4 justify-center",children:[jsxRuntimeExports.jsx(Button,{type:"button",variant:"primary",onClick:Er,disabled:nr||!St,children:"He configurado la autenticacin"}),jsxRuntimeExports.jsx(Button,{type:"button",variant:"secondary",onClick:jr,disabled:nr,children:"Cancelar"})]})]})]})})]}),jsxRuntimeExports.jsx(Disable2FAConfirmModal$1,{isOpen:cr,onClose:yr,onConfirm:br,loading:nr})]})}const AuthRoutes=()=>jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"login",element:jsxRuntimeExports.jsx(LoginPage,{})}),jsxRuntimeExports.jsx(Route,{path:"forgot-password",element:jsxRuntimeExports.jsx(ForgotPassword,{})}),jsxRuntimeExports.jsx(Route,{path:"reset-password/:userId/:token",element:jsxRuntimeExports.jsx(ResetPassword,{})}),jsxRuntimeExports.jsx(Route,{path:"verify-2fa",element:jsxRuntimeExports.jsx(Verify2FA,{})}),jsxRuntimeExports.jsx(Route,{path:"configure-2fa",element:jsxRuntimeExports.jsx(Configure2FA,{})})]});function HiAcademicCap(St){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M11.7 2.805a.75.75 0 01.6 0A60.65 60.65 0 0122.83 8.72a.75.75 0 01-.231 1.337 49.949 49.949 0 00-9.902 3.912l-.003.002-.34.18a.75.75 0 01-.707 0A50.009 50.009 0 007.5 12.174v-.224c0-.131.067-.248.172-.311a54.614 54.614 0 014.653-2.52.75.75 0 00-.65-1.352 56.129 56.129 0 00-4.78 2.589 1.858 1.858 0 00-.859 1.228 49.803 49.803 0 00-4.634-1.527.75.75 0 01-.231-1.337A60.653 60.653 0 0111.7 2.805z"}},{tag:"path",attr:{d:"M13.06 15.473a48.45 48.45 0 017.666-3.282c.134 1.414.22 2.843.255 4.285a.75.75 0 01-.46.71 47.878 47.878 0 00-8.105 4.342.75.75 0 01-.832 0 47.877 47.877 0 00-8.104-4.342.75.75 0 01-.461-.71c.035-1.442.121-2.87.255-4.286A48.4 48.4 0 016 13.18v1.27a1.5 1.5 0 00-.14 2.508c-.09.38-.222.753-.397 1.11.452.213.901.434 1.346.661a6.729 6.729 0 00.551-1.608 1.5 1.5 0 00.14-2.67v-.645a48.549 48.549 0 013.44 1.668 2.25 2.25 0 002.12 0z"}},{tag:"path",attr:{d:"M4.462 19.462c.42-.419.753-.89 1-1.394.453.213.902.434 1.347.661a6.743 6.743 0 01-1.286 1.794.75.75 0 11-1.06-1.06z"}}]})(St)}function HiAdjustmentsHorizontal(St){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M18.75 12.75h1.5a.75.75 0 000-1.5h-1.5a.75.75 0 000 1.5zM12 6a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5A.75.75 0 0112 6zM12 18a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5A.75.75 0 0112 18zM3.75 6.75h1.5a.75.75 0 100-1.5h-1.5a.75.75 0 000 1.5zM5.25 18.75h-1.5a.75.75 0 010-1.5h1.5a.75.75 0 010 1.5zM3 12a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5A.75.75 0 013 12zM9 3.75a2.25 2.25 0 100 4.5 2.25 2.25 0 000-4.5zM12.75 12a2.25 2.25 0 114.5 0 2.25 2.25 0 01-4.5 0zM9 15.75a2.25 2.25 0 100 4.5 2.25 2.25 0 000-4.5z"}}]})(St)}function HiArrowLeftOnRectangle(St){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.5 3.75A1.5 1.5 0 006 5.25v13.5a1.5 1.5 0 001.5 1.5h6a1.5 1.5 0 001.5-1.5V15a.75.75 0 011.5 0v3.75a3 3 0 01-3 3h-6a3 3 0 01-3-3V5.25a3 3 0 013-3h6a3 3 0 013 3V9A.75.75 0 0115 9V5.25a1.5 1.5 0 00-1.5-1.5h-6zm5.03 4.72a.75.75 0 010 1.06l-1.72 1.72h10.94a.75.75 0 010 1.5H10.81l1.72 1.72a.75.75 0 11-1.06 1.06l-3-3a.75.75 0 010-1.06l3-3a.75.75 0 011.06 0z",clipRule:"evenodd"}}]})(St)}function HiArrowLeft(St){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M11.03 3.97a.75.75 0 010 1.06l-6.22 6.22H21a.75.75 0 010 1.5H4.81l6.22 6.22a.75.75 0 11-1.06 1.06l-7.5-7.5a.75.75 0 010-1.06l7.5-7.5a.75.75 0 011.06 0z",clipRule:"evenodd"}}]})(St)}function HiArrowPath(St){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4.755 10.059a7.5 7.5 0 0112.548-3.364l1.903 1.903h-3.183a.75.75 0 100 1.5h4.992a.75.75 0 00.75-.75V4.356a.75.75 0 00-1.5 0v3.18l-1.9-1.9A9 9 0 003.306 9.67a.75.75 0 101.45.388zm15.408 3.352a.75.75 0 00-.919.53 7.5 7.5 0 01-12.548 3.364l-1.902-1.903h3.183a.75.75 0 000-1.5H2.984a.75.75 0 00-.75.75v4.992a.75.75 0 001.5 0v-3.18l1.9 1.9a9 9 0 0015.059-4.035.75.75 0 00-.53-.918z",clipRule:"evenodd"}}]})(St)}function HiArrowRight(St){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M12.97 3.97a.75.75 0 011.06 0l7.5 7.5a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 11-1.06-1.06l6.22-6.22H3a.75.75 0 010-1.5h16.19l-6.22-6.22a.75.75 0 010-1.06z",clipRule:"evenodd"}}]})(St)}function HiArrowTopRightOnSquare(St){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M15.75 2.25H21a.75.75 0 01.75.75v5.25a.75.75 0 01-1.5 0V4.81L8.03 17.03a.75.75 0 01-1.06-1.06L19.19 3.75h-3.44a.75.75 0 010-1.5zm-10.5 4.5a1.5 1.5 0 00-1.5 1.5v10.5a1.5 1.5 0 001.5 1.5h10.5a1.5 1.5 0 001.5-1.5V10.5a.75.75 0 011.5 0v8.25a3 3 0 01-3 3H5.25a3 3 0 01-3-3V8.25a3 3 0 013-3h8.25a.75.75 0 010 1.5H5.25z",clipRule:"evenodd"}}]})(St)}function HiArrowTrendingUp(St){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M15.22 6.268a.75.75 0 01.968-.432l5.942 2.28a.75.75 0 01.431.97l-2.28 5.941a.75.75 0 11-1.4-.537l1.63-4.251-1.086.483a11.2 11.2 0 00-5.45 5.174.75.75 0 01-1.199.19L9 12.31l-6.22 6.22a.75.75 0 11-1.06-1.06l6.75-6.75a.75.75 0 011.06 0l3.606 3.605a12.694 12.694 0 015.68-4.973l1.086-.484-4.251-1.631a.75.75 0 01-.432-.97z",clipRule:"evenodd"}}]})(St)}function HiBars3(St){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 6.75A.75.75 0 013.75 6h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 6.75zM3 12a.75.75 0 01.75-.75h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 12zm0 5.25a.75.75 0 01.75-.75h16.5a.75.75 0 010 1.5H3.75a.75.75 0 01-.75-.75z",clipRule:"evenodd"}}]})(St)}function HiBolt(St){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14.615 1.595a.75.75 0 01.359.852L12.982 9.75h7.268a.75.75 0 01.548 1.262l-10.5 11.25a.75.75 0 01-1.272-.71l1.992-7.302H3.75a.75.75 0 01-.548-1.262l10.5-11.25a.75.75 0 01.913-.143z",clipRule:"evenodd"}}]})(St)}function HiBriefcase(St){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.5 5.25a3 3 0 013-3h3a3 3 0 013 3v.205c.933.085 1.857.197 2.774.334 1.454.218 2.476 1.483 2.476 2.917v3.033c0 1.211-.734 2.352-1.936 2.752A24.726 24.726 0 0112 15.75c-2.73 0-5.357-.442-7.814-1.259-1.202-.4-1.936-1.541-1.936-2.752V8.706c0-1.434 1.022-2.7 2.476-2.917A48.814 48.814 0 017.5 5.455V5.25zm7.5 0v.09a49.488 49.488 0 00-6 0v-.09a1.5 1.5 0 011.5-1.5h3a1.5 1.5 0 011.5 1.5zm-3 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"}},{tag:"path",attr:{d:"M3 18.4v-2.796a4.3 4.3 0 00.713.31A26.226 26.226 0 0012 17.25c2.892 0 5.68-.468 8.287-1.335.252-.084.49-.189.713-.311V18.4c0 1.452-1.047 2.728-2.523 2.923-2.12.282-4.282.427-6.477.427a49.19 49.19 0 01-6.477-.427C4.047 21.128 3 19.852 3 18.4z"}}]})(St)}function HiBuildingOffice2(St){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 2.25a.75.75 0 000 1.5v16.5h-.75a.75.75 0 000 1.5H15v-18a.75.75 0 000-1.5H3zM6.75 19.5v-2.25a.75.75 0 01.75-.75h3a.75.75 0 01.75.75v2.25a.75.75 0 01-.75.75h-3a.75.75 0 01-.75-.75zM6 6.75A.75.75 0 016.75 6h.75a.75.75 0 010 1.5h-.75A.75.75 0 016 6.75zM6.75 9a.75.75 0 000 1.5h.75a.75.75 0 000-1.5h-.75zM6 12.75a.75.75 0 01.75-.75h.75a.75.75 0 010 1.5h-.75a.75.75 0 01-.75-.75zM10.5 6a.75.75 0 000 1.5h.75a.75.75 0 000-1.5h-.75zm-.75 3.75A.75.75 0 0110.5 9h.75a.75.75 0 010 1.5h-.75a.75.75 0 01-.75-.75zM10.5 12a.75.75 0 000 1.5h.75a.75.75 0 000-1.5h-.75zM16.5 6.75v15h5.25a.75.75 0 000-1.5H21v-12a.75.75 0 000-1.5h-4.5zm1.5 4.5a.75.75 0 01.75-.75h.008a.75.75 0 01.75.75v.008a.75.75 0 01-.75.75h-.008a.75.75 0 01-.75-.75v-.008zm.75 2.25a.75.75 0 00-.75.75v.008c0 .414.336.75.75.75h.008a.75.75 0 00.75-.75v-.008a.75.75 0 00-.75-.75h-.008zM18 17.25a.75.75 0 01.75-.75h.008a.75.75 0 01.75.75v.008a.75.75 0 01-.75.75h-.008a.75.75 0 01-.75-.75v-.008z",clipRule:"evenodd"}}]})(St)}function HiCake(St){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M15 1.784l-.796.796a1.125 1.125 0 101.591 0L15 1.784zM12 1.784l-.796.796a1.125 1.125 0 101.591 0L12 1.784zM9 1.784l-.796.796a1.125 1.125 0 101.591 0L9 1.784zM9.75 7.547c.498-.02.998-.035 1.5-.042V6.75a.75.75 0 011.5 0v.755c.502.007 1.002.021 1.5.042V6.75a.75.75 0 011.5 0v.88l.307.022c1.55.117 2.693 1.427 2.693 2.946v1.018a62.182 62.182 0 00-13.5 0v-1.018c0-1.519 1.143-2.829 2.693-2.946l.307-.022v-.88a.75.75 0 011.5 0v.797zM12 12.75c-2.472 0-4.9.184-7.274.54-1.454.217-2.476 1.482-2.476 2.916v.384a4.104 4.104 0 012.585.364 2.605 2.605 0 002.33 0 4.104 4.104 0 013.67 0 2.605 2.605 0 002.33 0 4.104 4.104 0 013.67 0 2.605 2.605 0 002.33 0 4.104 4.104 0 012.585-.364v-.384c0-1.434-1.022-2.7-2.476-2.917A49.138 49.138 0 0012 12.75zM21.75 18.131a2.604 2.604 0 00-1.915.165 4.104 4.104 0 01-3.67 0 2.604 2.604 0 00-2.33 0 4.104 4.104 0 01-3.67 0 2.604 2.604 0 00-2.33 0 4.104 4.104 0 01-3.67 0 2.604 2.604 0 00-1.915-.165v2.494c0 1.036.84 1.875 1.875 1.875h15.75c1.035 0 1.875-.84 1.875-1.875v-2.494z"}}]})(St)}function HiCalendarDays(St){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M12.75 12.75a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM7.5 15.75a.75.75 0 100-1.5.75.75 0 000 1.5zM8.25 17.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM9.75 15.75a.75.75 0 100-1.5.75.75 0 000 1.5zM10.5 17.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM12 15.75a.75.75 0 100-1.5.75.75 0 000 1.5zM12.75 17.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM14.25 15.75a.75.75 0 100-1.5.75.75 0 000 1.5zM15 17.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM16.5 15.75a.75.75 0 100-1.5.75.75 0 000 1.5zM15 12.75a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM16.5 13.5a.75.75 0 100-1.5.75.75 0 000 1.5z"}},{tag:"path",attr:{fillRule:"evenodd",d:"M6.75 2.25A.75.75 0 017.5 3v1.5h9V3A.75.75 0 0118 3v1.5h.75a3 3 0 013 3v11.25a3 3 0 01-3 3H5.25a3 3 0 01-3-3V7.5a3 3 0 013-3H6V3a.75.75 0 01.75-.75zm13.5 9a1.5 1.5 0 00-1.5-1.5H5.25a1.5 1.5 0 00-1.5 1.5v7.5a1.5 1.5 0 001.5 1.5h13.5a1.5 1.5 0 001.5-1.5v-7.5z",clipRule:"evenodd"}}]})(St)}function HiCalendar(St){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M6.75 2.25A.75.75 0 017.5 3v1.5h9V3A.75.75 0 0118 3v1.5h.75a3 3 0 013 3v11.25a3 3 0 01-3 3H5.25a3 3 0 01-3-3V7.5a3 3 0 013-3H6V3a.75.75 0 01.75-.75zm13.5 9a1.5 1.5 0 00-1.5-1.5H5.25a1.5 1.5 0 00-1.5 1.5v7.5a1.5 1.5 0 001.5 1.5h13.5a1.5 1.5 0 001.5-1.5v-7.5z",clipRule:"evenodd"}}]})(St)}function HiChartBarSquare(St){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 6a3 3 0 013-3h12a3 3 0 013 3v12a3 3 0 01-3 3H6a3 3 0 01-3-3V6zm4.5 7.5a.75.75 0 01.75.75v2.25a.75.75 0 01-1.5 0v-2.25a.75.75 0 01.75-.75zm3.75-1.5a.75.75 0 00-1.5 0v4.5a.75.75 0 001.5 0V12zm2.25-3a.75.75 0 01.75.75v6.75a.75.75 0 01-1.5 0V9.75A.75.75 0 0113.5 9zm3.75-1.5a.75.75 0 00-1.5 0v9a.75.75 0 001.5 0v-9z",clipRule:"evenodd"}}]})(St)}function HiChartBar(St){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M18.375 2.25c-1.035 0-1.875.84-1.875 1.875v15.75c0 1.035.84 1.875 1.875 1.875h.75c1.035 0 1.875-.84 1.875-1.875V4.125c0-1.036-.84-1.875-1.875-1.875h-.75zM9.75 8.625c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v11.25c0 1.035-.84 1.875-1.875 1.875h-.75a1.875 1.875 0 01-1.875-1.875V8.625zM3 13.125c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v6.75c0 1.035-.84 1.875-1.875 1.875h-.75A1.875 1.875 0 013 19.875v-6.75z"}}]})(St)}function HiChatBubbleLeftRight(St){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M4.913 2.658c2.075-.27 4.19-.408 6.337-.408 2.147 0 4.262.139 6.337.408 1.922.25 3.291 1.861 3.405 3.727a4.403 4.403 0 00-1.032-.211 50.89 50.89 0 00-8.42 0c-2.358.196-4.04 2.19-4.04 4.434v4.286a4.47 4.47 0 002.433 3.984L7.28 21.53A.75.75 0 016 21v-4.03a48.527 48.527 0 01-1.087-.128C2.905 16.58 1.5 14.833 1.5 12.862V6.638c0-1.97 1.405-3.718 3.413-3.979z"}},{tag:"path",attr:{d:"M15.75 7.5c-1.376 0-2.739.057-4.086.169C10.124 7.797 9 9.103 9 10.609v4.285c0 1.507 1.128 2.814 2.67 2.94 1.243.102 2.5.157 3.768.165l2.782 2.781a.75.75 0 001.28-.53v-2.39l.33-.026c1.542-.125 2.67-1.433 2.67-2.94v-4.286c0-1.505-1.125-2.811-2.664-2.94A49.392 49.392 0 0015.75 7.5z"}}]})(St)}function HiCheckCircle(St){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm13.36-1.814a.75.75 0 10-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 00-1.06 1.06l2.25 2.25a.75.75 0 001.14-.094l3.75-5.25z",clipRule:"evenodd"}}]})(St)}function HiChevronDown(St){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M12.53 16.28a.75.75 0 01-1.06 0l-7.5-7.5a.75.75 0 011.06-1.06L12 14.69l6.97-6.97a.75.75 0 111.06 1.06l-7.5 7.5z",clipRule:"evenodd"}}]})(St)}function HiChevronLeft(St){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.72 12.53a.75.75 0 010-1.06l7.5-7.5a.75.75 0 111.06 1.06L9.31 12l6.97 6.97a.75.75 0 11-1.06 1.06l-7.5-7.5z",clipRule:"evenodd"}}]})(St)}function HiChevronRight(St){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M16.28 11.47a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 01-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 011.06-1.06l7.5 7.5z",clipRule:"evenodd"}}]})(St)}function HiClipboardDocumentList(St){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.502 6h7.128A3.375 3.375 0 0118 9.375v9.375a3 3 0 003-3V6.108c0-1.505-1.125-2.811-2.664-2.94a48.972 48.972 0 00-.673-.05A3 3 0 0015 1.5h-1.5a3 3 0 00-2.663 1.618c-.225.015-.45.032-.673.05C8.662 3.295 7.554 4.542 7.502 6zM13.5 3A1.5 1.5 0 0012 4.5h4.5A1.5 1.5 0 0015 3h-1.5z",clipRule:"evenodd"}},{tag:"path",attr:{fillRule:"evenodd",d:"M3 9.375C3 8.339 3.84 7.5 4.875 7.5h9.75c1.036 0 1.875.84 1.875 1.875v11.25c0 1.035-.84 1.875-1.875 1.875h-9.75A1.875 1.875 0 013 20.625V9.375zM6 12a.75.75 0 01.75-.75h.008a.75.75 0 01.75.75v.008a.75.75 0 01-.75.75H6.75a.75.75 0 01-.75-.75V12zm2.25 0a.75.75 0 01.75-.75h3.75a.75.75 0 010 1.5H9a.75.75 0 01-.75-.75zM6 15a.75.75 0 01.75-.75h.008a.75.75 0 01.75.75v.008a.75.75 0 01-.75.75H6.75a.75.75 0 01-.75-.75V15zm2.25 0a.75.75 0 01.75-.75h3.75a.75.75 0 010 1.5H9a.75.75 0 01-.75-.75zM6 18a.75.75 0 01.75-.75h.008a.75.75 0 01.75.75v.008a.75.75 0 01-.75.75H6.75a.75.75 0 01-.75-.75V18zm2.25 0a.75.75 0 01.75-.75h3.75a.75.75 0 010 1.5H9a.75.75 0 01-.75-.75z",clipRule:"evenodd"}}]})(St)}function HiClock(St){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zM12.75 6a.75.75 0 00-1.5 0v6c0 .414.336.75.75.75h4.5a.75.75 0 000-1.5h-3.75V6z",clipRule:"evenodd"}}]})(St)}function HiCog(St){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M17.004 10.407c.138.435-.216.842-.672.842h-3.465a.75.75 0 01-.65-.375l-1.732-3c-.229-.396-.053-.907.393-1.004a5.252 5.252 0 016.126 3.537zM8.12 8.464c.307-.338.838-.235 1.066.16l1.732 3a.75.75 0 010 .75l-1.732 3.001c-.229.396-.76.498-1.067.16A5.231 5.231 0 016.75 12c0-1.362.519-2.603 1.37-3.536zM10.878 17.13c-.447-.097-.623-.608-.394-1.003l1.733-3.003a.75.75 0 01.65-.375h3.465c.457 0 .81.408.672.843a5.252 5.252 0 01-6.126 3.538z"}},{tag:"path",attr:{fillRule:"evenodd",d:"M21 12.75a.75.75 0 000-1.5h-.783a8.22 8.22 0 00-.237-1.357l.734-.267a.75.75 0 10-.513-1.41l-.735.268a8.24 8.24 0 00-.689-1.191l.6-.504a.75.75 0 10-.964-1.149l-.6.504a8.3 8.3 0 00-1.054-.885l.391-.678a.75.75 0 10-1.299-.75l-.39.677a8.188 8.188 0 00-1.295-.471l.136-.77a.75.75 0 00-1.477-.26l-.136.77a8.364 8.364 0 00-1.377 0l-.136-.77a.75.75 0 10-1.477.26l.136.77c-.448.121-.88.28-1.294.47l-.39-.676a.75.75 0 00-1.3.75l.392.678a8.29 8.29 0 00-1.054.885l-.6-.504a.75.75 0 00-.965 1.149l.6.503a8.243 8.243 0 00-.689 1.192L3.8 8.217a.75.75 0 10-.513 1.41l.735.267a8.222 8.222 0 00-.238 1.355h-.783a.75.75 0 000 1.5h.783c.042.464.122.917.238 1.356l-.735.268a.75.75 0 10.513 1.41l.735-.268c.197.417.428.816.69 1.192l-.6.504a.75.75 0 10.963 1.149l.601-.505c.326.323.679.62 1.054.885l-.392.68a.75.75 0 101.3.75l.39-.679c.414.192.847.35 1.294.471l-.136.771a.75.75 0 101.477.26l.137-.772a8.376 8.376 0 001.376 0l.136.773a.75.75 0 101.477-.26l-.136-.772a8.19 8.19 0 001.294-.47l.391.677a.75.75 0 101.3-.75l-.393-.679a8.282 8.282 0 001.054-.885l.601.504a.75.75 0 10.964-1.15l-.6-.503a8.24 8.24 0 00.69-1.191l.735.268a.75.75 0 10.512-1.41l-.734-.268c.115-.438.195-.892.237-1.356h.784zm-2.657-3.06a6.744 6.744 0 00-1.19-2.053 6.784 6.784 0 00-1.82-1.51A6.704 6.704 0 0012 5.25a6.801 6.801 0 00-1.225.111 6.7 6.7 0 00-2.15.792 6.784 6.784 0 00-2.952 3.489.758.758 0 01-.036.099A6.74 6.74 0 005.251 12a6.739 6.739 0 003.355 5.835l.01.006.01.005a6.706 6.706 0 002.203.802c.007 0 .014.002.021.004a6.792 6.792 0 002.301 0l.022-.004a6.707 6.707 0 002.228-.816 6.781 6.781 0 001.762-1.483l.009-.01.009-.012a6.744 6.744 0 001.18-2.064c.253-.708.39-1.47.39-2.264a6.74 6.74 0 00-.408-2.308z",clipRule:"evenodd"}}]})(St)}function HiDocumentText(St){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0016.5 9h-1.875a1.875 1.875 0 01-1.875-1.875V5.25A3.75 3.75 0 009 1.5H5.625zM7.5 15a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5A.75.75 0 017.5 15zm.75 2.25a.75.75 0 000 1.5H12a.75.75 0 000-1.5H8.25z",clipRule:"evenodd"}},{tag:"path",attr:{d:"M12.971 1.816A5.23 5.23 0 0114.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 013.434 1.279 9.768 9.768 0 00-6.963-6.963z"}}]})(St)}function HiDocument(St){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0016.5 9h-1.875a1.875 1.875 0 01-1.875-1.875V5.25A3.75 3.75 0 009 1.5H5.625z"}},{tag:"path",attr:{d:"M12.971 1.816A5.23 5.23 0 0114.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 013.434 1.279 9.768 9.768 0 00-6.963-6.963z"}}]})(St)}function HiEnvelope(St){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M1.5 8.67v8.58a3 3 0 003 3h15a3 3 0 003-3V8.67l-8.928 5.493a3 3 0 01-3.144 0L1.5 8.67z"}},{tag:"path",attr:{d:"M22.5 6.908V6.75a3 3 0 00-3-3h-15a3 3 0 00-3 3v.158l9.714 5.978a1.5 1.5 0 001.572 0L22.5 6.908z"}}]})(St)}function HiExclamationTriangle(St){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"}}]})(St)}function HiEye(St){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M12 15a3 3 0 100-6 3 3 0 000 6z"}},{tag:"path",attr:{fillRule:"evenodd",d:"M1.323 11.447C2.811 6.976 7.028 3.75 12.001 3.75c4.97 0 9.185 3.223 10.675 7.69.12.362.12.752 0 1.113-1.487 4.471-5.705 7.697-10.677 7.697-4.97 0-9.186-3.223-10.675-7.69a1.762 1.762 0 010-1.113zM17.25 12a5.25 5.25 0 11-10.5 0 5.25 5.25 0 0110.5 0z",clipRule:"evenodd"}}]})(St)}function HiFire(St){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M12.963 2.286a.75.75 0 00-1.071-.136 9.742 9.742 0 00-3.539 6.177A7.547 7.547 0 016.648 6.61a.75.75 0 00-1.152-.082A9 9 0 1015.68 4.534a7.46 7.46 0 01-2.717-2.248zM15.75 14.25a3.75 3.75 0 11-7.313-1.172c.628.465 1.35.81 2.133 1a5.99 5.99 0 011.925-3.545 3.75 3.75 0 013.255 3.717z",clipRule:"evenodd"}}]})(St)}function HiFolder(St){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M19.5 21a3 3 0 003-3v-4.5a3 3 0 00-3-3h-15a3 3 0 00-3 3V18a3 3 0 003 3h15zM1.5 10.146V6a3 3 0 013-3h5.379a2.25 2.25 0 011.59.659l2.122 2.121c.14.141.331.22.53.22H19.5a3 3 0 013 3v1.146A4.483 4.483 0 0019.5 9h-15a4.483 4.483 0 00-3 1.146z"}}]})(St)}function HiGift(St){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M9.375 3a1.875 1.875 0 000 3.75h1.875v4.5H3.375A1.875 1.875 0 011.5 9.375v-.75c0-1.036.84-1.875 1.875-1.875h3.193A3.375 3.375 0 0112 2.753a3.375 3.375 0 015.432 3.997h3.943c1.035 0 1.875.84 1.875 1.875v.75c0 1.036-.84 1.875-1.875 1.875H12.75v-4.5h1.875a1.875 1.875 0 10-1.875-1.875V6.75h-1.5V4.875C11.25 3.839 10.41 3 9.375 3zM11.25 12.75H3v6.75a2.25 2.25 0 002.25 2.25h6v-9zM12.75 12.75v9h6.75a2.25 2.25 0 002.25-2.25v-6.75h-9z"}}]})(St)}function HiGlobeAlt(St){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M21.721 12.752a9.711 9.711 0 00-.945-5.003 12.754 12.754 0 01-4.339 2.708 18.991 18.991 0 01-.214 4.772 17.165 17.165 0 005.498-2.477zM14.634 15.55a17.324 17.324 0 00.332-4.647c-.952.227-1.945.347-2.966.347-1.021 0-2.014-.12-2.966-.347a17.515 17.515 0 00.332 4.647 17.385 17.385 0 005.268 0zM9.772 17.119a18.963 18.963 0 004.456 0A17.182 17.182 0 0112 21.724a17.18 17.18 0 01-2.228-4.605zM7.777 15.23a18.87 18.87 0 01-.214-4.774 12.753 12.753 0 01-4.34-2.708 9.711 9.711 0 00-.944 5.004 17.165 17.165 0 005.498 2.477zM21.356 14.752a9.765 9.765 0 01-7.478 6.817 18.64 18.64 0 001.988-4.718 18.627 18.627 0 005.49-2.098zM2.644 14.752c1.682.971 3.53 1.688 5.49 2.099a18.64 18.64 0 001.988 4.718 9.765 9.765 0 01-7.478-6.816zM13.878 2.43a9.755 9.755 0 016.116 3.986 11.267 11.267 0 01-3.746 2.504 18.63 18.63 0 00-2.37-6.49zM12 2.276a17.152 17.152 0 012.805 7.121c-.897.23-1.837.353-2.805.353-.968 0-1.908-.122-2.805-.353A17.151 17.151 0 0112 2.276zM10.122 2.43a18.629 18.629 0 00-2.37 6.49 11.266 11.266 0 01-3.746-2.504 9.754 9.754 0 016.116-3.985z"}}]})(St)}function HiHeart(St){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M11.645 20.91l-.007-.003-.022-.012a15.247 15.247 0 01-.383-.218 25.18 25.18 0 01-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0112 5.052 5.5 5.5 0 0116.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 01-4.244 3.17 15.247 15.247 0 01-.383.219l-.022.012-.007.004-.003.001a.752.752 0 01-.704 0l-.003-.001z"}}]})(St)}function HiHome(St){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M11.47 3.84a.75.75 0 011.06 0l8.69 8.69a.75.75 0 101.06-1.06l-8.689-8.69a2.25 2.25 0 00-3.182 0l-8.69 8.69a.75.75 0 001.061 1.06l8.69-8.69z"}},{tag:"path",attr:{d:"M12 5.432l8.159 8.159c.03.03.06.058.091.086v6.198c0 1.035-.84 1.875-1.875 1.875H15a.75.75 0 01-.75-.75v-4.5a.75.75 0 00-.75-.75h-3a.75.75 0 00-.75.75V21a.75.75 0 01-.75.75H5.625a1.875 1.875 0 01-1.875-1.875v-6.198a2.29 2.29 0 00.091-.086L12 5.43z"}}]})(St)}function HiIdentification(St){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4.5 3.75a3 3 0 00-3 3v10.5a3 3 0 003 3h15a3 3 0 003-3V6.75a3 3 0 00-3-3h-15zm4.125 3a2.25 2.25 0 100 4.5 2.25 2.25 0 000-4.5zm-3.873 8.703a4.126 4.126 0 017.746 0 .75.75 0 01-.351.92 7.47 7.47 0 01-3.522.877 7.47 7.47 0 01-3.522-.877.75.75 0 01-.351-.92zM15 8.25a.75.75 0 000 1.5h3.75a.75.75 0 000-1.5H15zM14.25 12a.75.75 0 01.75-.75h3.75a.75.75 0 010 1.5H15a.75.75 0 01-.75-.75zm.75 2.25a.75.75 0 000 1.5h3.75a.75.75 0 000-1.5H15z",clipRule:"evenodd"}}]})(St)}function HiInformationCircle(St){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm8.706-1.442c1.146-.573 2.437.463 2.126 1.706l-.709 2.836.042-.02a.75.75 0 01.67 1.34l-.04.022c-1.147.573-2.438-.463-2.127-1.706l.71-2.836-.042.02a.75.75 0 11-.671-1.34l.041-.022zM12 9a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"}}]})(St)}function HiLifebuoy(St){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M19.449 8.448L16.388 11a4.52 4.52 0 010 2.002l3.061 2.55a8.275 8.275 0 000-7.103zM15.552 19.45L13 16.388a4.52 4.52 0 01-2.002 0l-2.55 3.061a8.275 8.275 0 007.103 0zM4.55 15.552L7.612 13a4.52 4.52 0 010-2.002L4.551 8.45a8.275 8.275 0 000 7.103zM8.448 4.55L11 7.612a4.52 4.52 0 012.002 0l2.55-3.061a8.275 8.275 0 00-7.103 0zm8.657-.86a9.776 9.776 0 011.79 1.415 9.776 9.776 0 011.414 1.788 9.764 9.764 0 010 10.211 9.777 9.777 0 01-1.415 1.79 9.777 9.777 0 01-1.788 1.414 9.764 9.764 0 01-10.212 0 9.776 9.776 0 01-1.788-1.415 9.776 9.776 0 01-1.415-1.788 9.764 9.764 0 010-10.212 9.774 9.774 0 011.415-1.788A9.774 9.774 0 016.894 3.69a9.764 9.764 0 0110.211 0zM14.121 9.88a2.985 2.985 0 00-1.11-.704 3.015 3.015 0 00-2.022 0 2.985 2.985 0 00-1.11.704c-.326.325-.56.705-.704 1.11a3.015 3.015 0 000 2.022c.144.405.378.785.704 1.11.325.326.705.56 1.11.704.652.233 1.37.233 2.022 0a2.985 2.985 0 001.11-.704c.326-.325.56-.705.704-1.11a3.016 3.016 0 000-2.022 2.985 2.985 0 00-.704-1.11z",clipRule:"evenodd"}}]})(St)}function HiLightBulb(St){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M12 .75a8.25 8.25 0 00-4.135 15.39c.686.398 1.115 1.008 1.134 1.623a.75.75 0 00.577.706c.352.083.71.148 1.074.195.323.041.6-.218.6-.544v-4.661a6.714 6.714 0 01-.937-.171.75.75 0 11.374-1.453 5.261 5.261 0 002.626 0 .75.75 0 11.374 1.452 6.712 6.712 0 01-.937.172v4.66c0 .327.277.586.6.545.364-.047.722-.112 1.074-.195a.75.75 0 00.577-.706c.02-.615.448-1.225 1.134-1.623A8.25 8.25 0 0012 .75z"}},{tag:"path",attr:{fillRule:"evenodd",d:"M9.013 19.9a.75.75 0 01.877-.597 11.319 11.319 0 004.22 0 .75.75 0 11.28 1.473 12.819 12.819 0 01-4.78 0 .75.75 0 01-.597-.876zM9.754 22.344a.75.75 0 01.824-.668 13.682 13.682 0 002.844 0 .75.75 0 11.156 1.492 15.156 15.156 0 01-3.156 0 .75.75 0 01-.668-.824z",clipRule:"evenodd"}}]})(St)}function HiMagnifyingGlassMinus(St){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10.5 3.75a6.75 6.75 0 100 13.5 6.75 6.75 0 000-13.5zM2.25 10.5a8.25 8.25 0 1114.59 5.28l4.69 4.69a.75.75 0 11-1.06 1.06l-4.69-4.69A8.25 8.25 0 012.25 10.5zm4.5 0a.75.75 0 01.75-.75h6a.75.75 0 010 1.5h-6a.75.75 0 01-.75-.75z",clipRule:"evenodd"}}]})(St)}function HiMagnifyingGlassPlus(St){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10.5 3.75a6.75 6.75 0 100 13.5 6.75 6.75 0 000-13.5zM2.25 10.5a8.25 8.25 0 1114.59 5.28l4.69 4.69a.75.75 0 11-1.06 1.06l-4.69-4.69A8.25 8.25 0 012.25 10.5zm8.25-3.75a.75.75 0 01.75.75v2.25h2.25a.75.75 0 010 1.5h-2.25v2.25a.75.75 0 01-1.5 0v-2.25H7.5a.75.75 0 010-1.5h2.25V7.5a.75.75 0 01.75-.75z",clipRule:"evenodd"}}]})(St)}function HiMagnifyingGlass(St){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10.5 3.75a6.75 6.75 0 100 13.5 6.75 6.75 0 000-13.5zM2.25 10.5a8.25 8.25 0 1114.59 5.28l4.69 4.69a.75.75 0 11-1.06 1.06l-4.69-4.69A8.25 8.25 0 012.25 10.5z",clipRule:"evenodd"}}]})(St)}function HiMapPin(St){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M11.54 22.351l.07.04.028.016a.76.76 0 00.723 0l.028-.015.071-.041a16.975 16.975 0 001.144-.742 19.58 19.58 0 002.683-2.282c1.944-1.99 3.963-4.98 3.963-8.827a8.25 8.25 0 00-16.5 0c0 3.846 2.02 6.837 3.963 8.827a19.58 19.58 0 002.682 2.282 16.975 16.975 0 001.145.742zM12 13.5a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"}}]})(St)}function HiNewspaper(St){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4.125 3C3.089 3 2.25 3.84 2.25 4.875V18a3 3 0 003 3h15a3 3 0 01-3-3V4.875C17.25 3.839 16.41 3 15.375 3H4.125zM12 9.75a.75.75 0 000 1.5h1.5a.75.75 0 000-1.5H12zm-.75-2.25a.75.75 0 01.75-.75h1.5a.75.75 0 010 1.5H12a.75.75 0 01-.75-.75zM6 12.75a.75.75 0 000 1.5h7.5a.75.75 0 000-1.5H6zm-.75 3.75a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5H6a.75.75 0 01-.75-.75zM6 6.75a.75.75 0 00-.75.75v3c0 .414.336.75.75.75h3a.75.75 0 00.75-.75v-3A.75.75 0 009 6.75H6z",clipRule:"evenodd"}},{tag:"path",attr:{d:"M18.75 6.75h1.875c.621 0 1.125.504 1.125 1.125V18a1.5 1.5 0 01-3 0V6.75z"}}]})(St)}function HiPencil(St){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M21.731 2.269a2.625 2.625 0 00-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 000-3.712zM19.513 8.199l-3.712-3.712-12.15 12.15a5.25 5.25 0 00-1.32 2.214l-.8 2.685a.75.75 0 00.933.933l2.685-.8a5.25 5.25 0 002.214-1.32L19.513 8.2z"}}]})(St)}function HiPhone(St){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M1.5 4.5a3 3 0 013-3h1.372c.86 0 1.61.586 1.819 1.42l1.105 4.423a1.875 1.875 0 01-.694 1.955l-1.293.97c-.135.101-.164.249-.126.352a11.285 11.285 0 006.697 6.697c.103.038.25.009.352-.126l.97-1.293a1.875 1.875 0 011.955-.694l4.423 1.105c.834.209 1.42.959 1.42 1.82V19.5a3 3 0 01-3 3h-2.25C8.552 22.5 1.5 15.448 1.5 6.75V4.5z",clipRule:"evenodd"}}]})(St)}function HiPlus(St){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M12 3.75a.75.75 0 01.75.75v6.75h6.75a.75.75 0 010 1.5h-6.75v6.75a.75.75 0 01-1.5 0v-6.75H4.5a.75.75 0 010-1.5h6.75V4.5a.75.75 0 01.75-.75z",clipRule:"evenodd"}}]})(St)}function HiPresentationChartBar(St){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M2.25 2.25a.75.75 0 000 1.5H3v10.5a3 3 0 003 3h1.21l-1.172 3.513a.75.75 0 001.424.474l.329-.987h8.418l.33.987a.75.75 0 001.422-.474l-1.17-3.513H18a3 3 0 003-3V3.75h.75a.75.75 0 000-1.5H2.25zm6.04 16.5l.5-1.5h6.42l.5 1.5H8.29zm7.46-12a.75.75 0 00-1.5 0v6a.75.75 0 001.5 0v-6zm-3 2.25a.75.75 0 00-1.5 0v3.75a.75.75 0 001.5 0V9zm-3 2.25a.75.75 0 00-1.5 0v1.5a.75.75 0 001.5 0v-1.5z",clipRule:"evenodd"}}]})(St)}function HiSparkles(St){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M9 4.5a.75.75 0 01.721.544l.813 2.846a3.75 3.75 0 002.576 2.576l2.846.813a.75.75 0 010 1.442l-2.846.813a3.75 3.75 0 00-2.576 2.576l-.813 2.846a.75.75 0 01-1.442 0l-.813-2.846a3.75 3.75 0 00-2.576-2.576l-2.846-.813a.75.75 0 010-1.442l2.846-.813A3.75 3.75 0 007.466 7.89l.813-2.846A.75.75 0 019 4.5zM18 1.5a.75.75 0 01.728.568l.258 1.036c.236.94.97 1.674 1.91 1.91l1.036.258a.75.75 0 010 1.456l-1.036.258c-.94.236-1.674.97-1.91 1.91l-.258 1.036a.75.75 0 01-1.456 0l-.258-1.036a2.625 2.625 0 00-1.91-1.91l-1.036-.258a.75.75 0 010-1.456l1.036-.258a2.625 2.625 0 001.91-1.91l.258-1.036A.75.75 0 0118 1.5zM16.5 15a.75.75 0 01.712.513l.394 1.183c.15.447.5.799.948.948l1.183.395a.75.75 0 010 1.422l-1.183.395c-.447.15-.799.5-.948.948l-.395 1.183a.75.75 0 01-1.422 0l-.395-1.183a1.5 1.5 0 00-.948-.948l-1.183-.395a.75.75 0 010-1.422l1.183-.395c.447-.15.799-.5.948-.948l.395-1.183A.75.75 0 0116.5 15z",clipRule:"evenodd"}}]})(St)}function HiStar(St){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.006z",clipRule:"evenodd"}}]})(St)}function HiTableCells(St){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M1.5 5.625c0-1.036.84-1.875 1.875-1.875h17.25c1.035 0 1.875.84 1.875 1.875v12.75c0 1.035-.84 1.875-1.875 1.875H3.375A1.875 1.875 0 011.5 18.375V5.625zM21 9.375A.375.375 0 0020.625 9h-7.5a.375.375 0 00-.375.375v1.5c0 .207.168.375.375.375h7.5a.375.375 0 00.375-.375v-1.5zm0 3.75a.375.375 0 00-.375-.375h-7.5a.375.375 0 00-.375.375v1.5c0 .207.168.375.375.375h7.5a.375.375 0 00.375-.375v-1.5zm0 3.75a.375.375 0 00-.375-.375h-7.5a.375.375 0 00-.375.375v1.5c0 .207.168.375.375.375h7.5a.375.375 0 00.375-.375v-1.5zM10.875 18.75a.375.375 0 00.375-.375v-1.5a.375.375 0 00-.375-.375h-7.5a.375.375 0 00-.375.375v1.5c0 .207.168.375.375.375h7.5zM3.375 15h7.5a.375.375 0 00.375-.375v-1.5a.375.375 0 00-.375-.375h-7.5a.375.375 0 00-.375.375v1.5c0 .207.168.375.375.375zm0-3.75h7.5a.375.375 0 00.375-.375v-1.5A.375.375 0 0010.875 9h-7.5A.375.375 0 003 9.375v1.5c0 .207.168.375.375.375z",clipRule:"evenodd"}}]})(St)}function HiTrash(St){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 013.878.512.75.75 0 11-.256 1.478l-.209-.035-1.005 13.07a3 3 0 01-2.991 2.77H8.084a3 3 0 01-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 01-.256-1.478A48.567 48.567 0 017.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 013.369 0c1.603.051 2.815 1.387 2.815 2.951zm-6.136-1.452a51.196 51.196 0 013.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 00-6 0v-.113c0-.794.609-1.428 1.364-1.452zm-.355 5.945a.75.75 0 10-1.5.058l.347 9a.75.75 0 101.499-.058l-.346-9zm5.48.058a.75.75 0 10-1.498-.058l-.347 9a.75.75 0 001.5.058l.345-9z",clipRule:"evenodd"}}]})(St)}function HiTrophy(St){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.166 2.621v.858c-1.035.148-2.059.33-3.071.543a.75.75 0 00-.584.859 6.753 6.753 0 006.138 5.6 6.73 6.73 0 002.743 1.346A6.707 6.707 0 019.279 15H8.54c-1.036 0-1.875.84-1.875 1.875V19.5h-.75a2.25 2.25 0 00-2.25 2.25c0 .414.336.75.75.75h15a.75.75 0 00.75-.75 2.25 2.25 0 00-2.25-2.25h-.75v-2.625c0-1.036-.84-1.875-1.875-1.875h-.739a6.706 6.706 0 01-1.112-3.173 6.73 6.73 0 002.743-1.347 6.753 6.753 0 006.139-5.6.75.75 0 00-.585-.858 47.077 47.077 0 00-3.07-.543V2.62a.75.75 0 00-.658-.744 49.22 49.22 0 00-6.093-.377c-2.063 0-4.096.128-6.093.377a.75.75 0 00-.657.744zm0 2.629c0 1.196.312 2.32.857 3.294A5.266 5.266 0 013.16 5.337a45.6 45.6 0 012.006-.343v.256zm13.5 0v-.256c.674.1 1.343.214 2.006.343a5.265 5.265 0 01-2.863 3.207 6.72 6.72 0 00.857-3.294z",clipRule:"evenodd"}}]})(St)}function HiUserCircle(St){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M18.685 19.097A9.723 9.723 0 0021.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 003.065 7.097A9.716 9.716 0 0012 21.75a9.716 9.716 0 006.685-2.653zm-12.54-1.285A7.486 7.486 0 0112 15a7.486 7.486 0 015.855 2.812A8.224 8.224 0 0112 20.25a8.224 8.224 0 01-5.855-2.438zM15.75 9a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z",clipRule:"evenodd"}}]})(St)}function HiUserGroup(St){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M8.25 6.75a3.75 3.75 0 117.5 0 3.75 3.75 0 01-7.5 0zM15.75 9.75a3 3 0 116 0 3 3 0 01-6 0zM2.25 9.75a3 3 0 116 0 3 3 0 01-6 0zM6.31 15.117A6.745 6.745 0 0112 12a6.745 6.745 0 016.709 7.498.75.75 0 01-.372.568A12.696 12.696 0 0112 21.75c-2.305 0-4.47-.612-6.337-1.684a.75.75 0 01-.372-.568 6.787 6.787 0 011.019-4.38z",clipRule:"evenodd"}},{tag:"path",attr:{d:"M5.082 14.254a8.287 8.287 0 00-1.308 5.135 9.687 9.687 0 01-1.764-.44l-.115-.04a.563.563 0 01-.373-.487l-.01-.121a3.75 3.75 0 013.57-4.047zM20.226 19.389a8.287 8.287 0 00-1.308-5.135 3.75 3.75 0 013.57 4.047l-.01.121a.563.563 0 01-.373.486l-.115.04c-.567.2-1.156.349-1.764.441z"}}]})(St)}function HiUser(St){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.5 6a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM3.751 20.105a8.25 8.25 0 0116.498 0 .75.75 0 01-.437.695A18.683 18.683 0 0112 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 01-.437-.695z",clipRule:"evenodd"}}]})(St)}function HiUsers(St){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M4.5 6.375a4.125 4.125 0 118.25 0 4.125 4.125 0 01-8.25 0zM14.25 8.625a3.375 3.375 0 116.75 0 3.375 3.375 0 01-6.75 0zM1.5 19.125a7.125 7.125 0 0114.25 0v.003l-.001.119a.75.75 0 01-.363.63 13.067 13.067 0 01-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 01-.364-.63l-.001-.122zM17.25 19.128l-.001.144a2.25 2.25 0 01-.233.96 10.088 10.088 0 005.06-1.01.75.75 0 00.42-.643 4.875 4.875 0 00-6.957-4.611 8.586 8.586 0 011.71 5.157v.003z"}}]})(St)}function HiXMark(St){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 011.06 0L12 10.94l5.47-5.47a.75.75 0 111.06 1.06L13.06 12l5.47 5.47a.75.75 0 11-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 01-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 010-1.06z",clipRule:"evenodd"}}]})(St)}function HiOutlineClipboard(St){return GenIcon({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.666 3.888A2.25 2.25 0 0013.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 01-.75.75H9a.75.75 0 01-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 01-2.25 2.25H6.75A2.25 2.25 0 014.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 011.927-.184"}}]})(St)}function HiOutlineDocumentText(St){return GenIcon({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"}}]})(St)}function HiOutlinePhoto(St){return GenIcon({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"}}]})(St)}const LayoutGroupContext=reactExports.createContext({});function useConstant(St){const er=reactExports.useRef(null);return er.current===null&&(er.current=St()),er.current}const isBrowser=typeof window<"u",useIsomorphicLayoutEffect$1=isBrowser?reactExports.useLayoutEffect:reactExports.useEffect,PresenceContext=reactExports.createContext(null);function addUniqueItem(St,er){St.indexOf(er)===-1&&St.push(er)}function removeItem(St,er){const tr=St.indexOf(er);tr>-1&&St.splice(tr,1)}const clamp=(St,er,tr)=>tr>er?er:tr<St?St:tr;let invariant$1=()=>{};const MotionGlobalConfig={},isNumericalString=St=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(St);function isObject$1(St){return typeof St=="object"&&St!==null}const isZeroValueString=St=>/^0[^.\s]+$/u.test(St);function memo(St){let er;return()=>(er===void 0&&(er=St()),er)}const noop$7=St=>St,combineFunctions=(St,er)=>tr=>er(St(tr)),pipe=(...St)=>St.reduce(combineFunctions),progress=(St,er,tr)=>{const rr=er-St;return rr===0?1:(tr-St)/rr};class SubscriptionManager{constructor(){this.subscriptions=[]}add(er){return addUniqueItem(this.subscriptions,er),()=>removeItem(this.subscriptions,er)}notify(er,tr,rr){const nr=this.subscriptions.length;if(nr)if(nr===1)this.subscriptions[0](er,tr,rr);else for(let ar=0;ar<nr;ar++){const sr=this.subscriptions[ar];sr&&sr(er,tr,rr)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const secondsToMilliseconds=St=>St*1e3,millisecondsToSeconds=St=>St/1e3;function velocityPerSecond(St,er){return er?St*(1e3/er):0}const calcBezier=(St,er,tr)=>(((1-3*tr+3*er)*St+(3*tr-6*er))*St+3*er)*St,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(St,er,tr,rr,nr){let ar,sr,ir=0;do sr=er+(tr-er)/2,ar=calcBezier(sr,rr,nr)-St,ar>0?tr=sr:er=sr;while(Math.abs(ar)>subdivisionPrecision&&++ir<subdivisionMaxIterations);return sr}function cubicBezier$1(St,er,tr,rr){if(St===er&&tr===rr)return noop$7;const nr=ar=>binarySubdivide(ar,0,1,St,tr);return ar=>ar===0||ar===1?ar:calcBezier(nr(ar),er,rr)}const mirrorEasing=St=>er=>er<=.5?St(2*er)/2:(2-St(2*(1-er)))/2,reverseEasing=St=>er=>1-St(1-er),backOut=cubicBezier$1(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=St=>(St*=2)<1?.5*backIn(St):.5*(2-Math.pow(2,-10*(St-1))),circIn=St=>1-Math.sin(Math.acos(St)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),easeIn=cubicBezier$1(.42,0,1,1),easeOut=cubicBezier$1(0,0,.58,1),easeInOut=cubicBezier$1(.42,0,.58,1),isEasingArray=St=>Array.isArray(St)&&typeof St[0]!="number",isBezierDefinition=St=>Array.isArray(St)&&typeof St[0]=="number",easingLookup={linear:noop$7,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},isValidEasing=St=>typeof St=="string",easingDefinitionToFunction=St=>{if(isBezierDefinition(St)){invariant$1(St.length===4);const[er,tr,rr,nr]=St;return cubicBezier$1(er,tr,rr,nr)}else if(isValidEasing(St))return easingLookup[St];return St},stepsOrder=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],statsBuffer={value:null};function createRenderStep(St,er){let tr=new Set,rr=new Set,nr=!1,ar=!1;const sr=new WeakSet;let ir={delta:0,timestamp:0,isProcessing:!1},or=0;function lr(ur){sr.has(ur)&&(cr.schedule(ur),St()),or++,ur(ir)}const cr={schedule:(ur,dr=!1,fr=!1)=>{const xr=fr&&nr?tr:rr;return dr&&sr.add(ur),xr.has(ur)||xr.add(ur),ur},cancel:ur=>{rr.delete(ur),sr.delete(ur)},process:ur=>{if(ir=ur,nr){ar=!0;return}nr=!0,[tr,rr]=[rr,tr],tr.forEach(lr),er&&statsBuffer.value&&statsBuffer.value.frameloop[er].push(or),or=0,tr.clear(),nr=!1,ar&&(ar=!1,cr.process(ur))}};return cr}const maxElapsed=40;function createRenderBatcher(St,er){let tr=!1,rr=!0;const nr={delta:0,timestamp:0,isProcessing:!1},ar=()=>tr=!0,sr=stepsOrder.reduce((vr,br)=>(vr[br]=createRenderStep(ar,er?br:void 0),vr),{}),{setup:ir,read:or,resolveKeyframes:lr,preUpdate:cr,update:ur,preRender:dr,render:fr,postRender:mr}=sr,xr=()=>{const vr=MotionGlobalConfig.useManualTiming?nr.timestamp:performance.now();tr=!1,MotionGlobalConfig.useManualTiming||(nr.delta=rr?1e3/60:Math.max(Math.min(vr-nr.timestamp,maxElapsed),1)),nr.timestamp=vr,nr.isProcessing=!0,ir.process(nr),or.process(nr),lr.process(nr),cr.process(nr),ur.process(nr),dr.process(nr),fr.process(nr),mr.process(nr),nr.isProcessing=!1,tr&&er&&(rr=!1,St(xr))},pr=()=>{tr=!0,rr=!0,nr.isProcessing||St(xr)};return{schedule:stepsOrder.reduce((vr,br)=>{const yr=sr[br];return vr[br]=(Er,jr=!1,_r=!1)=>(tr||pr(),yr.schedule(Er,jr,_r)),vr},{}),cancel:vr=>{for(let br=0;br<stepsOrder.length;br++)sr[stepsOrder[br]].cancel(vr)},state:nr,steps:sr}}const{schedule:frame,cancel:cancelFrame,state:frameData,steps:frameSteps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop$7,!0);let now;function clearTime(){now=void 0}const time$1={now:()=>(now===void 0&&time$1.set(frameData.isProcessing||MotionGlobalConfig.useManualTiming?frameData.timestamp:performance.now()),now),set:St=>{now=St,queueMicrotask(clearTime)}},checkStringStartsWith=St=>er=>typeof er=="string"&&er.startsWith(St),isCSSVariableName=checkStringStartsWith("--"),startsAsVariableToken=checkStringStartsWith("var(--"),isCSSVariableToken=St=>startsAsVariableToken(St)?singleCssVariableRegex.test(St.split("/*")[0].trim()):!1,singleCssVariableRegex=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,number$3={test:St=>typeof St=="number",parse:parseFloat,transform:St=>St},alpha$1={...number$3,transform:St=>clamp(0,1,St)},scale={...number$3,default:1},sanitize=St=>Math.round(St*1e5)/1e5,floatRegex=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function isNullish$1(St){return St==null}const singleColorRegex=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,isColorString=(St,er)=>tr=>!!(typeof tr=="string"&&singleColorRegex.test(tr)&&tr.startsWith(St)||er&&!isNullish$1(tr)&&Object.prototype.hasOwnProperty.call(tr,er)),splitColor=(St,er,tr)=>rr=>{if(typeof rr!="string")return rr;const[nr,ar,sr,ir]=rr.match(floatRegex);return{[St]:parseFloat(nr),[er]:parseFloat(ar),[tr]:parseFloat(sr),alpha:ir!==void 0?parseFloat(ir):1}},clampRgbUnit=St=>clamp(0,255,St),rgbUnit={...number$3,transform:St=>Math.round(clampRgbUnit(St))},rgba$1={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:St,green:er,blue:tr,alpha:rr=1})=>"rgba("+rgbUnit.transform(St)+", "+rgbUnit.transform(er)+", "+rgbUnit.transform(tr)+", "+sanitize(alpha$1.transform(rr))+")"};function parseHex(St){let er="",tr="",rr="",nr="";return St.length>5?(er=St.substring(1,3),tr=St.substring(3,5),rr=St.substring(5,7),nr=St.substring(7,9)):(er=St.substring(1,2),tr=St.substring(2,3),rr=St.substring(3,4),nr=St.substring(4,5),er+=er,tr+=tr,rr+=rr,nr+=nr),{red:parseInt(er,16),green:parseInt(tr,16),blue:parseInt(rr,16),alpha:nr?parseInt(nr,16)/255:1}}const hex$1={test:isColorString("#"),parse:parseHex,transform:rgba$1.transform},createUnitType=St=>({test:er=>typeof er=="string"&&er.endsWith(St)&&er.split(" ").length===1,parse:parseFloat,transform:er=>`${er}${St}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:St=>percent.parse(St)/100,transform:St=>percent.transform(St*100)},hsla$1={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:St,saturation:er,lightness:tr,alpha:rr=1})=>"hsla("+Math.round(St)+", "+percent.transform(sanitize(er))+", "+percent.transform(sanitize(tr))+", "+sanitize(alpha$1.transform(rr))+")"},color$1={test:St=>rgba$1.test(St)||hex$1.test(St)||hsla$1.test(St),parse:St=>rgba$1.test(St)?rgba$1.parse(St):hsla$1.test(St)?hsla$1.parse(St):hex$1.parse(St),transform:St=>typeof St=="string"?St:St.hasOwnProperty("red")?rgba$1.transform(St):hsla$1.transform(St),getAnimatableNone:St=>{const er=color$1.parse(St);return er.alpha=0,color$1.transform(er)}},colorRegex=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function test(St){var er,tr;return isNaN(St)&&typeof St=="string"&&(((er=St.match(floatRegex))==null?void 0:er.length)||0)+(((tr=St.match(colorRegex))==null?void 0:tr.length)||0)>0}const NUMBER_TOKEN="number",COLOR_TOKEN="color",VAR_TOKEN="var",VAR_FUNCTION_TOKEN="var(",SPLIT_TOKEN="${}",complexRegex=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue(St){const er=St.toString(),tr=[],rr={color:[],number:[],var:[]},nr=[];let ar=0;const ir=er.replace(complexRegex,or=>(color$1.test(or)?(rr.color.push(ar),nr.push(COLOR_TOKEN),tr.push(color$1.parse(or))):or.startsWith(VAR_FUNCTION_TOKEN)?(rr.var.push(ar),nr.push(VAR_TOKEN),tr.push(or)):(rr.number.push(ar),nr.push(NUMBER_TOKEN),tr.push(parseFloat(or))),++ar,SPLIT_TOKEN)).split(SPLIT_TOKEN);return{values:tr,split:ir,indexes:rr,types:nr}}function parseComplexValue(St){return analyseComplexValue(St).values}function createTransformer(St){const{split:er,types:tr}=analyseComplexValue(St),rr=er.length;return nr=>{let ar="";for(let sr=0;sr<rr;sr++)if(ar+=er[sr],nr[sr]!==void 0){const ir=tr[sr];ir===NUMBER_TOKEN?ar+=sanitize(nr[sr]):ir===COLOR_TOKEN?ar+=color$1.transform(nr[sr]):ar+=nr[sr]}return ar}}const convertNumbersToZero=St=>typeof St=="number"?0:color$1.test(St)?color$1.getAnimatableNone(St):St;function getAnimatableNone$1(St){const er=parseComplexValue(St);return createTransformer(St)(er.map(convertNumbersToZero))}const complex={test,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1};function hueToRgb(St,er,tr){return tr<0&&(tr+=1),tr>1&&(tr-=1),tr<1/6?St+(er-St)*6*tr:tr<1/2?er:tr<2/3?St+(er-St)*(2/3-tr)*6:St}function hslaToRgba({hue:St,saturation:er,lightness:tr,alpha:rr}){St/=360,er/=100,tr/=100;let nr=0,ar=0,sr=0;if(!er)nr=ar=sr=tr;else{const ir=tr<.5?tr*(1+er):tr+er-tr*er,or=2*tr-ir;nr=hueToRgb(or,ir,St+1/3),ar=hueToRgb(or,ir,St),sr=hueToRgb(or,ir,St-1/3)}return{red:Math.round(nr*255),green:Math.round(ar*255),blue:Math.round(sr*255),alpha:rr}}function mixImmediate(St,er){return tr=>tr>0?er:St}const mixNumber$1=(St,er,tr)=>St+(er-St)*tr,mixLinearColor=(St,er,tr)=>{const rr=St*St,nr=tr*(er*er-rr)+rr;return nr<0?0:Math.sqrt(nr)},colorTypes=[hex$1,rgba$1,hsla$1],getColorType=St=>colorTypes.find(er=>er.test(St));function asRGBA(St){const er=getColorType(St);if(!er)return!1;let tr=er.parse(St);return er===hsla$1&&(tr=hslaToRgba(tr)),tr}const mixColor=(St,er)=>{const tr=asRGBA(St),rr=asRGBA(er);if(!tr||!rr)return mixImmediate(St,er);const nr={...tr};return ar=>(nr.red=mixLinearColor(tr.red,rr.red,ar),nr.green=mixLinearColor(tr.green,rr.green,ar),nr.blue=mixLinearColor(tr.blue,rr.blue,ar),nr.alpha=mixNumber$1(tr.alpha,rr.alpha,ar),rgba$1.transform(nr))},invisibleValues=new Set(["none","hidden"]);function mixVisibility(St,er){return invisibleValues.has(St)?tr=>tr<=0?St:er:tr=>tr>=1?er:St}function mixNumber(St,er){return tr=>mixNumber$1(St,er,tr)}function getMixer(St){return typeof St=="number"?mixNumber:typeof St=="string"?isCSSVariableToken(St)?mixImmediate:color$1.test(St)?mixColor:mixComplex:Array.isArray(St)?mixArray:typeof St=="object"?color$1.test(St)?mixColor:mixObject:mixImmediate}function mixArray(St,er){const tr=[...St],rr=tr.length,nr=St.map((ar,sr)=>getMixer(ar)(ar,er[sr]));return ar=>{for(let sr=0;sr<rr;sr++)tr[sr]=nr[sr](ar);return tr}}function mixObject(St,er){const tr={...St,...er},rr={};for(const nr in tr)St[nr]!==void 0&&er[nr]!==void 0&&(rr[nr]=getMixer(St[nr])(St[nr],er[nr]));return nr=>{for(const ar in rr)tr[ar]=rr[ar](nr);return tr}}function matchOrder(St,er){const tr=[],rr={color:0,var:0,number:0};for(let nr=0;nr<er.values.length;nr++){const ar=er.types[nr],sr=St.indexes[ar][rr[ar]],ir=St.values[sr]??0;tr[nr]=ir,rr[ar]++}return tr}const mixComplex=(St,er)=>{const tr=complex.createTransformer(er),rr=analyseComplexValue(St),nr=analyseComplexValue(er);return rr.indexes.var.length===nr.indexes.var.length&&rr.indexes.color.length===nr.indexes.color.length&&rr.indexes.number.length>=nr.indexes.number.length?invisibleValues.has(St)&&!nr.values.length||invisibleValues.has(er)&&!rr.values.length?mixVisibility(St,er):pipe(mixArray(matchOrder(rr,nr),nr.values),tr):mixImmediate(St,er)};function mix(St,er,tr){return typeof St=="number"&&typeof er=="number"&&typeof tr=="number"?mixNumber$1(St,er,tr):getMixer(St)(St,er)}const frameloopDriver=St=>{const er=({timestamp:tr})=>St(tr);return{start:(tr=!0)=>frame.update(er,tr),stop:()=>cancelFrame(er),now:()=>frameData.isProcessing?frameData.timestamp:time$1.now()}},generateLinearEasing=(St,er,tr=10)=>{let rr="";const nr=Math.max(Math.round(er/tr),2);for(let ar=0;ar<nr;ar++)rr+=Math.round(St(ar/(nr-1))*1e4)/1e4+", ";return`linear(${rr.substring(0,rr.length-2)})`},maxGeneratorDuration=2e4;function calcGeneratorDuration(St){let er=0;const tr=50;let rr=St.next(er);for(;!rr.done&&er<maxGeneratorDuration;)er+=tr,rr=St.next(er);return er>=maxGeneratorDuration?1/0:er}function createGeneratorEasing(St,er=100,tr){const rr=tr({...St,keyframes:[0,er]}),nr=Math.min(calcGeneratorDuration(rr),maxGeneratorDuration);return{type:"keyframes",ease:ar=>rr.next(nr*ar).value/er,duration:millisecondsToSeconds(nr)}}const velocitySampleDuration=5;function calcGeneratorVelocity(St,er,tr){const rr=Math.max(er-velocitySampleDuration,0);return velocityPerSecond(tr-St(rr),er-rr)}const springDefaults={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},safeMin=.001;function findSpring({duration:St=springDefaults.duration,bounce:er=springDefaults.bounce,velocity:tr=springDefaults.velocity,mass:rr=springDefaults.mass}){let nr,ar,sr=1-er;sr=clamp(springDefaults.minDamping,springDefaults.maxDamping,sr),St=clamp(springDefaults.minDuration,springDefaults.maxDuration,millisecondsToSeconds(St)),sr<1?(nr=lr=>{const cr=lr*sr,ur=cr*St,dr=cr-tr,fr=calcAngularFreq(lr,sr),mr=Math.exp(-ur);return safeMin-dr/fr*mr},ar=lr=>{const ur=lr*sr*St,dr=ur*tr+tr,fr=Math.pow(sr,2)*Math.pow(lr,2)*St,mr=Math.exp(-ur),xr=calcAngularFreq(Math.pow(lr,2),sr);return(-nr(lr)+safeMin>0?-1:1)*((dr-fr)*mr)/xr}):(nr=lr=>{const cr=Math.exp(-lr*St),ur=(lr-tr)*St+1;return-safeMin+cr*ur},ar=lr=>{const cr=Math.exp(-lr*St),ur=(tr-lr)*(St*St);return cr*ur});const ir=5/St,or=approximateRoot(nr,ar,ir);if(St=secondsToMilliseconds(St),isNaN(or))return{stiffness:springDefaults.stiffness,damping:springDefaults.damping,duration:St};{const lr=Math.pow(or,2)*rr;return{stiffness:lr,damping:sr*2*Math.sqrt(rr*lr),duration:St}}}const rootIterations=12;function approximateRoot(St,er,tr){let rr=tr;for(let nr=1;nr<rootIterations;nr++)rr=rr-St(rr)/er(rr);return rr}function calcAngularFreq(St,er){return St*Math.sqrt(1-er*er)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(St,er){return er.some(tr=>St[tr]!==void 0)}function getSpringOptions(St){let er={velocity:springDefaults.velocity,stiffness:springDefaults.stiffness,damping:springDefaults.damping,mass:springDefaults.mass,isResolvedFromDuration:!1,...St};if(!isSpringType(St,physicsKeys)&&isSpringType(St,durationKeys))if(St.visualDuration){const tr=St.visualDuration,rr=2*Math.PI/(tr*1.2),nr=rr*rr,ar=2*clamp(.05,1,1-(St.bounce||0))*Math.sqrt(nr);er={...er,mass:springDefaults.mass,stiffness:nr,damping:ar}}else{const tr=findSpring(St);er={...er,...tr,mass:springDefaults.mass},er.isResolvedFromDuration=!0}return er}function spring(St=springDefaults.visualDuration,er=springDefaults.bounce){const tr=typeof St!="object"?{visualDuration:St,keyframes:[0,1],bounce:er}:St;let{restSpeed:rr,restDelta:nr}=tr;const ar=tr.keyframes[0],sr=tr.keyframes[tr.keyframes.length-1],ir={done:!1,value:ar},{stiffness:or,damping:lr,mass:cr,duration:ur,velocity:dr,isResolvedFromDuration:fr}=getSpringOptions({...tr,velocity:-millisecondsToSeconds(tr.velocity||0)}),mr=dr||0,xr=lr/(2*Math.sqrt(or*cr)),pr=sr-ar,hr=millisecondsToSeconds(Math.sqrt(or/cr)),gr=Math.abs(pr)<5;rr||(rr=gr?springDefaults.restSpeed.granular:springDefaults.restSpeed.default),nr||(nr=gr?springDefaults.restDelta.granular:springDefaults.restDelta.default);let vr;if(xr<1){const yr=calcAngularFreq(hr,xr);vr=Er=>{const jr=Math.exp(-xr*hr*Er);return sr-jr*((mr+xr*hr*pr)/yr*Math.sin(yr*Er)+pr*Math.cos(yr*Er))}}else if(xr===1)vr=yr=>sr-Math.exp(-hr*yr)*(pr+(mr+hr*pr)*yr);else{const yr=hr*Math.sqrt(xr*xr-1);vr=Er=>{const jr=Math.exp(-xr*hr*Er),_r=Math.min(yr*Er,300);return sr-jr*((mr+xr*hr*pr)*Math.sinh(_r)+yr*pr*Math.cosh(_r))/yr}}const br={calculatedDuration:fr&&ur||null,next:yr=>{const Er=vr(yr);if(fr)ir.done=yr>=ur;else{let jr=yr===0?mr:0;xr<1&&(jr=yr===0?secondsToMilliseconds(mr):calcGeneratorVelocity(vr,yr,Er));const _r=Math.abs(jr)<=rr,Cr=Math.abs(sr-Er)<=nr;ir.done=_r&&Cr}return ir.value=ir.done?sr:Er,ir},toString:()=>{const yr=Math.min(calcGeneratorDuration(br),maxGeneratorDuration),Er=generateLinearEasing(jr=>br.next(yr*jr).value,yr,30);return yr+"ms "+Er},toTransition:()=>{}};return br}spring.applyToOptions=St=>{const er=createGeneratorEasing(St,100,spring);return St.ease=er.ease,St.duration=secondsToMilliseconds(er.duration),St.type="keyframes",St};function inertia({keyframes:St,velocity:er=0,power:tr=.8,timeConstant:rr=325,bounceDamping:nr=10,bounceStiffness:ar=500,modifyTarget:sr,min:ir,max:or,restDelta:lr=.5,restSpeed:cr}){const ur=St[0],dr={done:!1,value:ur},fr=_r=>ir!==void 0&&_r<ir||or!==void 0&&_r>or,mr=_r=>ir===void 0?or:or===void 0||Math.abs(ir-_r)<Math.abs(or-_r)?ir:or;let xr=tr*er;const pr=ur+xr,hr=sr===void 0?pr:sr(pr);hr!==pr&&(xr=hr-ur);const gr=_r=>-xr*Math.exp(-_r/rr),vr=_r=>hr+gr(_r),br=_r=>{const Cr=gr(_r),Or=vr(_r);dr.done=Math.abs(Cr)<=lr,dr.value=dr.done?hr:Or};let yr,Er;const jr=_r=>{fr(dr.value)&&(yr=_r,Er=spring({keyframes:[dr.value,mr(dr.value)],velocity:calcGeneratorVelocity(vr,_r,dr.value),damping:nr,stiffness:ar,restDelta:lr,restSpeed:cr}))};return jr(0),{calculatedDuration:null,next:_r=>{let Cr=!1;return!Er&&yr===void 0&&(Cr=!0,br(_r),jr(_r)),yr!==void 0&&_r>=yr?Er.next(_r-yr):(!Cr&&br(_r),dr)}}}function createMixers(St,er,tr){const rr=[],nr=tr||MotionGlobalConfig.mix||mix,ar=St.length-1;for(let sr=0;sr<ar;sr++){let ir=nr(St[sr],St[sr+1]);if(er){const or=Array.isArray(er)?er[sr]||noop$7:er;ir=pipe(or,ir)}rr.push(ir)}return rr}function interpolate$1(St,er,{clamp:tr=!0,ease:rr,mixer:nr}={}){const ar=St.length;if(invariant$1(ar===er.length),ar===1)return()=>er[0];if(ar===2&&er[0]===er[1])return()=>er[1];const sr=St[0]===St[1];St[0]>St[ar-1]&&(St=[...St].reverse(),er=[...er].reverse());const ir=createMixers(er,rr,nr),or=ir.length,lr=cr=>{if(sr&&cr<St[0])return er[0];let ur=0;if(or>1)for(;ur<St.length-2&&!(cr<St[ur+1]);ur++);const dr=progress(St[ur],St[ur+1],cr);return ir[ur](dr)};return tr?cr=>lr(clamp(St[0],St[ar-1],cr)):lr}function fillOffset(St,er){const tr=St[St.length-1];for(let rr=1;rr<=er;rr++){const nr=progress(0,er,rr);St.push(mixNumber$1(tr,1,nr))}}function defaultOffset(St){const er=[0];return fillOffset(er,St.length-1),er}function convertOffsetToTimes(St,er){return St.map(tr=>tr*er)}function defaultEasing(St,er){return St.map(()=>er||easeInOut).splice(0,St.length-1)}function keyframes({duration:St=300,keyframes:er,times:tr,ease:rr="easeInOut"}){const nr=isEasingArray(rr)?rr.map(easingDefinitionToFunction):easingDefinitionToFunction(rr),ar={done:!1,value:er[0]},sr=convertOffsetToTimes(tr&&tr.length===er.length?tr:defaultOffset(er),St),ir=interpolate$1(sr,er,{ease:Array.isArray(nr)?nr:defaultEasing(er,nr)});return{calculatedDuration:St,next:or=>(ar.value=ir(or),ar.done=or>=St,ar)}}const isNotNull$1=St=>St!==null;function getFinalKeyframe$1(St,{repeat:er,repeatType:tr="loop"},rr,nr=1){const ar=St.filter(isNotNull$1),ir=nr<0||er&&tr!=="loop"&&er%2===1?0:ar.length-1;return!ir||rr===void 0?ar[ir]:rr}const transitionTypeMap={decay:inertia,inertia,tween:keyframes,keyframes,spring};function replaceTransitionType(St){typeof St.type=="string"&&(St.type=transitionTypeMap[St.type])}class WithPromise{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(er=>{this.resolve=er})}notifyFinished(){this.resolve()}then(er,tr){return this.finished.then(er,tr)}}const percentToProgress=St=>St/100;class JSAnimation extends WithPromise{constructor(er){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var rr,nr;const{motionValue:tr}=this.options;tr&&tr.updatedAt!==time$1.now()&&this.tick(time$1.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(nr=(rr=this.options).onStop)==null||nr.call(rr))},this.options=er,this.initAnimation(),this.play(),er.autoplay===!1&&this.pause()}initAnimation(){const{options:er}=this;replaceTransitionType(er);const{type:tr=keyframes,repeat:rr=0,repeatDelay:nr=0,repeatType:ar,velocity:sr=0}=er;let{keyframes:ir}=er;const or=tr||keyframes;or!==keyframes&&typeof ir[0]!="number"&&(this.mixKeyframes=pipe(percentToProgress,mix(ir[0],ir[1])),ir=[0,100]);const lr=or({...er,keyframes:ir});ar==="mirror"&&(this.mirroredGenerator=or({...er,keyframes:[...ir].reverse(),velocity:-sr})),lr.calculatedDuration===null&&(lr.calculatedDuration=calcGeneratorDuration(lr));const{calculatedDuration:cr}=lr;this.calculatedDuration=cr,this.resolvedDuration=cr+nr,this.totalDuration=this.resolvedDuration*(rr+1)-nr,this.generator=lr}updateTime(er){const tr=Math.round(er-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=tr}tick(er,tr=!1){const{generator:rr,totalDuration:nr,mixKeyframes:ar,mirroredGenerator:sr,resolvedDuration:ir,calculatedDuration:or}=this;if(this.startTime===null)return rr.next(0);const{delay:lr=0,keyframes:cr,repeat:ur,repeatType:dr,repeatDelay:fr,type:mr,onUpdate:xr,finalKeyframe:pr}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,er):this.speed<0&&(this.startTime=Math.min(er-nr/this.speed,this.startTime)),tr?this.currentTime=er:this.updateTime(er);const hr=this.currentTime-lr*(this.playbackSpeed>=0?1:-1),gr=this.playbackSpeed>=0?hr<0:hr>nr;this.currentTime=Math.max(hr,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=nr);let vr=this.currentTime,br=rr;if(ur){const _r=Math.min(this.currentTime,nr)/ir;let Cr=Math.floor(_r),Or=_r%1;!Or&&_r>=1&&(Or=1),Or===1&&Cr--,Cr=Math.min(Cr,ur+1),!!(Cr%2)&&(dr==="reverse"?(Or=1-Or,fr&&(Or-=fr/ir)):dr==="mirror"&&(br=sr)),vr=clamp(0,1,Or)*ir}const yr=gr?{done:!1,value:cr[0]}:br.next(vr);ar&&(yr.value=ar(yr.value));let{done:Er}=yr;!gr&&or!==null&&(Er=this.playbackSpeed>=0?this.currentTime>=nr:this.currentTime<=0);const jr=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Er);return jr&&mr!==inertia&&(yr.value=getFinalKeyframe$1(cr,this.options,pr,this.speed)),xr&&xr(yr.value),jr&&this.finish(),yr}then(er,tr){return this.finished.then(er,tr)}get duration(){return millisecondsToSeconds(this.calculatedDuration)}get time(){return millisecondsToSeconds(this.currentTime)}set time(er){var tr;er=secondsToMilliseconds(er),this.currentTime=er,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=er:this.driver&&(this.startTime=this.driver.now()-er/this.playbackSpeed),(tr=this.driver)==null||tr.start(!1)}get speed(){return this.playbackSpeed}set speed(er){this.updateTime(time$1.now());const tr=this.playbackSpeed!==er;this.playbackSpeed=er,tr&&(this.time=millisecondsToSeconds(this.currentTime))}play(){var nr,ar;if(this.isStopped)return;const{driver:er=frameloopDriver,startTime:tr}=this.options;this.driver||(this.driver=er(sr=>this.tick(sr))),(ar=(nr=this.options).onPlay)==null||ar.call(nr);const rr=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=rr):this.holdTime!==null?this.startTime=rr-this.holdTime:this.startTime||(this.startTime=tr??rr),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(time$1.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var er,tr;this.notifyFinished(),this.teardown(),this.state="finished",(tr=(er=this.options).onComplete)==null||tr.call(er)}cancel(){var er,tr;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(tr=(er=this.options).onCancel)==null||tr.call(er)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(er){return this.startTime=0,this.tick(er,!0)}attachTimeline(er){var tr;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(tr=this.driver)==null||tr.stop(),er.observe(this)}}function fillWildcards(St){for(let er=1;er<St.length;er++)St[er]??(St[er]=St[er-1])}const radToDeg=St=>St*180/Math.PI,rotate=St=>{const er=radToDeg(Math.atan2(St[1],St[0]));return rebaseAngle(er)},matrix2dParsers={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:St=>(Math.abs(St[0])+Math.abs(St[3]))/2,rotate,rotateZ:rotate,skewX:St=>radToDeg(Math.atan(St[1])),skewY:St=>radToDeg(Math.atan(St[2])),skew:St=>(Math.abs(St[1])+Math.abs(St[2]))/2},rebaseAngle=St=>(St=St%360,St<0&&(St+=360),St),rotateZ=rotate,scaleX=St=>Math.sqrt(St[0]*St[0]+St[1]*St[1]),scaleY=St=>Math.sqrt(St[4]*St[4]+St[5]*St[5]),matrix3dParsers={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX,scaleY,scale:St=>(scaleX(St)+scaleY(St))/2,rotateX:St=>rebaseAngle(radToDeg(Math.atan2(St[6],St[5]))),rotateY:St=>rebaseAngle(radToDeg(Math.atan2(-St[2],St[0]))),rotateZ,rotate:rotateZ,skewX:St=>radToDeg(Math.atan(St[4])),skewY:St=>radToDeg(Math.atan(St[1])),skew:St=>(Math.abs(St[1])+Math.abs(St[4]))/2};function defaultTransformValue(St){return St.includes("scale")?1:0}function parseValueFromTransform(St,er){if(!St||St==="none")return defaultTransformValue(er);const tr=St.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let rr,nr;if(tr)rr=matrix3dParsers,nr=tr;else{const ir=St.match(/^matrix\(([-\d.e\s,]+)\)$/u);rr=matrix2dParsers,nr=ir}if(!nr)return defaultTransformValue(er);const ar=rr[er],sr=nr[1].split(",").map(convertTransformToNumber);return typeof ar=="function"?ar(sr):sr[ar]}const readTransformValue=(St,er)=>{const{transform:tr="none"}=getComputedStyle(St);return parseValueFromTransform(tr,er)};function convertTransformToNumber(St){return parseFloat(St.trim())}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder),isNumOrPxType=St=>St===number$3||St===px,transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(St=>!transformKeys.has(St));function removeNonTranslationalTransform(St){const er=[];return nonTranslationalTransformKeys.forEach(tr=>{const rr=St.getValue(tr);rr!==void 0&&(er.push([tr,rr.get()]),rr.set(tr.startsWith("scale")?1:0))}),er}const positionalValues={width:({x:St},{paddingLeft:er="0",paddingRight:tr="0"})=>St.max-St.min-parseFloat(er)-parseFloat(tr),height:({y:St},{paddingTop:er="0",paddingBottom:tr="0"})=>St.max-St.min-parseFloat(er)-parseFloat(tr),top:(St,{top:er})=>parseFloat(er),left:(St,{left:er})=>parseFloat(er),bottom:({y:St},{top:er})=>parseFloat(er)+(St.max-St.min),right:({x:St},{left:er})=>parseFloat(er)+(St.max-St.min),x:(St,{transform:er})=>parseValueFromTransform(er,"x"),y:(St,{transform:er})=>parseValueFromTransform(er,"y")};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const toResolve=new Set;let isScheduled=!1,anyNeedsMeasurement=!1,isForced=!1;function measureAllKeyframes(){if(anyNeedsMeasurement){const St=Array.from(toResolve).filter(rr=>rr.needsMeasurement),er=new Set(St.map(rr=>rr.element)),tr=new Map;er.forEach(rr=>{const nr=removeNonTranslationalTransform(rr);nr.length&&(tr.set(rr,nr),rr.render())}),St.forEach(rr=>rr.measureInitialState()),er.forEach(rr=>{rr.render();const nr=tr.get(rr);nr&&nr.forEach(([ar,sr])=>{var ir;(ir=rr.getValue(ar))==null||ir.set(sr)})}),St.forEach(rr=>rr.measureEndState()),St.forEach(rr=>{rr.suspendedScrollY!==void 0&&window.scrollTo(0,rr.suspendedScrollY)})}anyNeedsMeasurement=!1,isScheduled=!1,toResolve.forEach(St=>St.complete(isForced)),toResolve.clear()}function readAllKeyframes(){toResolve.forEach(St=>{St.readKeyframes(),St.needsMeasurement&&(anyNeedsMeasurement=!0)})}function flushKeyframeResolvers(){isForced=!0,readAllKeyframes(),measureAllKeyframes(),isForced=!1}class KeyframeResolver{constructor(er,tr,rr,nr,ar,sr=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...er],this.onComplete=tr,this.name=rr,this.motionValue=nr,this.element=ar,this.isAsync=sr}scheduleResolve(){this.state="scheduled",this.isAsync?(toResolve.add(this),isScheduled||(isScheduled=!0,frame.read(readAllKeyframes),frame.resolveKeyframes(measureAllKeyframes))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:er,name:tr,element:rr,motionValue:nr}=this;if(er[0]===null){const ar=nr==null?void 0:nr.get(),sr=er[er.length-1];if(ar!==void 0)er[0]=ar;else if(rr&&tr){const ir=rr.readValue(tr,sr);ir!=null&&(er[0]=ir)}er[0]===void 0&&(er[0]=sr),nr&&ar===void 0&&nr.set(er[0])}fillWildcards(er)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(er=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,er),toResolve.delete(this)}cancel(){this.state==="scheduled"&&(toResolve.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const isCSSVar=St=>St.startsWith("--");function setStyle(St,er,tr){isCSSVar(er)?St.style.setProperty(er,tr):St.style[er]=tr}const supportsScrollTimeline=memo(()=>window.ScrollTimeline!==void 0),supportsFlags={};function memoSupports(St,er){const tr=memo(St);return()=>supportsFlags[er]??tr()}const supportsLinearEasing=memoSupports(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),cubicBezierAsString=([St,er,tr,rr])=>`cubic-bezier(${St}, ${er}, ${tr}, ${rr})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(St,er){if(St)return typeof St=="function"?supportsLinearEasing()?generateLinearEasing(St,er):"ease-out":isBezierDefinition(St)?cubicBezierAsString(St):Array.isArray(St)?St.map(tr=>mapEasingToNativeEasing(tr,er)||supportedWaapiEasing.easeOut):supportedWaapiEasing[St]}function startWaapiAnimation(St,er,tr,{delay:rr=0,duration:nr=300,repeat:ar=0,repeatType:sr="loop",ease:ir="easeOut",times:or}={},lr=void 0){const cr={[er]:tr};or&&(cr.offset=or);const ur=mapEasingToNativeEasing(ir,nr);Array.isArray(ur)&&(cr.easing=ur);const dr={delay:rr,duration:nr,easing:Array.isArray(ur)?"linear":ur,fill:"both",iterations:ar+1,direction:sr==="reverse"?"alternate":"normal"};return lr&&(dr.pseudoElement=lr),St.animate(cr,dr)}function isGenerator(St){return typeof St=="function"&&"applyToOptions"in St}function applyGeneratorOptions({type:St,...er}){return isGenerator(St)&&supportsLinearEasing()?St.applyToOptions(er):(er.duration??(er.duration=300),er.ease??(er.ease="easeOut"),er)}class NativeAnimation extends WithPromise{constructor(er){if(super(),this.finishedTime=null,this.isStopped=!1,!er)return;const{element:tr,name:rr,keyframes:nr,pseudoElement:ar,allowFlatten:sr=!1,finalKeyframe:ir,onComplete:or}=er;this.isPseudoElement=!!ar,this.allowFlatten=sr,this.options=er,invariant$1(typeof er.type!="string");const lr=applyGeneratorOptions(er);this.animation=startWaapiAnimation(tr,rr,nr,lr,ar),lr.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!ar){const cr=getFinalKeyframe$1(nr,this.options,ir,this.speed);this.updateMotionValue?this.updateMotionValue(cr):setStyle(tr,rr,cr),this.animation.cancel()}or==null||or(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var er,tr;(tr=(er=this.animation).finish)==null||tr.call(er)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:er}=this;er==="idle"||er==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var er,tr;this.isPseudoElement||(tr=(er=this.animation).commitStyles)==null||tr.call(er)}get duration(){var tr,rr;const er=((rr=(tr=this.animation.effect)==null?void 0:tr.getComputedTiming)==null?void 0:rr.call(tr).duration)||0;return millisecondsToSeconds(Number(er))}get time(){return millisecondsToSeconds(Number(this.animation.currentTime)||0)}set time(er){this.finishedTime=null,this.animation.currentTime=secondsToMilliseconds(er)}get speed(){return this.animation.playbackRate}set speed(er){er<0&&(this.finishedTime=null),this.animation.playbackRate=er}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(er){this.animation.startTime=er}attachTimeline({timeline:er,observe:tr}){var rr;return this.allowFlatten&&((rr=this.animation.effect)==null||rr.updateTiming({easing:"linear"})),this.animation.onfinish=null,er&&supportsScrollTimeline()?(this.animation.timeline=er,noop$7):tr(this)}}const unsupportedEasingFunctions={anticipate,backInOut,circInOut};function isUnsupportedEase(St){return St in unsupportedEasingFunctions}function replaceStringEasing(St){typeof St.ease=="string"&&isUnsupportedEase(St.ease)&&(St.ease=unsupportedEasingFunctions[St.ease])}const sampleDelta=10;class NativeAnimationExtended extends NativeAnimation{constructor(er){replaceStringEasing(er),replaceTransitionType(er),super(er),er.startTime&&(this.startTime=er.startTime),this.options=er}updateMotionValue(er){const{motionValue:tr,onUpdate:rr,onComplete:nr,element:ar,...sr}=this.options;if(!tr)return;if(er!==void 0){tr.set(er);return}const ir=new JSAnimation({...sr,autoplay:!1}),or=secondsToMilliseconds(this.finishedTime??this.time);tr.setWithVelocity(ir.sample(or-sampleDelta).value,ir.sample(or).value,sampleDelta),ir.stop()}}const isAnimatable=(St,er)=>er==="zIndex"?!1:!!(typeof St=="number"||Array.isArray(St)||typeof St=="string"&&(complex.test(St)||St==="0")&&!St.startsWith("url("));function hasKeyframesChanged(St){const er=St[0];if(St.length===1)return!0;for(let tr=0;tr<St.length;tr++)if(St[tr]!==er)return!0}function canAnimate(St,er,tr,rr){const nr=St[0];if(nr===null)return!1;if(er==="display"||er==="visibility")return!0;const ar=St[St.length-1],sr=isAnimatable(nr,er),ir=isAnimatable(ar,er);return!sr||!ir?!1:hasKeyframesChanged(St)||(tr==="spring"||isGenerator(tr))&&rr}function isHTMLElement(St){return isObject$1(St)&&"offsetHeight"in St}const acceleratedValues=new Set(["opacity","clipPath","filter","transform"]),supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function supportsBrowserAnimation(St){var lr;const{motionValue:er,name:tr,repeatDelay:rr,repeatType:nr,damping:ar,type:sr}=St;if(!isHTMLElement((lr=er==null?void 0:er.owner)==null?void 0:lr.current))return!1;const{onUpdate:ir,transformTemplate:or}=er.owner.getProps();return supportsWaapi()&&tr&&acceleratedValues.has(tr)&&(tr!=="transform"||!or)&&!ir&&!rr&&nr!=="mirror"&&ar!==0&&sr!=="inertia"}const MAX_RESOLVE_DELAY=40;class AsyncMotionValueAnimation extends WithPromise{constructor({autoplay:er=!0,delay:tr=0,type:rr="keyframes",repeat:nr=0,repeatDelay:ar=0,repeatType:sr="loop",keyframes:ir,name:or,motionValue:lr,element:cr,...ur}){var mr;super(),this.stop=()=>{var xr,pr;this._animation&&(this._animation.stop(),(xr=this.stopTimeline)==null||xr.call(this)),(pr=this.keyframeResolver)==null||pr.cancel()},this.createdAt=time$1.now();const dr={autoplay:er,delay:tr,type:rr,repeat:nr,repeatDelay:ar,repeatType:sr,name:or,motionValue:lr,element:cr,...ur},fr=(cr==null?void 0:cr.KeyframeResolver)||KeyframeResolver;this.keyframeResolver=new fr(ir,(xr,pr,hr)=>this.onKeyframesResolved(xr,pr,dr,!hr),or,lr,cr),(mr=this.keyframeResolver)==null||mr.scheduleResolve()}onKeyframesResolved(er,tr,rr,nr){this.keyframeResolver=void 0;const{name:ar,type:sr,velocity:ir,delay:or,isHandoff:lr,onUpdate:cr}=rr;this.resolvedAt=time$1.now(),canAnimate(er,ar,sr,ir)||((MotionGlobalConfig.instantAnimations||!or)&&(cr==null||cr(getFinalKeyframe$1(er,rr,tr))),er[0]=er[er.length-1],rr.duration=0,rr.repeat=0);const dr={startTime:nr?this.resolvedAt?this.resolvedAt-this.createdAt>MAX_RESOLVE_DELAY?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:tr,...rr,keyframes:er},fr=!lr&&supportsBrowserAnimation(dr)?new NativeAnimationExtended({...dr,element:dr.motionValue.owner.current}):new JSAnimation(dr);fr.finished.then(()=>this.notifyFinished()).catch(noop$7),this.pendingTimeline&&(this.stopTimeline=fr.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=fr}get finished(){return this._animation?this.animation.finished:this._finished}then(er,tr){return this.finished.finally(er).then(()=>{})}get animation(){var er;return this._animation||((er=this.keyframeResolver)==null||er.resume(),flushKeyframeResolvers()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(er){this.animation.time=er}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(er){this.animation.speed=er}get startTime(){return this.animation.startTime}attachTimeline(er){return this._animation?this.stopTimeline=this.animation.attachTimeline(er):this.pendingTimeline=er,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var er;this._animation&&this.animation.cancel(),(er=this.keyframeResolver)==null||er.cancel()}}const splitCSSVariableRegex=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function parseCSSVariable(St){const er=splitCSSVariableRegex.exec(St);if(!er)return[,];const[,tr,rr,nr]=er;return[`--${tr??rr}`,nr]}function getVariableValue(St,er,tr=1){const[rr,nr]=parseCSSVariable(St);if(!rr)return;const ar=window.getComputedStyle(er).getPropertyValue(rr);if(ar){const sr=ar.trim();return isNumericalString(sr)?parseFloat(sr):sr}return isCSSVariableToken(nr)?getVariableValue(nr,er,tr+1):nr}function getValueTransition(St,er){return(St==null?void 0:St[er])??(St==null?void 0:St.default)??St}const positionalKeys=new Set(["width","height","top","left","right","bottom",...transformPropOrder]),auto={test:St=>St==="auto",parse:St=>St},testValueType=St=>er=>er.test(St),dimensionValueTypes=[number$3,px,percent,degrees,vw,vh,auto],findDimensionValueType=St=>dimensionValueTypes.find(testValueType(St));function isNone(St){return typeof St=="number"?St===0:St!==null?St==="none"||St==="0"||isZeroValueString(St):!0}const maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(St){const[er,tr]=St.slice(0,-1).split("(");if(er==="drop-shadow")return St;const[rr]=tr.match(floatRegex)||[];if(!rr)return St;const nr=tr.replace(rr,"");let ar=maxDefaults.has(er)?1:0;return rr!==tr&&(ar*=100),er+"("+ar+nr+")"}const functionRegex=/\b([a-z-]*)\(.*?\)/gu,filter={...complex,getAnimatableNone:St=>{const er=St.match(functionRegex);return er?er.map(applyDefaultFilter).join(" "):St}},int={...number$3,transform:Math.round},transformValueTypes={rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha$1,originX:progressPercentage,originY:progressPercentage,originZ:px},numberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,backgroundPositionX:px,backgroundPositionY:px,...transformValueTypes,zIndex:int,fillOpacity:alpha$1,strokeOpacity:alpha$1,numOctaves:int},defaultValueTypes={...numberValueTypes,color:color$1,backgroundColor:color$1,outlineColor:color$1,fill:color$1,stroke:color$1,borderColor:color$1,borderTopColor:color$1,borderRightColor:color$1,borderBottomColor:color$1,borderLeftColor:color$1,filter,WebkitFilter:filter},getDefaultValueType=St=>defaultValueTypes[St];function getAnimatableNone(St,er){let tr=getDefaultValueType(St);return tr!==filter&&(tr=complex),tr.getAnimatableNone?tr.getAnimatableNone(er):void 0}const invalidTemplates=new Set(["auto","none","0"]);function makeNoneKeyframesAnimatable(St,er,tr){let rr=0,nr;for(;rr<St.length&&!nr;){const ar=St[rr];typeof ar=="string"&&!invalidTemplates.has(ar)&&analyseComplexValue(ar).values.length&&(nr=St[rr]),rr++}if(nr&&tr)for(const ar of er)St[ar]=getAnimatableNone(tr,nr)}class DOMKeyframesResolver extends KeyframeResolver{constructor(er,tr,rr,nr,ar){super(er,tr,rr,nr,ar,!0)}readKeyframes(){const{unresolvedKeyframes:er,element:tr,name:rr}=this;if(!tr||!tr.current)return;super.readKeyframes();for(let or=0;or<er.length;or++){let lr=er[or];if(typeof lr=="string"&&(lr=lr.trim(),isCSSVariableToken(lr))){const cr=getVariableValue(lr,tr.current);cr!==void 0&&(er[or]=cr),or===er.length-1&&(this.finalKeyframe=lr)}}if(this.resolveNoneKeyframes(),!positionalKeys.has(rr)||er.length!==2)return;const[nr,ar]=er,sr=findDimensionValueType(nr),ir=findDimensionValueType(ar);if(sr!==ir)if(isNumOrPxType(sr)&&isNumOrPxType(ir))for(let or=0;or<er.length;or++){const lr=er[or];typeof lr=="string"&&(er[or]=parseFloat(lr))}else positionalValues[rr]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:er,name:tr}=this,rr=[];for(let nr=0;nr<er.length;nr++)(er[nr]===null||isNone(er[nr]))&&rr.push(nr);rr.length&&makeNoneKeyframesAnimatable(er,rr,tr)}measureInitialState(){const{element:er,unresolvedKeyframes:tr,name:rr}=this;if(!er||!er.current)return;rr==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=positionalValues[rr](er.measureViewportBox(),window.getComputedStyle(er.current)),tr[0]=this.measuredOrigin;const nr=tr[tr.length-1];nr!==void 0&&er.getValue(rr,nr).jump(nr,!1)}measureEndState(){var ir;const{element:er,name:tr,unresolvedKeyframes:rr}=this;if(!er||!er.current)return;const nr=er.getValue(tr);nr&&nr.jump(this.measuredOrigin,!1);const ar=rr.length-1,sr=rr[ar];rr[ar]=positionalValues[tr](er.measureViewportBox(),window.getComputedStyle(er.current)),sr!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=sr),(ir=this.removedTransforms)!=null&&ir.length&&this.removedTransforms.forEach(([or,lr])=>{er.getValue(or).set(lr)}),this.resolveNoneKeyframes()}}function resolveElements(St,er,tr){if(St instanceof EventTarget)return[St];if(typeof St=="string"){let rr=document;const nr=(tr==null?void 0:tr[St])??rr.querySelectorAll(St);return nr?Array.from(nr):[]}return Array.from(St)}const getValueAsType=(St,er)=>er&&typeof St=="number"?er.transform(St):St,MAX_VELOCITY_DELTA=30,isFloat=St=>!isNaN(parseFloat(St));class MotionValue{constructor(er,tr={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(rr,nr=!0)=>{var sr,ir;const ar=time$1.now();if(this.updatedAt!==ar&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(rr),this.current!==this.prev&&((sr=this.events.change)==null||sr.notify(this.current),this.dependents))for(const or of this.dependents)or.dirty();nr&&((ir=this.events.renderRequest)==null||ir.notify(this.current))},this.hasAnimated=!1,this.setCurrent(er),this.owner=tr.owner}setCurrent(er){this.current=er,this.updatedAt=time$1.now(),this.canTrackVelocity===null&&er!==void 0&&(this.canTrackVelocity=isFloat(this.current))}setPrevFrameValue(er=this.current){this.prevFrameValue=er,this.prevUpdatedAt=this.updatedAt}onChange(er){return this.on("change",er)}on(er,tr){this.events[er]||(this.events[er]=new SubscriptionManager);const rr=this.events[er].add(tr);return er==="change"?()=>{rr(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:rr}clearListeners(){for(const er in this.events)this.events[er].clear()}attach(er,tr){this.passiveEffect=er,this.stopPassiveEffect=tr}set(er,tr=!0){!tr||!this.passiveEffect?this.updateAndNotify(er,tr):this.passiveEffect(er,this.updateAndNotify)}setWithVelocity(er,tr,rr){this.set(tr),this.prev=void 0,this.prevFrameValue=er,this.prevUpdatedAt=this.updatedAt-rr}jump(er,tr=!0){this.updateAndNotify(er),this.prev=er,this.prevUpdatedAt=this.prevFrameValue=void 0,tr&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var er;(er=this.events.change)==null||er.notify(this.current)}addDependent(er){this.dependents||(this.dependents=new Set),this.dependents.add(er)}removeDependent(er){this.dependents&&this.dependents.delete(er)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const er=time$1.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||er-this.updatedAt>MAX_VELOCITY_DELTA)return 0;const tr=Math.min(this.updatedAt-this.prevUpdatedAt,MAX_VELOCITY_DELTA);return velocityPerSecond(parseFloat(this.current)-parseFloat(this.prevFrameValue),tr)}start(er){return this.stop(),new Promise(tr=>{this.hasAnimated=!0,this.animation=er(tr),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var er,tr;(er=this.dependents)==null||er.clear(),(tr=this.events.destroy)==null||tr.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(St,er){return new MotionValue(St,er)}const{schedule:microtask}=createRenderBatcher(queueMicrotask,!1),isDragging={x:!1,y:!1};function isDragActive(){return isDragging.x||isDragging.y}function setDragLock(St){return St==="x"||St==="y"?isDragging[St]?null:(isDragging[St]=!0,()=>{isDragging[St]=!1}):isDragging.x||isDragging.y?null:(isDragging.x=isDragging.y=!0,()=>{isDragging.x=isDragging.y=!1})}function setupGesture(St,er){const tr=resolveElements(St),rr=new AbortController,nr={passive:!0,...er,signal:rr.signal};return[tr,nr,()=>rr.abort()]}function isValidHover(St){return!(St.pointerType==="touch"||isDragActive())}function hover(St,er,tr={}){const[rr,nr,ar]=setupGesture(St,tr),sr=ir=>{if(!isValidHover(ir))return;const{target:or}=ir,lr=er(or,ir);if(typeof lr!="function"||!or)return;const cr=ur=>{isValidHover(ur)&&(lr(ur),or.removeEventListener("pointerleave",cr))};or.addEventListener("pointerleave",cr,nr)};return rr.forEach(ir=>{ir.addEventListener("pointerenter",sr,nr)}),ar}const isNodeOrChild=(St,er)=>er?St===er?!0:isNodeOrChild(St,er.parentElement):!1,isPrimaryPointer=St=>St.pointerType==="mouse"?typeof St.button!="number"||St.button<=0:St.isPrimary!==!1,focusableElements=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function isElementKeyboardAccessible(St){return focusableElements.has(St.tagName)||St.tabIndex!==-1}const isPressing=new WeakSet;function filterEvents(St){return er=>{er.key==="Enter"&&St(er)}}function firePointerEvent(St,er){St.dispatchEvent(new PointerEvent("pointer"+er,{isPrimary:!0,bubbles:!0}))}const enableKeyboardPress=(St,er)=>{const tr=St.currentTarget;if(!tr)return;const rr=filterEvents(()=>{if(isPressing.has(tr))return;firePointerEvent(tr,"down");const nr=filterEvents(()=>{firePointerEvent(tr,"up")}),ar=()=>firePointerEvent(tr,"cancel");tr.addEventListener("keyup",nr,er),tr.addEventListener("blur",ar,er)});tr.addEventListener("keydown",rr,er),tr.addEventListener("blur",()=>tr.removeEventListener("keydown",rr),er)};function isValidPressEvent(St){return isPrimaryPointer(St)&&!isDragActive()}function press(St,er,tr={}){const[rr,nr,ar]=setupGesture(St,tr),sr=ir=>{const or=ir.currentTarget;if(!isValidPressEvent(ir))return;isPressing.add(or);const lr=er(or,ir),cr=(fr,mr)=>{window.removeEventListener("pointerup",ur),window.removeEventListener("pointercancel",dr),isPressing.has(or)&&isPressing.delete(or),isValidPressEvent(fr)&&typeof lr=="function"&&lr(fr,{success:mr})},ur=fr=>{cr(fr,or===window||or===document||tr.useGlobalTarget||isNodeOrChild(or,fr.target))},dr=fr=>{cr(fr,!1)};window.addEventListener("pointerup",ur,nr),window.addEventListener("pointercancel",dr,nr)};return rr.forEach(ir=>{(tr.useGlobalTarget?window:ir).addEventListener("pointerdown",sr,nr),isHTMLElement(ir)&&(ir.addEventListener("focus",lr=>enableKeyboardPress(lr,nr)),!isElementKeyboardAccessible(ir)&&!ir.hasAttribute("tabindex")&&(ir.tabIndex=0))}),ar}function isSVGElement(St){return isObject$1(St)&&"ownerSVGElement"in St}function isSVGSVGElement(St){return isSVGElement(St)&&St.tagName==="svg"}const isMotionValue=St=>!!(St&&St.getVelocity),valueTypes=[...dimensionValueTypes,color$1,complex],findValueType=St=>valueTypes.find(testValueType(St)),MotionConfigContext=reactExports.createContext({transformPagePoint:St=>St,isStatic:!1,reducedMotion:"never"});class PopChildMeasure extends reactExports.Component{getSnapshotBeforeUpdate(er){const tr=this.props.childRef.current;if(tr&&er.isPresent&&!this.props.isPresent){const rr=tr.offsetParent,nr=isHTMLElement(rr)&&rr.offsetWidth||0,ar=this.props.sizeRef.current;ar.height=tr.offsetHeight||0,ar.width=tr.offsetWidth||0,ar.top=tr.offsetTop,ar.left=tr.offsetLeft,ar.right=nr-ar.width-ar.left}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:St,isPresent:er,anchorX:tr,root:rr}){const nr=reactExports.useId(),ar=reactExports.useRef(null),sr=reactExports.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:ir}=reactExports.useContext(MotionConfigContext);return reactExports.useInsertionEffect(()=>{const{width:or,height:lr,top:cr,left:ur,right:dr}=sr.current;if(er||!ar.current||!or||!lr)return;const fr=tr==="left"?`left: ${ur}`:`right: ${dr}`;ar.current.dataset.motionPopId=nr;const mr=document.createElement("style");ir&&(mr.nonce=ir);const xr=rr??document.head;return xr.appendChild(mr),mr.sheet&&mr.sheet.insertRule(`
          [data-motion-pop-id="${nr}"] {
            position: absolute !important;
            width: ${or}px !important;
            height: ${lr}px !important;
            ${fr}px !important;
            top: ${cr}px !important;
          }
        `),()=>{xr.removeChild(mr),xr.contains(mr)&&xr.removeChild(mr)}},[er]),jsxRuntimeExports.jsx(PopChildMeasure,{isPresent:er,childRef:ar,sizeRef:sr,children:reactExports.cloneElement(St,{ref:ar})})}const PresenceChild=({children:St,initial:er,isPresent:tr,onExitComplete:rr,custom:nr,presenceAffectsLayout:ar,mode:sr,anchorX:ir,root:or})=>{const lr=useConstant(newChildrenMap),cr=reactExports.useId();let ur=!0,dr=reactExports.useMemo(()=>(ur=!1,{id:cr,initial:er,isPresent:tr,custom:nr,onExitComplete:fr=>{lr.set(fr,!0);for(const mr of lr.values())if(!mr)return;rr&&rr()},register:fr=>(lr.set(fr,!1),()=>lr.delete(fr))}),[tr,lr,rr]);return ar&&ur&&(dr={...dr}),reactExports.useMemo(()=>{lr.forEach((fr,mr)=>lr.set(mr,!1))},[tr]),reactExports.useEffect(()=>{!tr&&!lr.size&&rr&&rr()},[tr]),sr==="popLayout"&&(St=jsxRuntimeExports.jsx(PopChild,{isPresent:tr,anchorX:ir,root:or,children:St})),jsxRuntimeExports.jsx(PresenceContext.Provider,{value:dr,children:St})};function newChildrenMap(){return new Map}function usePresence(St=!0){const er=reactExports.useContext(PresenceContext);if(er===null)return[!0,null];const{isPresent:tr,onExitComplete:rr,register:nr}=er,ar=reactExports.useId();reactExports.useEffect(()=>{if(St)return nr(ar)},[St]);const sr=reactExports.useCallback(()=>St&&rr&&rr(ar),[ar,rr,St]);return!tr&&rr?[!1,sr]:[!0]}const getChildKey=St=>St.key||"";function onlyElements(St){const er=[];return reactExports.Children.forEach(St,tr=>{reactExports.isValidElement(tr)&&er.push(tr)}),er}const AnimatePresence=({children:St,custom:er,initial:tr=!0,onExitComplete:rr,presenceAffectsLayout:nr=!0,mode:ar="sync",propagate:sr=!1,anchorX:ir="left",root:or})=>{const[lr,cr]=usePresence(sr),ur=reactExports.useMemo(()=>onlyElements(St),[St]),dr=sr&&!lr?[]:ur.map(getChildKey),fr=reactExports.useRef(!0),mr=reactExports.useRef(ur),xr=useConstant(()=>new Map),[pr,hr]=reactExports.useState(ur),[gr,vr]=reactExports.useState(ur);useIsomorphicLayoutEffect$1(()=>{fr.current=!1,mr.current=ur;for(let Er=0;Er<gr.length;Er++){const jr=getChildKey(gr[Er]);dr.includes(jr)?xr.delete(jr):xr.get(jr)!==!0&&xr.set(jr,!1)}},[gr,dr.length,dr.join("-")]);const br=[];if(ur!==pr){let Er=[...ur];for(let jr=0;jr<gr.length;jr++){const _r=gr[jr],Cr=getChildKey(_r);dr.includes(Cr)||(Er.splice(jr,0,_r),br.push(_r))}return ar==="wait"&&br.length&&(Er=br),vr(onlyElements(Er)),hr(ur),null}const{forceRender:yr}=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:gr.map(Er=>{const jr=getChildKey(Er),_r=sr&&!lr?!1:ur===gr||dr.includes(jr),Cr=()=>{if(xr.has(jr))xr.set(jr,!0);else return;let Or=!0;xr.forEach(Pr=>{Pr||(Or=!1)}),Or&&(yr==null||yr(),vr(mr.current),sr&&(cr==null||cr()),rr&&rr())};return jsxRuntimeExports.jsx(PresenceChild,{isPresent:_r,initial:!fr.current||tr?void 0:!1,custom:er,presenceAffectsLayout:nr,mode:ar,root:or,onExitComplete:_r?void 0:Cr,anchorX:ir,children:Er},jr)})})},LazyContext=reactExports.createContext({strict:!1}),featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const St in featureProps)featureDefinitions[St]={isEnabled:er=>featureProps[St].some(tr=>!!er[tr])};function loadFeatures(St){for(const er in St)featureDefinitions[er]={...featureDefinitions[er],...St[er]}}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(St){return St.startsWith("while")||St.startsWith("drag")&&St!=="draggable"||St.startsWith("layout")||St.startsWith("onTap")||St.startsWith("onPan")||St.startsWith("onLayout")||validMotionProps.has(St)}let shouldForward=St=>!isValidMotionProp(St);function loadExternalIsValidProp(St){typeof St=="function"&&(shouldForward=er=>er.startsWith("on")?!isValidMotionProp(er):St(er))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps$1(St,er,tr){const rr={};for(const nr in St)nr==="values"&&typeof St.values=="object"||(shouldForward(nr)||tr===!0&&isValidMotionProp(nr)||!er&&!isValidMotionProp(nr)||St.draggable&&nr.startsWith("onDrag"))&&(rr[nr]=St[nr]);return rr}function createDOMMotionComponentProxy(St){if(typeof Proxy>"u")return St;const er=new Map,tr=(...rr)=>St(...rr);return new Proxy(tr,{get:(rr,nr)=>nr==="create"?St:(er.has(nr)||er.set(nr,St(nr)),er.get(nr))})}const MotionContext=reactExports.createContext({});function isAnimationControls(St){return St!==null&&typeof St=="object"&&typeof St.start=="function"}function isVariantLabel(St){return typeof St=="string"||Array.isArray(St)}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants(St){return isAnimationControls(St.animate)||variantProps.some(er=>isVariantLabel(St[er]))}function isVariantNode(St){return!!(isControllingVariants(St)||St.variants)}function getCurrentTreeVariants(St,er){if(isControllingVariants(St)){const{initial:tr,animate:rr}=St;return{initial:tr===!1||isVariantLabel(tr)?tr:void 0,animate:isVariantLabel(rr)?rr:void 0}}return St.inherit!==!1?er:{}}function useCreateMotionContext(St){const{initial:er,animate:tr}=getCurrentTreeVariants(St,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:er,animate:tr}),[variantLabelsAsDependency(er),variantLabelsAsDependency(tr)])}function variantLabelsAsDependency(St){return Array.isArray(St)?St.join(" "):St}const motionComponentSymbol=Symbol.for("motionComponentSymbol");function isRefObject(St){return St&&typeof St=="object"&&Object.prototype.hasOwnProperty.call(St,"current")}function useMotionRef(St,er,tr){return reactExports.useCallback(rr=>{rr&&St.onMount&&St.onMount(rr),er&&(rr?er.mount(rr):er.unmount()),tr&&(typeof tr=="function"?tr(rr):isRefObject(tr)&&(tr.current=rr))},[er])}const camelToDash=St=>St.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId),SwitchLayoutGroupContext=reactExports.createContext({});function useVisualElement(St,er,tr,rr,nr){var xr,pr;const{visualElement:ar}=reactExports.useContext(MotionContext),sr=reactExports.useContext(LazyContext),ir=reactExports.useContext(PresenceContext),or=reactExports.useContext(MotionConfigContext).reducedMotion,lr=reactExports.useRef(null);rr=rr||sr.renderer,!lr.current&&rr&&(lr.current=rr(St,{visualState:er,parent:ar,props:tr,presenceContext:ir,blockInitialAnimation:ir?ir.initial===!1:!1,reducedMotionConfig:or}));const cr=lr.current,ur=reactExports.useContext(SwitchLayoutGroupContext);cr&&!cr.projection&&nr&&(cr.type==="html"||cr.type==="svg")&&createProjectionNode$1(lr.current,tr,nr,ur);const dr=reactExports.useRef(!1);reactExports.useInsertionEffect(()=>{cr&&dr.current&&cr.update(tr,ir)});const fr=tr[optimizedAppearDataAttribute],mr=reactExports.useRef(!!fr&&!((xr=window.MotionHandoffIsComplete)!=null&&xr.call(window,fr))&&((pr=window.MotionHasOptimisedAnimation)==null?void 0:pr.call(window,fr)));return useIsomorphicLayoutEffect$1(()=>{cr&&(dr.current=!0,window.MotionIsMounted=!0,cr.updateFeatures(),microtask.render(cr.render),mr.current&&cr.animationState&&cr.animationState.animateChanges())}),reactExports.useEffect(()=>{cr&&(!mr.current&&cr.animationState&&cr.animationState.animateChanges(),mr.current&&(queueMicrotask(()=>{var hr;(hr=window.MotionHandoffMarkAsComplete)==null||hr.call(window,fr)}),mr.current=!1))}),cr}function createProjectionNode$1(St,er,tr,rr){const{layoutId:nr,layout:ar,drag:sr,dragConstraints:ir,layoutScroll:or,layoutRoot:lr,layoutCrossfade:cr}=er;St.projection=new tr(St.latestValues,er["data-framer-portal-id"]?void 0:getClosestProjectingNode(St.parent)),St.projection.setOptions({layoutId:nr,layout:ar,alwaysMeasureLayout:!!sr||ir&&isRefObject(ir),visualElement:St,animationType:typeof ar=="string"?ar:"both",initialPromotionConfig:rr,crossfade:cr,layoutScroll:or,layoutRoot:lr})}function getClosestProjectingNode(St){if(St)return St.options.allowProjection!==!1?St.projection:getClosestProjectingNode(St.parent)}function createRendererMotionComponent({preloadedFeatures:St,createVisualElement:er,useRender:tr,useVisualState:rr,Component:nr}){St&&loadFeatures(St);function ar(ir,or){let lr;const cr={...reactExports.useContext(MotionConfigContext),...ir,layoutId:useLayoutId(ir)},{isStatic:ur}=cr,dr=useCreateMotionContext(ir),fr=rr(ir,ur);if(!ur&&isBrowser){useStrictMode();const mr=getProjectionFunctionality(cr);lr=mr.MeasureLayout,dr.visualElement=useVisualElement(nr,fr,cr,er,mr.ProjectionNode)}return jsxRuntimeExports.jsxs(MotionContext.Provider,{value:dr,children:[lr&&dr.visualElement?jsxRuntimeExports.jsx(lr,{visualElement:dr.visualElement,...cr}):null,tr(nr,ir,useMotionRef(fr,dr.visualElement,or),fr,ur,dr.visualElement)]})}ar.displayName=`motion.${typeof nr=="string"?nr:`create(${nr.displayName??nr.name??""})`}`;const sr=reactExports.forwardRef(ar);return sr[motionComponentSymbol]=nr,sr}function useLayoutId({layoutId:St}){const er=reactExports.useContext(LayoutGroupContext).id;return er&&St!==void 0?er+"-"+St:St}function useStrictMode(St,er){reactExports.useContext(LazyContext).strict}function getProjectionFunctionality(St){const{drag:er,layout:tr}=featureDefinitions;if(!er&&!tr)return{};const rr={...er,...tr};return{MeasureLayout:er!=null&&er.isEnabled(St)||tr!=null&&tr.isEnabled(St)?rr.MeasureLayout:void 0,ProjectionNode:rr.ProjectionNode}}const scaleCorrectors={};function addScaleCorrector(St){for(const er in St)scaleCorrectors[er]=St[er],isCSSVariableName(er)&&(scaleCorrectors[er].isCSSVariable=!0)}function isForcedMotionValue(St,{layout:er,layoutId:tr}){return transformProps.has(St)||St.startsWith("origin")||(er||tr!==void 0)&&(!!scaleCorrectors[St]||St==="opacity")}const translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(St,er,tr){let rr="",nr=!0;for(let ar=0;ar<numTransforms;ar++){const sr=transformPropOrder[ar],ir=St[sr];if(ir===void 0)continue;let or=!0;if(typeof ir=="number"?or=ir===(sr.startsWith("scale")?1:0):or=parseFloat(ir)===0,!or||tr){const lr=getValueAsType(ir,numberValueTypes[sr]);if(!or){nr=!1;const cr=translateAlias[sr]||sr;rr+=`${cr}(${lr}) `}tr&&(er[sr]=lr)}}return rr=rr.trim(),tr?rr=tr(er,nr?"":rr):nr&&(rr="none"),rr}function buildHTMLStyles(St,er,tr){const{style:rr,vars:nr,transformOrigin:ar}=St;let sr=!1,ir=!1;for(const or in er){const lr=er[or];if(transformProps.has(or)){sr=!0;continue}else if(isCSSVariableName(or)){nr[or]=lr;continue}else{const cr=getValueAsType(lr,numberValueTypes[or]);or.startsWith("origin")?(ir=!0,ar[or]=cr):rr[or]=cr}}if(er.transform||(sr||tr?rr.transform=buildTransform(er,St.transform,tr):rr.transform&&(rr.transform="none")),ir){const{originX:or="50%",originY:lr="50%",originZ:cr=0}=ar;rr.transformOrigin=`${or} ${lr} ${cr}`}}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function copyRawValuesOnly(St,er,tr){for(const rr in er)!isMotionValue(er[rr])&&!isForcedMotionValue(rr,tr)&&(St[rr]=er[rr])}function useInitialMotionValues({transformTemplate:St},er){return reactExports.useMemo(()=>{const tr=createHtmlRenderState();return buildHTMLStyles(tr,er,St),Object.assign({},tr.vars,tr.style)},[er])}function useStyle(St,er){const tr=St.style||{},rr={};return copyRawValuesOnly(rr,tr,St),Object.assign(rr,useInitialMotionValues(St,er)),rr}function useHTMLProps(St,er){const tr={},rr=useStyle(St,er);return St.drag&&St.dragListener!==!1&&(tr.draggable=!1,rr.userSelect=rr.WebkitUserSelect=rr.WebkitTouchCallout="none",rr.touchAction=St.drag===!0?"none":`pan-${St.drag==="x"?"y":"x"}`),St.tabIndex===void 0&&(St.onTap||St.onTapStart||St.whileTap)&&(tr.tabIndex=0),tr.style=rr,tr}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(St,er,tr=1,rr=0,nr=!0){St.pathLength=1;const ar=nr?dashKeys:camelKeys;St[ar.offset]=px.transform(-rr);const sr=px.transform(er),ir=px.transform(tr);St[ar.array]=`${sr} ${ir}`}function buildSVGAttrs(St,{attrX:er,attrY:tr,attrScale:rr,pathLength:nr,pathSpacing:ar=1,pathOffset:sr=0,...ir},or,lr,cr){if(buildHTMLStyles(St,ir,lr),or){St.style.viewBox&&(St.attrs.viewBox=St.style.viewBox);return}St.attrs=St.style,St.style={};const{attrs:ur,style:dr}=St;ur.transform&&(dr.transform=ur.transform,delete ur.transform),(dr.transform||ur.transformOrigin)&&(dr.transformOrigin=ur.transformOrigin??"50% 50%",delete ur.transformOrigin),dr.transform&&(dr.transformBox=(cr==null?void 0:cr.transformBox)??"fill-box",delete ur.transformBox),er!==void 0&&(ur.x=er),tr!==void 0&&(ur.y=tr),rr!==void 0&&(ur.scale=rr),nr!==void 0&&buildSVGPath(ur,nr,ar,sr,!1)}const createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=St=>typeof St=="string"&&St.toLowerCase()==="svg";function useSVGProps(St,er,tr,rr){const nr=reactExports.useMemo(()=>{const ar=createSvgRenderState();return buildSVGAttrs(ar,er,isSVGTag(rr),St.transformTemplate,St.style),{...ar.attrs,style:{...ar.style}}},[er]);if(St.style){const ar={};copyRawValuesOnly(ar,St.style,St),nr.style={...ar,...nr.style}}return nr}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(St){return typeof St!="string"||St.includes("-")?!1:!!(lowercaseSVGElements.indexOf(St)>-1||/[A-Z]/u.test(St))}function createUseRender(St=!1){return(tr,rr,nr,{latestValues:ar},sr)=>{const or=(isSVGComponent(tr)?useSVGProps:useHTMLProps)(rr,ar,sr,tr),lr=filterProps$1(rr,typeof tr=="string",St),cr=tr!==reactExports.Fragment?{...lr,...or,ref:nr}:{},{children:ur}=rr,dr=reactExports.useMemo(()=>isMotionValue(ur)?ur.get():ur,[ur]);return reactExports.createElement(tr,{...cr,children:dr})}}function getValueState(St){const er=[{},{}];return St==null||St.values.forEach((tr,rr)=>{er[0][rr]=tr.get(),er[1][rr]=tr.getVelocity()}),er}function resolveVariantFromProps(St,er,tr,rr){if(typeof er=="function"){const[nr,ar]=getValueState(rr);er=er(tr!==void 0?tr:St.custom,nr,ar)}if(typeof er=="string"&&(er=St.variants&&St.variants[er]),typeof er=="function"){const[nr,ar]=getValueState(rr);er=er(tr!==void 0?tr:St.custom,nr,ar)}return er}function resolveMotionValue(St){return isMotionValue(St)?St.get():St}function makeState({scrapeMotionValuesFromProps:St,createRenderState:er},tr,rr,nr){return{latestValues:makeLatestValues(tr,rr,nr,St),renderState:er()}}const makeUseVisualState=St=>(er,tr)=>{const rr=reactExports.useContext(MotionContext),nr=reactExports.useContext(PresenceContext),ar=()=>makeState(St,er,rr,nr);return tr?ar():useConstant(ar)};function makeLatestValues(St,er,tr,rr){const nr={},ar=rr(St,{});for(const dr in ar)nr[dr]=resolveMotionValue(ar[dr]);let{initial:sr,animate:ir}=St;const or=isControllingVariants(St),lr=isVariantNode(St);er&&lr&&!or&&St.inherit!==!1&&(sr===void 0&&(sr=er.initial),ir===void 0&&(ir=er.animate));let cr=tr?tr.initial===!1:!1;cr=cr||sr===!1;const ur=cr?ir:sr;if(ur&&typeof ur!="boolean"&&!isAnimationControls(ur)){const dr=Array.isArray(ur)?ur:[ur];for(let fr=0;fr<dr.length;fr++){const mr=resolveVariantFromProps(St,dr[fr]);if(mr){const{transitionEnd:xr,transition:pr,...hr}=mr;for(const gr in hr){let vr=hr[gr];if(Array.isArray(vr)){const br=cr?vr.length-1:0;vr=vr[br]}vr!==null&&(nr[gr]=vr)}for(const gr in xr)nr[gr]=xr[gr]}}}return nr}function scrapeMotionValuesFromProps$1(St,er,tr){var ar;const{style:rr}=St,nr={};for(const sr in rr)(isMotionValue(rr[sr])||er.style&&isMotionValue(er.style[sr])||isForcedMotionValue(sr,St)||((ar=tr==null?void 0:tr.getValue(sr))==null?void 0:ar.liveStyle)!==void 0)&&(nr[sr]=rr[sr]);return nr}const htmlMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState})};function scrapeMotionValuesFromProps(St,er,tr){const rr=scrapeMotionValuesFromProps$1(St,er,tr);for(const nr in St)if(isMotionValue(St[nr])||isMotionValue(er[nr])){const ar=transformPropOrder.indexOf(nr)!==-1?"attr"+nr.charAt(0).toUpperCase()+nr.substring(1):nr;rr[ar]=St[nr]}return rr}const svgMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState})};function createMotionComponentFactory(St,er){return function(rr,{forwardMotionProps:nr}={forwardMotionProps:!1}){const sr={...isSVGComponent(rr)?svgMotionConfig:htmlMotionConfig,preloadedFeatures:St,useRender:createUseRender(nr),createVisualElement:er,Component:rr};return createRendererMotionComponent(sr)}}function resolveVariant(St,er,tr){const rr=St.getProps();return resolveVariantFromProps(rr,er,tr!==void 0?tr:rr.custom,St)}const isKeyframesTarget=St=>Array.isArray(St);function setMotionValue(St,er,tr){St.hasValue(er)?St.getValue(er).set(tr):St.addValue(er,motionValue(tr))}function resolveFinalValueInKeyframes(St){return isKeyframesTarget(St)?St[St.length-1]||0:St}function setTarget(St,er){const tr=resolveVariant(St,er);let{transitionEnd:rr={},transition:nr={},...ar}=tr||{};ar={...ar,...rr};for(const sr in ar){const ir=resolveFinalValueInKeyframes(ar[sr]);setMotionValue(St,sr,ir)}}function isWillChangeMotionValue(St){return!!(isMotionValue(St)&&St.add)}function addValueToWillChange(St,er){const tr=St.getValue("willChange");if(isWillChangeMotionValue(tr))return tr.add(er);if(!tr&&MotionGlobalConfig.WillChange){const rr=new MotionGlobalConfig.WillChange("auto");St.addValue("willChange",rr),rr.add(er)}}function getOptimisedAppearId(St){return St.props[optimizedAppearDataAttribute]}const isNotNull=St=>St!==null;function getFinalKeyframe(St,{repeat:er,repeatType:tr="loop"},rr){const nr=St.filter(isNotNull),ar=er&&tr!=="loop"&&er%2===1?0:nr.length-1;return nr[ar]}const underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=St=>({type:"spring",stiffness:550,damping:St===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(St,{keyframes:er})=>er.length>2?keyframesTransition:transformProps.has(St)?St.startsWith("scale")?criticallyDampedSpring(er[1]):underDampedSpring:ease;function isTransitionDefined({when:St,delay:er,delayChildren:tr,staggerChildren:rr,staggerDirection:nr,repeat:ar,repeatType:sr,repeatDelay:ir,from:or,elapsed:lr,...cr}){return!!Object.keys(cr).length}const animateMotionValue=(St,er,tr,rr={},nr,ar)=>sr=>{const ir=getValueTransition(rr,St)||{},or=ir.delay||rr.delay||0;let{elapsed:lr=0}=rr;lr=lr-secondsToMilliseconds(or);const cr={keyframes:Array.isArray(tr)?tr:[null,tr],ease:"easeOut",velocity:er.getVelocity(),...ir,delay:-lr,onUpdate:dr=>{er.set(dr),ir.onUpdate&&ir.onUpdate(dr)},onComplete:()=>{sr(),ir.onComplete&&ir.onComplete()},name:St,motionValue:er,element:ar?void 0:nr};isTransitionDefined(ir)||Object.assign(cr,getDefaultTransition(St,cr)),cr.duration&&(cr.duration=secondsToMilliseconds(cr.duration)),cr.repeatDelay&&(cr.repeatDelay=secondsToMilliseconds(cr.repeatDelay)),cr.from!==void 0&&(cr.keyframes[0]=cr.from);let ur=!1;if((cr.type===!1||cr.duration===0&&!cr.repeatDelay)&&(cr.duration=0,cr.delay===0&&(ur=!0)),(MotionGlobalConfig.instantAnimations||MotionGlobalConfig.skipAnimations)&&(ur=!0,cr.duration=0,cr.delay=0),cr.allowFlatten=!ir.type&&!ir.ease,ur&&!ar&&er.get()!==void 0){const dr=getFinalKeyframe(cr.keyframes,ir);if(dr!==void 0){frame.update(()=>{cr.onUpdate(dr),cr.onComplete()});return}}return ir.isSync?new JSAnimation(cr):new AsyncMotionValueAnimation(cr)};function shouldBlockAnimation({protectedKeys:St,needsAnimating:er},tr){const rr=St.hasOwnProperty(tr)&&er[tr]!==!0;return er[tr]=!1,rr}function animateTarget(St,er,{delay:tr=0,transitionOverride:rr,type:nr}={}){let{transition:ar=St.getDefaultTransition(),transitionEnd:sr,...ir}=er;rr&&(ar=rr);const or=[],lr=nr&&St.animationState&&St.animationState.getState()[nr];for(const cr in ir){const ur=St.getValue(cr,St.latestValues[cr]??null),dr=ir[cr];if(dr===void 0||lr&&shouldBlockAnimation(lr,cr))continue;const fr={delay:tr,...getValueTransition(ar||{},cr)},mr=ur.get();if(mr!==void 0&&!ur.isAnimating&&!Array.isArray(dr)&&dr===mr&&!fr.velocity)continue;let xr=!1;if(window.MotionHandoffAnimation){const hr=getOptimisedAppearId(St);if(hr){const gr=window.MotionHandoffAnimation(hr,cr,frame);gr!==null&&(fr.startTime=gr,xr=!0)}}addValueToWillChange(St,cr),ur.start(animateMotionValue(cr,ur,dr,St.shouldReduceMotion&&positionalKeys.has(cr)?{type:!1}:fr,St,xr));const pr=ur.animation;pr&&or.push(pr)}return sr&&Promise.all(or).then(()=>{frame.update(()=>{sr&&setTarget(St,sr)})}),or}function animateVariant(St,er,tr={}){var or;const rr=resolveVariant(St,er,tr.type==="exit"?(or=St.presenceContext)==null?void 0:or.custom:void 0);let{transition:nr=St.getDefaultTransition()||{}}=rr||{};tr.transitionOverride&&(nr=tr.transitionOverride);const ar=rr?()=>Promise.all(animateTarget(St,rr,tr)):()=>Promise.resolve(),sr=St.variantChildren&&St.variantChildren.size?(lr=0)=>{const{delayChildren:cr=0,staggerChildren:ur,staggerDirection:dr}=nr;return animateChildren(St,er,lr,cr,ur,dr,tr)}:()=>Promise.resolve(),{when:ir}=nr;if(ir){const[lr,cr]=ir==="beforeChildren"?[ar,sr]:[sr,ar];return lr().then(()=>cr())}else return Promise.all([ar(),sr(tr.delay)])}function animateChildren(St,er,tr=0,rr=0,nr=0,ar=1,sr){const ir=[],or=St.variantChildren.size,lr=(or-1)*nr,cr=typeof rr=="function",ur=cr?dr=>rr(dr,or):ar===1?(dr=0)=>dr*nr:(dr=0)=>lr-dr*nr;return Array.from(St.variantChildren).sort(sortByTreeOrder).forEach((dr,fr)=>{dr.notify("AnimationStart",er),ir.push(animateVariant(dr,er,{...sr,delay:tr+(cr?0:rr)+ur(fr)}).then(()=>dr.notify("AnimationComplete",er)))}),Promise.all(ir)}function sortByTreeOrder(St,er){return St.sortNodePosition(er)}function animateVisualElement(St,er,tr={}){St.notify("AnimationStart",er);let rr;if(Array.isArray(er)){const nr=er.map(ar=>animateVariant(St,ar,tr));rr=Promise.all(nr)}else if(typeof er=="string")rr=animateVariant(St,er,tr);else{const nr=typeof er=="function"?resolveVariant(St,er,tr.custom):er;rr=Promise.all(animateTarget(St,nr,tr))}return rr.then(()=>{St.notify("AnimationComplete",er)})}function shallowCompare(St,er){if(!Array.isArray(er))return!1;const tr=er.length;if(tr!==St.length)return!1;for(let rr=0;rr<tr;rr++)if(er[rr]!==St[rr])return!1;return!0}const numVariantProps=variantProps.length;function getVariantContext(St){if(!St)return;if(!St.isControllingVariants){const tr=St.parent?getVariantContext(St.parent)||{}:{};return St.props.initial!==void 0&&(tr.initial=St.props.initial),tr}const er={};for(let tr=0;tr<numVariantProps;tr++){const rr=variantProps[tr],nr=St.props[rr];(isVariantLabel(nr)||nr===!1)&&(er[rr]=nr)}return er}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(St){return er=>Promise.all(er.map(({animation:tr,options:rr})=>animateVisualElement(St,tr,rr)))}function createAnimationState(St){let er=animateList(St),tr=createState(),rr=!0;const nr=or=>(lr,cr)=>{var dr;const ur=resolveVariant(St,cr,or==="exit"?(dr=St.presenceContext)==null?void 0:dr.custom:void 0);if(ur){const{transition:fr,transitionEnd:mr,...xr}=ur;lr={...lr,...xr,...mr}}return lr};function ar(or){er=or(St)}function sr(or){const{props:lr}=St,cr=getVariantContext(St.parent)||{},ur=[],dr=new Set;let fr={},mr=1/0;for(let pr=0;pr<numAnimationTypes;pr++){const hr=reversePriorityOrder[pr],gr=tr[hr],vr=lr[hr]!==void 0?lr[hr]:cr[hr],br=isVariantLabel(vr),yr=hr===or?gr.isActive:null;yr===!1&&(mr=pr);let Er=vr===cr[hr]&&vr!==lr[hr]&&br;if(Er&&rr&&St.manuallyAnimateOnMount&&(Er=!1),gr.protectedKeys={...fr},!gr.isActive&&yr===null||!vr&&!gr.prevProp||isAnimationControls(vr)||typeof vr=="boolean")continue;const jr=checkVariantsDidChange(gr.prevProp,vr);let _r=jr||hr===or&&gr.isActive&&!Er&&br||pr>mr&&br,Cr=!1;const Or=Array.isArray(vr)?vr:[vr];let Pr=Or.reduce(nr(hr),{});yr===!1&&(Pr={});const{prevResolvedValues:Lr={}}=gr,Gr={...Lr,...Pr},Kr=zr=>{_r=!0,dr.has(zr)&&(Cr=!0,dr.delete(zr)),gr.needsAnimating[zr]=!0;const Vr=St.getValue(zr);Vr&&(Vr.liveStyle=!1)};for(const zr in Gr){const Vr=Pr[zr],Jr=Lr[zr];if(fr.hasOwnProperty(zr))continue;let tn=!1;isKeyframesTarget(Vr)&&isKeyframesTarget(Jr)?tn=!shallowCompare(Vr,Jr):tn=Vr!==Jr,tn?Vr!=null?Kr(zr):dr.add(zr):Vr!==void 0&&dr.has(zr)?Kr(zr):gr.protectedKeys[zr]=!0}gr.prevProp=vr,gr.prevResolvedValues=Pr,gr.isActive&&(fr={...fr,...Pr}),rr&&St.blockInitialAnimation&&(_r=!1),_r&&(!(Er&&jr)||Cr)&&ur.push(...Or.map(zr=>({animation:zr,options:{type:hr}})))}if(dr.size){const pr={};if(typeof lr.initial!="boolean"){const hr=resolveVariant(St,Array.isArray(lr.initial)?lr.initial[0]:lr.initial);hr&&hr.transition&&(pr.transition=hr.transition)}dr.forEach(hr=>{const gr=St.getBaseTarget(hr),vr=St.getValue(hr);vr&&(vr.liveStyle=!0),pr[hr]=gr??null}),ur.push({animation:pr})}let xr=!!ur.length;return rr&&(lr.initial===!1||lr.initial===lr.animate)&&!St.manuallyAnimateOnMount&&(xr=!1),rr=!1,xr?er(ur):Promise.resolve()}function ir(or,lr){var ur;if(tr[or].isActive===lr)return Promise.resolve();(ur=St.variantChildren)==null||ur.forEach(dr=>{var fr;return(fr=dr.animationState)==null?void 0:fr.setActive(or,lr)}),tr[or].isActive=lr;const cr=sr(or);for(const dr in tr)tr[dr].protectedKeys={};return cr}return{animateChanges:sr,setActive:ir,setAnimateFunction:ar,getState:()=>tr,reset:()=>{tr=createState(),rr=!0}}}function checkVariantsDidChange(St,er){return typeof er=="string"?er!==St:Array.isArray(er)?!shallowCompare(er,St):!1}function createTypeState(St=!1){return{isActive:St,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class Feature{constructor(er){this.isMounted=!1,this.node=er}update(){}}class AnimationFeature extends Feature{constructor(er){super(er),er.animationState||(er.animationState=createAnimationState(er))}updateAnimationControlsSubscription(){const{animate:er}=this.node.getProps();isAnimationControls(er)&&(this.unmountControls=er.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:er}=this.node.getProps(),{animate:tr}=this.node.prevProps||{};er!==tr&&this.updateAnimationControlsSubscription()}unmount(){var er;this.node.animationState.reset(),(er=this.unmountControls)==null||er.call(this)}}let id$1=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$1++}update(){if(!this.node.presenceContext)return;const{isPresent:er,onExitComplete:tr}=this.node.presenceContext,{isPresent:rr}=this.node.prevPresenceContext||{};if(!this.node.animationState||er===rr)return;const nr=this.node.animationState.setActive("exit",!er);tr&&!er&&nr.then(()=>{tr(this.id)})}mount(){const{register:er,onExitComplete:tr}=this.node.presenceContext||{};tr&&tr(this.id),er&&(this.unmount=er(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}};function addDomEvent(St,er,tr,rr={passive:!0}){return St.addEventListener(er,tr,rr),()=>St.removeEventListener(er,tr)}function extractEventInfo(St){return{point:{x:St.pageX,y:St.pageY}}}const addPointerInfo=St=>er=>isPrimaryPointer(er)&&St(er,extractEventInfo(er));function addPointerEvent(St,er,tr,rr){return addDomEvent(St,er,addPointerInfo(tr),rr)}function convertBoundingBoxToBox({top:St,left:er,right:tr,bottom:rr}){return{x:{min:er,max:tr},y:{min:St,max:rr}}}function convertBoxToBoundingBox({x:St,y:er}){return{top:er.min,right:St.max,bottom:er.max,left:St.min}}function transformBoxPoints(St,er){if(!er)return St;const tr=er({x:St.left,y:St.top}),rr=er({x:St.right,y:St.bottom});return{top:tr.y,left:tr.x,bottom:rr.y,right:rr.x}}const SCALE_PRECISION=1e-4,SCALE_MIN=1-SCALE_PRECISION,SCALE_MAX=1+SCALE_PRECISION,TRANSLATE_PRECISION=.01,TRANSLATE_MIN=0-TRANSLATE_PRECISION,TRANSLATE_MAX=0+TRANSLATE_PRECISION;function calcLength(St){return St.max-St.min}function isNear(St,er,tr){return Math.abs(St-er)<=tr}function calcAxisDelta(St,er,tr,rr=.5){St.origin=rr,St.originPoint=mixNumber$1(er.min,er.max,St.origin),St.scale=calcLength(tr)/calcLength(er),St.translate=mixNumber$1(tr.min,tr.max,St.origin)-St.originPoint,(St.scale>=SCALE_MIN&&St.scale<=SCALE_MAX||isNaN(St.scale))&&(St.scale=1),(St.translate>=TRANSLATE_MIN&&St.translate<=TRANSLATE_MAX||isNaN(St.translate))&&(St.translate=0)}function calcBoxDelta(St,er,tr,rr){calcAxisDelta(St.x,er.x,tr.x,rr?rr.originX:void 0),calcAxisDelta(St.y,er.y,tr.y,rr?rr.originY:void 0)}function calcRelativeAxis(St,er,tr){St.min=tr.min+er.min,St.max=St.min+calcLength(er)}function calcRelativeBox(St,er,tr){calcRelativeAxis(St.x,er.x,tr.x),calcRelativeAxis(St.y,er.y,tr.y)}function calcRelativeAxisPosition(St,er,tr){St.min=er.min-tr.min,St.max=St.min+calcLength(er)}function calcRelativePosition(St,er,tr){calcRelativeAxisPosition(St.x,er.x,tr.x),calcRelativeAxisPosition(St.y,er.y,tr.y)}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()});function eachAxis(St){return[St("x"),St("y")]}function isIdentityScale(St){return St===void 0||St===1}function hasScale({scale:St,scaleX:er,scaleY:tr}){return!isIdentityScale(St)||!isIdentityScale(er)||!isIdentityScale(tr)}function hasTransform(St){return hasScale(St)||has2DTranslate(St)||St.z||St.rotate||St.rotateX||St.rotateY||St.skewX||St.skewY}function has2DTranslate(St){return is2DTranslate(St.x)||is2DTranslate(St.y)}function is2DTranslate(St){return St&&St!=="0%"}function scalePoint(St,er,tr){const rr=St-tr,nr=er*rr;return tr+nr}function applyPointDelta(St,er,tr,rr,nr){return nr!==void 0&&(St=scalePoint(St,nr,rr)),scalePoint(St,tr,rr)+er}function applyAxisDelta(St,er=0,tr=1,rr,nr){St.min=applyPointDelta(St.min,er,tr,rr,nr),St.max=applyPointDelta(St.max,er,tr,rr,nr)}function applyBoxDelta(St,{x:er,y:tr}){applyAxisDelta(St.x,er.translate,er.scale,er.originPoint),applyAxisDelta(St.y,tr.translate,tr.scale,tr.originPoint)}const TREE_SCALE_SNAP_MIN=.999999999999,TREE_SCALE_SNAP_MAX=1.0000000000001;function applyTreeDeltas(St,er,tr,rr=!1){const nr=tr.length;if(!nr)return;er.x=er.y=1;let ar,sr;for(let ir=0;ir<nr;ir++){ar=tr[ir],sr=ar.projectionDelta;const{visualElement:or}=ar.options;or&&or.props.style&&or.props.style.display==="contents"||(rr&&ar.options.layoutScroll&&ar.scroll&&ar!==ar.root&&transformBox(St,{x:-ar.scroll.offset.x,y:-ar.scroll.offset.y}),sr&&(er.x*=sr.x.scale,er.y*=sr.y.scale,applyBoxDelta(St,sr)),rr&&hasTransform(ar.latestValues)&&transformBox(St,ar.latestValues))}er.x<TREE_SCALE_SNAP_MAX&&er.x>TREE_SCALE_SNAP_MIN&&(er.x=1),er.y<TREE_SCALE_SNAP_MAX&&er.y>TREE_SCALE_SNAP_MIN&&(er.y=1)}function translateAxis(St,er){St.min=St.min+er,St.max=St.max+er}function transformAxis(St,er,tr,rr,nr=.5){const ar=mixNumber$1(St.min,St.max,nr);applyAxisDelta(St,er,tr,ar,rr)}function transformBox(St,er){transformAxis(St.x,er.x,er.scaleX,er.scale,er.originX),transformAxis(St.y,er.y,er.scaleY,er.scale,er.originY)}function measureViewportBox(St,er){return convertBoundingBoxToBox(transformBoxPoints(St.getBoundingClientRect(),er))}function measurePageBox(St,er,tr){const rr=measureViewportBox(St,tr),{scroll:nr}=er;return nr&&(translateAxis(rr.x,nr.offset.x),translateAxis(rr.y,nr.offset.y)),rr}const getContextWindow=({current:St})=>St?St.ownerDocument.defaultView:null,distance=(St,er)=>Math.abs(St-er);function distance2D(St,er){const tr=distance(St.x,er.x),rr=distance(St.y,er.y);return Math.sqrt(tr**2+rr**2)}class PanSession{constructor(er,tr,{transformPagePoint:rr,contextWindow:nr=window,dragSnapToOrigin:ar=!1,distanceThreshold:sr=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const dr=getPanInfo(this.lastMoveEventInfo,this.history),fr=this.startEvent!==null,mr=distance2D(dr.offset,{x:0,y:0})>=this.distanceThreshold;if(!fr&&!mr)return;const{point:xr}=dr,{timestamp:pr}=frameData;this.history.push({...xr,timestamp:pr});const{onStart:hr,onMove:gr}=this.handlers;fr||(hr&&hr(this.lastMoveEvent,dr),this.startEvent=this.lastMoveEvent),gr&&gr(this.lastMoveEvent,dr)},this.handlePointerMove=(dr,fr)=>{this.lastMoveEvent=dr,this.lastMoveEventInfo=transformPoint(fr,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(dr,fr)=>{this.end();const{onEnd:mr,onSessionEnd:xr,resumeAnimation:pr}=this.handlers;if(this.dragSnapToOrigin&&pr&&pr(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const hr=getPanInfo(dr.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(fr,this.transformPagePoint),this.history);this.startEvent&&mr&&mr(dr,hr),xr&&xr(dr,hr)},!isPrimaryPointer(er))return;this.dragSnapToOrigin=ar,this.handlers=tr,this.transformPagePoint=rr,this.distanceThreshold=sr,this.contextWindow=nr||window;const ir=extractEventInfo(er),or=transformPoint(ir,this.transformPagePoint),{point:lr}=or,{timestamp:cr}=frameData;this.history=[{...lr,timestamp:cr}];const{onSessionStart:ur}=tr;ur&&ur(er,getPanInfo(or,this.history)),this.removeListeners=pipe(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(er){this.handlers=er}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(St,er){return er?{point:er(St.point)}:St}function subtractPoint(St,er){return{x:St.x-er.x,y:St.y-er.y}}function getPanInfo({point:St},er){return{point:St,delta:subtractPoint(St,lastDevicePoint(er)),offset:subtractPoint(St,startDevicePoint(er)),velocity:getVelocity(er,.1)}}function startDevicePoint(St){return St[0]}function lastDevicePoint(St){return St[St.length-1]}function getVelocity(St,er){if(St.length<2)return{x:0,y:0};let tr=St.length-1,rr=null;const nr=lastDevicePoint(St);for(;tr>=0&&(rr=St[tr],!(nr.timestamp-rr.timestamp>secondsToMilliseconds(er)));)tr--;if(!rr)return{x:0,y:0};const ar=millisecondsToSeconds(nr.timestamp-rr.timestamp);if(ar===0)return{x:0,y:0};const sr={x:(nr.x-rr.x)/ar,y:(nr.y-rr.y)/ar};return sr.x===1/0&&(sr.x=0),sr.y===1/0&&(sr.y=0),sr}function applyConstraints(St,{min:er,max:tr},rr){return er!==void 0&&St<er?St=rr?mixNumber$1(er,St,rr.min):Math.max(St,er):tr!==void 0&&St>tr&&(St=rr?mixNumber$1(tr,St,rr.max):Math.min(St,tr)),St}function calcRelativeAxisConstraints(St,er,tr){return{min:er!==void 0?St.min+er:void 0,max:tr!==void 0?St.max+tr-(St.max-St.min):void 0}}function calcRelativeConstraints(St,{top:er,left:tr,bottom:rr,right:nr}){return{x:calcRelativeAxisConstraints(St.x,tr,nr),y:calcRelativeAxisConstraints(St.y,er,rr)}}function calcViewportAxisConstraints(St,er){let tr=er.min-St.min,rr=er.max-St.max;return er.max-er.min<St.max-St.min&&([tr,rr]=[rr,tr]),{min:tr,max:rr}}function calcViewportConstraints(St,er){return{x:calcViewportAxisConstraints(St.x,er.x),y:calcViewportAxisConstraints(St.y,er.y)}}function calcOrigin(St,er){let tr=.5;const rr=calcLength(St),nr=calcLength(er);return nr>rr?tr=progress(er.min,er.max-rr,St.min):rr>nr&&(tr=progress(St.min,St.max-nr,er.min)),clamp(0,1,tr)}function rebaseAxisConstraints(St,er){const tr={};return er.min!==void 0&&(tr.min=er.min-St.min),er.max!==void 0&&(tr.max=er.max-St.min),tr}const defaultElastic=.35;function resolveDragElastic(St=defaultElastic){return St===!1?St=0:St===!0&&(St=defaultElastic),{x:resolveAxisElastic(St,"left","right"),y:resolveAxisElastic(St,"top","bottom")}}function resolveAxisElastic(St,er,tr){return{min:resolvePointElastic(St,er),max:resolvePointElastic(St,tr)}}function resolvePointElastic(St,er){return typeof St=="number"?St:St[er]||0}const elementDragControls=new WeakMap;class VisualElementDragControls{constructor(er){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=er}start(er,{snapToCursor:tr=!1,distanceThreshold:rr}={}){const{presenceContext:nr}=this.visualElement;if(nr&&nr.isPresent===!1)return;const ar=ur=>{const{dragSnapToOrigin:dr}=this.getProps();dr?this.pauseAnimation():this.stopAnimation(),tr&&this.snapToCursor(extractEventInfo(ur).point)},sr=(ur,dr)=>{const{drag:fr,dragPropagation:mr,onDragStart:xr}=this.getProps();if(fr&&!mr&&(this.openDragLock&&this.openDragLock(),this.openDragLock=setDragLock(fr),!this.openDragLock))return;this.latestPointerEvent=ur,this.latestPanInfo=dr,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(hr=>{let gr=this.getAxisMotionValue(hr).get()||0;if(percent.test(gr)){const{projection:vr}=this.visualElement;if(vr&&vr.layout){const br=vr.layout.layoutBox[hr];br&&(gr=calcLength(br)*(parseFloat(gr)/100))}}this.originPoint[hr]=gr}),xr&&frame.postRender(()=>xr(ur,dr)),addValueToWillChange(this.visualElement,"transform");const{animationState:pr}=this.visualElement;pr&&pr.setActive("whileDrag",!0)},ir=(ur,dr)=>{this.latestPointerEvent=ur,this.latestPanInfo=dr;const{dragPropagation:fr,dragDirectionLock:mr,onDirectionLock:xr,onDrag:pr}=this.getProps();if(!fr&&!this.openDragLock)return;const{offset:hr}=dr;if(mr&&this.currentDirection===null){this.currentDirection=getCurrentDirection(hr),this.currentDirection!==null&&xr&&xr(this.currentDirection);return}this.updateAxis("x",dr.point,hr),this.updateAxis("y",dr.point,hr),this.visualElement.render(),pr&&pr(ur,dr)},or=(ur,dr)=>{this.latestPointerEvent=ur,this.latestPanInfo=dr,this.stop(ur,dr),this.latestPointerEvent=null,this.latestPanInfo=null},lr=()=>eachAxis(ur=>{var dr;return this.getAnimationState(ur)==="paused"&&((dr=this.getAxisMotionValue(ur).animation)==null?void 0:dr.play())}),{dragSnapToOrigin:cr}=this.getProps();this.panSession=new PanSession(er,{onSessionStart:ar,onStart:sr,onMove:ir,onSessionEnd:or,resumeAnimation:lr},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:cr,distanceThreshold:rr,contextWindow:getContextWindow(this.visualElement)})}stop(er,tr){const rr=er||this.latestPointerEvent,nr=tr||this.latestPanInfo,ar=this.isDragging;if(this.cancel(),!ar||!nr||!rr)return;const{velocity:sr}=nr;this.startAnimation(sr);const{onDragEnd:ir}=this.getProps();ir&&frame.postRender(()=>ir(rr,nr))}cancel(){this.isDragging=!1;const{projection:er,animationState:tr}=this.visualElement;er&&(er.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:rr}=this.getProps();!rr&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),tr&&tr.setActive("whileDrag",!1)}updateAxis(er,tr,rr){const{drag:nr}=this.getProps();if(!rr||!shouldDrag(er,nr,this.currentDirection))return;const ar=this.getAxisMotionValue(er);let sr=this.originPoint[er]+rr[er];this.constraints&&this.constraints[er]&&(sr=applyConstraints(sr,this.constraints[er],this.elastic[er])),ar.set(sr)}resolveConstraints(){var ar;const{dragConstraints:er,dragElastic:tr}=this.getProps(),rr=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(ar=this.visualElement.projection)==null?void 0:ar.layout,nr=this.constraints;er&&isRefObject(er)?this.constraints||(this.constraints=this.resolveRefConstraints()):er&&rr?this.constraints=calcRelativeConstraints(rr.layoutBox,er):this.constraints=!1,this.elastic=resolveDragElastic(tr),nr!==this.constraints&&rr&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(sr=>{this.constraints!==!1&&this.getAxisMotionValue(sr)&&(this.constraints[sr]=rebaseAxisConstraints(rr.layoutBox[sr],this.constraints[sr]))})}resolveRefConstraints(){const{dragConstraints:er,onMeasureDragConstraints:tr}=this.getProps();if(!er||!isRefObject(er))return!1;const rr=er.current,{projection:nr}=this.visualElement;if(!nr||!nr.layout)return!1;const ar=measurePageBox(rr,nr.root,this.visualElement.getTransformPagePoint());let sr=calcViewportConstraints(nr.layout.layoutBox,ar);if(tr){const ir=tr(convertBoxToBoundingBox(sr));this.hasMutatedConstraints=!!ir,ir&&(sr=convertBoundingBoxToBox(ir))}return sr}startAnimation(er){const{drag:tr,dragMomentum:rr,dragElastic:nr,dragTransition:ar,dragSnapToOrigin:sr,onDragTransitionEnd:ir}=this.getProps(),or=this.constraints||{},lr=eachAxis(cr=>{if(!shouldDrag(cr,tr,this.currentDirection))return;let ur=or&&or[cr]||{};sr&&(ur={min:0,max:0});const dr=nr?200:1e6,fr=nr?40:1e7,mr={type:"inertia",velocity:rr?er[cr]:0,bounceStiffness:dr,bounceDamping:fr,timeConstant:750,restDelta:1,restSpeed:10,...ar,...ur};return this.startAxisValueAnimation(cr,mr)});return Promise.all(lr).then(ir)}startAxisValueAnimation(er,tr){const rr=this.getAxisMotionValue(er);return addValueToWillChange(this.visualElement,er),rr.start(animateMotionValue(er,rr,0,tr,this.visualElement,!1))}stopAnimation(){eachAxis(er=>this.getAxisMotionValue(er).stop())}pauseAnimation(){eachAxis(er=>{var tr;return(tr=this.getAxisMotionValue(er).animation)==null?void 0:tr.pause()})}getAnimationState(er){var tr;return(tr=this.getAxisMotionValue(er).animation)==null?void 0:tr.state}getAxisMotionValue(er){const tr=`_drag${er.toUpperCase()}`,rr=this.visualElement.getProps(),nr=rr[tr];return nr||this.visualElement.getValue(er,(rr.initial?rr.initial[er]:void 0)||0)}snapToCursor(er){eachAxis(tr=>{const{drag:rr}=this.getProps();if(!shouldDrag(tr,rr,this.currentDirection))return;const{projection:nr}=this.visualElement,ar=this.getAxisMotionValue(tr);if(nr&&nr.layout){const{min:sr,max:ir}=nr.layout.layoutBox[tr];ar.set(er[tr]-mixNumber$1(sr,ir,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:er,dragConstraints:tr}=this.getProps(),{projection:rr}=this.visualElement;if(!isRefObject(tr)||!rr||!this.constraints)return;this.stopAnimation();const nr={x:0,y:0};eachAxis(sr=>{const ir=this.getAxisMotionValue(sr);if(ir&&this.constraints!==!1){const or=ir.get();nr[sr]=calcOrigin({min:or,max:or},this.constraints[sr])}});const{transformTemplate:ar}=this.visualElement.getProps();this.visualElement.current.style.transform=ar?ar({},""):"none",rr.root&&rr.root.updateScroll(),rr.updateLayout(),this.resolveConstraints(),eachAxis(sr=>{if(!shouldDrag(sr,er,null))return;const ir=this.getAxisMotionValue(sr),{min:or,max:lr}=this.constraints[sr];ir.set(mixNumber$1(or,lr,nr[sr]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const er=this.visualElement.current,tr=addPointerEvent(er,"pointerdown",or=>{const{drag:lr,dragListener:cr=!0}=this.getProps();lr&&cr&&this.start(or)}),rr=()=>{const{dragConstraints:or}=this.getProps();isRefObject(or)&&or.current&&(this.constraints=this.resolveRefConstraints())},{projection:nr}=this.visualElement,ar=nr.addEventListener("measure",rr);nr&&!nr.layout&&(nr.root&&nr.root.updateScroll(),nr.updateLayout()),frame.read(rr);const sr=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),ir=nr.addEventListener("didUpdate",({delta:or,hasLayoutChanged:lr})=>{this.isDragging&&lr&&(eachAxis(cr=>{const ur=this.getAxisMotionValue(cr);ur&&(this.originPoint[cr]+=or[cr].translate,ur.set(ur.get()+or[cr].translate))}),this.visualElement.render())});return()=>{sr(),tr(),ar(),ir&&ir()}}getProps(){const er=this.visualElement.getProps(),{drag:tr=!1,dragDirectionLock:rr=!1,dragPropagation:nr=!1,dragConstraints:ar=!1,dragElastic:sr=defaultElastic,dragMomentum:ir=!0}=er;return{...er,drag:tr,dragDirectionLock:rr,dragPropagation:nr,dragConstraints:ar,dragElastic:sr,dragMomentum:ir}}}function shouldDrag(St,er,tr){return(er===!0||er===St)&&(tr===null||tr===St)}function getCurrentDirection(St,er=10){let tr=null;return Math.abs(St.y)>er?tr="y":Math.abs(St.x)>er&&(tr="x"),tr}class DragGesture extends Feature{constructor(er){super(er),this.removeGroupControls=noop$7,this.removeListeners=noop$7,this.controls=new VisualElementDragControls(er)}mount(){const{dragControls:er}=this.node.getProps();er&&(this.removeGroupControls=er.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop$7}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=St=>(er,tr)=>{St&&frame.postRender(()=>St(er,tr))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop$7}onPointerDown(er){this.session=new PanSession(er,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:er,onPanStart:tr,onPan:rr,onPanEnd:nr}=this.node.getProps();return{onSessionStart:asyncHandler(er),onStart:asyncHandler(tr),onMove:rr,onEnd:(ar,sr)=>{delete this.session,nr&&frame.postRender(()=>nr(ar,sr))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",er=>this.onPointerDown(er))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(St,er){return er.max===er.min?0:St/(er.max-er.min)*100}const correctBorderRadius={correct:(St,er)=>{if(!er.target)return St;if(typeof St=="string")if(px.test(St))St=parseFloat(St);else return St;const tr=pixelsToPercent(St,er.target.x),rr=pixelsToPercent(St,er.target.y);return`${tr}% ${rr}%`}},correctBoxShadow={correct:(St,{treeScale:er,projectionDelta:tr})=>{const rr=St,nr=complex.parse(St);if(nr.length>5)return rr;const ar=complex.createTransformer(St),sr=typeof nr[0]!="number"?1:0,ir=tr.x.scale*er.x,or=tr.y.scale*er.y;nr[0+sr]/=ir,nr[1+sr]/=or;const lr=mixNumber$1(ir,or,.5);return typeof nr[2+sr]=="number"&&(nr[2+sr]/=lr),typeof nr[3+sr]=="number"&&(nr[3+sr]/=lr),ar(nr)}};let hasTakenAnySnapshot=!1;class MeasureLayoutWithContext extends reactExports.Component{componentDidMount(){const{visualElement:er,layoutGroup:tr,switchLayoutGroup:rr,layoutId:nr}=this.props,{projection:ar}=er;addScaleCorrector(defaultScaleCorrectors),ar&&(tr.group&&tr.group.add(ar),rr&&rr.register&&nr&&rr.register(ar),hasTakenAnySnapshot&&ar.root.didUpdate(),ar.addEventListener("animationComplete",()=>{this.safeToRemove()}),ar.setOptions({...ar.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(er){const{layoutDependency:tr,visualElement:rr,drag:nr,isPresent:ar}=this.props,{projection:sr}=rr;return sr&&(sr.isPresent=ar,hasTakenAnySnapshot=!0,nr||er.layoutDependency!==tr||tr===void 0||er.isPresent!==ar?sr.willUpdate():this.safeToRemove(),er.isPresent!==ar&&(ar?sr.promote():sr.relegate()||frame.postRender(()=>{const ir=sr.getStack();(!ir||!ir.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:er}=this.props.visualElement;er&&(er.root.didUpdate(),microtask.postRender(()=>{!er.currentAnimation&&er.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:er,layoutGroup:tr,switchLayoutGroup:rr}=this.props,{projection:nr}=er;nr&&(nr.scheduleCheckAfterUnmount(),tr&&tr.group&&tr.group.remove(nr),rr&&rr.deregister&&rr.deregister(nr))}safeToRemove(){const{safeToRemove:er}=this.props;er&&er()}render(){return null}}function MeasureLayout(St){const[er,tr]=usePresence(),rr=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(MeasureLayoutWithContext,{...St,layoutGroup:rr,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:er,safeToRemove:tr})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow};function animateSingleValue(St,er,tr){const rr=isMotionValue(St)?St:motionValue(St);return rr.start(animateMotionValue("",rr,er,tr)),rr.animation}const compareByDepth=(St,er)=>St.depth-er.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(er){addUniqueItem(this.children,er),this.isDirty=!0}remove(er){removeItem(this.children,er),this.isDirty=!0}forEach(er){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(er)}}function delay(St,er){const tr=time$1.now(),rr=({timestamp:nr})=>{const ar=nr-tr;ar>=er&&(cancelFrame(rr),St(ar-er))};return frame.setup(rr,!0),()=>cancelFrame(rr)}const borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=St=>typeof St=="string"?parseFloat(St):St,isPx=St=>typeof St=="number"||px.test(St);function mixValues(St,er,tr,rr,nr,ar){nr?(St.opacity=mixNumber$1(0,tr.opacity??1,easeCrossfadeIn(rr)),St.opacityExit=mixNumber$1(er.opacity??1,0,easeCrossfadeOut(rr))):ar&&(St.opacity=mixNumber$1(er.opacity??1,tr.opacity??1,rr));for(let sr=0;sr<numBorders;sr++){const ir=`border${borders[sr]}Radius`;let or=getRadius(er,ir),lr=getRadius(tr,ir);if(or===void 0&&lr===void 0)continue;or||(or=0),lr||(lr=0),or===0||lr===0||isPx(or)===isPx(lr)?(St[ir]=Math.max(mixNumber$1(asNumber(or),asNumber(lr),rr),0),(percent.test(lr)||percent.test(or))&&(St[ir]+="%")):St[ir]=lr}(er.rotate||tr.rotate)&&(St.rotate=mixNumber$1(er.rotate||0,tr.rotate||0,rr))}function getRadius(St,er){return St[er]!==void 0?St[er]:St.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop$7);function compress(St,er,tr){return rr=>rr<St?0:rr>er?1:tr(progress(St,er,rr))}function copyAxisInto(St,er){St.min=er.min,St.max=er.max}function copyBoxInto(St,er){copyAxisInto(St.x,er.x),copyAxisInto(St.y,er.y)}function copyAxisDeltaInto(St,er){St.translate=er.translate,St.scale=er.scale,St.originPoint=er.originPoint,St.origin=er.origin}function removePointDelta(St,er,tr,rr,nr){return St-=er,St=scalePoint(St,1/tr,rr),nr!==void 0&&(St=scalePoint(St,1/nr,rr)),St}function removeAxisDelta(St,er=0,tr=1,rr=.5,nr,ar=St,sr=St){if(percent.test(er)&&(er=parseFloat(er),er=mixNumber$1(sr.min,sr.max,er/100)-sr.min),typeof er!="number")return;let ir=mixNumber$1(ar.min,ar.max,rr);St===ar&&(ir-=er),St.min=removePointDelta(St.min,er,tr,ir,nr),St.max=removePointDelta(St.max,er,tr,ir,nr)}function removeAxisTransforms(St,er,[tr,rr,nr],ar,sr){removeAxisDelta(St,er[tr],er[rr],er[nr],er.scale,ar,sr)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(St,er,tr,rr){removeAxisTransforms(St.x,er,xKeys,tr?tr.x:void 0,rr?rr.x:void 0),removeAxisTransforms(St.y,er,yKeys,tr?tr.y:void 0,rr?rr.y:void 0)}function isAxisDeltaZero(St){return St.translate===0&&St.scale===1}function isDeltaZero(St){return isAxisDeltaZero(St.x)&&isAxisDeltaZero(St.y)}function axisEquals(St,er){return St.min===er.min&&St.max===er.max}function boxEquals(St,er){return axisEquals(St.x,er.x)&&axisEquals(St.y,er.y)}function axisEqualsRounded(St,er){return Math.round(St.min)===Math.round(er.min)&&Math.round(St.max)===Math.round(er.max)}function boxEqualsRounded(St,er){return axisEqualsRounded(St.x,er.x)&&axisEqualsRounded(St.y,er.y)}function aspectRatio(St){return calcLength(St.x)/calcLength(St.y)}function axisDeltaEquals(St,er){return St.translate===er.translate&&St.scale===er.scale&&St.originPoint===er.originPoint}class NodeStack{constructor(){this.members=[]}add(er){addUniqueItem(this.members,er),er.scheduleRender()}remove(er){if(removeItem(this.members,er),er===this.prevLead&&(this.prevLead=void 0),er===this.lead){const tr=this.members[this.members.length-1];tr&&this.promote(tr)}}relegate(er){const tr=this.members.findIndex(nr=>er===nr);if(tr===0)return!1;let rr;for(let nr=tr;nr>=0;nr--){const ar=this.members[nr];if(ar.isPresent!==!1){rr=ar;break}}return rr?(this.promote(rr),!0):!1}promote(er,tr){const rr=this.lead;if(er!==rr&&(this.prevLead=rr,this.lead=er,er.show(),rr)){rr.instance&&rr.scheduleRender(),er.scheduleRender(),er.resumeFrom=rr,tr&&(er.resumeFrom.preserveOpacity=!0),rr.snapshot&&(er.snapshot=rr.snapshot,er.snapshot.latestValues=rr.animationValues||rr.latestValues),er.root&&er.root.isUpdating&&(er.isLayoutDirty=!0);const{crossfade:nr}=er.options;nr===!1&&rr.hide()}}exitAnimationComplete(){this.members.forEach(er=>{const{options:tr,resumingFrom:rr}=er;tr.onExitComplete&&tr.onExitComplete(),rr&&rr.options.onExitComplete&&rr.options.onExitComplete()})}scheduleRender(){this.members.forEach(er=>{er.instance&&er.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(St,er,tr){let rr="";const nr=St.x.translate/er.x,ar=St.y.translate/er.y,sr=(tr==null?void 0:tr.z)||0;if((nr||ar||sr)&&(rr=`translate3d(${nr}px, ${ar}px, ${sr}px) `),(er.x!==1||er.y!==1)&&(rr+=`scale(${1/er.x}, ${1/er.y}) `),tr){const{transformPerspective:lr,rotate:cr,rotateX:ur,rotateY:dr,skewX:fr,skewY:mr}=tr;lr&&(rr=`perspective(${lr}px) ${rr}`),cr&&(rr+=`rotate(${cr}deg) `),ur&&(rr+=`rotateX(${ur}deg) `),dr&&(rr+=`rotateY(${dr}deg) `),fr&&(rr+=`skewX(${fr}deg) `),mr&&(rr+=`skewY(${mr}deg) `)}const ir=St.x.scale*er.x,or=St.y.scale*er.y;return(ir!==1||or!==1)&&(rr+=`scale(${ir}, ${or})`),rr||"none"}const transformAxes=["","X","Y","Z"],animationTarget=1e3;let id=0;function resetDistortingTransform(St,er,tr,rr){const{latestValues:nr}=er;nr[St]&&(tr[St]=nr[St],er.setStaticValue(St,0),rr&&(rr[St]=0))}function cancelTreeOptimisedTransformAnimations(St){if(St.hasCheckedOptimisedAppear=!0,St.root===St)return;const{visualElement:er}=St.options;if(!er)return;const tr=getOptimisedAppearId(er);if(window.MotionHasOptimisedAnimation(tr,"transform")){const{layout:nr,layoutId:ar}=St.options;window.MotionCancelOptimisedAnimation(tr,"transform",frame,!(nr||ar))}const{parent:rr}=St;rr&&!rr.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(rr)}function createProjectionNode({attachResizeListener:St,defaultParent:er,measureScroll:tr,checkIsScrollRoot:rr,resetTransform:nr}){return class{constructor(sr={},ir=er==null?void 0:er()){this.id=id++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=sr,this.root=ir?ir.root||ir:this,this.path=ir?[...ir.path,ir]:[],this.parent=ir,this.depth=ir?ir.depth+1:0;for(let or=0;or<this.path.length;or++)this.path[or].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(sr,ir){return this.eventHandlers.has(sr)||this.eventHandlers.set(sr,new SubscriptionManager),this.eventHandlers.get(sr).add(ir)}notifyListeners(sr,...ir){const or=this.eventHandlers.get(sr);or&&or.notify(...ir)}hasListeners(sr){return this.eventHandlers.has(sr)}mount(sr){if(this.instance)return;this.isSVG=isSVGElement(sr)&&!isSVGSVGElement(sr),this.instance=sr;const{layoutId:ir,layout:or,visualElement:lr}=this.options;if(lr&&!lr.current&&lr.mount(sr),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(or||ir)&&(this.isLayoutDirty=!0),St){let cr,ur=0;const dr=()=>this.root.updateBlockedByResize=!1;frame.read(()=>{ur=window.innerWidth}),St(sr,()=>{const fr=window.innerWidth;fr!==ur&&(ur=fr,this.root.updateBlockedByResize=!0,cr&&cr(),cr=delay(dr,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation)))})}ir&&this.root.registerSharedNode(ir,this),this.options.animate!==!1&&lr&&(ir||or)&&this.addEventListener("didUpdate",({delta:cr,hasLayoutChanged:ur,hasRelativeLayoutChanged:dr,layout:fr})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const mr=this.options.transition||lr.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:xr,onLayoutAnimationComplete:pr}=lr.getProps(),hr=!this.targetLayout||!boxEqualsRounded(this.targetLayout,fr),gr=!ur&&dr;if(this.options.layoutRoot||this.resumeFrom||gr||ur&&(hr||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const vr={...getValueTransition(mr,"layout"),onPlay:xr,onComplete:pr};(lr.shouldReduceMotion||this.options.layoutRoot)&&(vr.delay=0,vr.type=!1),this.startAnimation(vr),this.setAnimationOrigin(cr,gr)}else ur||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=fr})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const sr=this.getStack();sr&&sr.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation),this.animationId++)}getTransformTemplate(){const{visualElement:sr}=this.options;return sr&&sr.getProps().transformTemplate}willUpdate(sr=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let cr=0;cr<this.path.length;cr++){const ur=this.path[cr];ur.shouldResetTransform=!0,ur.updateScroll("snapshot"),ur.options.layoutRoot&&ur.willUpdate(!1)}const{layoutId:ir,layout:or}=this.options;if(ir===void 0&&!or)return;const lr=this.getTransformTemplate();this.prevTransformTemplateValue=lr?lr(this.latestValues,""):void 0,this.updateSnapshot(),sr&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(clearIsLayoutDirty);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate)):this.nodes.forEach(clearIsLayoutDirty),this.clearAllSnapshots();const ir=time$1.now();frameData.delta=clamp(0,1e3/60,ir-frameData.timestamp),frameData.timestamp=ir,frameData.isProcessing=!0,frameSteps.update.process(frameData),frameSteps.preRender.process(frameData),frameSteps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!calcLength(this.snapshot.measuredBox.x)&&!calcLength(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let or=0;or<this.path.length;or++)this.path[or].updateScroll();const sr=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:ir}=this.options;ir&&ir.notify("LayoutMeasure",this.layout.layoutBox,sr?sr.layoutBox:void 0)}updateScroll(sr="measure"){let ir=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===sr&&(ir=!1),ir&&this.instance){const or=rr(this.instance);this.scroll={animationId:this.root.animationId,phase:sr,isRoot:or,offset:tr(this.instance),wasRoot:this.scroll?this.scroll.isRoot:or}}}resetTransform(){if(!nr)return;const sr=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,ir=this.projectionDelta&&!isDeltaZero(this.projectionDelta),or=this.getTransformTemplate(),lr=or?or(this.latestValues,""):void 0,cr=lr!==this.prevTransformTemplateValue;sr&&this.instance&&(ir||hasTransform(this.latestValues)||cr)&&(nr(this.instance,lr),this.shouldResetTransform=!1,this.scheduleRender())}measure(sr=!0){const ir=this.measurePageBox();let or=this.removeElementScroll(ir);return sr&&(or=this.removeTransform(or)),roundBox(or),{animationId:this.root.animationId,measuredBox:ir,layoutBox:or,latestValues:{},source:this.id}}measurePageBox(){var lr;const{visualElement:sr}=this.options;if(!sr)return createBox();const ir=sr.measureViewportBox();if(!(((lr=this.scroll)==null?void 0:lr.wasRoot)||this.path.some(checkNodeWasScrollRoot))){const{scroll:cr}=this.root;cr&&(translateAxis(ir.x,cr.offset.x),translateAxis(ir.y,cr.offset.y))}return ir}removeElementScroll(sr){var or;const ir=createBox();if(copyBoxInto(ir,sr),(or=this.scroll)!=null&&or.wasRoot)return ir;for(let lr=0;lr<this.path.length;lr++){const cr=this.path[lr],{scroll:ur,options:dr}=cr;cr!==this.root&&ur&&dr.layoutScroll&&(ur.wasRoot&&copyBoxInto(ir,sr),translateAxis(ir.x,ur.offset.x),translateAxis(ir.y,ur.offset.y))}return ir}applyTransform(sr,ir=!1){const or=createBox();copyBoxInto(or,sr);for(let lr=0;lr<this.path.length;lr++){const cr=this.path[lr];!ir&&cr.options.layoutScroll&&cr.scroll&&cr!==cr.root&&transformBox(or,{x:-cr.scroll.offset.x,y:-cr.scroll.offset.y}),hasTransform(cr.latestValues)&&transformBox(or,cr.latestValues)}return hasTransform(this.latestValues)&&transformBox(or,this.latestValues),or}removeTransform(sr){const ir=createBox();copyBoxInto(ir,sr);for(let or=0;or<this.path.length;or++){const lr=this.path[or];if(!lr.instance||!hasTransform(lr.latestValues))continue;hasScale(lr.latestValues)&&lr.updateSnapshot();const cr=createBox(),ur=lr.measurePageBox();copyBoxInto(cr,ur),removeBoxTransforms(ir,lr.latestValues,lr.snapshot?lr.snapshot.layoutBox:void 0,cr)}return hasTransform(this.latestValues)&&removeBoxTransforms(ir,this.latestValues),ir}setTargetDelta(sr){this.targetDelta=sr,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(sr){this.options={...this.options,...sr,crossfade:sr.crossfade!==void 0?sr.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(sr=!1){var dr;const ir=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=ir.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=ir.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=ir.isSharedProjectionDirty);const or=!!this.resumingFrom||this!==ir;if(!(sr||or&&this.isSharedProjectionDirty||this.isProjectionDirty||(dr=this.parent)!=null&&dr.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:cr,layoutId:ur}=this.options;if(!(!this.layout||!(cr||ur))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const fr=this.getClosestProjectingParent();fr&&fr.layout&&this.animationProgress!==1?(this.relativeParent=fr,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,fr.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const fr=this.getClosestProjectingParent();fr&&!!fr.resumingFrom==!!this.resumingFrom&&!fr.options.layoutScroll&&fr.target&&this.animationProgress!==1?(this.relativeParent=fr,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,fr.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var mr;const sr=this.getLead(),ir=!!this.resumingFrom||this!==sr;let or=!0;if((this.isProjectionDirty||(mr=this.parent)!=null&&mr.isProjectionDirty)&&(or=!1),ir&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(or=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(or=!1),or)return;const{layout:lr,layoutId:cr}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(lr||cr))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const ur=this.treeScale.x,dr=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,ir),sr.layout&&!sr.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(sr.target=sr.layout.layoutBox,sr.targetWithTransforms=createBox());const{target:fr}=sr;if(!fr){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(copyAxisDeltaInto(this.prevProjectionDelta.x,this.projectionDelta.x),copyAxisDeltaInto(this.prevProjectionDelta.y,this.projectionDelta.y)),calcBoxDelta(this.projectionDelta,this.layoutCorrected,fr,this.latestValues),(this.treeScale.x!==ur||this.treeScale.y!==dr||!axisDeltaEquals(this.projectionDelta.x,this.prevProjectionDelta.x)||!axisDeltaEquals(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",fr))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(sr=!0){var ir;if((ir=this.options.visualElement)==null||ir.scheduleRender(),sr){const or=this.getStack();or&&or.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=createDelta(),this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta()}setAnimationOrigin(sr,ir=!1){const or=this.snapshot,lr=or?or.latestValues:{},cr={...this.latestValues},ur=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!ir;const dr=createBox(),fr=or?or.source:void 0,mr=this.layout?this.layout.source:void 0,xr=fr!==mr,pr=this.getStack(),hr=!pr||pr.members.length<=1,gr=!!(xr&&!hr&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let vr;this.mixTargetDelta=br=>{const yr=br/1e3;mixAxisDelta(ur.x,sr.x,yr),mixAxisDelta(ur.y,sr.y,yr),this.setTargetDelta(ur),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(dr,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,dr,yr),vr&&boxEquals(this.relativeTarget,vr)&&(this.isProjectionDirty=!1),vr||(vr=createBox()),copyBoxInto(vr,this.relativeTarget)),xr&&(this.animationValues=cr,mixValues(cr,lr,this.latestValues,yr,gr,hr)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=yr},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(sr){var ir,or,lr;this.notifyListeners("animationStart"),(ir=this.currentAnimation)==null||ir.stop(),(lr=(or=this.resumingFrom)==null?void 0:or.currentAnimation)==null||lr.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=motionValue(0)),this.currentAnimation=animateSingleValue(this.motionValue,[0,1e3],{...sr,velocity:0,isSync:!0,onUpdate:cr=>{this.mixTargetDelta(cr),sr.onUpdate&&sr.onUpdate(cr)},onStop:()=>{},onComplete:()=>{sr.onComplete&&sr.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const sr=this.getStack();sr&&sr.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const sr=this.getLead();let{targetWithTransforms:ir,target:or,layout:lr,latestValues:cr}=sr;if(!(!ir||!or||!lr)){if(this!==sr&&this.layout&&lr&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,lr.layoutBox)){or=this.target||createBox();const ur=calcLength(this.layout.layoutBox.x);or.x.min=sr.target.x.min,or.x.max=or.x.min+ur;const dr=calcLength(this.layout.layoutBox.y);or.y.min=sr.target.y.min,or.y.max=or.y.min+dr}copyBoxInto(ir,or),transformBox(ir,cr),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,ir,cr)}}registerSharedNode(sr,ir){this.sharedNodes.has(sr)||this.sharedNodes.set(sr,new NodeStack),this.sharedNodes.get(sr).add(ir);const lr=ir.options.initialPromotionConfig;ir.promote({transition:lr?lr.transition:void 0,preserveFollowOpacity:lr&&lr.shouldPreserveFollowOpacity?lr.shouldPreserveFollowOpacity(ir):void 0})}isLead(){const sr=this.getStack();return sr?sr.lead===this:!0}getLead(){var ir;const{layoutId:sr}=this.options;return sr?((ir=this.getStack())==null?void 0:ir.lead)||this:this}getPrevLead(){var ir;const{layoutId:sr}=this.options;return sr?(ir=this.getStack())==null?void 0:ir.prevLead:void 0}getStack(){const{layoutId:sr}=this.options;if(sr)return this.root.sharedNodes.get(sr)}promote({needsReset:sr,transition:ir,preserveFollowOpacity:or}={}){const lr=this.getStack();lr&&lr.promote(this,or),sr&&(this.projectionDelta=void 0,this.needsReset=!0),ir&&this.setOptions({transition:ir})}relegate(){const sr=this.getStack();return sr?sr.relegate(this):!1}resetSkewAndRotation(){const{visualElement:sr}=this.options;if(!sr)return;let ir=!1;const{latestValues:or}=sr;if((or.z||or.rotate||or.rotateX||or.rotateY||or.rotateZ||or.skewX||or.skewY)&&(ir=!0),!ir)return;const lr={};or.z&&resetDistortingTransform("z",sr,lr,this.animationValues);for(let cr=0;cr<transformAxes.length;cr++)resetDistortingTransform(`rotate${transformAxes[cr]}`,sr,lr,this.animationValues),resetDistortingTransform(`skew${transformAxes[cr]}`,sr,lr,this.animationValues);sr.render();for(const cr in lr)sr.setStaticValue(cr,lr[cr]),this.animationValues&&(this.animationValues[cr]=lr[cr]);sr.scheduleRender()}applyProjectionStyles(sr,ir){if(!this.instance||this.isSVG)return;if(!this.isVisible){sr.visibility="hidden";return}const or=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,sr.visibility="",sr.opacity="",sr.pointerEvents=resolveMotionValue(ir==null?void 0:ir.pointerEvents)||"",sr.transform=or?or(this.latestValues,""):"none";return}const lr=this.getLead();if(!this.projectionDelta||!this.layout||!lr.target){this.options.layoutId&&(sr.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,sr.pointerEvents=resolveMotionValue(ir==null?void 0:ir.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(sr.transform=or?or({},""):"none",this.hasProjected=!1);return}sr.visibility="";const cr=lr.animationValues||lr.latestValues;this.applyTransformsToTarget();let ur=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,cr);or&&(ur=or(cr,ur)),sr.transform=ur;const{x:dr,y:fr}=this.projectionDelta;sr.transformOrigin=`${dr.origin*100}% ${fr.origin*100}% 0`,lr.animationValues?sr.opacity=lr===this?cr.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:cr.opacityExit:sr.opacity=lr===this?cr.opacity!==void 0?cr.opacity:"":cr.opacityExit!==void 0?cr.opacityExit:0;for(const mr in scaleCorrectors){if(cr[mr]===void 0)continue;const{correct:xr,applyTo:pr,isCSSVariable:hr}=scaleCorrectors[mr],gr=ur==="none"?cr[mr]:xr(cr[mr],lr);if(pr){const vr=pr.length;for(let br=0;br<vr;br++)sr[pr[br]]=gr}else hr?this.options.visualElement.renderState.vars[mr]=gr:sr[mr]=gr}this.options.layoutId&&(sr.pointerEvents=lr===this?resolveMotionValue(ir==null?void 0:ir.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(sr=>{var ir;return(ir=sr.currentAnimation)==null?void 0:ir.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(St){St.updateLayout()}function notifyLayoutUpdate(St){var tr;const er=((tr=St.resumeFrom)==null?void 0:tr.snapshot)||St.snapshot;if(St.isLead()&&St.layout&&er&&St.hasListeners("didUpdate")){const{layoutBox:rr,measuredBox:nr}=St.layout,{animationType:ar}=St.options,sr=er.source!==St.layout.source;ar==="size"?eachAxis(ur=>{const dr=sr?er.measuredBox[ur]:er.layoutBox[ur],fr=calcLength(dr);dr.min=rr[ur].min,dr.max=dr.min+fr}):shouldAnimatePositionOnly(ar,er.layoutBox,rr)&&eachAxis(ur=>{const dr=sr?er.measuredBox[ur]:er.layoutBox[ur],fr=calcLength(rr[ur]);dr.max=dr.min+fr,St.relativeTarget&&!St.currentAnimation&&(St.isProjectionDirty=!0,St.relativeTarget[ur].max=St.relativeTarget[ur].min+fr)});const ir=createDelta();calcBoxDelta(ir,rr,er.layoutBox);const or=createDelta();sr?calcBoxDelta(or,St.applyTransform(nr,!0),er.measuredBox):calcBoxDelta(or,rr,er.layoutBox);const lr=!isDeltaZero(ir);let cr=!1;if(!St.resumeFrom){const ur=St.getClosestProjectingParent();if(ur&&!ur.resumeFrom){const{snapshot:dr,layout:fr}=ur;if(dr&&fr){const mr=createBox();calcRelativePosition(mr,er.layoutBox,dr.layoutBox);const xr=createBox();calcRelativePosition(xr,rr,fr.layoutBox),boxEqualsRounded(mr,xr)||(cr=!0),ur.options.layoutRoot&&(St.relativeTarget=xr,St.relativeTargetOrigin=mr,St.relativeParent=ur)}}}St.notifyListeners("didUpdate",{layout:rr,snapshot:er,delta:or,layoutDelta:ir,hasLayoutChanged:lr,hasRelativeLayoutChanged:cr})}else if(St.isLead()){const{onExitComplete:rr}=St.options;rr&&rr()}St.options.transition=void 0}function propagateDirtyNodes(St){St.parent&&(St.isProjecting()||(St.isProjectionDirty=St.parent.isProjectionDirty),St.isSharedProjectionDirty||(St.isSharedProjectionDirty=!!(St.isProjectionDirty||St.parent.isProjectionDirty||St.parent.isSharedProjectionDirty)),St.isTransformDirty||(St.isTransformDirty=St.parent.isTransformDirty))}function cleanDirtyNodes(St){St.isProjectionDirty=St.isSharedProjectionDirty=St.isTransformDirty=!1}function clearSnapshot(St){St.clearSnapshot()}function clearMeasurements(St){St.clearMeasurements()}function clearIsLayoutDirty(St){St.isLayoutDirty=!1}function resetTransformStyle(St){const{visualElement:er}=St.options;er&&er.getProps().onBeforeLayoutMeasure&&er.notify("BeforeLayoutMeasure"),St.resetTransform()}function finishAnimation(St){St.finishAnimation(),St.targetDelta=St.relativeTarget=St.target=void 0,St.isProjectionDirty=!0}function resolveTargetDelta(St){St.resolveTargetDelta()}function calcProjection(St){St.calcProjection()}function resetSkewAndRotation(St){St.resetSkewAndRotation()}function removeLeadSnapshots(St){St.removeLeadSnapshot()}function mixAxisDelta(St,er,tr){St.translate=mixNumber$1(er.translate,0,tr),St.scale=mixNumber$1(er.scale,1,tr),St.origin=er.origin,St.originPoint=er.originPoint}function mixAxis(St,er,tr,rr){St.min=mixNumber$1(er.min,tr.min,rr),St.max=mixNumber$1(er.max,tr.max,rr)}function mixBox(St,er,tr,rr){mixAxis(St.x,er.x,tr.x,rr),mixAxis(St.y,er.y,tr.y,rr)}function hasOpacityCrossfade(St){return St.animationValues&&St.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=St=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(St),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop$7;function roundAxis(St){St.min=roundPoint(St.min),St.max=roundPoint(St.max)}function roundBox(St){roundAxis(St.x),roundAxis(St.y)}function shouldAnimatePositionOnly(St,er,tr){return St==="position"||St==="preserve-aspect"&&!isNear(aspectRatio(er),aspectRatio(tr),.2)}function checkNodeWasScrollRoot(St){var er;return St!==St.root&&((er=St.scroll)==null?void 0:er.wasRoot)}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(St,er)=>addDomEvent(St,"resize",er),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:St=>({x:St.scrollLeft,y:St.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const St=new DocumentProjectionNode({});St.mount(window),St.setOptions({layoutScroll:!0}),rootProjectionNode.current=St}return rootProjectionNode.current},resetTransform:(St,er)=>{St.style.transform=er!==void 0?er:"none"},checkIsScrollRoot:St=>window.getComputedStyle(St).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}};function handleHoverEvent(St,er,tr){const{props:rr}=St;St.animationState&&rr.whileHover&&St.animationState.setActive("whileHover",tr==="Start");const nr="onHover"+tr,ar=rr[nr];ar&&frame.postRender(()=>ar(er,extractEventInfo(er)))}class HoverGesture extends Feature{mount(){const{current:er}=this.node;er&&(this.unmount=hover(er,(tr,rr)=>(handleHoverEvent(this.node,rr,"Start"),nr=>handleHoverEvent(this.node,nr,"End"))))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let er=!1;try{er=this.node.current.matches(":focus-visible")}catch{er=!0}!er||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function handlePressEvent(St,er,tr){const{props:rr}=St;if(St.current instanceof HTMLButtonElement&&St.current.disabled)return;St.animationState&&rr.whileTap&&St.animationState.setActive("whileTap",tr==="Start");const nr="onTap"+(tr==="End"?"":tr),ar=rr[nr];ar&&frame.postRender(()=>ar(er,extractEventInfo(er)))}class PressGesture extends Feature{mount(){const{current:er}=this.node;er&&(this.unmount=press(er,(tr,rr)=>(handlePressEvent(this.node,rr,"Start"),(nr,{success:ar})=>handlePressEvent(this.node,nr,ar?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=St=>{const er=observerCallbacks.get(St.target);er&&er(St)},fireAllObserverCallbacks=St=>{St.forEach(fireObserverCallback)};function initIntersectionObserver({root:St,...er}){const tr=St||document;observers.has(tr)||observers.set(tr,{});const rr=observers.get(tr),nr=JSON.stringify(er);return rr[nr]||(rr[nr]=new IntersectionObserver(fireAllObserverCallbacks,{root:St,...er})),rr[nr]}function observeIntersection(St,er,tr){const rr=initIntersectionObserver(er);return observerCallbacks.set(St,tr),rr.observe(St),()=>{observerCallbacks.delete(St),rr.unobserve(St)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:er={}}=this.node.getProps(),{root:tr,margin:rr,amount:nr="some",once:ar}=er,sr={root:tr?tr.current:void 0,rootMargin:rr,threshold:typeof nr=="number"?nr:thresholdNames[nr]},ir=or=>{const{isIntersecting:lr}=or;if(this.isInView===lr||(this.isInView=lr,ar&&!lr&&this.hasEnteredView))return;lr&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",lr);const{onViewportEnter:cr,onViewportLeave:ur}=this.node.getProps(),dr=lr?cr:ur;dr&&dr(or)};return observeIntersection(this.node.current,sr,ir)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:er,prevProps:tr}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(er,tr))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:St={}},{viewport:er={}}={}){return tr=>St[tr]!==er[tr]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}},layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser)if(window.matchMedia){const St=window.matchMedia("(prefers-reduced-motion)"),er=()=>prefersReducedMotion.current=St.matches;St.addEventListener("change",er),er()}else prefersReducedMotion.current=!1}const visualElementStore=new WeakMap;function updateMotionValuesFromProps(St,er,tr){for(const rr in er){const nr=er[rr],ar=tr[rr];if(isMotionValue(nr))St.addValue(rr,nr);else if(isMotionValue(ar))St.addValue(rr,motionValue(nr,{owner:St}));else if(ar!==nr)if(St.hasValue(rr)){const sr=St.getValue(rr);sr.liveStyle===!0?sr.jump(nr):sr.hasAnimated||sr.set(nr)}else{const sr=St.getStaticValue(rr);St.addValue(rr,motionValue(sr!==void 0?sr:nr,{owner:St}))}}for(const rr in tr)er[rr]===void 0&&St.removeValue(rr);return er}const propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VisualElement{scrapeMotionValuesFromProps(er,tr,rr){return{}}constructor({parent:er,props:tr,presenceContext:rr,reducedMotionConfig:nr,blockInitialAnimation:ar,visualState:sr},ir={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const dr=time$1.now();this.renderScheduledAt<dr&&(this.renderScheduledAt=dr,frame.render(this.render,!1,!0))};const{latestValues:or,renderState:lr}=sr;this.latestValues=or,this.baseTarget={...or},this.initialValues=tr.initial?{...or}:{},this.renderState=lr,this.parent=er,this.props=tr,this.presenceContext=rr,this.depth=er?er.depth+1:0,this.reducedMotionConfig=nr,this.options=ir,this.blockInitialAnimation=!!ar,this.isControllingVariants=isControllingVariants(tr),this.isVariantNode=isVariantNode(tr),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(er&&er.current);const{willChange:cr,...ur}=this.scrapeMotionValuesFromProps(tr,{},this);for(const dr in ur){const fr=ur[dr];or[dr]!==void 0&&isMotionValue(fr)&&fr.set(or[dr],!1)}}mount(er){this.current=er,visualElementStore.set(er,this),this.projection&&!this.projection.instance&&this.projection.mount(er),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((tr,rr)=>this.bindToMotionValue(rr,tr)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach(er=>er()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const er in this.events)this.events[er].clear();for(const er in this.features){const tr=this.features[er];tr&&(tr.unmount(),tr.isMounted=!1)}this.current=null}bindToMotionValue(er,tr){this.valueSubscriptions.has(er)&&this.valueSubscriptions.get(er)();const rr=transformProps.has(er);rr&&this.onBindTransform&&this.onBindTransform();const nr=tr.on("change",ir=>{this.latestValues[er]=ir,this.props.onUpdate&&frame.preRender(this.notifyUpdate),rr&&this.projection&&(this.projection.isTransformDirty=!0)}),ar=tr.on("renderRequest",this.scheduleRender);let sr;window.MotionCheckAppearSync&&(sr=window.MotionCheckAppearSync(this,er,tr)),this.valueSubscriptions.set(er,()=>{nr(),ar(),sr&&sr(),tr.owner&&tr.stop()})}sortNodePosition(er){return!this.current||!this.sortInstanceNodePosition||this.type!==er.type?0:this.sortInstanceNodePosition(this.current,er.current)}updateFeatures(){let er="animation";for(er in featureDefinitions){const tr=featureDefinitions[er];if(!tr)continue;const{isEnabled:rr,Feature:nr}=tr;if(!this.features[er]&&nr&&rr(this.props)&&(this.features[er]=new nr(this)),this.features[er]){const ar=this.features[er];ar.isMounted?ar.update():(ar.mount(),ar.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(er){return this.latestValues[er]}setStaticValue(er,tr){this.latestValues[er]=tr}update(er,tr){(er.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=er,this.prevPresenceContext=this.presenceContext,this.presenceContext=tr;for(let rr=0;rr<propEventHandlers.length;rr++){const nr=propEventHandlers[rr];this.propEventSubscriptions[nr]&&(this.propEventSubscriptions[nr](),delete this.propEventSubscriptions[nr]);const ar="on"+nr,sr=er[ar];sr&&(this.propEventSubscriptions[nr]=this.on(nr,sr))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(er,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(er){return this.props.variants?this.props.variants[er]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(er){const tr=this.getClosestVariantNode();if(tr)return tr.variantChildren&&tr.variantChildren.add(er),()=>tr.variantChildren.delete(er)}addValue(er,tr){const rr=this.values.get(er);tr!==rr&&(rr&&this.removeValue(er),this.bindToMotionValue(er,tr),this.values.set(er,tr),this.latestValues[er]=tr.get())}removeValue(er){this.values.delete(er);const tr=this.valueSubscriptions.get(er);tr&&(tr(),this.valueSubscriptions.delete(er)),delete this.latestValues[er],this.removeValueFromRenderState(er,this.renderState)}hasValue(er){return this.values.has(er)}getValue(er,tr){if(this.props.values&&this.props.values[er])return this.props.values[er];let rr=this.values.get(er);return rr===void 0&&tr!==void 0&&(rr=motionValue(tr===null?void 0:tr,{owner:this}),this.addValue(er,rr)),rr}readValue(er,tr){let rr=this.latestValues[er]!==void 0||!this.current?this.latestValues[er]:this.getBaseTargetFromProps(this.props,er)??this.readValueFromInstance(this.current,er,this.options);return rr!=null&&(typeof rr=="string"&&(isNumericalString(rr)||isZeroValueString(rr))?rr=parseFloat(rr):!findValueType(rr)&&complex.test(tr)&&(rr=getAnimatableNone(er,tr)),this.setBaseTarget(er,isMotionValue(rr)?rr.get():rr)),isMotionValue(rr)?rr.get():rr}setBaseTarget(er,tr){this.baseTarget[er]=tr}getBaseTarget(er){var ar;const{initial:tr}=this.props;let rr;if(typeof tr=="string"||typeof tr=="object"){const sr=resolveVariantFromProps(this.props,tr,(ar=this.presenceContext)==null?void 0:ar.custom);sr&&(rr=sr[er])}if(tr&&rr!==void 0)return rr;const nr=this.getBaseTargetFromProps(this.props,er);return nr!==void 0&&!isMotionValue(nr)?nr:this.initialValues[er]!==void 0&&rr===void 0?void 0:this.baseTarget[er]}on(er,tr){return this.events[er]||(this.events[er]=new SubscriptionManager),this.events[er].add(tr)}notify(er,...tr){this.events[er]&&this.events[er].notify(...tr)}}class DOMVisualElement extends VisualElement{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver}sortInstanceNodePosition(er,tr){return er.compareDocumentPosition(tr)&2?1:-1}getBaseTargetFromProps(er,tr){return er.style?er.style[tr]:void 0}removeValueFromRenderState(er,{vars:tr,style:rr}){delete tr[er],delete rr[er]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:er}=this.props;isMotionValue(er)&&(this.childSubscription=er.on("change",tr=>{this.current&&(this.current.textContent=`${tr}`)}))}}function renderHTML(St,{style:er,vars:tr},rr,nr){const ar=St.style;let sr;for(sr in er)ar[sr]=er[sr];nr==null||nr.applyProjectionStyles(ar,rr);for(sr in tr)ar.setProperty(sr,tr[sr])}function getComputedStyle$1(St){return window.getComputedStyle(St)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html",this.renderInstance=renderHTML}readValueFromInstance(er,tr){var rr;if(transformProps.has(tr))return(rr=this.projection)!=null&&rr.isProjecting?defaultTransformValue(tr):readTransformValue(er,tr);{const nr=getComputedStyle$1(er),ar=(isCSSVariableName(tr)?nr.getPropertyValue(tr):nr[tr])||0;return typeof ar=="string"?ar.trim():ar}}measureInstanceViewportBox(er,{transformPagePoint:tr}){return measureViewportBox(er,tr)}build(er,tr,rr){buildHTMLStyles(er,tr,rr.transformTemplate)}scrapeMotionValuesFromProps(er,tr,rr){return scrapeMotionValuesFromProps$1(er,tr,rr)}}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(St,er,tr,rr){renderHTML(St,er,void 0,rr);for(const nr in er.attrs)St.setAttribute(camelCaseAttributes.has(nr)?nr:camelToDash(nr),er.attrs[nr])}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=createBox}getBaseTargetFromProps(er,tr){return er[tr]}readValueFromInstance(er,tr){if(transformProps.has(tr)){const rr=getDefaultValueType(tr);return rr&&rr.default||0}return tr=camelCaseAttributes.has(tr)?tr:camelToDash(tr),er.getAttribute(tr)}scrapeMotionValuesFromProps(er,tr,rr){return scrapeMotionValuesFromProps(er,tr,rr)}build(er,tr,rr){buildSVGAttrs(er,tr,this.isSVGTag,rr.transformTemplate,rr.style)}renderInstance(er,tr,rr,nr){renderSVG(er,tr,rr,nr)}mount(er){this.isSVGTag=isSVGTag(er.tagName),super.mount(er)}}const createDomVisualElement=(St,er)=>isSVGComponent(St)?new SVGVisualElement(er):new HTMLVisualElement(er,{allowProjection:St!==reactExports.Fragment}),createMotionComponent=createMotionComponentFactory({...animations,...gestureAnimations,...drag,...layout},createDomVisualElement),motion=createDOMMotionComponentProxy(createMotionComponent);function useReducedMotion(){!hasReducedMotionListener.current&&initPrefersReducedMotion();const[St]=reactExports.useState(prefersReducedMotion.current);return St}const containerVariants$1={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},cardVariants$1={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};function ProveedoresPage(){const St=useNavigate(),er=[{title:"Gestin de Terceros",description:"Administra la informacin de personas naturales y jurdicas",icon:jsxRuntimeExports.jsx(HiUsers,{className:"w-8 h-8"}),path:"/terceros",color:"bg-blue-500",hoverColor:"hover:bg-blue-600"},{title:"Proveedores",description:"Gestin especfica de proveedores y sus contratos",icon:jsxRuntimeExports.jsx(HiBuildingOffice2,{className:"w-8 h-8"}),path:"/proveedores",color:"bg-green-500",hoverColor:"hover:bg-green-600",disabled:!0},{title:"Contratos",description:"Administracin de contratos y acuerdos comerciales",icon:jsxRuntimeExports.jsx(HiDocumentText,{className:"w-8 h-8"}),path:"/contratos",color:"bg-purple-500",hoverColor:"hover:bg-purple-600",disabled:!0},{title:"Reportes",description:"Generacin de reportes y anlisis de proveedores",icon:jsxRuntimeExports.jsx(HiChartBarSquare,{className:"w-8 h-8"}),path:"/reportes",color:"bg-orange-500",hoverColor:"hover:bg-orange-600",disabled:!0}],tr=rr=>{rr.disabled||St(rr.path)};return jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-6",children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900 rounded-lg",children:jsxRuntimeExports.jsx(HiBuildingOffice2,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Mdulo de Proveedores"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Gestin integral de terceros, proveedores y relaciones comerciales"})]})]})}),jsxRuntimeExports.jsx(motion.div,{variants:containerVariants$1,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:er.map((rr,nr)=>jsxRuntimeExports.jsx(motion.div,{variants:cardVariants$1,whileHover:{scale:rr.disabled?1:1.02},whileTap:{scale:rr.disabled?1:.98},className:`
              bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 
              ${rr.disabled?"opacity-60 cursor-not-allowed":"cursor-pointer hover:shadow-md"} 
              transition-all duration-200
            `,onClick:()=>tr(rr),children:jsxRuntimeExports.jsxs("div",{className:"p-6",children:[jsxRuntimeExports.jsx("div",{className:`
                w-16 h-16 ${rr.color} ${rr.disabled?"":rr.hoverColor} 
                rounded-lg flex items-center justify-center text-white mb-4 transition-colors
              `,children:rr.icon}),jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:[rr.title,rr.disabled&&jsxRuntimeExports.jsx("span",{className:"ml-2 text-xs bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200 px-2 py-1 rounded-full",children:"Prximamente"})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:rr.description}),!rr.disabled&&jsxRuntimeExports.jsxs("div",{className:"mt-4 flex items-center text-blue-600 dark:text-blue-400 text-sm font-medium",children:["Acceder",jsxRuntimeExports.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})},rr.title))}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-xl p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0",children:jsxRuntimeExports.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx("svg",{className:"w-5 h-5 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-blue-900 dark:text-blue-100 mb-2",children:"Estado del Mdulo"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 text-sm text-blue-800 dark:text-blue-200",children:[jsxRuntimeExports.jsxs("p",{children:[" ",jsxRuntimeExports.jsx("strong",{children:"Gestin de Terceros:"})," Completamente funcional"]}),jsxRuntimeExports.jsxs("p",{children:[" ",jsxRuntimeExports.jsx("strong",{children:"Proveedores:"})," En desarrollo"]}),jsxRuntimeExports.jsxs("p",{children:[" ",jsxRuntimeExports.jsx("strong",{children:"Contratos:"})," En desarrollo"]}),jsxRuntimeExports.jsxs("p",{children:[" ",jsxRuntimeExports.jsx("strong",{children:"Reportes:"})," En desarrollo"]})]})]})]})})]})}class FacturaDetalleRepository{async getByFacturaId(er){return(await axiosInstance.get(`/gestionProveedores/facturas_detalles/?factura=${er}`)).data}async update(er,tr){return(await axiosInstance.put(`/gestionProveedores/facturas_detalles/${er}/`,tr)).data}async create(er){return(await axiosInstance.post("/gestionProveedores/facturas_detalles/",er)).data}}const EditarFacturaModal=({open:St,factura:er,onClose:tr,onUpdated:rr})=>{const[nr,ar]=reactExports.useState({}),[sr,ir]=reactExports.useState({observacionesGestion:""}),[or,lr]=reactExports.useState([]),[cr,ur]=reactExports.useState([]),[dr,fr]=reactExports.useState([]);reactExports.useEffect(()=>{St&&(er!=null&&er.factura_id)&&(ar(er),axiosInstance.get("/gestionProveedores/centro_operaciones/").then(gr=>{lr(gr.data),!er.factura_centro_operaciones&&gr.data.length>0&&ar(vr=>({...vr,factura_centro_operaciones:gr.data[0].operaciones_id}))}),axiosInstance.get("/gestionProveedores/estado_facturas/").then(gr=>ur(gr.data)),axiosInstance.get("/gestionProveedores/causales_devolucion/").then(gr=>{fr(gr.data),!er.causal_anulacion&&gr.data.length>0&&ar(vr=>({...vr,causal_anulacion:gr.data[0].causalid}))}),new FacturaDetalleRepository().getByFacturaId(er.factura_id).then(gr=>{const vr=gr.find(br=>br.factura===er.factura_id);ir(vr||{observacionesGestion:""})}).catch(gr=>console.error("Error cargando detalle:",gr)))},[St,er==null?void 0:er.factura_id]);const mr=hr=>{const{name:gr,value:vr}=hr.target;ar(br=>({...br,[gr]:vr}))},xr=hr=>{const{name:gr,value:vr}=hr.target;ir(br=>({...br,[gr]:vr}))},pr=async()=>{var hr;try{const gr={...nr,factura_estado_factura_id:(hr=nr.factura_estado_factura)==null?void 0:hr.estado_id};delete gr.factura_estado_factura,await axiosInstance.put(`/gestionProveedores/factura/${er.factura_id}/`,gr);const vr=new FacturaDetalleRepository,br=new FormData;br.append("observacionesGestion",sr.observacionesGestion??""),br.append("factura",String(er.factura_id)),sr.id&&sr.factura===er.factura_id?await vr.update(sr.id,br):await vr.create(br),rr(),tr()}catch(gr){console.error("Error actualizando factura o detalle",gr),alert("Error actualizando factura o detalle")}};return St?jsxRuntimeExports.jsxs("div",{className:"w-full h-full px-6 py-4 bg-white dark:bg-[#1e293b] border border-blue-200 dark:border-blue-800 overflow-y-auto text-black dark:text-white",children:[jsxRuntimeExports.jsxs("h2",{className:"text-lg font-semibold mb-4 text-blue-700 dark:text-blue-300",children:["Editar Factura [ID: ",er.factura_id,"]"]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Estado de la Factura"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-4",children:cr.map(hr=>{var gr;return jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2 text-sm text-black dark:text-white",children:[jsxRuntimeExports.jsx("input",{type:"radio",name:"factura_estado_factura",value:hr.estado_id,checked:((gr=nr.factura_estado_factura)==null?void 0:gr.estado_id)===hr.estado_id,onChange:()=>ar(vr=>({...vr,factura_estado_factura:hr})),className:"form-radio h-5 w-5 text-blue-600"}),jsxRuntimeExports.jsx("span",{children:hr.nombre})]},hr.estado_id)})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Centro de Operaciones"}),jsxRuntimeExports.jsxs("select",{name:"factura_centro_operaciones",value:nr.factura_centro_operaciones||"",onChange:mr,className:"w-full p-2 border rounded bg-white dark:bg-gray-700 text-black dark:text-white",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Seleccione centro operaciones"}),or.map(hr=>jsxRuntimeExports.jsx("option",{value:hr.operaciones_id,children:hr.operaciones_nombre},hr.operaciones_id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Causal de Devolucin y/o Anulacin"}),jsxRuntimeExports.jsxs("select",{name:"causal_anulacion",value:nr.causal_anulacion||"",onChange:mr,className:"w-full p-2 border rounded bg-white dark:bg-gray-700 text-black dark:text-white",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Seleccione causal"}),dr.map(hr=>jsxRuntimeExports.jsx("option",{value:hr.causalid,children:hr.causal_nombre},hr.causalid))]})]}),jsxRuntimeExports.jsxs("div",{className:"col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Observaciones de Gestin"}),jsxRuntimeExports.jsx("textarea",{name:"observacionesGestion",value:sr.observacionesGestion??"",onChange:xr,className:"w-full p-2 border rounded bg-white dark:bg-gray-700 text-black dark:text-white"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[jsxRuntimeExports.jsx("button",{onClick:tr,className:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600",children:"Cancelar"}),jsxRuntimeExports.jsx("button",{onClick:pr,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Guardar"})]})]}):null};function FaPython(St){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6zM286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3zM167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4zm-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3z"}}]})(St)}function FaReact(St){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M418.2 177.2c-5.4-1.8-10.8-3.5-16.2-5.1.9-3.7 1.7-7.4 2.5-11.1 12.3-59.6 4.2-107.5-23.1-123.3-26.3-15.1-69.2.6-112.6 38.4-4.3 3.7-8.5 7.6-12.5 11.5-2.7-2.6-5.5-5.2-8.3-7.7-45.5-40.4-91.1-57.4-118.4-41.5-26.2 15.2-34 60.3-23 116.7 1.1 5.6 2.3 11.1 3.7 16.7-6.4 1.8-12.7 3.8-18.6 5.9C38.3 196.2 0 225.4 0 255.6c0 31.2 40.8 62.5 96.3 81.5 4.5 1.5 9 3 13.6 4.3-1.5 6-2.8 11.9-4 18-10.5 55.5-2.3 99.5 23.9 114.6 27 15.6 72.4-.4 116.6-39.1 3.5-3.1 7-6.3 10.5-9.7 4.4 4.3 9 8.4 13.6 12.4 42.8 36.8 85.1 51.7 111.2 36.6 27-15.6 35.8-62.9 24.4-120.5-.9-4.4-1.9-8.9-3-13.5 3.2-.9 6.3-1.9 9.4-2.9 57.7-19.1 99.5-50 99.5-81.7 0-30.3-39.4-59.7-93.8-78.4zM282.9 92.3c37.2-32.4 71.9-45.1 87.7-36 16.9 9.7 23.4 48.9 12.8 100.4-.7 3.4-1.4 6.7-2.3 10-22.2-5-44.7-8.6-67.3-10.6-13-18.6-27.2-36.4-42.6-53.1 3.9-3.7 7.7-7.2 11.7-10.7zM167.2 307.5c5.1 8.7 10.3 17.4 15.8 25.9-15.6-1.7-31.1-4.2-46.4-7.5 4.4-14.4 9.9-29.3 16.3-44.5 4.6 8.8 9.3 17.5 14.3 26.1zm-30.3-120.3c14.4-3.2 29.7-5.8 45.6-7.8-5.3 8.3-10.5 16.8-15.4 25.4-4.9 8.5-9.7 17.2-14.2 26-6.3-14.9-11.6-29.5-16-43.6zm27.4 68.9c6.6-13.8 13.8-27.3 21.4-40.6s15.8-26.2 24.4-38.9c15-1.1 30.3-1.7 45.9-1.7s31 .6 45.9 1.7c8.5 12.6 16.6 25.5 24.3 38.7s14.9 26.7 21.7 40.4c-6.7 13.8-13.9 27.4-21.6 40.8-7.6 13.3-15.7 26.2-24.2 39-14.9 1.1-30.4 1.6-46.1 1.6s-30.9-.5-45.6-1.4c-8.7-12.7-16.9-25.7-24.6-39s-14.8-26.8-21.5-40.6zm180.6 51.2c5.1-8.8 9.9-17.7 14.6-26.7 6.4 14.5 12 29.2 16.9 44.3-15.5 3.5-31.2 6.2-47 8 5.4-8.4 10.5-17 15.5-25.6zm14.4-76.5c-4.7-8.8-9.5-17.6-14.5-26.2-4.9-8.5-10-16.9-15.3-25.2 16.1 2 31.5 4.7 45.9 8-4.6 14.8-10 29.2-16.1 43.4zM256.2 118.3c10.5 11.4 20.4 23.4 29.6 35.8-19.8-.9-39.7-.9-59.5 0 9.8-12.9 19.9-24.9 29.9-35.8zM140.2 57c16.8-9.8 54.1 4.2 93.4 39 2.5 2.2 5 4.6 7.6 7-15.5 16.7-29.8 34.5-42.9 53.1-22.6 2-45 5.5-67.2 10.4-1.3-5.1-2.4-10.3-3.5-15.5-9.4-48.4-3.2-84.9 12.6-94zm-24.5 263.6c-4.2-1.2-8.3-2.5-12.4-3.9-21.3-6.7-45.5-17.3-63-31.2-10.1-7-16.9-17.8-18.8-29.9 0-18.3 31.6-41.7 77.2-57.6 5.7-2 11.5-3.8 17.3-5.5 6.8 21.7 15 43 24.5 63.6-9.6 20.9-17.9 42.5-24.8 64.5zm116.6 98c-16.5 15.1-35.6 27.1-56.4 35.3-11.1 5.3-23.9 5.8-35.3 1.3-15.9-9.2-22.5-44.5-13.5-92 1.1-5.6 2.3-11.2 3.7-16.7 22.4 4.8 45 8.1 67.9 9.8 13.2 18.7 27.7 36.6 43.2 53.4-3.2 3.1-6.4 6.1-9.6 8.9zm24.5-24.3c-10.2-11-20.4-23.2-30.3-36.3 9.6.4 19.5.6 29.5.6 10.3 0 20.4-.2 30.4-.7-9.2 12.7-19.1 24.8-29.6 36.4zm130.7 30c-.9 12.2-6.9 23.6-16.5 31.3-15.9 9.2-49.8-2.8-86.4-34.2-4.2-3.6-8.4-7.5-12.7-11.5 15.3-16.9 29.4-34.8 42.2-53.6 22.9-1.9 45.7-5.4 68.2-10.5 1 4.1 1.9 8.2 2.7 12.2 4.9 21.6 5.7 44.1 2.5 66.3zm18.2-107.5c-2.8.9-5.6 1.8-8.5 2.6-7-21.8-15.6-43.1-25.5-63.8 9.6-20.4 17.7-41.4 24.5-62.9 5.2 1.5 10.2 3.1 15 4.7 46.6 16 79.3 39.8 79.3 58 0 19.6-34.9 44.9-84.8 61.4zm-149.7-15c25.3 0 45.8-20.5 45.8-45.8s-20.5-45.8-45.8-45.8c-25.3 0-45.8 20.5-45.8 45.8s20.5 45.8 45.8 45.8z"}}]})(St)}function FaArrowLeft(St){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"}}]})(St)}function FaBuilding(St){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"}}]})(St)}function FaChartLine(St){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"}}]})(St)}function FaDownload(St){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"}}]})(St)}function FaEdit(St){return GenIcon({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"}}]})(St)}function FaEye$1(St){return GenIcon({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"}}]})(St)}function FaFileAlt(St){return GenIcon({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"}}]})(St)}function FaFileExcel(St){return GenIcon({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm60.1 106.5L224 336l60.1 93.5c5.1 8-.6 18.5-10.1 18.5h-34.9c-4.4 0-8.5-2.4-10.6-6.3C208.9 405.5 192 373 192 373c-6.4 14.8-10 20-36.6 68.8-2.1 3.9-6.1 6.3-10.5 6.3H110c-9.5 0-15.2-10.5-10.1-18.5l60.3-93.5-60.3-93.5c-5.2-8 .6-18.5 10.1-18.5h34.8c4.4 0 8.5 2.4 10.6 6.3 26.1 48.8 20 33.6 36.6 68.5 0 0 6.1-11.7 36.6-68.5 2.1-3.9 6.2-6.3 10.6-6.3H274c9.5-.1 15.2 10.4 10.1 18.4zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"}}]})(St)}function FaFileInvoice(St){return GenIcon({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M288 256H96v64h192v-64zm89-151L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-153 31V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 64c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8v-16zm256 304c0 4.42-3.58 8-8 8h-80c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16zm0-200v96c0 8.84-7.16 16-16 16H80c-8.84 0-16-7.16-16-16v-96c0-8.84 7.16-16 16-16h224c8.84 0 16 7.16 16 16z"}}]})(St)}function FaFilePdf(St){return GenIcon({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"}}]})(St)}function FaFileWord(St){return GenIcon({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm57.1 120H305c7.7 0 13.4 7.1 11.7 14.7l-38 168c-1.2 5.5-6.1 9.3-11.7 9.3h-38c-5.5 0-10.3-3.8-11.6-9.1-25.8-103.5-20.8-81.2-25.6-110.5h-.5c-1.1 14.3-2.4 17.4-25.6 110.5-1.3 5.3-6.1 9.1-11.6 9.1H117c-5.6 0-10.5-3.9-11.7-9.4l-37.8-168c-1.7-7.5 4-14.6 11.7-14.6h24.5c5.7 0 10.7 4 11.8 9.7 15.6 78 20.1 109.5 21 122.2 1.6-10.2 7.3-32.7 29.4-122.7 1.3-5.4 6.1-9.1 11.7-9.1h29.1c5.6 0 10.4 3.8 11.7 9.2 24 100.4 28.8 124 29.6 129.4-.2-11.2-2.6-17.8 21.6-129.2 1-5.6 5.9-9.5 11.5-9.5zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"}}]})(St)}function FaHandsHelping(St){return GenIcon({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M488 192H336v56c0 39.7-32.3 72-72 72s-72-32.3-72-72V126.4l-64.9 39C107.8 176.9 96 197.8 96 220.2v47.3l-80 46.2C.7 322.5-4.6 342.1 4.3 357.4l80 138.6c8.8 15.3 28.4 20.5 43.7 11.7L231.4 448H368c35.3 0 64-28.7 64-64h16c17.7 0 32-14.3 32-32v-64h8c13.3 0 24-10.7 24-24v-48c0-13.3-10.7-24-24-24zm147.7-37.4L555.7 16C546.9.7 527.3-4.5 512 4.3L408.6 64H306.4c-12 0-23.7 3.4-33.9 9.7L239 94.6c-9.4 5.8-15 16.1-15 27.1V248c0 22.1 17.9 40 40 40s40-17.9 40-40v-88h184c30.9 0 56 25.1 56 56v28.5l80-46.2c15.3-8.9 20.5-28.4 11.7-43.7z"}}]})(St)}function FaHandshake(St){return GenIcon({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M434.7 64h-85.9c-8 0-15.7 3-21.6 8.4l-98.3 90c-.1.1-.2.3-.3.4-16.6 15.6-16.3 40.5-2.1 56 12.7 13.9 39.4 17.6 56.1 2.7.1-.1.3-.1.4-.2l79.9-73.2c6.5-5.9 16.7-5.5 22.6 1 6 6.5 5.5 16.6-1 22.6l-26.1 23.9L504 313.8c2.9 2.4 5.5 5 7.9 7.7V128l-54.6-54.6c-5.9-6-14.1-9.4-22.6-9.4zM544 128.2v223.9c0 17.7 14.3 32 32 32h64V128.2h-96zm48 223.9c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zM0 384h64c17.7 0 32-14.3 32-32V128.2H0V384zm48-63.9c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16c0-8.9 7.2-16 16-16zm435.9 18.6L334.6 217.5l-30 27.5c-29.7 27.1-75.2 24.5-101.7-4.4-26.9-29.4-24.8-74.9 4.4-101.7L289.1 64h-83.8c-8.5 0-16.6 3.4-22.6 9.4L128 128v223.9h18.3l90.5 81.9c27.4 22.3 67.7 18.1 90-9.3l.2-.2 17.9 15.5c15.9 13 39.4 10.5 52.3-5.4l31.4-38.6 5.4 4.4c13.7 11.1 33.9 9.1 45-4.7l9.5-11.7c11.2-13.8 9.1-33.9-4.6-45.1z"}}]})(St)}function FaLightbulb(St){return GenIcon({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"}}]})(St)}function FaSearch(St){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"}}]})(St)}function FaTimes(St){return GenIcon({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(St)}function FaTrash$1(St){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"}}]})(St)}function FaUniversity(St){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 128v16a8 8 0 0 1-8 8h-24v12c0 6.627-5.373 12-12 12H60c-6.627 0-12-5.373-12-12v-12H24a8 8 0 0 1-8-8v-16a8 8 0 0 1 4.941-7.392l232-88a7.996 7.996 0 0 1 6.118 0l232 88A8 8 0 0 1 496 128zm-24 304H40c-13.255 0-24 10.745-24 24v16a8 8 0 0 0 8 8h464a8 8 0 0 0 8-8v-16c0-13.255-10.745-24-24-24zM96 192v192H60c-6.627 0-12 5.373-12 12v20h416v-20c0-6.627-5.373-12-12-12h-36V192h-64v192h-64V192h-64v192h-64V192H96z"}}]})(St)}function FaUpload(St){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"}}]})(St)}function FaUser(St){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(St)}function FaUsers(St){return GenIcon({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"}}]})(St)}function FacturaRow({factura:St,centros:er,estadosFactura:tr,onEdit:rr,onView:nr,onDisable:ar}){var lr;const sr=((lr=er.find(cr=>cr.operaciones_id===St.factura_centro_operaciones))==null?void 0:lr.operaciones_nombre)||"N/A",ir=tr.find(cr=>cr.estado_id===(typeof St.factura_estado_factura=="object"?St.factura_estado_factura.estado_id:St.factura_estado_factura)),or="p-2 border border-blue-200 dark:border-blue-800 whitespace-nowrap text-gray-900 dark:text-white";return jsxRuntimeExports.jsxs("tr",{className:"hover:bg-blue-50 dark:hover:bg-[#151f38] transition-colors text-sm",children:[jsxRuntimeExports.jsx("td",{className:or,children:St.factura_id}),jsxRuntimeExports.jsx("td",{className:or+" max-w-[200px] truncate",title:sr,children:sr}),jsxRuntimeExports.jsx("td",{className:or+" max-w-[200px] truncate",title:St.factura_etapa??"N/A",children:St.factura_etapa||"N/A"}),jsxRuntimeExports.jsx("td",{className:or,children:St.factura_fecha||"N/A"}),jsxRuntimeExports.jsx("td",{className:"p-2 border border-blue-200 dark:border-blue-800 text-center",children:ir?jsxRuntimeExports.jsx("span",{className:"inline-block px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300 whitespace-nowrap",children:ir.nombre}):jsxRuntimeExports.jsx("span",{className:"text-gray-900 dark:text-white",children:"N/A"})}),jsxRuntimeExports.jsx("td",{className:or,children:St.factura_numero_autorizacion??"N/A"}),jsxRuntimeExports.jsx("td",{className:or+" max-w-[200px] truncate",title:St.factura_concepto??"N/A",children:St.factura_concepto||"N/A"}),jsxRuntimeExports.jsx("td",{className:or+" max-w-[200px] truncate",title:St.factura_razon_social_proveedor??"N/A",children:St.factura_razon_social_proveedor||"N/A"}),jsxRuntimeExports.jsx("td",{className:or+" max-w-[200px] truncate",title:St.factura_razon_social_adquiriente??"N/A",children:St.factura_razon_social_adquiriente||"N/A"}),jsxRuntimeExports.jsxs("td",{className:"p-2 border border-blue-200 dark:border-blue-800 whitespace-nowrap text-center space-x-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>nr(St),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",title:"Ver",children:jsxRuntimeExports.jsx(FaEye$1,{})}),jsxRuntimeExports.jsx("button",{onClick:()=>rr(St),className:"text-yellow-600 hover:text-yellow-800 dark:text-yellow-400 dark:hover:text-yellow-300",title:"Editar",children:jsxRuntimeExports.jsx(FaEdit,{})}),jsxRuntimeExports.jsx("button",{onClick:()=>ar(St),className:"text-red-600 hover:text-red-800 dark:hover:text-red-400",title:"Desactivar",children:jsxRuntimeExports.jsx(FaTrash$1,{})})]})]})}class EstadoFacturaRepository{async getAll(){return(await axiosInstance.get("/gestionProveedores/estado_facturas/")).data}}function TablaFacturas({facturas:St,onEdit:er,onView:tr,onAdd:rr,onDisable:nr,loading:ar=!1}){const[sr,ir]=reactExports.useState([]),[or,lr]=reactExports.useState([]);return reactExports.useEffect(()=>{(async()=>{try{const dr=await new EstadoFacturaRepository().getAll();ir(dr)}catch(ur){console.error("Error cargando estados de factura",ur)}})()},[]),reactExports.useEffect(()=>{(async()=>{try{const dr=await(await fetch("http://localhost:8000/api/gestionProveedores/centro_operaciones/")).json();lr(dr)}catch(ur){console.error("Error cargando centros:",ur)}})()},[]),jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx(HiOutlineDocumentText$1,{className:"w-8 h-8 text-blue-600 mr-3"}),jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold dark:text-white",children:"Facturas Electrnicas"})]}),jsxRuntimeExports.jsx("button",{onClick:rr,className:"px-4 py-2 bg-green-600 text-white text-sm rounded hover:bg-green-700",children:"+ Nueva Factura"})]}),jsxRuntimeExports.jsx("div",{className:"rounded-lg border border-blue-200 dark:border-blue-800 overflow-hidden",children:jsxRuntimeExports.jsxs("table",{className:"w-full text-sm",children:[jsxRuntimeExports.jsx("thead",{className:"bg-blue-50 text-blue-700 dark:bg-[#0f172a] dark:text-blue-300 font-semibold",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"p-2 border border-blue-200 dark:border-blue-800",children:"ID"}),jsxRuntimeExports.jsx("th",{className:"p-2 border border-blue-200 dark:border-blue-800",children:"Centro de operaciones"}),jsxRuntimeExports.jsx("th",{className:"p-2 border border-blue-200 dark:border-blue-800",children:"Etapa"}),jsxRuntimeExports.jsx("th",{className:"p-2 border border-blue-200 dark:border-blue-800",children:"Fecha"}),jsxRuntimeExports.jsx("th",{className:"p-2 border border-blue-200 dark:border-blue-800",children:"Estado factura"}),jsxRuntimeExports.jsx("th",{className:"p-2 border border-blue-200 dark:border-blue-800",children:"Factura autorizada"}),jsxRuntimeExports.jsx("th",{className:"p-2 border border-blue-200 dark:border-blue-800",children:"Concepto"}),jsxRuntimeExports.jsx("th",{className:"p-2 border border-blue-200 dark:border-blue-800",children:"Razn social proveedor"}),jsxRuntimeExports.jsx("th",{className:"p-2 border border-blue-200 dark:border-blue-800",children:"Razn social adquiriente"}),jsxRuntimeExports.jsx("th",{className:"p-2 border border-blue-200 dark:border-blue-800",children:"Acciones"})]})}),jsxRuntimeExports.jsx("tbody",{children:St.map(cr=>jsxRuntimeExports.jsx(FacturaRow,{factura:cr,centros:or,estadosFactura:sr,onEdit:er,onView:tr,onDisable:nr},cr.factura_id))})]})}),St.length===0&&!ar&&jsxRuntimeExports.jsxs("div",{className:"text-center py-6 text-gray-600 dark:text-gray-400",children:[jsxRuntimeExports.jsx(FaFileInvoice,{className:"w-10 h-10 mx-auto mb-2 text-blue-600 dark:text-blue-400"}),jsxRuntimeExports.jsx("p",{className:"text-base font-medium",children:"No se encontraron facturas"})]})]})}const fieldLabels={descripcionFactura:"Descripcin Factura",observacionesGestion:"Observaciones Gestin",observacionesInconsistencias:"Observaciones Inconsistencias",observacionesConformidad:"Observaciones Conformidad",observacionesPago:"Observaciones Pago",observacionesContabilidad:"Observaciones Contabilidad",observacionesRevision:"Observaciones Revisin",observacionesImpuestos:"Observaciones Impuestos",observacionesContraloria:"Observaciones Contralora"},Highlighted=({children:St})=>jsxRuntimeExports.jsx("span",{className:"bg-green-200 text-green-900 font-semibold px-1 rounded",children:St}),VerRegistroFacturaModal=({open:St,onClose:er,registroFactura:tr})=>{var nr,ar;if(!St||!tr)return null;const rr=(sr,ir,or=!0)=>jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("span",{className:"text-gray-800 dark:text-gray-200 inline-block",children:[sr,":"," ",or?jsxRuntimeExports.jsx(Highlighted,{children:ir||"-"}):jsxRuntimeExports.jsx("span",{children:ir||"-"})]})});return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg w-full max-w-3xl overflow-y-auto max-h-[90vh]",children:[jsxRuntimeExports.jsxs("h2",{className:"text-lg font-semibold mb-2 text-blue-700 dark:text-blue-300",children:["Factura Electrnica, Ver registro"," ",jsxRuntimeExports.jsxs("span",{className:"text-lg font-semibold mb-2 text-blue-700 dark:text-blue-300",children:["[ID: ",tr.factura_id,"]"]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[rr("Centro de operaciones",tr.factura_centro_operaciones_nombre,!1),rr("ID",tr.factura_id),rr("Etapa",tr.factura_etapa),rr("Factura Autorizada",tr.factura_numero_autorizacion),rr("Estado de la Factura",(nr=tr.factura_estado_factura)==null?void 0:nr.nombre),rr("Razon Social Adquiriente",tr.factura_razon_social_adquiriente),rr("Razon Social Proveedor",tr.factura_razon_social_proveedor),rr("Centro de costos",tr.factura_centro_costo_nombre,!1),rr("Valor",tr.factura_valor),rr("Concepto",tr.factura_concepto),rr("Causal Devolucin y/o Anulacin",tr.causal_anulacion_nombre,!1),rr("Causal Devolucin Revisin",tr.causal_revision_nombre,!1),rr("Fecha Factura",tr.factura_fecha),rr("Causal Devolucin Impuestos",tr.causal_impuestos_nombre,!1),rr("Causal Devolucin Contabilidad",tr.causal_contabilidad_nombre,!1)]}),(ar=tr.detalles)!=null&&ar.length?tr.detalles.map((sr,ir)=>jsxRuntimeExports.jsx("table",{className:"w-full mb-6 border border-gray-300 dark:border-gray-600 text-sm text-gray-800 dark:text-gray-200",children:jsxRuntimeExports.jsx("tbody",{children:Object.entries(sr).filter(([or])=>!["id","factura","estado"].includes(or)).map(([or,lr])=>jsxRuntimeExports.jsxs(U$5.Fragment,{children:[jsxRuntimeExports.jsx("tr",{className:"border-b border-gray-300 dark:border-gray-600",children:jsxRuntimeExports.jsx("td",{className:"p-3 font-semibold",children:fieldLabels[or]||or})}),jsxRuntimeExports.jsx("tr",{className:"border-b border-gray-300 dark:border-gray-600",children:jsxRuntimeExports.jsx("td",{className:"p-3",children:lr||"-"})})]},or))})},ir)):jsxRuntimeExports.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"No hay detalles registrados."}),jsxRuntimeExports.jsx("div",{className:"mt-6 flex justify-end",children:jsxRuntimeExports.jsx("button",{onClick:er,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Cerrar"})})]})})},CrearFacturaModal=({open:St,onClose:er,onCreated:tr})=>{const[rr,nr]=reactExports.useState({}),[ar,sr]=reactExports.useState([]),[ir,or]=reactExports.useState([]),[lr,cr]=reactExports.useState([]),[ur,dr]=reactExports.useState({descripcionFactura:"",observacionesGestion:"",observacionesInconsistencias:"",observacionesConformidad:"",observacionesPago:"",observacionesContabilidad:"",observacionesRevision:"",observacionesImpuestos:"",observacionesContraloria:"",estado:"Pendiente"});reactExports.useEffect(()=>{St&&(axiosInstance.get("/gestionProveedores/centro_operaciones/").then(pr=>sr(pr.data)),axiosInstance.get("/gestionProveedores/estado_facturas/").then(pr=>or(pr.data)),axiosInstance.get("/gestionProveedores/causales_devolucion/").then(pr=>cr(pr.data)))},[St]);const fr=pr=>{const{name:hr,value:gr}=pr.target;nr(vr=>({...vr,[hr]:hr==="factura_estado_factura_id"?Number(gr):gr}))},mr=pr=>{const{name:hr,value:gr}=pr.target;dr(vr=>({...vr,[hr]:gr}))},xr=async()=>{var pr;try{const hr=await axiosInstance.post("/gestionProveedores/factura/",rr),gr=new FormData;Object.entries(ur).forEach(([br,yr])=>gr.append(br,yr)),gr.append("factura",String(hr.data.factura_id)),await new FacturaDetalleRepository().create(gr),alert("Factura y detalle creados exitosamente"),tr(),er()}catch(hr){console.error("ERROR DETALLADO:",((pr=hr==null?void 0:hr.response)==null?void 0:pr.data)||hr.message),alert("Error creando factura o detalle. Ver consola para ms informacin.")}};return St?jsxRuntimeExports.jsxs("div",{className:"w-full max-h-[80vh] overflow-y-auto px-6 py-4 pb-20 bg-white dark:bg-[#1e293b] border border-blue-200 dark:border-blue-800 text-black dark:text-white",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 text-blue-700 dark:text-blue-300",children:"Nueva Factura"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsx("input",{name:"factura_id_factura_electronica",placeholder:"ID factura electrnica",onChange:fr,className:"p-2 border rounded bg-white dark:bg-gray-700 text-black dark:text-white"}),jsxRuntimeExports.jsx("input",{name:"factura_etapa",placeholder:"Etapa",onChange:fr,className:"p-2 border rounded bg-white dark:bg-gray-700 text-black dark:text-white"}),jsxRuntimeExports.jsx("input",{name:"factura_fecha",type:"date",onChange:fr,className:"p-2 border rounded bg-white dark:bg-gray-700 text-black dark:text-white"}),jsxRuntimeExports.jsx("input",{name:"factura_numero_autorizacion",placeholder:"Nro Autorizacin",onChange:fr,className:"p-2 border rounded bg-white dark:bg-gray-700 text-black dark:text-white"}),jsxRuntimeExports.jsx("input",{name:"factura_concepto",placeholder:"Concepto",onChange:fr,className:"p-2 border rounded bg-white dark:bg-gray-700 text-black dark:text-white"}),jsxRuntimeExports.jsx("input",{name:"factura_razon_social_proveedor",placeholder:"Razn Social Proveedor",onChange:fr,className:"p-2 border rounded bg-white dark:bg-gray-700 text-black dark:text-white"}),jsxRuntimeExports.jsx("input",{name:"factura_razon_social_adquiriente",placeholder:"Razn Social Adquiriente",onChange:fr,className:"p-2 border rounded bg-white dark:bg-gray-700 text-black dark:text-white"}),jsxRuntimeExports.jsx("input",{name:"factura_valor",placeholder:"Valor",onChange:fr,className:"p-2 border rounded bg-white dark:bg-gray-700 text-black dark:text-white"}),jsxRuntimeExports.jsxs("div",{className:"col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Estado de la Factura"}),jsxRuntimeExports.jsx("div",{className:"flex justify-end gap-4 mt-4",children:ir.map(pr=>jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2 text-sm text-black dark:text-white",children:[jsxRuntimeExports.jsx("input",{type:"radio",name:"factura_estado_factura_id",value:pr.estado_id,checked:rr.factura_estado_factura_id===pr.estado_id,onChange:fr,className:"form-radio h-5 w-5 text-blue-600"}),jsxRuntimeExports.jsx("span",{children:pr.nombre})]},pr.estado_id))})]}),jsxRuntimeExports.jsxs("select",{name:"factura_centro_operaciones",onChange:fr,className:"p-2 border rounded bg-white dark:bg-gray-700 text-black dark:text-white",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Seleccione centro operaciones"}),ar.map(pr=>jsxRuntimeExports.jsx("option",{value:pr.operaciones_id,children:pr.operaciones_nombre},pr.operaciones_id))]}),jsxRuntimeExports.jsxs("select",{name:"causal_anulacion",onChange:fr,className:"p-2 border rounded bg-white dark:bg-gray-700 text-black dark:text-white",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Causal Anulacin"}),lr.map(pr=>jsxRuntimeExports.jsx("option",{value:pr.causalid,children:pr.causal_nombre},pr.causalid))]}),jsxRuntimeExports.jsxs("div",{className:"col-span-2 border-t pt-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-2 text-blue-700 dark:text-blue-300",children:"Detalle de la Factura"}),Object.entries(ur).map(([pr,hr])=>pr!=="estado"?jsxRuntimeExports.jsx("textarea",{name:pr,value:hr??"",placeholder:pr,onChange:mr,className:"w-full p-2 mb-2 border rounded bg-white dark:bg-gray-700 text-black dark:text-white"},pr):null)]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[jsxRuntimeExports.jsx("button",{onClick:er,className:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600",children:"Cancelar"}),jsxRuntimeExports.jsx("button",{onClick:xr,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Guardar"})]})]}):null};class FacturaRepository{async getAll(){return(await axiosInstance.get("/gestionProveedores/factura/")).data}async create(er){return(await axiosInstance.post("/gestionProveedores/factura/",er,{headers:{"Content-Type":"multipart/form-data"}})).data}async update(er,tr){const rr=new FormData;for(const ar in tr)tr[ar]!==void 0&&tr[ar]!==null&&rr.append(ar,tr[ar]);return(await axiosInstance.patch(`/gestionProveedores/factura/${er}/`,rr,{headers:{"Content-Type":"multipart/form-data"}})).data}async delete(er){await axiosInstance.delete(`/gestionProveedores/factura/${er}/`)}async download(er){return(await axiosInstance.get(`/gestionProveedores/factura/${er}/download/`,{responseType:"blob"})).data}async preview(er){return(await axiosInstance.get(`/gestionProveedores/factura/${er}/preview/`,{responseType:"blob"})).data}}class CentroOperacionesRepository{async getAll(){return(await axiosInstance.get("/gestionProveedores/centro_operaciones/")).data}}class CausalDevolucionRepository{async getAll(){return(await axiosInstance.get("/gestionProveedores/causales_devolucion/")).data}}class FacturaService{constructor(er,tr,rr,nr){_i(this,"facturaRepo");_i(this,"centroRepo");_i(this,"estadoRepo");_i(this,"causalRepo");this.facturaRepo=er,this.centroRepo=tr,this.estadoRepo=rr,this.causalRepo=nr}async getFacturas(){return this.facturaRepo.getAll()}async updateFactura(er,tr){return this.facturaRepo.update(er,tr)}async getCentrosOperaciones(){if(!this.centroRepo)throw new Error("CentroOperacionesRepository no provisto");return this.centroRepo.getAll()}async getEstadosFactura(){if(!this.estadoRepo)throw new Error("EstadoFacturaRepository no provisto");return this.estadoRepo.getAll()}async getCausalesDevolucion(){if(!this.causalRepo)throw new Error("CausalDevolucionRepository no provisto");return this.causalRepo.getAll()}formatValor(er){return`$${er.toLocaleString()}`}getEstadoLabel(er){return er?"Activa":"Inactiva"}}const useFacturaCRUD=()=>{const[St,er]=reactExports.useState([]),[tr,rr]=reactExports.useState(!0),[nr,ar]=reactExports.useState(null),sr=new FacturaService(new FacturaRepository,new CentroOperacionesRepository,new EstadoFacturaRepository,new CausalDevolucionRepository),ir=async()=>{try{rr(!0);const cr=(await sr.getFacturas()).filter(ur=>ur.factura_estado===!0);er(cr),ar(null)}catch(lr){ar("No se pudieron cargar las facturas"),console.error("Error al cargar facturas:",lr)}finally{rr(!1)}},or=async(lr,cr)=>{try{const ur=new FormData;for(const fr in cr)cr[fr]!==null&&cr[fr]!==void 0&&ur.append(fr,cr[fr].toString());const dr=await sr.updateFactura(lr,ur);return er(fr=>fr.map(mr=>mr.factura_id===lr?dr:mr)),dr}catch(ur){throw console.error("Error actualizando factura:",ur),ur}};return reactExports.useEffect(()=>{ir()},[]),{facturas:St,loading:tr,error:nr,fetchFacturas:ir,updateFactura:or,facturaService:sr}};function FacturasPage(){const{facturas:St,fetchFacturas:er,loading:tr,error:rr}=useFacturaCRUD(),[nr,ar]=reactExports.useState({isViewOpen:!1,isAddOpen:!1,isEditOpen:!1}),[sr,ir]=reactExports.useState(null),[or,lr]=reactExports.useState(null),cr=mr=>{lr(mr)},ur=async()=>{if(or)try{if(!(await fetch(`http://localhost:8000/api/gestionProveedores/factura/${or.factura_id}/`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({factura_estado:!1})})).ok)throw new Error("Error al desactivar la factura");lr(null),await er()}catch(mr){console.error("Error al desactivar factura:",mr),alert("No se pudo desactivar la factura.")}},dr=mr=>{ar(xr=>({...xr,[mr]:!0}))},fr=mr=>{ar(xr=>({...xr,[mr]:!1}))};return jsxRuntimeExports.jsxs("div",{className:"w-full h-full m-0 p-0 bg-transparent",children:[rr&&jsxRuntimeExports.jsx("div",{className:"text-red-600 mb-4",children:rr}),!nr.isAddOpen&&!nr.isEditOpen?jsxRuntimeExports.jsx(TablaFacturas,{facturas:St,onEdit:async mr=>{try{const pr=await(await fetch(`http://localhost:8000/api/gestionProveedores/factura/${mr.factura_id}/`)).json();ir(pr),dr("isEditOpen")}catch(xr){console.error("Error al cargar factura para editar:",xr)}},onView:async mr=>{try{const pr=await(await fetch(`http://localhost:8000/api/gestionProveedores/factura/${mr.factura_id}/`)).json();ir(pr),dr("isViewOpen")}catch(xr){console.error("Error al obtener detalle de factura:",xr)}},onAdd:()=>dr("isAddOpen"),onDisable:cr,loading:tr}):nr.isAddOpen?jsxRuntimeExports.jsx(CrearFacturaModal,{open:!0,onClose:()=>fr("isAddOpen"),onCreated:er}):nr.isEditOpen&&sr?jsxRuntimeExports.jsx(EditarFacturaModal,{open:!0,factura:sr,onClose:()=>fr("isEditOpen"),onUpdated:er}):null,nr.isViewOpen&&sr&&jsxRuntimeExports.jsx(VerRegistroFacturaModal,{open:!0,registroFactura:sr,onClose:()=>fr("isViewOpen")}),or&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-[#1e293b] p-6 rounded-xl border border-red-600 shadow-lg w-full max-w-md",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-red-600 mb-4",children:"Confirmar eliminacin"}),jsxRuntimeExports.jsxs("p",{className:"text-gray-800 dark:text-gray-200 mb-6",children:["Realmente desea eliminar esta factura"," ",jsxRuntimeExports.jsx("strong",{children:or.factura_id}),"?"]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:()=>lr(null),className:"px-4 py-2 rounded bg-gray-400 hover:bg-gray-500 text-white",children:"Cancelar"}),jsxRuntimeExports.jsx("button",{onClick:ur,className:"px-4 py-2 rounded bg-red-600 hover:bg-red-700 text-white",children:"Eliminar"})]})]})})]})}const ConfirmDialog=({isOpen:St,onClose:er,onConfirm:tr,title:rr="Confirmar accin",message:nr,confirmText:ar="Confirmar",cancelText:sr="Cancelar",type:ir="warning"})=>{const or=()=>{tr(),er()},cr=(()=>{switch(ir){case"danger":return{icon:"",confirmButton:"bg-red-600 hover:bg-red-700 text-white",titleColor:"text-red-900 dark:text-red-100"};case"warning":return{icon:"",confirmButton:"bg-yellow-600 hover:bg-yellow-700 text-white",titleColor:"text-yellow-900 dark:text-yellow-100"};case"info":return{icon:"",confirmButton:"bg-blue-600 hover:bg-blue-700 text-white",titleColor:"text-blue-900 dark:text-blue-100"};default:return{icon:"",confirmButton:"bg-gray-600 hover:bg-gray-700 text-white",titleColor:"text-gray-900 dark:text-gray-100"}}})();return jsxRuntimeExports.jsx(AnimatePresence,{children:St&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:jsxRuntimeExports.jsx(motion.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-md w-full",children:jsxRuntimeExports.jsxs("div",{className:"p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[jsxRuntimeExports.jsx("span",{className:"text-2xl",children:cr.icon}),jsxRuntimeExports.jsx("h3",{className:`text-lg font-semibold ${cr.titleColor}`,children:rr})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:nr}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:er,className:"px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg transition-colors",children:sr}),jsxRuntimeExports.jsx("button",{onClick:or,className:`px-4 py-2 rounded-lg transition-colors ${cr.confirmButton}`,children:ar})]})]})})})})};class TerceroRepository{constructor(){_i(this,"baseUrl","/terceros")}async getAll(){try{const er=await axiosInstance.get(`${this.baseUrl}/terceros/`);return console.log(" Terceros obtenidos:",er.data),er.data}catch(er){throw console.error(" Error al obtener terceros:",er),new Error("Error al cargar los terceros")}}async getById(er){try{const tr=await axiosInstance.get(`${this.baseUrl}/terceros/${er}/`);return console.log(" Tercero obtenido:",tr.data),tr.data}catch(tr){throw console.error(` Error al obtener tercero ${er}:`,tr),new Error(`Error al cargar el tercero con ID ${er}`)}}async create(er){var tr;try{console.log(" Creando tercero:",er);const rr=await axiosInstance.post(`${this.baseUrl}/terceros/`,er);return console.log(" Tercero creado:",rr.data),rr.data}catch(rr){if(console.error(" Error al crear tercero:",rr),(tr=rr.response)!=null&&tr.data){const nr=rr.response.data;if(typeof nr=="object"){const ar=Object.entries(nr).map(([sr,ir])=>`${sr}: ${Array.isArray(ir)?ir.join(", "):ir}`).join(`
`);throw new Error(`Errores de validacin:
${ar}`)}}throw new Error(rr.message||"Error al crear el tercero")}}async update(er){var tr;try{console.log(" Actualizando tercero:",er);const rr=await axiosInstance.put(`${this.baseUrl}/terceros/${er.tercero_id}/`,er);return console.log(" Tercero actualizado:",rr.data),rr.data}catch(rr){if(console.error(" Error al actualizar tercero:",rr),(tr=rr.response)!=null&&tr.data){const nr=rr.response.data;if(typeof nr=="object"){const ar=Object.entries(nr).map(([sr,ir])=>`${sr}: ${Array.isArray(ir)?ir.join(", "):ir}`).join(`
`);throw new Error(`Errores de validacin:
${ar}`)}}throw new Error(rr.message||"Error al actualizar el tercero")}}async delete(er){var tr,rr;try{await axiosInstance.delete(`${this.baseUrl}/terceros/${er}/`),console.log(` Tercero ${er} eliminado exitosamente`)}catch(nr){throw console.error(` Error al eliminar tercero ${er}:`,nr),new Error(`Error al eliminar el tercero: ${((rr=(tr=nr.response)==null?void 0:tr.data)==null?void 0:rr.detail)||nr.message}`)}}async getPaises(){try{const er=await axiosInstance.get(`${this.baseUrl}/paises/`);return console.log(" Pases obtenidos:",er.data),er.data}catch(er){throw console.error(" Error al obtener pases:",er),new Error("Error al cargar los pases")}}async getDepartamentos(er){try{const tr=er?`${this.baseUrl}/departamentos/?pais=${er}`:`${this.baseUrl}/departamentos/`,rr=await axiosInstance.get(tr);return console.log(" Departamentos obtenidos:",rr.data),rr.data}catch(tr){throw console.error(" Error al obtener departamentos:",tr),new Error("Error al cargar los departamentos")}}async getMunicipios(er){try{const tr=er?`${this.baseUrl}/municipios/?departamento=${er}`:`${this.baseUrl}/municipios/`,rr=await axiosInstance.get(tr);return console.log(" Municipios obtenidos:",rr.data),rr.data}catch(tr){throw console.error(" Error al obtener municipios:",tr),new Error("Error al cargar los municipios")}}async getTiposTercero(){try{const er=await axiosInstance.get(`${this.baseUrl}/tipos-tercero/`);return console.log(" Tipos de tercero obtenidos:",er.data),er.data}catch(er){throw console.error(" Error al obtener tipos de tercero:",er),new Error("Error al cargar los tipos de tercero")}}}class TerceroService{constructor(){_i(this,"repository");this.repository=new TerceroRepository}async getAllTerceros(){return await this.repository.getAll()}async getTerceroById(er){return await this.repository.getById(er)}async createTercero(er){var tr,rr,nr;if(!((tr=er.tercero_codigo)!=null&&tr.trim()))throw new Error("El cdigo del tercero es obligatorio");if(!er.tercero_tipo_documento)throw new Error("El tipo de documento es obligatorio");if((er.tercero_tipo_documento==="CC"||er.tercero_tipo_documento==="TI"||er.tercero_tipo_documento==="CE")&&!((rr=er.tercero_nombre_completo)!=null&&rr.trim()))throw new Error("El nombre completo es obligatorio para personas naturales");if((er.tercero_tipo_documento==="NIT"||er.tercero_tipo_documento==="NI")&&!((nr=er.tercero_razon_social)!=null&&nr.trim()))throw new Error("La razn social es obligatoria para personas jurdicas");return await this.repository.create(er)}async updateTercero(er){return await this.repository.update(er)}async deleteTercero(er){await this.repository.delete(er)}async getPaises(){return await this.repository.getPaises()}async getDepartamentos(er){return await this.repository.getDepartamentos(er)}async getMunicipios(er){return await this.repository.getMunicipios(er)}async getTiposTercero(){return await this.repository.getTiposTercero()}getTipoDocumentoLabel(er){return{CC:"Cdula de Ciudadana",TI:"Tarjeta de Identidad",CE:"Cdula de Extranjera",PA:"Pasaporte",RC:"Registro Civil",NIT:"Nmero de Identificacin Tributaria",OTRO:"Otro"}[er]||er}getNombreCompleto(er){return er.tercero_nombre_completo||er.tercero_razon_social||"Sin nombre"}esPersonaNatural(er){return["CC","TI","CE","PA","RC"].includes(er)}esPersonaJuridica(er){return["NIT","OTRO"].includes(er)}}const useNotifications=()=>({notifySuccess:St=>notify.success(St),notifyError:St=>notify.error(St),notifyInfo:St=>notify.info(St),notifyWarning:St=>notify.warning(St)}),useTerceros=()=>{const[St,er]=reactExports.useState([]),[tr,rr]=reactExports.useState([]),[nr,ar]=reactExports.useState([]),[sr,ir]=reactExports.useState([]),[or,lr]=reactExports.useState([]),[cr,ur]=reactExports.useState(!0),[dr,fr]=reactExports.useState(null),mr=new TerceroService,{notifySuccess:xr,notifyError:pr}=useNotifications(),hr=async()=>{try{ur(!0),fr(null);const _r=await mr.getAllTerceros();er(Array.isArray(_r)?_r:[])}catch(_r){fr(_r.message||"Error al cargar terceros"),pr("Error al cargar los terceros"),er([])}finally{ur(!1)}},gr=async()=>{try{const[_r,Cr]=await Promise.all([mr.getPaises(),mr.getTiposTercero()]);rr(Array.isArray(_r)?_r:[]),lr(Array.isArray(Cr)?Cr:[])}catch(_r){console.error("Error al cargar datos relacionados:",_r)}},vr=async _r=>{try{const Cr=await mr.getDepartamentos(_r);ar(Array.isArray(Cr)?Cr:[]),ir([])}catch(Cr){console.error("Error al cargar departamentos:",Cr),ar([])}},br=async _r=>{try{const Cr=await mr.getMunicipios(_r);ir(Array.isArray(Cr)?Cr:[])}catch(Cr){console.error("Error al cargar municipios:",Cr),ir([])}},yr=async _r=>{try{console.log(" Creando tercero:",_r);const Cr=await mr.createTercero(_r);return er(Or=>[...Or,Cr]),xr("Tercero creado exitosamente"),!0}catch(Cr){return console.error(" Error al crear tercero:",Cr),pr(Cr.message||"Error al crear el tercero"),!1}},Er=async _r=>{try{const Cr=await mr.updateTercero(_r);return er(Or=>Or.map(Pr=>Pr.tercero_id===Cr.tercero_id?Cr:Pr)),xr("Tercero actualizado exitosamente"),!0}catch(Cr){return pr(Cr.message||"Error al actualizar el tercero"),!1}},jr=async _r=>{try{return await mr.deleteTercero(_r),er(Cr=>Cr.filter(Or=>Or.tercero_id!==_r)),xr("Tercero eliminado exitosamente"),!0}catch(Cr){return pr(Cr.message||"Error al eliminar el tercero"),!1}};return reactExports.useEffect(()=>{(async()=>{await Promise.all([hr(),gr()])})()},[]),{terceros:St,paises:tr,departamentos:nr,municipios:sr,tiposTercero:or,loading:cr,error:dr,fetchTerceros:hr,fetchDepartamentos:vr,fetchMunicipios:br,createTercero:yr,updateTercero:Er,deleteTercero:jr,terceroService:mr}},useTerceroFilters=St=>{const[er,tr]=reactExports.useState({searchTerm:"",selectedTipoDocumento:"",selectedTipoTercero:"",selectedEstado:"",selectedProveedor:""}),rr=reactExports.useMemo(()=>St.filter(sr=>{var fr,mr,xr,pr,hr,gr,vr,br;const ir=er.searchTerm.toLowerCase(),or=!er.searchTerm||((fr=sr.tercero_codigo)==null?void 0:fr.toLowerCase().includes(ir))||((mr=sr.tercero_nombre_completo)==null?void 0:mr.toLowerCase().includes(ir))||((xr=sr.tercero_razon_social)==null?void 0:xr.toLowerCase().includes(ir))||((pr=sr.tercero_email)==null?void 0:pr.toLowerCase().includes(ir))||((hr=sr.tercero_telefono)==null?void 0:hr.toLowerCase().includes(ir)),lr=!er.selectedTipoDocumento||sr.tercero_tipo_documento===er.selectedTipoDocumento,cr=!er.selectedTipoTercero||((gr=sr.tercero_tipo)==null?void 0:gr.toString())===er.selectedTipoTercero,ur=!er.selectedEstado||((vr=sr.tercero_estado)==null?void 0:vr.toString())===er.selectedEstado,dr=!er.selectedProveedor||((br=sr.tercero_proveedor)==null?void 0:br.toString())===er.selectedProveedor;return or&&lr&&cr&&ur&&dr}),[St,er]);return{filters:er,filteredTerceros:rr,updateFilter:(sr,ir)=>{tr(or=>({...or,[sr]:ir}))},clearFilters:()=>{tr({searchTerm:"",selectedTipoDocumento:"",selectedTipoTercero:"",selectedEstado:"",selectedProveedor:""})}}},TIPOS_DOCUMENTO$1=[{value:"CC",label:"Cdula de Ciudadana"},{value:"TI",label:"Tarjeta de Identidad"},{value:"CE",label:"Cdula de Extranjera"},{value:"PA",label:"Pasaporte"},{value:"RC",label:"Registro Civil"},{value:"NIT",label:"Nmero de Identificacin Tributaria"},{value:"OTRO",label:"Otro"}];function TerceroFiltersComponent({filters:St,tiposTercero:er,onUpdateFilter:tr,onClearFilters:rr}){return jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4 mb-6",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-6 gap-4",children:[jsxRuntimeExports.jsxs("select",{value:St.selectedTipoDocumento,onChange:nr=>tr("selectedTipoDocumento",nr.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-blue-500 dark:focus:border-blue-400 transition-colors",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Todos los documentos"}),TIPOS_DOCUMENTO$1.map(nr=>jsxRuntimeExports.jsx("option",{value:nr.value,children:nr.label},nr.value))]}),jsxRuntimeExports.jsxs("select",{value:St.selectedTipoTercero,onChange:nr=>tr("selectedTipoTercero",nr.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-blue-500 dark:focus:border-blue-400 transition-colors",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Todos los tipos"}),er.map(nr=>jsxRuntimeExports.jsx("option",{value:nr.id,children:nr.nombre},nr.id))]}),jsxRuntimeExports.jsxs("select",{value:St.selectedEstado,onChange:nr=>tr("selectedEstado",nr.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-blue-500 dark:focus:border-blue-400 transition-colors",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Todos los estados"}),jsxRuntimeExports.jsx("option",{value:"true",children:"Activos"}),jsxRuntimeExports.jsx("option",{value:"false",children:"Inactivos"})]}),jsxRuntimeExports.jsxs("select",{value:St.selectedProveedor,onChange:nr=>tr("selectedProveedor",nr.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-blue-500 dark:focus:border-blue-400 transition-colors",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Todos"}),jsxRuntimeExports.jsx("option",{value:"true",children:"Es proveedor"}),jsxRuntimeExports.jsx("option",{value:"false",children:"No es proveedor"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(FaSearch,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Buscar terceros...",value:St.searchTerm,onChange:nr=>tr("searchTerm",nr.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-blue-500 dark:focus:border-blue-400 transition-colors"})]}),jsxRuntimeExports.jsxs("button",{onClick:rr,className:"px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors flex items-center gap-2 justify-center",children:[jsxRuntimeExports.jsx(FaTimes,{size:14}),"Limpiar"]})]})})}const parseLocalDate=St=>{if(!St)return new Date;const[er,tr,rr]=St.split("-").map(Number);return new Date(er,tr-1,rr)},formatDateToInput=St=>{if(!St)return"";const er=typeof St=="string"?parseLocalDate(St):St,tr=er.getFullYear(),rr=String(er.getMonth()+1).padStart(2,"0"),nr=String(er.getDate()).padStart(2,"0");return`${tr}-${rr}-${nr}`},formatDisplayDate=(St,er)=>{if(!St)return"";const tr=parseLocalDate(St),rr={year:"numeric",month:"long",day:"2-digit",timeZone:"America/Bogota"};return tr.toLocaleDateString("es-ES",{...rr,...er})},formatBirthdayDate=St=>formatDisplayDate(St,{day:"2-digit",month:"short"}),getCurrentLocalDate=()=>formatDateToInput(new Date),getDaysUntilDate=St=>{const er=new Date,tr=parseLocalDate(St);er.setHours(0,0,0,0),tr.setHours(0,0,0,0);const rr=tr.getTime()-er.getTime();return Math.ceil(rr/(1e3*60*60*24))};function TerceroTable({terceros:St,tiposTercero:er,onView:tr,onEdit:rr,onDelete:nr,getTipoDocumentoLabel:ar,getNombreCompleto:sr}){const ir=lr=>{if(!lr)return"Sin tipo";const cr=er.find(ur=>ur.id===lr);return(cr==null?void 0:cr.nombre)||"Desconocido"},or=lr=>["CC","TI","CE","PA","RC"].includes(lr);return St.length===0?jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-8 text-center",children:[jsxRuntimeExports.jsx(FaUser,{className:"w-12 h-12 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-lg font-medium text-gray-500 dark:text-gray-400",children:"No se encontraron terceros"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500",children:"Intenta ajustar los filtros de bsqueda"})]}):jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Tercero"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Documento"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Contacto"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Tipo"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Estado"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Acciones"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:St.map(lr=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:jsxRuntimeExports.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-200 dark:bg-gray-600 flex items-center justify-center",children:or(lr.tercero_tipo_documento)?jsxRuntimeExports.jsx(FaUser,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"}):jsxRuntimeExports.jsx(FaBuilding,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"})})}),jsxRuntimeExports.jsxs("div",{className:"ml-4",children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:sr(lr)}),lr.tercero_direccion&&jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:lr.tercero_direccion})]})]})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-900 dark:text-gray-100",children:[jsxRuntimeExports.jsx("div",{className:"font-medium",children:lr.tercero_codigo}),jsxRuntimeExports.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:ar(lr.tercero_tipo_documento)})]})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-900 dark:text-gray-100",children:[lr.tercero_telefono&&jsxRuntimeExports.jsx("div",{children:lr.tercero_telefono}),lr.tercero_email&&jsxRuntimeExports.jsx("div",{className:"text-gray-500 dark:text-gray-400 truncate max-w-xs",children:lr.tercero_email})]})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-900 dark:text-gray-100",children:[jsxRuntimeExports.jsx("div",{children:ir(lr.tercero_tipo)}),jsxRuntimeExports.jsxs("div",{className:"flex gap-1 mt-1",children:[lr.tercero_proveedor&&jsxRuntimeExports.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:"Proveedor"}),lr.tercero_obligado_facturar&&jsxRuntimeExports.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",children:"Facturar"})]})]})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${lr.tercero_estado?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:lr.tercero_estado?"Activo":"Inactivo"})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>tr(lr),className:"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-300",title:"Ver detalles",children:jsxRuntimeExports.jsx(FaEye$1,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>rr(lr),className:"text-yellow-600 hover:text-yellow-900 dark:text-yellow-400 dark:hover:text-yellow-300",title:"Editar",children:jsxRuntimeExports.jsx(FaEdit,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>nr(lr),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",title:"Eliminar",children:jsxRuntimeExports.jsx(FaTrash$1,{className:"h-4 w-4"})})]})})]},lr.tercero_id))})]})})})}function TerceroForm({tercero:St,paises:er,departamentos:tr,municipios:rr,tiposTercero:nr,onSubmit:ar,onCancel:sr,onDepartamentoChange:ir,onMunicipioChange:or,loading:lr}){const cr=!!St,[ur,dr]=reactExports.useState({tercero_tipo_documento:(St==null?void 0:St.tercero_tipo_documento)||"CC",tercero_codigo:(St==null?void 0:St.tercero_codigo)||"",tercero_nombre_completo:(St==null?void 0:St.tercero_nombre_completo)||"",tercero_razon_social:(St==null?void 0:St.tercero_razon_social)||"",tercero_fecha_nacimiento:St!=null&&St.tercero_fecha_nacimiento?formatDateToInput(St.tercero_fecha_nacimiento):"",tercero_direccion:(St==null?void 0:St.tercero_direccion)||"",tercero_telefono:(St==null?void 0:St.tercero_telefono)||"",tercero_email:(St==null?void 0:St.tercero_email)||"",tercero_pais:(St==null?void 0:St.tercero_pais)||0,tercero_departamento:(St==null?void 0:St.tercero_departamento)||0,tercero_municipio:(St==null?void 0:St.tercero_municipio)||0,tercero_obligado_facturar:(St==null?void 0:St.tercero_obligado_facturar)??!1,tercero_proveedor:(St==null?void 0:St.tercero_proveedor)??!1,tercero_tipo:(St==null?void 0:St.tercero_tipo)||0,tercero_estado:(St==null?void 0:St.tercero_estado)??!0}),[fr,mr]=reactExports.useState({}),xr=["CC","TI","CE","PA","RC"].includes(ur.tercero_tipo_documento||""),pr=["NIT","NI"].includes(ur.tercero_tipo_documento||""),hr=br=>{const{name:yr,value:Er,type:jr}=br.target;let _r=Er;jr==="checkbox"?_r=br.target.checked:(yr==="tercero_pais"||yr==="tercero_departamento"||yr==="tercero_municipio"||yr==="tercero_tipo")&&(_r=parseInt(Er)||0),dr(Cr=>({...Cr,[yr]:_r})),fr[yr]&&mr(Cr=>({...Cr,[yr]:""})),yr==="tercero_pais"&&_r>0&&(ir(_r),dr(Cr=>({...Cr,tercero_departamento:0,tercero_municipio:0}))),yr==="tercero_departamento"&&_r>0&&(or(_r),dr(Cr=>({...Cr,tercero_municipio:0}))),yr==="tercero_tipo_documento"&&(["CC","TI","CE","PA","RC"].includes(_r)?dr(Cr=>({...Cr,tercero_razon_social:""})):["NIT","NI"].includes(_r)&&dr(Cr=>({...Cr,tercero_nombre_completo:""})))},gr=()=>{var yr,Er,jr;const br={};return(yr=ur.tercero_codigo)!=null&&yr.trim()||(br.tercero_codigo="El cdigo es obligatorio"),ur.tercero_tipo_documento||(br.tercero_tipo_documento="El tipo de documento es obligatorio"),xr&&!((Er=ur.tercero_nombre_completo)!=null&&Er.trim())&&(br.tercero_nombre_completo="El nombre completo es obligatorio para personas naturales"),pr&&!((jr=ur.tercero_razon_social)!=null&&jr.trim())&&(br.tercero_razon_social="La razn social es obligatoria para personas jurdicas"),ur.tercero_email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(ur.tercero_email)&&(br.tercero_email="El formato del email no es vlido"),mr(br),Object.keys(br).length===0},vr=async br=>{if(br.preventDefault(),!!gr())try{const yr={...ur,tercero_pais:ur.tercero_pais||void 0,tercero_departamento:ur.tercero_departamento||void 0,tercero_municipio:ur.tercero_municipio||void 0,tercero_tipo:ur.tercero_tipo||void 0};cr&&St&&(yr.tercero_id=St.tercero_id),await ar(yr)}catch(yr){console.error("Error al enviar formulario:",yr)}};return jsxRuntimeExports.jsx("div",{className:"fixed z-50 inset-0 overflow-y-auto bg-black bg-opacity-60 flex items-center justify-center p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg p-6 shadow-xl w-full max-w-4xl mx-auto my-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-6",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:[cr?"Editar":"Crear"," Tercero"]}),jsxRuntimeExports.jsx("button",{onClick:sr,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-500 hover:text-gray-700 dark:text-gray-300 dark:hover:text-white transition",children:jsxRuntimeExports.jsx(FaTimes,{size:20})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:vr,className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Tipo de documento *"}),jsxRuntimeExports.jsx("select",{name:"tercero_tipo_documento",value:ur.tercero_tipo_documento,onChange:hr,disabled:lr,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${fr.tercero_tipo_documento?"border-red-500":"border-gray-300 dark:border-gray-600"} bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100`,children:TIPOS_DOCUMENTO$1.map(br=>jsxRuntimeExports.jsx("option",{value:br.value,children:br.label},br.value))}),fr.tercero_tipo_documento&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-xs mt-1",children:fr.tercero_tipo_documento})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nmero de documento *"}),jsxRuntimeExports.jsx("input",{type:"text",name:"tercero_codigo",value:ur.tercero_codigo,onChange:hr,disabled:lr,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${fr.tercero_codigo?"border-red-500":"border-gray-300 dark:border-gray-600"} bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100`}),fr.tercero_codigo&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-xs mt-1",children:fr.tercero_codigo})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Tipo de tercero"}),jsxRuntimeExports.jsxs("select",{name:"tercero_tipo",value:ur.tercero_tipo,onChange:hr,disabled:lr,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[jsxRuntimeExports.jsx("option",{value:0,children:"Seleccionar tipo"}),nr.map(br=>jsxRuntimeExports.jsx("option",{value:br.id,children:br.nombre},br.id))]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2",children:[xr&&jsxRuntimeExports.jsxs("div",{className:"sm:col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nombre completo *"}),jsxRuntimeExports.jsx("input",{type:"text",name:"tercero_nombre_completo",value:ur.tercero_nombre_completo,onChange:hr,disabled:lr,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${fr.tercero_nombre_completo?"border-red-500":"border-gray-300 dark:border-gray-600"} bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100`}),fr.tercero_nombre_completo&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-xs mt-1",children:fr.tercero_nombre_completo})]}),pr&&jsxRuntimeExports.jsxs("div",{className:"sm:col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Razn social *"}),jsxRuntimeExports.jsx("input",{type:"text",name:"tercero_razon_social",value:ur.tercero_razon_social,onChange:hr,disabled:lr,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${fr.tercero_razon_social?"border-red-500":"border-gray-300 dark:border-gray-600"} bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100`}),fr.tercero_razon_social&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-xs mt-1",children:fr.tercero_razon_social})]}),xr&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Fecha de nacimiento"}),jsxRuntimeExports.jsx("input",{type:"date",name:"tercero_fecha_nacimiento",value:ur.tercero_fecha_nacimiento,onChange:hr,disabled:lr,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Telfono"}),jsxRuntimeExports.jsx("input",{type:"text",name:"tercero_telefono",value:ur.tercero_telefono,onChange:hr,disabled:lr,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),jsxRuntimeExports.jsxs("div",{className:"sm:col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),jsxRuntimeExports.jsx("input",{type:"email",name:"tercero_email",value:ur.tercero_email,onChange:hr,disabled:lr,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${fr.tercero_email?"border-red-500":"border-gray-300 dark:border-gray-600"} bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100`}),fr.tercero_email&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-xs mt-1",children:fr.tercero_email})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Direccin"}),jsxRuntimeExports.jsx("input",{type:"text",name:"tercero_direccion",value:ur.tercero_direccion,onChange:hr,disabled:lr,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),jsxRuntimeExports.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Pas"}),jsxRuntimeExports.jsxs("select",{name:"tercero_pais",value:ur.tercero_pais,onChange:hr,disabled:lr,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[jsxRuntimeExports.jsx("option",{value:0,children:"Seleccionar pas"}),er.map(br=>jsxRuntimeExports.jsx("option",{value:br.id,children:br.nombre},br.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Departamento"}),jsxRuntimeExports.jsxs("select",{name:"tercero_departamento",value:ur.tercero_departamento,onChange:hr,disabled:lr||!ur.tercero_pais,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:opacity-50",children:[jsxRuntimeExports.jsx("option",{value:0,children:"Seleccionar departamento"}),tr.map(br=>jsxRuntimeExports.jsx("option",{value:br.id,children:br.nombre},br.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Municipio"}),jsxRuntimeExports.jsxs("select",{name:"tercero_municipio",value:ur.tercero_municipio,onChange:hr,disabled:lr||!ur.tercero_departamento,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:opacity-50",children:[jsxRuntimeExports.jsx("option",{value:0,children:"Seleccionar municipio"}),rr.map(br=>jsxRuntimeExports.jsx("option",{value:br.id,children:br.nombre},br.id))]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",id:"tercero_proveedor",name:"tercero_proveedor",checked:ur.tercero_proveedor,onChange:hr,disabled:lr,className:"mr-2 w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),jsxRuntimeExports.jsx("label",{htmlFor:"tercero_proveedor",className:"text-sm text-gray-700 dark:text-gray-300",children:"Es proveedor"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",id:"tercero_obligado_facturar",name:"tercero_obligado_facturar",checked:ur.tercero_obligado_facturar,onChange:hr,disabled:lr,className:"mr-2 w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),jsxRuntimeExports.jsx("label",{htmlFor:"tercero_obligado_facturar",className:"text-sm text-gray-700 dark:text-gray-300",children:"Obligado a facturar"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",id:"tercero_estado",name:"tercero_estado",checked:ur.tercero_estado,onChange:hr,disabled:lr,className:"mr-2 w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),jsxRuntimeExports.jsx("label",{htmlFor:"tercero_estado",className:"text-sm text-gray-700 dark:text-gray-300",children:"Activo"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4 pt-6 border-t border-gray-200 dark:border-gray-700",children:[jsxRuntimeExports.jsxs("button",{type:"submit",disabled:lr,className:"flex-1 bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-2 px-4 rounded-lg transition-colors",children:[lr?"Guardando...":cr?"Actualizar":"Crear"," Tercero"]}),jsxRuntimeExports.jsx("button",{type:"button",onClick:sr,disabled:lr,className:"flex-1 bg-gray-500 hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Cancelar"})]})]})]})})}function TerceroView({tercero:St,paises:er,departamentos:tr,municipios:rr,tiposTercero:nr,getTipoDocumentoLabel:ar,getNombreCompleto:sr,onEdit:ir,onClose:or}){const lr=mr=>{var xr;return mr?((xr=er.find(pr=>pr.id===mr))==null?void 0:xr.nombre)||"Desconocido":"No especificado"},cr=mr=>{var xr;return mr?((xr=tr.find(pr=>pr.id===mr))==null?void 0:xr.nombre)||"Desconocido":"No especificado"},ur=mr=>{var xr;return mr?((xr=rr.find(pr=>pr.id===mr))==null?void 0:xr.nombre)||"Desconocido":"No especificado"},dr=mr=>{var xr;return mr?((xr=nr.find(pr=>pr.id===mr))==null?void 0:xr.nombre)||"Desconocido":"No especificado"},fr=["CC","TI","CE","PA","RC"].includes(St.tercero_tipo_documento);return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx("span",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:sr(St).charAt(0).toUpperCase()})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:sr(St)}),jsxRuntimeExports.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[ar(St.tercero_tipo_documento)," - ",St.tercero_codigo]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[jsxRuntimeExports.jsxs(Button,{onClick:ir,variant:"primary",size:"sm",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(HiPencil,{className:"w-4 h-4"}),"Editar"]}),jsxRuntimeExports.jsx("button",{onClick:or,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:jsxRuntimeExports.jsx(HiXMark,{className:"w-5 h-5"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[jsxRuntimeExports.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4",children:"Informacin Personal"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Tipo de Documento"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-gray-100",children:ar(St.tercero_tipo_documento)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Cdigo/Documento"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-gray-100",children:St.tercero_codigo})]}),fr&&St.tercero_nombre_completo&&jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Nombre Completo"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-gray-100",children:St.tercero_nombre_completo})]}),!fr&&St.tercero_razon_social&&jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Razn Social"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-gray-100",children:St.tercero_razon_social})]}),St.tercero_fecha_nacimiento&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Fecha de Nacimiento"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-gray-100",children:formatDisplayDate(St.tercero_fecha_nacimiento)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Tipo de Tercero"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-gray-100",children:dr(St.tercero_tipo)})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[jsxRuntimeExports.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4",children:"Informacin de Contacto"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[St.tercero_telefono&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Telfono"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-gray-100",children:St.tercero_telefono})]}),St.tercero_email&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-gray-100",children:St.tercero_email})]}),St.tercero_direccion&&jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Direccin"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-gray-100",children:St.tercero_direccion})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[jsxRuntimeExports.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4",children:"Ubicacin"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Pas"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-gray-100",children:lr(St.tercero_pais)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Departamento"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-gray-100",children:cr(St.tercero_departamento)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Municipio"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-gray-100",children:ur(St.tercero_municipio)})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[jsxRuntimeExports.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4",children:"Configuracin"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Estado"}),jsxRuntimeExports.jsx("p",{className:"mt-1",children:jsxRuntimeExports.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${St.tercero_estado?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:St.tercero_estado?"Activo":"Inactivo"})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Es Proveedor"}),jsxRuntimeExports.jsx("p",{className:"mt-1",children:jsxRuntimeExports.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${St.tercero_proveedor?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}`,children:St.tercero_proveedor?"S":"No"})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Obligado a Facturar"}),jsxRuntimeExports.jsx("p",{className:"mt-1",children:jsxRuntimeExports.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${St.tercero_obligado_facturar?"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200":"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}`,children:St.tercero_obligado_facturar?"S":"No"})})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:[jsxRuntimeExports.jsxs(Button,{onClick:ir,variant:"primary",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(HiPencil,{className:"w-4 h-4"}),"Editar Tercero"]}),jsxRuntimeExports.jsx(Button,{onClick:or,variant:"secondary",children:"Cerrar"})]})]})}const LoadingSpinner$2=()=>jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center py-12",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),ErrorMessage=({message:St,onRetry:er})=>jsxRuntimeExports.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6 text-center",children:[jsxRuntimeExports.jsxs("div",{className:"text-red-600 dark:text-red-400 mb-4",children:[jsxRuntimeExports.jsx("svg",{className:"w-12 h-12 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium",children:"Error al cargar los datos"}),jsxRuntimeExports.jsx("p",{className:"text-sm mt-1",children:St})]}),jsxRuntimeExports.jsx(Button,{onClick:er,variant:"primary",children:"Intentar nuevamente"})]}),CrudModal$3=({isOpen:St,onClose:er,title:tr,children:rr})=>St?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:jsxRuntimeExports.jsxs(motion.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 dark:border-gray-700",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:tr}),jsxRuntimeExports.jsx("button",{onClick:er,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:jsxRuntimeExports.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),jsxRuntimeExports.jsx("div",{className:"p-6",children:rr})]})}):null;function TercerosPage(){const[St,er]=reactExports.useState(!1),[tr,rr]=reactExports.useState(!1),[nr,ar]=reactExports.useState(!1),[sr,ir]=reactExports.useState(!1),[or,lr]=reactExports.useState(!1),[cr,ur]=reactExports.useState(null),[dr,fr]=reactExports.useState(!1),{terceros:mr,paises:xr,departamentos:pr,municipios:hr,tiposTercero:gr,loading:vr,error:br,fetchTerceros:yr,fetchDepartamentos:Er,fetchMunicipios:jr,createTercero:_r,updateTercero:Cr,deleteTercero:Or,terceroService:Pr}=useTerceros(),{filters:Lr,filteredTerceros:Gr,updateFilter:Kr,clearFilters:nn}=useTerceroFilters(mr),Qr=()=>{ur(null),rr(!0)},zr=Tr=>{ur(Tr),ar(!0)},Vr=Tr=>{ur(Tr),ir(!0)},Jr=Tr=>{ur(Tr),lr(!0)},tn=()=>{rr(!1),ar(!1),ir(!1),lr(!1),ur(null),fr(!1)},Yr=async Tr=>{fr(!0);let Dr=!1;try{cr?Dr=await Cr(Tr):Dr=await _r(Tr),Dr&&tn()}catch(Mr){console.error("Error en handleSubmitTercero:",Mr)}finally{fr(!1)}},Sr=async()=>{if(!(cr!=null&&cr.tercero_id))return;fr(!0),await Or(cr.tercero_id)&&tn(),fr(!1)},Rr=async()=>{er(!0);try{await yr()}finally{er(!1)}};return vr?jsxRuntimeExports.jsx("div",{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[jsxRuntimeExports.jsx(LoadingSpinner$2,{}),jsxRuntimeExports.jsx("p",{className:"text-center text-gray-600 dark:text-gray-400 mt-4",children:"Cargando terceros..."})]})}):br?jsxRuntimeExports.jsx("div",{className:"p-6",children:jsxRuntimeExports.jsx(ErrorMessage,{message:br,onRetry:Rr})}):jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Gestin de Terceros"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Administra la informacin de personas naturales y jurdicas"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsxs(Button,{onClick:Rr,variant:"secondary",disabled:St,className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(HiArrowPath,{className:`w-4 h-4 ${St?"animate-spin":""}`}),St?"Actualizando...":"Actualizar"]}),jsxRuntimeExports.jsxs(Button,{onClick:Qr,variant:"primary",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(HiPlus,{className:"w-4 h-4"}),"Nuevo Tercero"]})]})]})}),jsxRuntimeExports.jsx(TerceroFiltersComponent,{filters:Lr,tiposTercero:gr,onUpdateFilter:Kr,onClearFilters:nn}),jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:jsxRuntimeExports.jsx(TerceroTable,{terceros:Gr,tiposTercero:gr,onView:Vr,onEdit:zr,onDelete:Jr,getTipoDocumentoLabel:Pr.getTipoDocumentoLabel,getNombreCompleto:Pr.getNombreCompleto})},"table")}),jsxRuntimeExports.jsxs(AnimatePresence,{children:[jsxRuntimeExports.jsx(CrudModal$3,{isOpen:tr,onClose:tn,title:"Crear Nuevo Tercero",children:jsxRuntimeExports.jsx(TerceroForm,{paises:xr,departamentos:pr,municipios:hr,tiposTercero:gr,onSubmit:Yr,onCancel:tn,onDepartamentoChange:Er,onMunicipioChange:jr,loading:dr})}),jsxRuntimeExports.jsx(CrudModal$3,{isOpen:nr,onClose:tn,title:"Editar Tercero",children:jsxRuntimeExports.jsx(TerceroForm,{tercero:cr||void 0,paises:xr,departamentos:pr,municipios:hr,tiposTercero:gr,onSubmit:Yr,onCancel:tn,onDepartamentoChange:Er,onMunicipioChange:jr,loading:dr})}),jsxRuntimeExports.jsx(CrudModal$3,{isOpen:sr,onClose:tn,title:"Detalles del Tercero",children:cr&&jsxRuntimeExports.jsx(TerceroView,{tercero:cr,paises:xr,departamentos:pr,municipios:hr,tiposTercero:gr,getTipoDocumentoLabel:Pr.getTipoDocumentoLabel,getNombreCompleto:Pr.getNombreCompleto,onEdit:()=>{ir(!1),ar(!0)},onClose:tn})})]}),jsxRuntimeExports.jsx(ConfirmDialog,{isOpen:or,onClose:tn,onConfirm:Sr,title:"Eliminar Tercero",message:`Ests seguro de que deseas eliminar el tercero "${cr?Pr.getNombreCompleto(cr):""}"? Esta accin no se puede deshacer.`,confirmText:dr?"Eliminando...":"Eliminar",cancelText:"Cancelar",type:"danger"}),jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 dark:text-gray-400",children:[jsxRuntimeExports.jsxs("span",{children:["Mostrando ",Gr.length," de ",mr.length," terceros"]}),Lr.searchTerm||Lr.selectedTipoDocumento||Lr.selectedTipoTercero||Lr.selectedEstado||Lr.selectedProveedor?jsxRuntimeExports.jsx("button",{onClick:nn,className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:"Limpiar filtros"}):null]})})]})}const AuthGuard=({isAuthenticated:St,children:er,redirectTo:tr="/auth/login"})=>St?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:er}):jsxRuntimeExports.jsx(Navigate,{to:tr,replace:!0}),getProfilePicUrl=St=>St?St.startsWith("http")?St:`http://152.200.161.234:8081/${St}`:null;function hasAppAccess(St,er){return St.some(tr=>{var rr,nr;return((nr=(rr=tr.app)==null?void 0:rr.name)==null?void 0:nr.toLowerCase())===er.toLowerCase()})}function Sidebar({isOpen:St=!1,onToggle:er}){var hr;const{user:tr,logout:rr,roles:nr}=useAuthContext(),ar=useLocation(),sr=useNavigate(),[ir,or]=reactExports.useState(["menu"]),lr=[{to:"/menu",label:"Inicio",icon:jsxRuntimeExports.jsx(HiHome,{className:"w-5 h-5"}),hasSubmenu:!0,submenu:[{to:"/eventos",label:"Eventos",icon:jsxRuntimeExports.jsx(HiCalendarDays,{className:"w-4 h-4"})},{to:"/noticias",label:"Noticias",icon:jsxRuntimeExports.jsx(HiNewspaper,{className:"w-4 h-4"})},{to:"/funcionarios",label:"Funcionarios",icon:jsxRuntimeExports.jsx(HiUsers,{className:"w-4 h-4"})},{to:"/reconocimientos",label:"Reconocimientos",icon:jsxRuntimeExports.jsx(HiStar,{className:"w-4 h-4"})},{to:"/felicitaciones",label:"Felicitaciones",icon:jsxRuntimeExports.jsx(HiGift,{className:"w-4 h-4"})}]},...hasAppAccess(nr,"auditorias")?[{to:"/auditorias",label:"Auditoras",icon:jsxRuntimeExports.jsx(HiClipboardDocumentList,{className:"w-5 h-5"})}]:[],...hasAppAccess(nr,"auditorias")?[{to:"/dashboard",label:"Indicadores",icon:jsxRuntimeExports.jsx(HiChartBar,{className:"w-5 h-5"}),hasSubmenu:!0,submenu:[{to:"/dashboard",label:"Dashboard",icon:jsxRuntimeExports.jsx(HiPresentationChartBar,{className:"w-4 h-4"})},...hasAppAccess(nr,"indicadores")?[{to:"/indicators",label:"Indicadores",icon:jsxRuntimeExports.jsx(HiChartBar,{className:"w-4 h-4"})},{to:"/results",label:"Resultados",icon:jsxRuntimeExports.jsx(HiTableCells,{className:"w-4 h-4"})}]:[]]}]:[],...hasAppAccess(nr,"procesos")?[{to:"/procesos",label:"Procesos",icon:jsxRuntimeExports.jsx(HiDocumentText,{className:"w-5 h-5"})}]:[],...hasAppAccess(nr,"proveedores")?[{to:"/proveedores",label:"Proveedores",icon:jsxRuntimeExports.jsx(HiBuildingOffice2,{className:"w-5 h-5"}),hasSubmenu:!0,submenu:[{to:"/facturas",label:"Facturas",icon:jsxRuntimeExports.jsx(HiDocument,{className:"w-4 h-4"})}]}]:[],{to:"/profile",label:"Mi perfil",icon:jsxRuntimeExports.jsx(HiUser,{className:"w-5 h-5"})},...hasAppAccess(nr,"administracion")?[{to:"/administracion",label:"Administracin",icon:jsxRuntimeExports.jsx(HiCog,{className:"w-5 h-5"})}]:[]],cr=()=>{rr(),sr("/auth/login")},ur=()=>{sr("/acerca_de")},dr=()=>{er&&window.innerWidth<1024&&er()},fr=gr=>{or(vr=>vr.includes(gr)?vr.filter(br=>br!==gr):[...vr,gr])},mr=gr=>gr.some(vr=>ar.pathname===vr.to),xr=typeof(tr==null?void 0:tr.username)=="string"?tr.username:"Usuario",pr=typeof(tr==null?void 0:tr.role)=="string"?tr.role:((hr=tr==null?void 0:tr.role)==null?void 0:hr.name)||"usuario";return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[St&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:er}),jsxRuntimeExports.jsxs("div",{className:`
          fixed lg:static inset-y-0 left-0 z-50 w-64 xl:w-72
          transform ${St?"translate-x-0":"-translate-x-full"} lg:translate-x-0
          transition-transform duration-300 ease-in-out
          h-full bg-white dark:bg-gray-900 border-r border-gray-200 dark:border-gray-800 flex flex-col
        `,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-800",children:[jsxRuntimeExports.jsx("img",{src:"/logo.png",alt:"Red Medicron IPS",className:"h-10 sm:h-12 w-auto"}),jsxRuntimeExports.jsx("button",{onClick:er,className:"lg:hidden p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-500 hover:text-gray-700 dark:text-gray-300 dark:hover:text-white transition-colors","aria-label":"Cerrar men",children:jsxRuntimeExports.jsx(HiXMark,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsx("div",{className:"px-4 py-4 border-b border-gray-200 dark:border-gray-800",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("img",{src:tr!=null&&tr.profile_picture?getProfilePicUrl(tr.profile_picture)??void 0:`https://ui-avatars.com/api/?name=${encodeURIComponent(xr)}&background=0369a1&color=ffffff`,alt:"avatar",className:"w-10 h-10 rounded-full object-cover border-2 border-gray-200 dark:border-gray-600"}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:xr}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 capitalize truncate",children:pr})]})]})}),jsxRuntimeExports.jsx("nav",{className:"flex-1 px-3 py-4 space-y-1 overflow-y-auto",children:lr.map(gr=>{const vr=ar.pathname===gr.to,br=ir.includes(gr.to),yr=gr.submenu?mr(gr.submenu):!1;return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsxs(Link,{to:gr.to,onClick:gr.hasSubmenu?void 0:dr,className:`
                      flex-1 flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200
                      ${vr||yr?"bg-blue-50 dark:bg-blue-900/50 text-blue-600 dark:text-blue-400":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-gray-100"}
                    `,children:[jsxRuntimeExports.jsx("span",{className:vr||yr?"text-blue-600 dark:text-blue-400":"",children:gr.icon}),jsxRuntimeExports.jsx("span",{className:"truncate",children:gr.label})]}),gr.hasSubmenu&&jsxRuntimeExports.jsx("button",{onClick:()=>fr(gr.to),className:`
                        p-2 rounded-lg text-sm transition-all duration-200 ml-1
                        ${vr||yr?"text-blue-600 dark:text-blue-400 hover:bg-blue-100 dark:hover:bg-blue-800/50":"text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800"}
                      `,children:br?jsxRuntimeExports.jsx(HiChevronDown,{className:"w-4 h-4 transition-transform duration-200"}):jsxRuntimeExports.jsx(HiChevronRight,{className:"w-4 h-4 transition-transform duration-200"})})]}),gr.hasSubmenu&&gr.submenu&&jsxRuntimeExports.jsx("div",{className:`
                      ml-6 mt-1 space-y-1 overflow-hidden transition-all duration-300 ease-in-out
                      ${br?"max-h-96 opacity-100":"max-h-0 opacity-0"}
                    `,children:gr.submenu.map(Er=>{const jr=ar.pathname===Er.to;return jsxRuntimeExports.jsxs(Link,{to:Er.to,onClick:dr,className:`
                            flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 border-l-2
                            ${jr?"bg-blue-50 dark:bg-blue-900/50 text-blue-600 dark:text-blue-400 border-blue-600 dark:border-blue-400":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-gray-100 border-gray-200 dark:border-gray-700"}
                          `,children:[jsxRuntimeExports.jsx("span",{className:jr?"text-blue-600 dark:text-blue-400":"",children:Er.icon}),jsxRuntimeExports.jsx("span",{className:"truncate",children:Er.label})]},Er.to)})})]},gr.to)})}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-800",children:[jsxRuntimeExports.jsxs("button",{onClick:ur,className:"flex items-center gap-3 px-3 py-2.5 w-full text-left text-gray-900 dark:text-gray-100 hover:bg-red-50 dark:hover:bg-blue-900/50 rounded-lg transition-colors text-sm font-medium",children:[jsxRuntimeExports.jsx(HiInformationCircle,{className:"w-5 h-5"}),jsxRuntimeExports.jsx("span",{children:"Acerca de"})]}),jsxRuntimeExports.jsxs("button",{onClick:cr,className:"flex items-center gap-3 px-3 py-2.5 w-full text-left text-red-600 hover:bg-red-50 dark:hover:bg-red-900/50 rounded-lg transition-colors text-sm font-medium",children:[jsxRuntimeExports.jsx(HiArrowLeftOnRectangle,{className:"w-5 h-5"}),jsxRuntimeExports.jsx("span",{children:"Cerrar sesin"})]})]})]})]})}function useDarkMode(){const[St,er]=reactExports.useState(()=>{const tr=localStorage.getItem("theme");return tr?tr==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches});return reactExports.useEffect(()=>{St?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[St]),[St,er]}function Topbar(){const[St,er]=reactExports.useState(!1),{user:tr,logout:rr,roles:nr}=useAuthContext(),[ar,sr]=useDarkMode(),ir=useNavigate();return jsxRuntimeExports.jsx("header",{className:"sticky top-0 z-10 bg-white dark:bg-gray-900 shadow-sm border-b border-gray-200 dark:border-gray-800",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between h-16 px-4",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center",children:jsxRuntimeExports.jsx("h1",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"Portal Institucional"})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>er(!St),className:"flex items-center gap-2 hover:bg-gray-50 dark:hover:bg-gray-800 p-2 rounded-lg",children:[jsxRuntimeExports.jsx("img",{src:tr!=null&&tr.profile_picture?getProfilePicUrl(tr.profile_picture)||void 0:`https://ui-avatars.com/api/?name=${encodeURIComponent((tr==null?void 0:tr.username)||"U")}&background=1e40af&color=fff`,alt:"avatar",className:"w-8 h-8 rounded-full object-cover"}),jsxRuntimeExports.jsx("span",{className:"hidden md:block font-medium text-gray-700 dark:text-gray-100",children:tr==null?void 0:tr.username}),jsxRuntimeExports.jsx(HiChevronDown$1,{className:"w-5 h-5 text-gray-500 dark:text-gray-300"})]}),St&&jsxRuntimeExports.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-900 rounded-lg shadow-lg py-1 border border-gray-200 dark:border-gray-800",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>{ir("/profile"),er(!1)},className:"flex items-center gap-2 w-full px-4 py-2 text-gray-700 dark:text-gray-100 hover:bg-gray-50 dark:hover:bg-gray-800 text-left",children:[jsxRuntimeExports.jsx(HiUser$1,{className:"w-5 h-5"}),"Mi Perfil"]}),jsxRuntimeExports.jsxs("button",{onClick:rr,className:"flex items-center gap-2 w-full px-4 py-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900 text-left",children:[jsxRuntimeExports.jsx(HiLogout,{className:"w-5 h-5"}),"Cerrar sesin"]})]})]}),jsxRuntimeExports.jsx("button",{onClick:()=>sr(or=>!or),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors","aria-label":"Cambiar modo oscuro",children:ar?jsxRuntimeExports.jsx(HiSun,{className:"w-5 h-5 text-yellow-400"}):jsxRuntimeExports.jsx(HiMoon,{className:"w-5 h-5 text-gray-700"})})]})]})})}function MainLayout(){const[St,er]=reactExports.useState(!1),tr=()=>{er(!St)};return jsxRuntimeExports.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900",children:[jsxRuntimeExports.jsx(Sidebar,{isOpen:St,onToggle:tr}),jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-4 py-3 flex items-center gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:tr,className:"lg:hidden p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-500 hover:text-gray-700 dark:text-gray-300 dark:hover:text-white transition-colors","aria-label":"Abrir men",children:jsxRuntimeExports.jsx(HiBars3,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("div",{className:"flex-1",children:jsxRuntimeExports.jsx(Topbar,{})})]}),jsxRuntimeExports.jsx("main",{className:"flex-1 overflow-auto",children:jsxRuntimeExports.jsx("div",{className:"h-full p-4 md:p-6 lg:p-8",children:jsxRuntimeExports.jsx(Outlet,{})})})]})]})}function Bienvenida(){var tr,rr;const{user:St}=useAuthContext(),er=typeof(St==null?void 0:St.role)=="string"?St.role:((tr=St==null?void 0:St.role)==null?void 0:tr.name)||((rr=St==null?void 0:St.role)==null?void 0:rr.name)||"";return jsxRuntimeExports.jsxs("div",{className:"w-full bg-gradient-to-r from-blue-600 to-blue-800 rounded-xl shadow-lg p-6 lg:p-8 flex flex-col sm:flex-row items-center justify-between gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 text-center sm:text-left",children:[jsxRuntimeExports.jsxs("h1",{className:"text-3xl font-bold text-white mb-1",children:["Bienvenido, ",(St==null?void 0:St.first_name)||(St==null?void 0:St.username)||"Funcionario","!"]}),er&&jsxRuntimeExports.jsx("p",{className:"text-blue-100 text-lg font-medium mb-2 capitalize",children:er}),jsxRuntimeExports.jsx("p",{className:"text-blue-100 text-base italic mb-2",children:"Juntos cuidamos vidas con calidad y humanidad."})]}),jsxRuntimeExports.jsx("div",{className:"flex flex-col items-center",children:St!=null&&St.profile_picture?jsxRuntimeExports.jsx("img",{src:getProfilePicUrl(St.profile_picture)??void 0,alt:"avatar",className:"w-20 h-20 rounded-full border-4 border-white/30 shadow-lg object-cover"}):jsxRuntimeExports.jsx(HiUserCircle,{className:"w-20 h-20 text-white/80"})})]})}const MISION="Somos una institucin nariense que presta servicios de salud primarios y complementarios, articulados en una red integrada de prestadores, con un modelo de atencin integral con enfoque de riesgo centrado en el usuario y su familia. Contamos con un equipo humano competente y en constante aprendizaje, comprometido con la calidad, seguridad y humanizacin de la atencin; con procesos, tecnologa y sistemas de informacin basados en las mejores prcticas del mercado y acorde a las necesidades de sus grupos de inters. Promovemos el cuidado del medio ambiente, contribuimos al mantenimiento de la salud de nuestros usuarios y al equilibrio financiero institucional y del sistema.",VISION="Para el ao 2027, Red Medicron IPS ser reconocida como una red de servicios de salud lder en Nario, destacndose por su atencin integral centrada en el usuario y su familia, comprometida con la sostenibilidad ambiental y financiera, la gestin del riesgo y un servicio humanizado que transforme la experiencia de salud en la regin.",VALORES=[{nombre:"HUMANIDAD",descripcion:"Servimos con amabilidad, dignidad, seguridad y empata, respondiendo a las necesidades de las personas.",icono:jsxRuntimeExports.jsx(HiHeart$1,{className:"w-8 h-8 text-pink-500"}),color:"from-pink-100 to-pink-50 dark:from-pink-900 dark:to-pink-800"},{nombre:"RESPONSABILIDAD",descripcion:"Cumplimos nuestros compromisos.",icono:jsxRuntimeExports.jsx(HiCheckCircle$1,{className:"w-8 h-8 text-green-500"}),color:"from-green-100 to-green-50 dark:from-green-900 dark:to-green-800"},{nombre:"INTEGRIDAD",descripcion:"Actuamos y servimos de una manera respetuosa y honesta, generando relaciones de confianza con todos los grupos de inters.",icono:jsxRuntimeExports.jsx(FaHandshake,{className:"w-8 h-8 text-blue-500"}),color:"from-blue-100 to-blue-50 dark:from-blue-900 dark:to-blue-800"}],tabs=[{label:"Misin",icon:jsxRuntimeExports.jsx(HiLightBulb,{className:"w-6 h-6 mr-2 text-blue-600 dark:text-blue-300"}),content:jsxRuntimeExports.jsx("p",{children:MISION})},{label:"Visin",icon:jsxRuntimeExports.jsx(HiEye,{className:"w-6 h-6 mr-2 text-blue-600 dark:text-blue-300"}),content:jsxRuntimeExports.jsx("p",{children:VISION})},{label:"Valores",icon:jsxRuntimeExports.jsx(HiHeart$1,{className:"w-6 h-6 mr-2 text-blue-600 dark:text-blue-300"}),content:jsxRuntimeExports.jsx("ul",{className:"space-y-4",children:VALORES.map(St=>jsxRuntimeExports.jsxs("li",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("span",{className:"text-2xl mt-1",children:St.icono}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-bold text-blue-700 dark:text-blue-300",children:St.nombre}),jsxRuntimeExports.jsx("p",{className:"text-gray-700 dark:text-gray-200",children:St.descripcion})]})]},St.nombre))})}];function MisionVisionValores(){const[St,er]=reactExports.useState(0);return jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl shadow-lg p-6",children:[jsxRuntimeExports.jsx("div",{className:"flex gap-4 border-b border-gray-200 dark:border-gray-700 mb-4",children:tabs.map((tr,rr)=>jsxRuntimeExports.jsxs("button",{onClick:()=>er(rr),className:`flex items-center pb-2 px-3 font-semibold text-blue-700 dark:text-blue-300 border-b-2 transition-all
              ${St===rr?"border-blue-700 dark:border-blue-300 bg-blue-50 dark:bg-blue-950 rounded-t-md":"border-transparent"}
              hover:bg-blue-100 dark:hover:bg-blue-900`,style:{outline:"none"},children:[tr.icon,tr.label]},tr.label))}),jsxRuntimeExports.jsx("div",{className:"text-gray-700 dark:text-gray-200 text-base max-h-56 overflow-y-auto transition-all duration-300",children:tabs[St].content})]})}function FiExternalLink(St){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}},{tag:"polyline",attr:{points:"15 3 21 3 21 9"}},{tag:"line",attr:{x1:"10",y1:"14",x2:"21",y2:"3"}}]})(St)}const ACCESOS=[{nombre:"Pgina Web Institucional",url:"https://redmedicronips.com.co",icono:jsxRuntimeExports.jsx(HiGlobeAlt,{className:"w-10 h-10 text-blue-600 group-hover:scale-110 transition-transform"}),color:"bg-gradient-to-br from-blue-100/80 to-blue-200/60 dark:from-blue-900/60 dark:to-blue-800/40"},{nombre:"Facebook",url:"https://facebook.com/redmedicronips",icono:jsxRuntimeExports.jsx(HiUserGroup,{className:"w-10 h-10 text-blue-700 group-hover:scale-110 transition-transform"}),color:"bg-gradient-to-br from-blue-200/80 to-blue-100/60 dark:from-blue-800/60 dark:to-blue-700/40"},{nombre:"Salud IPS (Historia Clnica)",url:"http://152.200.161.234/SaludIPS/",icono:jsxRuntimeExports.jsx(HiDocumentText,{className:"w-10 h-10 text-green-600 group-hover:scale-110 transition-transform"}),color:"bg-gradient-to-br from-green-100/80 to-green-200/60 dark:from-green-900/60 dark:to-green-800/40"},{nombre:"Nmina Web",url:"https://nomina.redmedicronips.com.co",icono:jsxRuntimeExports.jsx(HiBriefcase,{className:"w-10 h-10 text-yellow-600 group-hover:scale-110 transition-transform"}),color:"bg-gradient-to-br from-yellow-100/80 to-yellow-200/60 dark:from-yellow-900/60 dark:to-yellow-800/40"},{nombre:"Gestin Humana",url:"https://gestionhumana.redmedicronips.com.co",icono:jsxRuntimeExports.jsx(HiUserGroup,{className:"w-10 h-10 text-pink-600 group-hover:scale-110 transition-transform"}),color:"bg-gradient-to-br from-pink-100/80 to-pink-200/60 dark:from-pink-900/60 dark:to-pink-800/40"}];function AccesosRapidos(){return jsxRuntimeExports.jsxs("div",{className:"bg-white/80 dark:bg-gray-900/80 rounded-2xl shadow-lg p-8 backdrop-blur-md",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-6 text-center tracking-tight",children:"Accesos Rpidos"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8",children:ACCESOS.map(St=>jsxRuntimeExports.jsxs("a",{href:St.url,target:"_blank",rel:"noopener noreferrer",className:`group flex flex-col items-center justify-center rounded-xl shadow-xl ${St.color} transition-transform hover:scale-105 hover:shadow-2xl focus:outline-none focus:ring-2 focus:ring-blue-400/60 border border-white/30 dark:border-gray-800/40 p-6 cursor-pointer`,style:{minHeight:180,boxShadow:"0 8px 32px 0 rgba(31, 38, 135, 0.10)",backdropFilter:"blur(6px)"},children:[jsxRuntimeExports.jsx("div",{className:"mb-3",children:St.icono}),jsxRuntimeExports.jsx("div",{className:"font-semibold text-lg text-gray-900 dark:text-gray-100 mb-2 text-center",children:St.nombre}),jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-white/60 dark:bg-gray-800/60 rounded-full text-blue-700 dark:text-blue-300 text-xs font-medium shadow group-hover:bg-blue-100/80 group-hover:text-blue-900 transition",children:["Ir ",jsxRuntimeExports.jsx(FiExternalLink,{className:"w-4 h-4"})]})]},St.nombre))})]})}class MenuApiService{static async getHeadquarters(){return(await axiosInstance.get("/companies/headquarters/")).data}static async getHeadquarter(er){return(await axiosInstance.get(`/companies/headquarters/${er}/`)).data}static async getFuncionarios(){return(await axiosInstance.get("/main/funcionarios/")).data}static async getFuncionario(er){return(await axiosInstance.get(`/main/funcionarios/${er}/`)).data}static async getFuncionariosBySede(er){return(await axiosInstance.get(`/main/funcionarios/?sede=${er}`)).data}static async getFuncionariosByCargo(er){return(await axiosInstance.get(`/main/funcionarios/?cargo=${encodeURIComponent(er)}`)).data}static async createFuncionario(er){const tr=new FormData,rr=(ar,sr)=>{sr!=null&&sr!==""&&(ar==="sede"?tr.append("sede_id",sr.toString()):sr instanceof File?tr.append(ar,sr):tr.append(ar,sr.toString()))};return rr("documento",er.documento),rr("nombres",er.nombres),rr("apellidos",er.apellidos),rr("fecha_nacimiento",er.fecha_nacimiento),rr("cargo",er.cargo),rr("sede",er.sede),rr("telefono",er.telefono),rr("correo",er.correo),rr("foto",er.foto),(await axiosInstance.post("/main/funcionarios/",tr,{headers:{"Content-Type":"multipart/form-data"}})).data}static async updateFuncionario(er){const{id:tr,...rr}=er,nr=new FormData,ar=(ir,or)=>{or!=null&&or!==""&&(ir==="sede"?nr.append("sede_id",or.toString()):or instanceof File?nr.append(ir,or):nr.append(ir,or.toString()))};return Object.entries(rr).forEach(([ir,or])=>{ar(ir,or)}),(await axiosInstance.patch(`/main/funcionarios/${tr}/`,nr,{headers:{"Content-Type":"multipart/form-data"}})).data}static async deleteFuncionario(er){await axiosInstance.delete(`/main/funcionarios/${er}/`)}static async createContenido(er){const tr=new FormData,rr=(ar,sr)=>{sr!=null&&sr!==""&&(sr instanceof File?tr.append(ar,sr):tr.append(ar,sr.toString()))};return rr("titulo",er.titulo),rr("fecha",er.fecha),rr("contenido",er.contenido),rr("enlace",er.enlace),rr("urgente",er.urgente),rr("tipo",er.tipo),rr("imagen",er.imagen),(await axiosInstance.post("/main/contenidos/",tr,{headers:{"Content-Type":"multipart/form-data"}})).data}static async updateContenido(er){const{id:tr,...rr}=er,nr=new FormData,ar=(ir,or)=>{or!=null&&or!==""&&(or instanceof File?nr.append(ir,or):nr.append(ir,or.toString()))};return ar("titulo",rr.titulo),ar("fecha",rr.fecha),ar("contenido",rr.contenido),ar("enlace",rr.enlace),ar("urgente",rr.urgente),ar("tipo",rr.tipo),ar("imagen",rr.imagen),(await axiosInstance.patch(`/main/contenidos/${tr}/`,nr,{headers:{"Content-Type":"multipart/form-data"}})).data}static async deleteContenido(er){await axiosInstance.delete(`/main/contenidos/${er}/`)}static async createEvento(er){return(await axiosInstance.post("/main/eventos/",er)).data}static async updateEvento(er){const{id:tr,...rr}=er;return(await axiosInstance.patch(`/main/eventos/${tr}/`,rr)).data}static async deleteEvento(er){await axiosInstance.delete(`/main/eventos/${er}/`)}static async createReconocimiento(er){console.log("MenuApiService - Enviando reconocimiento:",er);const tr={funcionario_id:er.funcionario,titulo:er.titulo,descripcion:er.descripcion,fecha:er.fecha,tipo:er.tipo,publicar:er.publicar};console.log("MenuApiService - Datos mapeados:",tr);const rr=await axiosInstance.post("/main/reconocimientos/",tr);return console.log("MenuApiService - Respuesta del servidor:",rr.data),rr.data}static async updateReconocimiento(er){const{id:tr,funcionario:rr,...nr}=er,ar=rr!==void 0?{funcionario_id:rr,...nr}:nr;console.log("MenuApiService - Actualizando reconocimiento:",{id:tr,updateData:ar});const sr=await axiosInstance.put(`/main/reconocimientos/${tr}/`,ar);return console.log("MenuApiService - Respuesta del servidor:",sr.data),sr.data}static async deleteReconocimiento(er){await axiosInstance.delete(`/main/reconocimientos/${er}/`)}static async createFelicitacion(er){console.log("MenuApiService - Enviando felicitacin:",er);const tr={funcionario_id:er.funcionario,mensaje:er.mensaje};return console.log("MenuApiService - Datos mapeados:",tr),(await axiosInstance.post("/main/felicitaciones/",tr)).data}static async updateFelicitacion(er){const{id:tr,funcionario:rr,...nr}=er,ar=rr!==void 0?{funcionario_id:rr,...nr}:nr;console.log("MenuApiService - Actualizando felicitacin:",{id:tr,updateData:ar});const sr=await axiosInstance.put(`/main/felicitaciones/${tr}/`,ar);return console.log("MenuApiService - Respuesta del servidor:",sr.data),sr.data}static async deleteFelicitacion(er){await axiosInstance.delete(`/main/felicitaciones/${er}/`)}static async getContenidos(){return(await axiosInstance.get("/main/contenidos/")).data}static async getContenidosByTipo(er){return(await axiosInstance.get(`/main/contenidos/?tipo=${er}`)).data}static async getContenidosUrgentes(){return(await axiosInstance.get("/main/contenidos/?urgente=true")).data}static async getContenido(er){return(await axiosInstance.get(`/main/contenidos/${er}/`)).data}static async getEventos(){return(await axiosInstance.get("/main/eventos/")).data}static async getEventosProximos(){return(await axiosInstance.get("/main/eventos/?proximos=true")).data}static async getEventosImportantes(){return(await axiosInstance.get("/main/eventos/?importante=true")).data}static async getEventosVirtuales(){return(await axiosInstance.get("/main/eventos/?es_virtual=true")).data}static async getEvento(er){return(await axiosInstance.get(`/main/eventos/${er}/`)).data}static async getFelicitacionesMes(){return(await axiosInstance.get("/main/felicitaciones/?mes=actual")).data}static async getAllFelicitaciones(){try{return(await axiosInstance.get("/main/felicitaciones/")).data}catch(er){throw console.error("Error al obtener todas las felicitaciones:",er),er}}static async getReconocimientosPublicados(){return(await axiosInstance.get("/main/reconocimientos/?publicar=true")).data}static async getAllReconocimientos(){return(await axiosInstance.get("/main/reconocimientos/")).data}}class MenuRepository{async getHeadquarters(){return MenuApiService.getHeadquarters()}async getHeadquarter(er){return MenuApiService.getHeadquarter(er)}async getFuncionarios(){return MenuApiService.getFuncionarios()}async getFuncionario(er){return MenuApiService.getFuncionario(er)}async getFuncionariosBySede(er){return MenuApiService.getFuncionariosBySede(er)}async getFuncionariosByCargo(er){return MenuApiService.getFuncionariosByCargo(er)}async createFuncionario(er){return MenuApiService.createFuncionario(er)}async updateFuncionario(er){return MenuApiService.updateFuncionario(er)}async deleteFuncionario(er){return MenuApiService.deleteFuncionario(er)}async createContenido(er){return MenuApiService.createContenido(er)}async updateContenido(er){return MenuApiService.updateContenido(er)}async deleteContenido(er){return MenuApiService.deleteContenido(er)}async createEvento(er){return MenuApiService.createEvento(er)}async updateEvento(er){return MenuApiService.updateEvento(er)}async deleteEvento(er){return MenuApiService.deleteEvento(er)}async createReconocimiento(er){return MenuApiService.createReconocimiento(er)}async updateReconocimiento(er){return MenuApiService.updateReconocimiento(er)}async deleteReconocimiento(er){return MenuApiService.deleteReconocimiento(er)}async createFelicitacion(er){return MenuApiService.createFelicitacion(er)}async updateFelicitacion(er){return MenuApiService.updateFelicitacion(er)}async deleteFelicitacion(er){return MenuApiService.deleteFelicitacion(er)}async getContenidos(){return MenuApiService.getContenidos()}async getContenidosByTipo(er){return MenuApiService.getContenidosByTipo(er)}async getContenidosUrgentes(){return MenuApiService.getContenidosUrgentes()}async getContenido(er){return MenuApiService.getContenido(er)}async getEventos(){return MenuApiService.getEventos()}async getEventosProximos(){return MenuApiService.getEventosProximos()}async getEventosImportantes(){return MenuApiService.getEventosImportantes()}async getEventosVirtuales(){return MenuApiService.getEventosVirtuales()}async getEvento(er){return MenuApiService.getEvento(er)}async getFelicitacionesMes(){return MenuApiService.getFelicitacionesMes()}async getAllFelicitaciones(){return MenuApiService.getAllFelicitaciones()}async getReconocimientosPublicados(){return MenuApiService.getReconocimientosPublicados()}async getAllReconocimientos(){return MenuApiService.getAllReconocimientos()}}class ContenidoService{constructor(){_i(this,"repository");this.repository=new MenuRepository}async getAllContenidos(){try{const er=await this.repository.getContenidos();return this.sortByDate(er)}catch(er){throw console.error("Error getting contenidos:",er),new Error("No se pudieron cargar los contenidos")}}async getContenidosByTipo(er){try{const tr=await this.repository.getContenidosByTipo(er);return this.sortByDate(tr)}catch(tr){throw console.error("Error getting contenidos by tipo:",tr),new Error(`No se pudieron cargar las ${er}s`)}}async getContenidosUrgentes(){try{const er=await this.repository.getContenidosUrgentes();return this.sortByDate(er)}catch(er){throw console.error("Error getting contenidos urgentes:",er),new Error("No se pudieron cargar los contenidos urgentes")}}async getContenidoById(er){try{return await this.repository.getContenido(er)}catch(tr){throw console.error("Error getting contenido:",tr),new Error("No se pudo cargar el contenido")}}filterContenidos(er,tr,rr,nr){return er.filter(ar=>{const sr=ar.titulo.toLowerCase().includes(tr.toLowerCase())||ar.contenido.toLowerCase().includes(tr.toLowerCase()),ir=rr==="todos"||ar.tipo===rr,or=!nr||ar.urgente;return sr&&ir&&or})}sortByDate(er){return er.sort((tr,rr)=>new Date(rr.fecha).getTime()-new Date(tr.fecha).getTime())}}function NoticiasComunicados(){const[St,er]=reactExports.useState([]),[tr,rr]=reactExports.useState(!0),[nr,ar]=reactExports.useState(null),sr=new ContenidoService;reactExports.useEffect(()=>{(async()=>{try{rr(!0);const mr=(await sr.getAllContenidos()).slice(0,3);er(mr)}catch(fr){ar(fr.message),console.error("Error fetching contenidos:",fr)}finally{rr(!1)}})()},[]);const ir=dr=>formatDisplayDate(dr,{day:"2-digit",month:"short",year:"numeric"}),or=dr=>HiSpeakerphone,lr=(dr,fr)=>fr?"text-red-500":dr==="comunicado"?"text-blue-500":"text-emerald-500",cr=(dr,fr)=>fr?"from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/30 border-red-200/50 dark:border-red-700/50":dr==="comunicado"?"from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/30 border-blue-200/50 dark:border-blue-700/50":"from-emerald-50 to-emerald-100 dark:from-emerald-900/20 dark:to-emerald-800/30 border-emerald-200/50 dark:border-emerald-700/50",ur=(dr,fr)=>fr?"bg-red-100 dark:bg-red-800/50":dr==="comunicado"?"bg-blue-100 dark:bg-blue-800/50":"bg-emerald-100 dark:bg-emerald-800/50";return tr?jsxRuntimeExports.jsxs("div",{className:"relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50 via-white to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 rounded-3xl"}),jsxRuntimeExports.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-blue-400/10 to-purple-400/10 rounded-full blur-3xl"}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-gradient-to-tr from-emerald-400/10 to-blue-400/10 rounded-full blur-3xl"}),jsxRuntimeExports.jsx("div",{className:"relative bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-3xl shadow-xl border border-white/20 dark:border-gray-700/50 p-8",children:jsxRuntimeExports.jsxs("div",{className:"animate-pulse",children:[jsxRuntimeExports.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded mb-6"}),jsxRuntimeExports.jsx("div",{className:"space-y-4",children:[...Array(4)].map((dr,fr)=>jsxRuntimeExports.jsx("div",{className:"h-24 bg-gray-200 dark:bg-gray-700 rounded-2xl"},fr))})]})})]}):nr?jsxRuntimeExports.jsxs("div",{className:"relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-50 via-white to-red-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 rounded-3xl"}),jsxRuntimeExports.jsx("div",{className:"relative bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-3xl shadow-xl border border-white/20 dark:border-gray-700/50 p-8",children:jsxRuntimeExports.jsxs("div",{className:"text-center text-red-600 dark:text-red-400",children:[jsxRuntimeExports.jsx(HiExclamationTriangle,{className:"w-12 h-12 mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-lg font-medium",children:nr})]})})]}):jsxRuntimeExports.jsxs("div",{className:"relative overflow-hidden group",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50 via-white to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 rounded-3xl transition-all duration-500 group-hover:from-blue-100 group-hover:to-indigo-100 dark:group-hover:from-gray-800 dark:group-hover:to-gray-700"}),jsxRuntimeExports.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-blue-400/10 to-purple-400/10 rounded-full blur-3xl group-hover:from-blue-400/20 group-hover:to-purple-400/20 transition-all duration-500"}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-gradient-to-tr from-emerald-400/10 to-blue-400/10 rounded-full blur-3xl group-hover:from-emerald-400/20 group-hover:to-blue-400/20 transition-all duration-500"}),jsxRuntimeExports.jsxs("div",{className:"relative bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-3xl shadow-xl border border-white/20 dark:border-gray-700/50 p-8 transition-all duration-300 hover:shadow-2xl hover:scale-[1.02]",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl shadow-lg",children:jsxRuntimeExports.jsx(HiSpeakerphone,{className:"w-7 h-7 text-white"})}),jsxRuntimeExports.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-emerald-400 rounded-full animate-pulse"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 dark:from-gray-100 dark:to-gray-300 bg-clip-text text-transparent",children:"Noticias y Comunicados"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Mantente informado con las ltimas actualizaciones"})]})]}),jsxRuntimeExports.jsxs(Link,{to:"/noticias",className:"group/btn flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-medium text-sm rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:["Ver todas",jsxRuntimeExports.jsx(HiArrowRight,{className:"w-4 h-4 group-hover/btn:translate-x-1 transition-transform duration-300"})]})]}),St.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-gray-200 to-gray-300 dark:from-gray-700 dark:to-gray-600 rounded-2xl mx-auto mb-4 flex items-center justify-center",children:jsxRuntimeExports.jsx(HiSpeakerphone,{className:"w-10 h-10 text-gray-500 dark:text-gray-400"})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"No hay contenido disponible"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No hay noticias o comunicados disponibles en este momento"})]}):jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:St.map((dr,fr)=>{const mr=or(dr.tipo),xr=dr.urgente;return jsxRuntimeExports.jsxs("div",{className:`
                    group/card relative overflow-hidden rounded-2xl border-2 transition-all duration-300 hover:shadow-xl hover:scale-[1.02] cursor-pointer
                    bg-gradient-to-br ${cr(dr.tipo,xr)}
                    ${fr===0&&St.length>2?"lg:col-span-2":""}
                  `,children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 group-hover/card:opacity-100 transition-opacity duration-500 transform -skew-x-12 group-hover/card:animate-pulse"}),jsxRuntimeExports.jsx("div",{className:"relative p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4",children:[jsxRuntimeExports.jsx("div",{className:`
                        flex-shrink-0 p-3 rounded-xl shadow-md
                        ${ur(dr.tipo,xr)}
                      `,children:jsxRuntimeExports.jsx(mr,{className:`w-6 h-6 ${lr(dr.tipo,xr)}`})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[jsxRuntimeExports.jsx("span",{className:`
                            px-3 py-1 text-xs font-bold rounded-full shadow-sm
                            ${xr?"bg-red-500 text-white animate-pulse":dr.tipo==="comunicado"?"bg-blue-500 text-white":"bg-emerald-500 text-white"}
                          `,children:dr.tipo==="comunicado"?"Comunicado":"Noticia"}),xr&&jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 text-xs font-bold bg-red-600 text-white rounded-full animate-bounce shadow-lg",children:[jsxRuntimeExports.jsx(HiBolt,{className:"w-3 h-3"}),"URGENTE"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 dark:text-gray-400",children:[jsxRuntimeExports.jsx(HiCalendar,{className:"w-3 h-3"}),ir(dr.fecha)]})]}),jsxRuntimeExports.jsx("h3",{className:`
                          font-bold mb-3 line-clamp-2 transition-colors duration-300
                          ${fr===0&&St.length>2?"text-xl":"text-lg"}
                          ${xr?"text-red-800 dark:text-red-200":"text-gray-900 dark:text-gray-100 group-hover/card:text-blue-600 dark:group-hover/card:text-blue-400"}
                        `,children:dr.titulo}),jsxRuntimeExports.jsx("p",{className:`
                          text-gray-600 dark:text-gray-300 mb-4 leading-relaxed
                          ${fr===0&&St.length>2?"line-clamp-3":"line-clamp-2"}
                        `,children:dr.contenido}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs(Link,{to:`/noticias/${dr.id}`,className:"group/link flex items-center gap-2 text-sm font-semibold text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 transition-colors duration-300",children:[jsxRuntimeExports.jsx(HiEye,{className:"w-4 h-4"}),"Leer ms",jsxRuntimeExports.jsx(HiArrowRight,{className:"w-3 h-3 group-hover/link:translate-x-1 transition-transform duration-300"})]}),dr.enlace&&jsxRuntimeExports.jsx("a",{href:dr.enlace,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 transition-colors duration-300 underline decoration-dotted",children:"Enlace externo"})]})]})]})})]},dr.id)})})]})]})}class EventoService{constructor(){_i(this,"repository");this.repository=new MenuRepository}async getAllEventos(){try{return await this.repository.getEventos()}catch(er){throw console.error("Error getting eventos:",er),new Error("No se pudieron cargar los eventos")}}async getEventosProximos(){try{const er=await this.repository.getEventosProximos();return this.sortByDate(er)}catch(er){throw console.error("Error getting eventos proximos:",er),new Error("No se pudieron cargar los eventos prximos")}}async getEventosImportantes(){try{return await this.repository.getEventosImportantes()}catch(er){throw console.error("Error getting eventos importantes:",er),new Error("No se pudieron cargar los eventos importantes")}}async getEventosVirtuales(){try{return await this.repository.getEventosVirtuales()}catch(er){throw console.error("Error getting eventos virtuales:",er),new Error("No se pudieron cargar los eventos virtuales")}}async getEventoById(er){try{return await this.repository.getEvento(er)}catch(tr){throw console.error("Error getting evento:",tr),new Error("No se pudo cargar el evento")}}filterEventos(er,tr,rr,nr){return er.filter(ar=>{const sr=ar.titulo.toLowerCase().includes(tr.toLowerCase())||ar.detalles.toLowerCase().includes(tr.toLowerCase()),ir=!rr||ar.es_virtual,or=!nr||ar.importante;return sr&&ir&&or})}getDaysUntilEvent(er){return getDaysUntilDate(er)}sortByDate(er){return er.sort((tr,rr)=>new Date(tr.fecha).getTime()-new Date(rr.fecha).getTime())}}function CalendarioEventos(){const[St,er]=reactExports.useState([]),[tr,rr]=reactExports.useState(!0),[nr,ar]=reactExports.useState(null),sr=new EventoService;reactExports.useEffect(()=>{(async()=>{try{rr(!0);const fr=(await sr.getEventosProximos()).slice(0,3);er(fr)}catch(dr){ar(dr.message),console.error("Error fetching eventos:",dr)}finally{rr(!1)}})()},[]);const ir=ur=>formatDisplayDate(ur,{weekday:"short",day:"2-digit",month:"short"}),or=ur=>new Date(`2000-01-01T${ur}`).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"}),lr=ur=>getDaysUntilDate(ur),cr=(ur,dr)=>ur?{bg:"from-amber-50 to-orange-100 dark:from-amber-900/20 dark:to-orange-800/30 border-amber-200/50 dark:border-amber-700/50",icon:"text-amber-600 dark:text-amber-400",iconBg:"bg-gradient-to-br from-amber-400 to-orange-500",accent:"bg-amber-500"}:dr<=1?{bg:"from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/30 border-red-200/50 dark:border-red-700/50",icon:"text-red-600 dark:text-red-400",iconBg:"bg-gradient-to-br from-red-500 to-red-600",accent:"bg-red-500"}:dr<=7?{bg:"from-orange-50 to-orange-100 dark:from-orange-900/20 dark:to-orange-800/30 border-orange-200/50 dark:border-orange-700/50",icon:"text-orange-600 dark:text-orange-400",iconBg:"bg-gradient-to-br from-orange-500 to-orange-600",accent:"bg-orange-500"}:{bg:"from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/30 border-blue-200/50 dark:border-blue-700/50",icon:"text-blue-600 dark:text-blue-400",iconBg:"bg-gradient-to-br from-blue-500 to-blue-600",accent:"bg-blue-500"};return tr?jsxRuntimeExports.jsxs("div",{className:"relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-50 via-white to-pink-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 rounded-3xl"}),jsxRuntimeExports.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-gradient-to-br from-purple-400/10 to-pink-400/10 rounded-full blur-3xl"}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 right-0 w-48 h-48 bg-gradient-to-tr from-blue-400/10 to-purple-400/10 rounded-full blur-3xl"}),jsxRuntimeExports.jsx("div",{className:"relative bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-3xl shadow-xl border border-white/20 dark:border-gray-700/50 p-8",children:jsxRuntimeExports.jsxs("div",{className:"animate-pulse",children:[jsxRuntimeExports.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded mb-6"}),jsxRuntimeExports.jsx("div",{className:"space-y-4",children:[...Array(4)].map((ur,dr)=>jsxRuntimeExports.jsx("div",{className:"h-28 bg-gray-200 dark:bg-gray-700 rounded-2xl"},dr))})]})})]}):nr?jsxRuntimeExports.jsxs("div",{className:"relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-50 via-white to-red-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 rounded-3xl"}),jsxRuntimeExports.jsx("div",{className:"relative bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-3xl shadow-xl border border-white/20 dark:border-gray-700/50 p-8",children:jsxRuntimeExports.jsxs("div",{className:"text-center text-red-600 dark:text-red-400",children:[jsxRuntimeExports.jsx(HiExclamationTriangle,{className:"w-12 h-12 mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-lg font-medium",children:nr})]})})]}):jsxRuntimeExports.jsxs("div",{className:"relative overflow-hidden group",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-50 via-white to-pink-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 rounded-3xl transition-all duration-500 group-hover:from-purple-100 group-hover:to-pink-100 dark:group-hover:from-gray-800 dark:group-hover:to-gray-700"}),jsxRuntimeExports.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-gradient-to-br from-purple-400/10 to-pink-400/10 rounded-full blur-3xl group-hover:from-purple-400/20 group-hover:to-pink-400/20 transition-all duration-500"}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 right-0 w-48 h-48 bg-gradient-to-tr from-blue-400/10 to-purple-400/10 rounded-full blur-3xl group-hover:from-blue-400/20 group-hover:to-purple-400/20 transition-all duration-500"}),jsxRuntimeExports.jsxs("div",{className:"relative bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-3xl shadow-xl border border-white/20 dark:border-gray-700/50 p-8 transition-all duration-300 hover:shadow-2xl hover:scale-[1.02]",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-pink-600 rounded-2xl shadow-lg",children:jsxRuntimeExports.jsx(HiCalendarDays,{className:"w-7 h-7 text-white"})}),jsxRuntimeExports.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-pink-400 rounded-full animate-pulse"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 dark:from-gray-100 dark:to-gray-300 bg-clip-text text-transparent",children:"Prximos Eventos"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"No te pierdas las actividades programadas"})]})]}),jsxRuntimeExports.jsxs(Link,{to:"/eventos",className:"group/btn flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-medium text-sm rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:["Ver todos",jsxRuntimeExports.jsx(HiArrowRight,{className:"w-4 h-4 group-hover/btn:translate-x-1 transition-transform duration-300"})]})]}),St.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-gray-200 to-gray-300 dark:from-gray-700 dark:to-gray-600 rounded-2xl mx-auto mb-4 flex items-center justify-center",children:jsxRuntimeExports.jsx(HiCalendarDays,{className:"w-10 h-10 text-gray-500 dark:text-gray-400"})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"No hay eventos prximos"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No hay eventos prximos programados en este momento"})]}):jsxRuntimeExports.jsx("div",{className:"space-y-5",children:St.map((ur,dr)=>{const fr=lr(ur.fecha),mr=cr(ur.importante,fr);return jsxRuntimeExports.jsxs("div",{className:`
                    group/card relative overflow-hidden rounded-2xl border-2 transition-all duration-300 hover:shadow-xl hover:scale-[1.02] cursor-pointer
                    bg-gradient-to-br ${mr.bg}
                  `,children:[jsxRuntimeExports.jsx("div",{className:`absolute left-0 top-0 w-1 h-full ${mr.accent} transition-all duration-300 group-hover/card:w-2`}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 group-hover/card:opacity-100 transition-opacity duration-500 transform -skew-x-12"}),jsxRuntimeExports.jsx("div",{className:"relative p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4",children:[jsxRuntimeExports.jsx("div",{className:`
                        flex-shrink-0 p-3 rounded-xl shadow-lg
                        ${mr.iconBg}
                      `,children:jsxRuntimeExports.jsx(HiCalendarDays,{className:"w-6 h-6 text-white"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-3 flex-wrap",children:[ur.importante&&jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1 px-3 py-1 text-xs font-bold bg-gradient-to-r from-amber-500 to-orange-500 text-white rounded-full shadow-md animate-pulse",children:[jsxRuntimeExports.jsx(HiStar,{className:"w-3 h-3"}),"IMPORTANTE"]}),fr<=1&&jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1 px-3 py-1 text-xs font-bold bg-gradient-to-r from-red-500 to-red-600 text-white rounded-full shadow-md animate-bounce",children:[jsxRuntimeExports.jsx(HiFire,{className:"w-3 h-3"}),fr===0?"HOY":"MAANA"]}),fr>1&&fr<=7&&jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1 px-3 py-1 text-xs font-medium bg-gradient-to-r from-orange-400 to-orange-500 text-white rounded-full shadow-sm",children:[jsxRuntimeExports.jsx(HiSparkles,{className:"w-3 h-3"}),"En ",fr," das"]}),jsxRuntimeExports.jsx("span",{className:`
                            px-3 py-1 text-xs font-medium rounded-full shadow-sm
                            ${ur.es_virtual?"bg-gradient-to-r from-blue-500 to-blue-600 text-white":"bg-gradient-to-r from-green-500 to-green-600 text-white"}
                          `,children:ur.es_virtual?"Virtual":"Presencial"})]}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100 mb-3 line-clamp-2 group-hover/card:text-purple-600 dark:group-hover/card:text-purple-400 transition-colors duration-300",children:ur.titulo}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4 line-clamp-2 leading-relaxed",children:ur.detalles}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-3 mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[jsxRuntimeExports.jsx("div",{className:"p-1.5 bg-purple-100 dark:bg-purple-900/50 rounded-lg",children:jsxRuntimeExports.jsx(HiCalendarDays,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"})}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:ir(ur.fecha)})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[jsxRuntimeExports.jsx("div",{className:"p-1.5 bg-blue-100 dark:bg-blue-900/50 rounded-lg",children:jsxRuntimeExports.jsx(HiClock,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:or(ur.hora)})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400 col-span-2 lg:col-span-1",children:[jsxRuntimeExports.jsx("div",{className:`p-1.5 rounded-lg ${ur.es_virtual?"bg-green-100 dark:bg-green-900/50":"bg-orange-100 dark:bg-orange-900/50"}`,children:ur.es_virtual?jsxRuntimeExports.jsx(HiGlobeAlt,{className:"w-4 h-4 text-green-600 dark:text-green-400"}):jsxRuntimeExports.jsx(HiMapPin,{className:"w-4 h-4 text-orange-600 dark:text-orange-400"})}),jsxRuntimeExports.jsx("span",{className:"font-medium truncate",children:ur.es_virtual?"Virtual":ur.lugar||"Presencial"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs(Link,{to:`/eventos/${ur.id}`,className:"group/link flex items-center gap-2 text-sm font-semibold text-purple-600 dark:text-purple-400 hover:text-purple-700 dark:hover:text-purple-300 transition-colors duration-300",children:["Ver detalles",jsxRuntimeExports.jsx(HiArrowRight,{className:"w-3 h-3 group-hover/link:translate-x-1 transition-transform duration-300"})]}),ur.enlace&&jsxRuntimeExports.jsx("a",{href:ur.enlace,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-medium text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 transition-colors duration-300 underline decoration-dotted",children:ur.es_virtual?"Unirse":"Ms info"})]})]})]})})]},ur.id)})})]})]})}const organigramaData=[{id:"general",name:"Estructura General",description:"Organigrama institucional completo Red Medicron IPS",image:"/institucion/Organigrama.png",area:"Institucional"},{id:"direccion-ejecutiva",name:"Direccin Ejecutiva",description:"Estructura organizacional de la Direccin Ejecutiva",image:"/institucion/DireccionEjectiva.jpeg",area:"Direccin"},{id:"coordinacion-calidad",name:"Coordinacin de Calidad",description:"Estructura de Coordinacin de Calidad y Servicios de Apoyo",image:"/institucion/CoordinacionCalidadServiciosApoto.jpeg",area:"Calidad"},{id:"coordinacion-asistencial",name:"Coordinacin Asistencial",description:"Estructura de Coordinacin de Servicios Asistenciales",image:"/institucion/CoordinacionServiciosAsistenciales.jpeg",area:"Asistencial"},{id:"jefatura-financiera",name:"Jefatura Financiera",description:"Estructura de Jefatura Financiera y Administrativa",image:"/institucion/JefaturaFinancieraAdministrativa.png",area:"Financiera"},{id:"jefatura-calidad",name:"Jefatura de Calidad",description:"Estructura de Jefatura de Gestin de Calidad",image:"/institucion/JefaturaGestionCalidad.png",area:"Calidad"},{id:"jefatura-talento",name:"Jefatura Talento Humano",description:"Estructura de Jefatura de Gestin del Talento Humano",image:"/institucion/jefaturaGestionTalentoHumano.png",area:"Talento Humano"},{id:"jefatura-servicios",name:"Jefatura Servicios de Salud",description:"Estructura de Jefatura de Servicios de Salud",image:"/institucion/JefaturaServiciosSalud.png",area:"Servicios de Salud"}];function EstructuraOrganizacional(){const[St,er]=reactExports.useState(0),[tr,rr]=reactExports.useState(!1),[nr,ar]=reactExports.useState(!1),[sr,ir]=reactExports.useState(!1),or=organigramaData[St],lr=()=>{rr(!0),ar(!1)},cr=()=>{ar(!0),rr(!1)},ur=()=>{ir(!sr)},dr=()=>{er(hr=>hr===0?organigramaData.length-1:hr-1),rr(!1),ar(!1),ir(!1)},fr=()=>{er(hr=>hr===organigramaData.length-1?0:hr+1),rr(!1),ar(!1),ir(!1)},mr=hr=>{er(hr),rr(!1),ar(!1),ir(!1)},xr=hr=>{const gr={Institucional:{headerBg:"bg-gradient-to-r from-blue-50 to-blue-100 dark:from-blue-950 dark:to-blue-900",iconBg:"bg-blue-100 dark:bg-blue-800",iconColor:"text-blue-600 dark:text-blue-300",badge:"bg-blue-100 text-blue-800 dark:bg-blue-800 dark:text-blue-200",activeButton:"bg-blue-600 hover:bg-blue-700 text-white",spinner:"border-blue-200 border-t-blue-600 dark:border-blue-700 dark:border-t-blue-400",footer:"bg-blue-50 dark:bg-blue-900/30 border-blue-200 dark:border-blue-700",footerText:"text-blue-900 dark:text-blue-100",footerSubtext:"text-blue-700 dark:text-blue-300",retryButton:"bg-blue-600 hover:bg-blue-700"},Direccin:{headerBg:"bg-gradient-to-r from-purple-50 to-purple-100 dark:from-purple-950 dark:to-purple-900",iconBg:"bg-purple-100 dark:bg-purple-800",iconColor:"text-purple-600 dark:text-purple-300",badge:"bg-purple-100 text-purple-800 dark:bg-purple-800 dark:text-purple-200",activeButton:"bg-purple-600 hover:bg-purple-700 text-white",spinner:"border-purple-200 border-t-purple-600 dark:border-purple-700 dark:border-t-purple-400",footer:"bg-purple-50 dark:bg-purple-900/30 border-purple-200 dark:border-purple-700",footerText:"text-purple-900 dark:text-purple-100",footerSubtext:"text-purple-700 dark:text-purple-300",retryButton:"bg-purple-600 hover:bg-purple-700"},Calidad:{headerBg:"bg-gradient-to-r from-emerald-50 to-emerald-100 dark:from-emerald-950 dark:to-emerald-900",iconBg:"bg-emerald-100 dark:bg-emerald-800",iconColor:"text-emerald-600 dark:text-emerald-300",badge:"bg-emerald-100 text-emerald-800 dark:bg-emerald-800 dark:text-emerald-200",activeButton:"bg-emerald-600 hover:bg-emerald-700 text-white",spinner:"border-emerald-200 border-t-emerald-600 dark:border-emerald-700 dark:border-t-emerald-400",footer:"bg-emerald-50 dark:bg-emerald-900/30 border-emerald-200 dark:border-emerald-700",footerText:"text-emerald-900 dark:text-emerald-100",footerSubtext:"text-emerald-700 dark:text-emerald-300",retryButton:"bg-emerald-600 hover:bg-emerald-700"},Asistencial:{headerBg:"bg-gradient-to-r from-rose-50 to-rose-100 dark:from-rose-950 dark:to-rose-900",iconBg:"bg-rose-100 dark:bg-rose-800",iconColor:"text-rose-600 dark:text-rose-300",badge:"bg-rose-100 text-rose-800 dark:bg-rose-800 dark:text-rose-200",activeButton:"bg-rose-600 hover:bg-rose-700 text-white",spinner:"border-rose-200 border-t-rose-600 dark:border-rose-700 dark:border-t-rose-400",footer:"bg-rose-50 dark:bg-rose-900/30 border-rose-200 dark:border-rose-700",footerText:"text-rose-900 dark:text-rose-100",footerSubtext:"text-rose-700 dark:text-rose-300",retryButton:"bg-rose-600 hover:bg-rose-700"},Financiera:{headerBg:"bg-gradient-to-r from-amber-50 to-amber-100 dark:from-amber-950 dark:to-amber-900",iconBg:"bg-amber-100 dark:bg-amber-800",iconColor:"text-amber-600 dark:text-amber-300",badge:"bg-amber-100 text-amber-800 dark:bg-amber-800 dark:text-amber-200",activeButton:"bg-amber-600 hover:bg-amber-700 text-white",spinner:"border-amber-200 border-t-amber-600 dark:border-amber-700 dark:border-t-amber-400",footer:"bg-amber-50 dark:bg-amber-900/30 border-amber-200 dark:border-amber-700",footerText:"text-amber-900 dark:text-amber-100",footerSubtext:"text-amber-700 dark:text-amber-300",retryButton:"bg-amber-600 hover:bg-amber-700"},"Talento Humano":{headerBg:"bg-gradient-to-r from-indigo-50 to-indigo-100 dark:from-indigo-950 dark:to-indigo-900",iconBg:"bg-indigo-100 dark:bg-indigo-800",iconColor:"text-indigo-600 dark:text-indigo-300",badge:"bg-indigo-100 text-indigo-800 dark:bg-indigo-800 dark:text-indigo-200",activeButton:"bg-indigo-600 hover:bg-indigo-700 text-white",spinner:"border-indigo-200 border-t-indigo-600 dark:border-indigo-700 dark:border-t-indigo-400",footer:"bg-indigo-50 dark:bg-indigo-900/30 border-indigo-200 dark:border-indigo-700",footerText:"text-indigo-900 dark:text-indigo-100",footerSubtext:"text-indigo-700 dark:text-indigo-300",retryButton:"bg-indigo-600 hover:bg-indigo-700"},"Servicios de Salud":{headerBg:"bg-gradient-to-r from-pink-50 to-pink-100 dark:from-pink-950 dark:to-pink-900",iconBg:"bg-pink-100 dark:bg-pink-800",iconColor:"text-pink-600 dark:text-pink-300",badge:"bg-pink-100 text-pink-800 dark:bg-pink-800 dark:text-pink-200",activeButton:"bg-pink-600 hover:bg-pink-700 text-white",spinner:"border-pink-200 border-t-pink-600 dark:border-pink-700 dark:border-t-pink-400",footer:"bg-pink-50 dark:bg-pink-900/30 border-pink-200 dark:border-pink-700",footerText:"text-pink-900 dark:text-pink-100",footerSubtext:"text-pink-700 dark:text-pink-300",retryButton:"bg-pink-600 hover:bg-pink-700"}};return gr[hr]||gr.Institucional},pr=xr(or.area);return jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl shadow-lg p-8 border border-gray-200 dark:border-gray-700 overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:`${pr.headerBg} px-6 py-4 border-b border-gray-200 dark:border-gray-600`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:`p-2 ${pr.iconBg} rounded-lg`,children:jsxRuntimeExports.jsx(HiOutlinePhoto,{className:`w-6 h-6 ${pr.iconColor}`})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 tracking-tight",children:or.name}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:or.description}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[jsxRuntimeExports.jsx("span",{className:`px-2 py-1 text-xs font-medium ${pr.badge} rounded-full`,children:or.area}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[St+1," de ",organigramaData.length]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 mr-3",children:[jsxRuntimeExports.jsx("button",{onClick:dr,className:"p-2 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 rounded-lg border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors shadow-sm",title:"Anterior",children:jsxRuntimeExports.jsx(HiChevronLeft,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{onClick:fr,className:"p-2 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 rounded-lg border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors shadow-sm",title:"Siguiente",children:jsxRuntimeExports.jsx(HiChevronRight,{className:"w-4 h-4"})})]}),tr&&!nr&&jsxRuntimeExports.jsx("button",{onClick:ur,className:"flex items-center gap-2 px-3 py-2 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 rounded-lg border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors shadow-sm",title:sr?"Zoom normal":"Ampliar imagen",children:sr?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(HiMagnifyingGlassMinus,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium hidden sm:inline",children:"Reducir"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(HiMagnifyingGlassPlus,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium hidden sm:inline",children:"Ampliar"})]})})]})]}),jsxRuntimeExports.jsx("div",{className:"mt-4 flex gap-2 overflow-x-auto pb-2",children:organigramaData.map((hr,gr)=>{const vr=xr(hr.area);return jsxRuntimeExports.jsx("button",{onClick:()=>mr(gr),className:`
                  flex-shrink-0 px-3 py-2 rounded-lg text-xs font-medium transition-all duration-200
                  ${gr===St?`${vr.activeButton} shadow-md`:"bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 border border-gray-200 dark:border-gray-600"}
                `,title:hr.description,children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"font-medium",children:hr.name}),jsxRuntimeExports.jsx("div",{className:"text-xs opacity-75",children:hr.area})]})},hr.id)})})]}),jsxRuntimeExports.jsxs("div",{className:"p-6",children:[!tr&&!nr&&jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center py-16 space-y-4",children:[jsxRuntimeExports.jsx("div",{className:`animate-spin w-8 h-8 border-4 ${pr.spinner} rounded-full`}),jsxRuntimeExports.jsxs("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:["Cargando ",or.name.toLowerCase(),"..."]})]}),nr&&jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center py-16 space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"p-4 bg-red-100 dark:bg-red-900/50 rounded-full",children:jsxRuntimeExports.jsx(HiOutlinePhoto,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:["No se pudo cargar ",or.name]}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"La imagen no est disponible en este momento."}),jsxRuntimeExports.jsx("button",{onClick:()=>{ar(!1),rr(!1)},className:`mt-3 px-4 py-2 ${pr.retryButton} text-white rounded-lg transition-colors text-sm`,children:"Intentar de nuevo"})]})]}),!nr&&jsxRuntimeExports.jsxs("div",{className:`
            relative overflow-hidden rounded-lg border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-800 transition-all duration-300
            ${sr?"cursor-zoom-out":"cursor-zoom-in"}
          `,children:[jsxRuntimeExports.jsx("div",{className:`
              transition-transform duration-500 ease-in-out overflow-auto
              ${sr?"transform scale-150":"transform scale-100"}
            `,children:jsxRuntimeExports.jsx("img",{src:or.image,alt:`Organigrama ${or.name}`,className:`
                  w-full h-auto max-w-none transition-opacity duration-300
                  ${tr?"opacity-100":"opacity-0"}
                `,onLoad:lr,onError:cr,onClick:ur,style:{maxHeight:sr?"none":"70vh",objectFit:"contain"}})}),sr&&jsxRuntimeExports.jsx("div",{className:"absolute top-4 right-4 bg-black/70 text-white px-3 py-1 rounded-lg text-sm backdrop-blur-sm",children:"Click para reducir"})]}),tr&&!nr&&jsxRuntimeExports.jsx("div",{className:`mt-6 p-4 ${pr.footer} rounded-lg border`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:`p-1 ${pr.iconBg} rounded`,children:jsxRuntimeExports.jsx(HiOutlinePhoto,{className:`w-4 h-4 ${pr.iconColor}`})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("h4",{className:`text-sm font-medium ${pr.footerText} mb-1`,children:[or.name," - ",or.area]}),jsxRuntimeExports.jsxs("p",{className:`text-xs ${pr.footerSubtext} leading-relaxed`,children:[or.description,". Esta estructura muestra la organizacin especfica del rea ",or.area," dentro de Red Medicron IPS, detallando las lneas de reporte y responsabilidades correspondientes."]})]})]})})]})]})}const DOCUMENTOS=[{id:1,nombre:"Reglamento Interno de Trabajo",url:"https://drive.google.com/file/d/1cQNXCgqIVhfINusXTFOAlRnSSEZPwY23/view?usp=sharing",tipo:"reglamento",descripcion:"Normas y polticas internas de la institucin para el correcto funcionamiento laboral.",actualizado:"2024-06-01",tamano:"2.5 MB",popular:!0,categoria:"Legal"},{id:2,nombre:"Manual de Convivencia",url:"#",tipo:"manual",descripcion:"Gua completa para la sana convivencia laboral y resolucin de conflictos.",actualizado:"2024-05-15",tamano:"1.8 MB",popular:!1,categoria:"Recursos Humanos"},{id:3,nombre:"Formato de Permiso",url:"#",tipo:"formato",descripcion:"Solicitud oficial de permisos laborales y procedimientos administrativos.",actualizado:"2024-04-10",tamano:"245 KB",popular:!0,categoria:"Formularios"},{id:4,nombre:"Protocolo de Seguridad",url:"#",tipo:"protocolo",descripcion:"Procedimientos de seguridad y salud ocupacional en el trabajo.",actualizado:"2024-07-01",tamano:"3.2 MB",popular:!1,categoria:"Seguridad"},{id:5,nombre:"Cdigo de tica",url:"#",tipo:"codigo",descripcion:"Principios ticos y conducta profesional en la institucin.",actualizado:"2024-03-20",tamano:"1.1 MB",popular:!0,categoria:"tica"},{id:6,nombre:"Manual de Procedimientos",url:"#",tipo:"manual",descripcion:"Gua detallada de todos los procedimientos operativos internos.",actualizado:"2024-06-25",tamano:"4.7 MB",popular:!1,categoria:"Operaciones"}];function getIcon(St,er=!1){const tr=`w-6 h-6 transition-transform duration-300 group-hover:scale-110 ${er?"animate-pulse":""}`;switch(St){case"reglamento":return jsxRuntimeExports.jsx(HiOutlineClipboard,{className:`${tr} text-white`});case"manual":return jsxRuntimeExports.jsx(HiOutlineDocumentText,{className:`${tr} text-white`});case"formato":return jsxRuntimeExports.jsx(HiDocumentText,{className:`${tr} text-white`});case"protocolo":return jsxRuntimeExports.jsx(HiFolder,{className:`${tr} text-white`});case"codigo":return jsxRuntimeExports.jsx(HiOutlineClipboard,{className:`${tr} text-white`});default:return jsxRuntimeExports.jsx(HiDocumentText,{className:`${tr} text-white`})}}function getTipoColor(St){switch(St){case"reglamento":return"from-blue-400 to-blue-500";case"manual":return"from-green-400 to-green-500";case"formato":return"from-amber-400 to-amber-500";case"protocolo":return"from-purple-400 to-purple-500";case"codigo":return"from-rose-400 to-rose-500";default:return"from-gray-400 to-gray-500"}}function getTipoBgColor(St){switch(St){case"reglamento":return"from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/25 border-blue-200 dark:border-blue-700";case"manual":return"from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/25 border-green-200 dark:border-green-700";case"formato":return"from-amber-50 to-amber-100 dark:from-amber-900/20 dark:to-amber-800/25 border-amber-200 dark:border-amber-700";case"protocolo":return"from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/25 border-purple-200 dark:border-purple-700";case"codigo":return"from-rose-50 to-rose-100 dark:from-rose-900/20 dark:to-rose-800/25 border-rose-200 dark:border-rose-700";default:return"from-gray-50 to-gray-100 dark:from-gray-900/20 dark:to-gray-800/25 border-gray-200 dark:border-gray-700"}}function getTipoTextColor(St){switch(St){case"reglamento":return"text-blue-700 dark:text-blue-300";case"manual":return"text-green-700 dark:text-green-300";case"formato":return"text-amber-700 dark:text-amber-300";case"protocolo":return"text-purple-700 dark:text-purple-300";case"codigo":return"text-rose-700 dark:text-rose-300";default:return"text-gray-700 dark:text-gray-300"}}function DocumentosRecursosRapidos(){const[St,er]=reactExports.useState(""),[tr,rr]=reactExports.useState("Todos"),nr=["Todos",...new Set(DOCUMENTOS.map(ir=>ir.categoria))],ar=DOCUMENTOS.filter(ir=>{const or=ir.nombre.toLowerCase().includes(St.toLowerCase())||ir.descripcion.toLowerCase().includes(St.toLowerCase()),lr=tr==="Todos"||ir.categoria===tr;return or&&lr}),sr=ir=>new Date(ir).toLocaleDateString("es-CO",{day:"2-digit",month:"short",year:"numeric"});return jsxRuntimeExports.jsxs("div",{className:"relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-50 via-white to-gray-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 rounded-3xl"}),jsxRuntimeExports.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-blue-300/5 to-purple-300/5 rounded-full blur-3xl"}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-gradient-to-tr from-purple-300/5 to-blue-300/5 rounded-full blur-3xl"}),jsxRuntimeExports.jsxs("div",{className:"relative bg-white/95 dark:bg-gray-900/95 backdrop-blur-sm rounded-3xl shadow-xl border border-gray-200/50 dark:border-gray-700/50 p-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[jsxRuntimeExports.jsx("div",{className:"p-3 bg-gradient-to-br from-slate-500 to-slate-600 rounded-2xl shadow-lg",children:jsxRuntimeExports.jsx(HiFolder,{className:"w-8 h-8 text-white"})}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-400 rounded-full animate-pulse"}),jsxRuntimeExports.jsx(HiSparkles,{className:"w-6 h-6 text-yellow-400"})]})]}),jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-slate-700 via-gray-700 to-slate-600 dark:from-slate-200 dark:via-gray-200 dark:to-slate-300 bg-clip-text text-transparent mb-2",children:"Documentos y Recursos Rapidos"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg font-medium",children:"Accede rpidamente a todos los documentos importantes de la institucin"})]}),jsxRuntimeExports.jsxs("div",{className:"mb-8 space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:jsxRuntimeExports.jsx(HiDocumentText,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"})}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Buscar documentos...",value:St,onChange:ir=>er(ir.target.value),className:"block w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500 focus:ring-2 focus:ring-slate-400 dark:focus:ring-slate-500 focus:border-slate-400 dark:focus:border-slate-500 transition-all duration-300 shadow-sm"})]}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:nr.map(ir=>jsxRuntimeExports.jsx("button",{onClick:()=>rr(ir),className:`px-4 py-2 rounded-xl font-medium transition-all duration-300 ${tr===ir?"bg-gradient-to-r from-slate-500 to-slate-600 text-white shadow-md hover:shadow-lg":"bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-400 border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 hover:border-gray-300 dark:hover:border-gray-600"}`,children:ir},ir))})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ar.map(ir=>jsxRuntimeExports.jsxs("div",{className:`
                group relative overflow-hidden rounded-2xl border transition-all duration-300 hover:shadow-xl hover:scale-[1.02] cursor-pointer
                bg-gradient-to-br ${getTipoBgColor(ir.tipo)} shadow-md
              `,children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 transform -skew-x-12"}),ir.popular&&jsxRuntimeExports.jsx("div",{className:"absolute top-3 right-3 z-10",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-gradient-to-r from-yellow-400 to-orange-400 text-white text-xs font-semibold rounded-full shadow-sm animate-pulse",children:[jsxRuntimeExports.jsx(HiSparkles,{className:"w-3 h-3"}),"Popular"]})}),jsxRuntimeExports.jsx("div",{className:`absolute top-0 left-0 right-0 h-1 bg-gradient-to-r ${getTipoColor(ir.tipo)} opacity-80`}),jsxRuntimeExports.jsxs("div",{className:"relative p-6",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between mb-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:`p-3 rounded-xl shadow-md bg-gradient-to-br ${getTipoColor(ir.tipo)} transition-transform duration-300 group-hover:scale-105`,children:getIcon(ir.tipo,ir.popular)}),jsxRuntimeExports.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full bg-gradient-to-r ${getTipoColor(ir.tipo)} text-white shadow-sm`,children:ir.categoria})]})}),jsxRuntimeExports.jsx("h3",{className:`text-lg font-bold mb-2 group-hover:text-slate-600 dark:group-hover:text-slate-400 transition-colors duration-300 line-clamp-2 ${getTipoTextColor(ir.tipo)}`,children:ir.nombre}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4 line-clamp-3 leading-relaxed",children:ir.descripcion}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:[jsxRuntimeExports.jsx(HiCalendarDays,{className:"w-4 h-4"}),jsxRuntimeExports.jsxs("span",{className:"font-medium",children:["Actualizado: ",sr(ir.actualizado)]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:[jsxRuntimeExports.jsx(HiDocumentText,{className:"w-4 h-4"}),jsxRuntimeExports.jsxs("span",{className:"font-medium",children:["Tamao: ",ir.tamano]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsxs("a",{href:ir.url,target:"_blank",rel:"noopener noreferrer",className:`
                      group/btn flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-xl font-semibold transition-all duration-300 hover:scale-105 shadow-md hover:shadow-lg
                      bg-gradient-to-r ${getTipoColor(ir.tipo)} text-white hover:opacity-90
                    `,children:[jsxRuntimeExports.jsx(HiEye,{className:"w-4 h-4 group-hover/btn:scale-110 transition-transform duration-300"}),jsxRuntimeExports.jsx("span",{children:"Ver"})]}),jsxRuntimeExports.jsx("a",{href:ir.url,download:!0,className:"flex items-center justify-center p-3 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 rounded-xl hover:bg-gray-200 dark:hover:bg-gray-600 transition-all duration-300 hover:scale-105 shadow-md hover:shadow-lg",title:"Descargar",children:jsxRuntimeExports.jsx(HiDownload,{className:"w-4 h-4"})})]})]})]},ir.id))}),ar.length===0&&jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("div",{className:"w-24 h-24 bg-gray-100 dark:bg-gray-800 rounded-full mx-auto mb-4 flex items-center justify-center",children:jsxRuntimeExports.jsx(HiDocumentText,{className:"w-12 h-12 text-gray-400 dark:text-gray-500"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"No se encontraron documentos"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium",children:"Intenta ajustar los filtros de bsqueda o la categora seleccionada"})]})]})]})}function ReconocimientosCumpleanios(){const[St,er]=reactExports.useState([]),[tr,rr]=reactExports.useState([]),[nr,ar]=reactExports.useState(!0),[sr,ir]=reactExports.useState(null);reactExports.useEffect(()=>{(async()=>{try{ar(!0),console.log(" Cargando felicitaciones y reconocimientos...");const[dr,fr]=await Promise.all([MenuApiService.getFelicitacionesMes(),MenuApiService.getReconocimientosPublicados()]);console.log(" Felicitaciones obtenidas:",dr),console.log(" Reconocimientos obtenidos:",fr),er(dr),rr(fr.slice(0,3))}catch(dr){console.error(" Error al cargar datos:",dr),ir("Error al cargar cumpleaos y reconocimientos")}finally{ar(!1)}})()},[]);const or=ur=>ur?ur.startsWith("http")?ur:`http://152.200.161.234:8081/${ur}`:null,lr=ur=>formatBirthdayDate(ur),cr=ur=>{const dr=new Date,fr=new Date(ur);fr.setFullYear(dr.getFullYear());const mr=dr.toDateString(),xr=fr.toDateString();return mr===xr};return nr?jsxRuntimeExports.jsxs("div",{className:"relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-pink-50 via-white to-rose-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 rounded-3xl"}),jsxRuntimeExports.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-pink-400/10 to-rose-400/10 rounded-full blur-3xl"}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-gradient-to-tr from-yellow-400/10 to-pink-400/10 rounded-full blur-3xl"}),jsxRuntimeExports.jsx("div",{className:"relative bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-3xl shadow-xl border border-white/20 dark:border-gray-700/50 p-8",children:jsxRuntimeExports.jsxs("div",{className:"animate-pulse",children:[jsxRuntimeExports.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded mb-6"}),jsxRuntimeExports.jsx("div",{className:"space-y-4",children:[...Array(3)].map((ur,dr)=>jsxRuntimeExports.jsx("div",{className:"h-20 bg-gray-200 dark:bg-gray-700 rounded-2xl"},dr))})]})})]}):sr?jsxRuntimeExports.jsxs("div",{className:"relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-50 via-white to-red-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 rounded-3xl"}),jsxRuntimeExports.jsx("div",{className:"relative bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-3xl shadow-xl border border-white/20 dark:border-gray-700/50 p-8",children:jsxRuntimeExports.jsxs("div",{className:"text-center text-red-600 dark:text-red-400",children:[jsxRuntimeExports.jsx(HiExclamationTriangle,{className:"w-12 h-12 mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-lg font-medium",children:sr})]})})]}):jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"relative overflow-hidden group",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-pink-50 via-white to-rose-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 rounded-3xl transition-all duration-500 group-hover:from-pink-100 group-hover:to-rose-100 dark:group-hover:from-gray-800 dark:group-hover:to-gray-700"}),jsxRuntimeExports.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-pink-400/10 to-rose-400/10 rounded-full blur-3xl group-hover:from-pink-400/20 group-hover:to-rose-400/20 transition-all duration-500"}),jsxRuntimeExports.jsxs("div",{className:"relative bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-3xl shadow-xl border border-white/20 dark:border-gray-700/50 p-8 transition-all duration-300 hover:shadow-2xl hover:scale-[1.02]",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"p-3 bg-gradient-to-br from-pink-500 to-rose-600 rounded-2xl shadow-lg",children:jsxRuntimeExports.jsx(HiGift,{className:"w-7 h-7 text-white"})}),jsxRuntimeExports.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-yellow-400 rounded-full animate-pulse"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 dark:from-gray-100 dark:to-gray-300 bg-clip-text text-transparent",children:"Cumpleaos del Mes"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Celebramos a nuestro equipo"})]})]}),jsxRuntimeExports.jsxs(Link,{to:"/felicitaciones",className:"group/btn flex items-center gap-2 px-3 py-2 bg-gradient-to-r from-pink-600 to-rose-600 hover:from-pink-700 hover:to-rose-700 text-white font-medium text-sm rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:["Ver ms",jsxRuntimeExports.jsx(HiArrowRight,{className:"w-4 h-4 group-hover/btn:translate-x-1 transition-transform duration-300"})]})]}),St.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-8",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-gray-200 to-gray-300 dark:from-gray-700 dark:to-gray-600 rounded-2xl mx-auto mb-4 flex items-center justify-center",children:jsxRuntimeExports.jsx(HiGift,{className:"w-8 h-8 text-gray-500 dark:text-gray-400"})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"No hay cumpleaos este mes"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No hay cumpleaos programados"})]}):jsxRuntimeExports.jsx("div",{className:"space-y-4",children:St.slice(0,3).map(ur=>{const dr=ur.funcionario,fr=or(dr==null?void 0:dr.foto),mr=cr((dr==null?void 0:dr.fecha_nacimiento)||"");return jsxRuntimeExports.jsx("div",{className:`
                      group/card relative overflow-hidden rounded-2xl border-2 transition-all duration-300 hover:shadow-lg hover:scale-[1.02] cursor-pointer p-4
                      ${mr?"bg-gradient-to-br from-yellow-50 to-yellow-100 dark:from-yellow-900/20 dark:to-yellow-800/30 border-yellow-300 dark:border-yellow-600":"bg-gradient-to-br from-pink-50 to-rose-100 dark:from-pink-900/20 dark:to-rose-800/30 border-pink-200/50 dark:border-pink-700/50"}
                    `,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex-shrink-0",children:[fr?jsxRuntimeExports.jsx("img",{src:fr,alt:dr==null?void 0:dr.nombres,className:`w-12 h-12 rounded-full object-cover border-2 shadow-sm ${mr?"border-yellow-400":"border-pink-300"}`,onError:xr=>{var pr;xr.currentTarget.style.display="none",(pr=xr.currentTarget.nextElementSibling)==null||pr.classList.remove("hidden")}}):null,jsxRuntimeExports.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center border-2 shadow-sm ${fr?"hidden":""} ${mr?"bg-yellow-100 border-yellow-400":"bg-pink-100 border-pink-300"}`,children:jsxRuntimeExports.jsx(HiUserCircle,{className:`w-8 h-8 ${mr?"text-yellow-600":"text-pink-600"}`})}),mr&&jsxRuntimeExports.jsx("div",{className:"absolute -top-1 -right-1 p-1 bg-yellow-500 rounded-full shadow-sm animate-bounce",children:jsxRuntimeExports.jsx(HiCake,{className:"w-3 h-3 text-white"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("h3",{className:`font-semibold mb-1 ${mr?"text-yellow-800 dark:text-yellow-200":"text-pink-900 dark:text-pink-100"}`,children:dr?`${dr.nombres} ${dr.apellidos}`:"Funcionario"}),jsxRuntimeExports.jsxs("p",{className:`text-sm ${mr?"text-yellow-600":"text-pink-600"}`,children:[(dr==null?void 0:dr.fecha_nacimiento)&&lr(dr.fecha_nacimiento),mr&&jsxRuntimeExports.jsx("span",{className:"ml-2 font-bold",children:""})]})]})]})},ur.id)})})]})]}),jsxRuntimeExports.jsxs("div",{className:"relative overflow-hidden group",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-yellow-50 via-white to-orange-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 rounded-3xl transition-all duration-500 group-hover:from-yellow-100 group-hover:to-orange-100 dark:group-hover:from-gray-800 dark:group-hover:to-gray-700"}),jsxRuntimeExports.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-yellow-400/10 to-orange-400/10 rounded-full blur-3xl group-hover:from-yellow-400/20 group-hover:to-orange-400/20 transition-all duration-500"}),jsxRuntimeExports.jsxs("div",{className:"relative bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-3xl shadow-xl border border-white/20 dark:border-gray-700/50 p-8 transition-all duration-300 hover:shadow-2xl hover:scale-[1.02]",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"p-3 bg-gradient-to-br from-yellow-500 to-orange-600 rounded-2xl shadow-lg",children:jsxRuntimeExports.jsx(HiStar,{className:"w-7 h-7 text-white"})}),jsxRuntimeExports.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-pink-400 rounded-full animate-pulse"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 dark:from-gray-100 dark:to-gray-300 bg-clip-text text-transparent",children:"Reconocimientos"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Celebramos logros excepcionales"})]})]}),jsxRuntimeExports.jsxs(Link,{to:"/reconocimientos",className:"group/btn flex items-center gap-2 px-3 py-2 bg-gradient-to-r from-yellow-600 to-orange-600 hover:from-yellow-700 hover:to-orange-700 text-white font-medium text-sm rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:["Ver ms",jsxRuntimeExports.jsx(HiArrowRight,{className:"w-4 h-4 group-hover/btn:translate-x-1 transition-transform duration-300"})]})]}),tr.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-8",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-gray-200 to-gray-300 dark:from-gray-700 dark:to-gray-600 rounded-2xl mx-auto mb-4 flex items-center justify-center",children:jsxRuntimeExports.jsx(HiStar,{className:"w-8 h-8 text-gray-500 dark:text-gray-400"})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"No hay reconocimientos"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No hay reconocimientos publicados"})]}):jsxRuntimeExports.jsx("div",{className:"space-y-4",children:tr.map(ur=>{const dr=ur.funcionario,fr=or(dr==null?void 0:dr.foto);return jsxRuntimeExports.jsxs("div",{className:"group/card relative overflow-hidden rounded-2xl border-2 transition-all duration-300 hover:shadow-lg hover:scale-[1.02] cursor-pointer p-4 bg-gradient-to-br from-yellow-50 to-orange-100 dark:from-yellow-900/20 dark:to-orange-800/30 border-yellow-200/50 dark:border-yellow-700/50",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex-shrink-0",children:[fr?jsxRuntimeExports.jsx("img",{src:fr,alt:`${dr.nombres} ${dr.apellidos}`,className:"w-12 h-12 rounded-full object-cover border-2 border-yellow-400 shadow-sm",onError:mr=>{var xr;mr.currentTarget.style.display="none",(xr=mr.currentTarget.nextElementSibling)==null||xr.classList.remove("hidden")}}):null,jsxRuntimeExports.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center border-2 border-yellow-400 shadow-sm bg-yellow-100 ${fr?"hidden":""}`,children:jsxRuntimeExports.jsx(HiUserCircle,{className:"w-8 h-8 text-yellow-600"})}),jsxRuntimeExports.jsx("div",{className:"absolute -top-1 -right-1 p-1 bg-yellow-500 rounded-full shadow-sm",children:jsxRuntimeExports.jsx(HiTrophy,{className:"w-3 h-3 text-white"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold mb-1 text-yellow-800 dark:text-yellow-200",children:ur.titulo}),jsxRuntimeExports.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:dr?`${dr.nombres} ${dr.apellidos}`:"Funcionario"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:ur.fecha&&formatDisplayDate(ur.fecha)})]})]}),jsxRuntimeExports.jsx("div",{className:"mt-2 text-gray-700 dark:text-gray-200 text-sm",children:ur.descripcion})]},ur.id)})})]})]})]})}const SOPORTE=[{canal:"Correo electrnico",valor:"tic@redmedicronips.com.co",icono:jsxRuntimeExports.jsx(HiEnvelope,{className:"w-8 h-8 text-white"}),link:"mailto:tic@redmedicronips.com.co",color:"from-blue-400 to-blue-500",bgColor:"from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/25",textColor:"text-blue-600 dark:text-blue-300",description:"Enva un correo detallado y te responderemos en 24 horas",disponible:!0,categoria:"Asncrono"},{canal:"WhatsApp",valor:"+57 317 498 0971",icono:jsxRuntimeExports.jsx(HiChatBubbleLeftRight,{className:"w-8 h-8 text-white"}),link:"https://wa.me/573174980971",color:"from-green-400 to-green-500",bgColor:"from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/25",textColor:"text-green-600 dark:text-green-300",description:"Chat directo para consultas rpidas y soporte inmediato",disponible:!0,categoria:"Chat"}];function SoporteContacto(){const[St,er]=reactExports.useState(!1),tr=async()=>{try{await navigator.clipboard.writeText("tic@redmedicronips.com.co"),er(!0),setTimeout(()=>er(!1),2e3)}catch(rr){console.error("Error al copiar:",rr)}};return jsxRuntimeExports.jsxs("div",{className:"relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-50 via-white to-gray-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 rounded-3xl"}),jsxRuntimeExports.jsx("div",{className:"absolute top-0 right-0 w-72 h-72 bg-gradient-to-br from-blue-300/5 to-green-300/5 rounded-full blur-3xl"}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 left-0 w-56 h-56 bg-gradient-to-tr from-green-300/5 to-blue-300/5 rounded-full blur-3xl"}),jsxRuntimeExports.jsxs("div",{className:"relative bg-white/95 dark:bg-gray-900/95 backdrop-blur-sm rounded-3xl shadow-xl border border-gray-200/50 dark:border-gray-700/50 p-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-10",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"p-4 bg-gradient-to-br from-slate-500 to-slate-600 rounded-2xl shadow-lg",children:jsxRuntimeExports.jsx(HiLifebuoy,{className:"w-10 h-10 text-white"})}),jsxRuntimeExports.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-green-400 rounded-full flex items-center justify-center shadow-lg",children:jsxRuntimeExports.jsx(HiCheckCircle,{className:"w-4 h-4 text-white"})})]}),jsxRuntimeExports.jsx("div",{className:"relative",children:jsxRuntimeExports.jsx(HiSparkles,{className:"w-8 h-8 text-yellow-400 animate-pulse"})})]}),jsxRuntimeExports.jsx("h2",{className:"text-4xl font-bold bg-gradient-to-r from-slate-700 via-gray-700 to-slate-600 dark:from-slate-200 dark:via-gray-200 dark:to-slate-300 bg-clip-text text-transparent mb-4",children:"Soporte y Contacto"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg font-medium max-w-2xl mx-auto leading-relaxed",children:"Tienes dudas o necesitas ayuda? Nuestro equipo de soporte est disponible para asistirte"}),jsxRuntimeExports.jsxs("div",{className:"mt-6 inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-green-50 to-green-100 dark:from-green-900/30 dark:to-green-800/30 rounded-full border border-green-200 dark:border-green-700",children:[jsxRuntimeExports.jsx(HiClock,{className:"w-5 h-5 text-green-500 dark:text-green-400"}),jsxRuntimeExports.jsx("span",{className:"text-green-600 dark:text-green-300 font-semibold",children:"Lunes a Viernes: 7:00 AM - 3:30 PM"})]})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8 max-w-4xl mx-auto",children:SOPORTE.map((rr,nr)=>jsxRuntimeExports.jsxs("div",{className:`
                group relative overflow-hidden rounded-2xl transition-all duration-300 hover:shadow-xl hover:scale-[1.02] cursor-pointer
                bg-gradient-to-br ${rr.bgColor} border border-gray-200 dark:border-gray-600 shadow-md
              `,children:[jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-4 right-4 w-2 h-2 bg-yellow-300 rounded-full animate-ping"}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-6 left-6 w-1 h-1 bg-blue-300 rounded-full animate-bounce",style:{animationDelay:"0.5s"}})]}),rr.disponible&&jsxRuntimeExports.jsx("div",{className:"absolute top-4 right-4 z-10",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-green-400 text-white text-xs font-semibold rounded-full shadow-sm",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),"En lnea"]})}),jsxRuntimeExports.jsx("div",{className:`absolute top-0 left-0 right-0 h-1 bg-gradient-to-r ${rr.color} opacity-70`}),jsxRuntimeExports.jsxs("div",{className:"relative p-6",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-center mb-4",children:jsxRuntimeExports.jsx("div",{className:`p-4 rounded-2xl shadow-lg bg-gradient-to-br ${rr.color} transition-transform duration-300 group-hover:scale-105`,children:rr.icono})}),jsxRuntimeExports.jsxs("div",{className:"text-center space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-2 flex-wrap",children:[jsxRuntimeExports.jsx("h3",{className:`text-xl font-bold ${rr.textColor}`,children:rr.canal}),jsxRuntimeExports.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full bg-gradient-to-r ${rr.color} text-white`,children:rr.categoria})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm leading-relaxed",children:rr.description}),jsxRuntimeExports.jsx("div",{className:`font-mono text-lg font-semibold ${rr.textColor} bg-white/90 dark:bg-gray-800/90 rounded-xl px-4 py-2 border border-gray-200 dark:border-gray-600`,children:rr.valor})]}),jsxRuntimeExports.jsxs("div",{className:"mt-6 flex gap-2",children:[jsxRuntimeExports.jsxs("a",{href:rr.link,target:"_blank",rel:"noopener noreferrer",className:`
                      group/btn flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-xl font-semibold transition-all duration-300 hover:scale-105 shadow-md hover:shadow-lg
                      bg-gradient-to-r ${rr.color} text-white border border-transparent hover:border-white/20
                    `,children:[jsxRuntimeExports.jsx("span",{children:"Contactar"}),jsxRuntimeExports.jsx(HiArrowTopRightOnSquare,{className:"w-4 h-4 group-hover/btn:translate-x-1 group-hover/btn:-translate-y-1 transition-transform duration-300"})]}),rr.canal==="Correo electrnico"&&jsxRuntimeExports.jsx("button",{onClick:tr,className:`
                        flex items-center justify-center p-3 rounded-xl font-medium transition-all duration-300 hover:scale-105 shadow-md hover:shadow-lg
                        ${St?"bg-green-400 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}
                      `,title:"Copiar correo",children:St?jsxRuntimeExports.jsx(HiCheckCircle,{className:"w-4 h-4"}):jsxRuntimeExports.jsx(HiEnvelope,{className:"w-4 h-4"})})]})]})]},rr.canal))}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-6 max-w-4xl mx-auto",children:jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-amber-50 dark:from-yellow-900/15 dark:to-amber-900/15 rounded-2xl p-6 border border-yellow-200/50 dark:border-yellow-700/50",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-bold text-yellow-700 dark:text-yellow-300 mb-3 flex items-center gap-2",children:[jsxRuntimeExports.jsx(HiSparkles,{className:"w-5 h-5"}),"Consejos para un soporte eficiente"]}),jsxRuntimeExports.jsxs("ul",{className:"space-y-2 text-sm text-yellow-600 dark:text-yellow-400",children:[jsxRuntimeExports.jsxs("li",{className:"flex items-start gap-2",children:[jsxRuntimeExports.jsx(HiCheckCircle,{className:"w-4 h-4 mt-0.5 text-yellow-500"}),jsxRuntimeExports.jsx("span",{children:"Describe claramente el problema o consulta"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start gap-2",children:[jsxRuntimeExports.jsx(HiCheckCircle,{className:"w-4 h-4 mt-0.5 text-yellow-500"}),jsxRuntimeExports.jsx("span",{children:"Incluye capturas de pantalla si es necesario"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start gap-2",children:[jsxRuntimeExports.jsx(HiCheckCircle,{className:"w-4 h-4 mt-0.5 text-yellow-500"}),jsxRuntimeExports.jsx("span",{children:"Proporciona tu informacin de contacto"})]})]})]})})]})]})}function MenuPage(){const{user:St}=useAuthContext();return jsxRuntimeExports.jsxs("div",{className:"space-y-8 w-full h-full",children:[jsxRuntimeExports.jsx(Bienvenida,{}),jsxRuntimeExports.jsx(MisionVisionValores,{}),jsxRuntimeExports.jsx(AccesosRapidos,{}),jsxRuntimeExports.jsx(NoticiasComunicados,{}),jsxRuntimeExports.jsx(CalendarioEventos,{}),jsxRuntimeExports.jsx(EstructuraOrganizacional,{}),jsxRuntimeExports.jsx(DocumentosRecursosRapidos,{}),jsxRuntimeExports.jsx(ReconocimientosCumpleanios,{}),jsxRuntimeExports.jsx(SoporteContacto,{})]})}function UserAvatar({src:St,name:er,size:tr=48,className:rr=""}){const nr=St&&St.startsWith("blob:")?St:getProfilePicUrl(St??"")||`https://ui-avatars.com/api/?name=${encodeURIComponent(er)}&background=1e40af&color=fff&size=${tr*4}`;return jsxRuntimeExports.jsx("img",{src:nr,alt:"avatar",className:`rounded-full border-4 border-blue-100 object-cover ${rr}`,style:{width:tr,height:tr}})}function validateNewPassword(St){return St.length<8?"La contrasea debe tener al menos 8 caracteres.":/[A-Z]/.test(St)?/[a-z]/.test(St)?/[0-9]/.test(St)?/[!@#$%^&*(),.?":{}|<>]/.test(St)?null:"La contrasea debe tener al menos un carcter especial.":"La contrasea debe tener al menos un nmero.":"La contrasea debe tener al menos una letra minscula.":"La contrasea debe tener al menos una letra mayscula."}const Disable2FAConfirmModal=({isOpen:St,onClose:er,onConfirm:tr,loading:rr})=>St?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-md w-full",children:jsxRuntimeExports.jsxs("div",{className:"p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0",children:jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-red-100 dark:bg-red-900/20 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx("span",{className:"text-red-600 dark:text-red-400 text-lg",children:""})})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Desactivar Autenticacin de Dos Factores"})]}),jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-3",children:"Ests seguro de que deseas desactivar la autenticacin de dos factores?"}),jsxRuntimeExports.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-3",children:jsxRuntimeExports.jsxs("p",{className:"text-yellow-800 dark:text-yellow-200 text-sm",children:[jsxRuntimeExports.jsx("strong",{children:"Advertencia:"})," Esta accin reducir significativamente la seguridad de tu cuenta. Sin 2FA, tu cuenta ser ms vulnerable a accesos no autorizados."]})})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-3",children:[jsxRuntimeExports.jsx("button",{onClick:er,disabled:rr,className:"px-4 py-2 bg-gray-500 hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-lg transition-colors",children:"Cancelar"}),jsxRuntimeExports.jsx("button",{onClick:tr,disabled:rr,className:"px-4 py-2 bg-red-600 hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-lg transition-colors",children:rr?"Desactivando...":"S, desactivar"})]})]})})}):null,passwordRequirements=[{label:"Al menos 8 caracteres",test:St=>St.length>=8},{label:"Una letra mayscula",test:St=>/[A-Z]/.test(St)},{label:"Una letra minscula",test:St=>/[a-z]/.test(St)},{label:"Un nmero",test:St=>/[0-9]/.test(St)},{label:"Un carcter especial",test:St=>/[!@#$%^&*(),.?":{}|<>]/.test(St)},{label:"Las contraseas coinciden",test:(St,er)=>St.length>0&&St===er,isMatch:!0}];function ProfilePage(){const{user:St,setUser:er}=useAuthContext(),tr=useLocation(),[rr,nr]=reactExports.useState(!1),[ar,sr]=reactExports.useState({username:(St==null?void 0:St.username)||"",email:(St==null?void 0:St.email)||"",first_name:(St==null?void 0:St.first_name)||"",last_name:(St==null?void 0:St.last_name)||"",roles:Array.isArray(St==null?void 0:St.roles)?St.roles:[],profile_picture:(St==null?void 0:St.profile_picture)||null}),[ir,or]=reactExports.useState((St==null?void 0:St.profile_picture)||null),[lr,cr]=reactExports.useState(null),[ur,dr]=reactExports.useState((St==null?void 0:St.is_2fa_enabled)||!1),[fr,mr]=reactExports.useState(!1),[xr,pr]=reactExports.useState(!1),[hr,gr]=reactExports.useState(!1),[vr,br]=reactExports.useState({current:"",new:"",confirm:""}),[yr,Er]=reactExports.useState(""),[jr,_r]=reactExports.useState(!1),[Cr,Or]=reactExports.useState(ar);reactExports.useEffect(()=>{(async()=>{pr(!0);try{const Yr=await getProfile();sr({username:Yr.username,email:Yr.email,first_name:Yr.first_name||"",last_name:Yr.last_name||"",roles:Array.isArray(Yr.roles)?Yr.roles:[],profile_picture:Yr.profile_picture||null}),or(Yr.profile_picture||null),dr(Yr.is_2fa_enabled),er(Yr)}catch{notify.error("No se pudo cargar el perfil")}finally{pr(!1)}})()},[]),reactExports.useEffect(()=>{var tn;((tn=tr.state)==null?void 0:tn.is2FAEnabled)!==void 0&&dr(tr.state.is2FAEnabled)},[tr.state]);const Pr=tn=>{var Sr;const Yr=(Sr=tn.target.files)==null?void 0:Sr[0];Yr&&(cr(Yr),or(URL.createObjectURL(Yr)))},Lr=async tn=>{tn.preventDefault(),pr(!0);try{const Yr=new FormData;Yr.append("username",ar.username),Yr.append("email",ar.email),Yr.append("first_name",ar.first_name),Yr.append("last_name",ar.last_name),lr&&Yr.append("profile_picture",lr);const Sr=await updateProfile(Yr,!0);er(Sr),sr({...ar,profile_picture:Sr.profile_picture}),or(Sr.profile_picture||null),nr(!1),cr(null),notify.success("Perfil actualizado correctamente")}catch(Yr){notify.error(Yr.message||"Error al actualizar el perfil")}finally{pr(!1)}},Gr=()=>{gr(!0)},Kr=async()=>{mr(!0);try{await disable2FA(),dr(!1),er({...St,is_2fa_enabled:!1,id:St.id}),gr(!1),notify.success("Autenticacin de dos factores desactivada exitosamente")}catch(tn){notify.error(tn.message||"Error al desactivar 2FA")}finally{mr(!1)}},nn=()=>{fr||gr(!1)},Qr=async tn=>{tn.preventDefault(),Er(""),_r(!0);const Yr=validateNewPassword(vr.new);if(Yr){Er(Yr),_r(!1);return}if(vr.new!==vr.confirm){Er("Las contraseas no coinciden"),_r(!1);return}try{await changePassword({current_password:vr.current,new_password:vr.new}),notify.success("Contrasea actualizada correctamente"),br({current:"",new:"",confirm:""})}catch(Sr){Er(Sr.message||"Error al cambiar la contrasea")}finally{_r(!1)}},zr=reactExports.useMemo(()=>passwordRequirements.map(tn=>(tn.isMatch,tn.test(vr.new,vr.confirm))),[vr.new,vr.confirm]);reactExports.useEffect(()=>{var tn;(tn=tr.state)!=null&&tn.successMessage&&notify.success(tr.state.successMessage)},[tr.state]);const Vr=()=>{Or(ar),nr(!0)},Jr=()=>{sr(Cr),or(Cr.profile_picture||null),cr(null),nr(!1)};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-500",children:[jsxRuntimeExports.jsxs("div",{className:"w-full max-w-6xl mx-auto py-10 px-2 lg:px-16 xl:px-32 space-y-10",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl shadow-lg p-8 flex flex-col md:flex-row gap-8 items-center md:items-start w-full",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center md:w-1/3",children:[jsxRuntimeExports.jsx(UserAvatar,{src:ir||ar.profile_picture,name:`${ar.first_name} ${ar.last_name}`.trim()||ar.username,size:128,className:"mb-4"}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:["Miembro desde: ",St!=null&&St.date_joined?new Date(St.date_joined).toLocaleDateString():"No disponible"]}),rr&&jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",onChange:Pr,className:"mt-2 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 w-full",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Mi Perfil"}),jsxRuntimeExports.jsx(Button,{variant:rr?"secondary":"primary",onClick:rr?Jr:Vr,disabled:xr,children:rr?"Cancelar":"Editar Perfil"})]}),jsxRuntimeExports.jsxs("form",{onSubmit:Lr,className:"space-y-6 w-full ",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 ",children:[jsxRuntimeExports.jsx(Input,{label:"Nombre",value:ar.first_name,onChange:tn=>sr({...ar,first_name:tn.target.value}),disabled:!rr||xr}),jsxRuntimeExports.jsx(Input,{label:"Apellido",value:ar.last_name,onChange:tn=>sr({...ar,last_name:tn.target.value}),disabled:!rr||xr}),jsxRuntimeExports.jsx(Input,{label:"Nombre de usuario",value:ar.username,onChange:tn=>sr({...ar,username:tn.target.value}),disabled:!rr||xr}),jsxRuntimeExports.jsx(Input,{label:"Correo electrnico",type:"email",value:ar.email,onChange:tn=>sr({...ar,email:tn.target.value}),disabled:!rr||xr}),jsxRuntimeExports.jsx(Input,{label:"Roles",value:Array.isArray(ar.roles)?ar.roles.map(tn=>{var Yr;return`${tn.name} (${(Yr=tn.app)==null?void 0:Yr.name})`}).join(", "):"",disabled:!0})]}),rr&&jsxRuntimeExports.jsxs("div",{className:"flex gap-4 pt-2",children:[jsxRuntimeExports.jsx(Button,{type:"submit",variant:"primary",loading:xr,children:"Guardar cambios"}),jsxRuntimeExports.jsx(Button,{type:"button",variant:"secondary",onClick:Jr,disabled:xr,children:"Cancelar"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl shadow-lg p-8 space-y-8",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Seguridad"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Autenticacin de dos factores"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:ur?"La autenticacin de dos factores est activada":"Aade una capa extra de seguridad a tu cuenta"})]}),ur?jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx(Button,{variant:"danger",onClick:Gr,loading:fr,children:fr?"Desactivando...":"Desactivar 2FA"}),jsxRuntimeExports.jsx(Link,{to:"/auth/configure-2fa",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200",children:"Reconfigurar 2FA"})]}):jsxRuntimeExports.jsx(Link,{to:"/auth/configure-2fa",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Configurar 2FA"})]}),jsxRuntimeExports.jsx("div",{className:"border-t border-gray-200 my-6"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Cambiar contrasea"}),jsxRuntimeExports.jsxs("form",{className:"space-y-4 max-w-md",onSubmit:Qr,children:[jsxRuntimeExports.jsx(Input,{type:"password",label:"Contrasea actual",placeholder:"Ingresa tu contrasea actual",value:vr.current,onChange:tn=>br({...vr,current:tn.target.value}),required:!0,disabled:jr,showPasswordToggle:!0}),jsxRuntimeExports.jsx(Input,{type:"password",label:"Nueva contrasea",placeholder:"Ingresa tu nueva contrasea",value:vr.new,onChange:tn=>br({...vr,new:tn.target.value}),required:!0,disabled:jr,showPasswordToggle:!0}),jsxRuntimeExports.jsx("ul",{className:"mb-2 space-y-1 text-sm",children:passwordRequirements.map((tn,Yr)=>jsxRuntimeExports.jsxs("li",{className:"flex items-center gap-2",children:[zr[Yr]?jsxRuntimeExports.jsx("span",{className:"inline-block w-4 h-4 rounded-full bg-green-500 text-white flex items-center justify-center text-xs",children:""}):jsxRuntimeExports.jsx("span",{className:"inline-block w-4 h-4 rounded-full bg-gray-300 text-gray-500 flex items-center justify-center text-xs",children:""}),jsxRuntimeExports.jsx("span",{className:zr[Yr]?"text-green-600":"text-gray-600",children:tn.label})]},tn.label))}),jsxRuntimeExports.jsx(Input,{type:"password",label:"Confirmar contrasea",placeholder:"Confirma tu nueva contrasea",value:vr.confirm,onChange:tn=>br({...vr,confirm:tn.target.value}),required:!0,disabled:jr,showPasswordToggle:!0}),yr&&jsxRuntimeExports.jsx("div",{className:"text-red-600 text-sm",children:yr}),jsxRuntimeExports.jsx(Button,{variant:"primary",type:"submit",loading:jr,children:"Actualizar contrasea"})]})]})]})]}),jsxRuntimeExports.jsx(Disable2FAConfirmModal,{isOpen:hr,onClose:nn,onConfirm:Kr,loading:fr})]})}function AuditoriasPage(){return jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh]",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-4",children:[jsxRuntimeExports.jsx(HiOutlineCog,{className:"w-16 h-16 text-blue-500 animate-spin-slow"}),jsxRuntimeExports.jsx(HiOutlineExclamation,{className:"w-10 h-10 text-yellow-400 ml-[-20px]"})]}),jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:"En construccin!"}),jsxRuntimeExports.jsxs("p",{className:"text-gray-600 dark:text-gray-300 text-lg text-center max-w-md mb-4",children:["Estamos trabajando para traerte esta funcionalidad muy pronto.",jsxRuntimeExports.jsx("br",{}),"Gracias por tu paciencia!"]}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:"Red Medicron IPS"}),jsxRuntimeExports.jsx("style",{children:`
              .animate-spin-slow {
                animation: spin 2.5s linear infinite;
              }
              @keyframes spin {
                0% { transform: rotate(0deg);}
                100% { transform: rotate(360deg);}
              }
            `})]})}class DocumentRepository{async getAll(){return(await axiosInstance.get("/processes/documentos/")).data}async create(er){return(await axiosInstance.post("/processes/documentos/",er,{headers:{"Content-Type":"multipart/form-data"}})).data}async update(er,tr){return(await axiosInstance.patch(`/processes/documentos/${er}/`,tr,{headers:{"Content-Type":"multipart/form-data"}})).data}async delete(er){await axiosInstance.delete(`/processes/documentos/${er}/`)}async download(er,tr){return(await axiosInstance.get(`/processes/documentos/${er}/download/?tipo=${tr}`,{responseType:"blob"})).data}async preview(er,tr){return(await axiosInstance.get(`/processes/documentos/${er}/preview/?tipo=${tr}`,{responseType:"blob"})).data}}class ProcessRepository{async getAll(){return(await axiosInstance.get("/companies/processes/")).data}async getById(er){return(await axiosInstance.get(`/companies/processes/${er}/`)).data}async create(er){return(await axiosInstance.post("/companies/processes/",er)).data}async update(er,tr){return(await axiosInstance.put(`/companies/processes/${er}/`,tr)).data}async delete(er){await axiosInstance.delete(`/companies/processes/${er}/`)}}class ProcessTypeRepository{async getAll(){return(await axiosInstance.get("/companies/process_types/")).data}async getById(er){return(await axiosInstance.get(`/companies/process_types/${er}/`)).data}async create(er){return(await axiosInstance.post("/companies/process_types/",er)).data}async update(er,tr){return(await axiosInstance.put(`/companies/process_types/${er}/`,tr)).data}async delete(er){await axiosInstance.delete(`/companies/process_types/${er}/`)}}class DocumentService{constructor(er,tr,rr){_i(this,"documentRepository");_i(this,"processRepository");_i(this,"processTypeRepository");this.documentRepository=er,this.processRepository=tr,this.processTypeRepository=rr}async getDocuments(){return this.documentRepository.getAll()}async getProcesses(){if(!this.processRepository)throw new Error("ProcessRepository not provided");return this.processRepository.getAll()}async getProcessTypes(){if(!this.processTypeRepository)throw new Error("ProcessTypeRepository not provided");return this.processTypeRepository.getAll()}async createDocument(er){return this.documentRepository.create(er)}async updateDocument(er,tr){return this.documentRepository.update(er,tr)}async deleteDocument(er){return this.documentRepository.delete(er)}async downloadDocument(er,tr){return this.documentRepository.download(er,tr)}async previewDocument(er,tr){return this.documentRepository.preview(er,tr)}getProcessName(er,tr){var rr;return((rr=er.find(nr=>nr.id===tr))==null?void 0:rr.name)||"N/A"}getProcessTypeName(er,tr){var rr;return((rr=er.find(nr=>nr.id===tr))==null?void 0:rr.name)||"N/A"}getDocumentPadreName(er,tr){if(!tr)return"N/A";const rr=er.find(nr=>nr.id===tr);return rr?`${rr.codigo_documento} v${rr.version}`:"N/A"}getDocumentosDisponiblesComoPadre(er,tr){return tr?er.filter(rr=>rr.id!==tr.id&&rr.codigo_documento!==tr.codigo_documento):er}}const useDocumentCRUD=()=>{const[St,er]=reactExports.useState([]),[tr,rr]=reactExports.useState([]),[nr,ar]=reactExports.useState([]),[sr,ir]=reactExports.useState(!0),[or,lr]=reactExports.useState(null),cr=new DocumentService(new DocumentRepository,new ProcessRepository,new ProcessTypeRepository),ur=async()=>{try{ir(!0);const hr=await cr.getDocuments();er(hr),lr(null)}catch(hr){lr("No se pudieron cargar los documentos"),console.error("Error fetching documents:",hr)}finally{ir(!1)}},dr=async()=>{try{const hr=await cr.getProcesses();rr(hr)}catch(hr){console.error("Error al cargar procesos:",hr)}},fr=async()=>{try{const hr=await cr.getProcessTypes();ar(hr)}catch(hr){console.error("Error al cargar tipos de proceso:",hr)}},mr=async hr=>{const gr=await cr.createDocument(hr);return er(vr=>[...vr,gr]),gr},xr=async(hr,gr)=>{const vr=await cr.updateDocument(hr,gr);return er(br=>br.map(yr=>yr.id===hr?vr:yr)),vr},pr=async hr=>{await cr.deleteDocument(hr),er(gr=>gr.filter(vr=>vr.id!==hr))};return reactExports.useEffect(()=>{(async()=>{ir(!0);try{await Promise.all([ur(),dr(),fr()])}catch{lr("Error al cargar los datos")}finally{ir(!1)}})()},[]),{documents:St,processes:tr,processTypes:nr,loading:sr,error:or,fetchDocuments:ur,fetchProcesses:dr,fetchProcessTypes:fr,createDocument:mr,updateDocument:xr,deleteDocument:pr,documentService:cr}};class PermissionService{static getPermissions(er=[],tr="procesos"){const rr=er.filter(ir=>{var or,lr;return((lr=(or=ir==null?void 0:ir.app)==null?void 0:or.name)==null?void 0:lr.toLowerCase())===tr.toLowerCase()}),nr=rr.some(ir=>(ir==null?void 0:ir.name)==="admin"),ar=rr.some(ir=>(ir==null?void 0:ir.name)==="gestor"),sr=rr.some(ir=>(ir==null?void 0:ir.name)==="user");return{isAdmin:nr,isGestor:ar,isUser:sr,canViewDocuments:nr||ar||sr,canDownload:nr||ar,canManage:nr,canDownloadByFormat:ir=>{const or=ir==null?void 0:ir.toLowerCase().split(".").pop();return["doc","docx","xls","xlsx"].includes(or||"")?!0:or==="pdf"?nr||ar:!1}}}static getPermissionMessage(er,tr){var nr;return((nr={admin:{emptyState:"Intenta ajustar los filtros de bsqueda"},gestor:{emptyState:"No hay documentos disponibles para consulta y descarga"},user:{emptyState:"No hay documentos disponibles para consulta"}}[er])==null?void 0:nr[tr])||"No tienes permiso para esta accin"}}const useDocumentPermissions=(St="procesos")=>{const{roles:er}=useAuthContext();return reactExports.useMemo(()=>{const tr=er.map(rr=>typeof rr=="string"?{name:rr}:rr);return PermissionService.getPermissions(tr,St)},[er,St])},useDocumentFilters=(St,er,tr,rr)=>{const[nr,ar]=reactExports.useState({searchTerm:"",selectedTipo:"",selectedEstado:"",selectedProceso:"",selectedTipoProceso:""}),sr=reactExports.useMemo(()=>St.filter(lr=>{const cr=(lr.nombre_documento.toLowerCase().includes(nr.searchTerm.toLowerCase())||lr.codigo_documento.toLowerCase().includes(nr.searchTerm.toLowerCase()))&&(nr.selectedTipo===""||lr.tipo_documento===nr.selectedTipo)&&(nr.selectedProceso===""||lr.proceso.toString()===nr.selectedProceso);let ur=!0;if(nr.selectedTipoProceso!==""){const fr=er.find(mr=>mr.id===lr.proceso);fr&&fr.processType?ur=fr.processType.toString()===nr.selectedTipoProceso:ur=!1}const dr=cr&&ur;return rr.isUser||rr.isGestor?dr&&lr.estado==="VIG":rr.isAdmin?dr&&(nr.selectedEstado===""||lr.estado===nr.selectedEstado):!1}),[St,er,tr,nr,rr]);return{filters:nr,filteredDocuments:sr,updateFilter:(lr,cr)=>{ar(ur=>({...ur,[lr]:cr}))},clearFilters:()=>{ar({searchTerm:"",selectedTipo:"",selectedEstado:"",selectedProceso:"",selectedTipoProceso:""})}}};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var XLSX={};XLSX.version="0.18.5";var current_ansi=1252,VALID_ANSI=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],CS2CP={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},set_ansi=function(St){VALID_ANSI.indexOf(St)!=-1&&(current_ansi=CS2CP[0]=St)};function reset_ansi(){set_ansi(1252)}var set_cp=function(St){set_ansi(St)};function reset_cp(){set_cp(1200),reset_ansi()}function char_codes(St){for(var er=[],tr=0,rr=St.length;tr<rr;++tr)er[tr]=St.charCodeAt(tr);return er}function utf16leread(St){for(var er=[],tr=0;tr<St.length>>1;++tr)er[tr]=String.fromCharCode(St.charCodeAt(2*tr)+(St.charCodeAt(2*tr+1)<<8));return er.join("")}function utf16beread(St){for(var er=[],tr=0;tr<St.length>>1;++tr)er[tr]=String.fromCharCode(St.charCodeAt(2*tr+1)+(St.charCodeAt(2*tr)<<8));return er.join("")}var debom=function(St){var er=St.charCodeAt(0),tr=St.charCodeAt(1);return er==255&&tr==254?utf16leread(St.slice(2)):er==254&&tr==255?utf16beread(St.slice(2)):er==65279?St.slice(1):St},_getchar=function(er){return String.fromCharCode(er)},_getansi=function(er){return String.fromCharCode(er)},$cptable,Base64_map="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Base64_encode(St){for(var er="",tr=0,rr=0,nr=0,ar=0,sr=0,ir=0,or=0,lr=0;lr<St.length;)tr=St.charCodeAt(lr++),ar=tr>>2,rr=St.charCodeAt(lr++),sr=(tr&3)<<4|rr>>4,nr=St.charCodeAt(lr++),ir=(rr&15)<<2|nr>>6,or=nr&63,isNaN(rr)?ir=or=64:isNaN(nr)&&(or=64),er+=Base64_map.charAt(ar)+Base64_map.charAt(sr)+Base64_map.charAt(ir)+Base64_map.charAt(or);return er}function Base64_decode(St){var er="",tr=0,rr=0,nr=0,ar=0,sr=0,ir=0,or=0;St=St.replace(/[^\w\+\/\=]/g,"");for(var lr=0;lr<St.length;)ar=Base64_map.indexOf(St.charAt(lr++)),sr=Base64_map.indexOf(St.charAt(lr++)),tr=ar<<2|sr>>4,er+=String.fromCharCode(tr),ir=Base64_map.indexOf(St.charAt(lr++)),rr=(sr&15)<<4|ir>>2,ir!==64&&(er+=String.fromCharCode(rr)),or=Base64_map.indexOf(St.charAt(lr++)),nr=(ir&3)<<6|or,or!==64&&(er+=String.fromCharCode(nr));return er}var has_buf=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Buffer_from=function(){if(typeof Buffer<"u"){var St=!Buffer.from;if(!St)try{Buffer.from("foo","utf8")}catch{St=!0}return St?function(er,tr){return tr?new Buffer(er,tr):new Buffer(er)}:Buffer.from.bind(Buffer)}return function(){}}();function new_raw_buf(St){return has_buf?Buffer.alloc?Buffer.alloc(St):new Buffer(St):typeof Uint8Array<"u"?new Uint8Array(St):new Array(St)}function new_unsafe_buf(St){return has_buf?Buffer.allocUnsafe?Buffer.allocUnsafe(St):new Buffer(St):typeof Uint8Array<"u"?new Uint8Array(St):new Array(St)}var s2a=function(er){return has_buf?Buffer_from(er,"binary"):er.split("").map(function(tr){return tr.charCodeAt(0)&255})};function s2ab(St){if(typeof ArrayBuffer>"u")return s2a(St);for(var er=new ArrayBuffer(St.length),tr=new Uint8Array(er),rr=0;rr!=St.length;++rr)tr[rr]=St.charCodeAt(rr)&255;return er}function a2s(St){if(Array.isArray(St))return St.map(function(rr){return String.fromCharCode(rr)}).join("");for(var er=[],tr=0;tr<St.length;++tr)er[tr]=String.fromCharCode(St[tr]);return er.join("")}function a2u(St){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(St)}function ab2a(St){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(St instanceof ArrayBuffer)return ab2a(new Uint8Array(St));for(var er=new Array(St.length),tr=0;tr<St.length;++tr)er[tr]=St[tr];return er}var bconcat=has_buf?function(St){return Buffer.concat(St.map(function(er){return Buffer.isBuffer(er)?er:Buffer_from(er)}))}:function(St){if(typeof Uint8Array<"u"){var er=0,tr=0;for(er=0;er<St.length;++er)tr+=St[er].length;var rr=new Uint8Array(tr),nr=0;for(er=0,tr=0;er<St.length;tr+=nr,++er)if(nr=St[er].length,St[er]instanceof Uint8Array)rr.set(St[er],tr);else{if(typeof St[er]=="string")throw"wtf";rr.set(new Uint8Array(St[er]),tr)}return rr}return[].concat.apply([],St.map(function(ar){return Array.isArray(ar)?ar:[].slice.call(ar)}))};function utf8decode(St){for(var er=[],tr=0,rr=St.length+250,nr=new_raw_buf(St.length+255),ar=0;ar<St.length;++ar){var sr=St.charCodeAt(ar);if(sr<128)nr[tr++]=sr;else if(sr<2048)nr[tr++]=192|sr>>6&31,nr[tr++]=128|sr&63;else if(sr>=55296&&sr<57344){sr=(sr&1023)+64;var ir=St.charCodeAt(++ar)&1023;nr[tr++]=240|sr>>8&7,nr[tr++]=128|sr>>2&63,nr[tr++]=128|ir>>6&15|(sr&3)<<4,nr[tr++]=128|ir&63}else nr[tr++]=224|sr>>12&15,nr[tr++]=128|sr>>6&63,nr[tr++]=128|sr&63;tr>rr&&(er.push(nr.slice(0,tr)),tr=0,nr=new_raw_buf(65535),rr=65530)}return er.push(nr.slice(0,tr)),bconcat(er)}var chr0=/\u0000/g,chr1=/[\u0001-\u0006]/g;function _strrev(St){for(var er="",tr=St.length-1;tr>=0;)er+=St.charAt(tr--);return er}function pad0(St,er){var tr=""+St;return tr.length>=er?tr:fill("0",er-tr.length)+tr}function pad_(St,er){var tr=""+St;return tr.length>=er?tr:fill(" ",er-tr.length)+tr}function rpad_(St,er){var tr=""+St;return tr.length>=er?tr:tr+fill(" ",er-tr.length)}function pad0r1(St,er){var tr=""+Math.round(St);return tr.length>=er?tr:fill("0",er-tr.length)+tr}function pad0r2(St,er){var tr=""+St;return tr.length>=er?tr:fill("0",er-tr.length)+tr}var p2_32=Math.pow(2,32);function pad0r(St,er){if(St>p2_32||St<-p2_32)return pad0r1(St,er);var tr=Math.round(St);return pad0r2(tr,er)}function SSF_isgeneral(St,er){return er=er||0,St.length>=7+er&&(St.charCodeAt(er)|32)===103&&(St.charCodeAt(er+1)|32)===101&&(St.charCodeAt(er+2)|32)===110&&(St.charCodeAt(er+3)|32)===101&&(St.charCodeAt(er+4)|32)===114&&(St.charCodeAt(er+5)|32)===97&&(St.charCodeAt(er+6)|32)===108}var days=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],months=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function SSF_init_table(St){return St||(St={}),St[0]="General",St[1]="0",St[2]="0.00",St[3]="#,##0",St[4]="#,##0.00",St[9]="0%",St[10]="0.00%",St[11]="0.00E+00",St[12]="# ?/?",St[13]="# ??/??",St[14]="m/d/yy",St[15]="d-mmm-yy",St[16]="d-mmm",St[17]="mmm-yy",St[18]="h:mm AM/PM",St[19]="h:mm:ss AM/PM",St[20]="h:mm",St[21]="h:mm:ss",St[22]="m/d/yy h:mm",St[37]="#,##0 ;(#,##0)",St[38]="#,##0 ;[Red](#,##0)",St[39]="#,##0.00;(#,##0.00)",St[40]="#,##0.00;[Red](#,##0.00)",St[45]="mm:ss",St[46]="[h]:mm:ss",St[47]="mmss.0",St[48]="##0.0E+0",St[49]="@",St[56]='"/ "hh""mm""ss" "',St}var table_fmt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},SSF_default_map={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},SSF_default_str={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function SSF_frac(St,er,tr){for(var rr=St<0?-1:1,nr=St*rr,ar=0,sr=1,ir=0,or=1,lr=0,cr=0,ur=Math.floor(nr);lr<er&&(ur=Math.floor(nr),ir=ur*sr+ar,cr=ur*lr+or,!(nr-ur<5e-8));)nr=1/(nr-ur),ar=sr,sr=ir,or=lr,lr=cr;if(cr>er&&(lr>er?(cr=or,ir=ar):(cr=lr,ir=sr)),!tr)return[0,rr*ir,cr];var dr=Math.floor(rr*ir/cr);return[dr,rr*ir-dr*cr,cr]}function SSF_parse_date_code(St,er,tr){if(St>2958465||St<0)return null;var rr=St|0,nr=Math.floor(86400*(St-rr)),ar=0,sr=[],ir={D:rr,T:nr,u:86400*(St-rr)-nr,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(ir.u)<1e-6&&(ir.u=0),er&&er.date1904&&(rr+=1462),ir.u>.9999&&(ir.u=0,++nr==86400&&(ir.T=nr=0,++rr,++ir.D)),rr===60)sr=tr?[1317,10,29]:[1900,2,29],ar=3;else if(rr===0)sr=tr?[1317,8,29]:[1900,1,0],ar=6;else{rr>60&&--rr;var or=new Date(1900,0,1);or.setDate(or.getDate()+rr-1),sr=[or.getFullYear(),or.getMonth()+1,or.getDate()],ar=or.getDay(),rr<60&&(ar=(ar+6)%7),tr&&(ar=SSF_fix_hijri(or,sr))}return ir.y=sr[0],ir.m=sr[1],ir.d=sr[2],ir.S=nr%60,nr=Math.floor(nr/60),ir.M=nr%60,nr=Math.floor(nr/60),ir.H=nr,ir.q=ar,ir}var SSFbasedate=new Date(1899,11,31,0,0,0),SSFdnthresh=SSFbasedate.getTime(),SSFbase1904=new Date(1900,2,1,0,0,0);function datenum_local(St,er){var tr=St.getTime();return er?tr-=1461*24*60*60*1e3:St>=SSFbase1904&&(tr+=24*60*60*1e3),(tr-(SSFdnthresh+(St.getTimezoneOffset()-SSFbasedate.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function SSF_strip_decimal(St){return St.indexOf(".")==-1?St:St.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function SSF_normalize_exp(St){return St.indexOf("E")==-1?St:St.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function SSF_small_exp(St){var er=St<0?12:11,tr=SSF_strip_decimal(St.toFixed(12));return tr.length<=er||(tr=St.toPrecision(10),tr.length<=er)?tr:St.toExponential(5)}function SSF_large_exp(St){var er=SSF_strip_decimal(St.toFixed(11));return er.length>(St<0?12:11)||er==="0"||er==="-0"?St.toPrecision(6):er}function SSF_general_num(St){var er=Math.floor(Math.log(Math.abs(St))*Math.LOG10E),tr;return er>=-4&&er<=-1?tr=St.toPrecision(10+er):Math.abs(er)<=9?tr=SSF_small_exp(St):er===10?tr=St.toFixed(10).substr(0,12):tr=SSF_large_exp(St),SSF_strip_decimal(SSF_normalize_exp(tr.toUpperCase()))}function SSF_general(St,er){switch(typeof St){case"string":return St;case"boolean":return St?"TRUE":"FALSE";case"number":return(St|0)===St?St.toString(10):SSF_general_num(St);case"undefined":return"";case"object":if(St==null)return"";if(St instanceof Date)return SSF_format(14,datenum_local(St,er&&er.date1904),er)}throw new Error("unsupported value in General format: "+St)}function SSF_fix_hijri(St,er){er[0]-=581;var tr=St.getDay();return St<60&&(tr=(tr+6)%7),tr}function SSF_write_date(St,er,tr,rr){var nr="",ar=0,sr=0,ir=tr.y,or,lr=0;switch(St){case 98:ir=tr.y+543;case 121:switch(er.length){case 1:case 2:or=ir%100,lr=2;break;default:or=ir%1e4,lr=4;break}break;case 109:switch(er.length){case 1:case 2:or=tr.m,lr=er.length;break;case 3:return months[tr.m-1][1];case 5:return months[tr.m-1][0];default:return months[tr.m-1][2]}break;case 100:switch(er.length){case 1:case 2:or=tr.d,lr=er.length;break;case 3:return days[tr.q][0];default:return days[tr.q][1]}break;case 104:switch(er.length){case 1:case 2:or=1+(tr.H+11)%12,lr=er.length;break;default:throw"bad hour format: "+er}break;case 72:switch(er.length){case 1:case 2:or=tr.H,lr=er.length;break;default:throw"bad hour format: "+er}break;case 77:switch(er.length){case 1:case 2:or=tr.M,lr=er.length;break;default:throw"bad minute format: "+er}break;case 115:if(er!="s"&&er!="ss"&&er!=".0"&&er!=".00"&&er!=".000")throw"bad second format: "+er;return tr.u===0&&(er=="s"||er=="ss")?pad0(tr.S,er.length):(rr>=2?sr=rr===3?1e3:100:sr=rr===1?10:1,ar=Math.round(sr*(tr.S+tr.u)),ar>=60*sr&&(ar=0),er==="s"?ar===0?"0":""+ar/sr:(nr=pad0(ar,2+rr),er==="ss"?nr.substr(0,2):"."+nr.substr(2,er.length-1)));case 90:switch(er){case"[h]":case"[hh]":or=tr.D*24+tr.H;break;case"[m]":case"[mm]":or=(tr.D*24+tr.H)*60+tr.M;break;case"[s]":case"[ss]":or=((tr.D*24+tr.H)*60+tr.M)*60+Math.round(tr.S+tr.u);break;default:throw"bad abstime format: "+er}lr=er.length===3?1:2;break;case 101:or=ir,lr=1;break}var cr=lr>0?pad0(or,lr):"";return cr}function commaify(St){var er=3;if(St.length<=er)return St;for(var tr=St.length%er,rr=St.substr(0,tr);tr!=St.length;tr+=er)rr+=(rr.length>0?",":"")+St.substr(tr,er);return rr}var pct1=/%/g;function write_num_pct(St,er,tr){var rr=er.replace(pct1,""),nr=er.length-rr.length;return write_num(St,rr,tr*Math.pow(10,2*nr))+fill("%",nr)}function write_num_cm(St,er,tr){for(var rr=er.length-1;er.charCodeAt(rr-1)===44;)--rr;return write_num(St,er.substr(0,rr),tr/Math.pow(10,3*(er.length-rr)))}function write_num_exp(St,er){var tr,rr=St.indexOf("E")-St.indexOf(".")-1;if(St.match(/^#+0.0E\+0$/)){if(er==0)return"0.0E+0";if(er<0)return"-"+write_num_exp(St,-er);var nr=St.indexOf(".");nr===-1&&(nr=St.indexOf("E"));var ar=Math.floor(Math.log(er)*Math.LOG10E)%nr;if(ar<0&&(ar+=nr),tr=(er/Math.pow(10,ar)).toPrecision(rr+1+(nr+ar)%nr),tr.indexOf("e")===-1){var sr=Math.floor(Math.log(er)*Math.LOG10E);for(tr.indexOf(".")===-1?tr=tr.charAt(0)+"."+tr.substr(1)+"E+"+(sr-tr.length+ar):tr+="E+"+(sr-ar);tr.substr(0,2)==="0.";)tr=tr.charAt(0)+tr.substr(2,nr)+"."+tr.substr(2+nr),tr=tr.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");tr=tr.replace(/\+-/,"-")}tr=tr.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(ir,or,lr,cr){return or+lr+cr.substr(0,(nr+ar)%nr)+"."+cr.substr(ar)+"E"})}else tr=er.toExponential(rr);return St.match(/E\+00$/)&&tr.match(/e[+-]\d$/)&&(tr=tr.substr(0,tr.length-1)+"0"+tr.charAt(tr.length-1)),St.match(/E\-/)&&tr.match(/e\+/)&&(tr=tr.replace(/e\+/,"e")),tr.replace("e","E")}var frac1=/# (\?+)( ?)\/( ?)(\d+)/;function write_num_f1(St,er,tr){var rr=parseInt(St[4],10),nr=Math.round(er*rr),ar=Math.floor(nr/rr),sr=nr-ar*rr,ir=rr;return tr+(ar===0?"":""+ar)+" "+(sr===0?fill(" ",St[1].length+1+St[4].length):pad_(sr,St[1].length)+St[2]+"/"+St[3]+pad0(ir,St[4].length))}function write_num_f2(St,er,tr){return tr+(er===0?"":""+er)+fill(" ",St[1].length+2+St[4].length)}var dec1=/^#*0*\.([0#]+)/,closeparen=/\).*[0#]/,phone=/\(###\) ###\\?-####/;function hashq(St){for(var er="",tr,rr=0;rr!=St.length;++rr)switch(tr=St.charCodeAt(rr)){case 35:break;case 63:er+=" ";break;case 48:er+="0";break;default:er+=String.fromCharCode(tr)}return er}function rnd(St,er){var tr=Math.pow(10,er);return""+Math.round(St*tr)/tr}function dec(St,er){var tr=St-Math.floor(St),rr=Math.pow(10,er);return er<(""+Math.round(tr*rr)).length?0:Math.round(tr*rr)}function carry(St,er){return er<(""+Math.round((St-Math.floor(St))*Math.pow(10,er))).length?1:0}function flr(St){return St<2147483647&&St>-2147483648?""+(St>=0?St|0:St-1|0):""+Math.floor(St)}function write_num_flt(St,er,tr){if(St.charCodeAt(0)===40&&!er.match(closeparen)){var rr=er.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return tr>=0?write_num_flt("n",rr,tr):"("+write_num_flt("n",rr,-tr)+")"}if(er.charCodeAt(er.length-1)===44)return write_num_cm(St,er,tr);if(er.indexOf("%")!==-1)return write_num_pct(St,er,tr);if(er.indexOf("E")!==-1)return write_num_exp(er,tr);if(er.charCodeAt(0)===36)return"$"+write_num_flt(St,er.substr(er.charAt(1)==" "?2:1),tr);var nr,ar,sr,ir,or=Math.abs(tr),lr=tr<0?"-":"";if(er.match(/^00+$/))return lr+pad0r(or,er.length);if(er.match(/^[#?]+$/))return nr=pad0r(tr,0),nr==="0"&&(nr=""),nr.length>er.length?nr:hashq(er.substr(0,er.length-nr.length))+nr;if(ar=er.match(frac1))return write_num_f1(ar,or,lr);if(er.match(/^#+0+$/))return lr+pad0r(or,er.length-er.indexOf("0"));if(ar=er.match(dec1))return nr=rnd(tr,ar[1].length).replace(/^([^\.]+)$/,"$1."+hashq(ar[1])).replace(/\.$/,"."+hashq(ar[1])).replace(/\.(\d*)$/,function(mr,xr){return"."+xr+fill("0",hashq(ar[1]).length-xr.length)}),er.indexOf("0.")!==-1?nr:nr.replace(/^0\./,".");if(er=er.replace(/^#+([0.])/,"$1"),ar=er.match(/^(0*)\.(#*)$/))return lr+rnd(or,ar[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,ar[1].length?"0.":".");if(ar=er.match(/^#{1,3},##0(\.?)$/))return lr+commaify(pad0r(or,0));if(ar=er.match(/^#,##0\.([#0]*0)$/))return tr<0?"-"+write_num_flt(St,er,-tr):commaify(""+(Math.floor(tr)+carry(tr,ar[1].length)))+"."+pad0(dec(tr,ar[1].length),ar[1].length);if(ar=er.match(/^#,#*,#0/))return write_num_flt(St,er.replace(/^#,#*,/,""),tr);if(ar=er.match(/^([0#]+)(\\?-([0#]+))+$/))return nr=_strrev(write_num_flt(St,er.replace(/[\\-]/g,""),tr)),sr=0,_strrev(_strrev(er.replace(/\\/g,"")).replace(/[0#]/g,function(mr){return sr<nr.length?nr.charAt(sr++):mr==="0"?"0":""}));if(er.match(phone))return nr=write_num_flt(St,"##########",tr),"("+nr.substr(0,3)+") "+nr.substr(3,3)+"-"+nr.substr(6);var cr="";if(ar=er.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return sr=Math.min(ar[4].length,7),ir=SSF_frac(or,Math.pow(10,sr)-1,!1),nr=""+lr,cr=write_num("n",ar[1],ir[1]),cr.charAt(cr.length-1)==" "&&(cr=cr.substr(0,cr.length-1)+"0"),nr+=cr+ar[2]+"/"+ar[3],cr=rpad_(ir[2],sr),cr.length<ar[4].length&&(cr=hashq(ar[4].substr(ar[4].length-cr.length))+cr),nr+=cr,nr;if(ar=er.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return sr=Math.min(Math.max(ar[1].length,ar[4].length),7),ir=SSF_frac(or,Math.pow(10,sr)-1,!0),lr+(ir[0]||(ir[1]?"":"0"))+" "+(ir[1]?pad_(ir[1],sr)+ar[2]+"/"+ar[3]+rpad_(ir[2],sr):fill(" ",2*sr+1+ar[2].length+ar[3].length));if(ar=er.match(/^[#0?]+$/))return nr=pad0r(tr,0),er.length<=nr.length?nr:hashq(er.substr(0,er.length-nr.length))+nr;if(ar=er.match(/^([#0?]+)\.([#0]+)$/)){nr=""+tr.toFixed(Math.min(ar[2].length,10)).replace(/([^0])0+$/,"$1"),sr=nr.indexOf(".");var ur=er.indexOf(".")-sr,dr=er.length-nr.length-ur;return hashq(er.substr(0,ur)+nr+er.substr(er.length-dr))}if(ar=er.match(/^00,000\.([#0]*0)$/))return sr=dec(tr,ar[1].length),tr<0?"-"+write_num_flt(St,er,-tr):commaify(flr(tr)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(mr){return"00,"+(mr.length<3?pad0(0,3-mr.length):"")+mr})+"."+pad0(sr,ar[1].length);switch(er){case"###,##0.00":return write_num_flt(St,"#,##0.00",tr);case"###,###":case"##,###":case"#,###":var fr=commaify(pad0r(or,0));return fr!=="0"?lr+fr:"";case"###,###.00":return write_num_flt(St,"###,##0.00",tr).replace(/^0\./,".");case"#,###.00":return write_num_flt(St,"#,##0.00",tr).replace(/^0\./,".")}throw new Error("unsupported format |"+er+"|")}function write_num_cm2(St,er,tr){for(var rr=er.length-1;er.charCodeAt(rr-1)===44;)--rr;return write_num(St,er.substr(0,rr),tr/Math.pow(10,3*(er.length-rr)))}function write_num_pct2(St,er,tr){var rr=er.replace(pct1,""),nr=er.length-rr.length;return write_num(St,rr,tr*Math.pow(10,2*nr))+fill("%",nr)}function write_num_exp2(St,er){var tr,rr=St.indexOf("E")-St.indexOf(".")-1;if(St.match(/^#+0.0E\+0$/)){if(er==0)return"0.0E+0";if(er<0)return"-"+write_num_exp2(St,-er);var nr=St.indexOf(".");nr===-1&&(nr=St.indexOf("E"));var ar=Math.floor(Math.log(er)*Math.LOG10E)%nr;if(ar<0&&(ar+=nr),tr=(er/Math.pow(10,ar)).toPrecision(rr+1+(nr+ar)%nr),!tr.match(/[Ee]/)){var sr=Math.floor(Math.log(er)*Math.LOG10E);tr.indexOf(".")===-1?tr=tr.charAt(0)+"."+tr.substr(1)+"E+"+(sr-tr.length+ar):tr+="E+"+(sr-ar),tr=tr.replace(/\+-/,"-")}tr=tr.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(ir,or,lr,cr){return or+lr+cr.substr(0,(nr+ar)%nr)+"."+cr.substr(ar)+"E"})}else tr=er.toExponential(rr);return St.match(/E\+00$/)&&tr.match(/e[+-]\d$/)&&(tr=tr.substr(0,tr.length-1)+"0"+tr.charAt(tr.length-1)),St.match(/E\-/)&&tr.match(/e\+/)&&(tr=tr.replace(/e\+/,"e")),tr.replace("e","E")}function write_num_int(St,er,tr){if(St.charCodeAt(0)===40&&!er.match(closeparen)){var rr=er.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return tr>=0?write_num_int("n",rr,tr):"("+write_num_int("n",rr,-tr)+")"}if(er.charCodeAt(er.length-1)===44)return write_num_cm2(St,er,tr);if(er.indexOf("%")!==-1)return write_num_pct2(St,er,tr);if(er.indexOf("E")!==-1)return write_num_exp2(er,tr);if(er.charCodeAt(0)===36)return"$"+write_num_int(St,er.substr(er.charAt(1)==" "?2:1),tr);var nr,ar,sr,ir,or=Math.abs(tr),lr=tr<0?"-":"";if(er.match(/^00+$/))return lr+pad0(or,er.length);if(er.match(/^[#?]+$/))return nr=""+tr,tr===0&&(nr=""),nr.length>er.length?nr:hashq(er.substr(0,er.length-nr.length))+nr;if(ar=er.match(frac1))return write_num_f2(ar,or,lr);if(er.match(/^#+0+$/))return lr+pad0(or,er.length-er.indexOf("0"));if(ar=er.match(dec1))return nr=(""+tr).replace(/^([^\.]+)$/,"$1."+hashq(ar[1])).replace(/\.$/,"."+hashq(ar[1])),nr=nr.replace(/\.(\d*)$/,function(mr,xr){return"."+xr+fill("0",hashq(ar[1]).length-xr.length)}),er.indexOf("0.")!==-1?nr:nr.replace(/^0\./,".");if(er=er.replace(/^#+([0.])/,"$1"),ar=er.match(/^(0*)\.(#*)$/))return lr+(""+or).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,ar[1].length?"0.":".");if(ar=er.match(/^#{1,3},##0(\.?)$/))return lr+commaify(""+or);if(ar=er.match(/^#,##0\.([#0]*0)$/))return tr<0?"-"+write_num_int(St,er,-tr):commaify(""+tr)+"."+fill("0",ar[1].length);if(ar=er.match(/^#,#*,#0/))return write_num_int(St,er.replace(/^#,#*,/,""),tr);if(ar=er.match(/^([0#]+)(\\?-([0#]+))+$/))return nr=_strrev(write_num_int(St,er.replace(/[\\-]/g,""),tr)),sr=0,_strrev(_strrev(er.replace(/\\/g,"")).replace(/[0#]/g,function(mr){return sr<nr.length?nr.charAt(sr++):mr==="0"?"0":""}));if(er.match(phone))return nr=write_num_int(St,"##########",tr),"("+nr.substr(0,3)+") "+nr.substr(3,3)+"-"+nr.substr(6);var cr="";if(ar=er.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return sr=Math.min(ar[4].length,7),ir=SSF_frac(or,Math.pow(10,sr)-1,!1),nr=""+lr,cr=write_num("n",ar[1],ir[1]),cr.charAt(cr.length-1)==" "&&(cr=cr.substr(0,cr.length-1)+"0"),nr+=cr+ar[2]+"/"+ar[3],cr=rpad_(ir[2],sr),cr.length<ar[4].length&&(cr=hashq(ar[4].substr(ar[4].length-cr.length))+cr),nr+=cr,nr;if(ar=er.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return sr=Math.min(Math.max(ar[1].length,ar[4].length),7),ir=SSF_frac(or,Math.pow(10,sr)-1,!0),lr+(ir[0]||(ir[1]?"":"0"))+" "+(ir[1]?pad_(ir[1],sr)+ar[2]+"/"+ar[3]+rpad_(ir[2],sr):fill(" ",2*sr+1+ar[2].length+ar[3].length));if(ar=er.match(/^[#0?]+$/))return nr=""+tr,er.length<=nr.length?nr:hashq(er.substr(0,er.length-nr.length))+nr;if(ar=er.match(/^([#0]+)\.([#0]+)$/)){nr=""+tr.toFixed(Math.min(ar[2].length,10)).replace(/([^0])0+$/,"$1"),sr=nr.indexOf(".");var ur=er.indexOf(".")-sr,dr=er.length-nr.length-ur;return hashq(er.substr(0,ur)+nr+er.substr(er.length-dr))}if(ar=er.match(/^00,000\.([#0]*0)$/))return tr<0?"-"+write_num_int(St,er,-tr):commaify(""+tr).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(mr){return"00,"+(mr.length<3?pad0(0,3-mr.length):"")+mr})+"."+pad0(0,ar[1].length);switch(er){case"###,###":case"##,###":case"#,###":var fr=commaify(""+or);return fr!=="0"?lr+fr:"";default:if(er.match(/\.[0#?]*$/))return write_num_int(St,er.slice(0,er.lastIndexOf(".")),tr)+hashq(er.slice(er.lastIndexOf(".")))}throw new Error("unsupported format |"+er+"|")}function write_num(St,er,tr){return(tr|0)===tr?write_num_int(St,er,tr):write_num_flt(St,er,tr)}function SSF_split_fmt(St){for(var er=[],tr=!1,rr=0,nr=0;rr<St.length;++rr)switch(St.charCodeAt(rr)){case 34:tr=!tr;break;case 95:case 42:case 92:++rr;break;case 59:er[er.length]=St.substr(nr,rr-nr),nr=rr+1}if(er[er.length]=St.substr(nr),tr===!0)throw new Error("Format |"+St+"| unterminated string ");return er}var SSF_abstime=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function fmt_is_date(St){for(var er=0,tr="",rr="";er<St.length;)switch(tr=St.charAt(er)){case"G":SSF_isgeneral(St,er)&&(er+=6),er++;break;case'"':for(;St.charCodeAt(++er)!==34&&er<St.length;);++er;break;case"\\":er+=2;break;case"_":er+=2;break;case"@":++er;break;case"B":case"b":if(St.charAt(er+1)==="1"||St.charAt(er+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(St.substr(er,3).toUpperCase()==="A/P"||St.substr(er,5).toUpperCase()==="AM/PM"||St.substr(er,5).toUpperCase()==="/")return!0;++er;break;case"[":for(rr=tr;St.charAt(er++)!=="]"&&er<St.length;)rr+=St.charAt(er);if(rr.match(SSF_abstime))return!0;break;case".":case"0":case"#":for(;er<St.length&&("0#?.,E+-%".indexOf(tr=St.charAt(++er))>-1||tr=="\\"&&St.charAt(er+1)=="-"&&"0#".indexOf(St.charAt(er+2))>-1););break;case"?":for(;St.charAt(++er)===tr;);break;case"*":++er,(St.charAt(er)==" "||St.charAt(er)=="*")&&++er;break;case"(":case")":++er;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;er<St.length&&"0123456789".indexOf(St.charAt(++er))>-1;);break;case" ":++er;break;default:++er;break}return!1}function eval_fmt(St,er,tr,rr){for(var nr=[],ar="",sr=0,ir="",or="t",lr,cr,ur,dr="H";sr<St.length;)switch(ir=St.charAt(sr)){case"G":if(!SSF_isgeneral(St,sr))throw new Error("unrecognized character "+ir+" in "+St);nr[nr.length]={t:"G",v:"General"},sr+=7;break;case'"':for(ar="";(ur=St.charCodeAt(++sr))!==34&&sr<St.length;)ar+=String.fromCharCode(ur);nr[nr.length]={t:"t",v:ar},++sr;break;case"\\":var fr=St.charAt(++sr),mr=fr==="("||fr===")"?fr:"t";nr[nr.length]={t:mr,v:fr},++sr;break;case"_":nr[nr.length]={t:"t",v:" "},sr+=2;break;case"@":nr[nr.length]={t:"T",v:er},++sr;break;case"B":case"b":if(St.charAt(sr+1)==="1"||St.charAt(sr+1)==="2"){if(lr==null&&(lr=SSF_parse_date_code(er,tr,St.charAt(sr+1)==="2"),lr==null))return"";nr[nr.length]={t:"X",v:St.substr(sr,2)},or=ir,sr+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":ir=ir.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(er<0||lr==null&&(lr=SSF_parse_date_code(er,tr),lr==null))return"";for(ar=ir;++sr<St.length&&St.charAt(sr).toLowerCase()===ir;)ar+=ir;ir==="m"&&or.toLowerCase()==="h"&&(ir="M"),ir==="h"&&(ir=dr),nr[nr.length]={t:ir,v:ar},or=ir;break;case"A":case"a":case"":var xr={t:ir,v:ir};if(lr==null&&(lr=SSF_parse_date_code(er,tr)),St.substr(sr,3).toUpperCase()==="A/P"?(lr!=null&&(xr.v=lr.H>=12?"P":"A"),xr.t="T",dr="h",sr+=3):St.substr(sr,5).toUpperCase()==="AM/PM"?(lr!=null&&(xr.v=lr.H>=12?"PM":"AM"),xr.t="T",sr+=5,dr="h"):St.substr(sr,5).toUpperCase()==="/"?(lr!=null&&(xr.v=lr.H>=12?"":""),xr.t="T",sr+=5,dr="h"):(xr.t="t",++sr),lr==null&&xr.t==="T")return"";nr[nr.length]=xr,or=ir;break;case"[":for(ar=ir;St.charAt(sr++)!=="]"&&sr<St.length;)ar+=St.charAt(sr);if(ar.slice(-1)!=="]")throw'unterminated "[" block: |'+ar+"|";if(ar.match(SSF_abstime)){if(lr==null&&(lr=SSF_parse_date_code(er,tr),lr==null))return"";nr[nr.length]={t:"Z",v:ar.toLowerCase()},or=ar.charAt(1)}else ar.indexOf("$")>-1&&(ar=(ar.match(/\$([^-\[\]]*)/)||[])[1]||"$",fmt_is_date(St)||(nr[nr.length]={t:"t",v:ar}));break;case".":if(lr!=null){for(ar=ir;++sr<St.length&&(ir=St.charAt(sr))==="0";)ar+=ir;nr[nr.length]={t:"s",v:ar};break}case"0":case"#":for(ar=ir;++sr<St.length&&"0#?.,E+-%".indexOf(ir=St.charAt(sr))>-1;)ar+=ir;nr[nr.length]={t:"n",v:ar};break;case"?":for(ar=ir;St.charAt(++sr)===ir;)ar+=ir;nr[nr.length]={t:ir,v:ar},or=ir;break;case"*":++sr,(St.charAt(sr)==" "||St.charAt(sr)=="*")&&++sr;break;case"(":case")":nr[nr.length]={t:rr===1?"t":ir,v:ir},++sr;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(ar=ir;sr<St.length&&"0123456789".indexOf(St.charAt(++sr))>-1;)ar+=St.charAt(sr);nr[nr.length]={t:"D",v:ar};break;case" ":nr[nr.length]={t:ir,v:ir},++sr;break;case"$":nr[nr.length]={t:"t",v:"$"},++sr;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(ir)===-1)throw new Error("unrecognized character "+ir+" in "+St);nr[nr.length]={t:"t",v:ir},++sr;break}var pr=0,hr=0,gr;for(sr=nr.length-1,or="t";sr>=0;--sr)switch(nr[sr].t){case"h":case"H":nr[sr].t=dr,or="h",pr<1&&(pr=1);break;case"s":(gr=nr[sr].v.match(/\.0+$/))&&(hr=Math.max(hr,gr[0].length-1)),pr<3&&(pr=3);case"d":case"y":case"M":case"e":or=nr[sr].t;break;case"m":or==="s"&&(nr[sr].t="M",pr<2&&(pr=2));break;case"X":break;case"Z":pr<1&&nr[sr].v.match(/[Hh]/)&&(pr=1),pr<2&&nr[sr].v.match(/[Mm]/)&&(pr=2),pr<3&&nr[sr].v.match(/[Ss]/)&&(pr=3)}switch(pr){case 0:break;case 1:lr.u>=.5&&(lr.u=0,++lr.S),lr.S>=60&&(lr.S=0,++lr.M),lr.M>=60&&(lr.M=0,++lr.H);break;case 2:lr.u>=.5&&(lr.u=0,++lr.S),lr.S>=60&&(lr.S=0,++lr.M);break}var vr="",br;for(sr=0;sr<nr.length;++sr)switch(nr[sr].t){case"t":case"T":case" ":case"D":break;case"X":nr[sr].v="",nr[sr].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":nr[sr].v=SSF_write_date(nr[sr].t.charCodeAt(0),nr[sr].v,lr,hr),nr[sr].t="t";break;case"n":case"?":for(br=sr+1;nr[br]!=null&&((ir=nr[br].t)==="?"||ir==="D"||(ir===" "||ir==="t")&&nr[br+1]!=null&&(nr[br+1].t==="?"||nr[br+1].t==="t"&&nr[br+1].v==="/")||nr[sr].t==="("&&(ir===" "||ir==="n"||ir===")")||ir==="t"&&(nr[br].v==="/"||nr[br].v===" "&&nr[br+1]!=null&&nr[br+1].t=="?"));)nr[sr].v+=nr[br].v,nr[br]={v:"",t:";"},++br;vr+=nr[sr].v,sr=br-1;break;case"G":nr[sr].t="t",nr[sr].v=SSF_general(er,tr);break}var yr="",Er,jr;if(vr.length>0){vr.charCodeAt(0)==40?(Er=er<0&&vr.charCodeAt(0)===45?-er:er,jr=write_num("n",vr,Er)):(Er=er<0&&rr>1?-er:er,jr=write_num("n",vr,Er),Er<0&&nr[0]&&nr[0].t=="t"&&(jr=jr.substr(1),nr[0].v="-"+nr[0].v)),br=jr.length-1;var _r=nr.length;for(sr=0;sr<nr.length;++sr)if(nr[sr]!=null&&nr[sr].t!="t"&&nr[sr].v.indexOf(".")>-1){_r=sr;break}var Cr=nr.length;if(_r===nr.length&&jr.indexOf("E")===-1){for(sr=nr.length-1;sr>=0;--sr)nr[sr]==null||"n?".indexOf(nr[sr].t)===-1||(br>=nr[sr].v.length-1?(br-=nr[sr].v.length,nr[sr].v=jr.substr(br+1,nr[sr].v.length)):br<0?nr[sr].v="":(nr[sr].v=jr.substr(0,br+1),br=-1),nr[sr].t="t",Cr=sr);br>=0&&Cr<nr.length&&(nr[Cr].v=jr.substr(0,br+1)+nr[Cr].v)}else if(_r!==nr.length&&jr.indexOf("E")===-1){for(br=jr.indexOf(".")-1,sr=_r;sr>=0;--sr)if(!(nr[sr]==null||"n?".indexOf(nr[sr].t)===-1)){for(cr=nr[sr].v.indexOf(".")>-1&&sr===_r?nr[sr].v.indexOf(".")-1:nr[sr].v.length-1,yr=nr[sr].v.substr(cr+1);cr>=0;--cr)br>=0&&(nr[sr].v.charAt(cr)==="0"||nr[sr].v.charAt(cr)==="#")&&(yr=jr.charAt(br--)+yr);nr[sr].v=yr,nr[sr].t="t",Cr=sr}for(br>=0&&Cr<nr.length&&(nr[Cr].v=jr.substr(0,br+1)+nr[Cr].v),br=jr.indexOf(".")+1,sr=_r;sr<nr.length;++sr)if(!(nr[sr]==null||"n?(".indexOf(nr[sr].t)===-1&&sr!==_r)){for(cr=nr[sr].v.indexOf(".")>-1&&sr===_r?nr[sr].v.indexOf(".")+1:0,yr=nr[sr].v.substr(0,cr);cr<nr[sr].v.length;++cr)br<jr.length&&(yr+=jr.charAt(br++));nr[sr].v=yr,nr[sr].t="t",Cr=sr}}}for(sr=0;sr<nr.length;++sr)nr[sr]!=null&&"n?".indexOf(nr[sr].t)>-1&&(Er=rr>1&&er<0&&sr>0&&nr[sr-1].v==="-"?-er:er,nr[sr].v=write_num(nr[sr].t,nr[sr].v,Er),nr[sr].t="t");var Or="";for(sr=0;sr!==nr.length;++sr)nr[sr]!=null&&(Or+=nr[sr].v);return Or}var cfregex2=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function chkcond(St,er){if(er==null)return!1;var tr=parseFloat(er[2]);switch(er[1]){case"=":if(St==tr)return!0;break;case">":if(St>tr)return!0;break;case"<":if(St<tr)return!0;break;case"<>":if(St!=tr)return!0;break;case">=":if(St>=tr)return!0;break;case"<=":if(St<=tr)return!0;break}return!1}function choose_fmt(St,er){var tr=SSF_split_fmt(St),rr=tr.length,nr=tr[rr-1].indexOf("@");if(rr<4&&nr>-1&&--rr,tr.length>4)throw new Error("cannot find right format for |"+tr.join("|")+"|");if(typeof er!="number")return[4,tr.length===4||nr>-1?tr[tr.length-1]:"@"];switch(tr.length){case 1:tr=nr>-1?["General","General","General",tr[0]]:[tr[0],tr[0],tr[0],"@"];break;case 2:tr=nr>-1?[tr[0],tr[0],tr[0],tr[1]]:[tr[0],tr[1],tr[0],"@"];break;case 3:tr=nr>-1?[tr[0],tr[1],tr[0],tr[2]]:[tr[0],tr[1],tr[2],"@"];break}var ar=er>0?tr[0]:er<0?tr[1]:tr[2];if(tr[0].indexOf("[")===-1&&tr[1].indexOf("[")===-1)return[rr,ar];if(tr[0].match(/\[[=<>]/)!=null||tr[1].match(/\[[=<>]/)!=null){var sr=tr[0].match(cfregex2),ir=tr[1].match(cfregex2);return chkcond(er,sr)?[rr,tr[0]]:chkcond(er,ir)?[rr,tr[1]]:[rr,tr[sr!=null&&ir!=null?2:1]]}return[rr,ar]}function SSF_format(St,er,tr){tr==null&&(tr={});var rr="";switch(typeof St){case"string":St=="m/d/yy"&&tr.dateNF?rr=tr.dateNF:rr=St;break;case"number":St==14&&tr.dateNF?rr=tr.dateNF:rr=(tr.table!=null?tr.table:table_fmt)[St],rr==null&&(rr=tr.table&&tr.table[SSF_default_map[St]]||table_fmt[SSF_default_map[St]]),rr==null&&(rr=SSF_default_str[St]||"General");break}if(SSF_isgeneral(rr,0))return SSF_general(er,tr);er instanceof Date&&(er=datenum_local(er,tr.date1904));var nr=choose_fmt(rr,er);if(SSF_isgeneral(nr[1]))return SSF_general(er,tr);if(er===!0)er="TRUE";else if(er===!1)er="FALSE";else if(er===""||er==null)return"";return eval_fmt(nr[1],er,tr,nr[0])}function SSF_load(St,er){if(typeof er!="number"){er=+er||-1;for(var tr=0;tr<392;++tr){if(table_fmt[tr]==null){er<0&&(er=tr);continue}if(table_fmt[tr]==St){er=tr;break}}er<0&&(er=391)}return table_fmt[er]=St,er}function SSF_load_table(St){for(var er=0;er!=392;++er)St[er]!==void 0&&SSF_load(St[er],er)}function make_ssf(){table_fmt=SSF_init_table()}var SSFImplicit={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},dateNFregex=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function dateNF_regex(St){var er=typeof St=="number"?table_fmt[St]:St;return er=er.replace(dateNFregex,"(\\d+)"),new RegExp("^"+er+"$")}function dateNF_fix(St,er,tr){var rr=-1,nr=-1,ar=-1,sr=-1,ir=-1,or=-1;(er.match(dateNFregex)||[]).forEach(function(ur,dr){var fr=parseInt(tr[dr+1],10);switch(ur.toLowerCase().charAt(0)){case"y":rr=fr;break;case"d":ar=fr;break;case"h":sr=fr;break;case"s":or=fr;break;case"m":sr>=0?ir=fr:nr=fr;break}}),or>=0&&ir==-1&&nr>=0&&(ir=nr,nr=-1);var lr=(""+(rr>=0?rr:new Date().getFullYear())).slice(-4)+"-"+("00"+(nr>=1?nr:1)).slice(-2)+"-"+("00"+(ar>=1?ar:1)).slice(-2);lr.length==7&&(lr="0"+lr),lr.length==8&&(lr="20"+lr);var cr=("00"+(sr>=0?sr:0)).slice(-2)+":"+("00"+(ir>=0?ir:0)).slice(-2)+":"+("00"+(or>=0?or:0)).slice(-2);return sr==-1&&ir==-1&&or==-1?lr:rr==-1&&nr==-1&&ar==-1?cr:lr+"T"+cr}var CRC32=function(){var St={};St.version="1.2.0";function er(){for(var jr=0,_r=new Array(256),Cr=0;Cr!=256;++Cr)jr=Cr,jr=jr&1?-306674912^jr>>>1:jr>>>1,jr=jr&1?-306674912^jr>>>1:jr>>>1,jr=jr&1?-306674912^jr>>>1:jr>>>1,jr=jr&1?-306674912^jr>>>1:jr>>>1,jr=jr&1?-306674912^jr>>>1:jr>>>1,jr=jr&1?-306674912^jr>>>1:jr>>>1,jr=jr&1?-306674912^jr>>>1:jr>>>1,jr=jr&1?-306674912^jr>>>1:jr>>>1,_r[Cr]=jr;return typeof Int32Array<"u"?new Int32Array(_r):_r}var tr=er();function rr(jr){var _r=0,Cr=0,Or=0,Pr=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(Or=0;Or!=256;++Or)Pr[Or]=jr[Or];for(Or=0;Or!=256;++Or)for(Cr=jr[Or],_r=256+Or;_r<4096;_r+=256)Cr=Pr[_r]=Cr>>>8^jr[Cr&255];var Lr=[];for(Or=1;Or!=16;++Or)Lr[Or-1]=typeof Int32Array<"u"?Pr.subarray(Or*256,Or*256+256):Pr.slice(Or*256,Or*256+256);return Lr}var nr=rr(tr),ar=nr[0],sr=nr[1],ir=nr[2],or=nr[3],lr=nr[4],cr=nr[5],ur=nr[6],dr=nr[7],fr=nr[8],mr=nr[9],xr=nr[10],pr=nr[11],hr=nr[12],gr=nr[13],vr=nr[14];function br(jr,_r){for(var Cr=_r^-1,Or=0,Pr=jr.length;Or<Pr;)Cr=Cr>>>8^tr[(Cr^jr.charCodeAt(Or++))&255];return~Cr}function yr(jr,_r){for(var Cr=_r^-1,Or=jr.length-15,Pr=0;Pr<Or;)Cr=vr[jr[Pr++]^Cr&255]^gr[jr[Pr++]^Cr>>8&255]^hr[jr[Pr++]^Cr>>16&255]^pr[jr[Pr++]^Cr>>>24]^xr[jr[Pr++]]^mr[jr[Pr++]]^fr[jr[Pr++]]^dr[jr[Pr++]]^ur[jr[Pr++]]^cr[jr[Pr++]]^lr[jr[Pr++]]^or[jr[Pr++]]^ir[jr[Pr++]]^sr[jr[Pr++]]^ar[jr[Pr++]]^tr[jr[Pr++]];for(Or+=15;Pr<Or;)Cr=Cr>>>8^tr[(Cr^jr[Pr++])&255];return~Cr}function Er(jr,_r){for(var Cr=_r^-1,Or=0,Pr=jr.length,Lr=0,Gr=0;Or<Pr;)Lr=jr.charCodeAt(Or++),Lr<128?Cr=Cr>>>8^tr[(Cr^Lr)&255]:Lr<2048?(Cr=Cr>>>8^tr[(Cr^(192|Lr>>6&31))&255],Cr=Cr>>>8^tr[(Cr^(128|Lr&63))&255]):Lr>=55296&&Lr<57344?(Lr=(Lr&1023)+64,Gr=jr.charCodeAt(Or++)&1023,Cr=Cr>>>8^tr[(Cr^(240|Lr>>8&7))&255],Cr=Cr>>>8^tr[(Cr^(128|Lr>>2&63))&255],Cr=Cr>>>8^tr[(Cr^(128|Gr>>6&15|(Lr&3)<<4))&255],Cr=Cr>>>8^tr[(Cr^(128|Gr&63))&255]):(Cr=Cr>>>8^tr[(Cr^(224|Lr>>12&15))&255],Cr=Cr>>>8^tr[(Cr^(128|Lr>>6&63))&255],Cr=Cr>>>8^tr[(Cr^(128|Lr&63))&255]);return~Cr}return St.table=tr,St.bstr=br,St.buf=yr,St.str=Er,St}(),CFB=function(){var er={};er.version="1.2.1";function tr(fn,An){for(var bn=fn.split("/"),En=An.split("/"),kn=0,Nn=0,Qn=Math.min(bn.length,En.length);kn<Qn;++kn){if(Nn=bn[kn].length-En[kn].length)return Nn;if(bn[kn]!=En[kn])return bn[kn]<En[kn]?-1:1}return bn.length-En.length}function rr(fn){if(fn.charAt(fn.length-1)=="/")return fn.slice(0,-1).indexOf("/")===-1?fn:rr(fn.slice(0,-1));var An=fn.lastIndexOf("/");return An===-1?fn:fn.slice(0,An+1)}function nr(fn){if(fn.charAt(fn.length-1)=="/")return nr(fn.slice(0,-1));var An=fn.lastIndexOf("/");return An===-1?fn:fn.slice(An+1)}function ar(fn,An){typeof An=="string"&&(An=new Date(An));var bn=An.getHours();bn=bn<<6|An.getMinutes(),bn=bn<<5|An.getSeconds()>>>1,fn.write_shift(2,bn);var En=An.getFullYear()-1980;En=En<<4|An.getMonth()+1,En=En<<5|An.getDate(),fn.write_shift(2,En)}function sr(fn){var An=fn.read_shift(2)&65535,bn=fn.read_shift(2)&65535,En=new Date,kn=bn&31;bn>>>=5;var Nn=bn&15;bn>>>=4,En.setMilliseconds(0),En.setFullYear(bn+1980),En.setMonth(Nn-1),En.setDate(kn);var Qn=An&31;An>>>=5;var es=An&63;return An>>>=6,En.setHours(An),En.setMinutes(es),En.setSeconds(Qn<<1),En}function ir(fn){prep_blob(fn,0);for(var An={},bn=0;fn.l<=fn.length-4;){var En=fn.read_shift(2),kn=fn.read_shift(2),Nn=fn.l+kn,Qn={};switch(En){case 21589:bn=fn.read_shift(1),bn&1&&(Qn.mtime=fn.read_shift(4)),kn>5&&(bn&2&&(Qn.atime=fn.read_shift(4)),bn&4&&(Qn.ctime=fn.read_shift(4))),Qn.mtime&&(Qn.mt=new Date(Qn.mtime*1e3));break}fn.l=Nn,An[En]=Qn}return An}var or;function lr(){return or||(or={})}function cr(fn,An){if(fn[0]==80&&fn[1]==75)return to(fn,An);if((fn[0]|32)==109&&(fn[1]|32)==105)return Il(fn,An);if(fn.length<512)throw new Error("CFB file size "+fn.length+" < 512");var bn=3,En=512,kn=0,Nn=0,Qn=0,es=0,Zn=0,ga=[],ba=fn.slice(0,512);prep_blob(ba,0);var _s=ur(ba);switch(bn=_s[0],bn){case 3:En=512;break;case 4:En=4096;break;case 0:if(_s[1]==0)return to(fn,An);default:throw new Error("Major Version: Expected 3 or 4 saw "+bn)}En!==512&&(ba=fn.slice(0,En),prep_blob(ba,28));var Cs=fn.slice(0,En);dr(ba,bn);var Ds=ba.read_shift(4,"i");if(bn===3&&Ds!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ds);ba.l+=4,Qn=ba.read_shift(4,"i"),ba.l+=4,ba.chk("00100000","Mini Stream Cutoff Size: "),es=ba.read_shift(4,"i"),kn=ba.read_shift(4,"i"),Zn=ba.read_shift(4,"i"),Nn=ba.read_shift(4,"i");for(var Rs=-1,Fs=0;Fs<109&&(Rs=ba.read_shift(4,"i"),!(Rs<0));++Fs)ga[Fs]=Rs;var uo=fr(fn,En);pr(Zn,Nn,uo,En,ga);var $o=gr(uo,Qn,ga,En);$o[Qn].name="!Directory",kn>0&&es!==Gr&&($o[es].name="!MiniFAT"),$o[ga[0]].name="!FAT",$o.fat_addrs=ga,$o.ssz=En;var Bo={},Cl=[],cu=[],ju=[];vr(Qn,$o,uo,Cl,kn,Bo,cu,es),mr(cu,ju,Cl),Cl.shift();var gu={FileIndex:cu,FullPaths:ju};return An&&An.raw&&(gu.raw={header:Cs,sectors:uo}),gu}function ur(fn){if(fn[fn.l]==80&&fn[fn.l+1]==75)return[0,0];fn.chk(Kr,"Header Signature: "),fn.l+=16;var An=fn.read_shift(2,"u");return[fn.read_shift(2,"u"),An]}function dr(fn,An){var bn=9;switch(fn.l+=2,bn=fn.read_shift(2)){case 9:if(An!=3)throw new Error("Sector Shift: Expected 9 saw "+bn);break;case 12:if(An!=4)throw new Error("Sector Shift: Expected 12 saw "+bn);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+bn)}fn.chk("0600","Mini Sector Shift: "),fn.chk("000000000000","Reserved: ")}function fr(fn,An){for(var bn=Math.ceil(fn.length/An)-1,En=[],kn=1;kn<bn;++kn)En[kn-1]=fn.slice(kn*An,(kn+1)*An);return En[bn-1]=fn.slice(bn*An),En}function mr(fn,An,bn){for(var En=0,kn=0,Nn=0,Qn=0,es=0,Zn=bn.length,ga=[],ba=[];En<Zn;++En)ga[En]=ba[En]=En,An[En]=bn[En];for(;es<ba.length;++es)En=ba[es],kn=fn[En].L,Nn=fn[En].R,Qn=fn[En].C,ga[En]===En&&(kn!==-1&&ga[kn]!==kn&&(ga[En]=ga[kn]),Nn!==-1&&ga[Nn]!==Nn&&(ga[En]=ga[Nn])),Qn!==-1&&(ga[Qn]=En),kn!==-1&&En!=ga[En]&&(ga[kn]=ga[En],ba.lastIndexOf(kn)<es&&ba.push(kn)),Nn!==-1&&En!=ga[En]&&(ga[Nn]=ga[En],ba.lastIndexOf(Nn)<es&&ba.push(Nn));for(En=1;En<Zn;++En)ga[En]===En&&(Nn!==-1&&ga[Nn]!==Nn?ga[En]=ga[Nn]:kn!==-1&&ga[kn]!==kn&&(ga[En]=ga[kn]));for(En=1;En<Zn;++En)if(fn[En].type!==0){if(es=En,es!=ga[es])do es=ga[es],An[En]=An[es]+"/"+An[En];while(es!==0&&ga[es]!==-1&&es!=ga[es]);ga[En]=-1}for(An[0]+="/",En=1;En<Zn;++En)fn[En].type!==2&&(An[En]+="/")}function xr(fn,An,bn){for(var En=fn.start,kn=fn.size,Nn=[],Qn=En;bn&&kn>0&&Qn>=0;)Nn.push(An.slice(Qn*Lr,Qn*Lr+Lr)),kn-=Lr,Qn=__readInt32LE(bn,Qn*4);return Nn.length===0?new_buf(0):bconcat(Nn).slice(0,fn.size)}function pr(fn,An,bn,En,kn){var Nn=Gr;if(fn===Gr){if(An!==0)throw new Error("DIFAT chain shorter than expected")}else if(fn!==-1){var Qn=bn[fn],es=(En>>>2)-1;if(!Qn)return;for(var Zn=0;Zn<es&&(Nn=__readInt32LE(Qn,Zn*4))!==Gr;++Zn)kn.push(Nn);pr(__readInt32LE(Qn,En-4),An-1,bn,En,kn)}}function hr(fn,An,bn,En,kn){var Nn=[],Qn=[];kn||(kn=[]);var es=En-1,Zn=0,ga=0;for(Zn=An;Zn>=0;){kn[Zn]=!0,Nn[Nn.length]=Zn,Qn.push(fn[Zn]);var ba=bn[Math.floor(Zn*4/En)];if(ga=Zn*4&es,En<4+ga)throw new Error("FAT boundary crossed: "+Zn+" 4 "+En);if(!fn[ba])break;Zn=__readInt32LE(fn[ba],ga)}return{nodes:Nn,data:__toBuffer([Qn])}}function gr(fn,An,bn,En){var kn=fn.length,Nn=[],Qn=[],es=[],Zn=[],ga=En-1,ba=0,_s=0,Cs=0,Ds=0;for(ba=0;ba<kn;++ba)if(es=[],Cs=ba+An,Cs>=kn&&(Cs-=kn),!Qn[Cs]){Zn=[];var Rs=[];for(_s=Cs;_s>=0;){Rs[_s]=!0,Qn[_s]=!0,es[es.length]=_s,Zn.push(fn[_s]);var Fs=bn[Math.floor(_s*4/En)];if(Ds=_s*4&ga,En<4+Ds)throw new Error("FAT boundary crossed: "+_s+" 4 "+En);if(!fn[Fs]||(_s=__readInt32LE(fn[Fs],Ds),Rs[_s]))break}Nn[Cs]={nodes:es,data:__toBuffer([Zn])}}return Nn}function vr(fn,An,bn,En,kn,Nn,Qn,es){for(var Zn=0,ga=En.length?2:0,ba=An[fn].data,_s=0,Cs=0,Ds;_s<ba.length;_s+=128){var Rs=ba.slice(_s,_s+128);prep_blob(Rs,64),Cs=Rs.read_shift(2),Ds=__utf16le(Rs,0,Cs-ga),En.push(Ds);var Fs={name:Ds,type:Rs.read_shift(1),color:Rs.read_shift(1),L:Rs.read_shift(4,"i"),R:Rs.read_shift(4,"i"),C:Rs.read_shift(4,"i"),clsid:Rs.read_shift(16),state:Rs.read_shift(4,"i"),start:0,size:0},uo=Rs.read_shift(2)+Rs.read_shift(2)+Rs.read_shift(2)+Rs.read_shift(2);uo!==0&&(Fs.ct=br(Rs,Rs.l-8));var $o=Rs.read_shift(2)+Rs.read_shift(2)+Rs.read_shift(2)+Rs.read_shift(2);$o!==0&&(Fs.mt=br(Rs,Rs.l-8)),Fs.start=Rs.read_shift(4,"i"),Fs.size=Rs.read_shift(4,"i"),Fs.size<0&&Fs.start<0&&(Fs.size=Fs.type=0,Fs.start=Gr,Fs.name=""),Fs.type===5?(Zn=Fs.start,kn>0&&Zn!==Gr&&(An[Zn].name="!StreamData")):Fs.size>=4096?(Fs.storage="fat",An[Fs.start]===void 0&&(An[Fs.start]=hr(bn,Fs.start,An.fat_addrs,An.ssz)),An[Fs.start].name=Fs.name,Fs.content=An[Fs.start].data.slice(0,Fs.size)):(Fs.storage="minifat",Fs.size<0?Fs.size=0:Zn!==Gr&&Fs.start!==Gr&&An[Zn]&&(Fs.content=xr(Fs,An[Zn].data,(An[es]||{}).data))),Fs.content&&prep_blob(Fs.content,0),Nn[Ds]=Fs,Qn.push(Fs)}}function br(fn,An){return new Date((__readUInt32LE(fn,An+4)/1e7*Math.pow(2,32)+__readUInt32LE(fn,An)/1e7-11644473600)*1e3)}function yr(fn,An){return lr(),cr(or.readFileSync(fn),An)}function Er(fn,An){var bn=An&&An.type;switch(bn||has_buf&&Buffer.isBuffer(fn)&&(bn="buffer"),bn||"base64"){case"file":return yr(fn,An);case"base64":return cr(s2a(Base64_decode(fn)),An);case"binary":return cr(s2a(fn),An)}return cr(fn,An)}function jr(fn,An){var bn=An||{},En=bn.root||"Root Entry";if(fn.FullPaths||(fn.FullPaths=[]),fn.FileIndex||(fn.FileIndex=[]),fn.FullPaths.length!==fn.FileIndex.length)throw new Error("inconsistent CFB structure");fn.FullPaths.length===0&&(fn.FullPaths[0]=En+"/",fn.FileIndex[0]={name:En,type:5}),bn.CLSID&&(fn.FileIndex[0].clsid=bn.CLSID),_r(fn)}function _r(fn){var An="Sh33tJ5";if(!CFB.find(fn,"/"+An)){var bn=new_buf(4);bn[0]=55,bn[1]=bn[3]=50,bn[2]=54,fn.FileIndex.push({name:An,type:2,content:bn,size:4,L:69,R:69,C:69}),fn.FullPaths.push(fn.FullPaths[0]+An),Cr(fn)}}function Cr(fn,An){jr(fn);for(var bn=!1,En=!1,kn=fn.FullPaths.length-1;kn>=0;--kn){var Nn=fn.FileIndex[kn];switch(Nn.type){case 0:En?bn=!0:(fn.FileIndex.pop(),fn.FullPaths.pop());break;case 1:case 2:case 5:En=!0,isNaN(Nn.R*Nn.L*Nn.C)&&(bn=!0),Nn.R>-1&&Nn.L>-1&&Nn.R==Nn.L&&(bn=!0);break;default:bn=!0;break}}if(!(!bn&&!An)){var Qn=new Date(1987,1,19),es=0,Zn=Object.create?Object.create(null):{},ga=[];for(kn=0;kn<fn.FullPaths.length;++kn)Zn[fn.FullPaths[kn]]=!0,fn.FileIndex[kn].type!==0&&ga.push([fn.FullPaths[kn],fn.FileIndex[kn]]);for(kn=0;kn<ga.length;++kn){var ba=rr(ga[kn][0]);En=Zn[ba],En||(ga.push([ba,{name:nr(ba).replace("/",""),type:1,clsid:Qr,ct:Qn,mt:Qn,content:null}]),Zn[ba]=!0)}for(ga.sort(function(Ds,Rs){return tr(Ds[0],Rs[0])}),fn.FullPaths=[],fn.FileIndex=[],kn=0;kn<ga.length;++kn)fn.FullPaths[kn]=ga[kn][0],fn.FileIndex[kn]=ga[kn][1];for(kn=0;kn<ga.length;++kn){var _s=fn.FileIndex[kn],Cs=fn.FullPaths[kn];if(_s.name=nr(Cs).replace("/",""),_s.L=_s.R=_s.C=-(_s.color=1),_s.size=_s.content?_s.content.length:0,_s.start=0,_s.clsid=_s.clsid||Qr,kn===0)_s.C=ga.length>1?1:-1,_s.size=0,_s.type=5;else if(Cs.slice(-1)=="/"){for(es=kn+1;es<ga.length&&rr(fn.FullPaths[es])!=Cs;++es);for(_s.C=es>=ga.length?-1:es,es=kn+1;es<ga.length&&rr(fn.FullPaths[es])!=rr(Cs);++es);_s.R=es>=ga.length?-1:es,_s.type=1}else rr(fn.FullPaths[kn+1]||"")==rr(Cs)&&(_s.R=kn+1),_s.type=2}}}function Or(fn,An){var bn=An||{};if(bn.fileType=="mad")return Qs(fn,bn);switch(Cr(fn),bn.fileType){case"zip":return Pl(fn,bn)}var En=function(Ds){for(var Rs=0,Fs=0,uo=0;uo<Ds.FileIndex.length;++uo){var $o=Ds.FileIndex[uo];if($o.content){var Bo=$o.content.length;Bo>0&&(Bo<4096?Rs+=Bo+63>>6:Fs+=Bo+511>>9)}}for(var Cl=Ds.FullPaths.length+3>>2,cu=Rs+7>>3,ju=Rs+127>>7,gu=cu+Fs+Cl+ju,Ql=gu+127>>7,uu=Ql<=109?0:Math.ceil((Ql-109)/127);gu+Ql+uu+127>>7>Ql;)uu=++Ql<=109?0:Math.ceil((Ql-109)/127);var _c=[1,uu,Ql,ju,Cl,Fs,Rs,0];return Ds.FileIndex[0].size=Rs<<6,_c[7]=(Ds.FileIndex[0].start=_c[0]+_c[1]+_c[2]+_c[3]+_c[4]+_c[5])+(_c[6]+7>>3),_c}(fn),kn=new_buf(En[7]<<9),Nn=0,Qn=0;{for(Nn=0;Nn<8;++Nn)kn.write_shift(1,nn[Nn]);for(Nn=0;Nn<8;++Nn)kn.write_shift(2,0);for(kn.write_shift(2,62),kn.write_shift(2,3),kn.write_shift(2,65534),kn.write_shift(2,9),kn.write_shift(2,6),Nn=0;Nn<3;++Nn)kn.write_shift(2,0);for(kn.write_shift(4,0),kn.write_shift(4,En[2]),kn.write_shift(4,En[0]+En[1]+En[2]+En[3]-1),kn.write_shift(4,0),kn.write_shift(4,4096),kn.write_shift(4,En[3]?En[0]+En[1]+En[2]-1:Gr),kn.write_shift(4,En[3]),kn.write_shift(-4,En[1]?En[0]-1:Gr),kn.write_shift(4,En[1]),Nn=0;Nn<109;++Nn)kn.write_shift(-4,Nn<En[2]?En[1]+Nn:-1)}if(En[1])for(Qn=0;Qn<En[1];++Qn){for(;Nn<236+Qn*127;++Nn)kn.write_shift(-4,Nn<En[2]?En[1]+Nn:-1);kn.write_shift(-4,Qn===En[1]-1?Gr:Qn+1)}var es=function(Ds){for(Qn+=Ds;Nn<Qn-1;++Nn)kn.write_shift(-4,Nn+1);Ds&&(++Nn,kn.write_shift(-4,Gr))};for(Qn=Nn=0,Qn+=En[1];Nn<Qn;++Nn)kn.write_shift(-4,zr.DIFSECT);for(Qn+=En[2];Nn<Qn;++Nn)kn.write_shift(-4,zr.FATSECT);es(En[3]),es(En[4]);for(var Zn=0,ga=0,ba=fn.FileIndex[0];Zn<fn.FileIndex.length;++Zn)ba=fn.FileIndex[Zn],ba.content&&(ga=ba.content.length,!(ga<4096)&&(ba.start=Qn,es(ga+511>>9)));for(es(En[6]+7>>3);kn.l&511;)kn.write_shift(-4,zr.ENDOFCHAIN);for(Qn=Nn=0,Zn=0;Zn<fn.FileIndex.length;++Zn)ba=fn.FileIndex[Zn],ba.content&&(ga=ba.content.length,!(!ga||ga>=4096)&&(ba.start=Qn,es(ga+63>>6)));for(;kn.l&511;)kn.write_shift(-4,zr.ENDOFCHAIN);for(Nn=0;Nn<En[4]<<2;++Nn){var _s=fn.FullPaths[Nn];if(!_s||_s.length===0){for(Zn=0;Zn<17;++Zn)kn.write_shift(4,0);for(Zn=0;Zn<3;++Zn)kn.write_shift(4,-1);for(Zn=0;Zn<12;++Zn)kn.write_shift(4,0);continue}ba=fn.FileIndex[Nn],Nn===0&&(ba.start=ba.size?ba.start-1:Gr);var Cs=Nn===0&&bn.root||ba.name;if(ga=2*(Cs.length+1),kn.write_shift(64,Cs,"utf16le"),kn.write_shift(2,ga),kn.write_shift(1,ba.type),kn.write_shift(1,ba.color),kn.write_shift(-4,ba.L),kn.write_shift(-4,ba.R),kn.write_shift(-4,ba.C),ba.clsid)kn.write_shift(16,ba.clsid,"hex");else for(Zn=0;Zn<4;++Zn)kn.write_shift(4,0);kn.write_shift(4,ba.state||0),kn.write_shift(4,0),kn.write_shift(4,0),kn.write_shift(4,0),kn.write_shift(4,0),kn.write_shift(4,ba.start),kn.write_shift(4,ba.size),kn.write_shift(4,0)}for(Nn=1;Nn<fn.FileIndex.length;++Nn)if(ba=fn.FileIndex[Nn],ba.size>=4096)if(kn.l=ba.start+1<<9,has_buf&&Buffer.isBuffer(ba.content))ba.content.copy(kn,kn.l,0,ba.size),kn.l+=ba.size+511&-512;else{for(Zn=0;Zn<ba.size;++Zn)kn.write_shift(1,ba.content[Zn]);for(;Zn&511;++Zn)kn.write_shift(1,0)}for(Nn=1;Nn<fn.FileIndex.length;++Nn)if(ba=fn.FileIndex[Nn],ba.size>0&&ba.size<4096)if(has_buf&&Buffer.isBuffer(ba.content))ba.content.copy(kn,kn.l,0,ba.size),kn.l+=ba.size+63&-64;else{for(Zn=0;Zn<ba.size;++Zn)kn.write_shift(1,ba.content[Zn]);for(;Zn&63;++Zn)kn.write_shift(1,0)}if(has_buf)kn.l=kn.length;else for(;kn.l<kn.length;)kn.write_shift(1,0);return kn}function Pr(fn,An){var bn=fn.FullPaths.map(function(Zn){return Zn.toUpperCase()}),En=bn.map(function(Zn){var ga=Zn.split("/");return ga[ga.length-(Zn.slice(-1)=="/"?2:1)]}),kn=!1;An.charCodeAt(0)===47?(kn=!0,An=bn[0].slice(0,-1)+An):kn=An.indexOf("/")!==-1;var Nn=An.toUpperCase(),Qn=kn===!0?bn.indexOf(Nn):En.indexOf(Nn);if(Qn!==-1)return fn.FileIndex[Qn];var es=!Nn.match(chr1);for(Nn=Nn.replace(chr0,""),es&&(Nn=Nn.replace(chr1,"!")),Qn=0;Qn<bn.length;++Qn)if((es?bn[Qn].replace(chr1,"!"):bn[Qn]).replace(chr0,"")==Nn||(es?En[Qn].replace(chr1,"!"):En[Qn]).replace(chr0,"")==Nn)return fn.FileIndex[Qn];return null}var Lr=64,Gr=-2,Kr="d0cf11e0a1b11ae1",nn=[208,207,17,224,161,177,26,225],Qr="00000000000000000000000000000000",zr={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:Gr,FREESECT:-1,HEADER_SIGNATURE:Kr,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Qr,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Vr(fn,An,bn){lr();var En=Or(fn,bn);or.writeFileSync(An,En)}function Jr(fn){for(var An=new Array(fn.length),bn=0;bn<fn.length;++bn)An[bn]=String.fromCharCode(fn[bn]);return An.join("")}function tn(fn,An){var bn=Or(fn,An);switch(An&&An.type||"buffer"){case"file":return lr(),or.writeFileSync(An.filename,bn),bn;case"binary":return typeof bn=="string"?bn:Jr(bn);case"base64":return Base64_encode(typeof bn=="string"?bn:Jr(bn));case"buffer":if(has_buf)return Buffer.isBuffer(bn)?bn:Buffer_from(bn);case"array":return typeof bn=="string"?s2a(bn):bn}return bn}var Yr;function Sr(fn){try{var An=fn.InflateRaw,bn=new An;if(bn._processChunk(new Uint8Array([3,0]),bn._finishFlushFlag),bn.bytesRead)Yr=fn;else throw new Error("zlib does not expose bytesRead")}catch(En){console.error("cannot use native zlib: "+(En.message||En))}}function Rr(fn,An){if(!Yr)return Vs(fn,An);var bn=Yr.InflateRaw,En=new bn,kn=En._processChunk(fn.slice(fn.l),En._finishFlushFlag);return fn.l+=En.bytesRead,kn}function Tr(fn){return Yr?Yr.deflateRawSync(fn):ps(fn)}var Dr=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Mr=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Br=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function qr(fn){var An=(fn<<1|fn<<11)&139536|(fn<<5|fn<<15)&558144;return(An>>16|An>>8|An)&255}for(var Wr=typeof Uint8Array<"u",sn=Wr?new Uint8Array(256):[],un=0;un<256;++un)sn[un]=qr(un);function Nr(fn,An){var bn=sn[fn&255];return An<=8?bn>>>8-An:(bn=bn<<8|sn[fn>>8&255],An<=16?bn>>>16-An:(bn=bn<<8|sn[fn>>16&255],bn>>>24-An))}function Ur(fn,An){var bn=An&7,En=An>>>3;return(fn[En]|(bn<=6?0:fn[En+1]<<8))>>>bn&3}function en(fn,An){var bn=An&7,En=An>>>3;return(fn[En]|(bn<=5?0:fn[En+1]<<8))>>>bn&7}function Zr(fn,An){var bn=An&7,En=An>>>3;return(fn[En]|(bn<=4?0:fn[En+1]<<8))>>>bn&15}function Ir(fn,An){var bn=An&7,En=An>>>3;return(fn[En]|(bn<=3?0:fn[En+1]<<8))>>>bn&31}function on(fn,An){var bn=An&7,En=An>>>3;return(fn[En]|(bn<=1?0:fn[En+1]<<8))>>>bn&127}function vn(fn,An,bn){var En=An&7,kn=An>>>3,Nn=(1<<bn)-1,Qn=fn[kn]>>>En;return bn<8-En||(Qn|=fn[kn+1]<<8-En,bn<16-En)||(Qn|=fn[kn+2]<<16-En,bn<24-En)||(Qn|=fn[kn+3]<<24-En),Qn&Nn}function yn(fn,An,bn){var En=An&7,kn=An>>>3;return En<=5?fn[kn]|=(bn&7)<<En:(fn[kn]|=bn<<En&255,fn[kn+1]=(bn&7)>>8-En),An+3}function Dn(fn,An,bn){var En=An&7,kn=An>>>3;return bn=(bn&1)<<En,fn[kn]|=bn,An+1}function pn(fn,An,bn){var En=An&7,kn=An>>>3;return bn<<=En,fn[kn]|=bn&255,bn>>>=8,fn[kn+1]=bn,An+8}function Sn(fn,An,bn){var En=An&7,kn=An>>>3;return bn<<=En,fn[kn]|=bn&255,bn>>>=8,fn[kn+1]=bn&255,fn[kn+2]=bn>>>8,An+16}function wn(fn,An){var bn=fn.length,En=2*bn>An?2*bn:An+5,kn=0;if(bn>=An)return fn;if(has_buf){var Nn=new_unsafe_buf(En);if(fn.copy)fn.copy(Nn);else for(;kn<fn.length;++kn)Nn[kn]=fn[kn];return Nn}else if(Wr){var Qn=new Uint8Array(En);if(Qn.set)Qn.set(fn);else for(;kn<bn;++kn)Qn[kn]=fn[kn];return Qn}return fn.length=En,fn}function Vn(fn){for(var An=new Array(fn),bn=0;bn<fn;++bn)An[bn]=0;return An}function Yn(fn,An,bn){var En=1,kn=0,Nn=0,Qn=0,es=0,Zn=fn.length,ga=Wr?new Uint16Array(32):Vn(32);for(Nn=0;Nn<32;++Nn)ga[Nn]=0;for(Nn=Zn;Nn<bn;++Nn)fn[Nn]=0;Zn=fn.length;var ba=Wr?new Uint16Array(Zn):Vn(Zn);for(Nn=0;Nn<Zn;++Nn)ga[kn=fn[Nn]]++,En<kn&&(En=kn),ba[Nn]=0;for(ga[0]=0,Nn=1;Nn<=En;++Nn)ga[Nn+16]=es=es+ga[Nn-1]<<1;for(Nn=0;Nn<Zn;++Nn)es=fn[Nn],es!=0&&(ba[Nn]=ga[es+16]++);var _s=0;for(Nn=0;Nn<Zn;++Nn)if(_s=fn[Nn],_s!=0)for(es=Nr(ba[Nn],En)>>En-_s,Qn=(1<<En+4-_s)-1;Qn>=0;--Qn)An[es|Qn<<_s]=_s&15|Nn<<4;return En}var ns=Wr?new Uint16Array(512):Vn(512),ls=Wr?new Uint16Array(32):Vn(32);if(!Wr){for(var vs=0;vs<512;++vs)ns[vs]=0;for(vs=0;vs<32;++vs)ls[vs]=0}(function(){for(var fn=[],An=0;An<32;An++)fn.push(5);Yn(fn,ls,32);var bn=[];for(An=0;An<=143;An++)bn.push(8);for(;An<=255;An++)bn.push(9);for(;An<=279;An++)bn.push(7);for(;An<=287;An++)bn.push(8);Yn(bn,ns,288)})();var Ss=function(){for(var An=Wr?new Uint8Array(32768):[],bn=0,En=0;bn<Br.length-1;++bn)for(;En<Br[bn+1];++En)An[En]=bn;for(;En<32768;++En)An[En]=29;var kn=Wr?new Uint8Array(259):[];for(bn=0,En=0;bn<Mr.length-1;++bn)for(;En<Mr[bn+1];++En)kn[En]=bn;function Nn(es,Zn){for(var ga=0;ga<es.length;){var ba=Math.min(65535,es.length-ga),_s=ga+ba==es.length;for(Zn.write_shift(1,+_s),Zn.write_shift(2,ba),Zn.write_shift(2,~ba&65535);ba-- >0;)Zn[Zn.l++]=es[ga++]}return Zn.l}function Qn(es,Zn){for(var ga=0,ba=0,_s=Wr?new Uint16Array(32768):[];ba<es.length;){var Cs=Math.min(65535,es.length-ba);if(Cs<10){for(ga=yn(Zn,ga,+(ba+Cs==es.length)),ga&7&&(ga+=8-(ga&7)),Zn.l=ga/8|0,Zn.write_shift(2,Cs),Zn.write_shift(2,~Cs&65535);Cs-- >0;)Zn[Zn.l++]=es[ba++];ga=Zn.l*8;continue}ga=yn(Zn,ga,+(ba+Cs==es.length)+2);for(var Ds=0;Cs-- >0;){var Rs=es[ba];Ds=(Ds<<5^Rs)&32767;var Fs=-1,uo=0;if((Fs=_s[Ds])&&(Fs|=ba&-32768,Fs>ba&&(Fs-=32768),Fs<ba))for(;es[Fs+uo]==es[ba+uo]&&uo<250;)++uo;if(uo>2){Rs=kn[uo],Rs<=22?ga=pn(Zn,ga,sn[Rs+1]>>1)-1:(pn(Zn,ga,3),ga+=5,pn(Zn,ga,sn[Rs-23]>>5),ga+=3);var $o=Rs<8?0:Rs-4>>2;$o>0&&(Sn(Zn,ga,uo-Mr[Rs]),ga+=$o),Rs=An[ba-Fs],ga=pn(Zn,ga,sn[Rs]>>3),ga-=3;var Bo=Rs<4?0:Rs-2>>1;Bo>0&&(Sn(Zn,ga,ba-Fs-Br[Rs]),ga+=Bo);for(var Cl=0;Cl<uo;++Cl)_s[Ds]=ba&32767,Ds=(Ds<<5^es[ba])&32767,++ba;Cs-=uo-1}else Rs<=143?Rs=Rs+48:ga=Dn(Zn,ga,1),ga=pn(Zn,ga,sn[Rs]),_s[Ds]=ba&32767,++ba}ga=pn(Zn,ga,0)-1}return Zn.l=(ga+7)/8|0,Zn.l}return function(Zn,ga){return Zn.length<8?Nn(Zn,ga):Qn(Zn,ga)}}();function ps(fn){var An=new_buf(50+Math.floor(fn.length*1.1)),bn=Ss(fn,An);return An.slice(0,bn)}var os=Wr?new Uint16Array(32768):Vn(32768),zs=Wr?new Uint16Array(32768):Vn(32768),Bn=Wr?new Uint16Array(128):Vn(128),_n=1,Ln=1;function cs(fn,An){var bn=Ir(fn,An)+257;An+=5;var En=Ir(fn,An)+1;An+=5;var kn=Zr(fn,An)+4;An+=4;for(var Nn=0,Qn=Wr?new Uint8Array(19):Vn(19),es=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Zn=1,ga=Wr?new Uint8Array(8):Vn(8),ba=Wr?new Uint8Array(8):Vn(8),_s=Qn.length,Cs=0;Cs<kn;++Cs)Qn[Dr[Cs]]=Nn=en(fn,An),Zn<Nn&&(Zn=Nn),ga[Nn]++,An+=3;var Ds=0;for(ga[0]=0,Cs=1;Cs<=Zn;++Cs)ba[Cs]=Ds=Ds+ga[Cs-1]<<1;for(Cs=0;Cs<_s;++Cs)(Ds=Qn[Cs])!=0&&(es[Cs]=ba[Ds]++);var Rs=0;for(Cs=0;Cs<_s;++Cs)if(Rs=Qn[Cs],Rs!=0){Ds=sn[es[Cs]]>>8-Rs;for(var Fs=(1<<7-Rs)-1;Fs>=0;--Fs)Bn[Ds|Fs<<Rs]=Rs&7|Cs<<3}var uo=[];for(Zn=1;uo.length<bn+En;)switch(Ds=Bn[on(fn,An)],An+=Ds&7,Ds>>>=3){case 16:for(Nn=3+Ur(fn,An),An+=2,Ds=uo[uo.length-1];Nn-- >0;)uo.push(Ds);break;case 17:for(Nn=3+en(fn,An),An+=3;Nn-- >0;)uo.push(0);break;case 18:for(Nn=11+on(fn,An),An+=7;Nn-- >0;)uo.push(0);break;default:uo.push(Ds),Zn<Ds&&(Zn=Ds);break}var $o=uo.slice(0,bn),Bo=uo.slice(bn);for(Cs=bn;Cs<286;++Cs)$o[Cs]=0;for(Cs=En;Cs<30;++Cs)Bo[Cs]=0;return _n=Yn($o,os,286),Ln=Yn(Bo,zs,30),An}function Ts(fn,An){if(fn[0]==3&&!(fn[1]&3))return[new_raw_buf(An),2];for(var bn=0,En=0,kn=new_unsafe_buf(An||1<<18),Nn=0,Qn=kn.length>>>0,es=0,Zn=0;!(En&1);){if(En=en(fn,bn),bn+=3,En>>>1)En>>1==1?(es=9,Zn=5):(bn=cs(fn,bn),es=_n,Zn=Ln);else{bn&7&&(bn+=8-(bn&7));var ga=fn[bn>>>3]|fn[(bn>>>3)+1]<<8;if(bn+=32,ga>0)for(!An&&Qn<Nn+ga&&(kn=wn(kn,Nn+ga),Qn=kn.length);ga-- >0;)kn[Nn++]=fn[bn>>>3],bn+=8;continue}for(;;){!An&&Qn<Nn+32767&&(kn=wn(kn,Nn+32767),Qn=kn.length);var ba=vn(fn,bn,es),_s=En>>>1==1?ns[ba]:os[ba];if(bn+=_s&15,_s>>>=4,!(_s>>>8&255))kn[Nn++]=_s;else{if(_s==256)break;_s-=257;var Cs=_s<8?0:_s-4>>2;Cs>5&&(Cs=0);var Ds=Nn+Mr[_s];Cs>0&&(Ds+=vn(fn,bn,Cs),bn+=Cs),ba=vn(fn,bn,Zn),_s=En>>>1==1?ls[ba]:zs[ba],bn+=_s&15,_s>>>=4;var Rs=_s<4?0:_s-2>>1,Fs=Br[_s];for(Rs>0&&(Fs+=vn(fn,bn,Rs),bn+=Rs),!An&&Qn<Ds&&(kn=wn(kn,Ds+100),Qn=kn.length);Nn<Ds;)kn[Nn]=kn[Nn-Fs],++Nn}}}return An?[kn,bn+7>>>3]:[kn.slice(0,Nn),bn+7>>>3]}function Vs(fn,An){var bn=fn.slice(fn.l||0),En=Ts(bn,An);return fn.l+=En[1],En[0]}function $s(fn,An){if(fn)typeof console<"u"&&console.error(An);else throw new Error(An)}function to(fn,An){var bn=fn;prep_blob(bn,0);var En=[],kn=[],Nn={FileIndex:En,FullPaths:kn};jr(Nn,{root:An.root});for(var Qn=bn.length-4;(bn[Qn]!=80||bn[Qn+1]!=75||bn[Qn+2]!=5||bn[Qn+3]!=6)&&Qn>=0;)--Qn;bn.l=Qn+4,bn.l+=4;var es=bn.read_shift(2);bn.l+=6;var Zn=bn.read_shift(4);for(bn.l=Zn,Qn=0;Qn<es;++Qn){bn.l+=20;var ga=bn.read_shift(4),ba=bn.read_shift(4),_s=bn.read_shift(2),Cs=bn.read_shift(2),Ds=bn.read_shift(2);bn.l+=8;var Rs=bn.read_shift(4),Fs=ir(bn.slice(bn.l+_s,bn.l+_s+Cs));bn.l+=_s+Cs+Ds;var uo=bn.l;bn.l=Rs+4,xl(bn,ga,ba,Nn,Fs),bn.l=uo}return Nn}function xl(fn,An,bn,En,kn){fn.l+=2;var Nn=fn.read_shift(2),Qn=fn.read_shift(2),es=sr(fn);if(Nn&8257)throw new Error("Unsupported ZIP encryption");for(var Zn=fn.read_shift(4),ga=fn.read_shift(4),ba=fn.read_shift(4),_s=fn.read_shift(2),Cs=fn.read_shift(2),Ds="",Rs=0;Rs<_s;++Rs)Ds+=String.fromCharCode(fn[fn.l++]);if(Cs){var Fs=ir(fn.slice(fn.l,fn.l+Cs));(Fs[21589]||{}).mt&&(es=Fs[21589].mt),((kn||{})[21589]||{}).mt&&(es=kn[21589].mt)}fn.l+=Cs;var uo=fn.slice(fn.l,fn.l+ga);switch(Qn){case 8:uo=Rr(fn,ba);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Qn)}var $o=!1;Nn&8&&(Zn=fn.read_shift(4),Zn==134695760&&(Zn=fn.read_shift(4),$o=!0),ga=fn.read_shift(4),ba=fn.read_shift(4)),ga!=An&&$s($o,"Bad compressed size: "+An+" != "+ga),ba!=bn&&$s($o,"Bad uncompressed size: "+bn+" != "+ba),Al(En,Ds,uo,{unsafe:!0,mt:es})}function Pl(fn,An){var bn=An||{},En=[],kn=[],Nn=new_buf(1),Qn=bn.compression?8:0,es=0,Zn=0,ga=0,ba=0,_s=0,Cs=fn.FullPaths[0],Ds=Cs,Rs=fn.FileIndex[0],Fs=[],uo=0;for(Zn=1;Zn<fn.FullPaths.length;++Zn)if(Ds=fn.FullPaths[Zn].slice(Cs.length),Rs=fn.FileIndex[Zn],!(!Rs.size||!Rs.content||Ds=="Sh33tJ5")){var $o=ba,Bo=new_buf(Ds.length);for(ga=0;ga<Ds.length;++ga)Bo.write_shift(1,Ds.charCodeAt(ga)&127);Bo=Bo.slice(0,Bo.l),Fs[_s]=CRC32.buf(Rs.content,0);var Cl=Rs.content;Qn==8&&(Cl=Tr(Cl)),Nn=new_buf(30),Nn.write_shift(4,67324752),Nn.write_shift(2,20),Nn.write_shift(2,es),Nn.write_shift(2,Qn),Rs.mt?ar(Nn,Rs.mt):Nn.write_shift(4,0),Nn.write_shift(-4,Fs[_s]),Nn.write_shift(4,Cl.length),Nn.write_shift(4,Rs.content.length),Nn.write_shift(2,Bo.length),Nn.write_shift(2,0),ba+=Nn.length,En.push(Nn),ba+=Bo.length,En.push(Bo),ba+=Cl.length,En.push(Cl),Nn=new_buf(46),Nn.write_shift(4,33639248),Nn.write_shift(2,0),Nn.write_shift(2,20),Nn.write_shift(2,es),Nn.write_shift(2,Qn),Nn.write_shift(4,0),Nn.write_shift(-4,Fs[_s]),Nn.write_shift(4,Cl.length),Nn.write_shift(4,Rs.content.length),Nn.write_shift(2,Bo.length),Nn.write_shift(2,0),Nn.write_shift(2,0),Nn.write_shift(2,0),Nn.write_shift(2,0),Nn.write_shift(4,0),Nn.write_shift(4,$o),uo+=Nn.l,kn.push(Nn),uo+=Bo.length,kn.push(Bo),++_s}return Nn=new_buf(22),Nn.write_shift(4,101010256),Nn.write_shift(2,0),Nn.write_shift(2,0),Nn.write_shift(2,_s),Nn.write_shift(2,_s),Nn.write_shift(4,uo),Nn.write_shift(4,ba),Nn.write_shift(2,0),bconcat([bconcat(En),bconcat(kn),Nn])}var go={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function oo(fn,An){if(fn.ctype)return fn.ctype;var bn=fn.name||"",En=bn.match(/\.([^\.]+)$/);return En&&go[En[1]]||An&&(En=(bn=An).match(/[\.\\]([^\.\\])+$/),En&&go[En[1]])?go[En[1]]:"application/octet-stream"}function xo(fn){for(var An=Base64_encode(fn),bn=[],En=0;En<An.length;En+=76)bn.push(An.slice(En,En+76));return bn.join(`\r
`)+`\r
`}function Gl(fn){var An=fn.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ga){var ba=ga.charCodeAt(0).toString(16).toUpperCase();return"="+(ba.length==1?"0"+ba:ba)});An=An.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),An.charAt(0)==`
`&&(An="=0D"+An.slice(1)),An=An.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var bn=[],En=An.split(`\r
`),kn=0;kn<En.length;++kn){var Nn=En[kn];if(Nn.length==0){bn.push("");continue}for(var Qn=0;Qn<Nn.length;){var es=76,Zn=Nn.slice(Qn,Qn+es);Zn.charAt(es-1)=="="?es--:Zn.charAt(es-2)=="="?es-=2:Zn.charAt(es-3)=="="&&(es-=3),Zn=Nn.slice(Qn,Qn+es),Qn+=es,Qn<Nn.length&&(Zn+="="),bn.push(Zn)}}return bn.join(`\r
`)}function Eo(fn){for(var An=[],bn=0;bn<fn.length;++bn){for(var En=fn[bn];bn<=fn.length&&En.charAt(En.length-1)=="=";)En=En.slice(0,En.length-1)+fn[++bn];An.push(En)}for(var kn=0;kn<An.length;++kn)An[kn]=An[kn].replace(/[=][0-9A-Fa-f]{2}/g,function(Nn){return String.fromCharCode(parseInt(Nn.slice(1),16))});return s2a(An.join(`\r
`))}function $l(fn,An,bn){for(var En="",kn="",Nn="",Qn,es=0;es<10;++es){var Zn=An[es];if(!Zn||Zn.match(/^\s*$/))break;var ga=Zn.match(/^(.*?):\s*([^\s].*)$/);if(ga)switch(ga[1].toLowerCase()){case"content-location":En=ga[2].trim();break;case"content-type":Nn=ga[2].trim();break;case"content-transfer-encoding":kn=ga[2].trim();break}}switch(++es,kn.toLowerCase()){case"base64":Qn=s2a(Base64_decode(An.slice(es).join("")));break;case"quoted-printable":Qn=Eo(An.slice(es));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+kn)}var ba=Al(fn,En.slice(bn.length),Qn,{unsafe:!0});Nn&&(ba.ctype=Nn)}function Il(fn,An){if(Jr(fn.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var bn=An&&An.root||"",En=(has_buf&&Buffer.isBuffer(fn)?fn.toString("binary"):Jr(fn)).split(`\r
`),kn=0,Nn="";for(kn=0;kn<En.length;++kn)if(Nn=En[kn],!!/^Content-Location:/i.test(Nn)&&(Nn=Nn.slice(Nn.indexOf("file")),bn||(bn=Nn.slice(0,Nn.lastIndexOf("/")+1)),Nn.slice(0,bn.length)!=bn))for(;bn.length>0&&(bn=bn.slice(0,bn.length-1),bn=bn.slice(0,bn.lastIndexOf("/")+1),Nn.slice(0,bn.length)!=bn););var Qn=(En[1]||"").match(/boundary="(.*?)"/);if(!Qn)throw new Error("MAD cannot find boundary");var es="--"+(Qn[1]||""),Zn=[],ga=[],ba={FileIndex:Zn,FullPaths:ga};jr(ba);var _s,Cs=0;for(kn=0;kn<En.length;++kn){var Ds=En[kn];Ds!==es&&Ds!==es+"--"||(Cs++&&$l(ba,En.slice(_s,kn),bn),_s=kn)}return ba}function Qs(fn,An){var bn=An||{},En=bn.boundary||"SheetJS";En="------="+En;for(var kn=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+En.slice(2)+'"',"","",""],Nn=fn.FullPaths[0],Qn=Nn,es=fn.FileIndex[0],Zn=1;Zn<fn.FullPaths.length;++Zn)if(Qn=fn.FullPaths[Zn].slice(Nn.length),es=fn.FileIndex[Zn],!(!es.size||!es.content||Qn=="Sh33tJ5")){Qn=Qn.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(uo){return"_x"+uo.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(uo){return"_u"+uo.charCodeAt(0).toString(16)+"_"});for(var ga=es.content,ba=has_buf&&Buffer.isBuffer(ga)?ga.toString("binary"):Jr(ga),_s=0,Cs=Math.min(1024,ba.length),Ds=0,Rs=0;Rs<=Cs;++Rs)(Ds=ba.charCodeAt(Rs))>=32&&Ds<128&&++_s;var Fs=_s>=Cs*4/5;kn.push(En),kn.push("Content-Location: "+(bn.root||"file:///C:/SheetJS/")+Qn),kn.push("Content-Transfer-Encoding: "+(Fs?"quoted-printable":"base64")),kn.push("Content-Type: "+oo(es,Qn)),kn.push(""),kn.push(Fs?Gl(ba):xo(ba))}return kn.push(En+`--\r
`),kn.join(`\r
`)}function Ml(fn){var An={};return jr(An,fn),An}function Al(fn,An,bn,En){var kn=En&&En.unsafe;kn||jr(fn);var Nn=!kn&&CFB.find(fn,An);if(!Nn){var Qn=fn.FullPaths[0];An.slice(0,Qn.length)==Qn?Qn=An:(Qn.slice(-1)!="/"&&(Qn+="/"),Qn=(Qn+An).replace("//","/")),Nn={name:nr(An),type:2},fn.FileIndex.push(Nn),fn.FullPaths.push(Qn),kn||CFB.utils.cfb_gc(fn)}return Nn.content=bn,Nn.size=bn?bn.length:0,En&&(En.CLSID&&(Nn.clsid=En.CLSID),En.mt&&(Nn.mt=En.mt),En.ct&&(Nn.ct=En.ct)),Nn}function Oo(fn,An){jr(fn);var bn=CFB.find(fn,An);if(bn){for(var En=0;En<fn.FileIndex.length;++En)if(fn.FileIndex[En]==bn)return fn.FileIndex.splice(En,1),fn.FullPaths.splice(En,1),!0}return!1}function zo(fn,An,bn){jr(fn);var En=CFB.find(fn,An);if(En){for(var kn=0;kn<fn.FileIndex.length;++kn)if(fn.FileIndex[kn]==En)return fn.FileIndex[kn].name=nr(bn),fn.FullPaths[kn]=bn,!0}return!1}function Xo(fn){Cr(fn,!0)}return er.find=Pr,er.read=Er,er.parse=cr,er.write=tn,er.writeFile=Vr,er.utils={cfb_new:Ml,cfb_add:Al,cfb_del:Oo,cfb_mov:zo,cfb_gc:Xo,ReadShift,CheckField,prep_blob,bconcat,use_zlib:Sr,_deflateRaw:ps,_inflateRaw:Vs,consts:zr},er}();function blobify(St){return typeof St=="string"?s2ab(St):Array.isArray(St)?a2u(St):St}function write_dl(St,er,tr){if(typeof Deno<"u"){if(tr&&typeof er=="string")switch(tr){case"utf8":er=new TextEncoder(tr).encode(er);break;case"binary":er=s2ab(er);break;default:throw new Error("Unsupported encoding "+tr)}return Deno.writeFileSync(St,er)}var rr=tr=="utf8"?utf8write(er):er;if(typeof IE_SaveFile<"u")return IE_SaveFile(rr,St);if(typeof Blob<"u"){var nr=new Blob([blobify(rr)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(nr,St);if(typeof saveAs<"u")return saveAs(nr,St);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var ar=URL.createObjectURL(nr);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(ar)},6e4),chrome.downloads.download({url:ar,filename:St,saveAs:!0});var sr=document.createElement("a");if(sr.download!=null)return sr.download=St,sr.href=ar,document.body.appendChild(sr),sr.click(),document.body.removeChild(sr),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(ar)},6e4),ar}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var ir=File(St);return ir.open("w"),ir.encoding="binary",Array.isArray(er)&&(er=a2s(er)),ir.write(er),ir.close(),er}catch(or){if(!or.message||!or.message.match(/onstruct/))throw or}throw new Error("cannot save file "+St)}function read_binary(St){if(typeof Deno<"u")return Deno.readFileSync(St);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var er=File(St);er.open("r"),er.encoding="binary";var tr=er.read();return er.close(),tr}catch(rr){if(!rr.message||!rr.message.match(/onstruct/))throw rr}throw new Error("Cannot access file "+St)}function keys(St){for(var er=Object.keys(St),tr=[],rr=0;rr<er.length;++rr)Object.prototype.hasOwnProperty.call(St,er[rr])&&tr.push(er[rr]);return tr}function evert_key(St,er){for(var tr=[],rr=keys(St),nr=0;nr!==rr.length;++nr)tr[St[rr[nr]][er]]==null&&(tr[St[rr[nr]][er]]=rr[nr]);return tr}function evert(St){for(var er=[],tr=keys(St),rr=0;rr!==tr.length;++rr)er[St[tr[rr]]]=tr[rr];return er}function evert_num(St){for(var er=[],tr=keys(St),rr=0;rr!==tr.length;++rr)er[St[tr[rr]]]=parseInt(tr[rr],10);return er}function evert_arr(St){for(var er=[],tr=keys(St),rr=0;rr!==tr.length;++rr)er[St[tr[rr]]]==null&&(er[St[tr[rr]]]=[]),er[St[tr[rr]]].push(tr[rr]);return er}var basedate=new Date(1899,11,30,0,0,0);function datenum(St,er){var tr=St.getTime(),rr=basedate.getTime()+(St.getTimezoneOffset()-basedate.getTimezoneOffset())*6e4;return(tr-rr)/(24*60*60*1e3)}var refdate=new Date,dnthresh=basedate.getTime()+(refdate.getTimezoneOffset()-basedate.getTimezoneOffset())*6e4,refoffset=refdate.getTimezoneOffset();function numdate(St){var er=new Date;return er.setTime(St*24*60*60*1e3+dnthresh),er.getTimezoneOffset()!==refoffset&&er.setTime(er.getTime()+(er.getTimezoneOffset()-refoffset)*6e4),er}function parse_isodur(St){var er=0,tr=0,rr=!1,nr=St.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!nr)throw new Error("|"+St+"| is not an ISO8601 Duration");for(var ar=1;ar!=nr.length;++ar)if(nr[ar]){switch(tr=1,ar>3&&(rr=!0),nr[ar].slice(nr[ar].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+nr[ar].slice(nr[ar].length-1));case"D":tr*=24;case"H":tr*=60;case"M":if(rr)tr*=60;else throw new Error("Unsupported ISO Duration Field: M")}er+=tr*parseInt(nr[ar],10)}return er}var good_pd_date_1=new Date("2017-02-19T19:06:09.000Z"),good_pd_date=isNaN(good_pd_date_1.getFullYear())?new Date("2/19/17"):good_pd_date_1,good_pd=good_pd_date.getFullYear()==2017;function parseDate(St,er){var tr=new Date(St);if(good_pd)return er>0?tr.setTime(tr.getTime()+tr.getTimezoneOffset()*60*1e3):er<0&&tr.setTime(tr.getTime()-tr.getTimezoneOffset()*60*1e3),tr;if(St instanceof Date)return St;if(good_pd_date.getFullYear()==1917&&!isNaN(tr.getFullYear())){var rr=tr.getFullYear();return St.indexOf(""+rr)>-1||tr.setFullYear(tr.getFullYear()+100),tr}var nr=St.match(/\d+/g)||["2017","2","19","0","0","0"],ar=new Date(+nr[0],+nr[1]-1,+nr[2],+nr[3]||0,+nr[4]||0,+nr[5]||0);return St.indexOf("Z")>-1&&(ar=new Date(ar.getTime()-ar.getTimezoneOffset()*60*1e3)),ar}function cc2str(St,er){if(has_buf&&Buffer.isBuffer(St)){if(er){if(St[0]==255&&St[1]==254)return utf8write(St.slice(2).toString("utf16le"));if(St[1]==254&&St[2]==255)return utf8write(utf16beread(St.slice(2).toString("binary")))}return St.toString("binary")}if(typeof TextDecoder<"u")try{if(er){if(St[0]==255&&St[1]==254)return utf8write(new TextDecoder("utf-16le").decode(St.slice(2)));if(St[0]==254&&St[1]==255)return utf8write(new TextDecoder("utf-16be").decode(St.slice(2)))}var tr={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(St)&&(St=new Uint8Array(St)),new TextDecoder("latin1").decode(St).replace(/[]/g,function(ar){return tr[ar]||ar})}catch{}for(var rr=[],nr=0;nr!=St.length;++nr)rr.push(String.fromCharCode(St[nr]));return rr.join("")}function dup(St){if(typeof JSON<"u"&&!Array.isArray(St))return JSON.parse(JSON.stringify(St));if(typeof St!="object"||St==null)return St;if(St instanceof Date)return new Date(St.getTime());var er={};for(var tr in St)Object.prototype.hasOwnProperty.call(St,tr)&&(er[tr]=dup(St[tr]));return er}function fill(St,er){for(var tr="";tr.length<er;)tr+=St;return tr}function fuzzynum(St){var er=Number(St);if(!isNaN(er))return isFinite(er)?er:NaN;if(!/\d/.test(St))return er;var tr=1,rr=St.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return tr*=100,""});return!isNaN(er=Number(rr))||(rr=rr.replace(/[(](.*)[)]/,function(nr,ar){return tr=-tr,ar}),!isNaN(er=Number(rr)))?er/tr:er}var lower_months=["january","february","march","april","may","june","july","august","september","october","november","december"];function fuzzydate(St){var er=new Date(St),tr=new Date(NaN),rr=er.getYear(),nr=er.getMonth(),ar=er.getDate();if(isNaN(ar))return tr;var sr=St.toLowerCase();if(sr.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(sr=sr.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),sr.length>3&&lower_months.indexOf(sr)==-1)return tr}else if(sr.match(/[a-z]/))return tr;return rr<0||rr>8099?tr:(nr>0||ar>1)&&rr!=101?er:St.match(/[^-0-9:,\/\\]/)?tr:er}var split_regex=function(){var St="abacaba".split(/(:?b)/i).length==5;return function(tr,rr,nr){if(St||typeof rr=="string")return tr.split(rr);for(var ar=tr.split(rr),sr=[ar[0]],ir=1;ir<ar.length;++ir)sr.push(nr),sr.push(ar[ir]);return sr}}();function getdatastr(St){return St?St.content&&St.type?cc2str(St.content,!0):St.data?debom(St.data):St.asNodeBuffer&&has_buf?debom(St.asNodeBuffer().toString("binary")):St.asBinary?debom(St.asBinary()):St._data&&St._data.getContent?debom(cc2str(Array.prototype.slice.call(St._data.getContent(),0))):null:null}function getdatabin(St){if(!St)return null;if(St.data)return char_codes(St.data);if(St.asNodeBuffer&&has_buf)return St.asNodeBuffer();if(St._data&&St._data.getContent){var er=St._data.getContent();return typeof er=="string"?char_codes(er):Array.prototype.slice.call(er)}return St.content&&St.type?St.content:null}function getdata(St){return St&&St.name.slice(-4)===".bin"?getdatabin(St):getdatastr(St)}function safegetzipfile(St,er){for(var tr=St.FullPaths||keys(St.files),rr=er.toLowerCase().replace(/[\/]/g,"\\"),nr=rr.replace(/\\/g,"/"),ar=0;ar<tr.length;++ar){var sr=tr[ar].replace(/^Root Entry[\/]/,"").toLowerCase();if(rr==sr||nr==sr)return St.files?St.files[tr[ar]]:St.FileIndex[ar]}return null}function getzipfile(St,er){var tr=safegetzipfile(St,er);if(tr==null)throw new Error("Cannot find file "+er+" in zip");return tr}function getzipdata(St,er,tr){if(!tr)return getdata(getzipfile(St,er));if(!er)return null;try{return getzipdata(St,er)}catch{return null}}function getzipstr(St,er,tr){if(!tr)return getdatastr(getzipfile(St,er));if(!er)return null;try{return getzipstr(St,er)}catch{return null}}function getzipbin(St,er,tr){return getdatabin(getzipfile(St,er))}function zipentries(St){for(var er=St.FullPaths||keys(St.files),tr=[],rr=0;rr<er.length;++rr)er[rr].slice(-1)!="/"&&tr.push(er[rr].replace(/^Root Entry[\/]/,""));return tr.sort()}function zip_add_file(St,er,tr){if(St.FullPaths){if(typeof tr=="string"){var rr;return has_buf?rr=Buffer_from(tr):rr=utf8decode(tr),CFB.utils.cfb_add(St,er,rr)}CFB.utils.cfb_add(St,er,tr)}else St.file(er,tr)}function zip_new(){return CFB.utils.cfb_new()}function zip_read(St,er){switch(er.type){case"base64":return CFB.read(St,{type:"base64"});case"binary":return CFB.read(St,{type:"binary"});case"buffer":case"array":return CFB.read(St,{type:"buffer"})}throw new Error("Unrecognized type "+er.type)}function resolve_path(St,er){if(St.charAt(0)=="/")return St.slice(1);var tr=er.split("/");er.slice(-1)!="/"&&tr.pop();for(var rr=St.split("/");rr.length!==0;){var nr=rr.shift();nr===".."?tr.pop():nr!=="."&&tr.push(nr)}return tr.join("/")}var XML_HEADER=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,attregexg=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,tagregex1=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,tagregex2=/<[^>]*>/g,tagregex=XML_HEADER.match(tagregex1)?tagregex1:tagregex2,nsregex=/<\w*:/,nsregex2=/<(\/?)\w+:/;function parsexmltag(St,er,tr){for(var rr={},nr=0,ar=0;nr!==St.length&&!((ar=St.charCodeAt(nr))===32||ar===10||ar===13);++nr);if(er||(rr[0]=St.slice(0,nr)),nr===St.length)return rr;var sr=St.match(attregexg),ir=0,or="",lr=0,cr="",ur="",dr=1;if(sr)for(lr=0;lr!=sr.length;++lr){for(ur=sr[lr],ar=0;ar!=ur.length&&ur.charCodeAt(ar)!==61;++ar);for(cr=ur.slice(0,ar).trim();ur.charCodeAt(ar+1)==32;)++ar;for(dr=(nr=ur.charCodeAt(ar+1))==34||nr==39?1:0,or=ur.slice(ar+1+dr,ur.length-dr),ir=0;ir!=cr.length&&cr.charCodeAt(ir)!==58;++ir);if(ir===cr.length)cr.indexOf("_")>0&&(cr=cr.slice(0,cr.indexOf("_"))),rr[cr]=or,rr[cr.toLowerCase()]=or;else{var fr=(ir===5&&cr.slice(0,5)==="xmlns"?"xmlns":"")+cr.slice(ir+1);if(rr[fr]&&cr.slice(ir-3,ir)=="ext")continue;rr[fr]=or,rr[fr.toLowerCase()]=or}}return rr}function strip_ns(St){return St.replace(nsregex2,"<$1")}var encodings={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},rencoding=evert(encodings),unescapexml=function(){var St=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,er=/_x([\da-fA-F]{4})_/ig;return function tr(rr){var nr=rr+"",ar=nr.indexOf("<![CDATA[");if(ar==-1)return nr.replace(St,function(ir,or){return encodings[ir]||String.fromCharCode(parseInt(or,ir.indexOf("x")>-1?16:10))||ir}).replace(er,function(ir,or){return String.fromCharCode(parseInt(or,16))});var sr=nr.indexOf("]]>");return tr(nr.slice(0,ar))+nr.slice(ar+9,sr)+tr(nr.slice(sr+3))}}(),decregex=/[&<>'"]/g,charegex=/[\u0000-\u0008\u000b-\u001f]/g;function escapexml(St){var er=St+"";return er.replace(decregex,function(tr){return rencoding[tr]}).replace(charegex,function(tr){return"_x"+("000"+tr.charCodeAt(0).toString(16)).slice(-4)+"_"})}function escapexmltag(St){return escapexml(St).replace(/ /g,"_x0020_")}var htmlcharegex=/[\u0000-\u001f]/g;function escapehtml(St){var er=St+"";return er.replace(decregex,function(tr){return rencoding[tr]}).replace(/\n/g,"<br/>").replace(htmlcharegex,function(tr){return"&#x"+("000"+tr.charCodeAt(0).toString(16)).slice(-4)+";"})}function escapexlml(St){var er=St+"";return er.replace(decregex,function(tr){return rencoding[tr]}).replace(htmlcharegex,function(tr){return"&#x"+tr.charCodeAt(0).toString(16).toUpperCase()+";"})}var xlml_fixstr=function(){var St=/&#(\d+);/g;function er(tr,rr){return String.fromCharCode(parseInt(rr,10))}return function(rr){return rr.replace(St,er)}}();function xlml_unfixstr(St){return St.replace(/(\r\n|[\r\n])/g,"&#10;")}function parsexmlbool(St){switch(St){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function utf8reada(St){for(var er="",tr=0,rr=0,nr=0,ar=0,sr=0,ir=0;tr<St.length;){if(rr=St.charCodeAt(tr++),rr<128){er+=String.fromCharCode(rr);continue}if(nr=St.charCodeAt(tr++),rr>191&&rr<224){sr=(rr&31)<<6,sr|=nr&63,er+=String.fromCharCode(sr);continue}if(ar=St.charCodeAt(tr++),rr<240){er+=String.fromCharCode((rr&15)<<12|(nr&63)<<6|ar&63);continue}sr=St.charCodeAt(tr++),ir=((rr&7)<<18|(nr&63)<<12|(ar&63)<<6|sr&63)-65536,er+=String.fromCharCode(55296+(ir>>>10&1023)),er+=String.fromCharCode(56320+(ir&1023))}return er}function utf8readb(St){var er=new_raw_buf(2*St.length),tr,rr,nr=1,ar=0,sr=0,ir;for(rr=0;rr<St.length;rr+=nr)nr=1,(ir=St.charCodeAt(rr))<128?tr=ir:ir<224?(tr=(ir&31)*64+(St.charCodeAt(rr+1)&63),nr=2):ir<240?(tr=(ir&15)*4096+(St.charCodeAt(rr+1)&63)*64+(St.charCodeAt(rr+2)&63),nr=3):(nr=4,tr=(ir&7)*262144+(St.charCodeAt(rr+1)&63)*4096+(St.charCodeAt(rr+2)&63)*64+(St.charCodeAt(rr+3)&63),tr-=65536,sr=55296+(tr>>>10&1023),tr=56320+(tr&1023)),sr!==0&&(er[ar++]=sr&255,er[ar++]=sr>>>8,sr=0),er[ar++]=tr%256,er[ar++]=tr>>>8;return er.slice(0,ar).toString("ucs2")}function utf8readc(St){return Buffer_from(St,"binary").toString("utf8")}var utf8corpus="foo bar baz",utf8read=has_buf&&(utf8readc(utf8corpus)==utf8reada(utf8corpus)&&utf8readc||utf8readb(utf8corpus)==utf8reada(utf8corpus)&&utf8readb)||utf8reada,utf8write=has_buf?function(St){return Buffer_from(St,"utf8").toString("binary")}:function(St){for(var er=[],tr=0,rr=0,nr=0;tr<St.length;)switch(rr=St.charCodeAt(tr++),!0){case rr<128:er.push(String.fromCharCode(rr));break;case rr<2048:er.push(String.fromCharCode(192+(rr>>6))),er.push(String.fromCharCode(128+(rr&63)));break;case(rr>=55296&&rr<57344):rr-=55296,nr=St.charCodeAt(tr++)-56320+(rr<<10),er.push(String.fromCharCode(240+(nr>>18&7))),er.push(String.fromCharCode(144+(nr>>12&63))),er.push(String.fromCharCode(128+(nr>>6&63))),er.push(String.fromCharCode(128+(nr&63)));break;default:er.push(String.fromCharCode(224+(rr>>12))),er.push(String.fromCharCode(128+(rr>>6&63))),er.push(String.fromCharCode(128+(rr&63)))}return er.join("")},matchtag=function(){var St={};return function(tr,rr){var nr=tr+"|"+(rr||"");return St[nr]?St[nr]:St[nr]=new RegExp("<(?:\\w+:)?"+tr+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+tr+">",rr||"")}}(),htmldecode=function(){var St=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(er){return[new RegExp("&"+er[0]+";","ig"),er[1]]});return function(tr){for(var rr=tr.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),nr=0;nr<St.length;++nr)rr=rr.replace(St[nr][0],St[nr][1]);return rr}}(),vtregex=function(){var St={};return function(tr){return St[tr]!==void 0?St[tr]:St[tr]=new RegExp("<(?:vt:)?"+tr+">([\\s\\S]*?)</(?:vt:)?"+tr+">","g")}}(),vtvregex=/<\/?(?:vt:)?variant>/g,vtmregex=/<(?:vt:)([^>]*)>([\s\S]*)</;function parseVector(St,er){var tr=parsexmltag(St),rr=St.match(vtregex(tr.baseType))||[],nr=[];if(rr.length!=tr.size){if(er.WTF)throw new Error("unexpected vector length "+rr.length+" != "+tr.size);return nr}return rr.forEach(function(ar){var sr=ar.replace(vtvregex,"").match(vtmregex);sr&&nr.push({v:utf8read(sr[2]),t:sr[1]})}),nr}var wtregex=/(^\s|\s$|\n)/;function writetag(St,er){return"<"+St+(er.match(wtregex)?' xml:space="preserve"':"")+">"+er+"</"+St+">"}function wxt_helper(St){return keys(St).map(function(er){return" "+er+'="'+St[er]+'"'}).join("")}function writextag(St,er,tr){return"<"+St+(tr!=null?wxt_helper(tr):"")+(er!=null?(er.match(wtregex)?' xml:space="preserve"':"")+">"+er+"</"+St:"/")+">"}function write_w3cdtf(St,er){try{return St.toISOString().replace(/\.\d*/,"")}catch(tr){if(er)throw tr}return""}function write_vt(St,er){switch(typeof St){case"string":var tr=writextag("vt:lpwstr",escapexml(St));return tr=tr.replace(/&quot;/g,"_x0022_"),tr;case"number":return writextag((St|0)==St?"vt:i4":"vt:r8",escapexml(String(St)));case"boolean":return writextag("vt:bool",St?"true":"false")}if(St instanceof Date)return writextag("vt:filetime",write_w3cdtf(St));throw new Error("Unable to serialize "+St)}function xlml_normalize(St){if(has_buf&&Buffer.isBuffer(St))return St.toString("utf8");if(typeof St=="string")return St;if(typeof Uint8Array<"u"&&St instanceof Uint8Array)return utf8read(a2s(ab2a(St)));throw new Error("Bad input format: expected Buffer or string")}var xlmlregex=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,XMLNS={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},XMLNS_main=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],XLMLNS={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function read_double_le(St,er){for(var tr=1-2*(St[er+7]>>>7),rr=((St[er+7]&127)<<4)+(St[er+6]>>>4&15),nr=St[er+6]&15,ar=5;ar>=0;--ar)nr=nr*256+St[er+ar];return rr==2047?nr==0?tr*(1/0):NaN:(rr==0?rr=-1022:(rr-=1023,nr+=Math.pow(2,52)),tr*Math.pow(2,rr-52)*nr)}function write_double_le(St,er,tr){var rr=(er<0||1/er==-1/0?1:0)<<7,nr=0,ar=0,sr=rr?-er:er;isFinite(sr)?sr==0?nr=ar=0:(nr=Math.floor(Math.log(sr)/Math.LN2),ar=sr*Math.pow(2,52-nr),nr<=-1023&&(!isFinite(ar)||ar<Math.pow(2,52))?nr=-1022:(ar-=Math.pow(2,52),nr+=1023)):(nr=2047,ar=isNaN(er)?26985:0);for(var ir=0;ir<=5;++ir,ar/=256)St[tr+ir]=ar&255;St[tr+6]=(nr&15)<<4|ar&15,St[tr+7]=nr>>4|rr}var ___toBuffer=function(St){for(var er=[],tr=10240,rr=0;rr<St[0].length;++rr)if(St[0][rr])for(var nr=0,ar=St[0][rr].length;nr<ar;nr+=tr)er.push.apply(er,St[0][rr].slice(nr,nr+tr));return er},__toBuffer=has_buf?function(St){return St[0].length>0&&Buffer.isBuffer(St[0][0])?Buffer.concat(St[0].map(function(er){return Buffer.isBuffer(er)?er:Buffer_from(er)})):___toBuffer(St)}:___toBuffer,___utf16le=function(St,er,tr){for(var rr=[],nr=er;nr<tr;nr+=2)rr.push(String.fromCharCode(__readUInt16LE(St,nr)));return rr.join("").replace(chr0,"")},__utf16le=has_buf?function(St,er,tr){return Buffer.isBuffer(St)?St.toString("utf16le",er,tr).replace(chr0,""):___utf16le(St,er,tr)}:___utf16le,___hexlify=function(St,er,tr){for(var rr=[],nr=er;nr<er+tr;++nr)rr.push(("0"+St[nr].toString(16)).slice(-2));return rr.join("")},__hexlify=has_buf?function(St,er,tr){return Buffer.isBuffer(St)?St.toString("hex",er,er+tr):___hexlify(St,er,tr)}:___hexlify,___utf8=function(St,er,tr){for(var rr=[],nr=er;nr<tr;nr++)rr.push(String.fromCharCode(__readUInt8(St,nr)));return rr.join("")},__utf8=has_buf?function(er,tr,rr){return Buffer.isBuffer(er)?er.toString("utf8",tr,rr):___utf8(er,tr,rr)}:___utf8,___lpstr=function(St,er){var tr=__readUInt32LE(St,er);return tr>0?__utf8(St,er+4,er+4+tr-1):""},__lpstr=___lpstr,___cpstr=function(St,er){var tr=__readUInt32LE(St,er);return tr>0?__utf8(St,er+4,er+4+tr-1):""},__cpstr=___cpstr,___lpwstr=function(St,er){var tr=2*__readUInt32LE(St,er);return tr>0?__utf8(St,er+4,er+4+tr-1):""},__lpwstr=___lpwstr,___lpp4=function(er,tr){var rr=__readUInt32LE(er,tr);return rr>0?__utf16le(er,tr+4,tr+4+rr):""},__lpp4=___lpp4,___8lpp4=function(St,er){var tr=__readUInt32LE(St,er);return tr>0?__utf8(St,er+4,er+4+tr):""},__8lpp4=___8lpp4,___double=function(St,er){return read_double_le(St,er)},__double=___double,is_buf=function(er){return Array.isArray(er)||typeof Uint8Array<"u"&&er instanceof Uint8Array};has_buf&&(__lpstr=function(er,tr){if(!Buffer.isBuffer(er))return ___lpstr(er,tr);var rr=er.readUInt32LE(tr);return rr>0?er.toString("utf8",tr+4,tr+4+rr-1):""},__cpstr=function(er,tr){if(!Buffer.isBuffer(er))return ___cpstr(er,tr);var rr=er.readUInt32LE(tr);return rr>0?er.toString("utf8",tr+4,tr+4+rr-1):""},__lpwstr=function(er,tr){if(!Buffer.isBuffer(er))return ___lpwstr(er,tr);var rr=2*er.readUInt32LE(tr);return er.toString("utf16le",tr+4,tr+4+rr-1)},__lpp4=function(er,tr){if(!Buffer.isBuffer(er))return ___lpp4(er,tr);var rr=er.readUInt32LE(tr);return er.toString("utf16le",tr+4,tr+4+rr)},__8lpp4=function(er,tr){if(!Buffer.isBuffer(er))return ___8lpp4(er,tr);var rr=er.readUInt32LE(tr);return er.toString("utf8",tr+4,tr+4+rr)},__double=function(er,tr){return Buffer.isBuffer(er)?er.readDoubleLE(tr):___double(er,tr)},is_buf=function(er){return Buffer.isBuffer(er)||Array.isArray(er)||typeof Uint8Array<"u"&&er instanceof Uint8Array});var __readUInt8=function(St,er){return St[er]},__readUInt16LE=function(St,er){return St[er+1]*256+St[er]},__readInt16LE=function(St,er){var tr=St[er+1]*256+St[er];return tr<32768?tr:(65535-tr+1)*-1},__readUInt32LE=function(St,er){return St[er+3]*(1<<24)+(St[er+2]<<16)+(St[er+1]<<8)+St[er]},__readInt32LE=function(St,er){return St[er+3]<<24|St[er+2]<<16|St[er+1]<<8|St[er]},__readInt32BE=function(St,er){return St[er]<<24|St[er+1]<<16|St[er+2]<<8|St[er+3]};function ReadShift(St,er){var tr="",rr,nr,ar=[],sr,ir,or,lr;switch(er){case"dbcs":if(lr=this.l,has_buf&&Buffer.isBuffer(this))tr=this.slice(this.l,this.l+2*St).toString("utf16le");else for(or=0;or<St;++or)tr+=String.fromCharCode(__readUInt16LE(this,lr)),lr+=2;St*=2;break;case"utf8":tr=__utf8(this,this.l,this.l+St);break;case"utf16le":St*=2,tr=__utf16le(this,this.l,this.l+St);break;case"wstr":return ReadShift.call(this,St,"dbcs");case"lpstr-ansi":tr=__lpstr(this,this.l),St=4+__readUInt32LE(this,this.l);break;case"lpstr-cp":tr=__cpstr(this,this.l),St=4+__readUInt32LE(this,this.l);break;case"lpwstr":tr=__lpwstr(this,this.l),St=4+2*__readUInt32LE(this,this.l);break;case"lpp4":St=4+__readUInt32LE(this,this.l),tr=__lpp4(this,this.l),St&2&&(St+=2);break;case"8lpp4":St=4+__readUInt32LE(this,this.l),tr=__8lpp4(this,this.l),St&3&&(St+=4-(St&3));break;case"cstr":for(St=0,tr="";(sr=__readUInt8(this,this.l+St++))!==0;)ar.push(_getchar(sr));tr=ar.join("");break;case"_wstr":for(St=0,tr="";(sr=__readUInt16LE(this,this.l+St))!==0;)ar.push(_getchar(sr)),St+=2;St+=2,tr=ar.join("");break;case"dbcs-cont":for(tr="",lr=this.l,or=0;or<St;++or){if(this.lens&&this.lens.indexOf(lr)!==-1)return sr=__readUInt8(this,lr),this.l=lr+1,ir=ReadShift.call(this,St-or,sr?"dbcs-cont":"sbcs-cont"),ar.join("")+ir;ar.push(_getchar(__readUInt16LE(this,lr))),lr+=2}tr=ar.join(""),St*=2;break;case"cpstr":case"sbcs-cont":for(tr="",lr=this.l,or=0;or!=St;++or){if(this.lens&&this.lens.indexOf(lr)!==-1)return sr=__readUInt8(this,lr),this.l=lr+1,ir=ReadShift.call(this,St-or,sr?"dbcs-cont":"sbcs-cont"),ar.join("")+ir;ar.push(_getchar(__readUInt8(this,lr))),lr+=1}tr=ar.join("");break;default:switch(St){case 1:return rr=__readUInt8(this,this.l),this.l++,rr;case 2:return rr=(er==="i"?__readInt16LE:__readUInt16LE)(this,this.l),this.l+=2,rr;case 4:case-4:return er==="i"||!(this[this.l+3]&128)?(rr=(St>0?__readInt32LE:__readInt32BE)(this,this.l),this.l+=4,rr):(nr=__readUInt32LE(this,this.l),this.l+=4,nr);case 8:case-8:if(er==="f")return St==8?nr=__double(this,this.l):nr=__double([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,nr;St=8;case 16:tr=__hexlify(this,this.l,St);break}}return this.l+=St,tr}var __writeUInt32LE=function(St,er,tr){St[tr]=er&255,St[tr+1]=er>>>8&255,St[tr+2]=er>>>16&255,St[tr+3]=er>>>24&255},__writeInt32LE=function(St,er,tr){St[tr]=er&255,St[tr+1]=er>>8&255,St[tr+2]=er>>16&255,St[tr+3]=er>>24&255},__writeUInt16LE=function(St,er,tr){St[tr]=er&255,St[tr+1]=er>>>8&255};function WriteShift(St,er,tr){var rr=0,nr=0;if(tr==="dbcs"){for(nr=0;nr!=er.length;++nr)__writeUInt16LE(this,er.charCodeAt(nr),this.l+2*nr);rr=2*er.length}else if(tr==="sbcs"){for(er=er.replace(/[^\x00-\x7F]/g,"_"),nr=0;nr!=er.length;++nr)this[this.l+nr]=er.charCodeAt(nr)&255;rr=er.length}else if(tr==="hex"){for(;nr<St;++nr)this[this.l++]=parseInt(er.slice(2*nr,2*nr+2),16)||0;return this}else if(tr==="utf16le"){var ar=Math.min(this.l+St,this.length);for(nr=0;nr<Math.min(er.length,St);++nr){var sr=er.charCodeAt(nr);this[this.l++]=sr&255,this[this.l++]=sr>>8}for(;this.l<ar;)this[this.l++]=0;return this}else switch(St){case 1:rr=1,this[this.l]=er&255;break;case 2:rr=2,this[this.l]=er&255,er>>>=8,this[this.l+1]=er&255;break;case 3:rr=3,this[this.l]=er&255,er>>>=8,this[this.l+1]=er&255,er>>>=8,this[this.l+2]=er&255;break;case 4:rr=4,__writeUInt32LE(this,er,this.l);break;case 8:if(rr=8,tr==="f"){write_double_le(this,er,this.l);break}case 16:break;case-4:rr=4,__writeInt32LE(this,er,this.l);break}return this.l+=rr,this}function CheckField(St,er){var tr=__hexlify(this,this.l,St.length>>1);if(tr!==St)throw new Error(er+"Expected "+St+" saw "+tr);this.l+=St.length>>1}function prep_blob(St,er){St.l=er,St.read_shift=ReadShift,St.chk=CheckField,St.write_shift=WriteShift}function parsenoop(St,er){St.l+=er}function new_buf(St){var er=new_raw_buf(St);return prep_blob(er,0),er}function recordhopper(St,er,tr){if(St){var rr,nr,ar;prep_blob(St,St.l||0);for(var sr=St.length,ir=0,or=0;St.l<sr;){ir=St.read_shift(1),ir&128&&(ir=(ir&127)+((St.read_shift(1)&127)<<7));var lr=XLSBRecordEnum[ir]||XLSBRecordEnum[65535];for(rr=St.read_shift(1),ar=rr&127,nr=1;nr<4&&rr&128;++nr)ar+=((rr=St.read_shift(1))&127)<<7*nr;or=St.l+ar;var cr=lr.f&&lr.f(St,ar,tr);if(St.l=or,er(cr,lr,ir))return}}}function buf_array(){var St=[],er=has_buf?256:2048,tr=function(lr){var cr=new_buf(lr);return prep_blob(cr,0),cr},rr=tr(er),nr=function(){rr&&(rr.length>rr.l&&(rr=rr.slice(0,rr.l),rr.l=rr.length),rr.length>0&&St.push(rr),rr=null)},ar=function(lr){return rr&&lr<rr.length-rr.l?rr:(nr(),rr=tr(Math.max(lr+1,er)))},sr=function(){return nr(),bconcat(St)},ir=function(lr){nr(),rr=lr,rr.l==null&&(rr.l=rr.length),ar(er)};return{next:ar,push:ir,end:sr,_bufs:St}}function write_record(St,er,tr,rr){var nr=+er,ar;if(!isNaN(nr)){rr||(rr=XLSBRecordEnum[nr].p||(tr||[]).length||0),ar=1+(nr>=128?1:0)+1,rr>=128&&++ar,rr>=16384&&++ar,rr>=2097152&&++ar;var sr=St.next(ar);nr<=127?sr.write_shift(1,nr):(sr.write_shift(1,(nr&127)+128),sr.write_shift(1,nr>>7));for(var ir=0;ir!=4;++ir)if(rr>=128)sr.write_shift(1,(rr&127)+128),rr>>=7;else{sr.write_shift(1,rr);break}rr>0&&is_buf(tr)&&St.push(tr)}}function shift_cell_xls(St,er,tr){var rr=dup(St);if(er.s?(rr.cRel&&(rr.c+=er.s.c),rr.rRel&&(rr.r+=er.s.r)):(rr.cRel&&(rr.c+=er.c),rr.rRel&&(rr.r+=er.r)),!tr||tr.biff<12){for(;rr.c>=256;)rr.c-=256;for(;rr.r>=65536;)rr.r-=65536}return rr}function shift_range_xls(St,er,tr){var rr=dup(St);return rr.s=shift_cell_xls(rr.s,er.s,tr),rr.e=shift_cell_xls(rr.e,er.s,tr),rr}function encode_cell_xls(St,er){if(St.cRel&&St.c<0)for(St=dup(St);St.c<0;)St.c+=er>8?16384:256;if(St.rRel&&St.r<0)for(St=dup(St);St.r<0;)St.r+=er>8?1048576:er>5?65536:16384;var tr=encode_cell(St);return!St.cRel&&St.cRel!=null&&(tr=fix_col(tr)),!St.rRel&&St.rRel!=null&&(tr=fix_row(tr)),tr}function encode_range_xls(St,er){return St.s.r==0&&!St.s.rRel&&St.e.r==(er.biff>=12?1048575:er.biff>=8?65536:16384)&&!St.e.rRel?(St.s.cRel?"":"$")+encode_col(St.s.c)+":"+(St.e.cRel?"":"$")+encode_col(St.e.c):St.s.c==0&&!St.s.cRel&&St.e.c==(er.biff>=12?16383:255)&&!St.e.cRel?(St.s.rRel?"":"$")+encode_row(St.s.r)+":"+(St.e.rRel?"":"$")+encode_row(St.e.r):encode_cell_xls(St.s,er.biff)+":"+encode_cell_xls(St.e,er.biff)}function decode_row(St){return parseInt(unfix_row(St),10)-1}function encode_row(St){return""+(St+1)}function fix_row(St){return St.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function unfix_row(St){return St.replace(/\$(\d+)$/,"$1")}function decode_col(St){for(var er=unfix_col(St),tr=0,rr=0;rr!==er.length;++rr)tr=26*tr+er.charCodeAt(rr)-64;return tr-1}function encode_col(St){if(St<0)throw new Error("invalid column "+St);var er="";for(++St;St;St=Math.floor((St-1)/26))er=String.fromCharCode((St-1)%26+65)+er;return er}function fix_col(St){return St.replace(/^([A-Z])/,"$$$1")}function unfix_col(St){return St.replace(/^\$([A-Z])/,"$1")}function split_cell(St){return St.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function decode_cell(St){for(var er=0,tr=0,rr=0;rr<St.length;++rr){var nr=St.charCodeAt(rr);nr>=48&&nr<=57?er=10*er+(nr-48):nr>=65&&nr<=90&&(tr=26*tr+(nr-64))}return{c:tr-1,r:er-1}}function encode_cell(St){for(var er=St.c+1,tr="";er;er=(er-1)/26|0)tr=String.fromCharCode((er-1)%26+65)+tr;return tr+(St.r+1)}function decode_range(St){var er=St.indexOf(":");return er==-1?{s:decode_cell(St),e:decode_cell(St)}:{s:decode_cell(St.slice(0,er)),e:decode_cell(St.slice(er+1))}}function encode_range(St,er){return typeof er>"u"||typeof er=="number"?encode_range(St.s,St.e):(typeof St!="string"&&(St=encode_cell(St)),typeof er!="string"&&(er=encode_cell(er)),St==er?St:St+":"+er)}function safe_decode_range(St){var er={s:{c:0,r:0},e:{c:0,r:0}},tr=0,rr=0,nr=0,ar=St.length;for(tr=0;rr<ar&&!((nr=St.charCodeAt(rr)-64)<1||nr>26);++rr)tr=26*tr+nr;for(er.s.c=--tr,tr=0;rr<ar&&!((nr=St.charCodeAt(rr)-48)<0||nr>9);++rr)tr=10*tr+nr;if(er.s.r=--tr,rr===ar||nr!=10)return er.e.c=er.s.c,er.e.r=er.s.r,er;for(++rr,tr=0;rr!=ar&&!((nr=St.charCodeAt(rr)-64)<1||nr>26);++rr)tr=26*tr+nr;for(er.e.c=--tr,tr=0;rr!=ar&&!((nr=St.charCodeAt(rr)-48)<0||nr>9);++rr)tr=10*tr+nr;return er.e.r=--tr,er}function safe_format_cell(St,er){var tr=St.t=="d"&&er instanceof Date;if(St.z!=null)try{return St.w=SSF_format(St.z,tr?datenum(er):er)}catch{}try{return St.w=SSF_format((St.XF||{}).numFmtId||(tr?14:0),tr?datenum(er):er)}catch{return""+er}}function format_cell(St,er,tr){return St==null||St.t==null||St.t=="z"?"":St.w!==void 0?St.w:(St.t=="d"&&!St.z&&tr&&tr.dateNF&&(St.z=tr.dateNF),St.t=="e"?BErr[St.v]||St.v:er==null?safe_format_cell(St,St.v):safe_format_cell(St,er))}function sheet_to_workbook(St,er){var tr=er&&er.sheet?er.sheet:"Sheet1",rr={};return rr[tr]=St,{SheetNames:[tr],Sheets:rr}}function sheet_add_aoa(St,er,tr){var rr=tr||{},nr=St?Array.isArray(St):rr.dense,ar=St||(nr?[]:{}),sr=0,ir=0;if(ar&&rr.origin!=null){if(typeof rr.origin=="number")sr=rr.origin;else{var or=typeof rr.origin=="string"?decode_cell(rr.origin):rr.origin;sr=or.r,ir=or.c}ar["!ref"]||(ar["!ref"]="A1:A1")}var lr={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(ar["!ref"]){var cr=safe_decode_range(ar["!ref"]);lr.s.c=cr.s.c,lr.s.r=cr.s.r,lr.e.c=Math.max(lr.e.c,cr.e.c),lr.e.r=Math.max(lr.e.r,cr.e.r),sr==-1&&(lr.e.r=sr=cr.e.r+1)}for(var ur=0;ur!=er.length;++ur)if(er[ur]){if(!Array.isArray(er[ur]))throw new Error("aoa_to_sheet expects an array of arrays");for(var dr=0;dr!=er[ur].length;++dr)if(!(typeof er[ur][dr]>"u")){var fr={v:er[ur][dr]},mr=sr+ur,xr=ir+dr;if(lr.s.r>mr&&(lr.s.r=mr),lr.s.c>xr&&(lr.s.c=xr),lr.e.r<mr&&(lr.e.r=mr),lr.e.c<xr&&(lr.e.c=xr),er[ur][dr]&&typeof er[ur][dr]=="object"&&!Array.isArray(er[ur][dr])&&!(er[ur][dr]instanceof Date))fr=er[ur][dr];else if(Array.isArray(fr.v)&&(fr.f=er[ur][dr][1],fr.v=fr.v[0]),fr.v===null)if(fr.f)fr.t="n";else if(rr.nullError)fr.t="e",fr.v=0;else if(rr.sheetStubs)fr.t="z";else continue;else typeof fr.v=="number"?fr.t="n":typeof fr.v=="boolean"?fr.t="b":fr.v instanceof Date?(fr.z=rr.dateNF||table_fmt[14],rr.cellDates?(fr.t="d",fr.w=SSF_format(fr.z,datenum(fr.v))):(fr.t="n",fr.v=datenum(fr.v),fr.w=SSF_format(fr.z,fr.v))):fr.t="s";if(nr)ar[mr]||(ar[mr]=[]),ar[mr][xr]&&ar[mr][xr].z&&(fr.z=ar[mr][xr].z),ar[mr][xr]=fr;else{var pr=encode_cell({c:xr,r:mr});ar[pr]&&ar[pr].z&&(fr.z=ar[pr].z),ar[pr]=fr}}}return lr.s.c<1e7&&(ar["!ref"]=encode_range(lr)),ar}function aoa_to_sheet(St,er){return sheet_add_aoa(null,St,er)}function parse_Int32LE(St){return St.read_shift(4,"i")}function write_UInt32LE(St,er){return er||(er=new_buf(4)),er.write_shift(4,St),er}function parse_XLWideString(St){var er=St.read_shift(4);return er===0?"":St.read_shift(er,"dbcs")}function write_XLWideString(St,er){var tr=!1;return er==null&&(tr=!0,er=new_buf(4+2*St.length)),er.write_shift(4,St.length),St.length>0&&er.write_shift(0,St,"dbcs"),tr?er.slice(0,er.l):er}function parse_StrRun(St){return{ich:St.read_shift(2),ifnt:St.read_shift(2)}}function write_StrRun(St,er){return er||(er=new_buf(4)),er.write_shift(2,0),er.write_shift(2,0),er}function parse_RichStr(St,er){var tr=St.l,rr=St.read_shift(1),nr=parse_XLWideString(St),ar=[],sr={t:nr,h:nr};if(rr&1){for(var ir=St.read_shift(4),or=0;or!=ir;++or)ar.push(parse_StrRun(St));sr.r=ar}else sr.r=[{ich:0,ifnt:0}];return St.l=tr+er,sr}function write_RichStr(St,er){var tr=!1;return er==null&&(tr=!0,er=new_buf(15+4*St.t.length)),er.write_shift(1,0),write_XLWideString(St.t,er),tr?er.slice(0,er.l):er}var parse_BrtCommentText=parse_RichStr;function write_BrtCommentText(St,er){var tr=!1;return er==null&&(tr=!0,er=new_buf(23+4*St.t.length)),er.write_shift(1,1),write_XLWideString(St.t,er),er.write_shift(4,1),write_StrRun({},er),tr?er.slice(0,er.l):er}function parse_XLSBCell(St){var er=St.read_shift(4),tr=St.read_shift(2);return tr+=St.read_shift(1)<<16,St.l++,{c:er,iStyleRef:tr}}function write_XLSBCell(St,er){return er==null&&(er=new_buf(8)),er.write_shift(-4,St.c),er.write_shift(3,St.iStyleRef||St.s),er.write_shift(1,0),er}function parse_XLSBShortCell(St){var er=St.read_shift(2);return er+=St.read_shift(1)<<16,St.l++,{c:-1,iStyleRef:er}}function write_XLSBShortCell(St,er){return er==null&&(er=new_buf(4)),er.write_shift(3,St.iStyleRef||St.s),er.write_shift(1,0),er}var parse_XLSBCodeName=parse_XLWideString,write_XLSBCodeName=write_XLWideString;function parse_XLNullableWideString(St){var er=St.read_shift(4);return er===0||er===4294967295?"":St.read_shift(er,"dbcs")}function write_XLNullableWideString(St,er){var tr=!1;return er==null&&(tr=!0,er=new_buf(127)),er.write_shift(4,St.length>0?St.length:4294967295),St.length>0&&er.write_shift(0,St,"dbcs"),tr?er.slice(0,er.l):er}var parse_XLNameWideString=parse_XLWideString,parse_RelID=parse_XLNullableWideString,write_RelID=write_XLNullableWideString;function parse_RkNumber(St){var er=St.slice(St.l,St.l+4),tr=er[0]&1,rr=er[0]&2;St.l+=4;var nr=rr===0?__double([0,0,0,0,er[0]&252,er[1],er[2],er[3]],0):__readInt32LE(er,0)>>2;return tr?nr/100:nr}function write_RkNumber(St,er){er==null&&(er=new_buf(4));var tr=0,rr=0,nr=St*100;if(St==(St|0)&&St>=-536870912&&St<1<<29?rr=1:nr==(nr|0)&&nr>=-536870912&&nr<1<<29&&(rr=1,tr=1),rr)er.write_shift(-4,((tr?nr:St)<<2)+(tr+2));else throw new Error("unsupported RkNumber "+St)}function parse_RfX(St){var er={s:{},e:{}};return er.s.r=St.read_shift(4),er.e.r=St.read_shift(4),er.s.c=St.read_shift(4),er.e.c=St.read_shift(4),er}function write_RfX(St,er){return er||(er=new_buf(16)),er.write_shift(4,St.s.r),er.write_shift(4,St.e.r),er.write_shift(4,St.s.c),er.write_shift(4,St.e.c),er}var parse_UncheckedRfX=parse_RfX,write_UncheckedRfX=write_RfX;function parse_Xnum(St){if(St.length-St.l<8)throw"XLS Xnum Buffer underflow";return St.read_shift(8,"f")}function write_Xnum(St,er){return(er||new_buf(8)).write_shift(8,St,"f")}function parse_BrtColor(St){var er={},tr=St.read_shift(1),rr=tr>>>1,nr=St.read_shift(1),ar=St.read_shift(2,"i"),sr=St.read_shift(1),ir=St.read_shift(1),or=St.read_shift(1);switch(St.l++,rr){case 0:er.auto=1;break;case 1:er.index=nr;var lr=XLSIcv[nr];lr&&(er.rgb=rgb2Hex(lr));break;case 2:er.rgb=rgb2Hex([sr,ir,or]);break;case 3:er.theme=nr;break}return ar!=0&&(er.tint=ar>0?ar/32767:ar/32768),er}function write_BrtColor(St,er){if(er||(er=new_buf(8)),!St||St.auto)return er.write_shift(4,0),er.write_shift(4,0),er;St.index!=null?(er.write_shift(1,2),er.write_shift(1,St.index)):St.theme!=null?(er.write_shift(1,6),er.write_shift(1,St.theme)):(er.write_shift(1,5),er.write_shift(1,0));var tr=St.tint||0;if(tr>0?tr*=32767:tr<0&&(tr*=32768),er.write_shift(2,tr),!St.rgb||St.theme!=null)er.write_shift(2,0),er.write_shift(1,0),er.write_shift(1,0);else{var rr=St.rgb||"FFFFFF";typeof rr=="number"&&(rr=("000000"+rr.toString(16)).slice(-6)),er.write_shift(1,parseInt(rr.slice(0,2),16)),er.write_shift(1,parseInt(rr.slice(2,4),16)),er.write_shift(1,parseInt(rr.slice(4,6),16)),er.write_shift(1,255)}return er}function parse_FontFlags(St){var er=St.read_shift(1);St.l++;var tr={fBold:er&1,fItalic:er&2,fUnderline:er&4,fStrikeout:er&8,fOutline:er&16,fShadow:er&32,fCondense:er&64,fExtend:er&128};return tr}function write_FontFlags(St,er){er||(er=new_buf(2));var tr=(St.italic?2:0)|(St.strike?8:0)|(St.outline?16:0)|(St.shadow?32:0)|(St.condense?64:0)|(St.extend?128:0);return er.write_shift(1,tr),er.write_shift(1,0),er}function parse_ClipboardFormatOrString(St,er){var tr={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},rr=St.read_shift(4);switch(rr){case 0:return"";case 4294967295:case 4294967294:return tr[St.read_shift(4)]||""}if(rr>400)throw new Error("Unsupported Clipboard: "+rr.toString(16));return St.l-=4,St.read_shift(0,er==1?"lpstr":"lpwstr")}function parse_ClipboardFormatOrAnsiString(St){return parse_ClipboardFormatOrString(St,1)}function parse_ClipboardFormatOrUnicodeString(St){return parse_ClipboardFormatOrString(St,2)}var VT_I2=2,VT_I4=3,VT_BOOL=11,VT_VARIANT=12,VT_UI4=19,VT_FILETIME=64,VT_BLOB=65,VT_CF=71,VT_VECTOR_VARIANT=4108,VT_VECTOR_LPSTR=4126,VT_STRING=80,VT_USTR=81,VT_CUSTOM=[VT_STRING,VT_USTR],DocSummaryPIDDSI={1:{n:"CodePage",t:VT_I2},2:{n:"Category",t:VT_STRING},3:{n:"PresentationFormat",t:VT_STRING},4:{n:"ByteCount",t:VT_I4},5:{n:"LineCount",t:VT_I4},6:{n:"ParagraphCount",t:VT_I4},7:{n:"SlideCount",t:VT_I4},8:{n:"NoteCount",t:VT_I4},9:{n:"HiddenCount",t:VT_I4},10:{n:"MultimediaClipCount",t:VT_I4},11:{n:"ScaleCrop",t:VT_BOOL},12:{n:"HeadingPairs",t:VT_VECTOR_VARIANT},13:{n:"TitlesOfParts",t:VT_VECTOR_LPSTR},14:{n:"Manager",t:VT_STRING},15:{n:"Company",t:VT_STRING},16:{n:"LinksUpToDate",t:VT_BOOL},17:{n:"CharacterCount",t:VT_I4},19:{n:"SharedDoc",t:VT_BOOL},22:{n:"HyperlinksChanged",t:VT_BOOL},23:{n:"AppVersion",t:VT_I4,p:"version"},24:{n:"DigSig",t:VT_BLOB},26:{n:"ContentType",t:VT_STRING},27:{n:"ContentStatus",t:VT_STRING},28:{n:"Language",t:VT_STRING},29:{n:"Version",t:VT_STRING},255:{},2147483648:{n:"Locale",t:VT_UI4},2147483651:{n:"Behavior",t:VT_UI4},1919054434:{}},SummaryPIDSI={1:{n:"CodePage",t:VT_I2},2:{n:"Title",t:VT_STRING},3:{n:"Subject",t:VT_STRING},4:{n:"Author",t:VT_STRING},5:{n:"Keywords",t:VT_STRING},6:{n:"Comments",t:VT_STRING},7:{n:"Template",t:VT_STRING},8:{n:"LastAuthor",t:VT_STRING},9:{n:"RevNumber",t:VT_STRING},10:{n:"EditTime",t:VT_FILETIME},11:{n:"LastPrinted",t:VT_FILETIME},12:{n:"CreatedDate",t:VT_FILETIME},13:{n:"ModifiedDate",t:VT_FILETIME},14:{n:"PageCount",t:VT_I4},15:{n:"WordCount",t:VT_I4},16:{n:"CharCount",t:VT_I4},17:{n:"Thumbnail",t:VT_CF},18:{n:"Application",t:VT_STRING},19:{n:"DocSecurity",t:VT_I4},255:{},2147483648:{n:"Locale",t:VT_UI4},2147483651:{n:"Behavior",t:VT_UI4},1919054434:{}},CountryEnum={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},XLSFillPattern=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function rgbify(St){return St.map(function(er){return[er>>16&255,er>>8&255,er&255]})}var _XLSIcv=rgbify([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),XLSIcv=dup(_XLSIcv),BErr={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},RBErr={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},ct2type={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},CT_LIST={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function new_ct(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function parse_ct(St){var er=new_ct();if(!St||!St.match)return er;var tr={};if((St.match(tagregex)||[]).forEach(function(rr){var nr=parsexmltag(rr);switch(nr[0].replace(nsregex,"<")){case"<?xml":break;case"<Types":er.xmlns=nr["xmlns"+(nr[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":tr[nr.Extension]=nr.ContentType;break;case"<Override":er[ct2type[nr.ContentType]]!==void 0&&er[ct2type[nr.ContentType]].push(nr.PartName);break}}),er.xmlns!==XMLNS.CT)throw new Error("Unknown Namespace: "+er.xmlns);return er.calcchain=er.calcchains.length>0?er.calcchains[0]:"",er.sst=er.strs.length>0?er.strs[0]:"",er.style=er.styles.length>0?er.styles[0]:"",er.defaults=tr,delete er.calcchains,er}function write_ct(St,er){var tr=evert_arr(ct2type),rr=[],nr;rr[rr.length]=XML_HEADER,rr[rr.length]=writextag("Types",null,{xmlns:XMLNS.CT,"xmlns:xsd":XMLNS.xsd,"xmlns:xsi":XMLNS.xsi}),rr=rr.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(or){return writextag("Default",null,{Extension:or[0],ContentType:or[1]})}));var ar=function(or){St[or]&&St[or].length>0&&(nr=St[or][0],rr[rr.length]=writextag("Override",null,{PartName:(nr[0]=="/"?"":"/")+nr,ContentType:CT_LIST[or][er.bookType]||CT_LIST[or].xlsx}))},sr=function(or){(St[or]||[]).forEach(function(lr){rr[rr.length]=writextag("Override",null,{PartName:(lr[0]=="/"?"":"/")+lr,ContentType:CT_LIST[or][er.bookType]||CT_LIST[or].xlsx})})},ir=function(or){(St[or]||[]).forEach(function(lr){rr[rr.length]=writextag("Override",null,{PartName:(lr[0]=="/"?"":"/")+lr,ContentType:tr[or][0]})})};return ar("workbooks"),sr("sheets"),sr("charts"),ir("themes"),["strs","styles"].forEach(ar),["coreprops","extprops","custprops"].forEach(ir),ir("vba"),ir("comments"),ir("threadedcomments"),ir("drawings"),sr("metadata"),ir("people"),rr.length>2&&(rr[rr.length]="</Types>",rr[1]=rr[1].replace("/>",">")),rr.join("")}var RELS={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function get_rels_path(St){var er=St.lastIndexOf("/");return St.slice(0,er+1)+"_rels/"+St.slice(er+1)+".rels"}function parse_rels(St,er){var tr={"!id":{}};if(!St)return tr;er.charAt(0)!=="/"&&(er="/"+er);var rr={};return(St.match(tagregex)||[]).forEach(function(nr){var ar=parsexmltag(nr);if(ar[0]==="<Relationship"){var sr={};sr.Type=ar.Type,sr.Target=ar.Target,sr.Id=ar.Id,ar.TargetMode&&(sr.TargetMode=ar.TargetMode);var ir=ar.TargetMode==="External"?ar.Target:resolve_path(ar.Target,er);tr[ir]=sr,rr[ar.Id]=sr}}),tr["!id"]=rr,tr}function write_rels(St){var er=[XML_HEADER,writextag("Relationships",null,{xmlns:XMLNS.RELS})];return keys(St["!id"]).forEach(function(tr){er[er.length]=writextag("Relationship",null,St["!id"][tr])}),er.length>2&&(er[er.length]="</Relationships>",er[1]=er[1].replace("/>",">")),er.join("")}function add_rels(St,er,tr,rr,nr,ar){if(nr||(nr={}),St["!id"]||(St["!id"]={}),St["!idx"]||(St["!idx"]=1),er<0)for(er=St["!idx"];St["!id"]["rId"+er];++er);if(St["!idx"]=er+1,nr.Id="rId"+er,nr.Type=rr,nr.Target=tr,[RELS.HLINK,RELS.XPATH,RELS.XMISS].indexOf(nr.Type)>-1&&(nr.TargetMode="External"),St["!id"][nr.Id])throw new Error("Cannot rewrite rId "+er);return St["!id"][nr.Id]=nr,St[("/"+nr.Target).replace("//","/")]=nr,er}var CT_ODS="application/vnd.oasis.opendocument.spreadsheet";function parse_manifest(St,er){for(var tr=xlml_normalize(St),rr,nr;rr=xlmlregex.exec(tr);)switch(rr[3]){case"manifest":break;case"file-entry":if(nr=parsexmltag(rr[0],!1),nr.path=="/"&&nr.type!==CT_ODS)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(er&&er.WTF)throw rr}}function write_manifest(St){var er=[XML_HEADER];er.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),er.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var tr=0;tr<St.length;++tr)er.push('  <manifest:file-entry manifest:full-path="'+St[tr][0]+'" manifest:media-type="'+St[tr][1]+`"/>
`);return er.push("</manifest:manifest>"),er.join("")}function write_rdf_type(St,er,tr){return['  <rdf:Description rdf:about="'+St+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(tr||"odf")+"#"+er+`"/>
`,`  </rdf:Description>
`].join("")}function write_rdf_has(St,er){return['  <rdf:Description rdf:about="'+St+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+er+`"/>
`,`  </rdf:Description>
`].join("")}function write_rdf(St){var er=[XML_HEADER];er.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var tr=0;tr!=St.length;++tr)er.push(write_rdf_type(St[tr][0],St[tr][1])),er.push(write_rdf_has("",St[tr][0]));return er.push(write_rdf_type("","Document","pkg")),er.push("</rdf:RDF>"),er.join("")}function write_meta_ods(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+XLSX.version+"</meta:generator></office:meta></office:document-meta>"}var CORE_PROPS=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],CORE_PROPS_REGEX=function(){for(var St=new Array(CORE_PROPS.length),er=0;er<CORE_PROPS.length;++er){var tr=CORE_PROPS[er],rr="(?:"+tr[0].slice(0,tr[0].indexOf(":"))+":)"+tr[0].slice(tr[0].indexOf(":")+1);St[er]=new RegExp("<"+rr+"[^>]*>([\\s\\S]*?)</"+rr+">")}return St}();function parse_core_props(St){var er={};St=utf8read(St);for(var tr=0;tr<CORE_PROPS.length;++tr){var rr=CORE_PROPS[tr],nr=St.match(CORE_PROPS_REGEX[tr]);nr!=null&&nr.length>0&&(er[rr[1]]=unescapexml(nr[1])),rr[2]==="date"&&er[rr[1]]&&(er[rr[1]]=parseDate(er[rr[1]]))}return er}function cp_doit(St,er,tr,rr,nr){nr[St]!=null||er==null||er===""||(nr[St]=er,er=escapexml(er),rr[rr.length]=tr?writextag(St,er,tr):writetag(St,er))}function write_core_props(St,er){var tr=er||{},rr=[XML_HEADER,writextag("cp:coreProperties",null,{"xmlns:cp":XMLNS.CORE_PROPS,"xmlns:dc":XMLNS.dc,"xmlns:dcterms":XMLNS.dcterms,"xmlns:dcmitype":XMLNS.dcmitype,"xmlns:xsi":XMLNS.xsi})],nr={};if(!St&&!tr.Props)return rr.join("");St&&(St.CreatedDate!=null&&cp_doit("dcterms:created",typeof St.CreatedDate=="string"?St.CreatedDate:write_w3cdtf(St.CreatedDate,tr.WTF),{"xsi:type":"dcterms:W3CDTF"},rr,nr),St.ModifiedDate!=null&&cp_doit("dcterms:modified",typeof St.ModifiedDate=="string"?St.ModifiedDate:write_w3cdtf(St.ModifiedDate,tr.WTF),{"xsi:type":"dcterms:W3CDTF"},rr,nr));for(var ar=0;ar!=CORE_PROPS.length;++ar){var sr=CORE_PROPS[ar],ir=tr.Props&&tr.Props[sr[1]]!=null?tr.Props[sr[1]]:St?St[sr[1]]:null;ir===!0?ir="1":ir===!1?ir="0":typeof ir=="number"&&(ir=String(ir)),ir!=null&&cp_doit(sr[0],ir,null,rr,nr)}return rr.length>2&&(rr[rr.length]="</cp:coreProperties>",rr[1]=rr[1].replace("/>",">")),rr.join("")}var EXT_PROPS=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],PseudoPropsPairs=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function load_props_pairs(St,er,tr,rr){var nr=[];if(typeof St=="string")nr=parseVector(St,rr);else for(var ar=0;ar<St.length;++ar)nr=nr.concat(St[ar].map(function(cr){return{v:cr}}));var sr=typeof er=="string"?parseVector(er,rr).map(function(cr){return cr.v}):er,ir=0,or=0;if(sr.length>0)for(var lr=0;lr!==nr.length;lr+=2){switch(or=+nr[lr+1].v,nr[lr].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":tr.Worksheets=or,tr.SheetNames=sr.slice(ir,ir+or);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":tr.NamedRanges=or,tr.DefinedNames=sr.slice(ir,ir+or);break;case"Charts":case"Diagramme":tr.Chartsheets=or,tr.ChartNames=sr.slice(ir,ir+or);break}ir+=or}}function parse_ext_props(St,er,tr){var rr={};return er||(er={}),St=utf8read(St),EXT_PROPS.forEach(function(nr){var ar=(St.match(matchtag(nr[0]))||[])[1];switch(nr[2]){case"string":ar&&(er[nr[1]]=unescapexml(ar));break;case"bool":er[nr[1]]=ar==="true";break;case"raw":var sr=St.match(new RegExp("<"+nr[0]+"[^>]*>([\\s\\S]*?)</"+nr[0]+">"));sr&&sr.length>0&&(rr[nr[1]]=sr[1]);break}}),rr.HeadingPairs&&rr.TitlesOfParts&&load_props_pairs(rr.HeadingPairs,rr.TitlesOfParts,er,tr),er}function write_ext_props(St){var er=[],tr=writextag;return St||(St={}),St.Application="SheetJS",er[er.length]=XML_HEADER,er[er.length]=writextag("Properties",null,{xmlns:XMLNS.EXT_PROPS,"xmlns:vt":XMLNS.vt}),EXT_PROPS.forEach(function(rr){if(St[rr[1]]!==void 0){var nr;switch(rr[2]){case"string":nr=escapexml(String(St[rr[1]]));break;case"bool":nr=St[rr[1]]?"true":"false";break}nr!==void 0&&(er[er.length]=tr(rr[0],nr))}}),er[er.length]=tr("HeadingPairs",tr("vt:vector",tr("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+tr("vt:variant",tr("vt:i4",String(St.Worksheets))),{size:2,baseType:"variant"})),er[er.length]=tr("TitlesOfParts",tr("vt:vector",St.SheetNames.map(function(rr){return"<vt:lpstr>"+escapexml(rr)+"</vt:lpstr>"}).join(""),{size:St.Worksheets,baseType:"lpstr"})),er.length>2&&(er[er.length]="</Properties>",er[1]=er[1].replace("/>",">")),er.join("")}var custregex=/<[^>]+>[^<]*/g;function parse_cust_props(St,er){var tr={},rr="",nr=St.match(custregex);if(nr)for(var ar=0;ar!=nr.length;++ar){var sr=nr[ar],ir=parsexmltag(sr);switch(ir[0]){case"<?xml":break;case"<Properties":break;case"<property":rr=unescapexml(ir.name);break;case"</property>":rr=null;break;default:if(sr.indexOf("<vt:")===0){var or=sr.split(">"),lr=or[0].slice(4),cr=or[1];switch(lr){case"lpstr":case"bstr":case"lpwstr":tr[rr]=unescapexml(cr);break;case"bool":tr[rr]=parsexmlbool(cr);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":tr[rr]=parseInt(cr,10);break;case"r4":case"r8":case"decimal":tr[rr]=parseFloat(cr);break;case"filetime":case"date":tr[rr]=parseDate(cr);break;case"cy":case"error":tr[rr]=unescapexml(cr);break;default:if(lr.slice(-1)=="/")break;er.WTF&&typeof console<"u"&&console.warn("Unexpected",sr,lr,or)}}else if(sr.slice(0,2)!=="</"){if(er.WTF)throw new Error(sr)}}}return tr}function write_cust_props(St){var er=[XML_HEADER,writextag("Properties",null,{xmlns:XMLNS.CUST_PROPS,"xmlns:vt":XMLNS.vt})];if(!St)return er.join("");var tr=1;return keys(St).forEach(function(nr){++tr,er[er.length]=writextag("property",write_vt(St[nr]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:tr,name:escapexml(nr)})}),er.length>2&&(er[er.length]="</Properties>",er[1]=er[1].replace("/>",">")),er.join("")}var XLMLDocPropsMap={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},evert_XLMLDPM;function xlml_set_prop(St,er,tr){evert_XLMLDPM||(evert_XLMLDPM=evert(XLMLDocPropsMap)),er=evert_XLMLDPM[er]||er,St[er]=tr}function xlml_write_docprops(St,er){var tr=[];return keys(XLMLDocPropsMap).map(function(rr){for(var nr=0;nr<CORE_PROPS.length;++nr)if(CORE_PROPS[nr][1]==rr)return CORE_PROPS[nr];for(nr=0;nr<EXT_PROPS.length;++nr)if(EXT_PROPS[nr][1]==rr)return EXT_PROPS[nr];throw rr}).forEach(function(rr){if(St[rr[1]]!=null){var nr=er&&er.Props&&er.Props[rr[1]]!=null?er.Props[rr[1]]:St[rr[1]];switch(rr[2]){case"date":nr=new Date(nr).toISOString().replace(/\.\d*Z/,"Z");break}typeof nr=="number"?nr=String(nr):nr===!0||nr===!1?nr=nr?"1":"0":nr instanceof Date&&(nr=new Date(nr).toISOString().replace(/\.\d*Z/,"")),tr.push(writetag(XLMLDocPropsMap[rr[1]]||rr[1],nr))}}),writextag("DocumentProperties",tr.join(""),{xmlns:XLMLNS.o})}function xlml_write_custprops(St,er){var tr=["Worksheets","SheetNames"],rr="CustomDocumentProperties",nr=[];return St&&keys(St).forEach(function(ar){if(Object.prototype.hasOwnProperty.call(St,ar)){for(var sr=0;sr<CORE_PROPS.length;++sr)if(ar==CORE_PROPS[sr][1])return;for(sr=0;sr<EXT_PROPS.length;++sr)if(ar==EXT_PROPS[sr][1])return;for(sr=0;sr<tr.length;++sr)if(ar==tr[sr])return;var ir=St[ar],or="string";typeof ir=="number"?(or="float",ir=String(ir)):ir===!0||ir===!1?(or="boolean",ir=ir?"1":"0"):ir=String(ir),nr.push(writextag(escapexmltag(ar),ir,{"dt:dt":or}))}}),er&&keys(er).forEach(function(ar){if(Object.prototype.hasOwnProperty.call(er,ar)&&!(St&&Object.prototype.hasOwnProperty.call(St,ar))){var sr=er[ar],ir="string";typeof sr=="number"?(ir="float",sr=String(sr)):sr===!0||sr===!1?(ir="boolean",sr=sr?"1":"0"):sr instanceof Date?(ir="dateTime.tz",sr=sr.toISOString()):sr=String(sr),nr.push(writextag(escapexmltag(ar),sr,{"dt:dt":ir}))}}),"<"+rr+' xmlns="'+XLMLNS.o+'">'+nr.join("")+"</"+rr+">"}function parse_FILETIME(St){var er=St.read_shift(4),tr=St.read_shift(4);return new Date((tr/1e7*Math.pow(2,32)+er/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function write_FILETIME(St){var er=typeof St=="string"?new Date(Date.parse(St)):St,tr=er.getTime()/1e3+11644473600,rr=tr%Math.pow(2,32),nr=(tr-rr)/Math.pow(2,32);rr*=1e7,nr*=1e7;var ar=rr/Math.pow(2,32)|0;ar>0&&(rr=rr%Math.pow(2,32),nr+=ar);var sr=new_buf(8);return sr.write_shift(4,rr),sr.write_shift(4,nr),sr}function parse_lpstr(St,er,tr){var rr=St.l,nr=St.read_shift(0,"lpstr-cp");if(tr)for(;St.l-rr&3;)++St.l;return nr}function parse_lpwstr(St,er,tr){var rr=St.read_shift(0,"lpwstr");return rr}function parse_VtStringBase(St,er,tr){return er===31?parse_lpwstr(St):parse_lpstr(St,er,tr)}function parse_VtString(St,er,tr){return parse_VtStringBase(St,er,tr===!1?0:4)}function parse_VtUnalignedString(St,er){if(!er)throw new Error("VtUnalignedString must have positive length");return parse_VtStringBase(St,er,0)}function parse_VtVecLpwstrValue(St){for(var er=St.read_shift(4),tr=[],rr=0;rr!=er;++rr){var nr=St.l;tr[rr]=St.read_shift(0,"lpwstr").replace(chr0,""),St.l-nr&2&&(St.l+=2)}return tr}function parse_VtVecUnalignedLpstrValue(St){for(var er=St.read_shift(4),tr=[],rr=0;rr!=er;++rr)tr[rr]=St.read_shift(0,"lpstr-cp").replace(chr0,"");return tr}function parse_VtHeadingPair(St){var er=St.l,tr=parse_TypedPropertyValue(St,VT_USTR);St[St.l]==0&&St[St.l+1]==0&&St.l-er&2&&(St.l+=2);var rr=parse_TypedPropertyValue(St,VT_I4);return[tr,rr]}function parse_VtVecHeadingPairValue(St){for(var er=St.read_shift(4),tr=[],rr=0;rr<er/2;++rr)tr.push(parse_VtHeadingPair(St));return tr}function parse_dictionary(St,er){for(var tr=St.read_shift(4),rr={},nr=0;nr!=tr;++nr){var ar=St.read_shift(4),sr=St.read_shift(4);rr[ar]=St.read_shift(sr,er===1200?"utf16le":"utf8").replace(chr0,"").replace(chr1,"!"),er===1200&&sr%2&&(St.l+=2)}return St.l&3&&(St.l=St.l>>3<<2),rr}function parse_BLOB(St){var er=St.read_shift(4),tr=St.slice(St.l,St.l+er);return St.l+=er,(er&3)>0&&(St.l+=4-(er&3)&3),tr}function parse_ClipboardData(St){var er={};return er.Size=St.read_shift(4),St.l+=er.Size+3-(er.Size-1)%4,er}function parse_TypedPropertyValue(St,er,tr){var rr=St.read_shift(2),nr,ar=tr||{};if(St.l+=2,er!==VT_VARIANT&&rr!==er&&VT_CUSTOM.indexOf(er)===-1&&!((er&65534)==4126&&(rr&65534)==4126))throw new Error("Expected type "+er+" saw "+rr);switch(er===VT_VARIANT?rr:er){case 2:return nr=St.read_shift(2,"i"),ar.raw||(St.l+=2),nr;case 3:return nr=St.read_shift(4,"i"),nr;case 11:return St.read_shift(4)!==0;case 19:return nr=St.read_shift(4),nr;case 30:return parse_lpstr(St,rr,4).replace(chr0,"");case 31:return parse_lpwstr(St);case 64:return parse_FILETIME(St);case 65:return parse_BLOB(St);case 71:return parse_ClipboardData(St);case 80:return parse_VtString(St,rr,!ar.raw).replace(chr0,"");case 81:return parse_VtUnalignedString(St,rr).replace(chr0,"");case 4108:return parse_VtVecHeadingPairValue(St);case 4126:case 4127:return rr==4127?parse_VtVecLpwstrValue(St):parse_VtVecUnalignedLpstrValue(St);default:throw new Error("TypedPropertyValue unrecognized type "+er+" "+rr)}}function write_TypedPropertyValue(St,er){var tr=new_buf(4),rr=new_buf(4);switch(tr.write_shift(4,St==80?31:St),St){case 3:rr.write_shift(-4,er);break;case 5:rr=new_buf(8),rr.write_shift(8,er,"f");break;case 11:rr.write_shift(4,er?1:0);break;case 64:rr=write_FILETIME(er);break;case 31:case 80:for(rr=new_buf(4+2*(er.length+1)+(er.length%2?0:2)),rr.write_shift(4,er.length+1),rr.write_shift(0,er,"dbcs");rr.l!=rr.length;)rr.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+St+" "+er)}return bconcat([tr,rr])}function parse_PropertySet(St,er){var tr=St.l,rr=St.read_shift(4),nr=St.read_shift(4),ar=[],sr=0,ir=0,or=-1,lr={};for(sr=0;sr!=nr;++sr){var cr=St.read_shift(4),ur=St.read_shift(4);ar[sr]=[cr,ur+tr]}ar.sort(function(gr,vr){return gr[1]-vr[1]});var dr={};for(sr=0;sr!=nr;++sr){if(St.l!==ar[sr][1]){var fr=!0;if(sr>0&&er)switch(er[ar[sr-1][0]].t){case 2:St.l+2===ar[sr][1]&&(St.l+=2,fr=!1);break;case 80:St.l<=ar[sr][1]&&(St.l=ar[sr][1],fr=!1);break;case 4108:St.l<=ar[sr][1]&&(St.l=ar[sr][1],fr=!1);break}if((!er||sr==0)&&St.l<=ar[sr][1]&&(fr=!1,St.l=ar[sr][1]),fr)throw new Error("Read Error: Expected address "+ar[sr][1]+" at "+St.l+" :"+sr)}if(er){var mr=er[ar[sr][0]];if(dr[mr.n]=parse_TypedPropertyValue(St,mr.t,{raw:!0}),mr.p==="version"&&(dr[mr.n]=String(dr[mr.n]>>16)+"."+("0000"+String(dr[mr.n]&65535)).slice(-4)),mr.n=="CodePage")switch(dr[mr.n]){case 0:dr[mr.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:set_cp(ir=dr[mr.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+dr[mr.n])}}else if(ar[sr][0]===1){if(ir=dr.CodePage=parse_TypedPropertyValue(St,VT_I2),set_cp(ir),or!==-1){var xr=St.l;St.l=ar[or][1],lr=parse_dictionary(St,ir),St.l=xr}}else if(ar[sr][0]===0){if(ir===0){or=sr,St.l=ar[sr+1][1];continue}lr=parse_dictionary(St,ir)}else{var pr=lr[ar[sr][0]],hr;switch(St[St.l]){case 65:St.l+=4,hr=parse_BLOB(St);break;case 30:St.l+=4,hr=parse_VtString(St,St[St.l-4]).replace(/\u0000+$/,"");break;case 31:St.l+=4,hr=parse_VtString(St,St[St.l-4]).replace(/\u0000+$/,"");break;case 3:St.l+=4,hr=St.read_shift(4,"i");break;case 19:St.l+=4,hr=St.read_shift(4);break;case 5:St.l+=4,hr=St.read_shift(8,"f");break;case 11:St.l+=4,hr=parsebool(St,4);break;case 64:St.l+=4,hr=parseDate(parse_FILETIME(St));break;default:throw new Error("unparsed value: "+St[St.l])}dr[pr]=hr}}return St.l=tr+rr,dr}var XLSPSSkip=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function guess_property_type(St){switch(typeof St){case"boolean":return 11;case"number":return(St|0)==St?3:5;case"string":return 31;case"object":if(St instanceof Date)return 64;break}return-1}function write_PropertySet(St,er,tr){var rr=new_buf(8),nr=[],ar=[],sr=8,ir=0,or=new_buf(8),lr=new_buf(8);if(or.write_shift(4,2),or.write_shift(4,1200),lr.write_shift(4,1),ar.push(or),nr.push(lr),sr+=8+or.length,!er){lr=new_buf(8),lr.write_shift(4,0),nr.unshift(lr);var cr=[new_buf(4)];for(cr[0].write_shift(4,St.length),ir=0;ir<St.length;++ir){var ur=St[ir][0];for(or=new_buf(8+2*(ur.length+1)+(ur.length%2?0:2)),or.write_shift(4,ir+2),or.write_shift(4,ur.length+1),or.write_shift(0,ur,"dbcs");or.l!=or.length;)or.write_shift(1,0);cr.push(or)}or=bconcat(cr),ar.unshift(or),sr+=8+or.length}for(ir=0;ir<St.length;++ir)if(!(er&&!er[St[ir][0]])&&!(XLSPSSkip.indexOf(St[ir][0])>-1||PseudoPropsPairs.indexOf(St[ir][0])>-1)&&St[ir][1]!=null){var dr=St[ir][1],fr=0;if(er){fr=+er[St[ir][0]];var mr=tr[fr];if(mr.p=="version"&&typeof dr=="string"){var xr=dr.split(".");dr=(+xr[0]<<16)+(+xr[1]||0)}or=write_TypedPropertyValue(mr.t,dr)}else{var pr=guess_property_type(dr);pr==-1&&(pr=31,dr=String(dr)),or=write_TypedPropertyValue(pr,dr)}ar.push(or),lr=new_buf(8),lr.write_shift(4,er?fr:2+ir),nr.push(lr),sr+=8+or.length}var hr=8*(ar.length+1);for(ir=0;ir<ar.length;++ir)nr[ir].write_shift(4,hr),hr+=ar[ir].length;return rr.write_shift(4,sr),rr.write_shift(4,ar.length),bconcat([rr].concat(nr).concat(ar))}function parse_PropertySetStream(St,er,tr){var rr=St.content;if(!rr)return{};prep_blob(rr,0);var nr,ar,sr,ir,or=0;rr.chk("feff","Byte Order: "),rr.read_shift(2);var lr=rr.read_shift(4),cr=rr.read_shift(16);if(cr!==CFB.utils.consts.HEADER_CLSID&&cr!==tr)throw new Error("Bad PropertySet CLSID "+cr);if(nr=rr.read_shift(4),nr!==1&&nr!==2)throw new Error("Unrecognized #Sets: "+nr);if(ar=rr.read_shift(16),ir=rr.read_shift(4),nr===1&&ir!==rr.l)throw new Error("Length mismatch: "+ir+" !== "+rr.l);nr===2&&(sr=rr.read_shift(16),or=rr.read_shift(4));var ur=parse_PropertySet(rr,er),dr={SystemIdentifier:lr};for(var fr in ur)dr[fr]=ur[fr];if(dr.FMTID=ar,nr===1)return dr;if(or-rr.l==2&&(rr.l+=2),rr.l!==or)throw new Error("Length mismatch 2: "+rr.l+" !== "+or);var mr;try{mr=parse_PropertySet(rr,null)}catch{}for(fr in mr)dr[fr]=mr[fr];return dr.FMTID=[ar,sr],dr}function write_PropertySetStream(St,er,tr,rr,nr,ar){var sr=new_buf(nr?68:48),ir=[sr];sr.write_shift(2,65534),sr.write_shift(2,0),sr.write_shift(4,842412599),sr.write_shift(16,CFB.utils.consts.HEADER_CLSID,"hex"),sr.write_shift(4,nr?2:1),sr.write_shift(16,er,"hex"),sr.write_shift(4,nr?68:48);var or=write_PropertySet(St,tr,rr);if(ir.push(or),nr){var lr=write_PropertySet(nr,null,null);sr.write_shift(16,ar,"hex"),sr.write_shift(4,68+or.length),ir.push(lr)}return bconcat(ir)}function parsenoop2(St,er){return St.read_shift(er),null}function writezeroes(St,er){er||(er=new_buf(St));for(var tr=0;tr<St;++tr)er.write_shift(1,0);return er}function parslurp(St,er,tr){for(var rr=[],nr=St.l+er;St.l<nr;)rr.push(tr(St,nr-St.l));if(nr!==St.l)throw new Error("Slurp error");return rr}function parsebool(St,er){return St.read_shift(er)===1}function writebool(St,er){return er||(er=new_buf(2)),er.write_shift(2,+!!St),er}function parseuint16(St){return St.read_shift(2,"u")}function writeuint16(St,er){return er||(er=new_buf(2)),er.write_shift(2,St),er}function parseuint16a(St,er){return parslurp(St,er,parseuint16)}function parse_Bes(St){var er=St.read_shift(1),tr=St.read_shift(1);return tr===1?er:er===1}function write_Bes(St,er,tr){return tr||(tr=new_buf(2)),tr.write_shift(1,er=="e"?+St:+!!St),tr.write_shift(1,er=="e"?1:0),tr}function parse_ShortXLUnicodeString(St,er,tr){var rr=St.read_shift(tr&&tr.biff>=12?2:1),nr="sbcs-cont";if(tr&&tr.biff>=8,!tr||tr.biff==8){var ar=St.read_shift(1);ar&&(nr="dbcs-cont")}else tr.biff==12&&(nr="wstr");tr.biff>=2&&tr.biff<=5&&(nr="cpstr");var sr=rr?St.read_shift(rr,nr):"";return sr}function parse_XLUnicodeRichExtendedString(St){var er=St.read_shift(2),tr=St.read_shift(1),rr=tr&4,nr=tr&8,ar=1+(tr&1),sr=0,ir,or={};nr&&(sr=St.read_shift(2)),rr&&(ir=St.read_shift(4));var lr=ar==2?"dbcs-cont":"sbcs-cont",cr=er===0?"":St.read_shift(er,lr);return nr&&(St.l+=4*sr),rr&&(St.l+=ir),or.t=cr,nr||(or.raw="<t>"+or.t+"</t>",or.r=or.t),or}function write_XLUnicodeRichExtendedString(St){var er=St.t||"",tr=new_buf(3);tr.write_shift(2,er.length),tr.write_shift(1,1);var rr=new_buf(2*er.length);rr.write_shift(2*er.length,er,"utf16le");var nr=[tr,rr];return bconcat(nr)}function parse_XLUnicodeStringNoCch(St,er,tr){var rr;if(tr){if(tr.biff>=2&&tr.biff<=5)return St.read_shift(er,"cpstr");if(tr.biff>=12)return St.read_shift(er,"dbcs-cont")}var nr=St.read_shift(1);return nr===0?rr=St.read_shift(er,"sbcs-cont"):rr=St.read_shift(er,"dbcs-cont"),rr}function parse_XLUnicodeString(St,er,tr){var rr=St.read_shift(tr&&tr.biff==2?1:2);return rr===0?(St.l++,""):parse_XLUnicodeStringNoCch(St,rr,tr)}function parse_XLUnicodeString2(St,er,tr){if(tr.biff>5)return parse_XLUnicodeString(St,er,tr);var rr=St.read_shift(1);return rr===0?(St.l++,""):St.read_shift(rr,tr.biff<=4||!St.lens?"cpstr":"sbcs-cont")}function write_XLUnicodeString(St,er,tr){return tr||(tr=new_buf(3+2*St.length)),tr.write_shift(2,St.length),tr.write_shift(1,1),tr.write_shift(31,St,"utf16le"),tr}function parse_ControlInfo(St){var er=St.read_shift(1);St.l++;var tr=St.read_shift(2);return St.l+=2,[er,tr]}function parse_URLMoniker(St){var er=St.read_shift(4),tr=St.l,rr=!1;er>24&&(St.l+=er-24,St.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(rr=!0),St.l=tr);var nr=St.read_shift((rr?er-24:er)>>1,"utf16le").replace(chr0,"");return rr&&(St.l+=24),nr}function parse_FileMoniker(St){for(var er=St.read_shift(2),tr="";er-- >0;)tr+="../";var rr=St.read_shift(0,"lpstr-ansi");if(St.l+=2,St.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var nr=St.read_shift(4);if(nr===0)return tr+rr.replace(/\\/g,"/");var ar=St.read_shift(4);if(St.read_shift(2)!=3)throw new Error("Bad FileMoniker");var sr=St.read_shift(ar>>1,"utf16le").replace(chr0,"");return tr+sr}function parse_HyperlinkMoniker(St,er){var tr=St.read_shift(16);switch(tr){case"e0c9ea79f9bace118c8200aa004ba90b":return parse_URLMoniker(St);case"0303000000000000c000000000000046":return parse_FileMoniker(St);default:throw new Error("Unsupported Moniker "+tr)}}function parse_HyperlinkString(St){var er=St.read_shift(4),tr=er>0?St.read_shift(er,"utf16le").replace(chr0,""):"";return tr}function write_HyperlinkString(St,er){er||(er=new_buf(6+St.length*2)),er.write_shift(4,1+St.length);for(var tr=0;tr<St.length;++tr)er.write_shift(2,St.charCodeAt(tr));return er.write_shift(2,0),er}function parse_Hyperlink(St,er){var tr=St.l+er,rr=St.read_shift(4);if(rr!==2)throw new Error("Unrecognized streamVersion: "+rr);var nr=St.read_shift(2);St.l+=2;var ar,sr,ir,or,lr="",cr,ur;nr&16&&(ar=parse_HyperlinkString(St,tr-St.l)),nr&128&&(sr=parse_HyperlinkString(St,tr-St.l)),(nr&257)===257&&(ir=parse_HyperlinkString(St,tr-St.l)),(nr&257)===1&&(or=parse_HyperlinkMoniker(St,tr-St.l)),nr&8&&(lr=parse_HyperlinkString(St,tr-St.l)),nr&32&&(cr=St.read_shift(16)),nr&64&&(ur=parse_FILETIME(St)),St.l=tr;var dr=sr||ir||or||"";dr&&lr&&(dr+="#"+lr),dr||(dr="#"+lr),nr&2&&dr.charAt(0)=="/"&&dr.charAt(1)!="/"&&(dr="file://"+dr);var fr={Target:dr};return cr&&(fr.guid=cr),ur&&(fr.time=ur),ar&&(fr.Tooltip=ar),fr}function write_Hyperlink(St){var er=new_buf(512),tr=0,rr=St.Target;rr.slice(0,7)=="file://"&&(rr=rr.slice(7));var nr=rr.indexOf("#"),ar=nr>-1?31:23;switch(rr.charAt(0)){case"#":ar=28;break;case".":ar&=-3;break}er.write_shift(4,2),er.write_shift(4,ar);var sr=[8,6815827,6619237,4849780,83];for(tr=0;tr<sr.length;++tr)er.write_shift(4,sr[tr]);if(ar==28)rr=rr.slice(1),write_HyperlinkString(rr,er);else if(ar&2){for(sr="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),tr=0;tr<sr.length;++tr)er.write_shift(1,parseInt(sr[tr],16));var ir=nr>-1?rr.slice(0,nr):rr;for(er.write_shift(4,2*(ir.length+1)),tr=0;tr<ir.length;++tr)er.write_shift(2,ir.charCodeAt(tr));er.write_shift(2,0),ar&8&&write_HyperlinkString(nr>-1?rr.slice(nr+1):"",er)}else{for(sr="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),tr=0;tr<sr.length;++tr)er.write_shift(1,parseInt(sr[tr],16));for(var or=0;rr.slice(or*3,or*3+3)=="../"||rr.slice(or*3,or*3+3)=="..\\";)++or;for(er.write_shift(2,or),er.write_shift(4,rr.length-3*or+1),tr=0;tr<rr.length-3*or;++tr)er.write_shift(1,rr.charCodeAt(tr+3*or)&255);for(er.write_shift(1,0),er.write_shift(2,65535),er.write_shift(2,57005),tr=0;tr<6;++tr)er.write_shift(4,0)}return er.slice(0,er.l)}function parse_LongRGBA(St){var er=St.read_shift(1),tr=St.read_shift(1),rr=St.read_shift(1),nr=St.read_shift(1);return[er,tr,rr,nr]}function parse_LongRGB(St,er){var tr=parse_LongRGBA(St);return tr[3]=0,tr}function parse_XLSCell(St){var er=St.read_shift(2),tr=St.read_shift(2),rr=St.read_shift(2);return{r:er,c:tr,ixfe:rr}}function write_XLSCell(St,er,tr,rr){return rr||(rr=new_buf(6)),rr.write_shift(2,St),rr.write_shift(2,er),rr.write_shift(2,tr||0),rr}function parse_frtHeader(St){var er=St.read_shift(2),tr=St.read_shift(2);return St.l+=8,{type:er,flags:tr}}function parse_OptXLUnicodeString(St,er,tr){return er===0?"":parse_XLUnicodeString2(St,er,tr)}function parse_XTI(St,er,tr){var rr=tr.biff>8?4:2,nr=St.read_shift(rr),ar=St.read_shift(rr,"i"),sr=St.read_shift(rr,"i");return[nr,ar,sr]}function parse_RkRec(St){var er=St.read_shift(2),tr=parse_RkNumber(St);return[er,tr]}function parse_AddinUdf(St,er,tr){St.l+=4,er-=4;var rr=St.l+er,nr=parse_ShortXLUnicodeString(St,er,tr),ar=St.read_shift(2);if(rr-=St.l,ar!==rr)throw new Error("Malformed AddinUdf: padding = "+rr+" != "+ar);return St.l+=ar,nr}function parse_Ref8U(St){var er=St.read_shift(2),tr=St.read_shift(2),rr=St.read_shift(2),nr=St.read_shift(2);return{s:{c:rr,r:er},e:{c:nr,r:tr}}}function write_Ref8U(St,er){return er||(er=new_buf(8)),er.write_shift(2,St.s.r),er.write_shift(2,St.e.r),er.write_shift(2,St.s.c),er.write_shift(2,St.e.c),er}function parse_RefU(St){var er=St.read_shift(2),tr=St.read_shift(2),rr=St.read_shift(1),nr=St.read_shift(1);return{s:{c:rr,r:er},e:{c:nr,r:tr}}}var parse_Ref=parse_RefU;function parse_FtCmo(St){St.l+=4;var er=St.read_shift(2),tr=St.read_shift(2),rr=St.read_shift(2);return St.l+=12,[tr,er,rr]}function parse_FtNts(St){var er={};return St.l+=4,St.l+=16,er.fSharedNote=St.read_shift(2),St.l+=4,er}function parse_FtCf(St){var er={};return St.l+=4,St.cf=St.read_shift(2),er}function parse_FtSkip(St){St.l+=2,St.l+=St.read_shift(2)}var FtTab={0:parse_FtSkip,4:parse_FtSkip,5:parse_FtSkip,6:parse_FtSkip,7:parse_FtCf,8:parse_FtSkip,9:parse_FtSkip,10:parse_FtSkip,11:parse_FtSkip,12:parse_FtSkip,13:parse_FtNts,14:parse_FtSkip,15:parse_FtSkip,16:parse_FtSkip,17:parse_FtSkip,18:parse_FtSkip,19:parse_FtSkip,20:parse_FtSkip,21:parse_FtCmo};function parse_FtArray(St,er){for(var tr=St.l+er,rr=[];St.l<tr;){var nr=St.read_shift(2);St.l-=2;try{rr.push(FtTab[nr](St,tr-St.l))}catch{return St.l=tr,rr}}return St.l!=tr&&(St.l=tr),rr}function parse_BOF(St,er){var tr={BIFFVer:0,dt:0};switch(tr.BIFFVer=St.read_shift(2),er-=2,er>=2&&(tr.dt=St.read_shift(2),St.l-=2),tr.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(er>6)throw new Error("Unexpected BIFF Ver "+tr.BIFFVer)}return St.read_shift(er),tr}function write_BOF(St,er,tr){var rr=1536,nr=16;switch(tr.bookType){case"biff8":break;case"biff5":rr=1280,nr=8;break;case"biff4":rr=4,nr=6;break;case"biff3":rr=3,nr=6;break;case"biff2":rr=2,nr=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var ar=new_buf(nr);return ar.write_shift(2,rr),ar.write_shift(2,er),nr>4&&ar.write_shift(2,29282),nr>6&&ar.write_shift(2,1997),nr>8&&(ar.write_shift(2,49161),ar.write_shift(2,1),ar.write_shift(2,1798),ar.write_shift(2,0)),ar}function parse_InterfaceHdr(St,er){return er===0||St.read_shift(2),1200}function parse_WriteAccess(St,er,tr){if(tr.enc)return St.l+=er,"";var rr=St.l,nr=parse_XLUnicodeString2(St,0,tr);return St.read_shift(er+rr-St.l),nr}function write_WriteAccess(St,er){var tr=!er||er.biff==8,rr=new_buf(tr?112:54);for(rr.write_shift(er.biff==8?2:1,7),tr&&rr.write_shift(1,0),rr.write_shift(4,859007059),rr.write_shift(4,5458548|(tr?0:536870912));rr.l<rr.length;)rr.write_shift(1,tr?0:32);return rr}function parse_WsBool(St,er,tr){var rr=tr&&tr.biff==8||er==2?St.read_shift(2):(St.l+=er,0);return{fDialog:rr&16,fBelow:rr&64,fRight:rr&128}}function parse_BoundSheet8(St,er,tr){var rr=St.read_shift(4),nr=St.read_shift(1)&3,ar=St.read_shift(1);switch(ar){case 0:ar="Worksheet";break;case 1:ar="Macrosheet";break;case 2:ar="Chartsheet";break;case 6:ar="VBAModule";break}var sr=parse_ShortXLUnicodeString(St,0,tr);return sr.length===0&&(sr="Sheet1"),{pos:rr,hs:nr,dt:ar,name:sr}}function write_BoundSheet8(St,er){var tr=!er||er.biff>=8?2:1,rr=new_buf(8+tr*St.name.length);rr.write_shift(4,St.pos),rr.write_shift(1,St.hs||0),rr.write_shift(1,St.dt),rr.write_shift(1,St.name.length),er.biff>=8&&rr.write_shift(1,1),rr.write_shift(tr*St.name.length,St.name,er.biff<8?"sbcs":"utf16le");var nr=rr.slice(0,rr.l);return nr.l=rr.l,nr}function parse_SST(St,er){for(var tr=St.l+er,rr=St.read_shift(4),nr=St.read_shift(4),ar=[],sr=0;sr!=nr&&St.l<tr;++sr)ar.push(parse_XLUnicodeRichExtendedString(St));return ar.Count=rr,ar.Unique=nr,ar}function write_SST(St,er){var tr=new_buf(8);tr.write_shift(4,St.Count),tr.write_shift(4,St.Unique);for(var rr=[],nr=0;nr<St.length;++nr)rr[nr]=write_XLUnicodeRichExtendedString(St[nr]);var ar=bconcat([tr].concat(rr));return ar.parts=[tr.length].concat(rr.map(function(sr){return sr.length})),ar}function parse_ExtSST(St,er){var tr={};return tr.dsst=St.read_shift(2),St.l+=er-2,tr}function parse_Row(St){var er={};er.r=St.read_shift(2),er.c=St.read_shift(2),er.cnt=St.read_shift(2)-er.c;var tr=St.read_shift(2);St.l+=4;var rr=St.read_shift(1);return St.l+=3,rr&7&&(er.level=rr&7),rr&32&&(er.hidden=!0),rr&64&&(er.hpt=tr/20),er}function parse_ForceFullCalculation(St){var er=parse_frtHeader(St);if(er.type!=2211)throw new Error("Invalid Future Record "+er.type);var tr=St.read_shift(4);return tr!==0}function parse_RecalcId(St){return St.read_shift(2),St.read_shift(4)}function parse_DefaultRowHeight(St,er,tr){var rr=0;tr&&tr.biff==2||(rr=St.read_shift(2));var nr=St.read_shift(2);tr&&tr.biff==2&&(rr=1-(nr>>15),nr&=32767);var ar={Unsynced:rr&1,DyZero:(rr&2)>>1,ExAsc:(rr&4)>>2,ExDsc:(rr&8)>>3};return[ar,nr]}function parse_Window1(St){var er=St.read_shift(2),tr=St.read_shift(2),rr=St.read_shift(2),nr=St.read_shift(2),ar=St.read_shift(2),sr=St.read_shift(2),ir=St.read_shift(2),or=St.read_shift(2),lr=St.read_shift(2);return{Pos:[er,tr],Dim:[rr,nr],Flags:ar,CurTab:sr,FirstTab:ir,Selected:or,TabRatio:lr}}function write_Window1(){var St=new_buf(18);return St.write_shift(2,0),St.write_shift(2,0),St.write_shift(2,29280),St.write_shift(2,17600),St.write_shift(2,56),St.write_shift(2,0),St.write_shift(2,0),St.write_shift(2,1),St.write_shift(2,500),St}function parse_Window2(St,er,tr){if(tr&&tr.biff>=2&&tr.biff<5)return{};var rr=St.read_shift(2);return{RTL:rr&64}}function write_Window2(St){var er=new_buf(18),tr=1718;return St&&St.RTL&&(tr|=64),er.write_shift(2,tr),er.write_shift(4,0),er.write_shift(4,64),er.write_shift(4,0),er.write_shift(4,0),er}function parse_Pane(){}function parse_Font(St,er,tr){var rr={dyHeight:St.read_shift(2),fl:St.read_shift(2)};switch(tr&&tr.biff||8){case 2:break;case 3:case 4:St.l+=2;break;default:St.l+=10;break}return rr.name=parse_ShortXLUnicodeString(St,0,tr),rr}function write_Font(St,er){var tr=St.name||"Arial",rr=er&&er.biff==5,nr=rr?15+tr.length:16+2*tr.length,ar=new_buf(nr);return ar.write_shift(2,St.sz*20),ar.write_shift(4,0),ar.write_shift(2,400),ar.write_shift(4,0),ar.write_shift(2,0),ar.write_shift(1,tr.length),rr||ar.write_shift(1,1),ar.write_shift((rr?1:2)*tr.length,tr,rr?"sbcs":"utf16le"),ar}function parse_LabelSst(St){var er=parse_XLSCell(St);return er.isst=St.read_shift(4),er}function write_LabelSst(St,er,tr,rr){var nr=new_buf(10);return write_XLSCell(St,er,rr,nr),nr.write_shift(4,tr),nr}function parse_Label(St,er,tr){tr.biffguess&&tr.biff==2&&(tr.biff=5);var rr=St.l+er,nr=parse_XLSCell(St);tr.biff==2&&St.l++;var ar=parse_XLUnicodeString(St,rr-St.l,tr);return nr.val=ar,nr}function write_Label(St,er,tr,rr,nr){var ar=!nr||nr.biff==8,sr=new_buf(8+ +ar+(1+ar)*tr.length);return write_XLSCell(St,er,rr,sr),sr.write_shift(2,tr.length),ar&&sr.write_shift(1,1),sr.write_shift((1+ar)*tr.length,tr,ar?"utf16le":"sbcs"),sr}function parse_Format(St,er,tr){var rr=St.read_shift(2),nr=parse_XLUnicodeString2(St,0,tr);return[rr,nr]}function write_Format(St,er,tr,rr){var nr=tr&&tr.biff==5;rr||(rr=new_buf(nr?3+er.length:5+2*er.length)),rr.write_shift(2,St),rr.write_shift(nr?1:2,er.length),nr||rr.write_shift(1,1),rr.write_shift((nr?1:2)*er.length,er,nr?"sbcs":"utf16le");var ar=rr.length>rr.l?rr.slice(0,rr.l):rr;return ar.l==null&&(ar.l=ar.length),ar}var parse_BIFF2Format=parse_XLUnicodeString2;function parse_Dimensions(St,er,tr){var rr=St.l+er,nr=tr.biff==8||!tr.biff?4:2,ar=St.read_shift(nr),sr=St.read_shift(nr),ir=St.read_shift(2),or=St.read_shift(2);return St.l=rr,{s:{r:ar,c:ir},e:{r:sr,c:or}}}function write_Dimensions(St,er){var tr=er.biff==8||!er.biff?4:2,rr=new_buf(2*tr+6);return rr.write_shift(tr,St.s.r),rr.write_shift(tr,St.e.r+1),rr.write_shift(2,St.s.c),rr.write_shift(2,St.e.c+1),rr.write_shift(2,0),rr}function parse_RK(St){var er=St.read_shift(2),tr=St.read_shift(2),rr=parse_RkRec(St);return{r:er,c:tr,ixfe:rr[0],rknum:rr[1]}}function parse_MulRk(St,er){for(var tr=St.l+er-2,rr=St.read_shift(2),nr=St.read_shift(2),ar=[];St.l<tr;)ar.push(parse_RkRec(St));if(St.l!==tr)throw new Error("MulRK read error");var sr=St.read_shift(2);if(ar.length!=sr-nr+1)throw new Error("MulRK length mismatch");return{r:rr,c:nr,C:sr,rkrec:ar}}function parse_MulBlank(St,er){for(var tr=St.l+er-2,rr=St.read_shift(2),nr=St.read_shift(2),ar=[];St.l<tr;)ar.push(St.read_shift(2));if(St.l!==tr)throw new Error("MulBlank read error");var sr=St.read_shift(2);if(ar.length!=sr-nr+1)throw new Error("MulBlank length mismatch");return{r:rr,c:nr,C:sr,ixfe:ar}}function parse_CellStyleXF(St,er,tr,rr){var nr={},ar=St.read_shift(4),sr=St.read_shift(4),ir=St.read_shift(4),or=St.read_shift(2);return nr.patternType=XLSFillPattern[ir>>26],rr.cellStyles&&(nr.alc=ar&7,nr.fWrap=ar>>3&1,nr.alcV=ar>>4&7,nr.fJustLast=ar>>7&1,nr.trot=ar>>8&255,nr.cIndent=ar>>16&15,nr.fShrinkToFit=ar>>20&1,nr.iReadOrder=ar>>22&2,nr.fAtrNum=ar>>26&1,nr.fAtrFnt=ar>>27&1,nr.fAtrAlc=ar>>28&1,nr.fAtrBdr=ar>>29&1,nr.fAtrPat=ar>>30&1,nr.fAtrProt=ar>>31&1,nr.dgLeft=sr&15,nr.dgRight=sr>>4&15,nr.dgTop=sr>>8&15,nr.dgBottom=sr>>12&15,nr.icvLeft=sr>>16&127,nr.icvRight=sr>>23&127,nr.grbitDiag=sr>>30&3,nr.icvTop=ir&127,nr.icvBottom=ir>>7&127,nr.icvDiag=ir>>14&127,nr.dgDiag=ir>>21&15,nr.icvFore=or&127,nr.icvBack=or>>7&127,nr.fsxButton=or>>14&1),nr}function parse_XF(St,er,tr){var rr={};return rr.ifnt=St.read_shift(2),rr.numFmtId=St.read_shift(2),rr.flags=St.read_shift(2),rr.fStyle=rr.flags>>2&1,er-=6,rr.data=parse_CellStyleXF(St,er,rr.fStyle,tr),rr}function write_XF(St,er,tr,rr){var nr=tr&&tr.biff==5;rr||(rr=new_buf(nr?16:20)),rr.write_shift(2,0),St.style?(rr.write_shift(2,St.numFmtId||0),rr.write_shift(2,65524)):(rr.write_shift(2,St.numFmtId||0),rr.write_shift(2,er<<4));var ar=0;return St.numFmtId>0&&nr&&(ar|=1024),rr.write_shift(4,ar),rr.write_shift(4,0),nr||rr.write_shift(4,0),rr.write_shift(2,0),rr}function parse_Guts(St){St.l+=4;var er=[St.read_shift(2),St.read_shift(2)];if(er[0]!==0&&er[0]--,er[1]!==0&&er[1]--,er[0]>7||er[1]>7)throw new Error("Bad Gutters: "+er.join("|"));return er}function write_Guts(St){var er=new_buf(8);return er.write_shift(4,0),er.write_shift(2,0),er.write_shift(2,0),er}function parse_BoolErr(St,er,tr){var rr=parse_XLSCell(St);(tr.biff==2||er==9)&&++St.l;var nr=parse_Bes(St);return rr.val=nr,rr.t=nr===!0||nr===!1?"b":"e",rr}function write_BoolErr(St,er,tr,rr,nr,ar){var sr=new_buf(8);return write_XLSCell(St,er,rr,sr),write_Bes(tr,ar,sr),sr}function parse_Number(St,er,tr){tr.biffguess&&tr.biff==2&&(tr.biff=5);var rr=parse_XLSCell(St),nr=parse_Xnum(St);return rr.val=nr,rr}function write_Number(St,er,tr,rr){var nr=new_buf(14);return write_XLSCell(St,er,rr,nr),write_Xnum(tr,nr),nr}var parse_XLHeaderFooter=parse_OptXLUnicodeString;function parse_SupBook(St,er,tr){var rr=St.l+er,nr=St.read_shift(2),ar=St.read_shift(2);if(tr.sbcch=ar,ar==1025||ar==14849)return[ar,nr];if(ar<1||ar>255)throw new Error("Unexpected SupBook type: "+ar);for(var sr=parse_XLUnicodeStringNoCch(St,ar),ir=[];rr>St.l;)ir.push(parse_XLUnicodeString(St));return[ar,nr,sr,ir]}function parse_ExternName(St,er,tr){var rr=St.read_shift(2),nr,ar={fBuiltIn:rr&1,fWantAdvise:rr>>>1&1,fWantPict:rr>>>2&1,fOle:rr>>>3&1,fOleLink:rr>>>4&1,cf:rr>>>5&1023,fIcon:rr>>>15&1};return tr.sbcch===14849&&(nr=parse_AddinUdf(St,er-2,tr)),ar.body=nr||St.read_shift(er-2),typeof nr=="string"&&(ar.Name=nr),ar}var XLSLblBuiltIn=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function parse_Lbl(St,er,tr){var rr=St.l+er,nr=St.read_shift(2),ar=St.read_shift(1),sr=St.read_shift(1),ir=St.read_shift(tr&&tr.biff==2?1:2),or=0;(!tr||tr.biff>=5)&&(tr.biff!=5&&(St.l+=2),or=St.read_shift(2),tr.biff==5&&(St.l+=2),St.l+=4);var lr=parse_XLUnicodeStringNoCch(St,sr,tr);nr&32&&(lr=XLSLblBuiltIn[lr.charCodeAt(0)]);var cr=rr-St.l;tr&&tr.biff==2&&--cr;var ur=rr==St.l||ir===0||!(cr>0)?[]:parse_NameParsedFormula(St,cr,tr,ir);return{chKey:ar,Name:lr,itab:or,rgce:ur}}function parse_ExternSheet(St,er,tr){if(tr.biff<8)return parse_BIFF5ExternSheet(St,er,tr);for(var rr=[],nr=St.l+er,ar=St.read_shift(tr.biff>8?4:2);ar--!==0;)rr.push(parse_XTI(St,tr.biff>8?12:6,tr));if(St.l!=nr)throw new Error("Bad ExternSheet: "+St.l+" != "+nr);return rr}function parse_BIFF5ExternSheet(St,er,tr){St[St.l+1]==3&&St[St.l]++;var rr=parse_ShortXLUnicodeString(St,er,tr);return rr.charCodeAt(0)==3?rr.slice(1):rr}function parse_NameCmt(St,er,tr){if(tr.biff<8){St.l+=er;return}var rr=St.read_shift(2),nr=St.read_shift(2),ar=parse_XLUnicodeStringNoCch(St,rr,tr),sr=parse_XLUnicodeStringNoCch(St,nr,tr);return[ar,sr]}function parse_ShrFmla(St,er,tr){var rr=parse_RefU(St);St.l++;var nr=St.read_shift(1);return er-=8,[parse_SharedParsedFormula(St,er,tr),nr,rr]}function parse_Array(St,er,tr){var rr=parse_Ref(St);switch(tr.biff){case 2:St.l++,er-=7;break;case 3:case 4:St.l+=2,er-=8;break;default:St.l+=6,er-=12}return[rr,parse_ArrayParsedFormula(St,er,tr)]}function parse_MTRSettings(St){var er=St.read_shift(4)!==0,tr=St.read_shift(4)!==0,rr=St.read_shift(4);return[er,tr,rr]}function parse_NoteSh(St,er,tr){if(!(tr.biff<8)){var rr=St.read_shift(2),nr=St.read_shift(2),ar=St.read_shift(2),sr=St.read_shift(2),ir=parse_XLUnicodeString2(St,0,tr);return tr.biff<8&&St.read_shift(1),[{r:rr,c:nr},ir,sr,ar]}}function parse_Note(St,er,tr){return parse_NoteSh(St,er,tr)}function parse_MergeCells(St,er){for(var tr=[],rr=St.read_shift(2);rr--;)tr.push(parse_Ref8U(St));return tr}function write_MergeCells(St){var er=new_buf(2+St.length*8);er.write_shift(2,St.length);for(var tr=0;tr<St.length;++tr)write_Ref8U(St[tr],er);return er}function parse_Obj(St,er,tr){if(tr&&tr.biff<8)return parse_BIFF5Obj(St,er,tr);var rr=parse_FtCmo(St),nr=parse_FtArray(St,er-22,rr[1]);return{cmo:rr,ft:nr}}var parse_BIFF5OT={8:function(St,er){var tr=St.l+er;St.l+=10;var rr=St.read_shift(2);St.l+=4,St.l+=2,St.l+=2,St.l+=2,St.l+=4;var nr=St.read_shift(1);return St.l+=nr,St.l=tr,{fmt:rr}}};function parse_BIFF5Obj(St,er,tr){St.l+=4;var rr=St.read_shift(2),nr=St.read_shift(2),ar=St.read_shift(2);St.l+=2,St.l+=2,St.l+=2,St.l+=2,St.l+=2,St.l+=2,St.l+=2,St.l+=2,St.l+=2,St.l+=6,er-=36;var sr=[];return sr.push((parse_BIFF5OT[rr]||parsenoop)(St,er,tr)),{cmo:[nr,rr,ar],ft:sr}}function parse_TxO(St,er,tr){var rr=St.l,nr="";try{St.l+=4;var ar=(tr.lastobj||{cmo:[0,0]}).cmo[1],sr;[0,5,7,11,12,14].indexOf(ar)==-1?St.l+=6:sr=parse_ControlInfo(St,6,tr);var ir=St.read_shift(2);St.read_shift(2),parseuint16(St,2);var or=St.read_shift(2);St.l+=or;for(var lr=1;lr<St.lens.length-1;++lr){if(St.l-rr!=St.lens[lr])throw new Error("TxO: bad continue record");var cr=St[St.l],ur=parse_XLUnicodeStringNoCch(St,St.lens[lr+1]-St.lens[lr]-1);if(nr+=ur,nr.length>=(cr?ir:2*ir))break}if(nr.length!==ir&&nr.length!==ir*2)throw new Error("cchText: "+ir+" != "+nr.length);return St.l=rr+er,{t:nr}}catch{return St.l=rr+er,{t:nr}}}function parse_HLink(St,er){var tr=parse_Ref8U(St);St.l+=16;var rr=parse_Hyperlink(St,er-24);return[tr,rr]}function write_HLink(St){var er=new_buf(24),tr=decode_cell(St[0]);er.write_shift(2,tr.r),er.write_shift(2,tr.r),er.write_shift(2,tr.c),er.write_shift(2,tr.c);for(var rr="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),nr=0;nr<16;++nr)er.write_shift(1,parseInt(rr[nr],16));return bconcat([er,write_Hyperlink(St[1])])}function parse_HLinkTooltip(St,er){St.read_shift(2);var tr=parse_Ref8U(St),rr=St.read_shift((er-10)/2,"dbcs-cont");return rr=rr.replace(chr0,""),[tr,rr]}function write_HLinkTooltip(St){var er=St[1].Tooltip,tr=new_buf(10+2*(er.length+1));tr.write_shift(2,2048);var rr=decode_cell(St[0]);tr.write_shift(2,rr.r),tr.write_shift(2,rr.r),tr.write_shift(2,rr.c),tr.write_shift(2,rr.c);for(var nr=0;nr<er.length;++nr)tr.write_shift(2,er.charCodeAt(nr));return tr.write_shift(2,0),tr}function parse_Country(St){var er=[0,0],tr;return tr=St.read_shift(2),er[0]=CountryEnum[tr]||tr,tr=St.read_shift(2),er[1]=CountryEnum[tr]||tr,er}function write_Country(St){return St||(St=new_buf(4)),St.write_shift(2,1),St.write_shift(2,1),St}function parse_ClrtClient(St){for(var er=St.read_shift(2),tr=[];er-- >0;)tr.push(parse_LongRGB(St));return tr}function parse_Palette(St){for(var er=St.read_shift(2),tr=[];er-- >0;)tr.push(parse_LongRGB(St));return tr}function parse_XFCRC(St){St.l+=2;var er={cxfs:0,crc:0};return er.cxfs=St.read_shift(2),er.crc=St.read_shift(4),er}function parse_ColInfo(St,er,tr){if(!tr.cellStyles)return parsenoop(St,er);var rr=tr&&tr.biff>=12?4:2,nr=St.read_shift(rr),ar=St.read_shift(rr),sr=St.read_shift(rr),ir=St.read_shift(rr),or=St.read_shift(2);rr==2&&(St.l+=2);var lr={s:nr,e:ar,w:sr,ixfe:ir,flags:or};return(tr.biff>=5||!tr.biff)&&(lr.level=or>>8&7),lr}function write_ColInfo(St,er){var tr=new_buf(12);tr.write_shift(2,er),tr.write_shift(2,er),tr.write_shift(2,St.width*256),tr.write_shift(2,0);var rr=0;return St.hidden&&(rr|=1),tr.write_shift(1,rr),rr=St.level||0,tr.write_shift(1,rr),tr.write_shift(2,0),tr}function parse_Setup(St,er){var tr={};return er<32||(St.l+=16,tr.header=parse_Xnum(St),tr.footer=parse_Xnum(St),St.l+=2),tr}function parse_ShtProps(St,er,tr){var rr={area:!1};if(tr.biff!=5)return St.l+=er,rr;var nr=St.read_shift(1);return St.l+=3,nr&16&&(rr.area=!0),rr}function write_RRTabId(St){for(var er=new_buf(2*St),tr=0;tr<St;++tr)er.write_shift(2,tr+1);return er}var parse_Blank=parse_XLSCell,parse_Scl=parseuint16a,parse_String=parse_XLUnicodeString;function parse_ImData(St){var er=St.read_shift(2),tr=St.read_shift(2),rr=St.read_shift(4),nr={fmt:er,env:tr,len:rr,data:St.slice(St.l,St.l+rr)};return St.l+=rr,nr}function parse_BIFF2STR(St,er,tr){tr.biffguess&&tr.biff==5&&(tr.biff=2);var rr=parse_XLSCell(St);++St.l;var nr=parse_XLUnicodeString2(St,er-7,tr);return rr.t="str",rr.val=nr,rr}function parse_BIFF2NUM(St){var er=parse_XLSCell(St);++St.l;var tr=parse_Xnum(St);return er.t="n",er.val=tr,er}function write_BIFF2NUM(St,er,tr){var rr=new_buf(15);return write_BIFF2Cell(rr,St,er),rr.write_shift(8,tr,"f"),rr}function parse_BIFF2INT(St){var er=parse_XLSCell(St);++St.l;var tr=St.read_shift(2);return er.t="n",er.val=tr,er}function write_BIFF2INT(St,er,tr){var rr=new_buf(9);return write_BIFF2Cell(rr,St,er),rr.write_shift(2,tr),rr}function parse_BIFF2STRING(St){var er=St.read_shift(1);return er===0?(St.l++,""):St.read_shift(er,"sbcs-cont")}function parse_BIFF2FONTXTRA(St,er){St.l+=6,St.l+=2,St.l+=1,St.l+=3,St.l+=1,St.l+=er-13}function parse_RString(St,er,tr){var rr=St.l+er,nr=parse_XLSCell(St),ar=St.read_shift(2),sr=parse_XLUnicodeStringNoCch(St,ar,tr);return St.l=rr,nr.t="str",nr.val=sr,nr}var DBF_SUPPORTED_VERSIONS=[2,3,48,49,131,139,140,245],DBF=function(){var St={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},er=evert({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function tr(ir,or){var lr=[],cr=new_raw_buf(1);switch(or.type){case"base64":cr=s2a(Base64_decode(ir));break;case"binary":cr=s2a(ir);break;case"buffer":case"array":cr=ir;break}prep_blob(cr,0);var ur=cr.read_shift(1),dr=!!(ur&136),fr=!1,mr=!1;switch(ur){case 2:break;case 3:break;case 48:fr=!0,dr=!0;break;case 49:fr=!0,dr=!0;break;case 131:break;case 139:break;case 140:mr=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+ur.toString(16))}var xr=0,pr=521;ur==2&&(xr=cr.read_shift(2)),cr.l+=3,ur!=2&&(xr=cr.read_shift(4)),xr>1048576&&(xr=1e6),ur!=2&&(pr=cr.read_shift(2));var hr=cr.read_shift(2),gr=or.codepage||1252;ur!=2&&(cr.l+=16,cr.read_shift(1),cr[cr.l]!==0&&(gr=St[cr[cr.l]]),cr.l+=1,cr.l+=2),mr&&(cr.l+=36);for(var vr=[],br={},yr=Math.min(cr.length,ur==2?521:pr-10-(fr?264:0)),Er=mr?32:11;cr.l<yr&&cr[cr.l]!=13;)switch(br={},br.name=$cptable.utils.decode(gr,cr.slice(cr.l,cr.l+Er)).replace(/[\u0000\r\n].*$/g,""),cr.l+=Er,br.type=String.fromCharCode(cr.read_shift(1)),ur!=2&&!mr&&(br.offset=cr.read_shift(4)),br.len=cr.read_shift(1),ur==2&&(br.offset=cr.read_shift(2)),br.dec=cr.read_shift(1),br.name.length&&vr.push(br),ur!=2&&(cr.l+=mr?13:14),br.type){case"B":(!fr||br.len!=8)&&or.WTF&&console.log("Skipping "+br.name+":"+br.type);break;case"G":case"P":or.WTF&&console.log("Skipping "+br.name+":"+br.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+br.type)}if(cr[cr.l]!==13&&(cr.l=pr-1),cr.read_shift(1)!==13)throw new Error("DBF Terminator not found "+cr.l+" "+cr[cr.l]);cr.l=pr;var jr=0,_r=0;for(lr[0]=[],_r=0;_r!=vr.length;++_r)lr[0][_r]=vr[_r].name;for(;xr-- >0;){if(cr[cr.l]===42){cr.l+=hr;continue}for(++cr.l,lr[++jr]=[],_r=0,_r=0;_r!=vr.length;++_r){var Cr=cr.slice(cr.l,cr.l+vr[_r].len);cr.l+=vr[_r].len,prep_blob(Cr,0);var Or=$cptable.utils.decode(gr,Cr);switch(vr[_r].type){case"C":Or.trim().length&&(lr[jr][_r]=Or.replace(/\s+$/,""));break;case"D":Or.length===8?lr[jr][_r]=new Date(+Or.slice(0,4),+Or.slice(4,6)-1,+Or.slice(6,8)):lr[jr][_r]=Or;break;case"F":lr[jr][_r]=parseFloat(Or.trim());break;case"+":case"I":lr[jr][_r]=mr?Cr.read_shift(-4,"i")^2147483648:Cr.read_shift(4,"i");break;case"L":switch(Or.trim().toUpperCase()){case"Y":case"T":lr[jr][_r]=!0;break;case"N":case"F":lr[jr][_r]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+Or+"|")}break;case"M":if(!dr)throw new Error("DBF Unexpected MEMO for type "+ur.toString(16));lr[jr][_r]="##MEMO##"+(mr?parseInt(Or.trim(),10):Cr.read_shift(4));break;case"N":Or=Or.replace(/\u0000/g,"").trim(),Or&&Or!="."&&(lr[jr][_r]=+Or||0);break;case"@":lr[jr][_r]=new Date(Cr.read_shift(-8,"f")-621356832e5);break;case"T":lr[jr][_r]=new Date((Cr.read_shift(4)-2440588)*864e5+Cr.read_shift(4));break;case"Y":lr[jr][_r]=Cr.read_shift(4,"i")/1e4+Cr.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":lr[jr][_r]=-Cr.read_shift(-8,"f");break;case"B":if(fr&&vr[_r].len==8){lr[jr][_r]=Cr.read_shift(8,"f");break}case"G":case"P":Cr.l+=vr[_r].len;break;case"0":if(vr[_r].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+vr[_r].type)}}}if(ur!=2&&cr.l<cr.length&&cr[cr.l++]!=26)throw new Error("DBF EOF Marker missing "+(cr.l-1)+" of "+cr.length+" "+cr[cr.l-1].toString(16));return or&&or.sheetRows&&(lr=lr.slice(0,or.sheetRows)),or.DBF=vr,lr}function rr(ir,or){var lr=or||{};lr.dateNF||(lr.dateNF="yyyymmdd");var cr=aoa_to_sheet(tr(ir,lr),lr);return cr["!cols"]=lr.DBF.map(function(ur){return{wch:ur.len,DBF:ur}}),delete lr.DBF,cr}function nr(ir,or){try{return sheet_to_workbook(rr(ir,or),or)}catch(lr){if(or&&or.WTF)throw lr}return{SheetNames:[],Sheets:{}}}var ar={B:8,C:250,L:1,D:8,"?":0,"":0};function sr(ir,or){var lr=or||{};if(+lr.codepage>=0&&set_cp(+lr.codepage),lr.type=="string")throw new Error("Cannot write DBF to JS string");var cr=buf_array(),ur=sheet_to_json(ir,{header:1,raw:!0,cellDates:!0}),dr=ur[0],fr=ur.slice(1),mr=ir["!cols"]||[],xr=0,pr=0,hr=0,gr=1;for(xr=0;xr<dr.length;++xr){if(((mr[xr]||{}).DBF||{}).name){dr[xr]=mr[xr].DBF.name,++hr;continue}if(dr[xr]!=null){if(++hr,typeof dr[xr]=="number"&&(dr[xr]=dr[xr].toString(10)),typeof dr[xr]!="string")throw new Error("DBF Invalid column name "+dr[xr]+" |"+typeof dr[xr]+"|");if(dr.indexOf(dr[xr])!==xr){for(pr=0;pr<1024;++pr)if(dr.indexOf(dr[xr]+"_"+pr)==-1){dr[xr]+="_"+pr;break}}}}var vr=safe_decode_range(ir["!ref"]),br=[],yr=[],Er=[];for(xr=0;xr<=vr.e.c-vr.s.c;++xr){var jr="",_r="",Cr=0,Or=[];for(pr=0;pr<fr.length;++pr)fr[pr][xr]!=null&&Or.push(fr[pr][xr]);if(Or.length==0||dr[xr]==null){br[xr]="?";continue}for(pr=0;pr<Or.length;++pr){switch(typeof Or[pr]){case"number":_r="B";break;case"string":_r="C";break;case"boolean":_r="L";break;case"object":_r=Or[pr]instanceof Date?"D":"C";break;default:_r="C"}Cr=Math.max(Cr,String(Or[pr]).length),jr=jr&&jr!=_r?"C":_r}Cr>250&&(Cr=250),_r=((mr[xr]||{}).DBF||{}).type,_r=="C"&&mr[xr].DBF.len>Cr&&(Cr=mr[xr].DBF.len),jr=="B"&&_r=="N"&&(jr="N",Er[xr]=mr[xr].DBF.dec,Cr=mr[xr].DBF.len),yr[xr]=jr=="C"||_r=="N"?Cr:ar[jr]||0,gr+=yr[xr],br[xr]=jr}var Pr=cr.next(32);for(Pr.write_shift(4,318902576),Pr.write_shift(4,fr.length),Pr.write_shift(2,296+32*hr),Pr.write_shift(2,gr),xr=0;xr<4;++xr)Pr.write_shift(4,0);for(Pr.write_shift(4,0|(+er[current_ansi]||3)<<8),xr=0,pr=0;xr<dr.length;++xr)if(dr[xr]!=null){var Lr=cr.next(32),Gr=(dr[xr].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);Lr.write_shift(1,Gr,"sbcs"),Lr.write_shift(1,br[xr]=="?"?"C":br[xr],"sbcs"),Lr.write_shift(4,pr),Lr.write_shift(1,yr[xr]||ar[br[xr]]||0),Lr.write_shift(1,Er[xr]||0),Lr.write_shift(1,2),Lr.write_shift(4,0),Lr.write_shift(1,0),Lr.write_shift(4,0),Lr.write_shift(4,0),pr+=yr[xr]||ar[br[xr]]||0}var Kr=cr.next(264);for(Kr.write_shift(4,13),xr=0;xr<65;++xr)Kr.write_shift(4,0);for(xr=0;xr<fr.length;++xr){var nn=cr.next(gr);for(nn.write_shift(1,0),pr=0;pr<dr.length;++pr)if(dr[pr]!=null)switch(br[pr]){case"L":nn.write_shift(1,fr[xr][pr]==null?63:fr[xr][pr]?84:70);break;case"B":nn.write_shift(8,fr[xr][pr]||0,"f");break;case"N":var Qr="0";for(typeof fr[xr][pr]=="number"&&(Qr=fr[xr][pr].toFixed(Er[pr]||0)),hr=0;hr<yr[pr]-Qr.length;++hr)nn.write_shift(1,32);nn.write_shift(1,Qr,"sbcs");break;case"D":fr[xr][pr]?(nn.write_shift(4,("0000"+fr[xr][pr].getFullYear()).slice(-4),"sbcs"),nn.write_shift(2,("00"+(fr[xr][pr].getMonth()+1)).slice(-2),"sbcs"),nn.write_shift(2,("00"+fr[xr][pr].getDate()).slice(-2),"sbcs")):nn.write_shift(8,"00000000","sbcs");break;case"C":var zr=String(fr[xr][pr]!=null?fr[xr][pr]:"").slice(0,yr[pr]);for(nn.write_shift(1,zr,"sbcs"),hr=0;hr<yr[pr]-zr.length;++hr)nn.write_shift(1,32);break}}return cr.next(1).write_shift(1,26),cr.end()}return{to_workbook:nr,to_sheet:rr,from_sheet:sr}}(),SYLK=function(){var St={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},er=new RegExp("\x1BN("+keys(St).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),tr=function(dr,fr){var mr=St[fr];return typeof mr=="number"?_getansi(mr):mr},rr=function(dr,fr,mr){var xr=fr.charCodeAt(0)-32<<4|mr.charCodeAt(0)-48;return xr==59?dr:_getansi(xr)};St["|"]=254;function nr(dr,fr){switch(fr.type){case"base64":return ar(Base64_decode(dr),fr);case"binary":return ar(dr,fr);case"buffer":return ar(has_buf&&Buffer.isBuffer(dr)?dr.toString("binary"):a2s(dr),fr);case"array":return ar(cc2str(dr),fr)}throw new Error("Unrecognized type "+fr.type)}function ar(dr,fr){var mr=dr.split(/[\n\r]+/),xr=-1,pr=-1,hr=0,gr=0,vr=[],br=[],yr=null,Er={},jr=[],_r=[],Cr=[],Or=0,Pr;for(+fr.codepage>=0&&set_cp(+fr.codepage);hr!==mr.length;++hr){Or=0;var Lr=mr[hr].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,rr).replace(er,tr),Gr=Lr.replace(/;;/g,"\0").split(";").map(function(Dr){return Dr.replace(/\u0000/g,";")}),Kr=Gr[0],nn;if(Lr.length>0)switch(Kr){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":Gr[1].charAt(0)=="P"&&br.push(Lr.slice(3).replace(/;;/g,";"));break;case"C":var Qr=!1,zr=!1,Vr=!1,Jr=!1,tn=-1,Yr=-1;for(gr=1;gr<Gr.length;++gr)switch(Gr[gr].charAt(0)){case"A":break;case"X":pr=parseInt(Gr[gr].slice(1))-1,zr=!0;break;case"Y":for(xr=parseInt(Gr[gr].slice(1))-1,zr||(pr=0),Pr=vr.length;Pr<=xr;++Pr)vr[Pr]=[];break;case"K":nn=Gr[gr].slice(1),nn.charAt(0)==='"'?nn=nn.slice(1,nn.length-1):nn==="TRUE"?nn=!0:nn==="FALSE"?nn=!1:isNaN(fuzzynum(nn))?isNaN(fuzzydate(nn).getDate())||(nn=parseDate(nn)):(nn=fuzzynum(nn),yr!==null&&fmt_is_date(yr)&&(nn=numdate(nn))),Qr=!0;break;case"E":Jr=!0;var Sr=rc_to_a1(Gr[gr].slice(1),{r:xr,c:pr});vr[xr][pr]=[vr[xr][pr],Sr];break;case"S":Vr=!0,vr[xr][pr]=[vr[xr][pr],"S5S"];break;case"G":break;case"R":tn=parseInt(Gr[gr].slice(1))-1;break;case"C":Yr=parseInt(Gr[gr].slice(1))-1;break;default:if(fr&&fr.WTF)throw new Error("SYLK bad record "+Lr)}if(Qr&&(vr[xr][pr]&&vr[xr][pr].length==2?vr[xr][pr][0]=nn:vr[xr][pr]=nn,yr=null),Vr){if(Jr)throw new Error("SYLK shared formula cannot have own formula");var Rr=tn>-1&&vr[tn][Yr];if(!Rr||!Rr[1])throw new Error("SYLK shared formula cannot find base");vr[xr][pr][1]=shift_formula_str(Rr[1],{r:xr-tn,c:pr-Yr})}break;case"F":var Tr=0;for(gr=1;gr<Gr.length;++gr)switch(Gr[gr].charAt(0)){case"X":pr=parseInt(Gr[gr].slice(1))-1,++Tr;break;case"Y":for(xr=parseInt(Gr[gr].slice(1))-1,Pr=vr.length;Pr<=xr;++Pr)vr[Pr]=[];break;case"M":Or=parseInt(Gr[gr].slice(1))/20;break;case"F":break;case"G":break;case"P":yr=br[parseInt(Gr[gr].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(Cr=Gr[gr].slice(1).split(" "),Pr=parseInt(Cr[0],10);Pr<=parseInt(Cr[1],10);++Pr)Or=parseInt(Cr[2],10),_r[Pr-1]=Or===0?{hidden:!0}:{wch:Or},process_col(_r[Pr-1]);break;case"C":pr=parseInt(Gr[gr].slice(1))-1,_r[pr]||(_r[pr]={});break;case"R":xr=parseInt(Gr[gr].slice(1))-1,jr[xr]||(jr[xr]={}),Or>0?(jr[xr].hpt=Or,jr[xr].hpx=pt2px(Or)):Or===0&&(jr[xr].hidden=!0);break;default:if(fr&&fr.WTF)throw new Error("SYLK bad record "+Lr)}Tr<1&&(yr=null);break;default:if(fr&&fr.WTF)throw new Error("SYLK bad record "+Lr)}}return jr.length>0&&(Er["!rows"]=jr),_r.length>0&&(Er["!cols"]=_r),fr&&fr.sheetRows&&(vr=vr.slice(0,fr.sheetRows)),[vr,Er]}function sr(dr,fr){var mr=nr(dr,fr),xr=mr[0],pr=mr[1],hr=aoa_to_sheet(xr,fr);return keys(pr).forEach(function(gr){hr[gr]=pr[gr]}),hr}function ir(dr,fr){return sheet_to_workbook(sr(dr,fr),fr)}function or(dr,fr,mr,xr){var pr="C;Y"+(mr+1)+";X"+(xr+1)+";K";switch(dr.t){case"n":pr+=dr.v||0,dr.f&&!dr.F&&(pr+=";E"+a1_to_rc(dr.f,{r:mr,c:xr}));break;case"b":pr+=dr.v?"TRUE":"FALSE";break;case"e":pr+=dr.w||dr.v;break;case"d":pr+='"'+(dr.w||dr.v)+'"';break;case"s":pr+='"'+dr.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return pr}function lr(dr,fr){fr.forEach(function(mr,xr){var pr="F;W"+(xr+1)+" "+(xr+1)+" ";mr.hidden?pr+="0":(typeof mr.width=="number"&&!mr.wpx&&(mr.wpx=width2px(mr.width)),typeof mr.wpx=="number"&&!mr.wch&&(mr.wch=px2char(mr.wpx)),typeof mr.wch=="number"&&(pr+=Math.round(mr.wch))),pr.charAt(pr.length-1)!=" "&&dr.push(pr)})}function cr(dr,fr){fr.forEach(function(mr,xr){var pr="F;";mr.hidden?pr+="M0;":mr.hpt?pr+="M"+20*mr.hpt+";":mr.hpx&&(pr+="M"+20*px2pt(mr.hpx)+";"),pr.length>2&&dr.push(pr+"R"+(xr+1))})}function ur(dr,fr){var mr=["ID;PWXL;N;E"],xr=[],pr=safe_decode_range(dr["!ref"]),hr,gr=Array.isArray(dr),vr=`\r
`;mr.push("P;PGeneral"),mr.push("F;P0;DG0G8;M255"),dr["!cols"]&&lr(mr,dr["!cols"]),dr["!rows"]&&cr(mr,dr["!rows"]),mr.push("B;Y"+(pr.e.r-pr.s.r+1)+";X"+(pr.e.c-pr.s.c+1)+";D"+[pr.s.c,pr.s.r,pr.e.c,pr.e.r].join(" "));for(var br=pr.s.r;br<=pr.e.r;++br)for(var yr=pr.s.c;yr<=pr.e.c;++yr){var Er=encode_cell({r:br,c:yr});hr=gr?(dr[br]||[])[yr]:dr[Er],!(!hr||hr.v==null&&(!hr.f||hr.F))&&xr.push(or(hr,dr,br,yr))}return mr.join(vr)+vr+xr.join(vr)+vr+"E"+vr}return{to_workbook:ir,to_sheet:sr,from_sheet:ur}}(),DIF=function(){function St(ar,sr){switch(sr.type){case"base64":return er(Base64_decode(ar),sr);case"binary":return er(ar,sr);case"buffer":return er(has_buf&&Buffer.isBuffer(ar)?ar.toString("binary"):a2s(ar),sr);case"array":return er(cc2str(ar),sr)}throw new Error("Unrecognized type "+sr.type)}function er(ar,sr){for(var ir=ar.split(`
`),or=-1,lr=-1,cr=0,ur=[];cr!==ir.length;++cr){if(ir[cr].trim()==="BOT"){ur[++or]=[],lr=0;continue}if(!(or<0)){var dr=ir[cr].trim().split(","),fr=dr[0],mr=dr[1];++cr;for(var xr=ir[cr]||"";(xr.match(/["]/g)||[]).length&1&&cr<ir.length-1;)xr+=`
`+ir[++cr];switch(xr=xr.trim(),+fr){case-1:if(xr==="BOT"){ur[++or]=[],lr=0;continue}else if(xr!=="EOD")throw new Error("Unrecognized DIF special command "+xr);break;case 0:xr==="TRUE"?ur[or][lr]=!0:xr==="FALSE"?ur[or][lr]=!1:isNaN(fuzzynum(mr))?isNaN(fuzzydate(mr).getDate())?ur[or][lr]=mr:ur[or][lr]=parseDate(mr):ur[or][lr]=fuzzynum(mr),++lr;break;case 1:xr=xr.slice(1,xr.length-1),xr=xr.replace(/""/g,'"'),xr&&xr.match(/^=".*"$/)&&(xr=xr.slice(2,-1)),ur[or][lr++]=xr!==""?xr:null;break}if(xr==="EOD")break}}return sr&&sr.sheetRows&&(ur=ur.slice(0,sr.sheetRows)),ur}function tr(ar,sr){return aoa_to_sheet(St(ar,sr),sr)}function rr(ar,sr){return sheet_to_workbook(tr(ar,sr),sr)}var nr=function(){var ar=function(or,lr,cr,ur,dr){or.push(lr),or.push(cr+","+ur),or.push('"'+dr.replace(/"/g,'""')+'"')},sr=function(or,lr,cr,ur){or.push(lr+","+cr),or.push(lr==1?'"'+ur.replace(/"/g,'""')+'"':ur)};return function(or){var lr=[],cr=safe_decode_range(or["!ref"]),ur,dr=Array.isArray(or);ar(lr,"TABLE",0,1,"sheetjs"),ar(lr,"VECTORS",0,cr.e.r-cr.s.r+1,""),ar(lr,"TUPLES",0,cr.e.c-cr.s.c+1,""),ar(lr,"DATA",0,0,"");for(var fr=cr.s.r;fr<=cr.e.r;++fr){sr(lr,-1,0,"BOT");for(var mr=cr.s.c;mr<=cr.e.c;++mr){var xr=encode_cell({r:fr,c:mr});if(ur=dr?(or[fr]||[])[mr]:or[xr],!ur){sr(lr,1,0,"");continue}switch(ur.t){case"n":var pr=ur.w;!pr&&ur.v!=null&&(pr=ur.v),pr==null?ur.f&&!ur.F?sr(lr,1,0,"="+ur.f):sr(lr,1,0,""):sr(lr,0,pr,"V");break;case"b":sr(lr,0,ur.v?1:0,ur.v?"TRUE":"FALSE");break;case"s":sr(lr,1,0,isNaN(ur.v)?ur.v:'="'+ur.v+'"');break;case"d":ur.w||(ur.w=SSF_format(ur.z||table_fmt[14],datenum(parseDate(ur.v)))),sr(lr,0,ur.w,"V");break;default:sr(lr,1,0,"")}}}sr(lr,-1,0,"EOD");var hr=`\r
`,gr=lr.join(hr);return gr}}();return{to_workbook:rr,to_sheet:tr,from_sheet:nr}}(),ETH=function(){function St(ur){return ur.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function er(ur){return ur.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function tr(ur,dr){for(var fr=ur.split(`
`),mr=-1,xr=-1,pr=0,hr=[];pr!==fr.length;++pr){var gr=fr[pr].trim().split(":");if(gr[0]==="cell"){var vr=decode_cell(gr[1]);if(hr.length<=vr.r)for(mr=hr.length;mr<=vr.r;++mr)hr[mr]||(hr[mr]=[]);switch(mr=vr.r,xr=vr.c,gr[2]){case"t":hr[mr][xr]=St(gr[3]);break;case"v":hr[mr][xr]=+gr[3];break;case"vtf":var br=gr[gr.length-1];case"vtc":switch(gr[3]){case"nl":hr[mr][xr]=!!+gr[4];break;default:hr[mr][xr]=+gr[4];break}gr[2]=="vtf"&&(hr[mr][xr]=[hr[mr][xr],br])}}}return dr&&dr.sheetRows&&(hr=hr.slice(0,dr.sheetRows)),hr}function rr(ur,dr){return aoa_to_sheet(tr(ur,dr),dr)}function nr(ur,dr){return sheet_to_workbook(rr(ur,dr),dr)}var ar=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),sr=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,ir=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),or="--SocialCalcSpreadsheetControlSave--";function lr(ur){if(!ur||!ur["!ref"])return"";for(var dr=[],fr=[],mr,xr="",pr=decode_range(ur["!ref"]),hr=Array.isArray(ur),gr=pr.s.r;gr<=pr.e.r;++gr)for(var vr=pr.s.c;vr<=pr.e.c;++vr)if(xr=encode_cell({r:gr,c:vr}),mr=hr?(ur[gr]||[])[vr]:ur[xr],!(!mr||mr.v==null||mr.t==="z")){switch(fr=["cell",xr,"t"],mr.t){case"s":case"str":fr.push(er(mr.v));break;case"n":mr.f?(fr[2]="vtf",fr[3]="n",fr[4]=mr.v,fr[5]=er(mr.f)):(fr[2]="v",fr[3]=mr.v);break;case"b":fr[2]="vt"+(mr.f?"f":"c"),fr[3]="nl",fr[4]=mr.v?"1":"0",fr[5]=er(mr.f||(mr.v?"TRUE":"FALSE"));break;case"d":var br=datenum(parseDate(mr.v));fr[2]="vtc",fr[3]="nd",fr[4]=""+br,fr[5]=mr.w||SSF_format(mr.z||table_fmt[14],br);break;case"e":continue}dr.push(fr.join(":"))}return dr.push("sheet:c:"+(pr.e.c-pr.s.c+1)+":r:"+(pr.e.r-pr.s.r+1)+":tvf:1"),dr.push("valueformat:1:text-wiki"),dr.join(`
`)}function cr(ur){return[ar,sr,ir,sr,lr(ur),or].join(`
`)}return{to_workbook:nr,to_sheet:rr,from_sheet:cr}}(),PRN=function(){function St(cr,ur,dr,fr,mr){mr.raw?ur[dr][fr]=cr:cr===""||(cr==="TRUE"?ur[dr][fr]=!0:cr==="FALSE"?ur[dr][fr]=!1:isNaN(fuzzynum(cr))?isNaN(fuzzydate(cr).getDate())?ur[dr][fr]=cr:ur[dr][fr]=parseDate(cr):ur[dr][fr]=fuzzynum(cr))}function er(cr,ur){var dr=ur||{},fr=[];if(!cr||cr.length===0)return fr;for(var mr=cr.split(/[\r\n]/),xr=mr.length-1;xr>=0&&mr[xr].length===0;)--xr;for(var pr=10,hr=0,gr=0;gr<=xr;++gr)hr=mr[gr].indexOf(" "),hr==-1?hr=mr[gr].length:hr++,pr=Math.max(pr,hr);for(gr=0;gr<=xr;++gr){fr[gr]=[];var vr=0;for(St(mr[gr].slice(0,pr).trim(),fr,gr,vr,dr),vr=1;vr<=(mr[gr].length-pr)/10+1;++vr)St(mr[gr].slice(pr+(vr-1)*10,pr+vr*10).trim(),fr,gr,vr,dr)}return dr.sheetRows&&(fr=fr.slice(0,dr.sheetRows)),fr}var tr={44:",",9:"	",59:";",124:"|"},rr={44:3,9:2,59:1,124:0};function nr(cr){for(var ur={},dr=!1,fr=0,mr=0;fr<cr.length;++fr)(mr=cr.charCodeAt(fr))==34?dr=!dr:!dr&&mr in tr&&(ur[mr]=(ur[mr]||0)+1);mr=[];for(fr in ur)Object.prototype.hasOwnProperty.call(ur,fr)&&mr.push([ur[fr],fr]);if(!mr.length){ur=rr;for(fr in ur)Object.prototype.hasOwnProperty.call(ur,fr)&&mr.push([ur[fr],fr])}return mr.sort(function(xr,pr){return xr[0]-pr[0]||rr[xr[1]]-rr[pr[1]]}),tr[mr.pop()[1]]||44}function ar(cr,ur){var dr=ur||{},fr="",mr=dr.dense?[]:{},xr={s:{c:0,r:0},e:{c:0,r:0}};cr.slice(0,4)=="sep="?cr.charCodeAt(5)==13&&cr.charCodeAt(6)==10?(fr=cr.charAt(4),cr=cr.slice(7)):cr.charCodeAt(5)==13||cr.charCodeAt(5)==10?(fr=cr.charAt(4),cr=cr.slice(6)):fr=nr(cr.slice(0,1024)):dr&&dr.FS?fr=dr.FS:fr=nr(cr.slice(0,1024));var pr=0,hr=0,gr=0,vr=0,br=0,yr=fr.charCodeAt(0),Er=!1,jr=0,_r=cr.charCodeAt(0);cr=cr.replace(/\r\n/mg,`
`);var Cr=dr.dateNF!=null?dateNF_regex(dr.dateNF):null;function Or(){var Pr=cr.slice(vr,br),Lr={};if(Pr.charAt(0)=='"'&&Pr.charAt(Pr.length-1)=='"'&&(Pr=Pr.slice(1,-1).replace(/""/g,'"')),Pr.length===0)Lr.t="z";else if(dr.raw)Lr.t="s",Lr.v=Pr;else if(Pr.trim().length===0)Lr.t="s",Lr.v=Pr;else if(Pr.charCodeAt(0)==61)Pr.charCodeAt(1)==34&&Pr.charCodeAt(Pr.length-1)==34?(Lr.t="s",Lr.v=Pr.slice(2,-1).replace(/""/g,'"')):fuzzyfmla(Pr)?(Lr.t="n",Lr.f=Pr.slice(1)):(Lr.t="s",Lr.v=Pr);else if(Pr=="TRUE")Lr.t="b",Lr.v=!0;else if(Pr=="FALSE")Lr.t="b",Lr.v=!1;else if(!isNaN(gr=fuzzynum(Pr)))Lr.t="n",dr.cellText!==!1&&(Lr.w=Pr),Lr.v=gr;else if(!isNaN(fuzzydate(Pr).getDate())||Cr&&Pr.match(Cr)){Lr.z=dr.dateNF||table_fmt[14];var Gr=0;Cr&&Pr.match(Cr)&&(Pr=dateNF_fix(Pr,dr.dateNF,Pr.match(Cr)||[]),Gr=1),dr.cellDates?(Lr.t="d",Lr.v=parseDate(Pr,Gr)):(Lr.t="n",Lr.v=datenum(parseDate(Pr,Gr))),dr.cellText!==!1&&(Lr.w=SSF_format(Lr.z,Lr.v instanceof Date?datenum(Lr.v):Lr.v)),dr.cellNF||delete Lr.z}else Lr.t="s",Lr.v=Pr;if(Lr.t=="z"||(dr.dense?(mr[pr]||(mr[pr]=[]),mr[pr][hr]=Lr):mr[encode_cell({c:hr,r:pr})]=Lr),vr=br+1,_r=cr.charCodeAt(vr),xr.e.c<hr&&(xr.e.c=hr),xr.e.r<pr&&(xr.e.r=pr),jr==yr)++hr;else if(hr=0,++pr,dr.sheetRows&&dr.sheetRows<=pr)return!0}e:for(;br<cr.length;++br)switch(jr=cr.charCodeAt(br)){case 34:_r===34&&(Er=!Er);break;case yr:case 10:case 13:if(!Er&&Or())break e;break}return br-vr>0&&Or(),mr["!ref"]=encode_range(xr),mr}function sr(cr,ur){return!(ur&&ur.PRN)||ur.FS||cr.slice(0,4)=="sep="||cr.indexOf("	")>=0||cr.indexOf(",")>=0||cr.indexOf(";")>=0?ar(cr,ur):aoa_to_sheet(er(cr,ur),ur)}function ir(cr,ur){var dr="",fr=ur.type=="string"?[0,0,0,0]:firstbyte(cr,ur);switch(ur.type){case"base64":dr=Base64_decode(cr);break;case"binary":dr=cr;break;case"buffer":ur.codepage==65001?dr=cr.toString("utf8"):ur.codepage&&typeof $cptable<"u"||(dr=has_buf&&Buffer.isBuffer(cr)?cr.toString("binary"):a2s(cr));break;case"array":dr=cc2str(cr);break;case"string":dr=cr;break;default:throw new Error("Unrecognized type "+ur.type)}return fr[0]==239&&fr[1]==187&&fr[2]==191?dr=utf8read(dr.slice(3)):ur.type!="string"&&ur.type!="buffer"&&ur.codepage==65001?dr=utf8read(dr):ur.type=="binary"&&typeof $cptable<"u",dr.slice(0,19)=="socialcalc:version:"?ETH.to_sheet(ur.type=="string"?dr:utf8read(dr),ur):sr(dr,ur)}function or(cr,ur){return sheet_to_workbook(ir(cr,ur),ur)}function lr(cr){for(var ur=[],dr=safe_decode_range(cr["!ref"]),fr,mr=Array.isArray(cr),xr=dr.s.r;xr<=dr.e.r;++xr){for(var pr=[],hr=dr.s.c;hr<=dr.e.c;++hr){var gr=encode_cell({r:xr,c:hr});if(fr=mr?(cr[xr]||[])[hr]:cr[gr],!fr||fr.v==null){pr.push("          ");continue}for(var vr=(fr.w||(format_cell(fr),fr.w)||"").slice(0,10);vr.length<10;)vr+=" ";pr.push(vr+(hr===0?" ":""))}ur.push(pr.join(""))}return ur.join(`
`)}return{to_workbook:or,to_sheet:ir,from_sheet:lr}}();function read_wb_ID(St,er){var tr=er||{},rr=!!tr.WTF;tr.WTF=!0;try{var nr=SYLK.to_workbook(St,tr);return tr.WTF=rr,nr}catch(ar){if(tr.WTF=rr,!ar.message.match(/SYLK bad record ID/)&&rr)throw ar;return PRN.to_workbook(St,er)}}var WK_=function(){function St(Sr,Rr,Tr){if(Sr){prep_blob(Sr,Sr.l||0);for(var Dr=Tr.Enum||tn;Sr.l<Sr.length;){var Mr=Sr.read_shift(2),Br=Dr[Mr]||Dr[65535],qr=Sr.read_shift(2),Wr=Sr.l+qr,sn=Br.f&&Br.f(Sr,qr,Tr);if(Sr.l=Wr,Rr(sn,Br,Mr))return}}}function er(Sr,Rr){switch(Rr.type){case"base64":return tr(s2a(Base64_decode(Sr)),Rr);case"binary":return tr(s2a(Sr),Rr);case"buffer":case"array":return tr(Sr,Rr)}throw"Unsupported type "+Rr.type}function tr(Sr,Rr){if(!Sr)return Sr;var Tr=Rr||{},Dr=Tr.dense?[]:{},Mr="Sheet1",Br="",qr=0,Wr={},sn=[],un=[],Nr={s:{r:0,c:0},e:{r:0,c:0}},Ur=Tr.sheetRows||0;if(Sr[2]==0&&(Sr[3]==8||Sr[3]==9)&&Sr.length>=16&&Sr[14]==5&&Sr[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(Sr[2]==2)Tr.Enum=tn,St(Sr,function(on,vn,yn){switch(yn){case 0:Tr.vers=on,on>=4096&&(Tr.qpro=!0);break;case 6:Nr=on;break;case 204:on&&(Br=on);break;case 222:Br=on;break;case 15:case 51:Tr.qpro||(on[1].v=on[1].v.slice(1));case 13:case 14:case 16:yn==14&&(on[2]&112)==112&&(on[2]&15)>1&&(on[2]&15)<15&&(on[1].z=Tr.dateNF||table_fmt[14],Tr.cellDates&&(on[1].t="d",on[1].v=numdate(on[1].v))),Tr.qpro&&on[3]>qr&&(Dr["!ref"]=encode_range(Nr),Wr[Mr]=Dr,sn.push(Mr),Dr=Tr.dense?[]:{},Nr={s:{r:0,c:0},e:{r:0,c:0}},qr=on[3],Mr=Br||"Sheet"+(qr+1),Br="");var Dn=Tr.dense?(Dr[on[0].r]||[])[on[0].c]:Dr[encode_cell(on[0])];if(Dn){Dn.t=on[1].t,Dn.v=on[1].v,on[1].z!=null&&(Dn.z=on[1].z),on[1].f!=null&&(Dn.f=on[1].f);break}Tr.dense?(Dr[on[0].r]||(Dr[on[0].r]=[]),Dr[on[0].r][on[0].c]=on[1]):Dr[encode_cell(on[0])]=on[1];break}},Tr);else if(Sr[2]==26||Sr[2]==14)Tr.Enum=Yr,Sr[2]==14&&(Tr.qpro=!0,Sr.l=0),St(Sr,function(on,vn,yn){switch(yn){case 204:Mr=on;break;case 22:on[1].v=on[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(on[3]>qr&&(Dr["!ref"]=encode_range(Nr),Wr[Mr]=Dr,sn.push(Mr),Dr=Tr.dense?[]:{},Nr={s:{r:0,c:0},e:{r:0,c:0}},qr=on[3],Mr="Sheet"+(qr+1)),Ur>0&&on[0].r>=Ur)break;Tr.dense?(Dr[on[0].r]||(Dr[on[0].r]=[]),Dr[on[0].r][on[0].c]=on[1]):Dr[encode_cell(on[0])]=on[1],Nr.e.c<on[0].c&&(Nr.e.c=on[0].c),Nr.e.r<on[0].r&&(Nr.e.r=on[0].r);break;case 27:on[14e3]&&(un[on[14e3][0]]=on[14e3][1]);break;case 1537:un[on[0]]=on[1],on[0]==qr&&(Mr=on[1]);break}},Tr);else throw new Error("Unrecognized LOTUS BOF "+Sr[2]);if(Dr["!ref"]=encode_range(Nr),Wr[Br||Mr]=Dr,sn.push(Br||Mr),!un.length)return{SheetNames:sn,Sheets:Wr};for(var en={},Zr=[],Ir=0;Ir<un.length;++Ir)Wr[sn[Ir]]?(Zr.push(un[Ir]||sn[Ir]),en[un[Ir]]=Wr[un[Ir]]||Wr[sn[Ir]]):(Zr.push(un[Ir]),en[un[Ir]]={"!ref":"A1"});return{SheetNames:Zr,Sheets:en}}function rr(Sr,Rr){var Tr=Rr||{};if(+Tr.codepage>=0&&set_cp(+Tr.codepage),Tr.type=="string")throw new Error("Cannot write WK1 to JS string");var Dr=buf_array(),Mr=safe_decode_range(Sr["!ref"]),Br=Array.isArray(Sr),qr=[];write_biff_rec(Dr,0,ar(1030)),write_biff_rec(Dr,6,or(Mr));for(var Wr=Math.min(Mr.e.r,8191),sn=Mr.s.r;sn<=Wr;++sn)for(var un=encode_row(sn),Nr=Mr.s.c;Nr<=Mr.e.c;++Nr){sn===Mr.s.r&&(qr[Nr]=encode_col(Nr));var Ur=qr[Nr]+un,en=Br?(Sr[sn]||[])[Nr]:Sr[Ur];if(!(!en||en.t=="z"))if(en.t=="n")(en.v|0)==en.v&&en.v>=-32768&&en.v<=32767?write_biff_rec(Dr,13,fr(sn,Nr,en.v)):write_biff_rec(Dr,14,xr(sn,Nr,en.v));else{var Zr=format_cell(en);write_biff_rec(Dr,15,ur(sn,Nr,Zr.slice(0,239)))}}return write_biff_rec(Dr,1),Dr.end()}function nr(Sr,Rr){var Tr=Rr||{};if(+Tr.codepage>=0&&set_cp(+Tr.codepage),Tr.type=="string")throw new Error("Cannot write WK3 to JS string");var Dr=buf_array();write_biff_rec(Dr,0,sr(Sr));for(var Mr=0,Br=0;Mr<Sr.SheetNames.length;++Mr)(Sr.Sheets[Sr.SheetNames[Mr]]||{})["!ref"]&&write_biff_rec(Dr,27,Jr(Sr.SheetNames[Mr],Br++));var qr=0;for(Mr=0;Mr<Sr.SheetNames.length;++Mr){var Wr=Sr.Sheets[Sr.SheetNames[Mr]];if(!(!Wr||!Wr["!ref"])){for(var sn=safe_decode_range(Wr["!ref"]),un=Array.isArray(Wr),Nr=[],Ur=Math.min(sn.e.r,8191),en=sn.s.r;en<=Ur;++en)for(var Zr=encode_row(en),Ir=sn.s.c;Ir<=sn.e.c;++Ir){en===sn.s.r&&(Nr[Ir]=encode_col(Ir));var on=Nr[Ir]+Zr,vn=un?(Wr[en]||[])[Ir]:Wr[on];if(!(!vn||vn.t=="z"))if(vn.t=="n")write_biff_rec(Dr,23,Or(en,Ir,qr,vn.v));else{var yn=format_cell(vn);write_biff_rec(Dr,22,jr(en,Ir,qr,yn.slice(0,239)))}}++qr}}return write_biff_rec(Dr,1),Dr.end()}function ar(Sr){var Rr=new_buf(2);return Rr.write_shift(2,Sr),Rr}function sr(Sr){var Rr=new_buf(26);Rr.write_shift(2,4096),Rr.write_shift(2,4),Rr.write_shift(4,0);for(var Tr=0,Dr=0,Mr=0,Br=0;Br<Sr.SheetNames.length;++Br){var qr=Sr.SheetNames[Br],Wr=Sr.Sheets[qr];if(!(!Wr||!Wr["!ref"])){++Mr;var sn=decode_range(Wr["!ref"]);Tr<sn.e.r&&(Tr=sn.e.r),Dr<sn.e.c&&(Dr=sn.e.c)}}return Tr>8191&&(Tr=8191),Rr.write_shift(2,Tr),Rr.write_shift(1,Mr),Rr.write_shift(1,Dr),Rr.write_shift(2,0),Rr.write_shift(2,0),Rr.write_shift(1,1),Rr.write_shift(1,2),Rr.write_shift(4,0),Rr.write_shift(4,0),Rr}function ir(Sr,Rr,Tr){var Dr={s:{c:0,r:0},e:{c:0,r:0}};return Rr==8&&Tr.qpro?(Dr.s.c=Sr.read_shift(1),Sr.l++,Dr.s.r=Sr.read_shift(2),Dr.e.c=Sr.read_shift(1),Sr.l++,Dr.e.r=Sr.read_shift(2),Dr):(Dr.s.c=Sr.read_shift(2),Dr.s.r=Sr.read_shift(2),Rr==12&&Tr.qpro&&(Sr.l+=2),Dr.e.c=Sr.read_shift(2),Dr.e.r=Sr.read_shift(2),Rr==12&&Tr.qpro&&(Sr.l+=2),Dr.s.c==65535&&(Dr.s.c=Dr.e.c=Dr.s.r=Dr.e.r=0),Dr)}function or(Sr){var Rr=new_buf(8);return Rr.write_shift(2,Sr.s.c),Rr.write_shift(2,Sr.s.r),Rr.write_shift(2,Sr.e.c),Rr.write_shift(2,Sr.e.r),Rr}function lr(Sr,Rr,Tr){var Dr=[{c:0,r:0},{t:"n",v:0},0,0];return Tr.qpro&&Tr.vers!=20768?(Dr[0].c=Sr.read_shift(1),Dr[3]=Sr.read_shift(1),Dr[0].r=Sr.read_shift(2),Sr.l+=2):(Dr[2]=Sr.read_shift(1),Dr[0].c=Sr.read_shift(2),Dr[0].r=Sr.read_shift(2)),Dr}function cr(Sr,Rr,Tr){var Dr=Sr.l+Rr,Mr=lr(Sr,Rr,Tr);if(Mr[1].t="s",Tr.vers==20768){Sr.l++;var Br=Sr.read_shift(1);return Mr[1].v=Sr.read_shift(Br,"utf8"),Mr}return Tr.qpro&&Sr.l++,Mr[1].v=Sr.read_shift(Dr-Sr.l,"cstr"),Mr}function ur(Sr,Rr,Tr){var Dr=new_buf(7+Tr.length);Dr.write_shift(1,255),Dr.write_shift(2,Rr),Dr.write_shift(2,Sr),Dr.write_shift(1,39);for(var Mr=0;Mr<Dr.length;++Mr){var Br=Tr.charCodeAt(Mr);Dr.write_shift(1,Br>=128?95:Br)}return Dr.write_shift(1,0),Dr}function dr(Sr,Rr,Tr){var Dr=lr(Sr,Rr,Tr);return Dr[1].v=Sr.read_shift(2,"i"),Dr}function fr(Sr,Rr,Tr){var Dr=new_buf(7);return Dr.write_shift(1,255),Dr.write_shift(2,Rr),Dr.write_shift(2,Sr),Dr.write_shift(2,Tr,"i"),Dr}function mr(Sr,Rr,Tr){var Dr=lr(Sr,Rr,Tr);return Dr[1].v=Sr.read_shift(8,"f"),Dr}function xr(Sr,Rr,Tr){var Dr=new_buf(13);return Dr.write_shift(1,255),Dr.write_shift(2,Rr),Dr.write_shift(2,Sr),Dr.write_shift(8,Tr,"f"),Dr}function pr(Sr,Rr,Tr){var Dr=Sr.l+Rr,Mr=lr(Sr,Rr,Tr);if(Mr[1].v=Sr.read_shift(8,"f"),Tr.qpro)Sr.l=Dr;else{var Br=Sr.read_shift(2);br(Sr.slice(Sr.l,Sr.l+Br),Mr),Sr.l+=Br}return Mr}function hr(Sr,Rr,Tr){var Dr=Rr&32768;return Rr&=-32769,Rr=(Dr?Sr:0)+(Rr>=8192?Rr-16384:Rr),(Dr?"":"$")+(Tr?encode_col(Rr):encode_row(Rr))}var gr={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},vr=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function br(Sr,Rr){prep_blob(Sr,0);for(var Tr=[],Dr=0,Mr="",Br="",qr="",Wr="";Sr.l<Sr.length;){var sn=Sr[Sr.l++];switch(sn){case 0:Tr.push(Sr.read_shift(8,"f"));break;case 1:Br=hr(Rr[0].c,Sr.read_shift(2),!0),Mr=hr(Rr[0].r,Sr.read_shift(2),!1),Tr.push(Br+Mr);break;case 2:{var un=hr(Rr[0].c,Sr.read_shift(2),!0),Nr=hr(Rr[0].r,Sr.read_shift(2),!1);Br=hr(Rr[0].c,Sr.read_shift(2),!0),Mr=hr(Rr[0].r,Sr.read_shift(2),!1),Tr.push(un+Nr+":"+Br+Mr)}break;case 3:if(Sr.l<Sr.length){console.error("WK1 premature formula end");return}break;case 4:Tr.push("("+Tr.pop()+")");break;case 5:Tr.push(Sr.read_shift(2));break;case 6:{for(var Ur="";sn=Sr[Sr.l++];)Ur+=String.fromCharCode(sn);Tr.push('"'+Ur.replace(/"/g,'""')+'"')}break;case 8:Tr.push("-"+Tr.pop());break;case 23:Tr.push("+"+Tr.pop());break;case 22:Tr.push("NOT("+Tr.pop()+")");break;case 20:case 21:Wr=Tr.pop(),qr=Tr.pop(),Tr.push(["AND","OR"][sn-20]+"("+qr+","+Wr+")");break;default:if(sn<32&&vr[sn])Wr=Tr.pop(),qr=Tr.pop(),Tr.push(qr+vr[sn]+Wr);else if(gr[sn]){if(Dr=gr[sn][1],Dr==69&&(Dr=Sr[Sr.l++]),Dr>Tr.length){console.error("WK1 bad formula parse 0x"+sn.toString(16)+":|"+Tr.join("|")+"|");return}var en=Tr.slice(-Dr);Tr.length-=Dr,Tr.push(gr[sn][0]+"("+en.join(",")+")")}else return sn<=7?console.error("WK1 invalid opcode "+sn.toString(16)):sn<=24?console.error("WK1 unsupported op "+sn.toString(16)):sn<=30?console.error("WK1 invalid opcode "+sn.toString(16)):sn<=115?console.error("WK1 unsupported function opcode "+sn.toString(16)):console.error("WK1 unrecognized opcode "+sn.toString(16))}}Tr.length==1?Rr[1].f=""+Tr[0]:console.error("WK1 bad formula parse |"+Tr.join("|")+"|")}function yr(Sr){var Rr=[{c:0,r:0},{t:"n",v:0},0];return Rr[0].r=Sr.read_shift(2),Rr[3]=Sr[Sr.l++],Rr[0].c=Sr[Sr.l++],Rr}function Er(Sr,Rr){var Tr=yr(Sr);return Tr[1].t="s",Tr[1].v=Sr.read_shift(Rr-4,"cstr"),Tr}function jr(Sr,Rr,Tr,Dr){var Mr=new_buf(6+Dr.length);Mr.write_shift(2,Sr),Mr.write_shift(1,Tr),Mr.write_shift(1,Rr),Mr.write_shift(1,39);for(var Br=0;Br<Dr.length;++Br){var qr=Dr.charCodeAt(Br);Mr.write_shift(1,qr>=128?95:qr)}return Mr.write_shift(1,0),Mr}function _r(Sr,Rr){var Tr=yr(Sr);Tr[1].v=Sr.read_shift(2);var Dr=Tr[1].v>>1;if(Tr[1].v&1)switch(Dr&7){case 0:Dr=(Dr>>3)*5e3;break;case 1:Dr=(Dr>>3)*500;break;case 2:Dr=(Dr>>3)/20;break;case 3:Dr=(Dr>>3)/200;break;case 4:Dr=(Dr>>3)/2e3;break;case 5:Dr=(Dr>>3)/2e4;break;case 6:Dr=(Dr>>3)/16;break;case 7:Dr=(Dr>>3)/64;break}return Tr[1].v=Dr,Tr}function Cr(Sr,Rr){var Tr=yr(Sr),Dr=Sr.read_shift(4),Mr=Sr.read_shift(4),Br=Sr.read_shift(2);if(Br==65535)return Dr===0&&Mr===3221225472?(Tr[1].t="e",Tr[1].v=15):Dr===0&&Mr===3489660928?(Tr[1].t="e",Tr[1].v=42):Tr[1].v=0,Tr;var qr=Br&32768;return Br=(Br&32767)-16446,Tr[1].v=(1-qr*2)*(Mr*Math.pow(2,Br+32)+Dr*Math.pow(2,Br)),Tr}function Or(Sr,Rr,Tr,Dr){var Mr=new_buf(14);if(Mr.write_shift(2,Sr),Mr.write_shift(1,Tr),Mr.write_shift(1,Rr),Dr==0)return Mr.write_shift(4,0),Mr.write_shift(4,0),Mr.write_shift(2,65535),Mr;var Br=0,qr=0,Wr=0,sn=0;return Dr<0&&(Br=1,Dr=-Dr),qr=Math.log2(Dr)|0,Dr/=Math.pow(2,qr-31),sn=Dr>>>0,sn&2147483648||(Dr/=2,++qr,sn=Dr>>>0),Dr-=sn,sn|=2147483648,sn>>>=0,Dr*=Math.pow(2,32),Wr=Dr>>>0,Mr.write_shift(4,Wr),Mr.write_shift(4,sn),qr+=16383+(Br?32768:0),Mr.write_shift(2,qr),Mr}function Pr(Sr,Rr){var Tr=Cr(Sr);return Sr.l+=Rr-14,Tr}function Lr(Sr,Rr){var Tr=yr(Sr),Dr=Sr.read_shift(4);return Tr[1].v=Dr>>6,Tr}function Gr(Sr,Rr){var Tr=yr(Sr),Dr=Sr.read_shift(8,"f");return Tr[1].v=Dr,Tr}function Kr(Sr,Rr){var Tr=Gr(Sr);return Sr.l+=Rr-10,Tr}function nn(Sr,Rr){return Sr[Sr.l+Rr-1]==0?Sr.read_shift(Rr,"cstr"):""}function Qr(Sr,Rr){var Tr=Sr[Sr.l++];Tr>Rr-1&&(Tr=Rr-1);for(var Dr="";Dr.length<Tr;)Dr+=String.fromCharCode(Sr[Sr.l++]);return Dr}function zr(Sr,Rr,Tr){if(!(!Tr.qpro||Rr<21)){var Dr=Sr.read_shift(1);Sr.l+=17,Sr.l+=1,Sr.l+=2;var Mr=Sr.read_shift(Rr-21,"cstr");return[Dr,Mr]}}function Vr(Sr,Rr){for(var Tr={},Dr=Sr.l+Rr;Sr.l<Dr;){var Mr=Sr.read_shift(2);if(Mr==14e3){for(Tr[Mr]=[0,""],Tr[Mr][0]=Sr.read_shift(2);Sr[Sr.l];)Tr[Mr][1]+=String.fromCharCode(Sr[Sr.l]),Sr.l++;Sr.l++}}return Tr}function Jr(Sr,Rr){var Tr=new_buf(5+Sr.length);Tr.write_shift(2,14e3),Tr.write_shift(2,Rr);for(var Dr=0;Dr<Sr.length;++Dr){var Mr=Sr.charCodeAt(Dr);Tr[Tr.l++]=Mr>127?95:Mr}return Tr[Tr.l++]=0,Tr}var tn={0:{n:"BOF",f:parseuint16},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:ir},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:dr},14:{n:"NUMBER",f:mr},15:{n:"LABEL",f:cr},16:{n:"FORMULA",f:pr},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:cr},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:nn},222:{n:"SHEETNAMELP",f:Qr},65535:{n:""}},Yr={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:Er},23:{n:"NUMBER17",f:Cr},24:{n:"NUMBER18",f:_r},25:{n:"FORMULA19",f:Pr},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Vr},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:Lr},38:{n:"??"},39:{n:"NUMBER27",f:Gr},40:{n:"FORMULA28",f:Kr},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:nn},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:zr},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:rr,book_to_wk3:nr,to_workbook:er}}();function parse_rpr(St){var er={},tr=St.match(tagregex),rr=0,nr=!1;if(tr)for(;rr!=tr.length;++rr){var ar=parsexmltag(tr[rr]);switch(ar[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!ar.val)break;case"<shadow>":case"<shadow/>":er.shadow=1;break;case"</shadow>":break;case"<charset":if(ar.val=="1")break;er.cp=CS2CP[parseInt(ar.val,10)];break;case"<outline":if(!ar.val)break;case"<outline>":case"<outline/>":er.outline=1;break;case"</outline>":break;case"<rFont":er.name=ar.val;break;case"<sz":er.sz=ar.val;break;case"<strike":if(!ar.val)break;case"<strike>":case"<strike/>":er.strike=1;break;case"</strike>":break;case"<u":if(!ar.val)break;switch(ar.val){case"double":er.uval="double";break;case"singleAccounting":er.uval="single-accounting";break;case"doubleAccounting":er.uval="double-accounting";break}case"<u>":case"<u/>":er.u=1;break;case"</u>":break;case"<b":if(ar.val=="0")break;case"<b>":case"<b/>":er.b=1;break;case"</b>":break;case"<i":if(ar.val=="0")break;case"<i>":case"<i/>":er.i=1;break;case"</i>":break;case"<color":ar.rgb&&(er.color=ar.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":er.family=ar.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":er.valign=ar.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":nr=!0;break;case"</ext>":nr=!1;break;default:if(ar[0].charCodeAt(1)!==47&&!nr)throw new Error("Unrecognized rich format "+ar[0])}}return er}var parse_rs=function(){var St=matchtag("t"),er=matchtag("rPr");function tr(ar){var sr=ar.match(St);if(!sr)return{t:"s",v:""};var ir={t:"s",v:unescapexml(sr[1])},or=ar.match(er);return or&&(ir.s=parse_rpr(or[1])),ir}var rr=/<(?:\w+:)?r>/g,nr=/<\/(?:\w+:)?r>/;return function(sr){return sr.replace(rr,"").split(nr).map(tr).filter(function(ir){return ir.v})}}(),rs_to_html=function(){var er=/(\r\n|\n)/g;function tr(nr,ar,sr){var ir=[];nr.u&&ir.push("text-decoration: underline;"),nr.uval&&ir.push("text-underline-style:"+nr.uval+";"),nr.sz&&ir.push("font-size:"+nr.sz+"pt;"),nr.outline&&ir.push("text-effect: outline;"),nr.shadow&&ir.push("text-shadow: auto;"),ar.push('<span style="'+ir.join("")+'">'),nr.b&&(ar.push("<b>"),sr.push("</b>")),nr.i&&(ar.push("<i>"),sr.push("</i>")),nr.strike&&(ar.push("<s>"),sr.push("</s>"));var or=nr.valign||"";return or=="superscript"||or=="super"?or="sup":or=="subscript"&&(or="sub"),or!=""&&(ar.push("<"+or+">"),sr.push("</"+or+">")),sr.push("</span>"),nr}function rr(nr){var ar=[[],nr.v,[]];return nr.v?(nr.s&&tr(nr.s,ar[0],ar[2]),ar[0].join("")+ar[1].replace(er,"<br/>")+ar[2].join("")):""}return function(ar){return ar.map(rr).join("")}}(),sitregex=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,sirregex=/<(?:\w+:)?r>/,sirphregex=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function parse_si(St,er){var tr=er?er.cellHTML:!0,rr={};return St?(St.match(/^\s*<(?:\w+:)?t[^>]*>/)?(rr.t=unescapexml(utf8read(St.slice(St.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),rr.r=utf8read(St),tr&&(rr.h=escapehtml(rr.t))):St.match(sirregex)&&(rr.r=utf8read(St),rr.t=unescapexml(utf8read((St.replace(sirphregex,"").match(sitregex)||[]).join("").replace(tagregex,""))),tr&&(rr.h=rs_to_html(parse_rs(rr.r)))),rr):{t:""}}var sstr0=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,sstr1=/<(?:\w+:)?(?:si|sstItem)>/g,sstr2=/<\/(?:\w+:)?(?:si|sstItem)>/;function parse_sst_xml(St,er){var tr=[],rr="";if(!St)return tr;var nr=St.match(sstr0);if(nr){rr=nr[2].replace(sstr1,"").split(sstr2);for(var ar=0;ar!=rr.length;++ar){var sr=parse_si(rr[ar].trim(),er);sr!=null&&(tr[tr.length]=sr)}nr=parsexmltag(nr[1]),tr.Count=nr.count,tr.Unique=nr.uniqueCount}return tr}var straywsregex=/^\s|\s$|[\t\n\r]/;function write_sst_xml(St,er){if(!er.bookSST)return"";var tr=[XML_HEADER];tr[tr.length]=writextag("sst",null,{xmlns:XMLNS_main[0],count:St.Count,uniqueCount:St.Unique});for(var rr=0;rr!=St.length;++rr)if(St[rr]!=null){var nr=St[rr],ar="<si>";nr.r?ar+=nr.r:(ar+="<t",nr.t||(nr.t=""),nr.t.match(straywsregex)&&(ar+=' xml:space="preserve"'),ar+=">"+escapexml(nr.t)+"</t>"),ar+="</si>",tr[tr.length]=ar}return tr.length>2&&(tr[tr.length]="</sst>",tr[1]=tr[1].replace("/>",">")),tr.join("")}function parse_BrtBeginSst(St){return[St.read_shift(4),St.read_shift(4)]}function parse_sst_bin(St,er){var tr=[],rr=!1;return recordhopper(St,function(ar,sr,ir){switch(ir){case 159:tr.Count=ar[0],tr.Unique=ar[1];break;case 19:tr.push(ar);break;case 160:return!0;case 35:rr=!0;break;case 36:rr=!1;break;default:if(sr.T,!rr||er.WTF)throw new Error("Unexpected record 0x"+ir.toString(16))}}),tr}function write_BrtBeginSst(St,er){return er||(er=new_buf(8)),er.write_shift(4,St.Count),er.write_shift(4,St.Unique),er}var write_BrtSSTItem=write_RichStr;function write_sst_bin(St){var er=buf_array();write_record(er,159,write_BrtBeginSst(St));for(var tr=0;tr<St.length;++tr)write_record(er,19,write_BrtSSTItem(St[tr]));return write_record(er,160),er.end()}function _JS2ANSI(St){for(var er=[],tr=St.split(""),rr=0;rr<tr.length;++rr)er[rr]=tr[rr].charCodeAt(0);return er}function parse_CRYPTOVersion(St,er){var tr={};return tr.Major=St.read_shift(2),tr.Minor=St.read_shift(2),er>=4&&(St.l+=er-4),tr}function parse_DataSpaceVersionInfo(St){var er={};return er.id=St.read_shift(0,"lpp4"),er.R=parse_CRYPTOVersion(St,4),er.U=parse_CRYPTOVersion(St,4),er.W=parse_CRYPTOVersion(St,4),er}function parse_DataSpaceMapEntry(St){for(var er=St.read_shift(4),tr=St.l+er-4,rr={},nr=St.read_shift(4),ar=[];nr-- >0;)ar.push({t:St.read_shift(4),v:St.read_shift(0,"lpp4")});if(rr.name=St.read_shift(0,"lpp4"),rr.comps=ar,St.l!=tr)throw new Error("Bad DataSpaceMapEntry: "+St.l+" != "+tr);return rr}function parse_DataSpaceMap(St){var er=[];St.l+=4;for(var tr=St.read_shift(4);tr-- >0;)er.push(parse_DataSpaceMapEntry(St));return er}function parse_DataSpaceDefinition(St){var er=[];St.l+=4;for(var tr=St.read_shift(4);tr-- >0;)er.push(St.read_shift(0,"lpp4"));return er}function parse_TransformInfoHeader(St){var er={};return St.read_shift(4),St.l+=4,er.id=St.read_shift(0,"lpp4"),er.name=St.read_shift(0,"lpp4"),er.R=parse_CRYPTOVersion(St,4),er.U=parse_CRYPTOVersion(St,4),er.W=parse_CRYPTOVersion(St,4),er}function parse_Primary(St){var er=parse_TransformInfoHeader(St);if(er.ename=St.read_shift(0,"8lpp4"),er.blksz=St.read_shift(4),er.cmode=St.read_shift(4),St.read_shift(4)!=4)throw new Error("Bad !Primary record");return er}function parse_EncryptionHeader(St,er){var tr=St.l+er,rr={};rr.Flags=St.read_shift(4)&63,St.l+=4,rr.AlgID=St.read_shift(4);var nr=!1;switch(rr.AlgID){case 26126:case 26127:case 26128:nr=rr.Flags==36;break;case 26625:nr=rr.Flags==4;break;case 0:nr=rr.Flags==16||rr.Flags==4||rr.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+rr.AlgID}if(!nr)throw new Error("Encryption Flags/AlgID mismatch");return rr.AlgIDHash=St.read_shift(4),rr.KeySize=St.read_shift(4),rr.ProviderType=St.read_shift(4),St.l+=8,rr.CSPName=St.read_shift(tr-St.l>>1,"utf16le"),St.l=tr,rr}function parse_EncryptionVerifier(St,er){var tr={},rr=St.l+er;return St.l+=4,tr.Salt=St.slice(St.l,St.l+16),St.l+=16,tr.Verifier=St.slice(St.l,St.l+16),St.l+=16,St.read_shift(4),tr.VerifierHash=St.slice(St.l,rr),St.l=rr,tr}function parse_EncryptionInfo(St){var er=parse_CRYPTOVersion(St);switch(er.Minor){case 2:return[er.Minor,parse_EncInfoStd(St)];case 3:return[er.Minor,parse_EncInfoExt()];case 4:return[er.Minor,parse_EncInfoAgl(St)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+er.Minor)}function parse_EncInfoStd(St){var er=St.read_shift(4);if((er&63)!=36)throw new Error("EncryptionInfo mismatch");var tr=St.read_shift(4),rr=parse_EncryptionHeader(St,tr),nr=parse_EncryptionVerifier(St,St.length-St.l);return{t:"Std",h:rr,v:nr}}function parse_EncInfoExt(){throw new Error("File is password-protected: ECMA-376 Extensible")}function parse_EncInfoAgl(St){var er=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];St.l+=4;var tr=St.read_shift(St.length-St.l,"utf8"),rr={};return tr.replace(tagregex,function(ar){var sr=parsexmltag(ar);switch(strip_ns(sr[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":er.forEach(function(ir){rr[ir]=sr[ir]});break;case"<dataIntegrity":rr.encryptedHmacKey=sr.encryptedHmacKey,rr.encryptedHmacValue=sr.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":rr.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":rr.uri=sr.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":rr.encs.push(sr);break;default:throw sr[0]}}),rr}function parse_RC4CryptoHeader(St,er){var tr={},rr=tr.EncryptionVersionInfo=parse_CRYPTOVersion(St,4);if(er-=4,rr.Minor!=2)throw new Error("unrecognized minor version code: "+rr.Minor);if(rr.Major>4||rr.Major<2)throw new Error("unrecognized major version code: "+rr.Major);tr.Flags=St.read_shift(4),er-=4;var nr=St.read_shift(4);return er-=4,tr.EncryptionHeader=parse_EncryptionHeader(St,nr),er-=nr,tr.EncryptionVerifier=parse_EncryptionVerifier(St,er),tr}function parse_RC4Header(St){var er={},tr=er.EncryptionVersionInfo=parse_CRYPTOVersion(St,4);if(tr.Major!=1||tr.Minor!=1)throw"unrecognized version code "+tr.Major+" : "+tr.Minor;return er.Salt=St.read_shift(16),er.EncryptedVerifier=St.read_shift(16),er.EncryptedVerifierHash=St.read_shift(16),er}function crypto_CreatePasswordVerifier_Method1(St){var er=0,tr,rr=_JS2ANSI(St),nr=rr.length+1,ar,sr,ir,or,lr;for(tr=new_raw_buf(nr),tr[0]=rr.length,ar=1;ar!=nr;++ar)tr[ar]=rr[ar-1];for(ar=nr-1;ar>=0;--ar)sr=tr[ar],ir=er&16384?1:0,or=er<<1&32767,lr=ir|or,er=lr^sr;return er^52811}var crypto_CreateXorArray_Method1=function(){var St=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],er=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],tr=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],rr=function(sr){return(sr/2|sr*128)&255},nr=function(sr,ir){return rr(sr^ir)},ar=function(sr){for(var ir=er[sr.length-1],or=104,lr=sr.length-1;lr>=0;--lr)for(var cr=sr[lr],ur=0;ur!=7;++ur)cr&64&&(ir^=tr[or]),cr*=2,--or;return ir};return function(sr){for(var ir=_JS2ANSI(sr),or=ar(ir),lr=ir.length,cr=new_raw_buf(16),ur=0;ur!=16;++ur)cr[ur]=0;var dr,fr,mr;for((lr&1)===1&&(dr=or>>8,cr[lr]=nr(St[0],dr),--lr,dr=or&255,fr=ir[ir.length-1],cr[lr]=nr(fr,dr));lr>0;)--lr,dr=or>>8,cr[lr]=nr(ir[lr],dr),--lr,dr=or&255,cr[lr]=nr(ir[lr],dr);for(lr=15,mr=15-ir.length;mr>0;)dr=or>>8,cr[lr]=nr(St[mr],dr),--lr,--mr,dr=or&255,cr[lr]=nr(ir[lr],dr),--lr,--mr;return cr}}(),crypto_DecryptData_Method1=function(St,er,tr,rr,nr){nr||(nr=er),rr||(rr=crypto_CreateXorArray_Method1(St));var ar,sr;for(ar=0;ar!=er.length;++ar)sr=er[ar],sr^=rr[tr],sr=(sr>>5|sr<<3)&255,nr[ar]=sr,++tr;return[nr,tr,rr]},crypto_MakeXorDecryptor=function(St){var er=0,tr=crypto_CreateXorArray_Method1(St);return function(rr){var nr=crypto_DecryptData_Method1("",rr,er,tr);return er=nr[1],nr[0]}};function parse_XORObfuscation(St,er,tr,rr){var nr={key:parseuint16(St),verificationBytes:parseuint16(St)};return tr.password&&(nr.verifier=crypto_CreatePasswordVerifier_Method1(tr.password)),rr.valid=nr.verificationBytes===nr.verifier,rr.valid&&(rr.insitu=crypto_MakeXorDecryptor(tr.password)),nr}function parse_FilePassHeader(St,er,tr){var rr=tr||{};return rr.Info=St.read_shift(2),St.l-=2,rr.Info===1?rr.Data=parse_RC4Header(St):rr.Data=parse_RC4CryptoHeader(St,er),rr}function parse_FilePass(St,er,tr){var rr={Type:tr.biff>=8?St.read_shift(2):0};return rr.Type?parse_FilePassHeader(St,er-2,rr):parse_XORObfuscation(St,tr.biff>=8?er:er-2,tr,rr),rr}var RTF=function(){function St(nr,ar){switch(ar.type){case"base64":return er(Base64_decode(nr),ar);case"binary":return er(nr,ar);case"buffer":return er(has_buf&&Buffer.isBuffer(nr)?nr.toString("binary"):a2s(nr),ar);case"array":return er(cc2str(nr),ar)}throw new Error("Unrecognized type "+ar.type)}function er(nr,ar){var sr=ar||{},ir=sr.dense?[]:{},or=nr.match(/\\trowd.*?\\row\b/g);if(!or.length)throw new Error("RTF missing table");var lr={s:{c:0,r:0},e:{c:0,r:or.length-1}};return or.forEach(function(cr,ur){Array.isArray(ir)&&(ir[ur]=[]);for(var dr=/\\\w+\b/g,fr=0,mr,xr=-1;mr=dr.exec(cr);){switch(mr[0]){case"\\cell":var pr=cr.slice(fr,dr.lastIndex-mr[0].length);if(pr[0]==" "&&(pr=pr.slice(1)),++xr,pr.length){var hr={v:pr,t:"s"};Array.isArray(ir)?ir[ur][xr]=hr:ir[encode_cell({r:ur,c:xr})]=hr}break}fr=dr.lastIndex}xr>lr.e.c&&(lr.e.c=xr)}),ir["!ref"]=encode_range(lr),ir}function tr(nr,ar){return sheet_to_workbook(St(nr,ar),ar)}function rr(nr){for(var ar=["{\\rtf1\\ansi"],sr=safe_decode_range(nr["!ref"]),ir,or=Array.isArray(nr),lr=sr.s.r;lr<=sr.e.r;++lr){ar.push("\\trowd\\trautofit1");for(var cr=sr.s.c;cr<=sr.e.c;++cr)ar.push("\\cellx"+(cr+1));for(ar.push("\\pard\\intbl"),cr=sr.s.c;cr<=sr.e.c;++cr){var ur=encode_cell({r:lr,c:cr});ir=or?(nr[lr]||[])[cr]:nr[ur],!(!ir||ir.v==null&&(!ir.f||ir.F))&&(ar.push(" "+(ir.w||(format_cell(ir),ir.w))),ar.push("\\cell"))}ar.push("\\pard\\intbl\\row")}return ar.join("")+"}"}return{to_workbook:tr,to_sheet:St,from_sheet:rr}}();function hex2RGB(St){var er=St.slice(St[0]==="#"?1:0).slice(0,6);return[parseInt(er.slice(0,2),16),parseInt(er.slice(2,4),16),parseInt(er.slice(4,6),16)]}function rgb2Hex(St){for(var er=0,tr=1;er!=3;++er)tr=tr*256+(St[er]>255?255:St[er]<0?0:St[er]);return tr.toString(16).toUpperCase().slice(1)}function rgb2HSL(St){var er=St[0]/255,tr=St[1]/255,rr=St[2]/255,nr=Math.max(er,tr,rr),ar=Math.min(er,tr,rr),sr=nr-ar;if(sr===0)return[0,0,er];var ir=0,or=0,lr=nr+ar;switch(or=sr/(lr>1?2-lr:lr),nr){case er:ir=((tr-rr)/sr+6)%6;break;case tr:ir=(rr-er)/sr+2;break;case rr:ir=(er-tr)/sr+4;break}return[ir/6,or,lr/2]}function hsl2RGB(St){var er=St[0],tr=St[1],rr=St[2],nr=tr*2*(rr<.5?rr:1-rr),ar=rr-nr/2,sr=[ar,ar,ar],ir=6*er,or;if(tr!==0)switch(ir|0){case 0:case 6:or=nr*ir,sr[0]+=nr,sr[1]+=or;break;case 1:or=nr*(2-ir),sr[0]+=or,sr[1]+=nr;break;case 2:or=nr*(ir-2),sr[1]+=nr,sr[2]+=or;break;case 3:or=nr*(4-ir),sr[1]+=or,sr[2]+=nr;break;case 4:or=nr*(ir-4),sr[2]+=nr,sr[0]+=or;break;case 5:or=nr*(6-ir),sr[2]+=or,sr[0]+=nr;break}for(var lr=0;lr!=3;++lr)sr[lr]=Math.round(sr[lr]*255);return sr}function rgb_tint(St,er){if(er===0)return St;var tr=rgb2HSL(hex2RGB(St));return er<0?tr[2]=tr[2]*(1+er):tr[2]=1-(1-tr[2])*(1-er),rgb2Hex(hsl2RGB(tr))}var DEF_MDW=6,MAX_MDW=15,MIN_MDW=1,MDW=DEF_MDW;function width2px(St){return Math.floor((St+Math.round(128/MDW)/256)*MDW)}function px2char(St){return Math.floor((St-5)/MDW*100+.5)/100}function char2width(St){return Math.round((St*MDW+5)/MDW*256)/256}function cycle_width(St){return char2width(px2char(width2px(St)))}function find_mdw_colw(St){var er=Math.abs(St-cycle_width(St)),tr=MDW;if(er>.005)for(MDW=MIN_MDW;MDW<MAX_MDW;++MDW)Math.abs(St-cycle_width(St))<=er&&(er=Math.abs(St-cycle_width(St)),tr=MDW);MDW=tr}function process_col(St){St.width?(St.wpx=width2px(St.width),St.wch=px2char(St.wpx),St.MDW=MDW):St.wpx?(St.wch=px2char(St.wpx),St.width=char2width(St.wch),St.MDW=MDW):typeof St.wch=="number"&&(St.width=char2width(St.wch),St.wpx=width2px(St.width),St.MDW=MDW),St.customWidth&&delete St.customWidth}var DEF_PPI=96,PPI=DEF_PPI;function px2pt(St){return St*96/PPI}function pt2px(St){return St*PPI/96}var XLMLPatternTypeMap={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function parse_borders(St,er,tr,rr){er.Borders=[];var nr={},ar=!1;(St[0].match(tagregex)||[]).forEach(function(sr){var ir=parsexmltag(sr);switch(strip_ns(ir[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":nr={},ir.diagonalUp&&(nr.diagonalUp=parsexmlbool(ir.diagonalUp)),ir.diagonalDown&&(nr.diagonalDown=parsexmlbool(ir.diagonalDown)),er.Borders.push(nr);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":ar=!0;break;case"</ext>":ar=!1;break;default:if(rr&&rr.WTF&&!ar)throw new Error("unrecognized "+ir[0]+" in borders")}})}function parse_fills(St,er,tr,rr){er.Fills=[];var nr={},ar=!1;(St[0].match(tagregex)||[]).forEach(function(sr){var ir=parsexmltag(sr);switch(strip_ns(ir[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":nr={},er.Fills.push(nr);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":er.Fills.push(nr),nr={};break;case"<patternFill":case"<patternFill>":ir.patternType&&(nr.patternType=ir.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":nr.bgColor||(nr.bgColor={}),ir.indexed&&(nr.bgColor.indexed=parseInt(ir.indexed,10)),ir.theme&&(nr.bgColor.theme=parseInt(ir.theme,10)),ir.tint&&(nr.bgColor.tint=parseFloat(ir.tint)),ir.rgb&&(nr.bgColor.rgb=ir.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":nr.fgColor||(nr.fgColor={}),ir.theme&&(nr.fgColor.theme=parseInt(ir.theme,10)),ir.tint&&(nr.fgColor.tint=parseFloat(ir.tint)),ir.rgb!=null&&(nr.fgColor.rgb=ir.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":ar=!0;break;case"</ext>":ar=!1;break;default:if(rr&&rr.WTF&&!ar)throw new Error("unrecognized "+ir[0]+" in fills")}})}function parse_fonts(St,er,tr,rr){er.Fonts=[];var nr={},ar=!1;(St[0].match(tagregex)||[]).forEach(function(sr){var ir=parsexmltag(sr);switch(strip_ns(ir[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":er.Fonts.push(nr),nr={};break;case"<name":ir.val&&(nr.name=utf8read(ir.val));break;case"<name/>":case"</name>":break;case"<b":nr.bold=ir.val?parsexmlbool(ir.val):1;break;case"<b/>":nr.bold=1;break;case"<i":nr.italic=ir.val?parsexmlbool(ir.val):1;break;case"<i/>":nr.italic=1;break;case"<u":switch(ir.val){case"none":nr.underline=0;break;case"single":nr.underline=1;break;case"double":nr.underline=2;break;case"singleAccounting":nr.underline=33;break;case"doubleAccounting":nr.underline=34;break}break;case"<u/>":nr.underline=1;break;case"<strike":nr.strike=ir.val?parsexmlbool(ir.val):1;break;case"<strike/>":nr.strike=1;break;case"<outline":nr.outline=ir.val?parsexmlbool(ir.val):1;break;case"<outline/>":nr.outline=1;break;case"<shadow":nr.shadow=ir.val?parsexmlbool(ir.val):1;break;case"<shadow/>":nr.shadow=1;break;case"<condense":nr.condense=ir.val?parsexmlbool(ir.val):1;break;case"<condense/>":nr.condense=1;break;case"<extend":nr.extend=ir.val?parsexmlbool(ir.val):1;break;case"<extend/>":nr.extend=1;break;case"<sz":ir.val&&(nr.sz=+ir.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":ir.val&&(nr.vertAlign=ir.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":ir.val&&(nr.family=parseInt(ir.val,10));break;case"<family/>":case"</family>":break;case"<scheme":ir.val&&(nr.scheme=ir.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(ir.val=="1")break;ir.codepage=CS2CP[parseInt(ir.val,10)];break;case"<color":if(nr.color||(nr.color={}),ir.auto&&(nr.color.auto=parsexmlbool(ir.auto)),ir.rgb)nr.color.rgb=ir.rgb.slice(-6);else if(ir.indexed){nr.color.index=parseInt(ir.indexed,10);var or=XLSIcv[nr.color.index];nr.color.index==81&&(or=XLSIcv[1]),or||(or=XLSIcv[1]),nr.color.rgb=or[0].toString(16)+or[1].toString(16)+or[2].toString(16)}else ir.theme&&(nr.color.theme=parseInt(ir.theme,10),ir.tint&&(nr.color.tint=parseFloat(ir.tint)),ir.theme&&tr.themeElements&&tr.themeElements.clrScheme&&(nr.color.rgb=rgb_tint(tr.themeElements.clrScheme[nr.color.theme].rgb,nr.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":ar=!0;break;case"</AlternateContent>":ar=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":ar=!0;break;case"</ext>":ar=!1;break;default:if(rr&&rr.WTF&&!ar)throw new Error("unrecognized "+ir[0]+" in fonts")}})}function parse_numFmts(St,er,tr){er.NumberFmt=[];for(var rr=keys(table_fmt),nr=0;nr<rr.length;++nr)er.NumberFmt[rr[nr]]=table_fmt[rr[nr]];var ar=St[0].match(tagregex);if(ar)for(nr=0;nr<ar.length;++nr){var sr=parsexmltag(ar[nr]);switch(strip_ns(sr[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var ir=unescapexml(utf8read(sr.formatCode)),or=parseInt(sr.numFmtId,10);if(er.NumberFmt[or]=ir,or>0){if(or>392){for(or=392;or>60&&er.NumberFmt[or]!=null;--or);er.NumberFmt[or]=ir}SSF_load(ir,or)}}break;case"</numFmt>":break;default:if(tr.WTF)throw new Error("unrecognized "+sr[0]+" in numFmts")}}}function write_numFmts(St){var er=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(tr){for(var rr=tr[0];rr<=tr[1];++rr)St[rr]!=null&&(er[er.length]=writextag("numFmt",null,{numFmtId:rr,formatCode:escapexml(St[rr])}))}),er.length===1?"":(er[er.length]="</numFmts>",er[0]=writextag("numFmts",null,{count:er.length-2}).replace("/>",">"),er.join(""))}var cellXF_uint=["numFmtId","fillId","fontId","borderId","xfId"],cellXF_bool=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function parse_cellXfs(St,er,tr){er.CellXf=[];var rr,nr=!1;(St[0].match(tagregex)||[]).forEach(function(ar){var sr=parsexmltag(ar),ir=0;switch(strip_ns(sr[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(rr=sr,delete rr[0],ir=0;ir<cellXF_uint.length;++ir)rr[cellXF_uint[ir]]&&(rr[cellXF_uint[ir]]=parseInt(rr[cellXF_uint[ir]],10));for(ir=0;ir<cellXF_bool.length;++ir)rr[cellXF_bool[ir]]&&(rr[cellXF_bool[ir]]=parsexmlbool(rr[cellXF_bool[ir]]));if(er.NumberFmt&&rr.numFmtId>392){for(ir=392;ir>60;--ir)if(er.NumberFmt[rr.numFmtId]==er.NumberFmt[ir]){rr.numFmtId=ir;break}}er.CellXf.push(rr);break;case"</xf>":break;case"<alignment":case"<alignment/>":var or={};sr.vertical&&(or.vertical=sr.vertical),sr.horizontal&&(or.horizontal=sr.horizontal),sr.textRotation!=null&&(or.textRotation=sr.textRotation),sr.indent&&(or.indent=sr.indent),sr.wrapText&&(or.wrapText=parsexmlbool(sr.wrapText)),rr.alignment=or;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":nr=!0;break;case"</AlternateContent>":nr=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":nr=!0;break;case"</ext>":nr=!1;break;default:if(tr&&tr.WTF&&!nr)throw new Error("unrecognized "+sr[0]+" in cellXfs")}})}function write_cellXfs(St){var er=[];return er[er.length]=writextag("cellXfs",null),St.forEach(function(tr){er[er.length]=writextag("xf",null,tr)}),er[er.length]="</cellXfs>",er.length===2?"":(er[0]=writextag("cellXfs",null,{count:er.length-2}).replace("/>",">"),er.join(""))}var parse_sty_xml=function(){var er=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,tr=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,rr=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,nr=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,ar=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(ir,or,lr){var cr={};if(!ir)return cr;ir=ir.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var ur;return(ur=ir.match(er))&&parse_numFmts(ur,cr,lr),(ur=ir.match(nr))&&parse_fonts(ur,cr,or,lr),(ur=ir.match(rr))&&parse_fills(ur,cr,or,lr),(ur=ir.match(ar))&&parse_borders(ur,cr,or,lr),(ur=ir.match(tr))&&parse_cellXfs(ur,cr,lr),cr}}();function write_sty_xml(St,er){var tr=[XML_HEADER,writextag("styleSheet",null,{xmlns:XMLNS_main[0],"xmlns:vt":XMLNS.vt})],rr;return St.SSF&&(rr=write_numFmts(St.SSF))!=null&&(tr[tr.length]=rr),tr[tr.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',tr[tr.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',tr[tr.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',tr[tr.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(rr=write_cellXfs(er.cellXfs))&&(tr[tr.length]=rr),tr[tr.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',tr[tr.length]='<dxfs count="0"/>',tr[tr.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',tr.length>2&&(tr[tr.length]="</styleSheet>",tr[1]=tr[1].replace("/>",">")),tr.join("")}function parse_BrtFmt(St,er){var tr=St.read_shift(2),rr=parse_XLWideString(St);return[tr,rr]}function write_BrtFmt(St,er,tr){tr||(tr=new_buf(6+4*er.length)),tr.write_shift(2,St),write_XLWideString(er,tr);var rr=tr.length>tr.l?tr.slice(0,tr.l):tr;return tr.l==null&&(tr.l=tr.length),rr}function parse_BrtFont(St,er,tr){var rr={};rr.sz=St.read_shift(2)/20;var nr=parse_FontFlags(St);nr.fItalic&&(rr.italic=1),nr.fCondense&&(rr.condense=1),nr.fExtend&&(rr.extend=1),nr.fShadow&&(rr.shadow=1),nr.fOutline&&(rr.outline=1),nr.fStrikeout&&(rr.strike=1);var ar=St.read_shift(2);switch(ar===700&&(rr.bold=1),St.read_shift(2)){case 1:rr.vertAlign="superscript";break;case 2:rr.vertAlign="subscript";break}var sr=St.read_shift(1);sr!=0&&(rr.underline=sr);var ir=St.read_shift(1);ir>0&&(rr.family=ir);var or=St.read_shift(1);switch(or>0&&(rr.charset=or),St.l++,rr.color=parse_BrtColor(St),St.read_shift(1)){case 1:rr.scheme="major";break;case 2:rr.scheme="minor";break}return rr.name=parse_XLWideString(St),rr}function write_BrtFont(St,er){er||(er=new_buf(25+4*32)),er.write_shift(2,St.sz*20),write_FontFlags(St,er),er.write_shift(2,St.bold?700:400);var tr=0;St.vertAlign=="superscript"?tr=1:St.vertAlign=="subscript"&&(tr=2),er.write_shift(2,tr),er.write_shift(1,St.underline||0),er.write_shift(1,St.family||0),er.write_shift(1,St.charset||0),er.write_shift(1,0),write_BrtColor(St.color,er);var rr=0;return rr=2,er.write_shift(1,rr),write_XLWideString(St.name,er),er.length>er.l?er.slice(0,er.l):er}var XLSBFillPTNames=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],rev_XLSBFillPTNames,parse_BrtFill=parsenoop;function write_BrtFill(St,er){er||(er=new_buf(4*3+8*7+16*1)),rev_XLSBFillPTNames||(rev_XLSBFillPTNames=evert(XLSBFillPTNames));var tr=rev_XLSBFillPTNames[St.patternType];tr==null&&(tr=40),er.write_shift(4,tr);var rr=0;if(tr!=40)for(write_BrtColor({auto:1},er),write_BrtColor({auto:1},er);rr<12;++rr)er.write_shift(4,0);else{for(;rr<4;++rr)er.write_shift(4,0);for(;rr<12;++rr)er.write_shift(4,0)}return er.length>er.l?er.slice(0,er.l):er}function parse_BrtXF(St,er){var tr=St.l+er,rr=St.read_shift(2),nr=St.read_shift(2);return St.l=tr,{ixfe:rr,numFmtId:nr}}function write_BrtXF(St,er,tr){tr||(tr=new_buf(16)),tr.write_shift(2,er||0),tr.write_shift(2,St.numFmtId||0),tr.write_shift(2,0),tr.write_shift(2,0),tr.write_shift(2,0),tr.write_shift(1,0),tr.write_shift(1,0);var rr=0;return tr.write_shift(1,rr),tr.write_shift(1,0),tr.write_shift(1,0),tr.write_shift(1,0),tr}function write_Blxf(St,er){return er||(er=new_buf(10)),er.write_shift(1,0),er.write_shift(1,0),er.write_shift(4,0),er.write_shift(4,0),er}var parse_BrtBorder=parsenoop;function write_BrtBorder(St,er){return er||(er=new_buf(51)),er.write_shift(1,0),write_Blxf(null,er),write_Blxf(null,er),write_Blxf(null,er),write_Blxf(null,er),write_Blxf(null,er),er.length>er.l?er.slice(0,er.l):er}function write_BrtStyle(St,er){return er||(er=new_buf(12+4*10)),er.write_shift(4,St.xfId),er.write_shift(2,1),er.write_shift(1,0),er.write_shift(1,0),write_XLNullableWideString(St.name||"",er),er.length>er.l?er.slice(0,er.l):er}function write_BrtBeginTableStyles(St,er,tr){var rr=new_buf(2052);return rr.write_shift(4,St),write_XLNullableWideString(er,rr),write_XLNullableWideString(tr,rr),rr.length>rr.l?rr.slice(0,rr.l):rr}function parse_sty_bin(St,er,tr){var rr={};rr.NumberFmt=[];for(var nr in table_fmt)rr.NumberFmt[nr]=table_fmt[nr];rr.CellXf=[],rr.Fonts=[];var ar=[],sr=!1;return recordhopper(St,function(or,lr,cr){switch(cr){case 44:rr.NumberFmt[or[0]]=or[1],SSF_load(or[1],or[0]);break;case 43:rr.Fonts.push(or),or.color.theme!=null&&er&&er.themeElements&&er.themeElements.clrScheme&&(or.color.rgb=rgb_tint(er.themeElements.clrScheme[or.color.theme].rgb,or.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:ar[ar.length-1]==617&&rr.CellXf.push(or);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:sr=!0;break;case 36:sr=!1;break;case 37:ar.push(cr),sr=!0;break;case 38:ar.pop(),sr=!1;break;default:if(lr.T>0)ar.push(cr);else if(lr.T<0)ar.pop();else if(!sr||tr.WTF&&ar[ar.length-1]!=37)throw new Error("Unexpected record 0x"+cr.toString(16))}}),rr}function write_FMTS_bin(St,er){if(er){var tr=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(rr){for(var nr=rr[0];nr<=rr[1];++nr)er[nr]!=null&&++tr}),tr!=0&&(write_record(St,615,write_UInt32LE(tr)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(rr){for(var nr=rr[0];nr<=rr[1];++nr)er[nr]!=null&&write_record(St,44,write_BrtFmt(nr,er[nr]))}),write_record(St,616))}}function write_FONTS_bin(St){var er=1;write_record(St,611,write_UInt32LE(er)),write_record(St,43,write_BrtFont({sz:12,color:{theme:1},name:"Calibri",family:2})),write_record(St,612)}function write_FILLS_bin(St){var er=2;write_record(St,603,write_UInt32LE(er)),write_record(St,45,write_BrtFill({patternType:"none"})),write_record(St,45,write_BrtFill({patternType:"gray125"})),write_record(St,604)}function write_BORDERS_bin(St){var er=1;write_record(St,613,write_UInt32LE(er)),write_record(St,46,write_BrtBorder()),write_record(St,614)}function write_CELLSTYLEXFS_bin(St){var er=1;write_record(St,626,write_UInt32LE(er)),write_record(St,47,write_BrtXF({numFmtId:0},65535)),write_record(St,627)}function write_CELLXFS_bin(St,er){write_record(St,617,write_UInt32LE(er.length)),er.forEach(function(tr){write_record(St,47,write_BrtXF(tr,0))}),write_record(St,618)}function write_STYLES_bin(St){var er=1;write_record(St,619,write_UInt32LE(er)),write_record(St,48,write_BrtStyle({xfId:0,name:"Normal"})),write_record(St,620)}function write_DXFS_bin(St){var er=0;write_record(St,505,write_UInt32LE(er)),write_record(St,506)}function write_TABLESTYLES_bin(St){var er=0;write_record(St,508,write_BrtBeginTableStyles(er,"TableStyleMedium9","PivotStyleMedium4")),write_record(St,509)}function write_sty_bin(St,er){var tr=buf_array();return write_record(tr,278),write_FMTS_bin(tr,St.SSF),write_FONTS_bin(tr),write_FILLS_bin(tr),write_BORDERS_bin(tr),write_CELLSTYLEXFS_bin(tr),write_CELLXFS_bin(tr,er.cellXfs),write_STYLES_bin(tr),write_DXFS_bin(tr),write_TABLESTYLES_bin(tr),write_record(tr,279),tr.end()}var XLSXThemeClrScheme=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function parse_clrScheme(St,er,tr){er.themeElements.clrScheme=[];var rr={};(St[0].match(tagregex)||[]).forEach(function(nr){var ar=parsexmltag(nr);switch(ar[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":rr.rgb=ar.val;break;case"<a:sysClr":rr.rgb=ar.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":ar[0].charAt(1)==="/"?(er.themeElements.clrScheme[XLSXThemeClrScheme.indexOf(ar[0])]=rr,rr={}):rr.name=ar[0].slice(3,ar[0].length-1);break;default:if(tr&&tr.WTF)throw new Error("Unrecognized "+ar[0]+" in clrScheme")}})}function parse_fontScheme(){}function parse_fmtScheme(){}var clrsregex=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,fntsregex=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,fmtsregex=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function parse_themeElements(St,er,tr){er.themeElements={};var rr;[["clrScheme",clrsregex,parse_clrScheme],["fontScheme",fntsregex,parse_fontScheme],["fmtScheme",fmtsregex,parse_fmtScheme]].forEach(function(nr){if(!(rr=St.match(nr[1])))throw new Error(nr[0]+" not found in themeElements");nr[2](rr,er,tr)})}var themeltregex=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function parse_theme_xml(St,er){(!St||St.length===0)&&(St=write_theme());var tr,rr={};if(!(tr=St.match(themeltregex)))throw new Error("themeElements not found in theme");return parse_themeElements(tr[0],rr,er),rr.raw=St,rr}function write_theme(St,er){if(er&&er.themeXLSX)return er.themeXLSX;if(St&&typeof St.raw=="string")return St.raw;var tr=[XML_HEADER];return tr[tr.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',tr[tr.length]="<a:themeElements>",tr[tr.length]='<a:clrScheme name="Office">',tr[tr.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',tr[tr.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',tr[tr.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',tr[tr.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',tr[tr.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',tr[tr.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',tr[tr.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',tr[tr.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',tr[tr.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',tr[tr.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',tr[tr.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',tr[tr.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',tr[tr.length]="</a:clrScheme>",tr[tr.length]='<a:fontScheme name="Office">',tr[tr.length]="<a:majorFont>",tr[tr.length]='<a:latin typeface="Cambria"/>',tr[tr.length]='<a:ea typeface=""/>',tr[tr.length]='<a:cs typeface=""/>',tr[tr.length]='<a:font script="Jpan" typeface=" "/>',tr[tr.length]='<a:font script="Hang" typeface=" "/>',tr[tr.length]='<a:font script="Hans" typeface=""/>',tr[tr.length]='<a:font script="Hant" typeface=""/>',tr[tr.length]='<a:font script="Arab" typeface="Times New Roman"/>',tr[tr.length]='<a:font script="Hebr" typeface="Times New Roman"/>',tr[tr.length]='<a:font script="Thai" typeface="Tahoma"/>',tr[tr.length]='<a:font script="Ethi" typeface="Nyala"/>',tr[tr.length]='<a:font script="Beng" typeface="Vrinda"/>',tr[tr.length]='<a:font script="Gujr" typeface="Shruti"/>',tr[tr.length]='<a:font script="Khmr" typeface="MoolBoran"/>',tr[tr.length]='<a:font script="Knda" typeface="Tunga"/>',tr[tr.length]='<a:font script="Guru" typeface="Raavi"/>',tr[tr.length]='<a:font script="Cans" typeface="Euphemia"/>',tr[tr.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',tr[tr.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',tr[tr.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',tr[tr.length]='<a:font script="Thaa" typeface="MV Boli"/>',tr[tr.length]='<a:font script="Deva" typeface="Mangal"/>',tr[tr.length]='<a:font script="Telu" typeface="Gautami"/>',tr[tr.length]='<a:font script="Taml" typeface="Latha"/>',tr[tr.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',tr[tr.length]='<a:font script="Orya" typeface="Kalinga"/>',tr[tr.length]='<a:font script="Mlym" typeface="Kartika"/>',tr[tr.length]='<a:font script="Laoo" typeface="DokChampa"/>',tr[tr.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',tr[tr.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',tr[tr.length]='<a:font script="Viet" typeface="Times New Roman"/>',tr[tr.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',tr[tr.length]='<a:font script="Geor" typeface="Sylfaen"/>',tr[tr.length]="</a:majorFont>",tr[tr.length]="<a:minorFont>",tr[tr.length]='<a:latin typeface="Calibri"/>',tr[tr.length]='<a:ea typeface=""/>',tr[tr.length]='<a:cs typeface=""/>',tr[tr.length]='<a:font script="Jpan" typeface=" "/>',tr[tr.length]='<a:font script="Hang" typeface=" "/>',tr[tr.length]='<a:font script="Hans" typeface=""/>',tr[tr.length]='<a:font script="Hant" typeface=""/>',tr[tr.length]='<a:font script="Arab" typeface="Arial"/>',tr[tr.length]='<a:font script="Hebr" typeface="Arial"/>',tr[tr.length]='<a:font script="Thai" typeface="Tahoma"/>',tr[tr.length]='<a:font script="Ethi" typeface="Nyala"/>',tr[tr.length]='<a:font script="Beng" typeface="Vrinda"/>',tr[tr.length]='<a:font script="Gujr" typeface="Shruti"/>',tr[tr.length]='<a:font script="Khmr" typeface="DaunPenh"/>',tr[tr.length]='<a:font script="Knda" typeface="Tunga"/>',tr[tr.length]='<a:font script="Guru" typeface="Raavi"/>',tr[tr.length]='<a:font script="Cans" typeface="Euphemia"/>',tr[tr.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',tr[tr.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',tr[tr.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',tr[tr.length]='<a:font script="Thaa" typeface="MV Boli"/>',tr[tr.length]='<a:font script="Deva" typeface="Mangal"/>',tr[tr.length]='<a:font script="Telu" typeface="Gautami"/>',tr[tr.length]='<a:font script="Taml" typeface="Latha"/>',tr[tr.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',tr[tr.length]='<a:font script="Orya" typeface="Kalinga"/>',tr[tr.length]='<a:font script="Mlym" typeface="Kartika"/>',tr[tr.length]='<a:font script="Laoo" typeface="DokChampa"/>',tr[tr.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',tr[tr.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',tr[tr.length]='<a:font script="Viet" typeface="Arial"/>',tr[tr.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',tr[tr.length]='<a:font script="Geor" typeface="Sylfaen"/>',tr[tr.length]="</a:minorFont>",tr[tr.length]="</a:fontScheme>",tr[tr.length]='<a:fmtScheme name="Office">',tr[tr.length]="<a:fillStyleLst>",tr[tr.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',tr[tr.length]='<a:gradFill rotWithShape="1">',tr[tr.length]="<a:gsLst>",tr[tr.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',tr[tr.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',tr[tr.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',tr[tr.length]="</a:gsLst>",tr[tr.length]='<a:lin ang="16200000" scaled="1"/>',tr[tr.length]="</a:gradFill>",tr[tr.length]='<a:gradFill rotWithShape="1">',tr[tr.length]="<a:gsLst>",tr[tr.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',tr[tr.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',tr[tr.length]="</a:gsLst>",tr[tr.length]='<a:lin ang="16200000" scaled="0"/>',tr[tr.length]="</a:gradFill>",tr[tr.length]="</a:fillStyleLst>",tr[tr.length]="<a:lnStyleLst>",tr[tr.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',tr[tr.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',tr[tr.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',tr[tr.length]="</a:lnStyleLst>",tr[tr.length]="<a:effectStyleLst>",tr[tr.length]="<a:effectStyle>",tr[tr.length]="<a:effectLst>",tr[tr.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',tr[tr.length]="</a:effectLst>",tr[tr.length]="</a:effectStyle>",tr[tr.length]="<a:effectStyle>",tr[tr.length]="<a:effectLst>",tr[tr.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',tr[tr.length]="</a:effectLst>",tr[tr.length]="</a:effectStyle>",tr[tr.length]="<a:effectStyle>",tr[tr.length]="<a:effectLst>",tr[tr.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',tr[tr.length]="</a:effectLst>",tr[tr.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',tr[tr.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',tr[tr.length]="</a:effectStyle>",tr[tr.length]="</a:effectStyleLst>",tr[tr.length]="<a:bgFillStyleLst>",tr[tr.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',tr[tr.length]='<a:gradFill rotWithShape="1">',tr[tr.length]="<a:gsLst>",tr[tr.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',tr[tr.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',tr[tr.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',tr[tr.length]="</a:gsLst>",tr[tr.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',tr[tr.length]="</a:gradFill>",tr[tr.length]='<a:gradFill rotWithShape="1">',tr[tr.length]="<a:gsLst>",tr[tr.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',tr[tr.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',tr[tr.length]="</a:gsLst>",tr[tr.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',tr[tr.length]="</a:gradFill>",tr[tr.length]="</a:bgFillStyleLst>",tr[tr.length]="</a:fmtScheme>",tr[tr.length]="</a:themeElements>",tr[tr.length]="<a:objectDefaults>",tr[tr.length]="<a:spDef>",tr[tr.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',tr[tr.length]="</a:spDef>",tr[tr.length]="<a:lnDef>",tr[tr.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',tr[tr.length]="</a:lnDef>",tr[tr.length]="</a:objectDefaults>",tr[tr.length]="<a:extraClrSchemeLst/>",tr[tr.length]="</a:theme>",tr.join("")}function parse_Theme(St,er,tr){var rr=St.l+er,nr=St.read_shift(4);if(nr!==124226){if(!tr.cellStyles){St.l=rr;return}var ar=St.slice(St.l);St.l=rr;var sr;try{sr=zip_read(ar,{type:"array"})}catch{return}var ir=getzipstr(sr,"theme/theme/theme1.xml",!0);if(ir)return parse_theme_xml(ir,tr)}}function parse_ColorTheme(St){return St.read_shift(4)}function parse_FullColorExt(St){var er={};switch(er.xclrType=St.read_shift(2),er.nTintShade=St.read_shift(2),er.xclrType){case 0:St.l+=4;break;case 1:er.xclrValue=parse_IcvXF(St,4);break;case 2:er.xclrValue=parse_LongRGBA(St);break;case 3:er.xclrValue=parse_ColorTheme(St);break;case 4:St.l+=4;break}return St.l+=8,er}function parse_IcvXF(St,er){return parsenoop(St,er)}function parse_XFExtGradient(St,er){return parsenoop(St,er)}function parse_ExtProp(St){var er=St.read_shift(2),tr=St.read_shift(2)-4,rr=[er];switch(er){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:rr[1]=parse_FullColorExt(St);break;case 6:rr[1]=parse_XFExtGradient(St,tr);break;case 14:case 15:rr[1]=St.read_shift(tr===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+er+" "+tr)}return rr}function parse_XFExt(St,er){var tr=St.l+er;St.l+=2;var rr=St.read_shift(2);St.l+=2;for(var nr=St.read_shift(2),ar=[];nr-- >0;)ar.push(parse_ExtProp(St,tr-St.l));return{ixfe:rr,ext:ar}}function update_xfext(St,er){er.forEach(function(tr){switch(tr[0]){}})}function parse_BrtMdtinfo(St,er){return{flags:St.read_shift(4),version:St.read_shift(4),name:parse_XLWideString(St)}}function write_BrtMdtinfo(St){var er=new_buf(12+2*St.name.length);return er.write_shift(4,St.flags),er.write_shift(4,St.version),write_XLWideString(St.name,er),er.slice(0,er.l)}function parse_BrtMdb(St){for(var er=[],tr=St.read_shift(4);tr-- >0;)er.push([St.read_shift(4),St.read_shift(4)]);return er}function write_BrtMdb(St){var er=new_buf(4+8*St.length);er.write_shift(4,St.length);for(var tr=0;tr<St.length;++tr)er.write_shift(4,St[tr][0]),er.write_shift(4,St[tr][1]);return er}function write_BrtBeginEsfmd(St,er){var tr=new_buf(8+2*er.length);return tr.write_shift(4,St),write_XLWideString(er,tr),tr.slice(0,tr.l)}function parse_BrtBeginEsmdb(St){return St.l+=4,St.read_shift(4)!=0}function write_BrtBeginEsmdb(St,er){var tr=new_buf(8);return tr.write_shift(4,St),tr.write_shift(4,1),tr}function parse_xlmeta_bin(St,er,tr){var rr={Types:[],Cell:[],Value:[]},nr=tr||{},ar=[],sr=!1,ir=2;return recordhopper(St,function(or,lr,cr){switch(cr){case 335:rr.Types.push({name:or.name});break;case 51:or.forEach(function(ur){ir==1?rr.Cell.push({type:rr.Types[ur[0]-1].name,index:ur[1]}):ir==0&&rr.Value.push({type:rr.Types[ur[0]-1].name,index:ur[1]})});break;case 337:ir=or?1:0;break;case 338:ir=2;break;case 35:ar.push(cr),sr=!0;break;case 36:ar.pop(),sr=!1;break;default:if(!lr.T){if(!sr||nr.WTF&&ar[ar.length-1]!=35)throw new Error("Unexpected record 0x"+cr.toString(16))}}}),rr}function write_xlmeta_bin(){var St=buf_array();return write_record(St,332),write_record(St,334,write_UInt32LE(1)),write_record(St,335,write_BrtMdtinfo({name:"XLDAPR",version:12e4,flags:3496657072})),write_record(St,336),write_record(St,339,write_BrtBeginEsfmd(1,"XLDAPR")),write_record(St,52),write_record(St,35,write_UInt32LE(514)),write_record(St,4096,write_UInt32LE(0)),write_record(St,4097,writeuint16(1)),write_record(St,36),write_record(St,53),write_record(St,340),write_record(St,337,write_BrtBeginEsmdb(1)),write_record(St,51,write_BrtMdb([[1,0]])),write_record(St,338),write_record(St,333),St.end()}function parse_xlmeta_xml(St,er,tr){var rr={Types:[],Cell:[],Value:[]};if(!St)return rr;var nr=!1,ar=2,sr;return St.replace(tagregex,function(ir){var or=parsexmltag(ir);switch(strip_ns(or[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":rr.Types.push({name:or.name});break;case"</metadataType>":break;case"<futureMetadata":for(var lr=0;lr<rr.Types.length;++lr)rr.Types[lr].name==or.name&&(sr=rr.Types[lr]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":ar==1?rr.Cell.push({type:rr.Types[or.t-1].name,index:+or.v}):ar==0&&rr.Value.push({type:rr.Types[or.t-1].name,index:+or.v});break;case"</rc>":break;case"<cellMetadata":ar=1;break;case"</cellMetadata>":ar=2;break;case"<valueMetadata":ar=0;break;case"</valueMetadata>":ar=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":nr=!0;break;case"</ext>":nr=!1;break;case"<rvb":if(!sr)break;sr.offsets||(sr.offsets=[]),sr.offsets.push(+or.i);break;default:if(!nr&&tr.WTF)throw new Error("unrecognized "+or[0]+" in metadata")}return ir}),rr}function write_xlmeta_xml(){var St=[XML_HEADER];return St.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),St.join("")}function parse_cc_xml(St){var er=[];if(!St)return er;var tr=1;return(St.match(tagregex)||[]).forEach(function(rr){var nr=parsexmltag(rr);switch(nr[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete nr[0],nr.i?tr=nr.i:nr.i=tr,er.push(nr);break}}),er}function parse_BrtCalcChainItem$(St){var er={};er.i=St.read_shift(4);var tr={};tr.r=St.read_shift(4),tr.c=St.read_shift(4),er.r=encode_cell(tr);var rr=St.read_shift(1);return rr&2&&(er.l="1"),rr&8&&(er.a="1"),er}function parse_cc_bin(St,er,tr){var rr=[];return recordhopper(St,function(ar,sr,ir){switch(ir){case 63:rr.push(ar);break;default:if(!sr.T)throw new Error("Unexpected record 0x"+ir.toString(16))}}),rr}function parse_xlink_xml(){}function parse_xlink_bin(St,er,tr,rr){if(!St)return St;var nr=rr||{},ar=!1;recordhopper(St,function(ir,or,lr){switch(lr){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:ar=!0;break;case 36:ar=!1;break;default:if(!or.T){if(!ar||nr.WTF)throw new Error("Unexpected record 0x"+lr.toString(16))}}},nr)}function parse_drawing(St,er){if(!St)return"??";var tr=(St.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return er["!id"][tr].Target}var _shapeid=1024;function write_comments_vml(St,er){for(var tr=[21600,21600],rr=["m0,0l0",tr[1],tr[0],tr[1],tr[0],"0xe"].join(","),nr=[writextag("xml",null,{"xmlns:v":XLMLNS.v,"xmlns:o":XLMLNS.o,"xmlns:x":XLMLNS.x,"xmlns:mv":XLMLNS.mv}).replace(/\/>/,">"),writextag("o:shapelayout",writextag("o:idmap",null,{"v:ext":"edit",data:St}),{"v:ext":"edit"}),writextag("v:shapetype",[writextag("v:stroke",null,{joinstyle:"miter"}),writextag("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:tr.join(","),path:rr})];_shapeid<St*1e3;)_shapeid+=1e3;return er.forEach(function(ar){var sr=decode_cell(ar[0]),ir={color2:"#BEFF82",type:"gradient"};ir.type=="gradient"&&(ir.angle="-180");var or=ir.type=="gradient"?writextag("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,lr=writextag("v:fill",or,ir),cr={on:"t",obscured:"t"};++_shapeid,nr=nr.concat(["<v:shape"+wxt_helper({id:"_x0000_s"+_shapeid,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(ar[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",lr,writextag("v:shadow",null,cr),writextag("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",writetag("x:Anchor",[sr.c+1,0,sr.r+1,0,sr.c+3,20,sr.r+5,20].join(",")),writetag("x:AutoFill","False"),writetag("x:Row",String(sr.r)),writetag("x:Column",String(sr.c)),ar[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),nr.push("</xml>"),nr.join("")}function sheet_insert_comments(St,er,tr,rr){var nr=Array.isArray(St),ar;er.forEach(function(sr){var ir=decode_cell(sr.ref);if(nr?(St[ir.r]||(St[ir.r]=[]),ar=St[ir.r][ir.c]):ar=St[sr.ref],!ar){ar={t:"z"},nr?St[ir.r][ir.c]=ar:St[sr.ref]=ar;var or=safe_decode_range(St["!ref"]||"BDWGO1000001:A1");or.s.r>ir.r&&(or.s.r=ir.r),or.e.r<ir.r&&(or.e.r=ir.r),or.s.c>ir.c&&(or.s.c=ir.c),or.e.c<ir.c&&(or.e.c=ir.c);var lr=encode_range(or);lr!==St["!ref"]&&(St["!ref"]=lr)}ar.c||(ar.c=[]);var cr={a:sr.author,t:sr.t,r:sr.r,T:tr};sr.h&&(cr.h=sr.h);for(var ur=ar.c.length-1;ur>=0;--ur){if(!tr&&ar.c[ur].T)return;tr&&!ar.c[ur].T&&ar.c.splice(ur,1)}if(tr&&rr){for(ur=0;ur<rr.length;++ur)if(cr.a==rr[ur].id){cr.a=rr[ur].name||cr.a;break}}ar.c.push(cr)})}function parse_comments_xml(St,er){if(St.match(/<(?:\w+:)?comments *\/>/))return[];var tr=[],rr=[],nr=St.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);nr&&nr[1]&&nr[1].split(/<\/\w*:?author>/).forEach(function(sr){if(!(sr===""||sr.trim()==="")){var ir=sr.match(/<(?:\w+:)?author[^>]*>(.*)/);ir&&tr.push(ir[1])}});var ar=St.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return ar&&ar[1]&&ar[1].split(/<\/\w*:?comment>/).forEach(function(sr){if(!(sr===""||sr.trim()==="")){var ir=sr.match(/<(?:\w+:)?comment[^>]*>/);if(ir){var or=parsexmltag(ir[0]),lr={author:or.authorId&&tr[or.authorId]||"sheetjsghost",ref:or.ref,guid:or.guid},cr=decode_cell(or.ref);if(!(er.sheetRows&&er.sheetRows<=cr.r)){var ur=sr.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),dr=!!ur&&!!ur[1]&&parse_si(ur[1])||{r:"",t:"",h:""};lr.r=dr.r,dr.r=="<t></t>"&&(dr.t=dr.h=""),lr.t=(dr.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),er.cellHTML&&(lr.h=dr.h),rr.push(lr)}}}}),rr}function write_comments_xml(St){var er=[XML_HEADER,writextag("comments",null,{xmlns:XMLNS_main[0]})],tr=[];return er.push("<authors>"),St.forEach(function(rr){rr[1].forEach(function(nr){var ar=escapexml(nr.a);tr.indexOf(ar)==-1&&(tr.push(ar),er.push("<author>"+ar+"</author>")),nr.T&&nr.ID&&tr.indexOf("tc="+nr.ID)==-1&&(tr.push("tc="+nr.ID),er.push("<author>tc="+nr.ID+"</author>"))})}),tr.length==0&&(tr.push("SheetJ5"),er.push("<author>SheetJ5</author>")),er.push("</authors>"),er.push("<commentList>"),St.forEach(function(rr){var nr=0,ar=[];if(rr[1][0]&&rr[1][0].T&&rr[1][0].ID?nr=tr.indexOf("tc="+rr[1][0].ID):rr[1].forEach(function(or){or.a&&(nr=tr.indexOf(escapexml(or.a))),ar.push(or.t||"")}),er.push('<comment ref="'+rr[0]+'" authorId="'+nr+'"><text>'),ar.length<=1)er.push(writetag("t",escapexml(ar[0]||"")));else{for(var sr=`Comment:
    `+ar[0]+`
`,ir=1;ir<ar.length;++ir)sr+=`Reply:
    `+ar[ir]+`
`;er.push(writetag("t",escapexml(sr)))}er.push("</text></comment>")}),er.push("</commentList>"),er.length>2&&(er[er.length]="</comments>",er[1]=er[1].replace("/>",">")),er.join("")}function parse_tcmnt_xml(St,er){var tr=[],rr=!1,nr={},ar=0;return St.replace(tagregex,function(ir,or){var lr=parsexmltag(ir);switch(strip_ns(lr[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":nr={author:lr.personId,guid:lr.id,ref:lr.ref,T:1};break;case"</threadedComment>":nr.t!=null&&tr.push(nr);break;case"<text>":case"<text":ar=or+ir.length;break;case"</text>":nr.t=St.slice(ar,or).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":rr=!0;break;case"</mentions>":rr=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":rr=!0;break;case"</ext>":rr=!1;break;default:if(!rr&&er.WTF)throw new Error("unrecognized "+lr[0]+" in threaded comments")}return ir}),tr}function write_tcmnt_xml(St,er,tr){var rr=[XML_HEADER,writextag("ThreadedComments",null,{xmlns:XMLNS.TCMNT}).replace(/[\/]>/,">")];return St.forEach(function(nr){var ar="";(nr[1]||[]).forEach(function(sr,ir){if(!sr.T){delete sr.ID;return}sr.a&&er.indexOf(sr.a)==-1&&er.push(sr.a);var or={ref:nr[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+tr.tcid++).slice(-12)+"}"};ir==0?ar=or.id:or.parentId=ar,sr.ID=or.id,sr.a&&(or.personId="{54EE7950-7262-4200-6969-"+("000000000000"+er.indexOf(sr.a)).slice(-12)+"}"),rr.push(writextag("threadedComment",writetag("text",sr.t||""),or))})}),rr.push("</ThreadedComments>"),rr.join("")}function parse_people_xml(St,er){var tr=[],rr=!1;return St.replace(tagregex,function(ar){var sr=parsexmltag(ar);switch(strip_ns(sr[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":tr.push({name:sr.displayname,id:sr.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":rr=!0;break;case"</ext>":rr=!1;break;default:if(!rr&&er.WTF)throw new Error("unrecognized "+sr[0]+" in threaded comments")}return ar}),tr}function write_people_xml(St){var er=[XML_HEADER,writextag("personList",null,{xmlns:XMLNS.TCMNT,"xmlns:x":XMLNS_main[0]}).replace(/[\/]>/,">")];return St.forEach(function(tr,rr){er.push(writextag("person",null,{displayName:tr,id:"{54EE7950-7262-4200-6969-"+("000000000000"+rr).slice(-12)+"}",userId:tr,providerId:"None"}))}),er.push("</personList>"),er.join("")}function parse_BrtBeginComment(St){var er={};er.iauthor=St.read_shift(4);var tr=parse_UncheckedRfX(St);return er.rfx=tr.s,er.ref=encode_cell(tr.s),St.l+=16,er}function write_BrtBeginComment(St,er){return er==null&&(er=new_buf(36)),er.write_shift(4,St[1].iauthor),write_UncheckedRfX(St[0],er),er.write_shift(4,0),er.write_shift(4,0),er.write_shift(4,0),er.write_shift(4,0),er}var parse_BrtCommentAuthor=parse_XLWideString;function write_BrtCommentAuthor(St){return write_XLWideString(St.slice(0,54))}function parse_comments_bin(St,er){var tr=[],rr=[],nr={},ar=!1;return recordhopper(St,function(ir,or,lr){switch(lr){case 632:rr.push(ir);break;case 635:nr=ir;break;case 637:nr.t=ir.t,nr.h=ir.h,nr.r=ir.r;break;case 636:if(nr.author=rr[nr.iauthor],delete nr.iauthor,er.sheetRows&&nr.rfx&&er.sheetRows<=nr.rfx.r)break;nr.t||(nr.t=""),delete nr.rfx,tr.push(nr);break;case 3072:break;case 35:ar=!0;break;case 36:ar=!1;break;case 37:break;case 38:break;default:if(!or.T){if(!ar||er.WTF)throw new Error("Unexpected record 0x"+lr.toString(16))}}}),tr}function write_comments_bin(St){var er=buf_array(),tr=[];return write_record(er,628),write_record(er,630),St.forEach(function(rr){rr[1].forEach(function(nr){tr.indexOf(nr.a)>-1||(tr.push(nr.a.slice(0,54)),write_record(er,632,write_BrtCommentAuthor(nr.a)))})}),write_record(er,631),write_record(er,633),St.forEach(function(rr){rr[1].forEach(function(nr){nr.iauthor=tr.indexOf(nr.a);var ar={s:decode_cell(rr[0]),e:decode_cell(rr[0])};write_record(er,635,write_BrtBeginComment([ar,nr])),nr.t&&nr.t.length>0&&write_record(er,637,write_BrtCommentText(nr)),write_record(er,636),delete nr.iauthor})}),write_record(er,634),write_record(er,629),er.end()}var CT_VBA="application/vnd.ms-office.vbaProject";function make_vba_xls(St){var er=CFB.utils.cfb_new({root:"R"});return St.FullPaths.forEach(function(tr,rr){if(!(tr.slice(-1)==="/"||!tr.match(/_VBA_PROJECT_CUR/))){var nr=tr.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");CFB.utils.cfb_add(er,nr,St.FileIndex[rr].content)}}),CFB.write(er)}function fill_vba_xls(St,er){er.FullPaths.forEach(function(tr,rr){if(rr!=0){var nr=tr.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");nr.slice(-1)!=="/"&&CFB.utils.cfb_add(St,nr,er.FileIndex[rr].content)}})}var VBAFMTS=["xlsb","xlsm","xlam","biff8","xla"];function parse_ds_bin(){return{"!type":"dialog"}}function parse_ds_xml(){return{"!type":"dialog"}}function parse_ms_bin(){return{"!type":"macro"}}function parse_ms_xml(){return{"!type":"macro"}}var rc_to_a1=function(){var St=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,er={r:0,c:0};function tr(rr,nr,ar,sr){var ir=!1,or=!1;ar.length==0?or=!0:ar.charAt(0)=="["&&(or=!0,ar=ar.slice(1,-1)),sr.length==0?ir=!0:sr.charAt(0)=="["&&(ir=!0,sr=sr.slice(1,-1));var lr=ar.length>0?parseInt(ar,10)|0:0,cr=sr.length>0?parseInt(sr,10)|0:0;return ir?cr+=er.c:--cr,or?lr+=er.r:--lr,nr+(ir?"":"$")+encode_col(cr)+(or?"":"$")+encode_row(lr)}return function(nr,ar){return er=ar,nr.replace(St,tr)}}(),crefregex=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,a1_to_rc=function(){return function(er,tr){return er.replace(crefregex,function(rr,nr,ar,sr,ir,or){var lr=decode_col(sr)-(ar?0:tr.c),cr=decode_row(or)-(ir?0:tr.r),ur=cr==0?"":ir?cr+1:"["+cr+"]",dr=lr==0?"":ar?lr+1:"["+lr+"]";return nr+"R"+ur+"C"+dr})}}();function shift_formula_str(St,er){return St.replace(crefregex,function(tr,rr,nr,ar,sr,ir){return rr+(nr=="$"?nr+ar:encode_col(decode_col(ar)+er.c))+(sr=="$"?sr+ir:encode_row(decode_row(ir)+er.r))})}function shift_formula_xlsx(St,er,tr){var rr=decode_range(er),nr=rr.s,ar=decode_cell(tr),sr={r:ar.r-nr.r,c:ar.c-nr.c};return shift_formula_str(St,sr)}function fuzzyfmla(St){return St.length!=1}function _xlfn(St){return St.replace(/_xlfn\./g,"")}function parseread1(St){St.l+=1}function parse_ColRelU(St,er){var tr=St.read_shift(2);return[tr&16383,tr>>14&1,tr>>15&1]}function parse_RgceArea(St,er,tr){var rr=2;if(tr){if(tr.biff>=2&&tr.biff<=5)return parse_RgceArea_BIFF2(St);tr.biff==12&&(rr=4)}var nr=St.read_shift(rr),ar=St.read_shift(rr),sr=parse_ColRelU(St),ir=parse_ColRelU(St);return{s:{r:nr,c:sr[0],cRel:sr[1],rRel:sr[2]},e:{r:ar,c:ir[0],cRel:ir[1],rRel:ir[2]}}}function parse_RgceArea_BIFF2(St){var er=parse_ColRelU(St),tr=parse_ColRelU(St),rr=St.read_shift(1),nr=St.read_shift(1);return{s:{r:er[0],c:rr,cRel:er[1],rRel:er[2]},e:{r:tr[0],c:nr,cRel:tr[1],rRel:tr[2]}}}function parse_RgceAreaRel(St,er,tr){if(tr.biff<8)return parse_RgceArea_BIFF2(St);var rr=St.read_shift(tr.biff==12?4:2),nr=St.read_shift(tr.biff==12?4:2),ar=parse_ColRelU(St),sr=parse_ColRelU(St);return{s:{r:rr,c:ar[0],cRel:ar[1],rRel:ar[2]},e:{r:nr,c:sr[0],cRel:sr[1],rRel:sr[2]}}}function parse_RgceLoc(St,er,tr){if(tr&&tr.biff>=2&&tr.biff<=5)return parse_RgceLoc_BIFF2(St);var rr=St.read_shift(tr&&tr.biff==12?4:2),nr=parse_ColRelU(St);return{r:rr,c:nr[0],cRel:nr[1],rRel:nr[2]}}function parse_RgceLoc_BIFF2(St){var er=parse_ColRelU(St),tr=St.read_shift(1);return{r:er[0],c:tr,cRel:er[1],rRel:er[2]}}function parse_RgceElfLoc(St){var er=St.read_shift(2),tr=St.read_shift(2);return{r:er,c:tr&255,fQuoted:!!(tr&16384),cRel:tr>>15,rRel:tr>>15}}function parse_RgceLocRel(St,er,tr){var rr=tr&&tr.biff?tr.biff:8;if(rr>=2&&rr<=5)return parse_RgceLocRel_BIFF2(St);var nr=St.read_shift(rr>=12?4:2),ar=St.read_shift(2),sr=(ar&16384)>>14,ir=(ar&32768)>>15;if(ar&=16383,ir==1)for(;nr>524287;)nr-=1048576;if(sr==1)for(;ar>8191;)ar=ar-16384;return{r:nr,c:ar,cRel:sr,rRel:ir}}function parse_RgceLocRel_BIFF2(St){var er=St.read_shift(2),tr=St.read_shift(1),rr=(er&32768)>>15,nr=(er&16384)>>14;return er&=16383,rr==1&&er>=8192&&(er=er-16384),nr==1&&tr>=128&&(tr=tr-256),{r:er,c:tr,cRel:nr,rRel:rr}}function parse_PtgArea(St,er,tr){var rr=(St[St.l++]&96)>>5,nr=parse_RgceArea(St,tr.biff>=2&&tr.biff<=5?6:8,tr);return[rr,nr]}function parse_PtgArea3d(St,er,tr){var rr=(St[St.l++]&96)>>5,nr=St.read_shift(2,"i"),ar=8;if(tr)switch(tr.biff){case 5:St.l+=12,ar=6;break;case 12:ar=12;break}var sr=parse_RgceArea(St,ar,tr);return[rr,nr,sr]}function parse_PtgAreaErr(St,er,tr){var rr=(St[St.l++]&96)>>5;return St.l+=tr&&tr.biff>8?12:tr.biff<8?6:8,[rr]}function parse_PtgAreaErr3d(St,er,tr){var rr=(St[St.l++]&96)>>5,nr=St.read_shift(2),ar=8;if(tr)switch(tr.biff){case 5:St.l+=12,ar=6;break;case 12:ar=12;break}return St.l+=ar,[rr,nr]}function parse_PtgAreaN(St,er,tr){var rr=(St[St.l++]&96)>>5,nr=parse_RgceAreaRel(St,er-1,tr);return[rr,nr]}function parse_PtgArray(St,er,tr){var rr=(St[St.l++]&96)>>5;return St.l+=tr.biff==2?6:tr.biff==12?14:7,[rr]}function parse_PtgAttrBaxcel(St){var er=St[St.l+1]&1,tr=1;return St.l+=4,[er,tr]}function parse_PtgAttrChoose(St,er,tr){St.l+=2;for(var rr=St.read_shift(tr&&tr.biff==2?1:2),nr=[],ar=0;ar<=rr;++ar)nr.push(St.read_shift(tr&&tr.biff==2?1:2));return nr}function parse_PtgAttrGoto(St,er,tr){var rr=St[St.l+1]&255?1:0;return St.l+=2,[rr,St.read_shift(tr&&tr.biff==2?1:2)]}function parse_PtgAttrIf(St,er,tr){var rr=St[St.l+1]&255?1:0;return St.l+=2,[rr,St.read_shift(tr&&tr.biff==2?1:2)]}function parse_PtgAttrIfError(St){var er=St[St.l+1]&255?1:0;return St.l+=2,[er,St.read_shift(2)]}function parse_PtgAttrSemi(St,er,tr){var rr=St[St.l+1]&255?1:0;return St.l+=tr&&tr.biff==2?3:4,[rr]}function parse_PtgAttrSpaceType(St){var er=St.read_shift(1),tr=St.read_shift(1);return[er,tr]}function parse_PtgAttrSpace(St){return St.read_shift(2),parse_PtgAttrSpaceType(St)}function parse_PtgAttrSpaceSemi(St){return St.read_shift(2),parse_PtgAttrSpaceType(St)}function parse_PtgRef(St,er,tr){var rr=(St[St.l]&96)>>5;St.l+=1;var nr=parse_RgceLoc(St,0,tr);return[rr,nr]}function parse_PtgRefN(St,er,tr){var rr=(St[St.l]&96)>>5;St.l+=1;var nr=parse_RgceLocRel(St,0,tr);return[rr,nr]}function parse_PtgRef3d(St,er,tr){var rr=(St[St.l]&96)>>5;St.l+=1;var nr=St.read_shift(2);tr&&tr.biff==5&&(St.l+=12);var ar=parse_RgceLoc(St,0,tr);return[rr,nr,ar]}function parse_PtgFunc(St,er,tr){var rr=(St[St.l]&96)>>5;St.l+=1;var nr=St.read_shift(tr&&tr.biff<=3?1:2);return[FtabArgc[nr],Ftab[nr],rr]}function parse_PtgFuncVar(St,er,tr){var rr=St[St.l++],nr=St.read_shift(1),ar=tr&&tr.biff<=3?[rr==88?-1:0,St.read_shift(1)]:parsetab(St);return[nr,(ar[0]===0?Ftab:Cetab)[ar[1]]]}function parsetab(St){return[St[St.l+1]>>7,St.read_shift(2)&32767]}function parse_PtgAttrSum(St,er,tr){St.l+=tr&&tr.biff==2?3:4}function parse_PtgExp(St,er,tr){if(St.l++,tr&&tr.biff==12)return[St.read_shift(4,"i"),0];var rr=St.read_shift(2),nr=St.read_shift(tr&&tr.biff==2?1:2);return[rr,nr]}function parse_PtgErr(St){return St.l++,BErr[St.read_shift(1)]}function parse_PtgInt(St){return St.l++,St.read_shift(2)}function parse_PtgBool(St){return St.l++,St.read_shift(1)!==0}function parse_PtgNum(St){return St.l++,parse_Xnum(St)}function parse_PtgStr(St,er,tr){return St.l++,parse_ShortXLUnicodeString(St,er-1,tr)}function parse_SerAr(St,er){var tr=[St.read_shift(1)];if(er==12)switch(tr[0]){case 2:tr[0]=4;break;case 4:tr[0]=16;break;case 0:tr[0]=1;break;case 1:tr[0]=2;break}switch(tr[0]){case 4:tr[1]=parsebool(St,1)?"TRUE":"FALSE",er!=12&&(St.l+=7);break;case 37:case 16:tr[1]=BErr[St[St.l]],St.l+=er==12?4:8;break;case 0:St.l+=8;break;case 1:tr[1]=parse_Xnum(St);break;case 2:tr[1]=parse_XLUnicodeString2(St,0,{biff:er>0&&er<8?2:er});break;default:throw new Error("Bad SerAr: "+tr[0])}return tr}function parse_PtgExtraMem(St,er,tr){for(var rr=St.read_shift(tr.biff==12?4:2),nr=[],ar=0;ar!=rr;++ar)nr.push((tr.biff==12?parse_UncheckedRfX:parse_Ref8U)(St));return nr}function parse_PtgExtraArray(St,er,tr){var rr=0,nr=0;tr.biff==12?(rr=St.read_shift(4),nr=St.read_shift(4)):(nr=1+St.read_shift(1),rr=1+St.read_shift(2)),tr.biff>=2&&tr.biff<8&&(--rr,--nr==0&&(nr=256));for(var ar=0,sr=[];ar!=rr&&(sr[ar]=[]);++ar)for(var ir=0;ir!=nr;++ir)sr[ar][ir]=parse_SerAr(St,tr.biff);return sr}function parse_PtgName(St,er,tr){var rr=St.read_shift(1)>>>5&3,nr=!tr||tr.biff>=8?4:2,ar=St.read_shift(nr);switch(tr.biff){case 2:St.l+=5;break;case 3:case 4:St.l+=8;break;case 5:St.l+=12;break}return[rr,0,ar]}function parse_PtgNameX(St,er,tr){if(tr.biff==5)return parse_PtgNameX_BIFF5(St);var rr=St.read_shift(1)>>>5&3,nr=St.read_shift(2),ar=St.read_shift(4);return[rr,nr,ar]}function parse_PtgNameX_BIFF5(St){var er=St.read_shift(1)>>>5&3,tr=St.read_shift(2,"i");St.l+=8;var rr=St.read_shift(2);return St.l+=12,[er,tr,rr]}function parse_PtgMemArea(St,er,tr){var rr=St.read_shift(1)>>>5&3;St.l+=tr&&tr.biff==2?3:4;var nr=St.read_shift(tr&&tr.biff==2?1:2);return[rr,nr]}function parse_PtgMemFunc(St,er,tr){var rr=St.read_shift(1)>>>5&3,nr=St.read_shift(tr&&tr.biff==2?1:2);return[rr,nr]}function parse_PtgRefErr(St,er,tr){var rr=St.read_shift(1)>>>5&3;return St.l+=4,tr.biff<8&&St.l--,tr.biff==12&&(St.l+=2),[rr]}function parse_PtgRefErr3d(St,er,tr){var rr=(St[St.l++]&96)>>5,nr=St.read_shift(2),ar=4;if(tr)switch(tr.biff){case 5:ar=15;break;case 12:ar=6;break}return St.l+=ar,[rr,nr]}var parse_PtgMemErr=parsenoop,parse_PtgMemNoMem=parsenoop,parse_PtgTbl=parsenoop;function parse_PtgElfLoc(St,er,tr){return St.l+=2,[parse_RgceElfLoc(St)]}function parse_PtgElfNoop(St){return St.l+=6,[]}var parse_PtgElfCol=parse_PtgElfLoc,parse_PtgElfColS=parse_PtgElfNoop,parse_PtgElfColSV=parse_PtgElfNoop,parse_PtgElfColV=parse_PtgElfLoc;function parse_PtgElfLel(St){return St.l+=2,[parseuint16(St),St.read_shift(2)&1]}var parse_PtgElfRadical=parse_PtgElfLoc,parse_PtgElfRadicalLel=parse_PtgElfLel,parse_PtgElfRadicalS=parse_PtgElfNoop,parse_PtgElfRw=parse_PtgElfLoc,parse_PtgElfRwV=parse_PtgElfLoc,PtgListRT=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function parse_PtgList(St){St.l+=2;var er=St.read_shift(2),tr=St.read_shift(2),rr=St.read_shift(4),nr=St.read_shift(2),ar=St.read_shift(2),sr=PtgListRT[tr>>2&31];return{ixti:er,coltype:tr&3,rt:sr,idx:rr,c:nr,C:ar}}function parse_PtgSxName(St){return St.l+=2,[St.read_shift(4)]}function parse_PtgSheet(St,er,tr){return St.l+=5,St.l+=2,St.l+=tr.biff==2?1:4,["PTGSHEET"]}function parse_PtgEndSheet(St,er,tr){return St.l+=tr.biff==2?4:5,["PTGENDSHEET"]}function parse_PtgMemAreaN(St){var er=St.read_shift(1)>>>5&3,tr=St.read_shift(2);return[er,tr]}function parse_PtgMemNoMemN(St){var er=St.read_shift(1)>>>5&3,tr=St.read_shift(2);return[er,tr]}function parse_PtgAttrNoop(St){return St.l+=4,[0,0]}var PtgTypes={1:{n:"PtgExp",f:parse_PtgExp},2:{n:"PtgTbl",f:parse_PtgTbl},3:{n:"PtgAdd",f:parseread1},4:{n:"PtgSub",f:parseread1},5:{n:"PtgMul",f:parseread1},6:{n:"PtgDiv",f:parseread1},7:{n:"PtgPower",f:parseread1},8:{n:"PtgConcat",f:parseread1},9:{n:"PtgLt",f:parseread1},10:{n:"PtgLe",f:parseread1},11:{n:"PtgEq",f:parseread1},12:{n:"PtgGe",f:parseread1},13:{n:"PtgGt",f:parseread1},14:{n:"PtgNe",f:parseread1},15:{n:"PtgIsect",f:parseread1},16:{n:"PtgUnion",f:parseread1},17:{n:"PtgRange",f:parseread1},18:{n:"PtgUplus",f:parseread1},19:{n:"PtgUminus",f:parseread1},20:{n:"PtgPercent",f:parseread1},21:{n:"PtgParen",f:parseread1},22:{n:"PtgMissArg",f:parseread1},23:{n:"PtgStr",f:parse_PtgStr},26:{n:"PtgSheet",f:parse_PtgSheet},27:{n:"PtgEndSheet",f:parse_PtgEndSheet},28:{n:"PtgErr",f:parse_PtgErr},29:{n:"PtgBool",f:parse_PtgBool},30:{n:"PtgInt",f:parse_PtgInt},31:{n:"PtgNum",f:parse_PtgNum},32:{n:"PtgArray",f:parse_PtgArray},33:{n:"PtgFunc",f:parse_PtgFunc},34:{n:"PtgFuncVar",f:parse_PtgFuncVar},35:{n:"PtgName",f:parse_PtgName},36:{n:"PtgRef",f:parse_PtgRef},37:{n:"PtgArea",f:parse_PtgArea},38:{n:"PtgMemArea",f:parse_PtgMemArea},39:{n:"PtgMemErr",f:parse_PtgMemErr},40:{n:"PtgMemNoMem",f:parse_PtgMemNoMem},41:{n:"PtgMemFunc",f:parse_PtgMemFunc},42:{n:"PtgRefErr",f:parse_PtgRefErr},43:{n:"PtgAreaErr",f:parse_PtgAreaErr},44:{n:"PtgRefN",f:parse_PtgRefN},45:{n:"PtgAreaN",f:parse_PtgAreaN},46:{n:"PtgMemAreaN",f:parse_PtgMemAreaN},47:{n:"PtgMemNoMemN",f:parse_PtgMemNoMemN},57:{n:"PtgNameX",f:parse_PtgNameX},58:{n:"PtgRef3d",f:parse_PtgRef3d},59:{n:"PtgArea3d",f:parse_PtgArea3d},60:{n:"PtgRefErr3d",f:parse_PtgRefErr3d},61:{n:"PtgAreaErr3d",f:parse_PtgAreaErr3d},255:{}},PtgDupes={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Ptg18={1:{n:"PtgElfLel",f:parse_PtgElfLel},2:{n:"PtgElfRw",f:parse_PtgElfRw},3:{n:"PtgElfCol",f:parse_PtgElfCol},6:{n:"PtgElfRwV",f:parse_PtgElfRwV},7:{n:"PtgElfColV",f:parse_PtgElfColV},10:{n:"PtgElfRadical",f:parse_PtgElfRadical},11:{n:"PtgElfRadicalS",f:parse_PtgElfRadicalS},13:{n:"PtgElfColS",f:parse_PtgElfColS},15:{n:"PtgElfColSV",f:parse_PtgElfColSV},16:{n:"PtgElfRadicalLel",f:parse_PtgElfRadicalLel},25:{n:"PtgList",f:parse_PtgList},29:{n:"PtgSxName",f:parse_PtgSxName},255:{}},Ptg19={0:{n:"PtgAttrNoop",f:parse_PtgAttrNoop},1:{n:"PtgAttrSemi",f:parse_PtgAttrSemi},2:{n:"PtgAttrIf",f:parse_PtgAttrIf},4:{n:"PtgAttrChoose",f:parse_PtgAttrChoose},8:{n:"PtgAttrGoto",f:parse_PtgAttrGoto},16:{n:"PtgAttrSum",f:parse_PtgAttrSum},32:{n:"PtgAttrBaxcel",f:parse_PtgAttrBaxcel},33:{n:"PtgAttrBaxcel",f:parse_PtgAttrBaxcel},64:{n:"PtgAttrSpace",f:parse_PtgAttrSpace},65:{n:"PtgAttrSpaceSemi",f:parse_PtgAttrSpaceSemi},128:{n:"PtgAttrIfError",f:parse_PtgAttrIfError},255:{}};function parse_RgbExtra(St,er,tr,rr){if(rr.biff<8)return parsenoop(St,er);for(var nr=St.l+er,ar=[],sr=0;sr!==tr.length;++sr)switch(tr[sr][0]){case"PtgArray":tr[sr][1]=parse_PtgExtraArray(St,0,rr),ar.push(tr[sr][1]);break;case"PtgMemArea":tr[sr][2]=parse_PtgExtraMem(St,tr[sr][1],rr),ar.push(tr[sr][2]);break;case"PtgExp":rr&&rr.biff==12&&(tr[sr][1][1]=St.read_shift(4),ar.push(tr[sr][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+tr[sr][0]}return er=nr-St.l,er!==0&&ar.push(parsenoop(St,er)),ar}function parse_Rgce(St,er,tr){for(var rr=St.l+er,nr,ar,sr=[];rr!=St.l;)er=rr-St.l,ar=St[St.l],nr=PtgTypes[ar]||PtgTypes[PtgDupes[ar]],(ar===24||ar===25)&&(nr=(ar===24?Ptg18:Ptg19)[St[St.l+1]]),!nr||!nr.f?parsenoop(St,er):sr.push([nr.n,nr.f(St,er,tr)]);return sr}function stringify_array(St){for(var er=[],tr=0;tr<St.length;++tr){for(var rr=St[tr],nr=[],ar=0;ar<rr.length;++ar){var sr=rr[ar];if(sr)switch(sr[0]){case 2:nr.push('"'+sr[1].replace(/"/g,'""')+'"');break;default:nr.push(sr[1])}else nr.push("")}er.push(nr.join(","))}return er.join(";")}var PtgBinOp={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function formula_quote_sheet_name(St,er){if(!St&&!(er&&er.biff<=5&&er.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(St)?"'"+St+"'":St}function get_ixti_raw(St,er,tr){if(!St)return"SH33TJSERR0";if(tr.biff>8&&(!St.XTI||!St.XTI[er]))return St.SheetNames[er];if(!St.XTI)return"SH33TJSERR6";var rr=St.XTI[er];if(tr.biff<8)return er>1e4&&(er-=65536),er<0&&(er=-er),er==0?"":St.XTI[er-1];if(!rr)return"SH33TJSERR1";var nr="";if(tr.biff>8)switch(St[rr[0]][0]){case 357:return nr=rr[1]==-1?"#REF":St.SheetNames[rr[1]],rr[1]==rr[2]?nr:nr+":"+St.SheetNames[rr[2]];case 358:return tr.SID!=null?St.SheetNames[tr.SID]:"SH33TJSSAME"+St[rr[0]][0];case 355:default:return"SH33TJSSRC"+St[rr[0]][0]}switch(St[rr[0]][0][0]){case 1025:return nr=rr[1]==-1?"#REF":St.SheetNames[rr[1]]||"SH33TJSERR3",rr[1]==rr[2]?nr:nr+":"+St.SheetNames[rr[2]];case 14849:return St[rr[0]].slice(1).map(function(ar){return ar.Name}).join(";;");default:return St[rr[0]][0][3]?(nr=rr[1]==-1?"#REF":St[rr[0]][0][3][rr[1]]||"SH33TJSERR4",rr[1]==rr[2]?nr:nr+":"+St[rr[0]][0][3][rr[2]]):"SH33TJSERR2"}}function get_ixti(St,er,tr){var rr=get_ixti_raw(St,er,tr);return rr=="#REF"?rr:formula_quote_sheet_name(rr,tr)}function stringify_formula(St,er,tr,rr,nr){var ar=nr&&nr.biff||8,sr={s:{c:0,r:0}},ir=[],or,lr,cr,ur=0,dr=0,fr,mr="";if(!St[0]||!St[0][0])return"";for(var xr=-1,pr="",hr=0,gr=St[0].length;hr<gr;++hr){var vr=St[0][hr];switch(vr[0]){case"PtgUminus":ir.push("-"+ir.pop());break;case"PtgUplus":ir.push("+"+ir.pop());break;case"PtgPercent":ir.push(ir.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(or=ir.pop(),lr=ir.pop(),xr>=0){switch(St[0][xr][1][0]){case 0:pr=fill(" ",St[0][xr][1][1]);break;case 1:pr=fill("\r",St[0][xr][1][1]);break;default:if(pr="",nr.WTF)throw new Error("Unexpected PtgAttrSpaceType "+St[0][xr][1][0])}lr=lr+pr,xr=-1}ir.push(lr+PtgBinOp[vr[0]]+or);break;case"PtgIsect":or=ir.pop(),lr=ir.pop(),ir.push(lr+" "+or);break;case"PtgUnion":or=ir.pop(),lr=ir.pop(),ir.push(lr+","+or);break;case"PtgRange":or=ir.pop(),lr=ir.pop(),ir.push(lr+":"+or);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":cr=shift_cell_xls(vr[1][1],sr,nr),ir.push(encode_cell_xls(cr,ar));break;case"PtgRefN":cr=tr?shift_cell_xls(vr[1][1],tr,nr):vr[1][1],ir.push(encode_cell_xls(cr,ar));break;case"PtgRef3d":ur=vr[1][1],cr=shift_cell_xls(vr[1][2],sr,nr),mr=get_ixti(rr,ur,nr),ir.push(mr+"!"+encode_cell_xls(cr,ar));break;case"PtgFunc":case"PtgFuncVar":var br=vr[1][0],yr=vr[1][1];br||(br=0),br&=127;var Er=br==0?[]:ir.slice(-br);ir.length-=br,yr==="User"&&(yr=Er.shift()),ir.push(yr+"("+Er.join(",")+")");break;case"PtgBool":ir.push(vr[1]?"TRUE":"FALSE");break;case"PtgInt":ir.push(vr[1]);break;case"PtgNum":ir.push(String(vr[1]));break;case"PtgStr":ir.push('"'+vr[1].replace(/"/g,'""')+'"');break;case"PtgErr":ir.push(vr[1]);break;case"PtgAreaN":fr=shift_range_xls(vr[1][1],tr?{s:tr}:sr,nr),ir.push(encode_range_xls(fr,nr));break;case"PtgArea":fr=shift_range_xls(vr[1][1],sr,nr),ir.push(encode_range_xls(fr,nr));break;case"PtgArea3d":ur=vr[1][1],fr=vr[1][2],mr=get_ixti(rr,ur,nr),ir.push(mr+"!"+encode_range_xls(fr,nr));break;case"PtgAttrSum":ir.push("SUM("+ir.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":dr=vr[1][2];var jr=(rr.names||[])[dr-1]||(rr[0]||[])[dr],_r=jr?jr.Name:"SH33TJSNAME"+String(dr);_r&&_r.slice(0,6)=="_xlfn."&&!nr.xlfn&&(_r=_r.slice(6)),ir.push(_r);break;case"PtgNameX":var Cr=vr[1][1];dr=vr[1][2];var Or;if(nr.biff<=5)Cr<0&&(Cr=-Cr),rr[Cr]&&(Or=rr[Cr][dr]);else{var Pr="";if(((rr[Cr]||[])[0]||[])[0]==14849||(((rr[Cr]||[])[0]||[])[0]==1025?rr[Cr][dr]&&rr[Cr][dr].itab>0&&(Pr=rr.SheetNames[rr[Cr][dr].itab-1]+"!"):Pr=rr.SheetNames[dr-1]+"!"),rr[Cr]&&rr[Cr][dr])Pr+=rr[Cr][dr].Name;else if(rr[0]&&rr[0][dr])Pr+=rr[0][dr].Name;else{var Lr=(get_ixti_raw(rr,Cr,nr)||"").split(";;");Lr[dr-1]?Pr=Lr[dr-1]:Pr+="SH33TJSERRX"}ir.push(Pr);break}Or||(Or={Name:"SH33TJSERRY"}),ir.push(Or.Name);break;case"PtgParen":var Gr="(",Kr=")";if(xr>=0){switch(pr="",St[0][xr][1][0]){case 2:Gr=fill(" ",St[0][xr][1][1])+Gr;break;case 3:Gr=fill("\r",St[0][xr][1][1])+Gr;break;case 4:Kr=fill(" ",St[0][xr][1][1])+Kr;break;case 5:Kr=fill("\r",St[0][xr][1][1])+Kr;break;default:if(nr.WTF)throw new Error("Unexpected PtgAttrSpaceType "+St[0][xr][1][0])}xr=-1}ir.push(Gr+ir.pop()+Kr);break;case"PtgRefErr":ir.push("#REF!");break;case"PtgRefErr3d":ir.push("#REF!");break;case"PtgExp":cr={c:vr[1][1],r:vr[1][0]};var nn={c:tr.c,r:tr.r};if(rr.sharedf[encode_cell(cr)]){var Qr=rr.sharedf[encode_cell(cr)];ir.push(stringify_formula(Qr,sr,nn,rr,nr))}else{var zr=!1;for(or=0;or!=rr.arrayf.length;++or)if(lr=rr.arrayf[or],!(cr.c<lr[0].s.c||cr.c>lr[0].e.c)&&!(cr.r<lr[0].s.r||cr.r>lr[0].e.r)){ir.push(stringify_formula(lr[1],sr,nn,rr,nr)),zr=!0;break}zr||ir.push(vr[1])}break;case"PtgArray":ir.push("{"+stringify_array(vr[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":xr=hr;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":ir.push("");break;case"PtgAreaErr":ir.push("#REF!");break;case"PtgAreaErr3d":ir.push("#REF!");break;case"PtgList":ir.push("Table"+vr[1].idx+"[#"+vr[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(vr));default:throw new Error("Unrecognized Formula Token: "+String(vr))}var Vr=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(nr.biff!=3&&xr>=0&&Vr.indexOf(St[0][hr][0])==-1){vr=St[0][xr];var Jr=!0;switch(vr[1][0]){case 4:Jr=!1;case 0:pr=fill(" ",vr[1][1]);break;case 5:Jr=!1;case 1:pr=fill("\r",vr[1][1]);break;default:if(pr="",nr.WTF)throw new Error("Unexpected PtgAttrSpaceType "+vr[1][0])}ir.push((Jr?pr:"")+ir.pop()+(Jr?"":pr)),xr=-1}}if(ir.length>1&&nr.WTF)throw new Error("bad formula stack");return ir[0]}function parse_ArrayParsedFormula(St,er,tr){var rr=St.l+er,nr=tr.biff==2?1:2,ar,sr=St.read_shift(nr);if(sr==65535)return[[],parsenoop(St,er-2)];var ir=parse_Rgce(St,sr,tr);return er!==sr+nr&&(ar=parse_RgbExtra(St,er-sr-nr,ir,tr)),St.l=rr,[ir,ar]}function parse_XLSCellParsedFormula(St,er,tr){var rr=St.l+er,nr=tr.biff==2?1:2,ar,sr=St.read_shift(nr);if(sr==65535)return[[],parsenoop(St,er-2)];var ir=parse_Rgce(St,sr,tr);return er!==sr+nr&&(ar=parse_RgbExtra(St,er-sr-nr,ir,tr)),St.l=rr,[ir,ar]}function parse_NameParsedFormula(St,er,tr,rr){var nr=St.l+er,ar=parse_Rgce(St,rr,tr),sr;return nr!==St.l&&(sr=parse_RgbExtra(St,nr-St.l,ar,tr)),[ar,sr]}function parse_SharedParsedFormula(St,er,tr){var rr=St.l+er,nr,ar=St.read_shift(2),sr=parse_Rgce(St,ar,tr);return ar==65535?[[],parsenoop(St,er-2)]:(er!==ar+2&&(nr=parse_RgbExtra(St,rr-ar-2,sr,tr)),[sr,nr])}function parse_FormulaValue(St){var er;if(__readUInt16LE(St,St.l+6)!==65535)return[parse_Xnum(St),"n"];switch(St[St.l]){case 0:return St.l+=8,["String","s"];case 1:return er=St[St.l+2]===1,St.l+=8,[er,"b"];case 2:return er=St[St.l+2],St.l+=8,[er,"e"];case 3:return St.l+=8,["","s"]}return[]}function write_FormulaValue(St){if(St==null){var er=new_buf(8);return er.write_shift(1,3),er.write_shift(1,0),er.write_shift(2,0),er.write_shift(2,0),er.write_shift(2,65535),er}else if(typeof St=="number")return write_Xnum(St);return write_Xnum(0)}function parse_Formula(St,er,tr){var rr=St.l+er,nr=parse_XLSCell(St);tr.biff==2&&++St.l;var ar=parse_FormulaValue(St),sr=St.read_shift(1);tr.biff!=2&&(St.read_shift(1),tr.biff>=5&&St.read_shift(4));var ir=parse_XLSCellParsedFormula(St,rr-St.l,tr);return{cell:nr,val:ar[0],formula:ir,shared:sr>>3&1,tt:ar[1]}}function write_Formula(St,er,tr,rr,nr){var ar=write_XLSCell(er,tr,nr),sr=write_FormulaValue(St.v),ir=new_buf(6),or=33;ir.write_shift(2,or),ir.write_shift(4,0);for(var lr=new_buf(St.bf.length),cr=0;cr<St.bf.length;++cr)lr[cr]=St.bf[cr];var ur=bconcat([ar,sr,ir,lr]);return ur}function parse_XLSBParsedFormula(St,er,tr){var rr=St.read_shift(4),nr=parse_Rgce(St,rr,tr),ar=St.read_shift(4),sr=ar>0?parse_RgbExtra(St,ar,nr,tr):null;return[nr,sr]}var parse_XLSBArrayParsedFormula=parse_XLSBParsedFormula,parse_XLSBCellParsedFormula=parse_XLSBParsedFormula,parse_XLSBNameParsedFormula=parse_XLSBParsedFormula,parse_XLSBSharedParsedFormula=parse_XLSBParsedFormula,Cetab={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Ftab={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},FtabArgc={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function ods_to_csf_formula(St){return St.slice(0,3)=="of:"&&(St=St.slice(3)),St.charCodeAt(0)==61&&(St=St.slice(1),St.charCodeAt(0)==61&&(St=St.slice(1))),St=St.replace(/COM\.MICROSOFT\./g,""),St=St.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(er,tr){return tr.replace(/\./g,"")}),St=St.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),St.replace(/[;~]/g,",").replace(/\|/g,";")}function csf_to_ods_formula(St){var er="of:="+St.replace(crefregex,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return er.replace(/;/g,"|").replace(/,/g,";")}function ods_to_csf_3D(St){var er=St.split(":"),tr=er[0].split(".")[0];return[tr,er[0].split(".")[1]+(er.length>1?":"+(er[1].split(".")[1]||er[1].split(".")[0]):"")]}function csf_to_ods_3D(St){return St.replace(/\./,"!")}var strs={},_ssfopts={},browser_has_Map=typeof Map<"u";function get_sst_id(St,er,tr){var rr=0,nr=St.length;if(tr){if(browser_has_Map?tr.has(er):Object.prototype.hasOwnProperty.call(tr,er)){for(var ar=browser_has_Map?tr.get(er):tr[er];rr<ar.length;++rr)if(St[ar[rr]].t===er)return St.Count++,ar[rr]}}else for(;rr<nr;++rr)if(St[rr].t===er)return St.Count++,rr;return St[nr]={t:er},St.Count++,St.Unique++,tr&&(browser_has_Map?(tr.has(er)||tr.set(er,[]),tr.get(er).push(nr)):(Object.prototype.hasOwnProperty.call(tr,er)||(tr[er]=[]),tr[er].push(nr))),nr}function col_obj_w(St,er){var tr={min:St+1,max:St+1},rr=-1;return er.MDW&&(MDW=er.MDW),er.width!=null?tr.customWidth=1:er.wpx!=null?rr=px2char(er.wpx):er.wch!=null&&(rr=er.wch),rr>-1?(tr.width=char2width(rr),tr.customWidth=1):er.width!=null&&(tr.width=er.width),er.hidden&&(tr.hidden=!0),er.level!=null&&(tr.outlineLevel=tr.level=er.level),tr}function default_margins(St,er){if(St){var tr=[.7,.7,.75,.75,.3,.3];er=="xlml"&&(tr=[1,1,1,1,.5,.5]),St.left==null&&(St.left=tr[0]),St.right==null&&(St.right=tr[1]),St.top==null&&(St.top=tr[2]),St.bottom==null&&(St.bottom=tr[3]),St.header==null&&(St.header=tr[4]),St.footer==null&&(St.footer=tr[5])}}function get_cell_style(St,er,tr){var rr=tr.revssf[er.z!=null?er.z:"General"],nr=60,ar=St.length;if(rr==null&&tr.ssf){for(;nr<392;++nr)if(tr.ssf[nr]==null){SSF_load(er.z,nr),tr.ssf[nr]=er.z,tr.revssf[er.z]=rr=nr;break}}for(nr=0;nr!=ar;++nr)if(St[nr].numFmtId===rr)return nr;return St[ar]={numFmtId:rr,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},ar}function safe_format(St,er,tr,rr,nr,ar){try{rr.cellNF&&(St.z=table_fmt[er])}catch(ir){if(rr.WTF)throw ir}if(!(St.t==="z"&&!rr.cellStyles)){if(St.t==="d"&&typeof St.v=="string"&&(St.v=parseDate(St.v)),(!rr||rr.cellText!==!1)&&St.t!=="z")try{if(table_fmt[er]==null&&SSF_load(SSFImplicit[er]||"General",er),St.t==="e")St.w=St.w||BErr[St.v];else if(er===0)if(St.t==="n")(St.v|0)===St.v?St.w=St.v.toString(10):St.w=SSF_general_num(St.v);else if(St.t==="d"){var sr=datenum(St.v);(sr|0)===sr?St.w=sr.toString(10):St.w=SSF_general_num(sr)}else{if(St.v===void 0)return"";St.w=SSF_general(St.v,_ssfopts)}else St.t==="d"?St.w=SSF_format(er,datenum(St.v),_ssfopts):St.w=SSF_format(er,St.v,_ssfopts)}catch(ir){if(rr.WTF)throw ir}if(rr.cellStyles&&tr!=null)try{St.s=ar.Fills[tr],St.s.fgColor&&St.s.fgColor.theme&&!St.s.fgColor.rgb&&(St.s.fgColor.rgb=rgb_tint(nr.themeElements.clrScheme[St.s.fgColor.theme].rgb,St.s.fgColor.tint||0),rr.WTF&&(St.s.fgColor.raw_rgb=nr.themeElements.clrScheme[St.s.fgColor.theme].rgb)),St.s.bgColor&&St.s.bgColor.theme&&(St.s.bgColor.rgb=rgb_tint(nr.themeElements.clrScheme[St.s.bgColor.theme].rgb,St.s.bgColor.tint||0),rr.WTF&&(St.s.bgColor.raw_rgb=nr.themeElements.clrScheme[St.s.bgColor.theme].rgb))}catch(ir){if(rr.WTF&&ar.Fills)throw ir}}}function check_ws(St,er,tr){if(St&&St["!ref"]){var rr=safe_decode_range(St["!ref"]);if(rr.e.c<rr.s.c||rr.e.r<rr.s.r)throw new Error("Bad range ("+tr+"): "+St["!ref"])}}function parse_ws_xml_dim(St,er){var tr=safe_decode_range(er);tr.s.r<=tr.e.r&&tr.s.c<=tr.e.c&&tr.s.r>=0&&tr.s.c>=0&&(St["!ref"]=encode_range(tr))}var mergecregex=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,sheetdataregex=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,hlinkregex=/<(?:\w:)?hyperlink [^>]*>/mg,dimregex=/"(\w*:\w*)"/,colregex=/<(?:\w:)?col\b[^>]*[\/]?>/g,afregex=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,marginregex=/<(?:\w:)?pageMargins[^>]*\/>/g,sheetprregex=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,sheetprregex2=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,svsregex=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function parse_ws_xml(St,er,tr,rr,nr,ar,sr){if(!St)return St;rr||(rr={"!id":{}});var ir=er.dense?[]:{},or={s:{r:2e6,c:2e6},e:{r:0,c:0}},lr="",cr="",ur=St.match(sheetdataregex);ur?(lr=St.slice(0,ur.index),cr=St.slice(ur.index+ur[0].length)):lr=cr=St;var dr=lr.match(sheetprregex);dr?parse_ws_xml_sheetpr(dr[0],ir,nr,tr):(dr=lr.match(sheetprregex2))&&parse_ws_xml_sheetpr2(dr[0],dr[1]||"",ir,nr,tr);var fr=(lr.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(fr>0){var mr=lr.slice(fr,fr+50).match(dimregex);mr&&parse_ws_xml_dim(ir,mr[1])}var xr=lr.match(svsregex);xr&&xr[1]&&parse_ws_xml_sheetviews(xr[1],nr);var pr=[];if(er.cellStyles){var hr=lr.match(colregex);hr&&parse_ws_xml_cols(pr,hr)}ur&&parse_ws_xml_data(ur[1],ir,er,or,ar,sr);var gr=cr.match(afregex);gr&&(ir["!autofilter"]=parse_ws_xml_autofilter(gr[0]));var vr=[],br=cr.match(mergecregex);if(br)for(fr=0;fr!=br.length;++fr)vr[fr]=safe_decode_range(br[fr].slice(br[fr].indexOf('"')+1));var yr=cr.match(hlinkregex);yr&&parse_ws_xml_hlinks(ir,yr,rr);var Er=cr.match(marginregex);if(Er&&(ir["!margins"]=parse_ws_xml_margins(parsexmltag(Er[0]))),!ir["!ref"]&&or.e.c>=or.s.c&&or.e.r>=or.s.r&&(ir["!ref"]=encode_range(or)),er.sheetRows>0&&ir["!ref"]){var jr=safe_decode_range(ir["!ref"]);er.sheetRows<=+jr.e.r&&(jr.e.r=er.sheetRows-1,jr.e.r>or.e.r&&(jr.e.r=or.e.r),jr.e.r<jr.s.r&&(jr.s.r=jr.e.r),jr.e.c>or.e.c&&(jr.e.c=or.e.c),jr.e.c<jr.s.c&&(jr.s.c=jr.e.c),ir["!fullref"]=ir["!ref"],ir["!ref"]=encode_range(jr))}return pr.length>0&&(ir["!cols"]=pr),vr.length>0&&(ir["!merges"]=vr),ir}function write_ws_xml_merges(St){if(St.length===0)return"";for(var er='<mergeCells count="'+St.length+'">',tr=0;tr!=St.length;++tr)er+='<mergeCell ref="'+encode_range(St[tr])+'"/>';return er+"</mergeCells>"}function parse_ws_xml_sheetpr(St,er,tr,rr){var nr=parsexmltag(St);tr.Sheets[rr]||(tr.Sheets[rr]={}),nr.codeName&&(tr.Sheets[rr].CodeName=unescapexml(utf8read(nr.codeName)))}function parse_ws_xml_sheetpr2(St,er,tr,rr,nr){parse_ws_xml_sheetpr(St.slice(0,St.indexOf(">")),tr,rr,nr)}function write_ws_xml_sheetpr(St,er,tr,rr,nr){var ar=!1,sr={},ir=null;if(rr.bookType!=="xlsx"&&er.vbaraw){var or=er.SheetNames[tr];try{er.Workbook&&(or=er.Workbook.Sheets[tr].CodeName||or)}catch{}ar=!0,sr.codeName=utf8write(escapexml(or))}if(St&&St["!outline"]){var lr={summaryBelow:1,summaryRight:1};St["!outline"].above&&(lr.summaryBelow=0),St["!outline"].left&&(lr.summaryRight=0),ir=(ir||"")+writextag("outlinePr",null,lr)}!ar&&!ir||(nr[nr.length]=writextag("sheetPr",ir,sr))}var sheetprot_deffalse=["objects","scenarios","selectLockedCells","selectUnlockedCells"],sheetprot_deftrue=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function write_ws_xml_protection(St){var er={sheet:1};return sheetprot_deffalse.forEach(function(tr){St[tr]!=null&&St[tr]&&(er[tr]="1")}),sheetprot_deftrue.forEach(function(tr){St[tr]!=null&&!St[tr]&&(er[tr]="0")}),St.password&&(er.password=crypto_CreatePasswordVerifier_Method1(St.password).toString(16).toUpperCase()),writextag("sheetProtection",null,er)}function parse_ws_xml_hlinks(St,er,tr){for(var rr=Array.isArray(St),nr=0;nr!=er.length;++nr){var ar=parsexmltag(utf8read(er[nr]),!0);if(!ar.ref)return;var sr=((tr||{})["!id"]||[])[ar.id];sr?(ar.Target=sr.Target,ar.location&&(ar.Target+="#"+unescapexml(ar.location))):(ar.Target="#"+unescapexml(ar.location),sr={Target:ar.Target,TargetMode:"Internal"}),ar.Rel=sr,ar.tooltip&&(ar.Tooltip=ar.tooltip,delete ar.tooltip);for(var ir=safe_decode_range(ar.ref),or=ir.s.r;or<=ir.e.r;++or)for(var lr=ir.s.c;lr<=ir.e.c;++lr){var cr=encode_cell({c:lr,r:or});rr?(St[or]||(St[or]=[]),St[or][lr]||(St[or][lr]={t:"z",v:void 0}),St[or][lr].l=ar):(St[cr]||(St[cr]={t:"z",v:void 0}),St[cr].l=ar)}}}function parse_ws_xml_margins(St){var er={};return["left","right","top","bottom","header","footer"].forEach(function(tr){St[tr]&&(er[tr]=parseFloat(St[tr]))}),er}function write_ws_xml_margins(St){return default_margins(St),writextag("pageMargins",null,St)}function parse_ws_xml_cols(St,er){for(var tr=!1,rr=0;rr!=er.length;++rr){var nr=parsexmltag(er[rr],!0);nr.hidden&&(nr.hidden=parsexmlbool(nr.hidden));var ar=parseInt(nr.min,10)-1,sr=parseInt(nr.max,10)-1;for(nr.outlineLevel&&(nr.level=+nr.outlineLevel||0),delete nr.min,delete nr.max,nr.width=+nr.width,!tr&&nr.width&&(tr=!0,find_mdw_colw(nr.width)),process_col(nr);ar<=sr;)St[ar++]=dup(nr)}}function write_ws_xml_cols(St,er){for(var tr=["<cols>"],rr,nr=0;nr!=er.length;++nr)(rr=er[nr])&&(tr[tr.length]=writextag("col",null,col_obj_w(nr,rr)));return tr[tr.length]="</cols>",tr.join("")}function parse_ws_xml_autofilter(St){var er={ref:(St.match(/ref="([^"]*)"/)||[])[1]};return er}function write_ws_xml_autofilter(St,er,tr,rr){var nr=typeof St.ref=="string"?St.ref:encode_range(St.ref);tr.Workbook||(tr.Workbook={Sheets:[]}),tr.Workbook.Names||(tr.Workbook.Names=[]);var ar=tr.Workbook.Names,sr=decode_range(nr);sr.s.r==sr.e.r&&(sr.e.r=decode_range(er["!ref"]).e.r,nr=encode_range(sr));for(var ir=0;ir<ar.length;++ir){var or=ar[ir];if(or.Name=="_xlnm._FilterDatabase"&&or.Sheet==rr){or.Ref="'"+tr.SheetNames[rr]+"'!"+nr;break}}return ir==ar.length&&ar.push({Name:"_xlnm._FilterDatabase",Sheet:rr,Ref:"'"+tr.SheetNames[rr]+"'!"+nr}),writextag("autoFilter",null,{ref:nr})}var sviewregex=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function parse_ws_xml_sheetviews(St,er){er.Views||(er.Views=[{}]),(St.match(sviewregex)||[]).forEach(function(tr,rr){var nr=parsexmltag(tr);er.Views[rr]||(er.Views[rr]={}),+nr.zoomScale&&(er.Views[rr].zoom=+nr.zoomScale),parsexmlbool(nr.rightToLeft)&&(er.Views[rr].RTL=!0)})}function write_ws_xml_sheetviews(St,er,tr,rr){var nr={workbookViewId:"0"};return(((rr||{}).Workbook||{}).Views||[])[0]&&(nr.rightToLeft=rr.Workbook.Views[0].RTL?"1":"0"),writextag("sheetViews",writextag("sheetView",null,nr),{})}function write_ws_xml_cell(St,er,tr,rr){if(St.c&&tr["!comments"].push([er,St.c]),St.v===void 0&&typeof St.f!="string"||St.t==="z"&&!St.f)return"";var nr="",ar=St.t,sr=St.v;if(St.t!=="z")switch(St.t){case"b":nr=St.v?"1":"0";break;case"n":nr=""+St.v;break;case"e":nr=BErr[St.v];break;case"d":rr&&rr.cellDates?nr=parseDate(St.v,-1).toISOString():(St=dup(St),St.t="n",nr=""+(St.v=datenum(parseDate(St.v)))),typeof St.z>"u"&&(St.z=table_fmt[14]);break;default:nr=St.v;break}var ir=writetag("v",escapexml(nr)),or={r:er},lr=get_cell_style(rr.cellXfs,St,rr);switch(lr!==0&&(or.s=lr),St.t){case"n":break;case"d":or.t="d";break;case"b":or.t="b";break;case"e":or.t="e";break;case"z":break;default:if(St.v==null){delete St.t;break}if(St.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(rr&&rr.bookSST){ir=writetag("v",""+get_sst_id(rr.Strings,St.v,rr.revStrings)),or.t="s";break}or.t="str";break}if(St.t!=ar&&(St.t=ar,St.v=sr),typeof St.f=="string"&&St.f){var cr=St.F&&St.F.slice(0,er.length)==er?{t:"array",ref:St.F}:null;ir=writextag("f",escapexml(St.f),cr)+(St.v!=null?ir:"")}return St.l&&tr["!links"].push([er,St.l]),St.D&&(or.cm=1),writextag("c",ir,or)}var parse_ws_xml_data=function(){var St=/<(?:\w+:)?c[ \/>]/,er=/<\/(?:\w+:)?row>/,tr=/r=["']([^"']*)["']/,rr=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,nr=/ref=["']([^"']*)["']/,ar=matchtag("v"),sr=matchtag("f");return function(or,lr,cr,ur,dr,fr){for(var mr=0,xr="",pr=[],hr=[],gr=0,vr=0,br=0,yr="",Er,jr,_r=0,Cr=0,Or,Pr,Lr=0,Gr=0,Kr=Array.isArray(fr.CellXf),nn,Qr=[],zr=[],Vr=Array.isArray(lr),Jr=[],tn={},Yr=!1,Sr=!!cr.sheetStubs,Rr=or.split(er),Tr=0,Dr=Rr.length;Tr!=Dr;++Tr){xr=Rr[Tr].trim();var Mr=xr.length;if(Mr!==0){var Br=0;e:for(mr=0;mr<Mr;++mr)switch(xr[mr]){case">":if(xr[mr-1]!="/"){++mr;break e}if(cr&&cr.cellStyles){if(jr=parsexmltag(xr.slice(Br,mr),!0),_r=jr.r!=null?parseInt(jr.r,10):_r+1,Cr=-1,cr.sheetRows&&cr.sheetRows<_r)continue;tn={},Yr=!1,jr.ht&&(Yr=!0,tn.hpt=parseFloat(jr.ht),tn.hpx=pt2px(tn.hpt)),jr.hidden=="1"&&(Yr=!0,tn.hidden=!0),jr.outlineLevel!=null&&(Yr=!0,tn.level=+jr.outlineLevel),Yr&&(Jr[_r-1]=tn)}break;case"<":Br=mr;break}if(Br>=mr)break;if(jr=parsexmltag(xr.slice(Br,mr),!0),_r=jr.r!=null?parseInt(jr.r,10):_r+1,Cr=-1,!(cr.sheetRows&&cr.sheetRows<_r)){ur.s.r>_r-1&&(ur.s.r=_r-1),ur.e.r<_r-1&&(ur.e.r=_r-1),cr&&cr.cellStyles&&(tn={},Yr=!1,jr.ht&&(Yr=!0,tn.hpt=parseFloat(jr.ht),tn.hpx=pt2px(tn.hpt)),jr.hidden=="1"&&(Yr=!0,tn.hidden=!0),jr.outlineLevel!=null&&(Yr=!0,tn.level=+jr.outlineLevel),Yr&&(Jr[_r-1]=tn)),pr=xr.slice(mr).split(St);for(var qr=0;qr!=pr.length&&pr[qr].trim().charAt(0)=="<";++qr);for(pr=pr.slice(qr),mr=0;mr!=pr.length;++mr)if(xr=pr[mr].trim(),xr.length!==0){if(hr=xr.match(tr),gr=mr,vr=0,br=0,xr="<c "+(xr.slice(0,1)=="<"?">":"")+xr,hr!=null&&hr.length===2){for(gr=0,yr=hr[1],vr=0;vr!=yr.length&&!((br=yr.charCodeAt(vr)-64)<1||br>26);++vr)gr=26*gr+br;--gr,Cr=gr}else++Cr;for(vr=0;vr!=xr.length&&xr.charCodeAt(vr)!==62;++vr);if(++vr,jr=parsexmltag(xr.slice(0,vr),!0),jr.r||(jr.r=encode_cell({r:_r-1,c:Cr})),yr=xr.slice(vr),Er={t:""},(hr=yr.match(ar))!=null&&hr[1]!==""&&(Er.v=unescapexml(hr[1])),cr.cellFormula){if((hr=yr.match(sr))!=null&&hr[1]!==""){if(Er.f=unescapexml(utf8read(hr[1])).replace(/\r\n/g,`
`),cr.xlfn||(Er.f=_xlfn(Er.f)),hr[0].indexOf('t="array"')>-1)Er.F=(yr.match(nr)||[])[1],Er.F.indexOf(":")>-1&&Qr.push([safe_decode_range(Er.F),Er.F]);else if(hr[0].indexOf('t="shared"')>-1){Pr=parsexmltag(hr[0]);var Wr=unescapexml(utf8read(hr[1]));cr.xlfn||(Wr=_xlfn(Wr)),zr[parseInt(Pr.si,10)]=[Pr,Wr,jr.r]}}else(hr=yr.match(/<f[^>]*\/>/))&&(Pr=parsexmltag(hr[0]),zr[Pr.si]&&(Er.f=shift_formula_xlsx(zr[Pr.si][1],zr[Pr.si][2],jr.r)));var sn=decode_cell(jr.r);for(vr=0;vr<Qr.length;++vr)sn.r>=Qr[vr][0].s.r&&sn.r<=Qr[vr][0].e.r&&sn.c>=Qr[vr][0].s.c&&sn.c<=Qr[vr][0].e.c&&(Er.F=Qr[vr][1])}if(jr.t==null&&Er.v===void 0)if(Er.f||Er.F)Er.v=0,Er.t="n";else if(Sr)Er.t="z";else continue;else Er.t=jr.t||"n";switch(ur.s.c>Cr&&(ur.s.c=Cr),ur.e.c<Cr&&(ur.e.c=Cr),Er.t){case"n":if(Er.v==""||Er.v==null){if(!Sr)continue;Er.t="z"}else Er.v=parseFloat(Er.v);break;case"s":if(typeof Er.v>"u"){if(!Sr)continue;Er.t="z"}else Or=strs[parseInt(Er.v,10)],Er.v=Or.t,Er.r=Or.r,cr.cellHTML&&(Er.h=Or.h);break;case"str":Er.t="s",Er.v=Er.v!=null?utf8read(Er.v):"",cr.cellHTML&&(Er.h=escapehtml(Er.v));break;case"inlineStr":hr=yr.match(rr),Er.t="s",hr!=null&&(Or=parse_si(hr[1]))?(Er.v=Or.t,cr.cellHTML&&(Er.h=Or.h)):Er.v="";break;case"b":Er.v=parsexmlbool(Er.v);break;case"d":cr.cellDates?Er.v=parseDate(Er.v,1):(Er.v=datenum(parseDate(Er.v,1)),Er.t="n");break;case"e":(!cr||cr.cellText!==!1)&&(Er.w=Er.v),Er.v=RBErr[Er.v];break}if(Lr=Gr=0,nn=null,Kr&&jr.s!==void 0&&(nn=fr.CellXf[jr.s],nn!=null&&(nn.numFmtId!=null&&(Lr=nn.numFmtId),cr.cellStyles&&nn.fillId!=null&&(Gr=nn.fillId))),safe_format(Er,Lr,Gr,cr,dr,fr),cr.cellDates&&Kr&&Er.t=="n"&&fmt_is_date(table_fmt[Lr])&&(Er.t="d",Er.v=numdate(Er.v)),jr.cm&&cr.xlmeta){var un=(cr.xlmeta.Cell||[])[+jr.cm-1];un&&un.type=="XLDAPR"&&(Er.D=!0)}if(Vr){var Nr=decode_cell(jr.r);lr[Nr.r]||(lr[Nr.r]=[]),lr[Nr.r][Nr.c]=Er}else lr[jr.r]=Er}}}}Jr.length>0&&(lr["!rows"]=Jr)}}();function write_ws_xml_data(St,er,tr,rr){var nr=[],ar=[],sr=safe_decode_range(St["!ref"]),ir="",or,lr="",cr=[],ur=0,dr=0,fr=St["!rows"],mr=Array.isArray(St),xr={r:lr},pr,hr=-1;for(dr=sr.s.c;dr<=sr.e.c;++dr)cr[dr]=encode_col(dr);for(ur=sr.s.r;ur<=sr.e.r;++ur){for(ar=[],lr=encode_row(ur),dr=sr.s.c;dr<=sr.e.c;++dr){or=cr[dr]+lr;var gr=mr?(St[ur]||[])[dr]:St[or];gr!==void 0&&(ir=write_ws_xml_cell(gr,or,St,er))!=null&&ar.push(ir)}(ar.length>0||fr&&fr[ur])&&(xr={r:lr},fr&&fr[ur]&&(pr=fr[ur],pr.hidden&&(xr.hidden=1),hr=-1,pr.hpx?hr=px2pt(pr.hpx):pr.hpt&&(hr=pr.hpt),hr>-1&&(xr.ht=hr,xr.customHeight=1),pr.level&&(xr.outlineLevel=pr.level)),nr[nr.length]=writextag("row",ar.join(""),xr))}if(fr)for(;ur<fr.length;++ur)fr&&fr[ur]&&(xr={r:ur+1},pr=fr[ur],pr.hidden&&(xr.hidden=1),hr=-1,pr.hpx?hr=px2pt(pr.hpx):pr.hpt&&(hr=pr.hpt),hr>-1&&(xr.ht=hr,xr.customHeight=1),pr.level&&(xr.outlineLevel=pr.level),nr[nr.length]=writextag("row","",xr));return nr.join("")}function write_ws_xml(St,er,tr,rr){var nr=[XML_HEADER,writextag("worksheet",null,{xmlns:XMLNS_main[0],"xmlns:r":XMLNS.r})],ar=tr.SheetNames[St],sr=0,ir="",or=tr.Sheets[ar];or==null&&(or={});var lr=or["!ref"]||"A1",cr=safe_decode_range(lr);if(cr.e.c>16383||cr.e.r>1048575){if(er.WTF)throw new Error("Range "+lr+" exceeds format limit A1:XFD1048576");cr.e.c=Math.min(cr.e.c,16383),cr.e.r=Math.min(cr.e.c,1048575),lr=encode_range(cr)}rr||(rr={}),or["!comments"]=[];var ur=[];write_ws_xml_sheetpr(or,tr,St,er,nr),nr[nr.length]=writextag("dimension",null,{ref:lr}),nr[nr.length]=write_ws_xml_sheetviews(or,er,St,tr),er.sheetFormat&&(nr[nr.length]=writextag("sheetFormatPr",null,{defaultRowHeight:er.sheetFormat.defaultRowHeight||"16",baseColWidth:er.sheetFormat.baseColWidth||"10",outlineLevelRow:er.sheetFormat.outlineLevelRow||"7"})),or["!cols"]!=null&&or["!cols"].length>0&&(nr[nr.length]=write_ws_xml_cols(or,or["!cols"])),nr[sr=nr.length]="<sheetData/>",or["!links"]=[],or["!ref"]!=null&&(ir=write_ws_xml_data(or,er),ir.length>0&&(nr[nr.length]=ir)),nr.length>sr+1&&(nr[nr.length]="</sheetData>",nr[sr]=nr[sr].replace("/>",">")),or["!protect"]&&(nr[nr.length]=write_ws_xml_protection(or["!protect"])),or["!autofilter"]!=null&&(nr[nr.length]=write_ws_xml_autofilter(or["!autofilter"],or,tr,St)),or["!merges"]!=null&&or["!merges"].length>0&&(nr[nr.length]=write_ws_xml_merges(or["!merges"]));var dr=-1,fr,mr=-1;return or["!links"].length>0&&(nr[nr.length]="<hyperlinks>",or["!links"].forEach(function(xr){xr[1].Target&&(fr={ref:xr[0]},xr[1].Target.charAt(0)!="#"&&(mr=add_rels(rr,-1,escapexml(xr[1].Target).replace(/#.*$/,""),RELS.HLINK),fr["r:id"]="rId"+mr),(dr=xr[1].Target.indexOf("#"))>-1&&(fr.location=escapexml(xr[1].Target.slice(dr+1))),xr[1].Tooltip&&(fr.tooltip=escapexml(xr[1].Tooltip)),nr[nr.length]=writextag("hyperlink",null,fr))}),nr[nr.length]="</hyperlinks>"),delete or["!links"],or["!margins"]!=null&&(nr[nr.length]=write_ws_xml_margins(or["!margins"])),(!er||er.ignoreEC||er.ignoreEC==null)&&(nr[nr.length]=writetag("ignoredErrors",writextag("ignoredError",null,{numberStoredAsText:1,sqref:lr}))),ur.length>0&&(mr=add_rels(rr,-1,"../drawings/drawing"+(St+1)+".xml",RELS.DRAW),nr[nr.length]=writextag("drawing",null,{"r:id":"rId"+mr}),or["!drawing"]=ur),or["!comments"].length>0&&(mr=add_rels(rr,-1,"../drawings/vmlDrawing"+(St+1)+".vml",RELS.VML),nr[nr.length]=writextag("legacyDrawing",null,{"r:id":"rId"+mr}),or["!legacy"]=mr),nr.length>1&&(nr[nr.length]="</worksheet>",nr[1]=nr[1].replace("/>",">")),nr.join("")}function parse_BrtRowHdr(St,er){var tr={},rr=St.l+er;tr.r=St.read_shift(4),St.l+=4;var nr=St.read_shift(2);St.l+=1;var ar=St.read_shift(1);return St.l=rr,ar&7&&(tr.level=ar&7),ar&16&&(tr.hidden=!0),ar&32&&(tr.hpt=nr/20),tr}function write_BrtRowHdr(St,er,tr){var rr=new_buf(145),nr=(tr["!rows"]||[])[St]||{};rr.write_shift(4,St),rr.write_shift(4,0);var ar=320;nr.hpx?ar=px2pt(nr.hpx)*20:nr.hpt&&(ar=nr.hpt*20),rr.write_shift(2,ar),rr.write_shift(1,0);var sr=0;nr.level&&(sr|=nr.level),nr.hidden&&(sr|=16),(nr.hpx||nr.hpt)&&(sr|=32),rr.write_shift(1,sr),rr.write_shift(1,0);var ir=0,or=rr.l;rr.l+=4;for(var lr={r:St,c:0},cr=0;cr<16;++cr)if(!(er.s.c>cr+1<<10||er.e.c<cr<<10)){for(var ur=-1,dr=-1,fr=cr<<10;fr<cr+1<<10;++fr){lr.c=fr;var mr=Array.isArray(tr)?(tr[lr.r]||[])[lr.c]:tr[encode_cell(lr)];mr&&(ur<0&&(ur=fr),dr=fr)}ur<0||(++ir,rr.write_shift(4,ur),rr.write_shift(4,dr))}var xr=rr.l;return rr.l=or,rr.write_shift(4,ir),rr.l=xr,rr.length>rr.l?rr.slice(0,rr.l):rr}function write_row_header(St,er,tr,rr){var nr=write_BrtRowHdr(rr,tr,er);(nr.length>17||(er["!rows"]||[])[rr])&&write_record(St,0,nr)}var parse_BrtWsDim=parse_UncheckedRfX,write_BrtWsDim=write_UncheckedRfX;function parse_BrtWsFmtInfo(){}function parse_BrtWsProp(St,er){var tr={},rr=St[St.l];return++St.l,tr.above=!(rr&64),tr.left=!(rr&128),St.l+=18,tr.name=parse_XLSBCodeName(St),tr}function write_BrtWsProp(St,er,tr){tr==null&&(tr=new_buf(84+4*St.length));var rr=192;er&&(er.above&&(rr&=-65),er.left&&(rr&=-129)),tr.write_shift(1,rr);for(var nr=1;nr<3;++nr)tr.write_shift(1,0);return write_BrtColor({auto:1},tr),tr.write_shift(-4,-1),tr.write_shift(-4,-1),write_XLSBCodeName(St,tr),tr.slice(0,tr.l)}function parse_BrtCellBlank(St){var er=parse_XLSBCell(St);return[er]}function write_BrtCellBlank(St,er,tr){return tr==null&&(tr=new_buf(8)),write_XLSBCell(er,tr)}function parse_BrtShortBlank(St){var er=parse_XLSBShortCell(St);return[er]}function write_BrtShortBlank(St,er,tr){return tr==null&&(tr=new_buf(4)),write_XLSBShortCell(er,tr)}function parse_BrtCellBool(St){var er=parse_XLSBCell(St),tr=St.read_shift(1);return[er,tr,"b"]}function write_BrtCellBool(St,er,tr){return tr==null&&(tr=new_buf(9)),write_XLSBCell(er,tr),tr.write_shift(1,St.v?1:0),tr}function parse_BrtShortBool(St){var er=parse_XLSBShortCell(St),tr=St.read_shift(1);return[er,tr,"b"]}function write_BrtShortBool(St,er,tr){return tr==null&&(tr=new_buf(5)),write_XLSBShortCell(er,tr),tr.write_shift(1,St.v?1:0),tr}function parse_BrtCellError(St){var er=parse_XLSBCell(St),tr=St.read_shift(1);return[er,tr,"e"]}function write_BrtCellError(St,er,tr){return tr==null&&(tr=new_buf(9)),write_XLSBCell(er,tr),tr.write_shift(1,St.v),tr}function parse_BrtShortError(St){var er=parse_XLSBShortCell(St),tr=St.read_shift(1);return[er,tr,"e"]}function write_BrtShortError(St,er,tr){return tr==null&&(tr=new_buf(8)),write_XLSBShortCell(er,tr),tr.write_shift(1,St.v),tr.write_shift(2,0),tr.write_shift(1,0),tr}function parse_BrtCellIsst(St){var er=parse_XLSBCell(St),tr=St.read_shift(4);return[er,tr,"s"]}function write_BrtCellIsst(St,er,tr){return tr==null&&(tr=new_buf(12)),write_XLSBCell(er,tr),tr.write_shift(4,er.v),tr}function parse_BrtShortIsst(St){var er=parse_XLSBShortCell(St),tr=St.read_shift(4);return[er,tr,"s"]}function write_BrtShortIsst(St,er,tr){return tr==null&&(tr=new_buf(8)),write_XLSBShortCell(er,tr),tr.write_shift(4,er.v),tr}function parse_BrtCellReal(St){var er=parse_XLSBCell(St),tr=parse_Xnum(St);return[er,tr,"n"]}function write_BrtCellReal(St,er,tr){return tr==null&&(tr=new_buf(16)),write_XLSBCell(er,tr),write_Xnum(St.v,tr),tr}function parse_BrtShortReal(St){var er=parse_XLSBShortCell(St),tr=parse_Xnum(St);return[er,tr,"n"]}function write_BrtShortReal(St,er,tr){return tr==null&&(tr=new_buf(12)),write_XLSBShortCell(er,tr),write_Xnum(St.v,tr),tr}function parse_BrtCellRk(St){var er=parse_XLSBCell(St),tr=parse_RkNumber(St);return[er,tr,"n"]}function write_BrtCellRk(St,er,tr){return tr==null&&(tr=new_buf(12)),write_XLSBCell(er,tr),write_RkNumber(St.v,tr),tr}function parse_BrtShortRk(St){var er=parse_XLSBShortCell(St),tr=parse_RkNumber(St);return[er,tr,"n"]}function write_BrtShortRk(St,er,tr){return tr==null&&(tr=new_buf(8)),write_XLSBShortCell(er,tr),write_RkNumber(St.v,tr),tr}function parse_BrtCellRString(St){var er=parse_XLSBCell(St),tr=parse_RichStr(St);return[er,tr,"is"]}function parse_BrtCellSt(St){var er=parse_XLSBCell(St),tr=parse_XLWideString(St);return[er,tr,"str"]}function write_BrtCellSt(St,er,tr){return tr==null&&(tr=new_buf(12+4*St.v.length)),write_XLSBCell(er,tr),write_XLWideString(St.v,tr),tr.length>tr.l?tr.slice(0,tr.l):tr}function parse_BrtShortSt(St){var er=parse_XLSBShortCell(St),tr=parse_XLWideString(St);return[er,tr,"str"]}function write_BrtShortSt(St,er,tr){return tr==null&&(tr=new_buf(8+4*St.v.length)),write_XLSBShortCell(er,tr),write_XLWideString(St.v,tr),tr.length>tr.l?tr.slice(0,tr.l):tr}function parse_BrtFmlaBool(St,er,tr){var rr=St.l+er,nr=parse_XLSBCell(St);nr.r=tr["!row"];var ar=St.read_shift(1),sr=[nr,ar,"b"];if(tr.cellFormula){St.l+=2;var ir=parse_XLSBCellParsedFormula(St,rr-St.l,tr);sr[3]=stringify_formula(ir,null,nr,tr.supbooks,tr)}else St.l=rr;return sr}function parse_BrtFmlaError(St,er,tr){var rr=St.l+er,nr=parse_XLSBCell(St);nr.r=tr["!row"];var ar=St.read_shift(1),sr=[nr,ar,"e"];if(tr.cellFormula){St.l+=2;var ir=parse_XLSBCellParsedFormula(St,rr-St.l,tr);sr[3]=stringify_formula(ir,null,nr,tr.supbooks,tr)}else St.l=rr;return sr}function parse_BrtFmlaNum(St,er,tr){var rr=St.l+er,nr=parse_XLSBCell(St);nr.r=tr["!row"];var ar=parse_Xnum(St),sr=[nr,ar,"n"];if(tr.cellFormula){St.l+=2;var ir=parse_XLSBCellParsedFormula(St,rr-St.l,tr);sr[3]=stringify_formula(ir,null,nr,tr.supbooks,tr)}else St.l=rr;return sr}function parse_BrtFmlaString(St,er,tr){var rr=St.l+er,nr=parse_XLSBCell(St);nr.r=tr["!row"];var ar=parse_XLWideString(St),sr=[nr,ar,"str"];if(tr.cellFormula){St.l+=2;var ir=parse_XLSBCellParsedFormula(St,rr-St.l,tr);sr[3]=stringify_formula(ir,null,nr,tr.supbooks,tr)}else St.l=rr;return sr}var parse_BrtMergeCell=parse_UncheckedRfX,write_BrtMergeCell=write_UncheckedRfX;function write_BrtBeginMergeCells(St,er){return er==null&&(er=new_buf(4)),er.write_shift(4,St),er}function parse_BrtHLink(St,er){var tr=St.l+er,rr=parse_UncheckedRfX(St),nr=parse_XLNullableWideString(St),ar=parse_XLWideString(St),sr=parse_XLWideString(St),ir=parse_XLWideString(St);St.l=tr;var or={rfx:rr,relId:nr,loc:ar,display:ir};return sr&&(or.Tooltip=sr),or}function write_BrtHLink(St,er){var tr=new_buf(50+4*(St[1].Target.length+(St[1].Tooltip||"").length));write_UncheckedRfX({s:decode_cell(St[0]),e:decode_cell(St[0])},tr),write_RelID("rId"+er,tr);var rr=St[1].Target.indexOf("#"),nr=rr==-1?"":St[1].Target.slice(rr+1);return write_XLWideString(nr||"",tr),write_XLWideString(St[1].Tooltip||"",tr),write_XLWideString("",tr),tr.slice(0,tr.l)}function parse_BrtPane(){}function parse_BrtArrFmla(St,er,tr){var rr=St.l+er,nr=parse_RfX(St),ar=St.read_shift(1),sr=[nr];if(sr[2]=ar,tr.cellFormula){var ir=parse_XLSBArrayParsedFormula(St,rr-St.l,tr);sr[1]=ir}else St.l=rr;return sr}function parse_BrtShrFmla(St,er,tr){var rr=St.l+er,nr=parse_UncheckedRfX(St),ar=[nr];if(tr.cellFormula){var sr=parse_XLSBSharedParsedFormula(St,rr-St.l,tr);ar[1]=sr,St.l=rr}else St.l=rr;return ar}function write_BrtColInfo(St,er,tr){tr==null&&(tr=new_buf(18));var rr=col_obj_w(St,er);tr.write_shift(-4,St),tr.write_shift(-4,St),tr.write_shift(4,(rr.width||10)*256),tr.write_shift(4,0);var nr=0;return er.hidden&&(nr|=1),typeof rr.width=="number"&&(nr|=2),er.level&&(nr|=er.level<<8),tr.write_shift(2,nr),tr}var BrtMarginKeys=["left","right","top","bottom","header","footer"];function parse_BrtMargins(St){var er={};return BrtMarginKeys.forEach(function(tr){er[tr]=parse_Xnum(St)}),er}function write_BrtMargins(St,er){return er==null&&(er=new_buf(6*8)),default_margins(St),BrtMarginKeys.forEach(function(tr){write_Xnum(St[tr],er)}),er}function parse_BrtBeginWsView(St){var er=St.read_shift(2);return St.l+=28,{RTL:er&32}}function write_BrtBeginWsView(St,er,tr){tr==null&&(tr=new_buf(30));var rr=924;return(((er||{}).Views||[])[0]||{}).RTL&&(rr|=32),tr.write_shift(2,rr),tr.write_shift(4,0),tr.write_shift(4,0),tr.write_shift(4,0),tr.write_shift(1,0),tr.write_shift(1,0),tr.write_shift(2,0),tr.write_shift(2,100),tr.write_shift(2,0),tr.write_shift(2,0),tr.write_shift(2,0),tr.write_shift(4,0),tr}function write_BrtCellIgnoreEC(St){var er=new_buf(24);return er.write_shift(4,4),er.write_shift(4,1),write_UncheckedRfX(St,er),er}function write_BrtSheetProtection(St,er){return er==null&&(er=new_buf(16*4+2)),er.write_shift(2,St.password?crypto_CreatePasswordVerifier_Method1(St.password):0),er.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(tr){tr[1]?er.write_shift(4,St[tr[0]]!=null&&!St[tr[0]]?1:0):er.write_shift(4,St[tr[0]]!=null&&St[tr[0]]?0:1)}),er}function parse_BrtDVal(){}function parse_BrtDVal14(){}function parse_ws_bin(St,er,tr,rr,nr,ar,sr){if(!St)return St;var ir=er||{};rr||(rr={"!id":{}});var or=ir.dense?[]:{},lr,cr={s:{r:2e6,c:2e6},e:{r:0,c:0}},ur=!1,dr=!1,fr,mr,xr,pr,hr,gr,vr,br,yr,Er=[];ir.biff=12,ir["!row"]=0;var jr=0,_r=!1,Cr=[],Or={},Pr=ir.supbooks||nr.supbooks||[[]];if(Pr.sharedf=Or,Pr.arrayf=Cr,Pr.SheetNames=nr.SheetNames||nr.Sheets.map(function(Vr){return Vr.name}),!ir.supbooks&&(ir.supbooks=Pr,nr.Names))for(var Lr=0;Lr<nr.Names.length;++Lr)Pr[0][Lr+1]=nr.Names[Lr];var Gr=[],Kr=[],nn=!1;XLSBRecordEnum[16]={n:"BrtShortReal",f:parse_BrtShortReal};var Qr;if(recordhopper(St,function(Jr,tn,Yr){if(!dr)switch(Yr){case 148:lr=Jr;break;case 0:fr=Jr,ir.sheetRows&&ir.sheetRows<=fr.r&&(dr=!0),br=encode_row(pr=fr.r),ir["!row"]=fr.r,(Jr.hidden||Jr.hpt||Jr.level!=null)&&(Jr.hpt&&(Jr.hpx=pt2px(Jr.hpt)),Kr[Jr.r]=Jr);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(mr={t:Jr[2]},Jr[2]){case"n":mr.v=Jr[1];break;case"s":vr=strs[Jr[1]],mr.v=vr.t,mr.r=vr.r;break;case"b":mr.v=!!Jr[1];break;case"e":mr.v=Jr[1],ir.cellText!==!1&&(mr.w=BErr[mr.v]);break;case"str":mr.t="s",mr.v=Jr[1];break;case"is":mr.t="s",mr.v=Jr[1].t;break}if((xr=sr.CellXf[Jr[0].iStyleRef])&&safe_format(mr,xr.numFmtId,null,ir,ar,sr),hr=Jr[0].c==-1?hr+1:Jr[0].c,ir.dense?(or[pr]||(or[pr]=[]),or[pr][hr]=mr):or[encode_col(hr)+br]=mr,ir.cellFormula){for(_r=!1,jr=0;jr<Cr.length;++jr){var Sr=Cr[jr];fr.r>=Sr[0].s.r&&fr.r<=Sr[0].e.r&&hr>=Sr[0].s.c&&hr<=Sr[0].e.c&&(mr.F=encode_range(Sr[0]),_r=!0)}!_r&&Jr.length>3&&(mr.f=Jr[3])}if(cr.s.r>fr.r&&(cr.s.r=fr.r),cr.s.c>hr&&(cr.s.c=hr),cr.e.r<fr.r&&(cr.e.r=fr.r),cr.e.c<hr&&(cr.e.c=hr),ir.cellDates&&xr&&mr.t=="n"&&fmt_is_date(table_fmt[xr.numFmtId])){var Rr=SSF_parse_date_code(mr.v);Rr&&(mr.t="d",mr.v=new Date(Rr.y,Rr.m-1,Rr.d,Rr.H,Rr.M,Rr.S,Rr.u))}Qr&&(Qr.type=="XLDAPR"&&(mr.D=!0),Qr=void 0);break;case 1:case 12:if(!ir.sheetStubs||ur)break;mr={t:"z",v:void 0},hr=Jr[0].c==-1?hr+1:Jr[0].c,ir.dense?(or[pr]||(or[pr]=[]),or[pr][hr]=mr):or[encode_col(hr)+br]=mr,cr.s.r>fr.r&&(cr.s.r=fr.r),cr.s.c>hr&&(cr.s.c=hr),cr.e.r<fr.r&&(cr.e.r=fr.r),cr.e.c<hr&&(cr.e.c=hr),Qr&&(Qr.type=="XLDAPR"&&(mr.D=!0),Qr=void 0);break;case 176:Er.push(Jr);break;case 49:Qr=((ir.xlmeta||{}).Cell||[])[Jr-1];break;case 494:var Tr=rr["!id"][Jr.relId];for(Tr?(Jr.Target=Tr.Target,Jr.loc&&(Jr.Target+="#"+Jr.loc),Jr.Rel=Tr):Jr.relId==""&&(Jr.Target="#"+Jr.loc),pr=Jr.rfx.s.r;pr<=Jr.rfx.e.r;++pr)for(hr=Jr.rfx.s.c;hr<=Jr.rfx.e.c;++hr)ir.dense?(or[pr]||(or[pr]=[]),or[pr][hr]||(or[pr][hr]={t:"z",v:void 0}),or[pr][hr].l=Jr):(gr=encode_cell({c:hr,r:pr}),or[gr]||(or[gr]={t:"z",v:void 0}),or[gr].l=Jr);break;case 426:if(!ir.cellFormula)break;Cr.push(Jr),yr=ir.dense?or[pr][hr]:or[encode_col(hr)+br],yr.f=stringify_formula(Jr[1],cr,{r:fr.r,c:hr},Pr,ir),yr.F=encode_range(Jr[0]);break;case 427:if(!ir.cellFormula)break;Or[encode_cell(Jr[0].s)]=Jr[1],yr=ir.dense?or[pr][hr]:or[encode_col(hr)+br],yr.f=stringify_formula(Jr[1],cr,{r:fr.r,c:hr},Pr,ir);break;case 60:if(!ir.cellStyles)break;for(;Jr.e>=Jr.s;)Gr[Jr.e--]={width:Jr.w/256,hidden:!!(Jr.flags&1),level:Jr.level},nn||(nn=!0,find_mdw_colw(Jr.w/256)),process_col(Gr[Jr.e+1]);break;case 161:or["!autofilter"]={ref:encode_range(Jr)};break;case 476:or["!margins"]=Jr;break;case 147:nr.Sheets[tr]||(nr.Sheets[tr]={}),Jr.name&&(nr.Sheets[tr].CodeName=Jr.name),(Jr.above||Jr.left)&&(or["!outline"]={above:Jr.above,left:Jr.left});break;case 137:nr.Views||(nr.Views=[{}]),nr.Views[0]||(nr.Views[0]={}),Jr.RTL&&(nr.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:ur=!0;break;case 36:ur=!1;break;case 37:ur=!0;break;case 38:ur=!1;break;default:if(!tn.T){if(!ur||ir.WTF)throw new Error("Unexpected record 0x"+Yr.toString(16))}}},ir),delete ir.supbooks,delete ir["!row"],!or["!ref"]&&(cr.s.r<2e6||lr&&(lr.e.r>0||lr.e.c>0||lr.s.r>0||lr.s.c>0))&&(or["!ref"]=encode_range(lr||cr)),ir.sheetRows&&or["!ref"]){var zr=safe_decode_range(or["!ref"]);ir.sheetRows<=+zr.e.r&&(zr.e.r=ir.sheetRows-1,zr.e.r>cr.e.r&&(zr.e.r=cr.e.r),zr.e.r<zr.s.r&&(zr.s.r=zr.e.r),zr.e.c>cr.e.c&&(zr.e.c=cr.e.c),zr.e.c<zr.s.c&&(zr.s.c=zr.e.c),or["!fullref"]=or["!ref"],or["!ref"]=encode_range(zr))}return Er.length>0&&(or["!merges"]=Er),Gr.length>0&&(or["!cols"]=Gr),Kr.length>0&&(or["!rows"]=Kr),or}function write_ws_bin_cell(St,er,tr,rr,nr,ar,sr){if(er.v===void 0)return!1;var ir="";switch(er.t){case"b":ir=er.v?"1":"0";break;case"d":er=dup(er),er.z=er.z||table_fmt[14],er.v=datenum(parseDate(er.v)),er.t="n";break;case"n":case"e":ir=""+er.v;break;default:ir=er.v;break}var or={r:tr,c:rr};switch(or.s=get_cell_style(nr.cellXfs,er,nr),er.l&&ar["!links"].push([encode_cell(or),er.l]),er.c&&ar["!comments"].push([encode_cell(or),er.c]),er.t){case"s":case"str":return nr.bookSST?(ir=get_sst_id(nr.Strings,er.v,nr.revStrings),or.t="s",or.v=ir,sr?write_record(St,18,write_BrtShortIsst(er,or)):write_record(St,7,write_BrtCellIsst(er,or))):(or.t="str",sr?write_record(St,17,write_BrtShortSt(er,or)):write_record(St,6,write_BrtCellSt(er,or))),!0;case"n":return er.v==(er.v|0)&&er.v>-1e3&&er.v<1e3?sr?write_record(St,13,write_BrtShortRk(er,or)):write_record(St,2,write_BrtCellRk(er,or)):sr?write_record(St,16,write_BrtShortReal(er,or)):write_record(St,5,write_BrtCellReal(er,or)),!0;case"b":return or.t="b",sr?write_record(St,15,write_BrtShortBool(er,or)):write_record(St,4,write_BrtCellBool(er,or)),!0;case"e":return or.t="e",sr?write_record(St,14,write_BrtShortError(er,or)):write_record(St,3,write_BrtCellError(er,or)),!0}return sr?write_record(St,12,write_BrtShortBlank(er,or)):write_record(St,1,write_BrtCellBlank(er,or)),!0}function write_CELLTABLE(St,er,tr,rr){var nr=safe_decode_range(er["!ref"]||"A1"),ar,sr="",ir=[];write_record(St,145);var or=Array.isArray(er),lr=nr.e.r;er["!rows"]&&(lr=Math.max(nr.e.r,er["!rows"].length-1));for(var cr=nr.s.r;cr<=lr;++cr){sr=encode_row(cr),write_row_header(St,er,nr,cr);var ur=!1;if(cr<=nr.e.r)for(var dr=nr.s.c;dr<=nr.e.c;++dr){cr===nr.s.r&&(ir[dr]=encode_col(dr)),ar=ir[dr]+sr;var fr=or?(er[cr]||[])[dr]:er[ar];if(!fr){ur=!1;continue}ur=write_ws_bin_cell(St,fr,cr,dr,rr,er,ur)}}write_record(St,146)}function write_MERGECELLS(St,er){!er||!er["!merges"]||(write_record(St,177,write_BrtBeginMergeCells(er["!merges"].length)),er["!merges"].forEach(function(tr){write_record(St,176,write_BrtMergeCell(tr))}),write_record(St,178))}function write_COLINFOS(St,er){!er||!er["!cols"]||(write_record(St,390),er["!cols"].forEach(function(tr,rr){tr&&write_record(St,60,write_BrtColInfo(rr,tr))}),write_record(St,391))}function write_IGNOREECS(St,er){!er||!er["!ref"]||(write_record(St,648),write_record(St,649,write_BrtCellIgnoreEC(safe_decode_range(er["!ref"]))),write_record(St,650))}function write_HLINKS(St,er,tr){er["!links"].forEach(function(rr){if(rr[1].Target){var nr=add_rels(tr,-1,rr[1].Target.replace(/#.*$/,""),RELS.HLINK);write_record(St,494,write_BrtHLink(rr,nr))}}),delete er["!links"]}function write_LEGACYDRAWING(St,er,tr,rr){if(er["!comments"].length>0){var nr=add_rels(rr,-1,"../drawings/vmlDrawing"+(tr+1)+".vml",RELS.VML);write_record(St,551,write_RelID("rId"+nr)),er["!legacy"]=nr}}function write_AUTOFILTER(St,er,tr,rr){if(er["!autofilter"]){var nr=er["!autofilter"],ar=typeof nr.ref=="string"?nr.ref:encode_range(nr.ref);tr.Workbook||(tr.Workbook={Sheets:[]}),tr.Workbook.Names||(tr.Workbook.Names=[]);var sr=tr.Workbook.Names,ir=decode_range(ar);ir.s.r==ir.e.r&&(ir.e.r=decode_range(er["!ref"]).e.r,ar=encode_range(ir));for(var or=0;or<sr.length;++or){var lr=sr[or];if(lr.Name=="_xlnm._FilterDatabase"&&lr.Sheet==rr){lr.Ref="'"+tr.SheetNames[rr]+"'!"+ar;break}}or==sr.length&&sr.push({Name:"_xlnm._FilterDatabase",Sheet:rr,Ref:"'"+tr.SheetNames[rr]+"'!"+ar}),write_record(St,161,write_UncheckedRfX(safe_decode_range(ar))),write_record(St,162)}}function write_WSVIEWS2(St,er,tr){write_record(St,133),write_record(St,137,write_BrtBeginWsView(er,tr)),write_record(St,138),write_record(St,134)}function write_SHEETPROTECT(St,er){er["!protect"]&&write_record(St,535,write_BrtSheetProtection(er["!protect"]))}function write_ws_bin(St,er,tr,rr){var nr=buf_array(),ar=tr.SheetNames[St],sr=tr.Sheets[ar]||{},ir=ar;try{tr&&tr.Workbook&&(ir=tr.Workbook.Sheets[St].CodeName||ir)}catch{}var or=safe_decode_range(sr["!ref"]||"A1");if(or.e.c>16383||or.e.r>1048575){if(er.WTF)throw new Error("Range "+(sr["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");or.e.c=Math.min(or.e.c,16383),or.e.r=Math.min(or.e.c,1048575)}return sr["!links"]=[],sr["!comments"]=[],write_record(nr,129),(tr.vbaraw||sr["!outline"])&&write_record(nr,147,write_BrtWsProp(ir,sr["!outline"])),write_record(nr,148,write_BrtWsDim(or)),write_WSVIEWS2(nr,sr,tr.Workbook),write_COLINFOS(nr,sr),write_CELLTABLE(nr,sr,St,er),write_SHEETPROTECT(nr,sr),write_AUTOFILTER(nr,sr,tr,St),write_MERGECELLS(nr,sr),write_HLINKS(nr,sr,rr),sr["!margins"]&&write_record(nr,476,write_BrtMargins(sr["!margins"])),(!er||er.ignoreEC||er.ignoreEC==null)&&write_IGNOREECS(nr,sr),write_LEGACYDRAWING(nr,sr,St,rr),write_record(nr,130),nr.end()}function parse_Cache(St){var er=[],tr=St.match(/^<c:numCache>/),rr;(St.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(ar){var sr=ar.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);sr&&(er[+sr[1]]=tr?+sr[2]:sr[2])});var nr=unescapexml((St.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(St.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(ar){rr=ar.replace(/<.*?>/g,"")}),[er,nr,rr]}function parse_chart(St,er,tr,rr,nr,ar){var sr=ar||{"!type":"chart"};if(!St)return ar;var ir=0,or=0,lr="A",cr={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(St.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(ur){var dr=parse_Cache(ur);cr.s.r=cr.s.c=0,cr.e.c=ir,lr=encode_col(ir),dr[0].forEach(function(fr,mr){sr[lr+encode_row(mr)]={t:"n",v:fr,z:dr[1]},or=mr}),cr.e.r<or&&(cr.e.r=or),++ir}),ir>0&&(sr["!ref"]=encode_range(cr)),sr}function parse_cs_xml(St,er,tr,rr,nr){if(!St)return St;rr||(rr={"!id":{}});var ar={"!type":"chart","!drawel":null,"!rel":""},sr,ir=St.match(sheetprregex);return ir&&parse_ws_xml_sheetpr(ir[0],ar,nr,tr),(sr=St.match(/drawing r:id="(.*?)"/))&&(ar["!rel"]=sr[1]),rr["!id"][ar["!rel"]]&&(ar["!drawel"]=rr["!id"][ar["!rel"]]),ar}function parse_BrtCsProp(St,er){St.l+=10;var tr=parse_XLWideString(St);return{name:tr}}function parse_cs_bin(St,er,tr,rr,nr){if(!St)return St;rr||(rr={"!id":{}});var ar={"!type":"chart","!drawel":null,"!rel":""},sr=!1;return recordhopper(St,function(or,lr,cr){switch(cr){case 550:ar["!rel"]=or;break;case 651:nr.Sheets[tr]||(nr.Sheets[tr]={}),or.name&&(nr.Sheets[tr].CodeName=or.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:sr=!0;break;case 36:sr=!1;break;case 37:break;case 38:break;default:if(!(lr.T>0)){if(!(lr.T<0)){if(!sr||er.WTF)throw new Error("Unexpected record 0x"+cr.toString(16))}}}},er),rr["!id"][ar["!rel"]]&&(ar["!drawel"]=rr["!id"][ar["!rel"]]),ar}var WBPropsDef=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],WBViewDef=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],SheetDef=[],CalcPrDef=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function push_defaults_array(St,er){for(var tr=0;tr!=St.length;++tr)for(var rr=St[tr],nr=0;nr!=er.length;++nr){var ar=er[nr];if(rr[ar[0]]==null)rr[ar[0]]=ar[1];else switch(ar[2]){case"bool":typeof rr[ar[0]]=="string"&&(rr[ar[0]]=parsexmlbool(rr[ar[0]]));break;case"int":typeof rr[ar[0]]=="string"&&(rr[ar[0]]=parseInt(rr[ar[0]],10));break}}}function push_defaults(St,er){for(var tr=0;tr!=er.length;++tr){var rr=er[tr];if(St[rr[0]]==null)St[rr[0]]=rr[1];else switch(rr[2]){case"bool":typeof St[rr[0]]=="string"&&(St[rr[0]]=parsexmlbool(St[rr[0]]));break;case"int":typeof St[rr[0]]=="string"&&(St[rr[0]]=parseInt(St[rr[0]],10));break}}}function parse_wb_defaults(St){push_defaults(St.WBProps,WBPropsDef),push_defaults(St.CalcPr,CalcPrDef),push_defaults_array(St.WBView,WBViewDef),push_defaults_array(St.Sheets,SheetDef),_ssfopts.date1904=parsexmlbool(St.WBProps.date1904)}function safe1904(St){return!St.Workbook||!St.Workbook.WBProps?"false":parsexmlbool(St.Workbook.WBProps.date1904)?"true":"false"}var badchars="][*?/\\".split("");function check_ws_name(St,er){if(St.length>31)throw new Error("Sheet names cannot exceed 31 chars");var tr=!0;return badchars.forEach(function(rr){if(St.indexOf(rr)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),tr}function check_wb_names(St,er,tr){St.forEach(function(rr,nr){check_ws_name(rr);for(var ar=0;ar<nr;++ar)if(rr==St[ar])throw new Error("Duplicate Sheet Name: "+rr);if(tr){var sr=er&&er[nr]&&er[nr].CodeName||rr;if(sr.charCodeAt(0)==95&&sr.length>22)throw new Error("Bad Code Name: Worksheet"+sr)}})}function check_wb(St){if(!St||!St.SheetNames||!St.Sheets)throw new Error("Invalid Workbook");if(!St.SheetNames.length)throw new Error("Workbook is empty");var er=St.Workbook&&St.Workbook.Sheets||[];check_wb_names(St.SheetNames,er,!!St.vbaraw);for(var tr=0;tr<St.SheetNames.length;++tr)check_ws(St.Sheets[St.SheetNames[tr]],St.SheetNames[tr],tr)}var wbnsregex=/<\w+:workbook/;function parse_wb_xml(St,er){if(!St)throw new Error("Could not find file");var tr={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},rr=!1,nr="xmlns",ar={},sr=0;if(St.replace(tagregex,function(or,lr){var cr=parsexmltag(or);switch(strip_ns(cr[0])){case"<?xml":break;case"<workbook":or.match(wbnsregex)&&(nr="xmlns"+or.match(/<(\w+):/)[1]),tr.xmlns=cr[nr];break;case"</workbook>":break;case"<fileVersion":delete cr[0],tr.AppVersion=cr;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":WBPropsDef.forEach(function(ur){if(cr[ur[0]]!=null)switch(ur[2]){case"bool":tr.WBProps[ur[0]]=parsexmlbool(cr[ur[0]]);break;case"int":tr.WBProps[ur[0]]=parseInt(cr[ur[0]],10);break;default:tr.WBProps[ur[0]]=cr[ur[0]]}}),cr.codeName&&(tr.WBProps.CodeName=utf8read(cr.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete cr[0],tr.WBView.push(cr);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(cr.state){case"hidden":cr.Hidden=1;break;case"veryHidden":cr.Hidden=2;break;default:cr.Hidden=0}delete cr.state,cr.name=unescapexml(utf8read(cr.name)),delete cr[0],tr.Sheets.push(cr);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":rr=!0;break;case"</definedNames>":rr=!1;break;case"<definedName":ar={},ar.Name=utf8read(cr.name),cr.comment&&(ar.Comment=cr.comment),cr.localSheetId&&(ar.Sheet=+cr.localSheetId),parsexmlbool(cr.hidden||"0")&&(ar.Hidden=!0),sr=lr+or.length;break;case"</definedName>":ar.Ref=unescapexml(utf8read(St.slice(sr,lr))),tr.Names.push(ar);break;case"<definedName/>":break;case"<calcPr":delete cr[0],tr.CalcPr=cr;break;case"<calcPr/>":delete cr[0],tr.CalcPr=cr;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":rr=!0;break;case"</ext>":rr=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":rr=!0;break;case"</AlternateContent>":rr=!1;break;case"<revisionPtr":break;default:if(!rr&&er.WTF)throw new Error("unrecognized "+cr[0]+" in workbook")}return or}),XMLNS_main.indexOf(tr.xmlns)===-1)throw new Error("Unknown Namespace: "+tr.xmlns);return parse_wb_defaults(tr),tr}function write_wb_xml(St){var er=[XML_HEADER];er[er.length]=writextag("workbook",null,{xmlns:XMLNS_main[0],"xmlns:r":XMLNS.r});var tr=St.Workbook&&(St.Workbook.Names||[]).length>0,rr={codeName:"ThisWorkbook"};St.Workbook&&St.Workbook.WBProps&&(WBPropsDef.forEach(function(ir){St.Workbook.WBProps[ir[0]]!=null&&St.Workbook.WBProps[ir[0]]!=ir[1]&&(rr[ir[0]]=St.Workbook.WBProps[ir[0]])}),St.Workbook.WBProps.CodeName&&(rr.codeName=St.Workbook.WBProps.CodeName,delete rr.CodeName)),er[er.length]=writextag("workbookPr",null,rr);var nr=St.Workbook&&St.Workbook.Sheets||[],ar=0;if(nr&&nr[0]&&nr[0].Hidden){for(er[er.length]="<bookViews>",ar=0;ar!=St.SheetNames.length&&!(!nr[ar]||!nr[ar].Hidden);++ar);ar==St.SheetNames.length&&(ar=0),er[er.length]='<workbookView firstSheet="'+ar+'" activeTab="'+ar+'"/>',er[er.length]="</bookViews>"}for(er[er.length]="<sheets>",ar=0;ar!=St.SheetNames.length;++ar){var sr={name:escapexml(St.SheetNames[ar].slice(0,31))};if(sr.sheetId=""+(ar+1),sr["r:id"]="rId"+(ar+1),nr[ar])switch(nr[ar].Hidden){case 1:sr.state="hidden";break;case 2:sr.state="veryHidden";break}er[er.length]=writextag("sheet",null,sr)}return er[er.length]="</sheets>",tr&&(er[er.length]="<definedNames>",St.Workbook&&St.Workbook.Names&&St.Workbook.Names.forEach(function(ir){var or={name:ir.Name};ir.Comment&&(or.comment=ir.Comment),ir.Sheet!=null&&(or.localSheetId=""+ir.Sheet),ir.Hidden&&(or.hidden="1"),ir.Ref&&(er[er.length]=writextag("definedName",escapexml(ir.Ref),or))}),er[er.length]="</definedNames>"),er.length>2&&(er[er.length]="</workbook>",er[1]=er[1].replace("/>",">")),er.join("")}function parse_BrtBundleSh(St,er){var tr={};return tr.Hidden=St.read_shift(4),tr.iTabID=St.read_shift(4),tr.strRelID=parse_RelID(St),tr.name=parse_XLWideString(St),tr}function write_BrtBundleSh(St,er){return er||(er=new_buf(127)),er.write_shift(4,St.Hidden),er.write_shift(4,St.iTabID),write_RelID(St.strRelID,er),write_XLWideString(St.name.slice(0,31),er),er.length>er.l?er.slice(0,er.l):er}function parse_BrtWbProp(St,er){var tr={},rr=St.read_shift(4);tr.defaultThemeVersion=St.read_shift(4);var nr=er>8?parse_XLWideString(St):"";return nr.length>0&&(tr.CodeName=nr),tr.autoCompressPictures=!!(rr&65536),tr.backupFile=!!(rr&64),tr.checkCompatibility=!!(rr&4096),tr.date1904=!!(rr&1),tr.filterPrivacy=!!(rr&8),tr.hidePivotFieldList=!!(rr&1024),tr.promptedSolutions=!!(rr&16),tr.publishItems=!!(rr&2048),tr.refreshAllConnections=!!(rr&262144),tr.saveExternalLinkValues=!!(rr&128),tr.showBorderUnselectedTables=!!(rr&4),tr.showInkAnnotation=!!(rr&32),tr.showObjects=["all","placeholders","none"][rr>>13&3],tr.showPivotChartFilter=!!(rr&32768),tr.updateLinks=["userSet","never","always"][rr>>8&3],tr}function write_BrtWbProp(St,er){er||(er=new_buf(72));var tr=0;return St&&St.filterPrivacy&&(tr|=8),er.write_shift(4,tr),er.write_shift(4,0),write_XLSBCodeName(St&&St.CodeName||"ThisWorkbook",er),er.slice(0,er.l)}function parse_BrtFRTArchID$(St,er){var tr={};return St.read_shift(4),tr.ArchID=St.read_shift(4),St.l+=er-8,tr}function parse_BrtName(St,er,tr){var rr=St.l+er;St.l+=4,St.l+=1;var nr=St.read_shift(4),ar=parse_XLNameWideString(St),sr=parse_XLSBNameParsedFormula(St,0,tr),ir=parse_XLNullableWideString(St);St.l=rr;var or={Name:ar,Ptg:sr};return nr<268435455&&(or.Sheet=nr),ir&&(or.Comment=ir),or}function parse_wb_bin(St,er){var tr={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},rr=[],nr=!1;er||(er={}),er.biff=12;var ar=[],sr=[[]];return sr.SheetNames=[],sr.XTI=[],XLSBRecordEnum[16]={n:"BrtFRTArchID$",f:parse_BrtFRTArchID$},recordhopper(St,function(or,lr,cr){switch(cr){case 156:sr.SheetNames.push(or.name),tr.Sheets.push(or);break;case 153:tr.WBProps=or;break;case 39:or.Sheet!=null&&(er.SID=or.Sheet),or.Ref=stringify_formula(or.Ptg,null,null,sr,er),delete er.SID,delete or.Ptg,ar.push(or);break;case 1036:break;case 357:case 358:case 355:case 667:sr[0].length?sr.push([cr,or]):sr[0]=[cr,or],sr[sr.length-1].XTI=[];break;case 362:sr.length===0&&(sr[0]=[],sr[0].XTI=[]),sr[sr.length-1].XTI=sr[sr.length-1].XTI.concat(or),sr.XTI=sr.XTI.concat(or);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:rr.push(cr),nr=!0;break;case 36:rr.pop(),nr=!1;break;case 37:rr.push(cr),nr=!0;break;case 38:rr.pop(),nr=!1;break;case 16:break;default:if(!lr.T){if(!nr||er.WTF&&rr[rr.length-1]!=37&&rr[rr.length-1]!=35)throw new Error("Unexpected record 0x"+cr.toString(16))}}},er),parse_wb_defaults(tr),tr.Names=ar,tr.supbooks=sr,tr}function write_BUNDLESHS(St,er){write_record(St,143);for(var tr=0;tr!=er.SheetNames.length;++tr){var rr=er.Workbook&&er.Workbook.Sheets&&er.Workbook.Sheets[tr]&&er.Workbook.Sheets[tr].Hidden||0,nr={Hidden:rr,iTabID:tr+1,strRelID:"rId"+(tr+1),name:er.SheetNames[tr]};write_record(St,156,write_BrtBundleSh(nr))}write_record(St,144)}function write_BrtFileVersion(St,er){er||(er=new_buf(127));for(var tr=0;tr!=4;++tr)er.write_shift(4,0);return write_XLWideString("SheetJS",er),write_XLWideString(XLSX.version,er),write_XLWideString(XLSX.version,er),write_XLWideString("7262",er),er.length>er.l?er.slice(0,er.l):er}function write_BrtBookView(St,er){er||(er=new_buf(29)),er.write_shift(-4,0),er.write_shift(-4,460),er.write_shift(4,28800),er.write_shift(4,17600),er.write_shift(4,500),er.write_shift(4,St),er.write_shift(4,St);var tr=120;return er.write_shift(1,tr),er.length>er.l?er.slice(0,er.l):er}function write_BOOKVIEWS(St,er){if(!(!er.Workbook||!er.Workbook.Sheets)){for(var tr=er.Workbook.Sheets,rr=0,nr=-1,ar=-1;rr<tr.length;++rr)!tr[rr]||!tr[rr].Hidden&&nr==-1?nr=rr:tr[rr].Hidden==1&&ar==-1&&(ar=rr);ar>nr||(write_record(St,135),write_record(St,158,write_BrtBookView(nr)),write_record(St,136))}}function write_wb_bin(St,er){var tr=buf_array();return write_record(tr,131),write_record(tr,128,write_BrtFileVersion()),write_record(tr,153,write_BrtWbProp(St.Workbook&&St.Workbook.WBProps||null)),write_BOOKVIEWS(tr,St),write_BUNDLESHS(tr,St),write_record(tr,132),tr.end()}function parse_wb(St,er,tr){return er.slice(-4)===".bin"?parse_wb_bin(St,tr):parse_wb_xml(St,tr)}function parse_ws(St,er,tr,rr,nr,ar,sr,ir){return er.slice(-4)===".bin"?parse_ws_bin(St,rr,tr,nr,ar,sr,ir):parse_ws_xml(St,rr,tr,nr,ar,sr,ir)}function parse_cs(St,er,tr,rr,nr,ar,sr,ir){return er.slice(-4)===".bin"?parse_cs_bin(St,rr,tr,nr,ar):parse_cs_xml(St,rr,tr,nr,ar)}function parse_ms(St,er,tr,rr,nr,ar,sr,ir){return er.slice(-4)===".bin"?parse_ms_bin():parse_ms_xml()}function parse_ds(St,er,tr,rr,nr,ar,sr,ir){return er.slice(-4)===".bin"?parse_ds_bin():parse_ds_xml()}function parse_sty(St,er,tr,rr){return er.slice(-4)===".bin"?parse_sty_bin(St,tr,rr):parse_sty_xml(St,tr,rr)}function parse_theme(St,er,tr){return parse_theme_xml(St,tr)}function parse_sst(St,er,tr){return er.slice(-4)===".bin"?parse_sst_bin(St,tr):parse_sst_xml(St,tr)}function parse_cmnt(St,er,tr){return er.slice(-4)===".bin"?parse_comments_bin(St,tr):parse_comments_xml(St,tr)}function parse_cc(St,er,tr){return er.slice(-4)===".bin"?parse_cc_bin(St):parse_cc_xml(St)}function parse_xlink(St,er,tr,rr){return tr.slice(-4)===".bin"?parse_xlink_bin(St,er,tr,rr):void 0}function parse_xlmeta(St,er,tr){return er.slice(-4)===".bin"?parse_xlmeta_bin(St,er,tr):parse_xlmeta_xml(St,er,tr)}function write_wb(St,er,tr){return(er.slice(-4)===".bin"?write_wb_bin:write_wb_xml)(St)}function write_ws(St,er,tr,rr,nr){return(er.slice(-4)===".bin"?write_ws_bin:write_ws_xml)(St,tr,rr,nr)}function write_sty(St,er,tr){return(er.slice(-4)===".bin"?write_sty_bin:write_sty_xml)(St,tr)}function write_sst(St,er,tr){return(er.slice(-4)===".bin"?write_sst_bin:write_sst_xml)(St,tr)}function write_cmnt(St,er,tr){return(er.slice(-4)===".bin"?write_comments_bin:write_comments_xml)(St)}function write_xlmeta(St){return(St.slice(-4)===".bin"?write_xlmeta_bin:write_xlmeta_xml)()}var attregexg2=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,attregex2=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function xlml_parsexmltag(St,er){var tr=St.split(/\s+/),rr=[];if(rr[0]=tr[0],tr.length===1)return rr;var nr=St.match(attregexg2),ar,sr,ir,or;if(nr)for(or=0;or!=nr.length;++or)ar=nr[or].match(attregex2),(sr=ar[1].indexOf(":"))===-1?rr[ar[1]]=ar[2].slice(1,ar[2].length-1):(ar[1].slice(0,6)==="xmlns:"?ir="xmlns"+ar[1].slice(6):ir=ar[1].slice(sr+1),rr[ir]=ar[2].slice(1,ar[2].length-1));return rr}function xlml_parsexmltagobj(St){var er=St.split(/\s+/),tr={};if(er.length===1)return tr;var rr=St.match(attregexg2),nr,ar,sr,ir;if(rr)for(ir=0;ir!=rr.length;++ir)nr=rr[ir].match(attregex2),(ar=nr[1].indexOf(":"))===-1?tr[nr[1]]=nr[2].slice(1,nr[2].length-1):(nr[1].slice(0,6)==="xmlns:"?sr="xmlns"+nr[1].slice(6):sr=nr[1].slice(ar+1),tr[sr]=nr[2].slice(1,nr[2].length-1));return tr}var XLMLFormatMap;function xlml_format(St,er){var tr=XLMLFormatMap[St]||unescapexml(St);return tr==="General"?SSF_general(er):SSF_format(tr,er)}function xlml_set_custprop(St,er,tr,rr){var nr=rr;switch((tr[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":nr=parsexmlbool(rr);break;case"i2":case"int":nr=parseInt(rr,10);break;case"r4":case"float":nr=parseFloat(rr);break;case"date":case"dateTime.tz":nr=parseDate(rr);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+tr[0])}St[unescapexml(er)]=nr}function safe_format_xlml(St,er,tr){if(St.t!=="z"){if(!tr||tr.cellText!==!1)try{St.t==="e"?St.w=St.w||BErr[St.v]:er==="General"?St.t==="n"?(St.v|0)===St.v?St.w=St.v.toString(10):St.w=SSF_general_num(St.v):St.w=SSF_general(St.v):St.w=xlml_format(er||"General",St.v)}catch(ar){if(tr.WTF)throw ar}try{var rr=XLMLFormatMap[er]||er||"General";if(tr.cellNF&&(St.z=rr),tr.cellDates&&St.t=="n"&&fmt_is_date(rr)){var nr=SSF_parse_date_code(St.v);nr&&(St.t="d",St.v=new Date(nr.y,nr.m-1,nr.d,nr.H,nr.M,nr.S,nr.u))}}catch(ar){if(tr.WTF)throw ar}}}function process_style_xlml(St,er,tr){if(tr.cellStyles&&er.Interior){var rr=er.Interior;rr.Pattern&&(rr.patternType=XLMLPatternTypeMap[rr.Pattern]||rr.Pattern)}St[er.ID]=er}function parse_xlml_data(St,er,tr,rr,nr,ar,sr,ir,or,lr){var cr="General",ur=rr.StyleID,dr={};lr=lr||{};var fr=[],mr=0;for(ur===void 0&&ir&&(ur=ir.StyleID),ur===void 0&&sr&&(ur=sr.StyleID);ar[ur]!==void 0&&(ar[ur].nf&&(cr=ar[ur].nf),ar[ur].Interior&&fr.push(ar[ur].Interior),!!ar[ur].Parent);)ur=ar[ur].Parent;switch(tr.Type){case"Boolean":rr.t="b",rr.v=parsexmlbool(St);break;case"String":rr.t="s",rr.r=xlml_fixstr(unescapexml(St)),rr.v=St.indexOf("<")>-1?unescapexml(er||St).replace(/<.*?>/g,""):rr.r;break;case"DateTime":St.slice(-1)!="Z"&&(St+="Z"),rr.v=(parseDate(St)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),rr.v!==rr.v?rr.v=unescapexml(St):rr.v<60&&(rr.v=rr.v-1),(!cr||cr=="General")&&(cr="yyyy-mm-dd");case"Number":rr.v===void 0&&(rr.v=+St),rr.t||(rr.t="n");break;case"Error":rr.t="e",rr.v=RBErr[St],lr.cellText!==!1&&(rr.w=St);break;default:St==""&&er==""?rr.t="z":(rr.t="s",rr.v=xlml_fixstr(er||St));break}if(safe_format_xlml(rr,cr,lr),lr.cellFormula!==!1)if(rr.Formula){var xr=unescapexml(rr.Formula);xr.charCodeAt(0)==61&&(xr=xr.slice(1)),rr.f=rc_to_a1(xr,nr),delete rr.Formula,rr.ArrayRange=="RC"?rr.F=rc_to_a1("RC:RC",nr):rr.ArrayRange&&(rr.F=rc_to_a1(rr.ArrayRange,nr),or.push([safe_decode_range(rr.F),rr.F]))}else for(mr=0;mr<or.length;++mr)nr.r>=or[mr][0].s.r&&nr.r<=or[mr][0].e.r&&nr.c>=or[mr][0].s.c&&nr.c<=or[mr][0].e.c&&(rr.F=or[mr][1]);lr.cellStyles&&(fr.forEach(function(pr){!dr.patternType&&pr.patternType&&(dr.patternType=pr.patternType)}),rr.s=dr),rr.StyleID!==void 0&&(rr.ixfe=rr.StyleID)}function xlml_clean_comment(St){St.t=St.v||"",St.t=St.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),St.v=St.w=St.ixfe=void 0}function parse_xlml_xml(St,er){var tr=er||{};make_ssf();var rr=debom(xlml_normalize(St));(tr.type=="binary"||tr.type=="array"||tr.type=="base64")&&(rr=utf8read(rr));var nr=rr.slice(0,1024).toLowerCase(),ar=!1;if(nr=nr.replace(/".*?"/g,""),(nr.indexOf(">")&1023)>Math.min(nr.indexOf(",")&1023,nr.indexOf(";")&1023)){var sr=dup(tr);return sr.type="string",PRN.to_workbook(rr,sr)}if(nr.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(vn){nr.indexOf("<"+vn)>=0&&(ar=!0)}),ar)return html_to_workbook(rr,tr);XLMLFormatMap={"General Number":"General","General Date":table_fmt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":table_fmt[15],"Short Date":table_fmt[14],"Long Time":table_fmt[19],"Medium Time":table_fmt[18],"Short Time":table_fmt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:table_fmt[2],Standard:table_fmt[4],Percent:table_fmt[10],Scientific:table_fmt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var ir,or=[],lr,cr={},ur=[],dr=tr.dense?[]:{},fr="",mr={},xr={},pr=xlml_parsexmltag('<Data ss:Type="String">'),hr=0,gr=0,vr=0,br={s:{r:2e6,c:2e6},e:{r:0,c:0}},yr={},Er={},jr="",_r=0,Cr=[],Or={},Pr={},Lr=0,Gr=[],Kr=[],nn={},Qr=[],zr,Vr=!1,Jr=[],tn=[],Yr={},Sr=0,Rr=0,Tr={Sheets:[],WBProps:{date1904:!1}},Dr={};xlmlregex.lastIndex=0,rr=rr.replace(/<!--([\s\S]*?)-->/mg,"");for(var Mr="";ir=xlmlregex.exec(rr);)switch(ir[3]=(Mr=ir[3]).toLowerCase()){case"data":if(Mr=="data"){if(ir[1]==="/"){if((lr=or.pop())[0]!==ir[3])throw new Error("Bad state: "+lr.join("|"))}else ir[0].charAt(ir[0].length-2)!=="/"&&or.push([ir[3],!0]);break}if(or[or.length-1][1])break;ir[1]==="/"?parse_xlml_data(rr.slice(hr,ir.index),jr,pr,or[or.length-1][0]=="comment"?nn:mr,{c:gr,r:vr},yr,Qr[gr],xr,Jr,tr):(jr="",pr=xlml_parsexmltag(ir[0]),hr=ir.index+ir[0].length);break;case"cell":if(ir[1]==="/")if(Kr.length>0&&(mr.c=Kr),(!tr.sheetRows||tr.sheetRows>vr)&&mr.v!==void 0&&(tr.dense?(dr[vr]||(dr[vr]=[]),dr[vr][gr]=mr):dr[encode_col(gr)+encode_row(vr)]=mr),mr.HRef&&(mr.l={Target:unescapexml(mr.HRef)},mr.HRefScreenTip&&(mr.l.Tooltip=mr.HRefScreenTip),delete mr.HRef,delete mr.HRefScreenTip),(mr.MergeAcross||mr.MergeDown)&&(Sr=gr+(parseInt(mr.MergeAcross,10)|0),Rr=vr+(parseInt(mr.MergeDown,10)|0),Cr.push({s:{c:gr,r:vr},e:{c:Sr,r:Rr}})),!tr.sheetStubs)mr.MergeAcross?gr=Sr+1:++gr;else if(mr.MergeAcross||mr.MergeDown){for(var Br=gr;Br<=Sr;++Br)for(var qr=vr;qr<=Rr;++qr)(Br>gr||qr>vr)&&(tr.dense?(dr[qr]||(dr[qr]=[]),dr[qr][Br]={t:"z"}):dr[encode_col(Br)+encode_row(qr)]={t:"z"});gr=Sr+1}else++gr;else mr=xlml_parsexmltagobj(ir[0]),mr.Index&&(gr=+mr.Index-1),gr<br.s.c&&(br.s.c=gr),gr>br.e.c&&(br.e.c=gr),ir[0].slice(-2)==="/>"&&++gr,Kr=[];break;case"row":ir[1]==="/"||ir[0].slice(-2)==="/>"?(vr<br.s.r&&(br.s.r=vr),vr>br.e.r&&(br.e.r=vr),ir[0].slice(-2)==="/>"&&(xr=xlml_parsexmltag(ir[0]),xr.Index&&(vr=+xr.Index-1)),gr=0,++vr):(xr=xlml_parsexmltag(ir[0]),xr.Index&&(vr=+xr.Index-1),Yr={},(xr.AutoFitHeight=="0"||xr.Height)&&(Yr.hpx=parseInt(xr.Height,10),Yr.hpt=px2pt(Yr.hpx),tn[vr]=Yr),xr.Hidden=="1"&&(Yr.hidden=!0,tn[vr]=Yr));break;case"worksheet":if(ir[1]==="/"){if((lr=or.pop())[0]!==ir[3])throw new Error("Bad state: "+lr.join("|"));ur.push(fr),br.s.r<=br.e.r&&br.s.c<=br.e.c&&(dr["!ref"]=encode_range(br),tr.sheetRows&&tr.sheetRows<=br.e.r&&(dr["!fullref"]=dr["!ref"],br.e.r=tr.sheetRows-1,dr["!ref"]=encode_range(br))),Cr.length&&(dr["!merges"]=Cr),Qr.length>0&&(dr["!cols"]=Qr),tn.length>0&&(dr["!rows"]=tn),cr[fr]=dr}else br={s:{r:2e6,c:2e6},e:{r:0,c:0}},vr=gr=0,or.push([ir[3],!1]),lr=xlml_parsexmltag(ir[0]),fr=unescapexml(lr.Name),dr=tr.dense?[]:{},Cr=[],Jr=[],tn=[],Dr={name:fr,Hidden:0},Tr.Sheets.push(Dr);break;case"table":if(ir[1]==="/"){if((lr=or.pop())[0]!==ir[3])throw new Error("Bad state: "+lr.join("|"))}else{if(ir[0].slice(-2)=="/>")break;or.push([ir[3],!1]),Qr=[],Vr=!1}break;case"style":ir[1]==="/"?process_style_xlml(yr,Er,tr):Er=xlml_parsexmltag(ir[0]);break;case"numberformat":Er.nf=unescapexml(xlml_parsexmltag(ir[0]).Format||"General"),XLMLFormatMap[Er.nf]&&(Er.nf=XLMLFormatMap[Er.nf]);for(var Wr=0;Wr!=392&&table_fmt[Wr]!=Er.nf;++Wr);if(Wr==392){for(Wr=57;Wr!=392;++Wr)if(table_fmt[Wr]==null){SSF_load(Er.nf,Wr);break}}break;case"column":if(or[or.length-1][0]!=="table")break;if(zr=xlml_parsexmltag(ir[0]),zr.Hidden&&(zr.hidden=!0,delete zr.Hidden),zr.Width&&(zr.wpx=parseInt(zr.Width,10)),!Vr&&zr.wpx>10){Vr=!0,MDW=DEF_MDW;for(var sn=0;sn<Qr.length;++sn)Qr[sn]&&process_col(Qr[sn])}Vr&&process_col(zr),Qr[zr.Index-1||Qr.length]=zr;for(var un=0;un<+zr.Span;++un)Qr[Qr.length]=dup(zr);break;case"namedrange":if(ir[1]==="/")break;Tr.Names||(Tr.Names=[]);var Nr=parsexmltag(ir[0]),Ur={Name:Nr.Name,Ref:rc_to_a1(Nr.RefersTo.slice(1),{r:0,c:0})};Tr.Sheets.length>0&&(Ur.Sheet=Tr.Sheets.length-1),Tr.Names.push(Ur);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(ir[0].slice(-2)==="/>")break;ir[1]==="/"?jr+=rr.slice(_r,ir.index):_r=ir.index+ir[0].length;break;case"interior":if(!tr.cellStyles)break;Er.Interior=xlml_parsexmltag(ir[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(ir[0].slice(-2)==="/>")break;ir[1]==="/"?xlml_set_prop(Or,Mr,rr.slice(Lr,ir.index)):Lr=ir.index+ir[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(ir[1]==="/"){if((lr=or.pop())[0]!==ir[3])throw new Error("Bad state: "+lr.join("|"))}else or.push([ir[3],!1]);break;case"comment":if(ir[1]==="/"){if((lr=or.pop())[0]!==ir[3])throw new Error("Bad state: "+lr.join("|"));xlml_clean_comment(nn),Kr.push(nn)}else or.push([ir[3],!1]),lr=xlml_parsexmltag(ir[0]),nn={a:lr.Author};break;case"autofilter":if(ir[1]==="/"){if((lr=or.pop())[0]!==ir[3])throw new Error("Bad state: "+lr.join("|"))}else if(ir[0].charAt(ir[0].length-2)!=="/"){var en=xlml_parsexmltag(ir[0]);dr["!autofilter"]={ref:rc_to_a1(en.Range).replace(/\$/g,"")},or.push([ir[3],!0])}break;case"name":break;case"datavalidation":if(ir[1]==="/"){if((lr=or.pop())[0]!==ir[3])throw new Error("Bad state: "+lr.join("|"))}else ir[0].charAt(ir[0].length-2)!=="/"&&or.push([ir[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(ir[1]==="/"){if((lr=or.pop())[0]!==ir[3])throw new Error("Bad state: "+lr.join("|"))}else ir[0].charAt(ir[0].length-2)!=="/"&&or.push([ir[3],!0]);break;case"null":break;default:if(or.length==0&&ir[3]=="document"||or.length==0&&ir[3]=="uof")return parse_fods(rr,tr);var Zr=!0;switch(or[or.length-1][0]){case"officedocumentsettings":switch(ir[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Zr=!1}break;case"componentoptions":switch(ir[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Zr=!1}break;case"excelworkbook":switch(ir[3]){case"date1904":Tr.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Zr=!1}break;case"workbookoptions":switch(ir[3]){case"owcversion":break;case"height":break;case"width":break;default:Zr=!1}break;case"worksheetoptions":switch(ir[3]){case"visible":if(ir[0].slice(-2)!=="/>")if(ir[1]==="/")switch(rr.slice(Lr,ir.index)){case"SheetHidden":Dr.Hidden=1;break;case"SheetVeryHidden":Dr.Hidden=2;break}else Lr=ir.index+ir[0].length;break;case"header":dr["!margins"]||default_margins(dr["!margins"]={},"xlml"),isNaN(+parsexmltag(ir[0]).Margin)||(dr["!margins"].header=+parsexmltag(ir[0]).Margin);break;case"footer":dr["!margins"]||default_margins(dr["!margins"]={},"xlml"),isNaN(+parsexmltag(ir[0]).Margin)||(dr["!margins"].footer=+parsexmltag(ir[0]).Margin);break;case"pagemargins":var Ir=parsexmltag(ir[0]);dr["!margins"]||default_margins(dr["!margins"]={},"xlml"),isNaN(+Ir.Top)||(dr["!margins"].top=+Ir.Top),isNaN(+Ir.Left)||(dr["!margins"].left=+Ir.Left),isNaN(+Ir.Right)||(dr["!margins"].right=+Ir.Right),isNaN(+Ir.Bottom)||(dr["!margins"].bottom=+Ir.Bottom);break;case"displayrighttoleft":Tr.Views||(Tr.Views=[]),Tr.Views[0]||(Tr.Views[0]={}),Tr.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":dr["!outline"]||(dr["!outline"]={}),dr["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":dr["!outline"]||(dr["!outline"]={}),dr["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Zr=!1}break;case"pivottable":case"pivotcache":switch(ir[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Zr=!1}break;case"pagebreaks":switch(ir[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Zr=!1}break;case"autofilter":switch(ir[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Zr=!1}break;case"querytable":switch(ir[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Zr=!1}break;case"datavalidation":switch(ir[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Zr=!1}break;case"sorting":case"conditionalformatting":switch(ir[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Zr=!1}break;case"mapinfo":case"schema":case"data":switch(ir[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Zr=!1}break;case"smarttags":break;default:Zr=!1;break}if(Zr||ir[3].match(/!\[CDATA/))break;if(!or[or.length-1][1])throw"Unrecognized tag: "+ir[3]+"|"+or.join("|");if(or[or.length-1][0]==="customdocumentproperties"){if(ir[0].slice(-2)==="/>")break;ir[1]==="/"?xlml_set_custprop(Pr,Mr,Gr,rr.slice(Lr,ir.index)):(Gr=ir,Lr=ir.index+ir[0].length);break}if(tr.WTF)throw"Unrecognized tag: "+ir[3]+"|"+or.join("|")}var on={};return!tr.bookSheets&&!tr.bookProps&&(on.Sheets=cr),on.SheetNames=ur,on.Workbook=Tr,on.SSF=dup(table_fmt),on.Props=Or,on.Custprops=Pr,on}function parse_xlml(St,er){switch(fix_read_opts(er=er||{}),er.type||"base64"){case"base64":return parse_xlml_xml(Base64_decode(St),er);case"binary":case"buffer":case"file":return parse_xlml_xml(St,er);case"array":return parse_xlml_xml(a2s(St),er)}}function write_props_xlml(St,er){var tr=[];return St.Props&&tr.push(xlml_write_docprops(St.Props,er)),St.Custprops&&tr.push(xlml_write_custprops(St.Props,St.Custprops)),tr.join("")}function write_wb_xlml(){return""}function write_sty_xlml(St,er){var tr=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return er.cellXfs.forEach(function(rr,nr){var ar=[];ar.push(writextag("NumberFormat",null,{"ss:Format":escapexml(table_fmt[rr.numFmtId])}));var sr={"ss:ID":"s"+(21+nr)};tr.push(writextag("Style",ar.join(""),sr))}),writextag("Styles",tr.join(""))}function write_name_xlml(St){return writextag("NamedRange",null,{"ss:Name":St.Name,"ss:RefersTo":"="+a1_to_rc(St.Ref,{r:0,c:0})})}function write_names_xlml(St){if(!((St||{}).Workbook||{}).Names)return"";for(var er=St.Workbook.Names,tr=[],rr=0;rr<er.length;++rr){var nr=er[rr];nr.Sheet==null&&(nr.Name.match(/^_xlfn\./)||tr.push(write_name_xlml(nr)))}return writextag("Names",tr.join(""))}function write_ws_xlml_names(St,er,tr,rr){if(!St||!((rr||{}).Workbook||{}).Names)return"";for(var nr=rr.Workbook.Names,ar=[],sr=0;sr<nr.length;++sr){var ir=nr[sr];ir.Sheet==tr&&(ir.Name.match(/^_xlfn\./)||ar.push(write_name_xlml(ir)))}return ar.join("")}function write_ws_xlml_wsopts(St,er,tr,rr){if(!St)return"";var nr=[];if(St["!margins"]&&(nr.push("<PageSetup>"),St["!margins"].header&&nr.push(writextag("Header",null,{"x:Margin":St["!margins"].header})),St["!margins"].footer&&nr.push(writextag("Footer",null,{"x:Margin":St["!margins"].footer})),nr.push(writextag("PageMargins",null,{"x:Bottom":St["!margins"].bottom||"0.75","x:Left":St["!margins"].left||"0.7","x:Right":St["!margins"].right||"0.7","x:Top":St["!margins"].top||"0.75"})),nr.push("</PageSetup>")),rr&&rr.Workbook&&rr.Workbook.Sheets&&rr.Workbook.Sheets[tr])if(rr.Workbook.Sheets[tr].Hidden)nr.push(writextag("Visible",rr.Workbook.Sheets[tr].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var ar=0;ar<tr&&!(rr.Workbook.Sheets[ar]&&!rr.Workbook.Sheets[ar].Hidden);++ar);ar==tr&&nr.push("<Selected/>")}return((((rr||{}).Workbook||{}).Views||[])[0]||{}).RTL&&nr.push("<DisplayRightToLeft/>"),St["!protect"]&&(nr.push(writetag("ProtectContents","True")),St["!protect"].objects&&nr.push(writetag("ProtectObjects","True")),St["!protect"].scenarios&&nr.push(writetag("ProtectScenarios","True")),St["!protect"].selectLockedCells!=null&&!St["!protect"].selectLockedCells?nr.push(writetag("EnableSelection","NoSelection")):St["!protect"].selectUnlockedCells!=null&&!St["!protect"].selectUnlockedCells&&nr.push(writetag("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(sr){St["!protect"][sr[0]]&&nr.push("<"+sr[1]+"/>")})),nr.length==0?"":writextag("WorksheetOptions",nr.join(""),{xmlns:XLMLNS.x})}function write_ws_xlml_comment(St){return St.map(function(er){var tr=xlml_unfixstr(er.t||""),rr=writextag("ss:Data",tr,{xmlns:"http://www.w3.org/TR/REC-html40"});return writextag("Comment",rr,{"ss:Author":er.a})}).join("")}function write_ws_xlml_cell(St,er,tr,rr,nr,ar,sr){if(!St||St.v==null&&St.f==null)return"";var ir={};if(St.f&&(ir["ss:Formula"]="="+escapexml(a1_to_rc(St.f,sr))),St.F&&St.F.slice(0,er.length)==er){var or=decode_cell(St.F.slice(er.length+1));ir["ss:ArrayRange"]="RC:R"+(or.r==sr.r?"":"["+(or.r-sr.r)+"]")+"C"+(or.c==sr.c?"":"["+(or.c-sr.c)+"]")}if(St.l&&St.l.Target&&(ir["ss:HRef"]=escapexml(St.l.Target),St.l.Tooltip&&(ir["x:HRefScreenTip"]=escapexml(St.l.Tooltip))),tr["!merges"])for(var lr=tr["!merges"],cr=0;cr!=lr.length;++cr)lr[cr].s.c!=sr.c||lr[cr].s.r!=sr.r||(lr[cr].e.c>lr[cr].s.c&&(ir["ss:MergeAcross"]=lr[cr].e.c-lr[cr].s.c),lr[cr].e.r>lr[cr].s.r&&(ir["ss:MergeDown"]=lr[cr].e.r-lr[cr].s.r));var ur="",dr="";switch(St.t){case"z":if(!rr.sheetStubs)return"";break;case"n":ur="Number",dr=String(St.v);break;case"b":ur="Boolean",dr=St.v?"1":"0";break;case"e":ur="Error",dr=BErr[St.v];break;case"d":ur="DateTime",dr=new Date(St.v).toISOString(),St.z==null&&(St.z=St.z||table_fmt[14]);break;case"s":ur="String",dr=escapexlml(St.v||"");break}var fr=get_cell_style(rr.cellXfs,St,rr);ir["ss:StyleID"]="s"+(21+fr),ir["ss:Index"]=sr.c+1;var mr=St.v!=null?dr:"",xr=St.t=="z"?"":'<Data ss:Type="'+ur+'">'+mr+"</Data>";return(St.c||[]).length>0&&(xr+=write_ws_xlml_comment(St.c)),writextag("Cell",xr,ir)}function write_ws_xlml_row(St,er){var tr='<Row ss:Index="'+(St+1)+'"';return er&&(er.hpt&&!er.hpx&&(er.hpx=pt2px(er.hpt)),er.hpx&&(tr+=' ss:AutoFitHeight="0" ss:Height="'+er.hpx+'"'),er.hidden&&(tr+=' ss:Hidden="1"')),tr+">"}function write_ws_xlml_table(St,er,tr,rr){if(!St["!ref"])return"";var nr=safe_decode_range(St["!ref"]),ar=St["!merges"]||[],sr=0,ir=[];St["!cols"]&&St["!cols"].forEach(function(pr,hr){process_col(pr);var gr=!!pr.width,vr=col_obj_w(hr,pr),br={"ss:Index":hr+1};gr&&(br["ss:Width"]=width2px(vr.width)),pr.hidden&&(br["ss:Hidden"]="1"),ir.push(writextag("Column",null,br))});for(var or=Array.isArray(St),lr=nr.s.r;lr<=nr.e.r;++lr){for(var cr=[write_ws_xlml_row(lr,(St["!rows"]||[])[lr])],ur=nr.s.c;ur<=nr.e.c;++ur){var dr=!1;for(sr=0;sr!=ar.length;++sr)if(!(ar[sr].s.c>ur)&&!(ar[sr].s.r>lr)&&!(ar[sr].e.c<ur)&&!(ar[sr].e.r<lr)){(ar[sr].s.c!=ur||ar[sr].s.r!=lr)&&(dr=!0);break}if(!dr){var fr={r:lr,c:ur},mr=encode_cell(fr),xr=or?(St[lr]||[])[ur]:St[mr];cr.push(write_ws_xlml_cell(xr,mr,St,er,tr,rr,fr))}}cr.push("</Row>"),cr.length>2&&ir.push(cr.join(""))}return ir.join("")}function write_ws_xlml(St,er,tr){var rr=[],nr=tr.SheetNames[St],ar=tr.Sheets[nr],sr=ar?write_ws_xlml_names(ar,er,St,tr):"";return sr.length>0&&rr.push("<Names>"+sr+"</Names>"),sr=ar?write_ws_xlml_table(ar,er,St,tr):"",sr.length>0&&rr.push("<Table>"+sr+"</Table>"),rr.push(write_ws_xlml_wsopts(ar,er,St,tr)),rr.join("")}function write_xlml(St,er){er||(er={}),St.SSF||(St.SSF=dup(table_fmt)),St.SSF&&(make_ssf(),SSF_load_table(St.SSF),er.revssf=evert_num(St.SSF),er.revssf[St.SSF[65535]]=0,er.ssf=St.SSF,er.cellXfs=[],get_cell_style(er.cellXfs,{},{revssf:{General:0}}));var tr=[];tr.push(write_props_xlml(St,er)),tr.push(write_wb_xlml()),tr.push(""),tr.push("");for(var rr=0;rr<St.SheetNames.length;++rr)tr.push(writextag("Worksheet",write_ws_xlml(rr,er,St),{"ss:Name":escapexml(St.SheetNames[rr])}));return tr[2]=write_sty_xlml(St,er),tr[3]=write_names_xlml(St),XML_HEADER+writextag("Workbook",tr.join(""),{xmlns:XLMLNS.ss,"xmlns:o":XLMLNS.o,"xmlns:x":XLMLNS.x,"xmlns:ss":XLMLNS.ss,"xmlns:dt":XLMLNS.dt,"xmlns:html":XLMLNS.html})}function parse_compobj(St){var er={},tr=St.content;if(tr.l=28,er.AnsiUserType=tr.read_shift(0,"lpstr-ansi"),er.AnsiClipboardFormat=parse_ClipboardFormatOrAnsiString(tr),tr.length-tr.l<=4)return er;var rr=tr.read_shift(4);if(rr==0||rr>40||(tr.l-=4,er.Reserved1=tr.read_shift(0,"lpstr-ansi"),tr.length-tr.l<=4)||(rr=tr.read_shift(4),rr!==1907505652)||(er.UnicodeClipboardFormat=parse_ClipboardFormatOrUnicodeString(tr),rr=tr.read_shift(4),rr==0||rr>40))return er;tr.l-=4,er.Reserved2=tr.read_shift(0,"lpwstr")}var CONTINUE_RT=[60,1084,2066,2165,2175];function slurp(St,er,tr,rr,nr){var ar=rr,sr=[],ir=tr.slice(tr.l,tr.l+ar);if(nr&&nr.enc&&nr.enc.insitu&&ir.length>0)switch(St){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:nr.enc.insitu(ir)}sr.push(ir),tr.l+=ar;for(var or=__readUInt16LE(tr,tr.l),lr=XLSRecordEnum[or],cr=0;lr!=null&&CONTINUE_RT.indexOf(or)>-1;)ar=__readUInt16LE(tr,tr.l+2),cr=tr.l+4,or==2066?cr+=4:(or==2165||or==2175)&&(cr+=12),ir=tr.slice(cr,tr.l+4+ar),sr.push(ir),tr.l+=4+ar,lr=XLSRecordEnum[or=__readUInt16LE(tr,tr.l)];var ur=bconcat(sr);prep_blob(ur,0);var dr=0;ur.lens=[];for(var fr=0;fr<sr.length;++fr)ur.lens.push(dr),dr+=sr[fr].length;if(ur.length<rr)throw"XLS Record 0x"+St.toString(16)+" Truncated: "+ur.length+" < "+rr;return er.f(ur,ur.length,nr)}function safe_format_xf(St,er,tr){if(St.t!=="z"&&St.XF){var rr=0;try{rr=St.z||St.XF.numFmtId||0,er.cellNF&&(St.z=table_fmt[rr])}catch(ar){if(er.WTF)throw ar}if(!er||er.cellText!==!1)try{St.t==="e"?St.w=St.w||BErr[St.v]:rr===0||rr=="General"?St.t==="n"?(St.v|0)===St.v?St.w=St.v.toString(10):St.w=SSF_general_num(St.v):St.w=SSF_general(St.v):St.w=SSF_format(rr,St.v,{date1904:!!tr,dateNF:er&&er.dateNF})}catch(ar){if(er.WTF)throw ar}if(er.cellDates&&rr&&St.t=="n"&&fmt_is_date(table_fmt[rr]||String(rr))){var nr=SSF_parse_date_code(St.v);nr&&(St.t="d",St.v=new Date(nr.y,nr.m-1,nr.d,nr.H,nr.M,nr.S,nr.u))}}}function make_cell(St,er,tr){return{v:St,ixfe:er,t:tr}}function parse_workbook(St,er){var tr={opts:{}},rr={},nr=er.dense?[]:{},ar={},sr={},ir=null,or=[],lr="",cr={},ur,dr="",fr,mr,xr,pr,hr={},gr=[],vr,br,yr=[],Er=[],jr={Sheets:[],WBProps:{date1904:!1},Views:[{}]},_r={},Cr=function(ps){return ps<8?XLSIcv[ps]:ps<64&&Er[ps-8]||XLSIcv[ps]},Or=function(ps,os,zs){var Bn=os.XF.data;if(!(!Bn||!Bn.patternType||!zs||!zs.cellStyles)){os.s={},os.s.patternType=Bn.patternType;var _n;(_n=rgb2Hex(Cr(Bn.icvFore)))&&(os.s.fgColor={rgb:_n}),(_n=rgb2Hex(Cr(Bn.icvBack)))&&(os.s.bgColor={rgb:_n})}},Pr=function(ps,os,zs){if(!(Yr>1)&&!(zs.sheetRows&&ps.r>=zs.sheetRows)){if(zs.cellStyles&&os.XF&&os.XF.data&&Or(ps,os,zs),delete os.ixfe,delete os.XF,ur=ps,dr=encode_cell(ps),(!sr||!sr.s||!sr.e)&&(sr={s:{r:0,c:0},e:{r:0,c:0}}),ps.r<sr.s.r&&(sr.s.r=ps.r),ps.c<sr.s.c&&(sr.s.c=ps.c),ps.r+1>sr.e.r&&(sr.e.r=ps.r+1),ps.c+1>sr.e.c&&(sr.e.c=ps.c+1),zs.cellFormula&&os.f){for(var Bn=0;Bn<gr.length;++Bn)if(!(gr[Bn][0].s.c>ps.c||gr[Bn][0].s.r>ps.r)&&!(gr[Bn][0].e.c<ps.c||gr[Bn][0].e.r<ps.r)){os.F=encode_range(gr[Bn][0]),(gr[Bn][0].s.c!=ps.c||gr[Bn][0].s.r!=ps.r)&&delete os.f,os.f&&(os.f=""+stringify_formula(gr[Bn][1],sr,ps,Jr,Lr));break}}zs.dense?(nr[ps.r]||(nr[ps.r]=[]),nr[ps.r][ps.c]=os):nr[dr]=os}},Lr={enc:!1,sbcch:0,snames:[],sharedf:hr,arrayf:gr,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!er&&!!er.cellStyles,WTF:!!er&&!!er.wtf};er.password&&(Lr.password=er.password);var Gr,Kr=[],nn=[],Qr=[],zr=[],Vr=!1,Jr=[];Jr.SheetNames=Lr.snames,Jr.sharedf=Lr.sharedf,Jr.arrayf=Lr.arrayf,Jr.names=[],Jr.XTI=[];var tn=0,Yr=0,Sr=0,Rr=[],Tr=[],Dr;Lr.codepage=1200,set_cp(1200);for(var Mr=!1;St.l<St.length-1;){var Br=St.l,qr=St.read_shift(2);if(qr===0&&tn===10)break;var Wr=St.l===St.length?0:St.read_shift(2),sn=XLSRecordEnum[qr];if(sn&&sn.f){if(er.bookSheets&&tn===133&&qr!==133)break;if(tn=qr,sn.r===2||sn.r==12){var un=St.read_shift(2);if(Wr-=2,!Lr.enc&&un!==qr&&((un&255)<<8|un>>8)!==qr)throw new Error("rt mismatch: "+un+"!="+qr);sn.r==12&&(St.l+=10,Wr-=10)}var Nr={};if(qr===10?Nr=sn.f(St,Wr,Lr):Nr=slurp(qr,sn,St,Wr,Lr),Yr==0&&[9,521,1033,2057].indexOf(tn)===-1)continue;switch(qr){case 34:tr.opts.Date1904=jr.WBProps.date1904=Nr;break;case 134:tr.opts.WriteProtect=!0;break;case 47:if(Lr.enc||(St.l=0),Lr.enc=Nr,!er.password)throw new Error("File is password-protected");if(Nr.valid==null)throw new Error("Encryption scheme unsupported");if(!Nr.valid)throw new Error("Password is incorrect");break;case 92:Lr.lastuser=Nr;break;case 66:var Ur=Number(Nr);switch(Ur){case 21010:Ur=1200;break;case 32768:Ur=1e4;break;case 32769:Ur=1252;break}set_cp(Lr.codepage=Ur),Mr=!0;break;case 317:Lr.rrtabid=Nr;break;case 25:Lr.winlocked=Nr;break;case 439:tr.opts.RefreshAll=Nr;break;case 12:tr.opts.CalcCount=Nr;break;case 16:tr.opts.CalcDelta=Nr;break;case 17:tr.opts.CalcIter=Nr;break;case 13:tr.opts.CalcMode=Nr;break;case 14:tr.opts.CalcPrecision=Nr;break;case 95:tr.opts.CalcSaveRecalc=Nr;break;case 15:Lr.CalcRefMode=Nr;break;case 2211:tr.opts.FullCalc=Nr;break;case 129:Nr.fDialog&&(nr["!type"]="dialog"),Nr.fBelow||((nr["!outline"]||(nr["!outline"]={})).above=!0),Nr.fRight||((nr["!outline"]||(nr["!outline"]={})).left=!0);break;case 224:yr.push(Nr);break;case 430:Jr.push([Nr]),Jr[Jr.length-1].XTI=[];break;case 35:case 547:Jr[Jr.length-1].push(Nr);break;case 24:case 536:Dr={Name:Nr.Name,Ref:stringify_formula(Nr.rgce,sr,null,Jr,Lr)},Nr.itab>0&&(Dr.Sheet=Nr.itab-1),Jr.names.push(Dr),Jr[0]||(Jr[0]=[],Jr[0].XTI=[]),Jr[Jr.length-1].push(Nr),Nr.Name=="_xlnm._FilterDatabase"&&Nr.itab>0&&Nr.rgce&&Nr.rgce[0]&&Nr.rgce[0][0]&&Nr.rgce[0][0][0]=="PtgArea3d"&&(Tr[Nr.itab-1]={ref:encode_range(Nr.rgce[0][0][1][2])});break;case 22:Lr.ExternCount=Nr;break;case 23:Jr.length==0&&(Jr[0]=[],Jr[0].XTI=[]),Jr[Jr.length-1].XTI=Jr[Jr.length-1].XTI.concat(Nr),Jr.XTI=Jr.XTI.concat(Nr);break;case 2196:if(Lr.biff<8)break;Dr!=null&&(Dr.Comment=Nr[1]);break;case 18:nr["!protect"]=Nr;break;case 19:Nr!==0&&Lr.WTF&&console.error("Password verifier: "+Nr);break;case 133:ar[Nr.pos]=Nr,Lr.snames.push(Nr.name);break;case 10:{if(--Yr)break;if(sr.e){if(sr.e.r>0&&sr.e.c>0){if(sr.e.r--,sr.e.c--,nr["!ref"]=encode_range(sr),er.sheetRows&&er.sheetRows<=sr.e.r){var en=sr.e.r;sr.e.r=er.sheetRows-1,nr["!fullref"]=nr["!ref"],nr["!ref"]=encode_range(sr),sr.e.r=en}sr.e.r++,sr.e.c++}Kr.length>0&&(nr["!merges"]=Kr),nn.length>0&&(nr["!objects"]=nn),Qr.length>0&&(nr["!cols"]=Qr),zr.length>0&&(nr["!rows"]=zr),jr.Sheets.push(_r)}lr===""?cr=nr:rr[lr]=nr,nr=er.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(Lr.biff===8&&(Lr.biff={9:2,521:3,1033:4}[qr]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[Nr.BIFFVer]||8),Lr.biffguess=Nr.BIFFVer==0,Nr.BIFFVer==0&&Nr.dt==4096&&(Lr.biff=5,Mr=!0,set_cp(Lr.codepage=28591)),Lr.biff==8&&Nr.BIFFVer==0&&Nr.dt==16&&(Lr.biff=2),Yr++)break;if(nr=er.dense?[]:{},Lr.biff<8&&!Mr&&(Mr=!0,set_cp(Lr.codepage=er.codepage||1252)),Lr.biff<5||Nr.BIFFVer==0&&Nr.dt==4096){lr===""&&(lr="Sheet1"),sr={s:{r:0,c:0},e:{r:0,c:0}};var Zr={pos:St.l-Wr,name:lr};ar[Zr.pos]=Zr,Lr.snames.push(lr)}else lr=(ar[Br]||{name:""}).name;Nr.dt==32&&(nr["!type"]="chart"),Nr.dt==64&&(nr["!type"]="macro"),Kr=[],nn=[],Lr.arrayf=gr=[],Qr=[],zr=[],Vr=!1,_r={Hidden:(ar[Br]||{hs:0}).hs,name:lr}}break;case 515:case 3:case 2:nr["!type"]=="chart"&&(er.dense?(nr[Nr.r]||[])[Nr.c]:nr[encode_cell({c:Nr.c,r:Nr.r})])&&++Nr.c,vr={ixfe:Nr.ixfe,XF:yr[Nr.ixfe]||{},v:Nr.val,t:"n"},Sr>0&&(vr.z=Rr[vr.ixfe>>8&63]),safe_format_xf(vr,er,tr.opts.Date1904),Pr({c:Nr.c,r:Nr.r},vr,er);break;case 5:case 517:vr={ixfe:Nr.ixfe,XF:yr[Nr.ixfe],v:Nr.val,t:Nr.t},Sr>0&&(vr.z=Rr[vr.ixfe>>8&63]),safe_format_xf(vr,er,tr.opts.Date1904),Pr({c:Nr.c,r:Nr.r},vr,er);break;case 638:vr={ixfe:Nr.ixfe,XF:yr[Nr.ixfe],v:Nr.rknum,t:"n"},Sr>0&&(vr.z=Rr[vr.ixfe>>8&63]),safe_format_xf(vr,er,tr.opts.Date1904),Pr({c:Nr.c,r:Nr.r},vr,er);break;case 189:for(var Ir=Nr.c;Ir<=Nr.C;++Ir){var on=Nr.rkrec[Ir-Nr.c][0];vr={ixfe:on,XF:yr[on],v:Nr.rkrec[Ir-Nr.c][1],t:"n"},Sr>0&&(vr.z=Rr[vr.ixfe>>8&63]),safe_format_xf(vr,er,tr.opts.Date1904),Pr({c:Ir,r:Nr.r},vr,er)}break;case 6:case 518:case 1030:{if(Nr.val=="String"){ir=Nr;break}if(vr=make_cell(Nr.val,Nr.cell.ixfe,Nr.tt),vr.XF=yr[vr.ixfe],er.cellFormula){var vn=Nr.formula;if(vn&&vn[0]&&vn[0][0]&&vn[0][0][0]=="PtgExp"){var yn=vn[0][0][1][0],Dn=vn[0][0][1][1],pn=encode_cell({r:yn,c:Dn});hr[pn]?vr.f=""+stringify_formula(Nr.formula,sr,Nr.cell,Jr,Lr):vr.F=((er.dense?(nr[yn]||[])[Dn]:nr[pn])||{}).F}else vr.f=""+stringify_formula(Nr.formula,sr,Nr.cell,Jr,Lr)}Sr>0&&(vr.z=Rr[vr.ixfe>>8&63]),safe_format_xf(vr,er,tr.opts.Date1904),Pr(Nr.cell,vr,er),ir=Nr}break;case 7:case 519:if(ir)ir.val=Nr,vr=make_cell(Nr,ir.cell.ixfe,"s"),vr.XF=yr[vr.ixfe],er.cellFormula&&(vr.f=""+stringify_formula(ir.formula,sr,ir.cell,Jr,Lr)),Sr>0&&(vr.z=Rr[vr.ixfe>>8&63]),safe_format_xf(vr,er,tr.opts.Date1904),Pr(ir.cell,vr,er),ir=null;else throw new Error("String record expects Formula");break;case 33:case 545:{gr.push(Nr);var Sn=encode_cell(Nr[0].s);if(fr=er.dense?(nr[Nr[0].s.r]||[])[Nr[0].s.c]:nr[Sn],er.cellFormula&&fr){if(!ir||!Sn||!fr)break;fr.f=""+stringify_formula(Nr[1],sr,Nr[0],Jr,Lr),fr.F=encode_range(Nr[0])}}break;case 1212:{if(!er.cellFormula)break;if(dr){if(!ir)break;hr[encode_cell(ir.cell)]=Nr[0],fr=er.dense?(nr[ir.cell.r]||[])[ir.cell.c]:nr[encode_cell(ir.cell)],(fr||{}).f=""+stringify_formula(Nr[0],sr,ur,Jr,Lr)}}break;case 253:vr=make_cell(or[Nr.isst].t,Nr.ixfe,"s"),or[Nr.isst].h&&(vr.h=or[Nr.isst].h),vr.XF=yr[vr.ixfe],Sr>0&&(vr.z=Rr[vr.ixfe>>8&63]),safe_format_xf(vr,er,tr.opts.Date1904),Pr({c:Nr.c,r:Nr.r},vr,er);break;case 513:er.sheetStubs&&(vr={ixfe:Nr.ixfe,XF:yr[Nr.ixfe],t:"z"},Sr>0&&(vr.z=Rr[vr.ixfe>>8&63]),safe_format_xf(vr,er,tr.opts.Date1904),Pr({c:Nr.c,r:Nr.r},vr,er));break;case 190:if(er.sheetStubs)for(var wn=Nr.c;wn<=Nr.C;++wn){var Vn=Nr.ixfe[wn-Nr.c];vr={ixfe:Vn,XF:yr[Vn],t:"z"},Sr>0&&(vr.z=Rr[vr.ixfe>>8&63]),safe_format_xf(vr,er,tr.opts.Date1904),Pr({c:wn,r:Nr.r},vr,er)}break;case 214:case 516:case 4:vr=make_cell(Nr.val,Nr.ixfe,"s"),vr.XF=yr[vr.ixfe],Sr>0&&(vr.z=Rr[vr.ixfe>>8&63]),safe_format_xf(vr,er,tr.opts.Date1904),Pr({c:Nr.c,r:Nr.r},vr,er);break;case 0:case 512:Yr===1&&(sr=Nr);break;case 252:or=Nr;break;case 1054:if(Lr.biff==4){Rr[Sr++]=Nr[1];for(var Yn=0;Yn<Sr+163&&table_fmt[Yn]!=Nr[1];++Yn);Yn>=163&&SSF_load(Nr[1],Sr+163)}else SSF_load(Nr[1],Nr[0]);break;case 30:{Rr[Sr++]=Nr;for(var ns=0;ns<Sr+163&&table_fmt[ns]!=Nr;++ns);ns>=163&&SSF_load(Nr,Sr+163)}break;case 229:Kr=Kr.concat(Nr);break;case 93:nn[Nr.cmo[0]]=Lr.lastobj=Nr;break;case 438:Lr.lastobj.TxO=Nr;break;case 127:Lr.lastobj.ImData=Nr;break;case 440:for(pr=Nr[0].s.r;pr<=Nr[0].e.r;++pr)for(xr=Nr[0].s.c;xr<=Nr[0].e.c;++xr)fr=er.dense?(nr[pr]||[])[xr]:nr[encode_cell({c:xr,r:pr})],fr&&(fr.l=Nr[1]);break;case 2048:for(pr=Nr[0].s.r;pr<=Nr[0].e.r;++pr)for(xr=Nr[0].s.c;xr<=Nr[0].e.c;++xr)fr=er.dense?(nr[pr]||[])[xr]:nr[encode_cell({c:xr,r:pr})],fr&&fr.l&&(fr.l.Tooltip=Nr[1]);break;case 28:{if(Lr.biff<=5&&Lr.biff>=2)break;fr=er.dense?(nr[Nr[0].r]||[])[Nr[0].c]:nr[encode_cell(Nr[0])];var ls=nn[Nr[2]];fr||(er.dense?(nr[Nr[0].r]||(nr[Nr[0].r]=[]),fr=nr[Nr[0].r][Nr[0].c]={t:"z"}):fr=nr[encode_cell(Nr[0])]={t:"z"},sr.e.r=Math.max(sr.e.r,Nr[0].r),sr.s.r=Math.min(sr.s.r,Nr[0].r),sr.e.c=Math.max(sr.e.c,Nr[0].c),sr.s.c=Math.min(sr.s.c,Nr[0].c)),fr.c||(fr.c=[]),mr={a:Nr[1],t:ls.TxO.t},fr.c.push(mr)}break;case 2173:update_xfext(yr[Nr.ixfe],Nr.ext);break;case 125:{if(!Lr.cellStyles)break;for(;Nr.e>=Nr.s;)Qr[Nr.e--]={width:Nr.w/256,level:Nr.level||0,hidden:!!(Nr.flags&1)},Vr||(Vr=!0,find_mdw_colw(Nr.w/256)),process_col(Qr[Nr.e+1])}break;case 520:{var vs={};Nr.level!=null&&(zr[Nr.r]=vs,vs.level=Nr.level),Nr.hidden&&(zr[Nr.r]=vs,vs.hidden=!0),Nr.hpt&&(zr[Nr.r]=vs,vs.hpt=Nr.hpt,vs.hpx=pt2px(Nr.hpt))}break;case 38:case 39:case 40:case 41:nr["!margins"]||default_margins(nr["!margins"]={}),nr["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[qr]]=Nr;break;case 161:nr["!margins"]||default_margins(nr["!margins"]={}),nr["!margins"].header=Nr.header,nr["!margins"].footer=Nr.footer;break;case 574:Nr.RTL&&(jr.Views[0].RTL=!0);break;case 146:Er=Nr;break;case 2198:Gr=Nr;break;case 140:br=Nr;break;case 442:lr?_r.CodeName=Nr||_r.name:jr.WBProps.CodeName=Nr||"ThisWorkbook";break}}else sn||console.error("Missing Info for XLS Record 0x"+qr.toString(16)),St.l+=Wr}return tr.SheetNames=keys(ar).sort(function(Ss,ps){return Number(Ss)-Number(ps)}).map(function(Ss){return ar[Ss].name}),er.bookSheets||(tr.Sheets=rr),!tr.SheetNames.length&&cr["!ref"]?(tr.SheetNames.push("Sheet1"),tr.Sheets&&(tr.Sheets.Sheet1=cr)):tr.Preamble=cr,tr.Sheets&&Tr.forEach(function(Ss,ps){tr.Sheets[tr.SheetNames[ps]]["!autofilter"]=Ss}),tr.Strings=or,tr.SSF=dup(table_fmt),Lr.enc&&(tr.Encryption=Lr.enc),Gr&&(tr.Themes=Gr),tr.Metadata={},br!==void 0&&(tr.Metadata.Country=br),Jr.names.length>0&&(jr.Names=Jr.names),tr.Workbook=jr,tr}var PSCLSID={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function parse_xls_props(St,er,tr){var rr=CFB.find(St,"/!DocumentSummaryInformation");if(rr&&rr.size>0)try{var nr=parse_PropertySetStream(rr,DocSummaryPIDDSI,PSCLSID.DSI);for(var ar in nr)er[ar]=nr[ar]}catch(lr){if(tr.WTF)throw lr}var sr=CFB.find(St,"/!SummaryInformation");if(sr&&sr.size>0)try{var ir=parse_PropertySetStream(sr,SummaryPIDSI,PSCLSID.SI);for(var or in ir)er[or]==null&&(er[or]=ir[or])}catch(lr){if(tr.WTF)throw lr}er.HeadingPairs&&er.TitlesOfParts&&(load_props_pairs(er.HeadingPairs,er.TitlesOfParts,er,tr),delete er.HeadingPairs,delete er.TitlesOfParts)}function write_xls_props(St,er){var tr=[],rr=[],nr=[],ar=0,sr,ir=evert_key(DocSummaryPIDDSI,"n"),or=evert_key(SummaryPIDSI,"n");if(St.Props)for(sr=keys(St.Props),ar=0;ar<sr.length;++ar)(Object.prototype.hasOwnProperty.call(ir,sr[ar])?tr:Object.prototype.hasOwnProperty.call(or,sr[ar])?rr:nr).push([sr[ar],St.Props[sr[ar]]]);if(St.Custprops)for(sr=keys(St.Custprops),ar=0;ar<sr.length;++ar)Object.prototype.hasOwnProperty.call(St.Props||{},sr[ar])||(Object.prototype.hasOwnProperty.call(ir,sr[ar])?tr:Object.prototype.hasOwnProperty.call(or,sr[ar])?rr:nr).push([sr[ar],St.Custprops[sr[ar]]]);var lr=[];for(ar=0;ar<nr.length;++ar)XLSPSSkip.indexOf(nr[ar][0])>-1||PseudoPropsPairs.indexOf(nr[ar][0])>-1||nr[ar][1]!=null&&lr.push(nr[ar]);rr.length&&CFB.utils.cfb_add(er,"/SummaryInformation",write_PropertySetStream(rr,PSCLSID.SI,or,SummaryPIDSI)),(tr.length||lr.length)&&CFB.utils.cfb_add(er,"/DocumentSummaryInformation",write_PropertySetStream(tr,PSCLSID.DSI,ir,DocSummaryPIDDSI,lr.length?lr:null,PSCLSID.UDI))}function parse_xlscfb(St,er){er||(er={}),fix_read_opts(er),reset_cp(),er.codepage&&set_ansi(er.codepage);var tr,rr;if(St.FullPaths){if(CFB.find(St,"/encryption"))throw new Error("File is password-protected");tr=CFB.find(St,"!CompObj"),rr=CFB.find(St,"/Workbook")||CFB.find(St,"/Book")}else{switch(er.type){case"base64":St=s2a(Base64_decode(St));break;case"binary":St=s2a(St);break;case"buffer":break;case"array":Array.isArray(St)||(St=Array.prototype.slice.call(St));break}prep_blob(St,0),rr={content:St}}var nr,ar;if(tr&&parse_compobj(tr),er.bookProps&&!er.bookSheets)nr={};else{var sr=has_buf?"buffer":"array";if(rr&&rr.content)nr=parse_workbook(rr.content,er);else if((ar=CFB.find(St,"PerfectOffice_MAIN"))&&ar.content)nr=WK_.to_workbook(ar.content,(er.type=sr,er));else if((ar=CFB.find(St,"NativeContent_MAIN"))&&ar.content)nr=WK_.to_workbook(ar.content,(er.type=sr,er));else throw(ar=CFB.find(St,"MN0"))&&ar.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");er.bookVBA&&St.FullPaths&&CFB.find(St,"/_VBA_PROJECT_CUR/VBA/dir")&&(nr.vbaraw=make_vba_xls(St))}var ir={};return St.FullPaths&&parse_xls_props(St,ir,er),nr.Props=nr.Custprops=ir,er.bookFiles&&(nr.cfb=St),nr}function write_xlscfb(St,er){var tr=er||{},rr=CFB.utils.cfb_new({root:"R"}),nr="/Workbook";switch(tr.bookType||"xls"){case"xls":tr.bookType="biff8";case"xla":tr.bookType||(tr.bookType="xla");case"biff8":nr="/Workbook",tr.biff=8;break;case"biff5":nr="/Book",tr.biff=5;break;default:throw new Error("invalid type "+tr.bookType+" for XLS CFB")}return CFB.utils.cfb_add(rr,nr,write_biff_buf(St,tr)),tr.biff==8&&(St.Props||St.Custprops)&&write_xls_props(St,rr),tr.biff==8&&St.vbaraw&&fill_vba_xls(rr,CFB.read(St.vbaraw,{type:typeof St.vbaraw=="string"?"binary":"buffer"})),rr}var XLSBRecordEnum={0:{f:parse_BrtRowHdr},1:{f:parse_BrtCellBlank},2:{f:parse_BrtCellRk},3:{f:parse_BrtCellError},4:{f:parse_BrtCellBool},5:{f:parse_BrtCellReal},6:{f:parse_BrtCellSt},7:{f:parse_BrtCellIsst},8:{f:parse_BrtFmlaString},9:{f:parse_BrtFmlaNum},10:{f:parse_BrtFmlaBool},11:{f:parse_BrtFmlaError},12:{f:parse_BrtShortBlank},13:{f:parse_BrtShortRk},14:{f:parse_BrtShortError},15:{f:parse_BrtShortBool},16:{f:parse_BrtShortReal},17:{f:parse_BrtShortSt},18:{f:parse_BrtShortIsst},19:{f:parse_RichStr},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:parse_BrtName},40:{},42:{},43:{f:parse_BrtFont},44:{f:parse_BrtFmt},45:{f:parse_BrtFill},46:{f:parse_BrtBorder},47:{f:parse_BrtXF},48:{},49:{f:parse_Int32LE},50:{},51:{f:parse_BrtMdb},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:parse_ColInfo},62:{f:parse_BrtCellRString},63:{f:parse_BrtCalcChainItem$},64:{f:parse_BrtDVal},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:parsenoop,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:parse_BrtBeginWsView},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:parse_BrtWsProp},148:{f:parse_BrtWsDim,p:16},151:{f:parse_BrtPane},152:{},153:{f:parse_BrtWbProp},154:{},155:{},156:{f:parse_BrtBundleSh},157:{},158:{},159:{T:1,f:parse_BrtBeginSst},160:{T:-1},161:{T:1,f:parse_UncheckedRfX},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:parse_BrtMergeCell},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:parse_BrtMdtinfo},336:{T:-1},337:{f:parse_BrtBeginEsmdb,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:parse_RelID},357:{},358:{},359:{},360:{T:1},361:{},362:{f:parse_ExternSheet},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:parse_BrtArrFmla},427:{f:parse_BrtShrFmla},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:parse_BrtMargins},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:parse_BrtWsFmtInfo},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:parse_BrtHLink},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:parse_RelID},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:parse_BrtCommentAuthor},633:{T:1},634:{T:-1},635:{T:1,f:parse_BrtBeginComment},636:{T:-1},637:{f:parse_BrtCommentText},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:parse_BrtCsProp},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:parse_BrtDVal14},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},XLSRecordEnum={6:{f:parse_Formula},10:{f:parsenoop2},12:{f:parseuint16},13:{f:parseuint16},14:{f:parsebool},15:{f:parsebool},16:{f:parse_Xnum},17:{f:parsebool},18:{f:parsebool},19:{f:parseuint16},20:{f:parse_XLHeaderFooter},21:{f:parse_XLHeaderFooter},23:{f:parse_ExternSheet},24:{f:parse_Lbl},25:{f:parsebool},26:{},27:{},28:{f:parse_Note},29:{},34:{f:parsebool},35:{f:parse_ExternName},38:{f:parse_Xnum},39:{f:parse_Xnum},40:{f:parse_Xnum},41:{f:parse_Xnum},42:{f:parsebool},43:{f:parsebool},47:{f:parse_FilePass},49:{f:parse_Font},51:{f:parseuint16},60:{},61:{f:parse_Window1},64:{f:parsebool},65:{f:parse_Pane},66:{f:parseuint16},77:{},80:{},81:{},82:{},85:{f:parseuint16},89:{},90:{},91:{},92:{f:parse_WriteAccess},93:{f:parse_Obj},94:{},95:{f:parsebool},96:{},97:{},99:{f:parsebool},125:{f:parse_ColInfo},128:{f:parse_Guts},129:{f:parse_WsBool},130:{f:parseuint16},131:{f:parsebool},132:{f:parsebool},133:{f:parse_BoundSheet8},134:{},140:{f:parse_Country},141:{f:parseuint16},144:{},146:{f:parse_Palette},151:{},152:{},153:{},154:{},155:{},156:{f:parseuint16},157:{},158:{},160:{f:parse_Scl},161:{f:parse_Setup},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:parse_MulRk},190:{f:parse_MulBlank},193:{f:parsenoop2},197:{},198:{},199:{},200:{},201:{},202:{f:parsebool},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:parseuint16},220:{},221:{f:parsebool},222:{},224:{f:parse_XF},225:{f:parse_InterfaceHdr},226:{f:parsenoop2},227:{},229:{f:parse_MergeCells},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:parse_SST},253:{f:parse_LabelSst},255:{f:parse_ExtSST},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:parseuint16a},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:parsebool},353:{f:parsenoop2},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:parse_SupBook},431:{f:parsebool},432:{},433:{},434:{},437:{},438:{f:parse_TxO},439:{f:parsebool},440:{f:parse_HLink},441:{},442:{f:parse_XLUnicodeString},443:{},444:{f:parseuint16},445:{},446:{},448:{f:parsenoop2},449:{f:parse_RecalcId,r:2},450:{f:parsenoop2},512:{f:parse_Dimensions},513:{f:parse_Blank},515:{f:parse_Number},516:{f:parse_Label},517:{f:parse_BoolErr},519:{f:parse_String},520:{f:parse_Row},523:{},545:{f:parse_Array},549:{f:parse_DefaultRowHeight},566:{},574:{f:parse_Window2},638:{f:parse_RK},659:{},1048:{},1054:{f:parse_Format},1084:{},1212:{f:parse_ShrFmla},2048:{f:parse_HLinkTooltip},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:parse_BOF},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:parsenoop2},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:parse_XFCRC,r:12},2173:{f:parse_XFExt,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:parsebool,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:parse_NameCmt,r:12},2197:{},2198:{f:parse_Theme,r:12},2199:{},2200:{},2201:{},2202:{f:parse_MTRSettings,r:12},2203:{f:parsenoop2},2204:{},2205:{},2206:{},2207:{},2211:{f:parse_ForceFullCalculation},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:parseuint16},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:parse_ShtProps},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:parse_ClrtClient},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:parse_Dimensions},1:{},2:{f:parse_BIFF2INT},3:{f:parse_BIFF2NUM},4:{f:parse_BIFF2STR},5:{f:parse_BoolErr},7:{f:parse_BIFF2STRING},8:{},9:{f:parse_BOF},11:{},22:{f:parseuint16},30:{f:parse_BIFF2Format},31:{},32:{},33:{f:parse_Array},36:{},37:{f:parse_DefaultRowHeight},50:{f:parse_BIFF2FONTXTRA},62:{},52:{},67:{},68:{f:parseuint16},69:{},86:{},126:{},127:{f:parse_ImData},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:parse_RString},223:{},234:{},354:{},421:{},518:{f:parse_Formula},521:{f:parse_BOF},536:{f:parse_Lbl},547:{f:parse_ExternName},561:{},579:{},1030:{f:parse_Formula},1033:{f:parse_BOF},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function write_biff_rec(St,er,tr,rr){var nr=er;if(!isNaN(nr)){var ar=rr||(tr||[]).length||0,sr=St.next(4);sr.write_shift(2,nr),sr.write_shift(2,ar),ar>0&&is_buf(tr)&&St.push(tr)}}function write_biff_continue(St,er,tr,rr){var nr=(tr||[]).length||0;if(nr<=8224)return write_biff_rec(St,er,tr,nr);var ar=er;if(!isNaN(ar)){for(var sr=tr.parts||[],ir=0,or=0,lr=0;lr+(sr[ir]||8224)<=8224;)lr+=sr[ir]||8224,ir++;var cr=St.next(4);for(cr.write_shift(2,ar),cr.write_shift(2,lr),St.push(tr.slice(or,or+lr)),or+=lr;or<nr;){for(cr=St.next(4),cr.write_shift(2,60),lr=0;lr+(sr[ir]||8224)<=8224;)lr+=sr[ir]||8224,ir++;cr.write_shift(2,lr),St.push(tr.slice(or,or+lr)),or+=lr}}}function write_BIFF2Cell(St,er,tr){return St||(St=new_buf(7)),St.write_shift(2,er),St.write_shift(2,tr),St.write_shift(2,0),St.write_shift(1,0),St}function write_BIFF2BERR(St,er,tr,rr){var nr=new_buf(9);return write_BIFF2Cell(nr,St,er),write_Bes(tr,rr||"b",nr),nr}function write_BIFF2LABEL(St,er,tr){var rr=new_buf(8+2*tr.length);return write_BIFF2Cell(rr,St,er),rr.write_shift(1,tr.length),rr.write_shift(tr.length,tr,"sbcs"),rr.l<rr.length?rr.slice(0,rr.l):rr}function write_ws_biff2_cell(St,er,tr,rr){if(er.v!=null)switch(er.t){case"d":case"n":var nr=er.t=="d"?datenum(parseDate(er.v)):er.v;nr==(nr|0)&&nr>=0&&nr<65536?write_biff_rec(St,2,write_BIFF2INT(tr,rr,nr)):write_biff_rec(St,3,write_BIFF2NUM(tr,rr,nr));return;case"b":case"e":write_biff_rec(St,5,write_BIFF2BERR(tr,rr,er.v,er.t));return;case"s":case"str":write_biff_rec(St,4,write_BIFF2LABEL(tr,rr,(er.v||"").slice(0,255)));return}write_biff_rec(St,1,write_BIFF2Cell(null,tr,rr))}function write_ws_biff2(St,er,tr,rr){var nr=Array.isArray(er),ar=safe_decode_range(er["!ref"]||"A1"),sr,ir="",or=[];if(ar.e.c>255||ar.e.r>16383){if(rr.WTF)throw new Error("Range "+(er["!ref"]||"A1")+" exceeds format limit A1:IV16384");ar.e.c=Math.min(ar.e.c,255),ar.e.r=Math.min(ar.e.c,16383),sr=encode_range(ar)}for(var lr=ar.s.r;lr<=ar.e.r;++lr){ir=encode_row(lr);for(var cr=ar.s.c;cr<=ar.e.c;++cr){lr===ar.s.r&&(or[cr]=encode_col(cr)),sr=or[cr]+ir;var ur=nr?(er[lr]||[])[cr]:er[sr];ur&&write_ws_biff2_cell(St,ur,lr,cr)}}}function write_biff2_buf(St,er){for(var tr=er||{},rr=buf_array(),nr=0,ar=0;ar<St.SheetNames.length;++ar)St.SheetNames[ar]==tr.sheet&&(nr=ar);if(nr==0&&tr.sheet&&St.SheetNames[0]!=tr.sheet)throw new Error("Sheet not found: "+tr.sheet);return write_biff_rec(rr,tr.biff==4?1033:tr.biff==3?521:9,write_BOF(St,16,tr)),write_ws_biff2(rr,St.Sheets[St.SheetNames[nr]],nr,tr),write_biff_rec(rr,10),rr.end()}function write_FONTS_biff8(St,er,tr){write_biff_rec(St,49,write_Font({sz:12,name:"Arial"},tr))}function write_FMTS_biff8(St,er,tr){er&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(rr){for(var nr=rr[0];nr<=rr[1];++nr)er[nr]!=null&&write_biff_rec(St,1054,write_Format(nr,er[nr],tr))})}function write_FEAT(St,er){var tr=new_buf(19);tr.write_shift(4,2151),tr.write_shift(4,0),tr.write_shift(4,0),tr.write_shift(2,3),tr.write_shift(1,1),tr.write_shift(4,0),write_biff_rec(St,2151,tr),tr=new_buf(39),tr.write_shift(4,2152),tr.write_shift(4,0),tr.write_shift(4,0),tr.write_shift(2,3),tr.write_shift(1,0),tr.write_shift(4,0),tr.write_shift(2,1),tr.write_shift(4,4),tr.write_shift(2,0),write_Ref8U(safe_decode_range(er["!ref"]||"A1"),tr),tr.write_shift(4,4),write_biff_rec(St,2152,tr)}function write_CELLXFS_biff8(St,er){for(var tr=0;tr<16;++tr)write_biff_rec(St,224,write_XF({numFmtId:0,style:!0},0,er));er.cellXfs.forEach(function(rr){write_biff_rec(St,224,write_XF(rr,0,er))})}function write_ws_biff8_hlinks(St,er){for(var tr=0;tr<er["!links"].length;++tr){var rr=er["!links"][tr];write_biff_rec(St,440,write_HLink(rr)),rr[1].Tooltip&&write_biff_rec(St,2048,write_HLinkTooltip(rr))}delete er["!links"]}function write_ws_cols_biff8(St,er){if(er){var tr=0;er.forEach(function(rr,nr){++tr<=256&&rr&&write_biff_rec(St,125,write_ColInfo(col_obj_w(nr,rr),nr))})}}function write_ws_biff8_cell(St,er,tr,rr,nr){var ar=16+get_cell_style(nr.cellXfs,er,nr);if(er.v==null&&!er.bf){write_biff_rec(St,513,write_XLSCell(tr,rr,ar));return}if(er.bf)write_biff_rec(St,6,write_Formula(er,tr,rr,nr,ar));else switch(er.t){case"d":case"n":var sr=er.t=="d"?datenum(parseDate(er.v)):er.v;write_biff_rec(St,515,write_Number(tr,rr,sr,ar));break;case"b":case"e":write_biff_rec(St,517,write_BoolErr(tr,rr,er.v,ar,nr,er.t));break;case"s":case"str":if(nr.bookSST){var ir=get_sst_id(nr.Strings,er.v,nr.revStrings);write_biff_rec(St,253,write_LabelSst(tr,rr,ir,ar))}else write_biff_rec(St,516,write_Label(tr,rr,(er.v||"").slice(0,255),ar,nr));break;default:write_biff_rec(St,513,write_XLSCell(tr,rr,ar))}}function write_ws_biff8(St,er,tr){var rr=buf_array(),nr=tr.SheetNames[St],ar=tr.Sheets[nr]||{},sr=(tr||{}).Workbook||{},ir=(sr.Sheets||[])[St]||{},or=Array.isArray(ar),lr=er.biff==8,cr,ur="",dr=[],fr=safe_decode_range(ar["!ref"]||"A1"),mr=lr?65536:16384;if(fr.e.c>255||fr.e.r>=mr){if(er.WTF)throw new Error("Range "+(ar["!ref"]||"A1")+" exceeds format limit A1:IV16384");fr.e.c=Math.min(fr.e.c,255),fr.e.r=Math.min(fr.e.c,mr-1)}write_biff_rec(rr,2057,write_BOF(tr,16,er)),write_biff_rec(rr,13,writeuint16(1)),write_biff_rec(rr,12,writeuint16(100)),write_biff_rec(rr,15,writebool(!0)),write_biff_rec(rr,17,writebool(!1)),write_biff_rec(rr,16,write_Xnum(.001)),write_biff_rec(rr,95,writebool(!0)),write_biff_rec(rr,42,writebool(!1)),write_biff_rec(rr,43,writebool(!1)),write_biff_rec(rr,130,writeuint16(1)),write_biff_rec(rr,128,write_Guts()),write_biff_rec(rr,131,writebool(!1)),write_biff_rec(rr,132,writebool(!1)),lr&&write_ws_cols_biff8(rr,ar["!cols"]),write_biff_rec(rr,512,write_Dimensions(fr,er)),lr&&(ar["!links"]=[]);for(var xr=fr.s.r;xr<=fr.e.r;++xr){ur=encode_row(xr);for(var pr=fr.s.c;pr<=fr.e.c;++pr){xr===fr.s.r&&(dr[pr]=encode_col(pr)),cr=dr[pr]+ur;var hr=or?(ar[xr]||[])[pr]:ar[cr];hr&&(write_ws_biff8_cell(rr,hr,xr,pr,er),lr&&hr.l&&ar["!links"].push([cr,hr.l]))}}var gr=ir.CodeName||ir.name||nr;return lr&&write_biff_rec(rr,574,write_Window2((sr.Views||[])[0])),lr&&(ar["!merges"]||[]).length&&write_biff_rec(rr,229,write_MergeCells(ar["!merges"])),lr&&write_ws_biff8_hlinks(rr,ar),write_biff_rec(rr,442,write_XLUnicodeString(gr)),lr&&write_FEAT(rr,ar),write_biff_rec(rr,10),rr.end()}function write_biff8_global(St,er,tr){var rr=buf_array(),nr=(St||{}).Workbook||{},ar=nr.Sheets||[],sr=nr.WBProps||{},ir=tr.biff==8,or=tr.biff==5;if(write_biff_rec(rr,2057,write_BOF(St,5,tr)),tr.bookType=="xla"&&write_biff_rec(rr,135),write_biff_rec(rr,225,ir?writeuint16(1200):null),write_biff_rec(rr,193,writezeroes(2)),or&&write_biff_rec(rr,191),or&&write_biff_rec(rr,192),write_biff_rec(rr,226),write_biff_rec(rr,92,write_WriteAccess("SheetJS",tr)),write_biff_rec(rr,66,writeuint16(ir?1200:1252)),ir&&write_biff_rec(rr,353,writeuint16(0)),ir&&write_biff_rec(rr,448),write_biff_rec(rr,317,write_RRTabId(St.SheetNames.length)),ir&&St.vbaraw&&write_biff_rec(rr,211),ir&&St.vbaraw){var lr=sr.CodeName||"ThisWorkbook";write_biff_rec(rr,442,write_XLUnicodeString(lr))}write_biff_rec(rr,156,writeuint16(17)),write_biff_rec(rr,25,writebool(!1)),write_biff_rec(rr,18,writebool(!1)),write_biff_rec(rr,19,writeuint16(0)),ir&&write_biff_rec(rr,431,writebool(!1)),ir&&write_biff_rec(rr,444,writeuint16(0)),write_biff_rec(rr,61,write_Window1()),write_biff_rec(rr,64,writebool(!1)),write_biff_rec(rr,141,writeuint16(0)),write_biff_rec(rr,34,writebool(safe1904(St)=="true")),write_biff_rec(rr,14,writebool(!0)),ir&&write_biff_rec(rr,439,writebool(!1)),write_biff_rec(rr,218,writeuint16(0)),write_FONTS_biff8(rr,St,tr),write_FMTS_biff8(rr,St.SSF,tr),write_CELLXFS_biff8(rr,tr),ir&&write_biff_rec(rr,352,writebool(!1));var cr=rr.end(),ur=buf_array();ir&&write_biff_rec(ur,140,write_Country()),ir&&tr.Strings&&write_biff_continue(ur,252,write_SST(tr.Strings)),write_biff_rec(ur,10);var dr=ur.end(),fr=buf_array(),mr=0,xr=0;for(xr=0;xr<St.SheetNames.length;++xr)mr+=(ir?12:11)+(ir?2:1)*St.SheetNames[xr].length;var pr=cr.length+mr+dr.length;for(xr=0;xr<St.SheetNames.length;++xr){var hr=ar[xr]||{};write_biff_rec(fr,133,write_BoundSheet8({pos:pr,hs:hr.Hidden||0,dt:0,name:St.SheetNames[xr]},tr)),pr+=er[xr].length}var gr=fr.end();if(mr!=gr.length)throw new Error("BS8 "+mr+" != "+gr.length);var vr=[];return cr.length&&vr.push(cr),gr.length&&vr.push(gr),dr.length&&vr.push(dr),bconcat(vr)}function write_biff8_buf(St,er){var tr=er||{},rr=[];St&&!St.SSF&&(St.SSF=dup(table_fmt)),St&&St.SSF&&(make_ssf(),SSF_load_table(St.SSF),tr.revssf=evert_num(St.SSF),tr.revssf[St.SSF[65535]]=0,tr.ssf=St.SSF),tr.Strings=[],tr.Strings.Count=0,tr.Strings.Unique=0,fix_write_opts(tr),tr.cellXfs=[],get_cell_style(tr.cellXfs,{},{revssf:{General:0}}),St.Props||(St.Props={});for(var nr=0;nr<St.SheetNames.length;++nr)rr[rr.length]=write_ws_biff8(nr,tr,St);return rr.unshift(write_biff8_global(St,rr,tr)),bconcat(rr)}function write_biff_buf(St,er){for(var tr=0;tr<=St.SheetNames.length;++tr){var rr=St.Sheets[St.SheetNames[tr]];if(!(!rr||!rr["!ref"])){var nr=decode_range(rr["!ref"]);nr.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+St.SheetNames[tr]+"' extends beyond column IV (255).  Data may be lost.")}}var ar=er||{};switch(ar.biff||2){case 8:case 5:return write_biff8_buf(St,er);case 4:case 3:case 2:return write_biff2_buf(St,er)}throw new Error("invalid type "+ar.bookType+" for BIFF")}function html_to_sheet(St,er){var tr=er||{},rr=tr.dense?[]:{};St=St.replace(/<!--.*?-->/g,"");var nr=St.match(/<table/i);if(!nr)throw new Error("Invalid HTML: could not find <table>");var ar=St.match(/<\/table/i),sr=nr.index,ir=ar&&ar.index||St.length,or=split_regex(St.slice(sr,ir),/(:?<tr[^>]*>)/i,"<tr>"),lr=-1,cr=0,ur=0,dr=0,fr={s:{r:1e7,c:1e7},e:{r:0,c:0}},mr=[];for(sr=0;sr<or.length;++sr){var xr=or[sr].trim(),pr=xr.slice(0,3).toLowerCase();if(pr=="<tr"){if(++lr,tr.sheetRows&&tr.sheetRows<=lr){--lr;break}cr=0;continue}if(!(pr!="<td"&&pr!="<th")){var hr=xr.split(/<\/t[dh]>/i);for(ir=0;ir<hr.length;++ir){var gr=hr[ir].trim();if(gr.match(/<t[dh]/i)){for(var vr=gr,br=0;vr.charAt(0)=="<"&&(br=vr.indexOf(">"))>-1;)vr=vr.slice(br+1);for(var yr=0;yr<mr.length;++yr){var Er=mr[yr];Er.s.c==cr&&Er.s.r<lr&&lr<=Er.e.r&&(cr=Er.e.c+1,yr=-1)}var jr=parsexmltag(gr.slice(0,gr.indexOf(">")));dr=jr.colspan?+jr.colspan:1,((ur=+jr.rowspan)>1||dr>1)&&mr.push({s:{r:lr,c:cr},e:{r:lr+(ur||1)-1,c:cr+dr-1}});var _r=jr.t||jr["data-t"]||"";if(!vr.length){cr+=dr;continue}if(vr=htmldecode(vr),fr.s.r>lr&&(fr.s.r=lr),fr.e.r<lr&&(fr.e.r=lr),fr.s.c>cr&&(fr.s.c=cr),fr.e.c<cr&&(fr.e.c=cr),!vr.length){cr+=dr;continue}var Cr={t:"s",v:vr};tr.raw||!vr.trim().length||_r=="s"||(vr==="TRUE"?Cr={t:"b",v:!0}:vr==="FALSE"?Cr={t:"b",v:!1}:isNaN(fuzzynum(vr))?isNaN(fuzzydate(vr).getDate())||(Cr={t:"d",v:parseDate(vr)},tr.cellDates||(Cr={t:"n",v:datenum(Cr.v)}),Cr.z=tr.dateNF||table_fmt[14]):Cr={t:"n",v:fuzzynum(vr)}),tr.dense?(rr[lr]||(rr[lr]=[]),rr[lr][cr]=Cr):rr[encode_cell({r:lr,c:cr})]=Cr,cr+=dr}}}}return rr["!ref"]=encode_range(fr),mr.length&&(rr["!merges"]=mr),rr}function make_html_row(St,er,tr,rr){for(var nr=St["!merges"]||[],ar=[],sr=er.s.c;sr<=er.e.c;++sr){for(var ir=0,or=0,lr=0;lr<nr.length;++lr)if(!(nr[lr].s.r>tr||nr[lr].s.c>sr)&&!(nr[lr].e.r<tr||nr[lr].e.c<sr)){if(nr[lr].s.r<tr||nr[lr].s.c<sr){ir=-1;break}ir=nr[lr].e.r-nr[lr].s.r+1,or=nr[lr].e.c-nr[lr].s.c+1;break}if(!(ir<0)){var cr=encode_cell({r:tr,c:sr}),ur=rr.dense?(St[tr]||[])[sr]:St[cr],dr=ur&&ur.v!=null&&(ur.h||escapehtml(ur.w||(format_cell(ur),ur.w)||""))||"",fr={};ir>1&&(fr.rowspan=ir),or>1&&(fr.colspan=or),rr.editable?dr='<span contenteditable="true">'+dr+"</span>":ur&&(fr["data-t"]=ur&&ur.t||"z",ur.v!=null&&(fr["data-v"]=ur.v),ur.z!=null&&(fr["data-z"]=ur.z),ur.l&&(ur.l.Target||"#").charAt(0)!="#"&&(dr='<a href="'+ur.l.Target+'">'+dr+"</a>")),fr.id=(rr.id||"sjs")+"-"+cr,ar.push(writextag("td",dr,fr))}}var mr="<tr>";return mr+ar.join("")+"</tr>"}var HTML_BEGIN='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',HTML_END="</body></html>";function html_to_workbook(St,er){var tr=St.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!tr||tr.length==0)throw new Error("Invalid HTML: could not find <table>");if(tr.length==1)return sheet_to_workbook(html_to_sheet(tr[0],er),er);var rr=book_new();return tr.forEach(function(nr,ar){book_append_sheet(rr,html_to_sheet(nr,er),"Sheet"+(ar+1))}),rr}function make_html_preamble(St,er,tr){var rr=[];return rr.join("")+"<table"+(tr&&tr.id?' id="'+tr.id+'"':"")+">"}function sheet_to_html(St,er){var tr=er||{},rr=tr.header!=null?tr.header:HTML_BEGIN,nr=tr.footer!=null?tr.footer:HTML_END,ar=[rr],sr=decode_range(St["!ref"]);tr.dense=Array.isArray(St),ar.push(make_html_preamble(St,sr,tr));for(var ir=sr.s.r;ir<=sr.e.r;++ir)ar.push(make_html_row(St,sr,ir,tr));return ar.push("</table>"+nr),ar.join("")}function sheet_add_dom(St,er,tr){var rr=tr||{},nr=0,ar=0;if(rr.origin!=null)if(typeof rr.origin=="number")nr=rr.origin;else{var sr=typeof rr.origin=="string"?decode_cell(rr.origin):rr.origin;nr=sr.r,ar=sr.c}var ir=er.getElementsByTagName("tr"),or=Math.min(rr.sheetRows||1e7,ir.length),lr={s:{r:0,c:0},e:{r:nr,c:ar}};if(St["!ref"]){var cr=decode_range(St["!ref"]);lr.s.r=Math.min(lr.s.r,cr.s.r),lr.s.c=Math.min(lr.s.c,cr.s.c),lr.e.r=Math.max(lr.e.r,cr.e.r),lr.e.c=Math.max(lr.e.c,cr.e.c),nr==-1&&(lr.e.r=nr=cr.e.r+1)}var ur=[],dr=0,fr=St["!rows"]||(St["!rows"]=[]),mr=0,xr=0,pr=0,hr=0,gr=0,vr=0;for(St["!cols"]||(St["!cols"]=[]);mr<ir.length&&xr<or;++mr){var br=ir[mr];if(is_dom_element_hidden(br)){if(rr.display)continue;fr[xr]={hidden:!0}}var yr=br.children;for(pr=hr=0;pr<yr.length;++pr){var Er=yr[pr];if(!(rr.display&&is_dom_element_hidden(Er))){var jr=Er.hasAttribute("data-v")?Er.getAttribute("data-v"):Er.hasAttribute("v")?Er.getAttribute("v"):htmldecode(Er.innerHTML),_r=Er.getAttribute("data-z")||Er.getAttribute("z");for(dr=0;dr<ur.length;++dr){var Cr=ur[dr];Cr.s.c==hr+ar&&Cr.s.r<xr+nr&&xr+nr<=Cr.e.r&&(hr=Cr.e.c+1-ar,dr=-1)}vr=+Er.getAttribute("colspan")||1,((gr=+Er.getAttribute("rowspan")||1)>1||vr>1)&&ur.push({s:{r:xr+nr,c:hr+ar},e:{r:xr+nr+(gr||1)-1,c:hr+ar+(vr||1)-1}});var Or={t:"s",v:jr},Pr=Er.getAttribute("data-t")||Er.getAttribute("t")||"";jr!=null&&(jr.length==0?Or.t=Pr||"z":rr.raw||jr.trim().length==0||Pr=="s"||(jr==="TRUE"?Or={t:"b",v:!0}:jr==="FALSE"?Or={t:"b",v:!1}:isNaN(fuzzynum(jr))?isNaN(fuzzydate(jr).getDate())||(Or={t:"d",v:parseDate(jr)},rr.cellDates||(Or={t:"n",v:datenum(Or.v)}),Or.z=rr.dateNF||table_fmt[14]):Or={t:"n",v:fuzzynum(jr)})),Or.z===void 0&&_r!=null&&(Or.z=_r);var Lr="",Gr=Er.getElementsByTagName("A");if(Gr&&Gr.length)for(var Kr=0;Kr<Gr.length&&!(Gr[Kr].hasAttribute("href")&&(Lr=Gr[Kr].getAttribute("href"),Lr.charAt(0)!="#"));++Kr);Lr&&Lr.charAt(0)!="#"&&(Or.l={Target:Lr}),rr.dense?(St[xr+nr]||(St[xr+nr]=[]),St[xr+nr][hr+ar]=Or):St[encode_cell({c:hr+ar,r:xr+nr})]=Or,lr.e.c<hr+ar&&(lr.e.c=hr+ar),hr+=vr}}++xr}return ur.length&&(St["!merges"]=(St["!merges"]||[]).concat(ur)),lr.e.r=Math.max(lr.e.r,xr-1+nr),St["!ref"]=encode_range(lr),xr>=or&&(St["!fullref"]=encode_range((lr.e.r=ir.length-mr+xr-1+nr,lr))),St}function parse_dom_table(St,er){var tr=er||{},rr=tr.dense?[]:{};return sheet_add_dom(rr,St,er)}function table_to_book(St,er){return sheet_to_workbook(parse_dom_table(St,er),er)}function is_dom_element_hidden(St){var er="",tr=get_get_computed_style_function(St);return tr&&(er=tr(St).getPropertyValue("display")),er||(er=St.style&&St.style.display),er==="none"}function get_get_computed_style_function(St){return St.ownerDocument.defaultView&&typeof St.ownerDocument.defaultView.getComputedStyle=="function"?St.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function parse_text_p(St){var er=St.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(rr,nr){return Array(parseInt(nr,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),tr=unescapexml(er.replace(/<[^>]*>/g,""));return[tr]}var number_formats_ods={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function parse_content_xml(St,er){var tr=er||{},rr=xlml_normalize(St),nr=[],ar,sr,ir={name:""},or="",lr=0,cr,ur,dr={},fr=[],mr=tr.dense?[]:{},xr,pr,hr={value:""},gr="",vr=0,br=[],yr=-1,Er=-1,jr={s:{r:1e6,c:1e7},e:{r:0,c:0}},_r=0,Cr={},Or=[],Pr={},Lr=0,Gr=0,Kr=[],nn=1,Qr=1,zr=[],Vr={Names:[]},Jr={},tn=["",""],Yr=[],Sr={},Rr="",Tr=0,Dr=!1,Mr=!1,Br=0;for(xlmlregex.lastIndex=0,rr=rr.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");xr=xlmlregex.exec(rr);)switch(xr[3]=xr[3].replace(/_.*$/,"")){case"table":case"":xr[1]==="/"?(jr.e.c>=jr.s.c&&jr.e.r>=jr.s.r?mr["!ref"]=encode_range(jr):mr["!ref"]="A1:A1",tr.sheetRows>0&&tr.sheetRows<=jr.e.r&&(mr["!fullref"]=mr["!ref"],jr.e.r=tr.sheetRows-1,mr["!ref"]=encode_range(jr)),Or.length&&(mr["!merges"]=Or),Kr.length&&(mr["!rows"]=Kr),cr.name=cr.||cr.name,typeof JSON<"u"&&JSON.stringify(cr),fr.push(cr.name),dr[cr.name]=mr,Mr=!1):xr[0].charAt(xr[0].length-2)!=="/"&&(cr=parsexmltag(xr[0],!1),yr=Er=-1,jr.s.r=jr.s.c=1e7,jr.e.r=jr.e.c=0,mr=tr.dense?[]:{},Or=[],Kr=[],Mr=!0);break;case"table-row-group":xr[1]==="/"?--_r:++_r;break;case"table-row":case"":if(xr[1]==="/"){yr+=nn,nn=1;break}if(ur=parsexmltag(xr[0],!1),ur.?yr=ur.-1:yr==-1&&(yr=0),nn=+ur["number-rows-repeated"]||1,nn<10)for(Br=0;Br<nn;++Br)_r>0&&(Kr[yr+Br]={level:_r});Er=-1;break;case"covered-table-cell":xr[1]!=="/"&&++Er,tr.sheetStubs&&(tr.dense?(mr[yr]||(mr[yr]=[]),mr[yr][Er]={t:"z"}):mr[encode_cell({r:yr,c:Er})]={t:"z"}),gr="",br=[];break;case"table-cell":case"":if(xr[0].charAt(xr[0].length-2)==="/")++Er,hr=parsexmltag(xr[0],!1),Qr=parseInt(hr["number-columns-repeated"]||"1",10),pr={t:"z",v:null},hr.formula&&tr.cellFormula!=!1&&(pr.f=ods_to_csf_formula(unescapexml(hr.formula))),(hr.||hr["value-type"])=="string"&&(pr.t="s",pr.v=unescapexml(hr["string-value"]||""),tr.dense?(mr[yr]||(mr[yr]=[]),mr[yr][Er]=pr):mr[encode_cell({r:yr,c:Er})]=pr),Er+=Qr-1;else if(xr[1]!=="/"){++Er,gr="",vr=0,br=[],Qr=1;var qr=nn?yr+nn-1:yr;if(Er>jr.e.c&&(jr.e.c=Er),Er<jr.s.c&&(jr.s.c=Er),yr<jr.s.r&&(jr.s.r=yr),qr>jr.e.r&&(jr.e.r=qr),hr=parsexmltag(xr[0],!1),Yr=[],Sr={},pr={t:hr.||hr["value-type"],v:null},tr.cellFormula)if(hr.formula&&(hr.formula=unescapexml(hr.formula)),hr["number-matrix-columns-spanned"]&&hr["number-matrix-rows-spanned"]&&(Lr=parseInt(hr["number-matrix-rows-spanned"],10)||0,Gr=parseInt(hr["number-matrix-columns-spanned"],10)||0,Pr={s:{r:yr,c:Er},e:{r:yr+Lr-1,c:Er+Gr-1}},pr.F=encode_range(Pr),zr.push([Pr,pr.F])),hr.formula)pr.f=ods_to_csf_formula(hr.formula);else for(Br=0;Br<zr.length;++Br)yr>=zr[Br][0].s.r&&yr<=zr[Br][0].e.r&&Er>=zr[Br][0].s.c&&Er<=zr[Br][0].e.c&&(pr.F=zr[Br][1]);switch((hr["number-columns-spanned"]||hr["number-rows-spanned"])&&(Lr=parseInt(hr["number-rows-spanned"],10)||0,Gr=parseInt(hr["number-columns-spanned"],10)||0,Pr={s:{r:yr,c:Er},e:{r:yr+Lr-1,c:Er+Gr-1}},Or.push(Pr)),hr["number-columns-repeated"]&&(Qr=parseInt(hr["number-columns-repeated"],10)),pr.t){case"boolean":pr.t="b",pr.v=parsexmlbool(hr["boolean-value"]);break;case"float":pr.t="n",pr.v=parseFloat(hr.value);break;case"percentage":pr.t="n",pr.v=parseFloat(hr.value);break;case"currency":pr.t="n",pr.v=parseFloat(hr.value);break;case"date":pr.t="d",pr.v=parseDate(hr["date-value"]),tr.cellDates||(pr.t="n",pr.v=datenum(pr.v)),pr.z="m/d/yy";break;case"time":pr.t="n",pr.v=parse_isodur(hr["time-value"])/86400,tr.cellDates&&(pr.t="d",pr.v=numdate(pr.v)),pr.z="HH:MM:SS";break;case"number":pr.t="n",pr.v=parseFloat(hr.);break;default:if(pr.t==="string"||pr.t==="text"||!pr.t)pr.t="s",hr["string-value"]!=null&&(gr=unescapexml(hr["string-value"]),br=[]);else throw new Error("Unsupported value type "+pr.t)}}else{if(Dr=!1,pr.t==="s"&&(pr.v=gr||"",br.length&&(pr.R=br),Dr=vr==0),Jr.Target&&(pr.l=Jr),Yr.length>0&&(pr.c=Yr,Yr=[]),gr&&tr.cellText!==!1&&(pr.w=gr),Dr&&(pr.t="z",delete pr.v),(!Dr||tr.sheetStubs)&&!(tr.sheetRows&&tr.sheetRows<=yr))for(var Wr=0;Wr<nn;++Wr){if(Qr=parseInt(hr["number-columns-repeated"]||"1",10),tr.dense)for(mr[yr+Wr]||(mr[yr+Wr]=[]),mr[yr+Wr][Er]=Wr==0?pr:dup(pr);--Qr>0;)mr[yr+Wr][Er+Qr]=dup(pr);else for(mr[encode_cell({r:yr+Wr,c:Er})]=pr;--Qr>0;)mr[encode_cell({r:yr+Wr,c:Er+Qr})]=dup(pr);jr.e.c<=Er&&(jr.e.c=Er)}Qr=parseInt(hr["number-columns-repeated"]||"1",10),Er+=Qr-1,Qr=0,pr={},gr="",br=[]}Jr={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(xr[1]==="/"){if((ar=nr.pop())[0]!==xr[3])throw"Bad state: "+ar}else xr[0].charAt(xr[0].length-2)!=="/"&&nr.push([xr[3],!0]);break;case"annotation":if(xr[1]==="/"){if((ar=nr.pop())[0]!==xr[3])throw"Bad state: "+ar;Sr.t=gr,br.length&&(Sr.R=br),Sr.a=Rr,Yr.push(Sr)}else xr[0].charAt(xr[0].length-2)!=="/"&&nr.push([xr[3],!1]);Rr="",Tr=0,gr="",vr=0,br=[];break;case"creator":xr[1]==="/"?Rr=rr.slice(Tr,xr.index):Tr=xr.index+xr[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(xr[1]==="/"){if((ar=nr.pop())[0]!==xr[3])throw"Bad state: "+ar}else xr[0].charAt(xr[0].length-2)!=="/"&&nr.push([xr[3],!1]);gr="",vr=0,br=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(xr[1]==="/"){if(Cr[ir.name]=or,(ar=nr.pop())[0]!==xr[3])throw"Bad state: "+ar}else xr[0].charAt(xr[0].length-2)!=="/"&&(or="",ir=parsexmltag(xr[0],!1),nr.push([xr[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(nr[nr.length-1][0]){case"time-style":case"date-style":sr=parsexmltag(xr[0],!1),or+=number_formats_ods[xr[3]][sr.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(nr[nr.length-1][0]){case"time-style":case"date-style":sr=parsexmltag(xr[0],!1),or+=number_formats_ods[xr[3]][sr.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(xr[0].slice(-2)==="/>")break;if(xr[1]==="/")switch(nr[nr.length-1][0]){case"number-style":case"date-style":case"time-style":or+=rr.slice(lr,xr.index);break}else lr=xr.index+xr[0].length;break;case"named-range":sr=parsexmltag(xr[0],!1),tn=ods_to_csf_3D(sr["cell-range-address"]);var sn={Name:sr.name,Ref:tn[0]+"!"+tn[1]};Mr&&(sn.Sheet=fr.length),Vr.Names.push(sn);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(nr[nr.length-1][0])>-1)break;if(xr[1]==="/"&&(!hr||!hr["string-value"])){var un=parse_text_p(rr.slice(vr,xr.index));gr=(gr.length>0?gr+`
`:"")+un[0]}else parsexmltag(xr[0],!1),vr=xr.index+xr[0].length;break;case"s":break;case"database-range":if(xr[1]==="/")break;try{tn=ods_to_csf_3D(parsexmltag(xr[0])["target-range-address"]),dr[tn[0]]["!autofilter"]={ref:tn[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(xr[1]!=="/"){if(Jr=parsexmltag(xr[0],!1),!Jr.href)break;Jr.Target=unescapexml(Jr.href),delete Jr.href,Jr.Target.charAt(0)=="#"&&Jr.Target.indexOf(".")>-1?(tn=ods_to_csf_3D(Jr.Target.slice(1)),Jr.Target="#"+tn[0]+"!"+tn[1]):Jr.Target.match(/^\.\.[\\\/]/)&&(Jr.Target=Jr.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(xr[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(tr.WTF)throw new Error(xr)}}var Nr={Sheets:dr,SheetNames:fr,Workbook:Vr};return tr.bookSheets&&delete Nr.Sheets,Nr}function parse_ods(St,er){er=er||{},safegetzipfile(St,"META-INF/manifest.xml")&&parse_manifest(getzipdata(St,"META-INF/manifest.xml"),er);var tr=getzipstr(St,"content.xml");if(!tr)throw new Error("Missing content.xml in ODS / UOF file");var rr=parse_content_xml(utf8read(tr),er);return safegetzipfile(St,"meta.xml")&&(rr.Props=parse_core_props(getzipdata(St,"meta.xml"))),rr}function parse_fods(St,er){return parse_content_xml(St,er)}var write_styles_ods=function(){var St=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),er="<office:document-styles "+wxt_helper({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+St+"</office:document-styles>";return function(){return XML_HEADER+er}}(),write_content_ods=function(){var St=function(ar){return escapexml(ar).replace(/  +/g,function(sr){return'<text:s text:c="'+sr.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},er=`          <table:table-cell />
`,tr=`          <table:covered-table-cell/>
`,rr=function(ar,sr,ir){var or=[];or.push('      <table:table table:name="'+escapexml(sr.SheetNames[ir])+`" table:style-name="ta1">
`);var lr=0,cr=0,ur=decode_range(ar["!ref"]||"A1"),dr=ar["!merges"]||[],fr=0,mr=Array.isArray(ar);if(ar["!cols"])for(cr=0;cr<=ur.e.c;++cr)or.push("        <table:table-column"+(ar["!cols"][cr]?' table:style-name="co'+ar["!cols"][cr].ods+'"':"")+`></table:table-column>
`);var xr="",pr=ar["!rows"]||[];for(lr=0;lr<ur.s.r;++lr)xr=pr[lr]?' table:style-name="ro'+pr[lr].ods+'"':"",or.push("        <table:table-row"+xr+`></table:table-row>
`);for(;lr<=ur.e.r;++lr){for(xr=pr[lr]?' table:style-name="ro'+pr[lr].ods+'"':"",or.push("        <table:table-row"+xr+`>
`),cr=0;cr<ur.s.c;++cr)or.push(er);for(;cr<=ur.e.c;++cr){var hr=!1,gr={},vr="";for(fr=0;fr!=dr.length;++fr)if(!(dr[fr].s.c>cr)&&!(dr[fr].s.r>lr)&&!(dr[fr].e.c<cr)&&!(dr[fr].e.r<lr)){(dr[fr].s.c!=cr||dr[fr].s.r!=lr)&&(hr=!0),gr["table:number-columns-spanned"]=dr[fr].e.c-dr[fr].s.c+1,gr["table:number-rows-spanned"]=dr[fr].e.r-dr[fr].s.r+1;break}if(hr){or.push(tr);continue}var br=encode_cell({r:lr,c:cr}),yr=mr?(ar[lr]||[])[cr]:ar[br];if(yr&&yr.f&&(gr["table:formula"]=escapexml(csf_to_ods_formula(yr.f)),yr.F&&yr.F.slice(0,br.length)==br)){var Er=decode_range(yr.F);gr["table:number-matrix-columns-spanned"]=Er.e.c-Er.s.c+1,gr["table:number-matrix-rows-spanned"]=Er.e.r-Er.s.r+1}if(!yr){or.push(er);continue}switch(yr.t){case"b":vr=yr.v?"TRUE":"FALSE",gr["office:value-type"]="boolean",gr["office:boolean-value"]=yr.v?"true":"false";break;case"n":vr=yr.w||String(yr.v||0),gr["office:value-type"]="float",gr["office:value"]=yr.v||0;break;case"s":case"str":vr=yr.v==null?"":yr.v,gr["office:value-type"]="string";break;case"d":vr=yr.w||parseDate(yr.v).toISOString(),gr["office:value-type"]="date",gr["office:date-value"]=parseDate(yr.v).toISOString(),gr["table:style-name"]="ce1";break;default:or.push(er);continue}var jr=St(vr);if(yr.l&&yr.l.Target){var _r=yr.l.Target;_r=_r.charAt(0)=="#"?"#"+csf_to_ods_3D(_r.slice(1)):_r,_r.charAt(0)!="#"&&!_r.match(/^\w+:/)&&(_r="../"+_r),jr=writextag("text:a",jr,{"xlink:href":_r.replace(/&/g,"&amp;")})}or.push("          "+writextag("table:table-cell",writextag("text:p",jr,{}),gr)+`
`)}or.push(`        </table:table-row>
`)}return or.push(`      </table:table>
`),or.join("")},nr=function(ar,sr){ar.push(` <office:automatic-styles>
`),ar.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),ar.push(`   <number:month number:style="long"/>
`),ar.push(`   <number:text>/</number:text>
`),ar.push(`   <number:day number:style="long"/>
`),ar.push(`   <number:text>/</number:text>
`),ar.push(`   <number:year/>
`),ar.push(`  </number:date-style>
`);var ir=0;sr.SheetNames.map(function(lr){return sr.Sheets[lr]}).forEach(function(lr){if(lr&&lr["!cols"]){for(var cr=0;cr<lr["!cols"].length;++cr)if(lr["!cols"][cr]){var ur=lr["!cols"][cr];if(ur.width==null&&ur.wpx==null&&ur.wch==null)continue;process_col(ur),ur.ods=ir;var dr=lr["!cols"][cr].wpx+"px";ar.push('  <style:style style:name="co'+ir+`" style:family="table-column">
`),ar.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+dr+`"/>
`),ar.push(`  </style:style>
`),++ir}}});var or=0;sr.SheetNames.map(function(lr){return sr.Sheets[lr]}).forEach(function(lr){if(lr&&lr["!rows"]){for(var cr=0;cr<lr["!rows"].length;++cr)if(lr["!rows"][cr]){lr["!rows"][cr].ods=or;var ur=lr["!rows"][cr].hpx+"px";ar.push('  <style:style style:name="ro'+or+`" style:family="table-row">
`),ar.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+ur+`"/>
`),ar.push(`  </style:style>
`),++or}}}),ar.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),ar.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),ar.push(`  </style:style>
`),ar.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),ar.push(` </office:automatic-styles>
`)};return function(sr,ir){var or=[XML_HEADER],lr=wxt_helper({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),cr=wxt_helper({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});ir.bookType=="fods"?(or.push("<office:document"+lr+cr+`>
`),or.push(write_meta_ods().replace(/office:document-meta/g,"office:meta"))):or.push("<office:document-content"+lr+`>
`),nr(or,sr),or.push(`  <office:body>
`),or.push(`    <office:spreadsheet>
`);for(var ur=0;ur!=sr.SheetNames.length;++ur)or.push(rr(sr.Sheets[sr.SheetNames[ur]],sr,ur));return or.push(`    </office:spreadsheet>
`),or.push(`  </office:body>
`),ir.bookType=="fods"?or.push("</office:document>"):or.push("</office:document-content>"),or.join("")}}();function write_ods(St,er){if(er.bookType=="fods")return write_content_ods(St,er);var tr=zip_new(),rr="",nr=[],ar=[];return rr="mimetype",zip_add_file(tr,rr,"application/vnd.oasis.opendocument.spreadsheet"),rr="content.xml",zip_add_file(tr,rr,write_content_ods(St,er)),nr.push([rr,"text/xml"]),ar.push([rr,"ContentFile"]),rr="styles.xml",zip_add_file(tr,rr,write_styles_ods(St,er)),nr.push([rr,"text/xml"]),ar.push([rr,"StylesFile"]),rr="meta.xml",zip_add_file(tr,rr,XML_HEADER+write_meta_ods()),nr.push([rr,"text/xml"]),ar.push([rr,"MetadataFile"]),rr="manifest.rdf",zip_add_file(tr,rr,write_rdf(ar)),nr.push([rr,"application/rdf+xml"]),rr="META-INF/manifest.xml",zip_add_file(tr,rr,write_manifest(nr)),tr}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function u8_to_dataview(St){return new DataView(St.buffer,St.byteOffset,St.byteLength)}function u8str(St){return typeof TextDecoder<"u"?new TextDecoder().decode(St):utf8read(a2s(St))}function stru8(St){return typeof TextEncoder<"u"?new TextEncoder().encode(St):s2a(utf8write(St))}function u8contains(St,er){e:for(var tr=0;tr<=St.length-er.length;++tr){for(var rr=0;rr<er.length;++rr)if(St[tr+rr]!=er[rr])continue e;return!0}return!1}function u8concat(St){var er=St.reduce(function(nr,ar){return nr+ar.length},0),tr=new Uint8Array(er),rr=0;return St.forEach(function(nr){tr.set(nr,rr),rr+=nr.length}),tr}function popcnt(St){return St-=St>>1&1431655765,St=(St&858993459)+(St>>2&858993459),(St+(St>>4)&252645135)*16843009>>>24}function readDecimal128LE(St,er){for(var tr=(St[er+15]&127)<<7|St[er+14]>>1,rr=St[er+14]&1,nr=er+13;nr>=er;--nr)rr=rr*256+St[nr];return(St[er+15]&128?-rr:rr)*Math.pow(10,tr-6176)}function writeDecimal128LE(St,er,tr){var rr=Math.floor(tr==0?0:Math.LOG10E*Math.log(Math.abs(tr)))+6176-20,nr=tr/Math.pow(10,rr-6176);St[er+15]|=rr>>7,St[er+14]|=(rr&127)<<1;for(var ar=0;nr>=1;++ar,nr/=256)St[er+ar]=nr&255;St[er+15]|=tr>=0?0:128}function parse_varint49(St,er){var tr=er?er[0]:0,rr=St[tr]&127;e:if(St[tr++]>=128&&(rr|=(St[tr]&127)<<7,St[tr++]<128||(rr|=(St[tr]&127)<<14,St[tr++]<128)||(rr|=(St[tr]&127)<<21,St[tr++]<128)||(rr+=(St[tr]&127)*Math.pow(2,28),++tr,St[tr++]<128)||(rr+=(St[tr]&127)*Math.pow(2,35),++tr,St[tr++]<128)||(rr+=(St[tr]&127)*Math.pow(2,42),++tr,St[tr++]<128)))break e;return er&&(er[0]=tr),rr}function write_varint49(St){var er=new Uint8Array(7);er[0]=St&127;var tr=1;e:if(St>127){if(er[tr-1]|=128,er[tr]=St>>7&127,++tr,St<=16383||(er[tr-1]|=128,er[tr]=St>>14&127,++tr,St<=2097151)||(er[tr-1]|=128,er[tr]=St>>21&127,++tr,St<=268435455)||(er[tr-1]|=128,er[tr]=St/256>>>21&127,++tr,St<=34359738367)||(er[tr-1]|=128,er[tr]=St/65536>>>21&127,++tr,St<=4398046511103))break e;er[tr-1]|=128,er[tr]=St/16777216>>>21&127,++tr}return er.slice(0,tr)}function varint_to_i32(St){var er=0,tr=St[er]&127;e:if(St[er++]>=128){if(tr|=(St[er]&127)<<7,St[er++]<128||(tr|=(St[er]&127)<<14,St[er++]<128)||(tr|=(St[er]&127)<<21,St[er++]<128))break e;tr|=(St[er]&127)<<28}return tr}function parse_shallow(St){for(var er=[],tr=[0];tr[0]<St.length;){var rr=tr[0],nr=parse_varint49(St,tr),ar=nr&7;nr=Math.floor(nr/8);var sr=0,ir;if(nr==0)break;switch(ar){case 0:{for(var or=tr[0];St[tr[0]++]>=128;);ir=St.slice(or,tr[0])}break;case 5:sr=4,ir=St.slice(tr[0],tr[0]+sr),tr[0]+=sr;break;case 1:sr=8,ir=St.slice(tr[0],tr[0]+sr),tr[0]+=sr;break;case 2:sr=parse_varint49(St,tr),ir=St.slice(tr[0],tr[0]+sr),tr[0]+=sr;break;case 3:case 4:default:throw new Error("PB Type ".concat(ar," for Field ").concat(nr," at offset ").concat(rr))}var lr={data:ir,type:ar};er[nr]==null?er[nr]=[lr]:er[nr].push(lr)}return er}function write_shallow(St){var er=[];return St.forEach(function(tr,rr){tr.forEach(function(nr){nr.data&&(er.push(write_varint49(rr*8+nr.type)),nr.type==2&&er.push(write_varint49(nr.data.length)),er.push(nr.data))})}),u8concat(er)}function mappa(St,er){return(St==null?void 0:St.map(function(tr){return er(tr.data)}))||[]}function parse_iwa_file(St){for(var er,tr=[],rr=[0];rr[0]<St.length;){var nr=parse_varint49(St,rr),ar=parse_shallow(St.slice(rr[0],rr[0]+nr));rr[0]+=nr;var sr={id:varint_to_i32(ar[1][0].data),messages:[]};ar[2].forEach(function(ir){var or=parse_shallow(ir.data),lr=varint_to_i32(or[3][0].data);sr.messages.push({meta:or,data:St.slice(rr[0],rr[0]+lr)}),rr[0]+=lr}),(er=ar[3])!=null&&er[0]&&(sr.merge=varint_to_i32(ar[3][0].data)>>>0>0),tr.push(sr)}return tr}function write_iwa_file(St){var er=[];return St.forEach(function(tr){var rr=[];rr[1]=[{data:write_varint49(tr.id),type:0}],rr[2]=[],tr.merge!=null&&(rr[3]=[{data:write_varint49(+!!tr.merge),type:0}]);var nr=[];tr.messages.forEach(function(sr){nr.push(sr.data),sr.meta[3]=[{type:0,data:write_varint49(sr.data.length)}],rr[2].push({data:write_shallow(sr.meta),type:2})});var ar=write_shallow(rr);er.push(write_varint49(ar.length)),er.push(ar),nr.forEach(function(sr){return er.push(sr)})}),u8concat(er)}function parse_snappy_chunk(St,er){if(St!=0)throw new Error("Unexpected Snappy chunk type ".concat(St));for(var tr=[0],rr=parse_varint49(er,tr),nr=[];tr[0]<er.length;){var ar=er[tr[0]]&3;if(ar==0){var sr=er[tr[0]++]>>2;if(sr<60)++sr;else{var ir=sr-59;sr=er[tr[0]],ir>1&&(sr|=er[tr[0]+1]<<8),ir>2&&(sr|=er[tr[0]+2]<<16),ir>3&&(sr|=er[tr[0]+3]<<24),sr>>>=0,sr++,tr[0]+=ir}nr.push(er.slice(tr[0],tr[0]+sr)),tr[0]+=sr;continue}else{var or=0,lr=0;if(ar==1?(lr=(er[tr[0]]>>2&7)+4,or=(er[tr[0]++]&224)<<3,or|=er[tr[0]++]):(lr=(er[tr[0]++]>>2)+1,ar==2?(or=er[tr[0]]|er[tr[0]+1]<<8,tr[0]+=2):(or=(er[tr[0]]|er[tr[0]+1]<<8|er[tr[0]+2]<<16|er[tr[0]+3]<<24)>>>0,tr[0]+=4)),nr=[u8concat(nr)],or==0)throw new Error("Invalid offset 0");if(or>nr[0].length)throw new Error("Invalid offset beyond length");if(lr>=or)for(nr.push(nr[0].slice(-or)),lr-=or;lr>=nr[nr.length-1].length;)nr.push(nr[nr.length-1]),lr-=nr[nr.length-1].length;nr.push(nr[0].slice(-or,-or+lr))}}var cr=u8concat(nr);if(cr.length!=rr)throw new Error("Unexpected length: ".concat(cr.length," != ").concat(rr));return cr}function decompress_iwa_file(St){for(var er=[],tr=0;tr<St.length;){var rr=St[tr++],nr=St[tr]|St[tr+1]<<8|St[tr+2]<<16;tr+=3,er.push(parse_snappy_chunk(rr,St.slice(tr,tr+nr))),tr+=nr}if(tr!==St.length)throw new Error("data is not a valid framed stream!");return u8concat(er)}function compress_iwa_file(St){for(var er=[],tr=0;tr<St.length;){var rr=Math.min(St.length-tr,268435455),nr=new Uint8Array(4);er.push(nr);var ar=write_varint49(rr),sr=ar.length;er.push(ar),rr<=60?(sr++,er.push(new Uint8Array([rr-1<<2]))):rr<=256?(sr+=2,er.push(new Uint8Array([240,rr-1&255]))):rr<=65536?(sr+=3,er.push(new Uint8Array([244,rr-1&255,rr-1>>8&255]))):rr<=16777216?(sr+=4,er.push(new Uint8Array([248,rr-1&255,rr-1>>8&255,rr-1>>16&255]))):rr<=4294967296&&(sr+=5,er.push(new Uint8Array([252,rr-1&255,rr-1>>8&255,rr-1>>16&255,rr-1>>>24&255]))),er.push(St.slice(tr,tr+rr)),sr+=rr,nr[0]=0,nr[1]=sr&255,nr[2]=sr>>8&255,nr[3]=sr>>16&255,tr+=rr}return u8concat(er)}function parse_old_storage(St,er,tr,rr){var nr=u8_to_dataview(St),ar=nr.getUint32(4,!0),sr=(rr>1?12:8)+popcnt(ar&(rr>1?3470:398))*4,ir=-1,or=-1,lr=NaN,cr=new Date(2001,0,1);ar&512&&(ir=nr.getUint32(sr,!0),sr+=4),sr+=popcnt(ar&(rr>1?12288:4096))*4,ar&16&&(or=nr.getUint32(sr,!0),sr+=4),ar&32&&(lr=nr.getFloat64(sr,!0),sr+=8),ar&64&&(cr.setTime(cr.getTime()+nr.getFloat64(sr,!0)*1e3),sr+=8);var ur;switch(St[2]){case 0:break;case 2:ur={t:"n",v:lr};break;case 3:ur={t:"s",v:er[or]};break;case 5:ur={t:"d",v:cr};break;case 6:ur={t:"b",v:lr>0};break;case 7:ur={t:"n",v:lr/86400};break;case 8:ur={t:"e",v:0};break;case 9:if(ir>-1)ur={t:"s",v:tr[ir]};else if(or>-1)ur={t:"s",v:er[or]};else if(!isNaN(lr))ur={t:"n",v:lr};else throw new Error("Unsupported cell type ".concat(St.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(St.slice(0,4)))}return ur}function parse_new_storage(St,er,tr){var rr=u8_to_dataview(St),nr=rr.getUint32(8,!0),ar=12,sr=-1,ir=-1,or=NaN,lr=NaN,cr=new Date(2001,0,1);nr&1&&(or=readDecimal128LE(St,ar),ar+=16),nr&2&&(lr=rr.getFloat64(ar,!0),ar+=8),nr&4&&(cr.setTime(cr.getTime()+rr.getFloat64(ar,!0)*1e3),ar+=8),nr&8&&(ir=rr.getUint32(ar,!0),ar+=4),nr&16&&(sr=rr.getUint32(ar,!0),ar+=4);var ur;switch(St[1]){case 0:break;case 2:ur={t:"n",v:or};break;case 3:ur={t:"s",v:er[ir]};break;case 5:ur={t:"d",v:cr};break;case 6:ur={t:"b",v:lr>0};break;case 7:ur={t:"n",v:lr/86400};break;case 8:ur={t:"e",v:0};break;case 9:if(sr>-1)ur={t:"s",v:tr[sr]};else throw new Error("Unsupported cell type ".concat(St[1]," : ").concat(nr&31," : ").concat(St.slice(0,4)));break;case 10:ur={t:"n",v:or};break;default:throw new Error("Unsupported cell type ".concat(St[1]," : ").concat(nr&31," : ").concat(St.slice(0,4)))}return ur}function write_new_storage(St,er){var tr=new Uint8Array(32),rr=u8_to_dataview(tr),nr=12,ar=0;switch(tr[0]=5,St.t){case"n":tr[1]=2,writeDecimal128LE(tr,nr,St.v),ar|=1,nr+=16;break;case"b":tr[1]=6,rr.setFloat64(nr,St.v?1:0,!0),ar|=2,nr+=8;break;case"s":if(er.indexOf(St.v)==-1)throw new Error("Value ".concat(St.v," missing from SST!"));tr[1]=3,rr.setUint32(nr,er.indexOf(St.v),!0),ar|=8,nr+=4;break;default:throw"unsupported cell type "+St.t}return rr.setUint32(8,ar,!0),tr.slice(0,nr)}function write_old_storage(St,er){var tr=new Uint8Array(32),rr=u8_to_dataview(tr),nr=12,ar=0;switch(tr[0]=3,St.t){case"n":tr[2]=2,rr.setFloat64(nr,St.v,!0),ar|=32,nr+=8;break;case"b":tr[2]=6,rr.setFloat64(nr,St.v?1:0,!0),ar|=32,nr+=8;break;case"s":if(er.indexOf(St.v)==-1)throw new Error("Value ".concat(St.v," missing from SST!"));tr[2]=3,rr.setUint32(nr,er.indexOf(St.v),!0),ar|=16,nr+=4;break;default:throw"unsupported cell type "+St.t}return rr.setUint32(4,ar,!0),tr.slice(0,nr)}function parse_cell_storage(St,er,tr){switch(St[0]){case 0:case 1:case 2:case 3:return parse_old_storage(St,er,tr,St[0]);case 5:return parse_new_storage(St,er,tr);default:throw new Error("Unsupported payload version ".concat(St[0]))}}function parse_TSP_Reference(St){var er=parse_shallow(St);return parse_varint49(er[1][0].data)}function parse_TST_TableDataList(St,er){var tr=parse_shallow(er.data),rr=varint_to_i32(tr[1][0].data),nr=tr[3],ar=[];return(nr||[]).forEach(function(sr){var ir=parse_shallow(sr.data),or=varint_to_i32(ir[1][0].data)>>>0;switch(rr){case 1:ar[or]=u8str(ir[3][0].data);break;case 8:{var lr=St[parse_TSP_Reference(ir[9][0].data)][0],cr=parse_shallow(lr.data),ur=St[parse_TSP_Reference(cr[1][0].data)][0],dr=varint_to_i32(ur.meta[1][0].data);if(dr!=2001)throw new Error("2000 unexpected reference to ".concat(dr));var fr=parse_shallow(ur.data);ar[or]=fr[3].map(function(mr){return u8str(mr.data)}).join("")}break}}),ar}function parse_TST_TileRowInfo(St,er){var tr,rr,nr,ar,sr,ir,or,lr,cr,ur,dr,fr,mr,xr,pr=parse_shallow(St),hr=varint_to_i32(pr[1][0].data)>>>0,gr=varint_to_i32(pr[2][0].data)>>>0,vr=((rr=(tr=pr[8])==null?void 0:tr[0])==null?void 0:rr.data)&&varint_to_i32(pr[8][0].data)>0||!1,br,yr;if((ar=(nr=pr[7])==null?void 0:nr[0])!=null&&ar.data&&er!=0)br=(ir=(sr=pr[7])==null?void 0:sr[0])==null?void 0:ir.data,yr=(lr=(or=pr[6])==null?void 0:or[0])==null?void 0:lr.data;else if((ur=(cr=pr[4])==null?void 0:cr[0])!=null&&ur.data&&er!=1)br=(fr=(dr=pr[4])==null?void 0:dr[0])==null?void 0:fr.data,yr=(xr=(mr=pr[3])==null?void 0:mr[0])==null?void 0:xr.data;else throw"NUMBERS Tile missing ".concat(er," cell storage");for(var Er=vr?4:1,jr=u8_to_dataview(br),_r=[],Cr=0;Cr<br.length/2;++Cr){var Or=jr.getUint16(Cr*2,!0);Or<65535&&_r.push([Cr,Or])}if(_r.length!=gr)throw"Expected ".concat(gr," cells, found ").concat(_r.length);var Pr=[];for(Cr=0;Cr<_r.length-1;++Cr)Pr[_r[Cr][0]]=yr.subarray(_r[Cr][1]*Er,_r[Cr+1][1]*Er);return _r.length>=1&&(Pr[_r[_r.length-1][0]]=yr.subarray(_r[_r.length-1][1]*Er)),{R:hr,cells:Pr}}function parse_TST_Tile(St,er){var tr,rr=parse_shallow(er.data),nr=(tr=rr==null?void 0:rr[7])!=null&&tr[0]?varint_to_i32(rr[7][0].data)>>>0>0?1:0:-1,ar=mappa(rr[5],function(sr){return parse_TST_TileRowInfo(sr,nr)});return{nrows:varint_to_i32(rr[4][0].data)>>>0,data:ar.reduce(function(sr,ir){return sr[ir.R]||(sr[ir.R]=[]),ir.cells.forEach(function(or,lr){if(sr[ir.R][lr])throw new Error("Duplicate cell r=".concat(ir.R," c=").concat(lr));sr[ir.R][lr]=or}),sr},[])}}function parse_TST_TableModelArchive(St,er,tr){var rr,nr=parse_shallow(er.data),ar={s:{r:0,c:0},e:{r:0,c:0}};if(ar.e.r=(varint_to_i32(nr[6][0].data)>>>0)-1,ar.e.r<0)throw new Error("Invalid row varint ".concat(nr[6][0].data));if(ar.e.c=(varint_to_i32(nr[7][0].data)>>>0)-1,ar.e.c<0)throw new Error("Invalid col varint ".concat(nr[7][0].data));tr["!ref"]=encode_range(ar);var sr=parse_shallow(nr[4][0].data),ir=parse_TST_TableDataList(St,St[parse_TSP_Reference(sr[4][0].data)][0]),or=(rr=sr[17])!=null&&rr[0]?parse_TST_TableDataList(St,St[parse_TSP_Reference(sr[17][0].data)][0]):[],lr=parse_shallow(sr[3][0].data),cr=0;lr[1].forEach(function(ur){var dr=parse_shallow(ur.data),fr=St[parse_TSP_Reference(dr[2][0].data)][0],mr=varint_to_i32(fr.meta[1][0].data);if(mr!=6002)throw new Error("6001 unexpected reference to ".concat(mr));var xr=parse_TST_Tile(St,fr);xr.data.forEach(function(pr,hr){pr.forEach(function(gr,vr){var br=encode_cell({r:cr+hr,c:vr}),yr=parse_cell_storage(gr,ir,or);yr&&(tr[br]=yr)})}),cr+=xr.nrows})}function parse_TST_TableInfoArchive(St,er){var tr=parse_shallow(er.data),rr={"!ref":"A1"},nr=St[parse_TSP_Reference(tr[2][0].data)],ar=varint_to_i32(nr[0].meta[1][0].data);if(ar!=6001)throw new Error("6000 unexpected reference to ".concat(ar));return parse_TST_TableModelArchive(St,nr[0],rr),rr}function parse_TN_SheetArchive(St,er){var tr,rr=parse_shallow(er.data),nr={name:(tr=rr[1])!=null&&tr[0]?u8str(rr[1][0].data):"",sheets:[]},ar=mappa(rr[2],parse_TSP_Reference);return ar.forEach(function(sr){St[sr].forEach(function(ir){var or=varint_to_i32(ir.meta[1][0].data);or==6e3&&nr.sheets.push(parse_TST_TableInfoArchive(St,ir))})}),nr}function parse_TN_DocumentArchive(St,er){var tr=book_new(),rr=parse_shallow(er.data),nr=mappa(rr[1],parse_TSP_Reference);if(nr.forEach(function(ar){St[ar].forEach(function(sr){var ir=varint_to_i32(sr.meta[1][0].data);if(ir==2){var or=parse_TN_SheetArchive(St,sr);or.sheets.forEach(function(lr,cr){book_append_sheet(tr,lr,cr==0?or.name:or.name+"_"+cr,!0)})}})}),tr.SheetNames.length==0)throw new Error("Empty NUMBERS file");return tr}function parse_numbers_iwa(St){var er,tr,rr,nr,ar={},sr=[];if(St.FullPaths.forEach(function(or){if(or.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),St.FileIndex.forEach(function(or){if(or.name.match(/\.iwa$/)){var lr;try{lr=decompress_iwa_file(or.content)}catch(ur){return console.log("?? "+or.content.length+" "+(ur.message||ur))}var cr;try{cr=parse_iwa_file(lr)}catch(ur){return console.log("## "+(ur.message||ur))}cr.forEach(function(ur){ar[ur.id]=ur.messages,sr.push(ur.id)})}}),!sr.length)throw new Error("File has no messages");var ir=((nr=(rr=(tr=(er=ar==null?void 0:ar[1])==null?void 0:er[0])==null?void 0:tr.meta)==null?void 0:rr[1])==null?void 0:nr[0].data)&&varint_to_i32(ar[1][0].meta[1][0].data)==1&&ar[1][0];if(ir||sr.forEach(function(or){ar[or].forEach(function(lr){var cr=varint_to_i32(lr.meta[1][0].data)>>>0;if(cr==1)if(!ir)ir=lr;else throw new Error("Document has multiple roots")})}),!ir)throw new Error("Cannot find Document root");return parse_TN_DocumentArchive(ar,ir)}function write_tile_row(St,er,tr){var rr,nr,ar,sr;if(!((rr=St[6])!=null&&rr[0])||!((nr=St[7])!=null&&nr[0]))throw"Mutation only works on post-BNC storages!";var ir=((sr=(ar=St[8])==null?void 0:ar[0])==null?void 0:sr.data)&&varint_to_i32(St[8][0].data)>0||!1;if(ir)throw"Math only works with normal offsets";for(var or=0,lr=u8_to_dataview(St[7][0].data),cr=0,ur=[],dr=u8_to_dataview(St[4][0].data),fr=0,mr=[],xr=0;xr<er.length;++xr){if(er[xr]==null){lr.setUint16(xr*2,65535,!0),dr.setUint16(xr*2,65535);continue}lr.setUint16(xr*2,cr,!0),dr.setUint16(xr*2,fr,!0);var pr,hr;switch(typeof er[xr]){case"string":pr=write_new_storage({t:"s",v:er[xr]},tr),hr=write_old_storage({t:"s",v:er[xr]},tr);break;case"number":pr=write_new_storage({t:"n",v:er[xr]},tr),hr=write_old_storage({t:"n",v:er[xr]},tr);break;case"boolean":pr=write_new_storage({t:"b",v:er[xr]},tr),hr=write_old_storage({t:"b",v:er[xr]},tr);break;default:throw new Error("Unsupported value "+er[xr])}ur.push(pr),cr+=pr.length,mr.push(hr),fr+=hr.length,++or}for(St[2][0].data=write_varint49(or);xr<St[7][0].data.length/2;++xr)lr.setUint16(xr*2,65535,!0),dr.setUint16(xr*2,65535,!0);return St[6][0].data=u8concat(ur),St[3][0].data=u8concat(mr),or}function write_numbers_iwa(St,er){if(!er||!er.numbers)throw new Error("Must pass a `numbers` option -- check the README");var tr=St.Sheets[St.SheetNames[0]];St.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var rr=decode_range(tr["!ref"]);rr.s.r=rr.s.c=0;var nr=!1;rr.e.c>9&&(nr=!0,rr.e.c=9),rr.e.r>49&&(nr=!0,rr.e.r=49),nr&&console.error("The Numbers writer is currently limited to ".concat(encode_range(rr)));var ar=sheet_to_json(tr,{range:rr,header:1}),sr=["~Sh33tJ5~"];ar.forEach(function(Rr){return Rr.forEach(function(Tr){typeof Tr=="string"&&sr.push(Tr)})});var ir={},or=[],lr=CFB.read(er.numbers,{type:"base64"});lr.FileIndex.map(function(Rr,Tr){return[Rr,lr.FullPaths[Tr]]}).forEach(function(Rr){var Tr=Rr[0],Dr=Rr[1];if(Tr.type==2&&Tr.name.match(/\.iwa/)){var Mr=Tr.content,Br=decompress_iwa_file(Mr),qr=parse_iwa_file(Br);qr.forEach(function(Wr){or.push(Wr.id),ir[Wr.id]={deps:[],location:Dr,type:varint_to_i32(Wr.messages[0].meta[1][0].data)}})}}),or.sort(function(Rr,Tr){return Rr-Tr});var cr=or.filter(function(Rr){return Rr>1}).map(function(Rr){return[Rr,write_varint49(Rr)]});lr.FileIndex.map(function(Rr,Tr){return[Rr,lr.FullPaths[Tr]]}).forEach(function(Rr){var Tr=Rr[0];if(Rr[1],!!Tr.name.match(/\.iwa/)){var Dr=parse_iwa_file(decompress_iwa_file(Tr.content));Dr.forEach(function(Mr){Mr.messages.forEach(function(Br){cr.forEach(function(qr){Mr.messages.some(function(Wr){return varint_to_i32(Wr.meta[1][0].data)!=11006&&u8contains(Wr.data,qr[1])})&&ir[qr[0]].deps.push(Mr.id)})})})}});for(var ur=CFB.find(lr,ir[1].location),dr=parse_iwa_file(decompress_iwa_file(ur.content)),fr,mr=0;mr<dr.length;++mr){var xr=dr[mr];xr.id==1&&(fr=xr)}var pr=parse_TSP_Reference(parse_shallow(fr.messages[0].data)[1][0].data);for(ur=CFB.find(lr,ir[pr].location),dr=parse_iwa_file(decompress_iwa_file(ur.content)),mr=0;mr<dr.length;++mr)xr=dr[mr],xr.id==pr&&(fr=xr);for(pr=parse_TSP_Reference(parse_shallow(fr.messages[0].data)[2][0].data),ur=CFB.find(lr,ir[pr].location),dr=parse_iwa_file(decompress_iwa_file(ur.content)),mr=0;mr<dr.length;++mr)xr=dr[mr],xr.id==pr&&(fr=xr);for(pr=parse_TSP_Reference(parse_shallow(fr.messages[0].data)[2][0].data),ur=CFB.find(lr,ir[pr].location),dr=parse_iwa_file(decompress_iwa_file(ur.content)),mr=0;mr<dr.length;++mr)xr=dr[mr],xr.id==pr&&(fr=xr);var hr=parse_shallow(fr.messages[0].data);{hr[6][0].data=write_varint49(rr.e.r+1),hr[7][0].data=write_varint49(rr.e.c+1);var gr=parse_TSP_Reference(hr[46][0].data),vr=CFB.find(lr,ir[gr].location),br=parse_iwa_file(decompress_iwa_file(vr.content));{for(var yr=0;yr<br.length&&br[yr].id!=gr;++yr);if(br[yr].id!=gr)throw"Bad ColumnRowUIDMapArchive";var Er=parse_shallow(br[yr].messages[0].data);Er[1]=[],Er[2]=[],Er[3]=[];for(var jr=0;jr<=rr.e.c;++jr){var _r=[];_r[1]=_r[2]=[{type:0,data:write_varint49(jr+420690)}],Er[1].push({type:2,data:write_shallow(_r)}),Er[2].push({type:0,data:write_varint49(jr)}),Er[3].push({type:0,data:write_varint49(jr)})}Er[4]=[],Er[5]=[],Er[6]=[];for(var Cr=0;Cr<=rr.e.r;++Cr)_r=[],_r[1]=_r[2]=[{type:0,data:write_varint49(Cr+726270)}],Er[4].push({type:2,data:write_shallow(_r)}),Er[5].push({type:0,data:write_varint49(Cr)}),Er[6].push({type:0,data:write_varint49(Cr)});br[yr].messages[0].data=write_shallow(Er)}vr.content=compress_iwa_file(write_iwa_file(br)),vr.size=vr.content.length,delete hr[46];var Or=parse_shallow(hr[4][0].data);{Or[7][0].data=write_varint49(rr.e.r+1);var Pr=parse_shallow(Or[1][0].data),Lr=parse_TSP_Reference(Pr[2][0].data);vr=CFB.find(lr,ir[Lr].location),br=parse_iwa_file(decompress_iwa_file(vr.content));{if(br[0].id!=Lr)throw"Bad HeaderStorageBucket";var Gr=parse_shallow(br[0].messages[0].data);for(Cr=0;Cr<ar.length;++Cr){var Kr=parse_shallow(Gr[2][0].data);Kr[1][0].data=write_varint49(Cr),Kr[4][0].data=write_varint49(ar[Cr].length),Gr[2][Cr]={type:Gr[2][0].type,data:write_shallow(Kr)}}br[0].messages[0].data=write_shallow(Gr)}vr.content=compress_iwa_file(write_iwa_file(br)),vr.size=vr.content.length;var nn=parse_TSP_Reference(Or[2][0].data);vr=CFB.find(lr,ir[nn].location),br=parse_iwa_file(decompress_iwa_file(vr.content));{if(br[0].id!=nn)throw"Bad HeaderStorageBucket";for(Gr=parse_shallow(br[0].messages[0].data),jr=0;jr<=rr.e.c;++jr)Kr=parse_shallow(Gr[2][0].data),Kr[1][0].data=write_varint49(jr),Kr[4][0].data=write_varint49(rr.e.r+1),Gr[2][jr]={type:Gr[2][0].type,data:write_shallow(Kr)};br[0].messages[0].data=write_shallow(Gr)}vr.content=compress_iwa_file(write_iwa_file(br)),vr.size=vr.content.length;var Qr=parse_TSP_Reference(Or[4][0].data);(function(){for(var Rr=CFB.find(lr,ir[Qr].location),Tr=parse_iwa_file(decompress_iwa_file(Rr.content)),Dr,Mr=0;Mr<Tr.length;++Mr){var Br=Tr[Mr];Br.id==Qr&&(Dr=Br)}var qr=parse_shallow(Dr.messages[0].data);{qr[3]=[];var Wr=[];sr.forEach(function(Nr,Ur){Wr[1]=[{type:0,data:write_varint49(Ur)}],Wr[2]=[{type:0,data:write_varint49(1)}],Wr[3]=[{type:2,data:stru8(Nr)}],qr[3].push({type:2,data:write_shallow(Wr)})})}Dr.messages[0].data=write_shallow(qr);var sn=write_iwa_file(Tr),un=compress_iwa_file(sn);Rr.content=un,Rr.size=Rr.content.length})();var zr=parse_shallow(Or[3][0].data);{var Vr=zr[1][0];delete zr[2];var Jr=parse_shallow(Vr.data);{var tn=parse_TSP_Reference(Jr[2][0].data);(function(){for(var Rr=CFB.find(lr,ir[tn].location),Tr=parse_iwa_file(decompress_iwa_file(Rr.content)),Dr,Mr=0;Mr<Tr.length;++Mr){var Br=Tr[Mr];Br.id==tn&&(Dr=Br)}var qr=parse_shallow(Dr.messages[0].data);{delete qr[6],delete zr[7];var Wr=new Uint8Array(qr[5][0].data);qr[5]=[];for(var sn=0,un=0;un<=rr.e.r;++un){var Nr=parse_shallow(Wr);sn+=write_tile_row(Nr,ar[un],sr),Nr[1][0].data=write_varint49(un),qr[5].push({data:write_shallow(Nr),type:2})}qr[1]=[{type:0,data:write_varint49(rr.e.c+1)}],qr[2]=[{type:0,data:write_varint49(rr.e.r+1)}],qr[3]=[{type:0,data:write_varint49(sn)}],qr[4]=[{type:0,data:write_varint49(rr.e.r+1)}]}Dr.messages[0].data=write_shallow(qr);var Ur=write_iwa_file(Tr),en=compress_iwa_file(Ur);Rr.content=en,Rr.size=Rr.content.length})()}Vr.data=write_shallow(Jr)}Or[3][0].data=write_shallow(zr)}hr[4][0].data=write_shallow(Or)}fr.messages[0].data=write_shallow(hr);var Yr=write_iwa_file(dr),Sr=compress_iwa_file(Yr);return ur.content=Sr,ur.size=ur.content.length,lr}function fix_opts_func(St){return function(tr){for(var rr=0;rr!=St.length;++rr){var nr=St[rr];tr[nr[0]]===void 0&&(tr[nr[0]]=nr[1]),nr[2]==="n"&&(tr[nr[0]]=Number(tr[nr[0]]))}}}function fix_read_opts(St){fix_opts_func([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(St)}function fix_write_opts(St){fix_opts_func([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(St)}function get_sheet_type(St){return RELS.WS.indexOf(St)>-1?"sheet":St==RELS.CS?"chart":St==RELS.DS?"dialog":St==RELS.MS?"macro":St&&St.length?St:"sheet"}function safe_parse_wbrels(St,er){if(!St)return 0;try{St=er.map(function(rr){return rr.id||(rr.id=rr.strRelID),[rr.name,St["!id"][rr.id].Target,get_sheet_type(St["!id"][rr.id].Type)]})}catch{return null}return!St||St.length===0?null:St}function safe_parse_sheet(St,er,tr,rr,nr,ar,sr,ir,or,lr,cr,ur){try{ar[rr]=parse_rels(getzipstr(St,tr,!0),er);var dr=getzipdata(St,er),fr;switch(ir){case"sheet":fr=parse_ws(dr,er,nr,or,ar[rr],lr,cr,ur);break;case"chart":if(fr=parse_cs(dr,er,nr,or,ar[rr],lr,cr,ur),!fr||!fr["!drawel"])break;var mr=resolve_path(fr["!drawel"].Target,er),xr=get_rels_path(mr),pr=parse_drawing(getzipstr(St,mr,!0),parse_rels(getzipstr(St,xr,!0),mr)),hr=resolve_path(pr,mr),gr=get_rels_path(hr);fr=parse_chart(getzipstr(St,hr,!0),hr,or,parse_rels(getzipstr(St,gr,!0),hr),lr,fr);break;case"macro":fr=parse_ms(dr,er,nr,or,ar[rr],lr,cr,ur);break;case"dialog":fr=parse_ds(dr,er,nr,or,ar[rr],lr,cr,ur);break;default:throw new Error("Unrecognized sheet type "+ir)}sr[rr]=fr;var vr=[];ar&&ar[rr]&&keys(ar[rr]).forEach(function(br){var yr="";if(ar[rr][br].Type==RELS.CMNT){yr=resolve_path(ar[rr][br].Target,er);var Er=parse_cmnt(getzipdata(St,yr,!0),yr,or);if(!Er||!Er.length)return;sheet_insert_comments(fr,Er,!1)}ar[rr][br].Type==RELS.TCMNT&&(yr=resolve_path(ar[rr][br].Target,er),vr=vr.concat(parse_tcmnt_xml(getzipdata(St,yr,!0),or)))}),vr&&vr.length&&sheet_insert_comments(fr,vr,!0,or.people||[])}catch(br){if(or.WTF)throw br}}function strip_front_slash(St){return St.charAt(0)=="/"?St.slice(1):St}function parse_zip(St,er){if(make_ssf(),er=er||{},fix_read_opts(er),safegetzipfile(St,"META-INF/manifest.xml")||safegetzipfile(St,"objectdata.xml"))return parse_ods(St,er);if(safegetzipfile(St,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof parse_numbers_iwa<"u"){if(St.FileIndex)return parse_numbers_iwa(St);var tr=CFB.utils.cfb_new();return zipentries(St).forEach(function(Kr){zip_add_file(tr,Kr,getzipbin(St,Kr))}),parse_numbers_iwa(tr)}throw new Error("Unsupported NUMBERS file")}if(!safegetzipfile(St,"[Content_Types].xml"))throw safegetzipfile(St,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):safegetzipfile(St,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var rr=zipentries(St),nr=parse_ct(getzipstr(St,"[Content_Types].xml")),ar=!1,sr,ir;if(nr.workbooks.length===0&&(ir="xl/workbook.xml",getzipdata(St,ir,!0)&&nr.workbooks.push(ir)),nr.workbooks.length===0){if(ir="xl/workbook.bin",!getzipdata(St,ir,!0))throw new Error("Could not find workbook");nr.workbooks.push(ir),ar=!0}nr.workbooks[0].slice(-3)=="bin"&&(ar=!0);var or={},lr={};if(!er.bookSheets&&!er.bookProps){if(strs=[],nr.sst)try{strs=parse_sst(getzipdata(St,strip_front_slash(nr.sst)),nr.sst,er)}catch(Kr){if(er.WTF)throw Kr}er.cellStyles&&nr.themes.length&&(or=parse_theme(getzipstr(St,nr.themes[0].replace(/^\//,""),!0)||"",nr.themes[0],er)),nr.style&&(lr=parse_sty(getzipdata(St,strip_front_slash(nr.style)),nr.style,or,er))}nr.links.map(function(Kr){try{var nn=parse_rels(getzipstr(St,get_rels_path(strip_front_slash(Kr))),Kr);return parse_xlink(getzipdata(St,strip_front_slash(Kr)),nn,Kr,er)}catch{}});var cr=parse_wb(getzipdata(St,strip_front_slash(nr.workbooks[0])),nr.workbooks[0],er),ur={},dr="";nr.coreprops.length&&(dr=getzipdata(St,strip_front_slash(nr.coreprops[0]),!0),dr&&(ur=parse_core_props(dr)),nr.extprops.length!==0&&(dr=getzipdata(St,strip_front_slash(nr.extprops[0]),!0),dr&&parse_ext_props(dr,ur,er)));var fr={};(!er.bookSheets||er.bookProps)&&nr.custprops.length!==0&&(dr=getzipstr(St,strip_front_slash(nr.custprops[0]),!0),dr&&(fr=parse_cust_props(dr,er)));var mr={};if((er.bookSheets||er.bookProps)&&(cr.Sheets?sr=cr.Sheets.map(function(nn){return nn.name}):ur.Worksheets&&ur.SheetNames.length>0&&(sr=ur.SheetNames),er.bookProps&&(mr.Props=ur,mr.Custprops=fr),er.bookSheets&&typeof sr<"u"&&(mr.SheetNames=sr),er.bookSheets?mr.SheetNames:er.bookProps))return mr;sr={};var xr={};er.bookDeps&&nr.calcchain&&(xr=parse_cc(getzipdata(St,strip_front_slash(nr.calcchain)),nr.calcchain));var pr=0,hr={},gr,vr;{var br=cr.Sheets;ur.Worksheets=br.length,ur.SheetNames=[];for(var yr=0;yr!=br.length;++yr)ur.SheetNames[yr]=br[yr].name}var Er=ar?"bin":"xml",jr=nr.workbooks[0].lastIndexOf("/"),_r=(nr.workbooks[0].slice(0,jr+1)+"_rels/"+nr.workbooks[0].slice(jr+1)+".rels").replace(/^\//,"");safegetzipfile(St,_r)||(_r="xl/_rels/workbook."+Er+".rels");var Cr=parse_rels(getzipstr(St,_r,!0),_r.replace(/_rels.*/,"s5s"));(nr.metadata||[]).length>=1&&(er.xlmeta=parse_xlmeta(getzipdata(St,strip_front_slash(nr.metadata[0])),nr.metadata[0],er)),(nr.people||[]).length>=1&&(er.people=parse_people_xml(getzipdata(St,strip_front_slash(nr.people[0])),er)),Cr&&(Cr=safe_parse_wbrels(Cr,cr.Sheets));var Or=getzipdata(St,"xl/worksheets/sheet.xml",!0)?1:0;e:for(pr=0;pr!=ur.Worksheets;++pr){var Pr="sheet";if(Cr&&Cr[pr]?(gr="xl/"+Cr[pr][1].replace(/[\/]?xl\//,""),safegetzipfile(St,gr)||(gr=Cr[pr][1]),safegetzipfile(St,gr)||(gr=_r.replace(/_rels\/.*$/,"")+Cr[pr][1]),Pr=Cr[pr][2]):(gr="xl/worksheets/sheet"+(pr+1-Or)+"."+Er,gr=gr.replace(/sheet0\./,"sheet.")),vr=gr.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),er&&er.sheets!=null)switch(typeof er.sheets){case"number":if(pr!=er.sheets)continue e;break;case"string":if(ur.SheetNames[pr].toLowerCase()!=er.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(er.sheets)){for(var Lr=!1,Gr=0;Gr!=er.sheets.length;++Gr)typeof er.sheets[Gr]=="number"&&er.sheets[Gr]==pr&&(Lr=1),typeof er.sheets[Gr]=="string"&&er.sheets[Gr].toLowerCase()==ur.SheetNames[pr].toLowerCase()&&(Lr=1);if(!Lr)continue e}}safe_parse_sheet(St,gr,vr,ur.SheetNames[pr],pr,hr,sr,Pr,er,cr,or,lr)}return mr={Directory:nr,Workbook:cr,Props:ur,Custprops:fr,Deps:xr,Sheets:sr,SheetNames:ur.SheetNames,Strings:strs,Styles:lr,Themes:or,SSF:dup(table_fmt)},er&&er.bookFiles&&(St.files?(mr.keys=rr,mr.files=St.files):(mr.keys=[],mr.files={},St.FullPaths.forEach(function(Kr,nn){Kr=Kr.replace(/^Root Entry[\/]/,""),mr.keys.push(Kr),mr.files[Kr]=St.FileIndex[nn]}))),er&&er.bookVBA&&(nr.vba.length>0?mr.vbaraw=getzipdata(St,strip_front_slash(nr.vba[0]),!0):nr.defaults&&nr.defaults.bin===CT_VBA&&(mr.vbaraw=getzipdata(St,"xl/vbaProject.bin",!0))),mr}function parse_xlsxcfb(St,er){var tr=er||{},rr="Workbook",nr=CFB.find(St,rr);try{if(rr="/!DataSpaces/Version",nr=CFB.find(St,rr),!nr||!nr.content)throw new Error("ECMA-376 Encrypted file missing "+rr);if(parse_DataSpaceVersionInfo(nr.content),rr="/!DataSpaces/DataSpaceMap",nr=CFB.find(St,rr),!nr||!nr.content)throw new Error("ECMA-376 Encrypted file missing "+rr);var ar=parse_DataSpaceMap(nr.content);if(ar.length!==1||ar[0].comps.length!==1||ar[0].comps[0].t!==0||ar[0].name!=="StrongEncryptionDataSpace"||ar[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+rr);if(rr="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",nr=CFB.find(St,rr),!nr||!nr.content)throw new Error("ECMA-376 Encrypted file missing "+rr);var sr=parse_DataSpaceDefinition(nr.content);if(sr.length!=1||sr[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+rr);if(rr="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",nr=CFB.find(St,rr),!nr||!nr.content)throw new Error("ECMA-376 Encrypted file missing "+rr);parse_Primary(nr.content)}catch{}if(rr="/EncryptionInfo",nr=CFB.find(St,rr),!nr||!nr.content)throw new Error("ECMA-376 Encrypted file missing "+rr);var ir=parse_EncryptionInfo(nr.content);if(rr="/EncryptedPackage",nr=CFB.find(St,rr),!nr||!nr.content)throw new Error("ECMA-376 Encrypted file missing "+rr);if(ir[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(ir[1],nr.content,tr.password||"",tr);if(ir[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(ir[1],nr.content,tr.password||"",tr);throw new Error("File is password-protected")}function write_zip(St,er){return er.bookType=="ods"?write_ods(St,er):er.bookType=="numbers"?write_numbers_iwa(St,er):er.bookType=="xlsb"?write_zip_xlsxb(St,er):write_zip_xlsx(St,er)}function write_zip_xlsxb(St,er){_shapeid=1024,St&&!St.SSF&&(St.SSF=dup(table_fmt)),St&&St.SSF&&(make_ssf(),SSF_load_table(St.SSF),er.revssf=evert_num(St.SSF),er.revssf[St.SSF[65535]]=0,er.ssf=St.SSF),er.rels={},er.wbrels={},er.Strings=[],er.Strings.Count=0,er.Strings.Unique=0,browser_has_Map?er.revStrings=new Map:(er.revStrings={},er.revStrings.foo=[],delete er.revStrings.foo);var tr=er.bookType=="xlsb"?"bin":"xml",rr=VBAFMTS.indexOf(er.bookType)>-1,nr=new_ct();fix_write_opts(er=er||{});var ar=zip_new(),sr="",ir=0;if(er.cellXfs=[],get_cell_style(er.cellXfs,{},{revssf:{General:0}}),St.Props||(St.Props={}),sr="docProps/core.xml",zip_add_file(ar,sr,write_core_props(St.Props,er)),nr.coreprops.push(sr),add_rels(er.rels,2,sr,RELS.CORE_PROPS),sr="docProps/app.xml",!(St.Props&&St.Props.SheetNames))if(!St.Workbook||!St.Workbook.Sheets)St.Props.SheetNames=St.SheetNames;else{for(var or=[],lr=0;lr<St.SheetNames.length;++lr)(St.Workbook.Sheets[lr]||{}).Hidden!=2&&or.push(St.SheetNames[lr]);St.Props.SheetNames=or}for(St.Props.Worksheets=St.Props.SheetNames.length,zip_add_file(ar,sr,write_ext_props(St.Props)),nr.extprops.push(sr),add_rels(er.rels,3,sr,RELS.EXT_PROPS),St.Custprops!==St.Props&&keys(St.Custprops||{}).length>0&&(sr="docProps/custom.xml",zip_add_file(ar,sr,write_cust_props(St.Custprops)),nr.custprops.push(sr),add_rels(er.rels,4,sr,RELS.CUST_PROPS)),ir=1;ir<=St.SheetNames.length;++ir){var cr={"!id":{}},ur=St.Sheets[St.SheetNames[ir-1]],dr=(ur||{})["!type"]||"sheet";switch(dr){case"chart":default:sr="xl/worksheets/sheet"+ir+"."+tr,zip_add_file(ar,sr,write_ws(ir-1,sr,er,St,cr)),nr.sheets.push(sr),add_rels(er.wbrels,-1,"worksheets/sheet"+ir+"."+tr,RELS.WS[0])}if(ur){var fr=ur["!comments"],mr=!1,xr="";fr&&fr.length>0&&(xr="xl/comments"+ir+"."+tr,zip_add_file(ar,xr,write_cmnt(fr,xr)),nr.comments.push(xr),add_rels(cr,-1,"../comments"+ir+"."+tr,RELS.CMNT),mr=!0),ur["!legacy"]&&mr&&zip_add_file(ar,"xl/drawings/vmlDrawing"+ir+".vml",write_comments_vml(ir,ur["!comments"])),delete ur["!comments"],delete ur["!legacy"]}cr["!id"].rId1&&zip_add_file(ar,get_rels_path(sr),write_rels(cr))}return er.Strings!=null&&er.Strings.length>0&&(sr="xl/sharedStrings."+tr,zip_add_file(ar,sr,write_sst(er.Strings,sr,er)),nr.strs.push(sr),add_rels(er.wbrels,-1,"sharedStrings."+tr,RELS.SST)),sr="xl/workbook."+tr,zip_add_file(ar,sr,write_wb(St,sr)),nr.workbooks.push(sr),add_rels(er.rels,1,sr,RELS.WB),sr="xl/theme/theme1.xml",zip_add_file(ar,sr,write_theme(St.Themes,er)),nr.themes.push(sr),add_rels(er.wbrels,-1,"theme/theme1.xml",RELS.THEME),sr="xl/styles."+tr,zip_add_file(ar,sr,write_sty(St,sr,er)),nr.styles.push(sr),add_rels(er.wbrels,-1,"styles."+tr,RELS.STY),St.vbaraw&&rr&&(sr="xl/vbaProject.bin",zip_add_file(ar,sr,St.vbaraw),nr.vba.push(sr),add_rels(er.wbrels,-1,"vbaProject.bin",RELS.VBA)),sr="xl/metadata."+tr,zip_add_file(ar,sr,write_xlmeta(sr)),nr.metadata.push(sr),add_rels(er.wbrels,-1,"metadata."+tr,RELS.XLMETA),zip_add_file(ar,"[Content_Types].xml",write_ct(nr,er)),zip_add_file(ar,"_rels/.rels",write_rels(er.rels)),zip_add_file(ar,"xl/_rels/workbook."+tr+".rels",write_rels(er.wbrels)),delete er.revssf,delete er.ssf,ar}function write_zip_xlsx(St,er){_shapeid=1024,St&&!St.SSF&&(St.SSF=dup(table_fmt)),St&&St.SSF&&(make_ssf(),SSF_load_table(St.SSF),er.revssf=evert_num(St.SSF),er.revssf[St.SSF[65535]]=0,er.ssf=St.SSF),er.rels={},er.wbrels={},er.Strings=[],er.Strings.Count=0,er.Strings.Unique=0,browser_has_Map?er.revStrings=new Map:(er.revStrings={},er.revStrings.foo=[],delete er.revStrings.foo);var tr="xml",rr=VBAFMTS.indexOf(er.bookType)>-1,nr=new_ct();fix_write_opts(er=er||{});var ar=zip_new(),sr="",ir=0;if(er.cellXfs=[],get_cell_style(er.cellXfs,{},{revssf:{General:0}}),St.Props||(St.Props={}),sr="docProps/core.xml",zip_add_file(ar,sr,write_core_props(St.Props,er)),nr.coreprops.push(sr),add_rels(er.rels,2,sr,RELS.CORE_PROPS),sr="docProps/app.xml",!(St.Props&&St.Props.SheetNames))if(!St.Workbook||!St.Workbook.Sheets)St.Props.SheetNames=St.SheetNames;else{for(var or=[],lr=0;lr<St.SheetNames.length;++lr)(St.Workbook.Sheets[lr]||{}).Hidden!=2&&or.push(St.SheetNames[lr]);St.Props.SheetNames=or}St.Props.Worksheets=St.Props.SheetNames.length,zip_add_file(ar,sr,write_ext_props(St.Props)),nr.extprops.push(sr),add_rels(er.rels,3,sr,RELS.EXT_PROPS),St.Custprops!==St.Props&&keys(St.Custprops||{}).length>0&&(sr="docProps/custom.xml",zip_add_file(ar,sr,write_cust_props(St.Custprops)),nr.custprops.push(sr),add_rels(er.rels,4,sr,RELS.CUST_PROPS));var cr=["SheetJ5"];for(er.tcid=0,ir=1;ir<=St.SheetNames.length;++ir){var ur={"!id":{}},dr=St.Sheets[St.SheetNames[ir-1]],fr=(dr||{})["!type"]||"sheet";switch(fr){case"chart":default:sr="xl/worksheets/sheet"+ir+"."+tr,zip_add_file(ar,sr,write_ws_xml(ir-1,er,St,ur)),nr.sheets.push(sr),add_rels(er.wbrels,-1,"worksheets/sheet"+ir+"."+tr,RELS.WS[0])}if(dr){var mr=dr["!comments"],xr=!1,pr="";if(mr&&mr.length>0){var hr=!1;mr.forEach(function(gr){gr[1].forEach(function(vr){vr.T==!0&&(hr=!0)})}),hr&&(pr="xl/threadedComments/threadedComment"+ir+"."+tr,zip_add_file(ar,pr,write_tcmnt_xml(mr,cr,er)),nr.threadedcomments.push(pr),add_rels(ur,-1,"../threadedComments/threadedComment"+ir+"."+tr,RELS.TCMNT)),pr="xl/comments"+ir+"."+tr,zip_add_file(ar,pr,write_comments_xml(mr)),nr.comments.push(pr),add_rels(ur,-1,"../comments"+ir+"."+tr,RELS.CMNT),xr=!0}dr["!legacy"]&&xr&&zip_add_file(ar,"xl/drawings/vmlDrawing"+ir+".vml",write_comments_vml(ir,dr["!comments"])),delete dr["!comments"],delete dr["!legacy"]}ur["!id"].rId1&&zip_add_file(ar,get_rels_path(sr),write_rels(ur))}return er.Strings!=null&&er.Strings.length>0&&(sr="xl/sharedStrings."+tr,zip_add_file(ar,sr,write_sst_xml(er.Strings,er)),nr.strs.push(sr),add_rels(er.wbrels,-1,"sharedStrings."+tr,RELS.SST)),sr="xl/workbook."+tr,zip_add_file(ar,sr,write_wb_xml(St)),nr.workbooks.push(sr),add_rels(er.rels,1,sr,RELS.WB),sr="xl/theme/theme1.xml",zip_add_file(ar,sr,write_theme(St.Themes,er)),nr.themes.push(sr),add_rels(er.wbrels,-1,"theme/theme1.xml",RELS.THEME),sr="xl/styles."+tr,zip_add_file(ar,sr,write_sty_xml(St,er)),nr.styles.push(sr),add_rels(er.wbrels,-1,"styles."+tr,RELS.STY),St.vbaraw&&rr&&(sr="xl/vbaProject.bin",zip_add_file(ar,sr,St.vbaraw),nr.vba.push(sr),add_rels(er.wbrels,-1,"vbaProject.bin",RELS.VBA)),sr="xl/metadata."+tr,zip_add_file(ar,sr,write_xlmeta_xml()),nr.metadata.push(sr),add_rels(er.wbrels,-1,"metadata."+tr,RELS.XLMETA),cr.length>1&&(sr="xl/persons/person.xml",zip_add_file(ar,sr,write_people_xml(cr)),nr.people.push(sr),add_rels(er.wbrels,-1,"persons/person.xml",RELS.PEOPLE)),zip_add_file(ar,"[Content_Types].xml",write_ct(nr,er)),zip_add_file(ar,"_rels/.rels",write_rels(er.rels)),zip_add_file(ar,"xl/_rels/workbook."+tr+".rels",write_rels(er.wbrels)),delete er.revssf,delete er.ssf,ar}function firstbyte(St,er){var tr="";switch((er||{}).type||"base64"){case"buffer":return[St[0],St[1],St[2],St[3],St[4],St[5],St[6],St[7]];case"base64":tr=Base64_decode(St.slice(0,12));break;case"binary":tr=St;break;case"array":return[St[0],St[1],St[2],St[3],St[4],St[5],St[6],St[7]];default:throw new Error("Unrecognized type "+(er&&er.type||"undefined"))}return[tr.charCodeAt(0),tr.charCodeAt(1),tr.charCodeAt(2),tr.charCodeAt(3),tr.charCodeAt(4),tr.charCodeAt(5),tr.charCodeAt(6),tr.charCodeAt(7)]}function read_cfb(St,er){return CFB.find(St,"EncryptedPackage")?parse_xlsxcfb(St,er):parse_xlscfb(St,er)}function read_zip(St,er){var tr,rr=St,nr=er||{};return nr.type||(nr.type=has_buf&&Buffer.isBuffer(St)?"buffer":"base64"),tr=zip_read(rr,nr),parse_zip(tr,nr)}function read_plaintext(St,er){var tr=0;e:for(;tr<St.length;)switch(St.charCodeAt(tr)){case 10:case 13:case 32:++tr;break;case 60:return parse_xlml(St.slice(tr),er);default:break e}return PRN.to_workbook(St,er)}function read_plaintext_raw(St,er){var tr="",rr=firstbyte(St,er);switch(er.type){case"base64":tr=Base64_decode(St);break;case"binary":tr=St;break;case"buffer":tr=St.toString("binary");break;case"array":tr=cc2str(St);break;default:throw new Error("Unrecognized type "+er.type)}return rr[0]==239&&rr[1]==187&&rr[2]==191&&(tr=utf8read(tr)),er.type="binary",read_plaintext(tr,er)}function read_utf16(St,er){var tr=St;return er.type=="base64"&&(tr=Base64_decode(tr)),tr=$cptable.utils.decode(1200,tr.slice(2),"str"),er.type="binary",read_plaintext(tr,er)}function bstrify(St){return St.match(/[^\x00-\x7F]/)?utf8write(St):St}function read_prn(St,er,tr,rr){return rr?(tr.type="string",PRN.to_workbook(St,tr)):PRN.to_workbook(er,tr)}function readSync(St,er){reset_cp();var tr=er||{};if(typeof ArrayBuffer<"u"&&St instanceof ArrayBuffer)return readSync(new Uint8Array(St),(tr=dup(tr),tr.type="array",tr));typeof Uint8Array<"u"&&St instanceof Uint8Array&&!tr.type&&(tr.type=typeof Deno<"u"?"buffer":"array");var rr=St,nr=[0,0,0,0],ar=!1;if(tr.cellStyles&&(tr.cellNF=!0,tr.sheetStubs=!0),_ssfopts={},tr.dateNF&&(_ssfopts.dateNF=tr.dateNF),tr.type||(tr.type=has_buf&&Buffer.isBuffer(St)?"buffer":"base64"),tr.type=="file"&&(tr.type=has_buf?"buffer":"binary",rr=read_binary(St),typeof Uint8Array<"u"&&!has_buf&&(tr.type="array")),tr.type=="string"&&(ar=!0,tr.type="binary",tr.codepage=65001,rr=bstrify(St)),tr.type=="array"&&typeof Uint8Array<"u"&&St instanceof Uint8Array&&typeof ArrayBuffer<"u"){var sr=new ArrayBuffer(3),ir=new Uint8Array(sr);if(ir.foo="bar",!ir.foo)return tr=dup(tr),tr.type="array",readSync(ab2a(rr),tr)}switch((nr=firstbyte(rr,tr))[0]){case 208:if(nr[1]===207&&nr[2]===17&&nr[3]===224&&nr[4]===161&&nr[5]===177&&nr[6]===26&&nr[7]===225)return read_cfb(CFB.read(rr,tr),tr);break;case 9:if(nr[1]<=8)return parse_xlscfb(rr,tr);break;case 60:return parse_xlml(rr,tr);case 73:if(nr[1]===73&&nr[2]===42&&nr[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(nr[1]===68)return read_wb_ID(rr,tr);break;case 84:if(nr[1]===65&&nr[2]===66&&nr[3]===76)return DIF.to_workbook(rr,tr);break;case 80:return nr[1]===75&&nr[2]<9&&nr[3]<9?read_zip(rr,tr):read_prn(St,rr,tr,ar);case 239:return nr[3]===60?parse_xlml(rr,tr):read_prn(St,rr,tr,ar);case 255:if(nr[1]===254)return read_utf16(rr,tr);if(nr[1]===0&&nr[2]===2&&nr[3]===0)return WK_.to_workbook(rr,tr);break;case 0:if(nr[1]===0&&(nr[2]>=2&&nr[3]===0||nr[2]===0&&(nr[3]===8||nr[3]===9)))return WK_.to_workbook(rr,tr);break;case 3:case 131:case 139:case 140:return DBF.to_workbook(rr,tr);case 123:if(nr[1]===92&&nr[2]===114&&nr[3]===116)return RTF.to_workbook(rr,tr);break;case 10:case 13:case 32:return read_plaintext_raw(rr,tr);case 137:if(nr[1]===80&&nr[2]===78&&nr[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return DBF_SUPPORTED_VERSIONS.indexOf(nr[0])>-1&&nr[2]<=12&&nr[3]<=31?DBF.to_workbook(rr,tr):read_prn(St,rr,tr,ar)}function write_cfb_ctr(St,er){switch(er.type){case"base64":case"binary":break;case"buffer":case"array":er.type="";break;case"file":return write_dl(er.file,CFB.write(St,{type:has_buf?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+er.bookType+"' files");default:throw new Error("Unrecognized type "+er.type)}return CFB.write(St,er)}function write_zip_type(St,er){var tr=dup(er||{}),rr=write_zip(St,tr);return write_zip_denouement(rr,tr)}function write_zip_denouement(St,er){var tr={},rr=has_buf?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(er.compression&&(tr.compression="DEFLATE"),er.password)tr.type=rr;else switch(er.type){case"base64":tr.type="base64";break;case"binary":tr.type="string";break;case"string":throw new Error("'string' output type invalid for '"+er.bookType+"' files");case"buffer":case"file":tr.type=rr;break;default:throw new Error("Unrecognized type "+er.type)}var nr=St.FullPaths?CFB.write(St,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[tr.type]||tr.type,compression:!!er.compression}):St.generate(tr);if(typeof Deno<"u"&&typeof nr=="string"){if(er.type=="binary"||er.type=="base64")return nr;nr=new Uint8Array(s2ab(nr))}return er.password&&typeof encrypt_agile<"u"?write_cfb_ctr(encrypt_agile(nr,er.password),er):er.type==="file"?write_dl(er.file,nr):er.type=="string"?utf8read(nr):nr}function write_cfb_type(St,er){var tr=er||{},rr=write_xlscfb(St,tr);return write_cfb_ctr(rr,tr)}function write_string_type(St,er,tr){tr||(tr="");var rr=tr+St;switch(er.type){case"base64":return Base64_encode(utf8write(rr));case"binary":return utf8write(rr);case"string":return St;case"file":return write_dl(er.file,rr,"utf8");case"buffer":return has_buf?Buffer_from(rr,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(rr):write_string_type(rr,{type:"binary"}).split("").map(function(nr){return nr.charCodeAt(0)})}throw new Error("Unrecognized type "+er.type)}function write_stxt_type(St,er){switch(er.type){case"base64":return Base64_encode(St);case"binary":return St;case"string":return St;case"file":return write_dl(er.file,St,"binary");case"buffer":return has_buf?Buffer_from(St,"binary"):St.split("").map(function(tr){return tr.charCodeAt(0)})}throw new Error("Unrecognized type "+er.type)}function write_binary_type(St,er){switch(er.type){case"string":case"base64":case"binary":for(var tr="",rr=0;rr<St.length;++rr)tr+=String.fromCharCode(St[rr]);return er.type=="base64"?Base64_encode(tr):er.type=="string"?utf8read(tr):tr;case"file":return write_dl(er.file,St);case"buffer":return St;default:throw new Error("Unrecognized type "+er.type)}}function writeSync(St,er){reset_cp(),check_wb(St);var tr=dup(er||{});if(tr.cellStyles&&(tr.cellNF=!0,tr.sheetStubs=!0),tr.type=="array"){tr.type="binary";var rr=writeSync(St,tr);return tr.type="array",s2ab(rr)}var nr=0;if(tr.sheet&&(typeof tr.sheet=="number"?nr=tr.sheet:nr=St.SheetNames.indexOf(tr.sheet),!St.SheetNames[nr]))throw new Error("Sheet not found: "+tr.sheet+" : "+typeof tr.sheet);switch(tr.bookType||"xlsb"){case"xml":case"xlml":return write_string_type(write_xlml(St,tr),tr);case"slk":case"sylk":return write_string_type(SYLK.from_sheet(St.Sheets[St.SheetNames[nr]],tr),tr);case"htm":case"html":return write_string_type(sheet_to_html(St.Sheets[St.SheetNames[nr]],tr),tr);case"txt":return write_stxt_type(sheet_to_txt(St.Sheets[St.SheetNames[nr]],tr),tr);case"csv":return write_string_type(sheet_to_csv(St.Sheets[St.SheetNames[nr]],tr),tr,"\uFEFF");case"dif":return write_string_type(DIF.from_sheet(St.Sheets[St.SheetNames[nr]],tr),tr);case"dbf":return write_binary_type(DBF.from_sheet(St.Sheets[St.SheetNames[nr]],tr),tr);case"prn":return write_string_type(PRN.from_sheet(St.Sheets[St.SheetNames[nr]],tr),tr);case"rtf":return write_string_type(RTF.from_sheet(St.Sheets[St.SheetNames[nr]],tr),tr);case"eth":return write_string_type(ETH.from_sheet(St.Sheets[St.SheetNames[nr]],tr),tr);case"fods":return write_string_type(write_ods(St,tr),tr);case"wk1":return write_binary_type(WK_.sheet_to_wk1(St.Sheets[St.SheetNames[nr]],tr),tr);case"wk3":return write_binary_type(WK_.book_to_wk3(St,tr),tr);case"biff2":tr.biff||(tr.biff=2);case"biff3":tr.biff||(tr.biff=3);case"biff4":return tr.biff||(tr.biff=4),write_binary_type(write_biff_buf(St,tr),tr);case"biff5":tr.biff||(tr.biff=5);case"biff8":case"xla":case"xls":return tr.biff||(tr.biff=8),write_cfb_type(St,tr);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return write_zip_type(St,tr);default:throw new Error("Unrecognized bookType |"+tr.bookType+"|")}}function resolve_book_type(St){if(!St.bookType){var er={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},tr=St.file.slice(St.file.lastIndexOf(".")).toLowerCase();tr.match(/^\.[a-z]+$/)&&(St.bookType=tr.slice(1)),St.bookType=er[St.bookType]||St.bookType}}function writeFileSync(St,er,tr){var rr={};return rr.type="file",rr.file=er,resolve_book_type(rr),writeSync(St,rr)}function make_json_row(St,er,tr,rr,nr,ar,sr,ir){var or=encode_row(tr),lr=ir.defval,cr=ir.raw||!Object.prototype.hasOwnProperty.call(ir,"raw"),ur=!0,dr=nr===1?[]:{};if(nr!==1)if(Object.defineProperty)try{Object.defineProperty(dr,"__rowNum__",{value:tr,enumerable:!1})}catch{dr.__rowNum__=tr}else dr.__rowNum__=tr;if(!sr||St[tr])for(var fr=er.s.c;fr<=er.e.c;++fr){var mr=sr?St[tr][fr]:St[rr[fr]+or];if(mr===void 0||mr.t===void 0){if(lr===void 0)continue;ar[fr]!=null&&(dr[ar[fr]]=lr);continue}var xr=mr.v;switch(mr.t){case"z":if(xr==null)break;continue;case"e":xr=xr==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+mr.t)}if(ar[fr]!=null){if(xr==null)if(mr.t=="e"&&xr===null)dr[ar[fr]]=null;else if(lr!==void 0)dr[ar[fr]]=lr;else if(cr&&xr===null)dr[ar[fr]]=null;else continue;else dr[ar[fr]]=cr&&(mr.t!=="n"||mr.t==="n"&&ir.rawNumbers!==!1)?xr:format_cell(mr,xr,ir);xr!=null&&(ur=!1)}}return{row:dr,isempty:ur}}function sheet_to_json(St,er){if(St==null||St["!ref"]==null)return[];var tr={t:"n",v:0},rr=0,nr=1,ar=[],sr=0,ir="",or={s:{r:0,c:0},e:{r:0,c:0}},lr=er||{},cr=lr.range!=null?lr.range:St["!ref"];switch(lr.header===1?rr=1:lr.header==="A"?rr=2:Array.isArray(lr.header)?rr=3:lr.header==null&&(rr=0),typeof cr){case"string":or=safe_decode_range(cr);break;case"number":or=safe_decode_range(St["!ref"]),or.s.r=cr;break;default:or=cr}rr>0&&(nr=0);var ur=encode_row(or.s.r),dr=[],fr=[],mr=0,xr=0,pr=Array.isArray(St),hr=or.s.r,gr=0,vr={};pr&&!St[hr]&&(St[hr]=[]);var br=lr.skipHidden&&St["!cols"]||[],yr=lr.skipHidden&&St["!rows"]||[];for(gr=or.s.c;gr<=or.e.c;++gr)if(!(br[gr]||{}).hidden)switch(dr[gr]=encode_col(gr),tr=pr?St[hr][gr]:St[dr[gr]+ur],rr){case 1:ar[gr]=gr-or.s.c;break;case 2:ar[gr]=dr[gr];break;case 3:ar[gr]=lr.header[gr-or.s.c];break;default:if(tr==null&&(tr={w:"__EMPTY",t:"s"}),ir=sr=format_cell(tr,null,lr),xr=vr[sr]||0,!xr)vr[sr]=1;else{do ir=sr+"_"+xr++;while(vr[ir]);vr[sr]=xr,vr[ir]=1}ar[gr]=ir}for(hr=or.s.r+nr;hr<=or.e.r;++hr)if(!(yr[hr]||{}).hidden){var Er=make_json_row(St,or,hr,dr,rr,ar,pr,lr);(Er.isempty===!1||(rr===1?lr.blankrows!==!1:lr.blankrows))&&(fr[mr++]=Er.row)}return fr.length=mr,fr}var qreg=/"/g;function make_csv_row(St,er,tr,rr,nr,ar,sr,ir){for(var or=!0,lr=[],cr="",ur=encode_row(tr),dr=er.s.c;dr<=er.e.c;++dr)if(rr[dr]){var fr=ir.dense?(St[tr]||[])[dr]:St[rr[dr]+ur];if(fr==null)cr="";else if(fr.v!=null){or=!1,cr=""+(ir.rawNumbers&&fr.t=="n"?fr.v:format_cell(fr,null,ir));for(var mr=0,xr=0;mr!==cr.length;++mr)if((xr=cr.charCodeAt(mr))===nr||xr===ar||xr===34||ir.forceQuotes){cr='"'+cr.replace(qreg,'""')+'"';break}cr=="ID"&&(cr='"ID"')}else fr.f!=null&&!fr.F?(or=!1,cr="="+fr.f,cr.indexOf(",")>=0&&(cr='"'+cr.replace(qreg,'""')+'"')):cr="";lr.push(cr)}return ir.blankrows===!1&&or?null:lr.join(sr)}function sheet_to_csv(St,er){var tr=[],rr=er??{};if(St==null||St["!ref"]==null)return"";var nr=safe_decode_range(St["!ref"]),ar=rr.FS!==void 0?rr.FS:",",sr=ar.charCodeAt(0),ir=rr.RS!==void 0?rr.RS:`
`,or=ir.charCodeAt(0),lr=new RegExp((ar=="|"?"\\|":ar)+"+$"),cr="",ur=[];rr.dense=Array.isArray(St);for(var dr=rr.skipHidden&&St["!cols"]||[],fr=rr.skipHidden&&St["!rows"]||[],mr=nr.s.c;mr<=nr.e.c;++mr)(dr[mr]||{}).hidden||(ur[mr]=encode_col(mr));for(var xr=0,pr=nr.s.r;pr<=nr.e.r;++pr)(fr[pr]||{}).hidden||(cr=make_csv_row(St,nr,pr,ur,sr,or,ar,rr),cr!=null&&(rr.strip&&(cr=cr.replace(lr,"")),(cr||rr.blankrows!==!1)&&tr.push((xr++?ir:"")+cr)));return delete rr.dense,tr.join("")}function sheet_to_txt(St,er){er||(er={}),er.FS="	",er.RS=`
`;var tr=sheet_to_csv(St,er);return tr}function sheet_to_formulae(St){var er="",tr,rr="";if(St==null||St["!ref"]==null)return[];var nr=safe_decode_range(St["!ref"]),ar="",sr=[],ir,or=[],lr=Array.isArray(St);for(ir=nr.s.c;ir<=nr.e.c;++ir)sr[ir]=encode_col(ir);for(var cr=nr.s.r;cr<=nr.e.r;++cr)for(ar=encode_row(cr),ir=nr.s.c;ir<=nr.e.c;++ir)if(er=sr[ir]+ar,tr=lr?(St[cr]||[])[ir]:St[er],rr="",tr!==void 0){if(tr.F!=null){if(er=tr.F,!tr.f)continue;rr=tr.f,er.indexOf(":")==-1&&(er=er+":"+er)}if(tr.f!=null)rr=tr.f;else{if(tr.t=="z")continue;if(tr.t=="n"&&tr.v!=null)rr=""+tr.v;else if(tr.t=="b")rr=tr.v?"TRUE":"FALSE";else if(tr.w!==void 0)rr="'"+tr.w;else{if(tr.v===void 0)continue;tr.t=="s"?rr="'"+tr.v:rr=""+tr.v}}or[or.length]=er+"="+rr}return or}function sheet_add_json(St,er,tr){var rr=tr||{},nr=+!rr.skipHeader,ar=St||{},sr=0,ir=0;if(ar&&rr.origin!=null)if(typeof rr.origin=="number")sr=rr.origin;else{var or=typeof rr.origin=="string"?decode_cell(rr.origin):rr.origin;sr=or.r,ir=or.c}var lr,cr={s:{c:0,r:0},e:{c:ir,r:sr+er.length-1+nr}};if(ar["!ref"]){var ur=safe_decode_range(ar["!ref"]);cr.e.c=Math.max(cr.e.c,ur.e.c),cr.e.r=Math.max(cr.e.r,ur.e.r),sr==-1&&(sr=ur.e.r+1,cr.e.r=sr+er.length-1+nr)}else sr==-1&&(sr=0,cr.e.r=er.length-1+nr);var dr=rr.header||[],fr=0;er.forEach(function(xr,pr){keys(xr).forEach(function(hr){(fr=dr.indexOf(hr))==-1&&(dr[fr=dr.length]=hr);var gr=xr[hr],vr="z",br="",yr=encode_cell({c:ir+fr,r:sr+pr+nr});lr=ws_get_cell_stub(ar,yr),gr&&typeof gr=="object"&&!(gr instanceof Date)?ar[yr]=gr:(typeof gr=="number"?vr="n":typeof gr=="boolean"?vr="b":typeof gr=="string"?vr="s":gr instanceof Date?(vr="d",rr.cellDates||(vr="n",gr=datenum(gr)),br=rr.dateNF||table_fmt[14]):gr===null&&rr.nullError&&(vr="e",gr=0),lr?(lr.t=vr,lr.v=gr,delete lr.w,delete lr.R,br&&(lr.z=br)):ar[yr]=lr={t:vr,v:gr},br&&(lr.z=br))})}),cr.e.c=Math.max(cr.e.c,ir+dr.length-1);var mr=encode_row(sr);if(nr)for(fr=0;fr<dr.length;++fr)ar[encode_col(fr+ir)+mr]={t:"s",v:dr[fr]};return ar["!ref"]=encode_range(cr),ar}function json_to_sheet(St,er){return sheet_add_json(null,St,er)}function ws_get_cell_stub(St,er,tr){if(typeof er=="string"){if(Array.isArray(St)){var rr=decode_cell(er);return St[rr.r]||(St[rr.r]=[]),St[rr.r][rr.c]||(St[rr.r][rr.c]={t:"z"})}return St[er]||(St[er]={t:"z"})}return typeof er!="number"?ws_get_cell_stub(St,encode_cell(er)):ws_get_cell_stub(St,encode_cell({r:er,c:tr||0}))}function wb_sheet_idx(St,er){if(typeof er=="number"){if(er>=0&&St.SheetNames.length>er)return er;throw new Error("Cannot find sheet # "+er)}else if(typeof er=="string"){var tr=St.SheetNames.indexOf(er);if(tr>-1)return tr;throw new Error("Cannot find sheet name |"+er+"|")}else throw new Error("Cannot find sheet |"+er+"|")}function book_new(){return{SheetNames:[],Sheets:{}}}function book_append_sheet(St,er,tr,rr){var nr=1;if(!tr)for(;nr<=65535&&St.SheetNames.indexOf(tr="Sheet"+nr)!=-1;++nr,tr=void 0);if(!tr||St.SheetNames.length>=65535)throw new Error("Too many worksheets");if(rr&&St.SheetNames.indexOf(tr)>=0){var ar=tr.match(/(^.*?)(\d+)$/);nr=ar&&+ar[2]||0;var sr=ar&&ar[1]||tr;for(++nr;nr<=65535&&St.SheetNames.indexOf(tr=sr+nr)!=-1;++nr);}if(check_ws_name(tr),St.SheetNames.indexOf(tr)>=0)throw new Error("Worksheet with name |"+tr+"| already exists!");return St.SheetNames.push(tr),St.Sheets[tr]=er,tr}function book_set_sheet_visibility(St,er,tr){St.Workbook||(St.Workbook={}),St.Workbook.Sheets||(St.Workbook.Sheets=[]);var rr=wb_sheet_idx(St,er);switch(St.Workbook.Sheets[rr]||(St.Workbook.Sheets[rr]={}),tr){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+tr)}St.Workbook.Sheets[rr].Hidden=tr}function cell_set_number_format(St,er){return St.z=er,St}function cell_set_hyperlink(St,er,tr){return er?(St.l={Target:er},tr&&(St.l.Tooltip=tr)):delete St.l,St}function cell_set_internal_link(St,er,tr){return cell_set_hyperlink(St,"#"+er,tr)}function cell_add_comment(St,er,tr){St.c||(St.c=[]),St.c.push({t:er,a:tr||"SheetJS"})}function sheet_set_array_formula(St,er,tr,rr){for(var nr=typeof er!="string"?er:safe_decode_range(er),ar=typeof er=="string"?er:encode_range(er),sr=nr.s.r;sr<=nr.e.r;++sr)for(var ir=nr.s.c;ir<=nr.e.c;++ir){var or=ws_get_cell_stub(St,sr,ir);or.t="n",or.F=ar,delete or.v,sr==nr.s.r&&ir==nr.s.c&&(or.f=tr,rr&&(or.D=!0))}return St}var utils={encode_col,encode_row,encode_cell,encode_range,decode_col,decode_row,split_cell,decode_cell,decode_range,format_cell,sheet_add_aoa,sheet_add_json,sheet_add_dom,aoa_to_sheet,json_to_sheet,table_to_sheet:parse_dom_table,table_to_book,sheet_to_csv,sheet_to_txt,sheet_to_json,sheet_to_html,sheet_to_formulae,sheet_to_row_object_array:sheet_to_json,sheet_get_cell:ws_get_cell_stub,book_new,book_append_sheet,book_set_sheet_visibility,cell_set_number_format,cell_set_hyperlink,cell_set_internal_link,cell_add_comment,sheet_set_array_formula,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};class FileHandlingService{static async processExcelFile(er){const tr=await er.arrayBuffer(),rr=readSync(tr,{type:"array"}),nr=rr.SheetNames,ar={};return nr.forEach(sr=>{const ir=rr.Sheets[sr];ar[sr]=utils.sheet_to_json(ir,{header:1})}),{data:ar,sheets:nr}}static getFileIcon(er){switch(er==null?void 0:er.toLowerCase().split(".").pop()){case"pdf":return{Component:FaFilePdf,className:"text-red-500"};case"xls":case"xlsx":return{Component:FaFileExcel,className:"text-green-500"};case"doc":case"docx":return{Component:FaFileWord,className:"text-blue-500"};default:return{Component:FaFileAlt,className:"text-gray-500"}}}static getFileExtension(er){return(er==null?void 0:er.toLowerCase().split(".").pop())||""}static async downloadFile(er,tr){const rr=URL.createObjectURL(er),nr=document.createElement("a");nr.href=rr,nr.download=tr,document.body.appendChild(nr),nr.click(),document.body.removeChild(nr),URL.revokeObjectURL(rr)}static isFileDownloadable(er){const tr=this.getFileExtension(er);return["doc","docx","xls","xlsx","pdf"].includes(tr)}static getFileTypeCategory(er){const tr=this.getFileExtension(er);return tr==="pdf"?"pdf":["xls","xlsx"].includes(tr)?"excel":["doc","docx"].includes(tr)?"word":"other"}static isViewableFile(er){const tr=this.getFileExtension(er);return["pdf","xls","xlsx","doc","docx"].includes(tr)}static formatFileSize(er){if(er===0)return"0 Bytes";const tr=1024,rr=["Bytes","KB","MB","GB"],nr=Math.floor(Math.log(er)/Math.log(tr));return parseFloat((er/Math.pow(tr,nr)).toFixed(2))+" "+rr[nr]}}const useFileHandling=()=>{const[St,er]=reactExports.useState(!1),tr=new DocumentService(new DocumentRepository,new ProcessRepository),rr=async(sr,ir,or)=>{er(!0);try{const lr=await tr.downloadDocument(sr.id,ir);await FileHandlingService.downloadFile(lr,or)}catch(lr){throw lr}finally{er(!1)}},nr=async(sr,ir)=>{er(!0);try{const or=await tr.previewDocument(sr,ir);return URL.createObjectURL(or)}catch(or){throw or}finally{er(!1)}},ar=FileHandlingService.processExcelFile;return{loading:St,handleDownload:rr,handlePreview:nr,processExcelFile:ar}},TIPOS_DOCUMENTO=[{value:"FC",label:"Ficha de caracterizacin"},{value:"MA",label:"Matriz"},{value:"PR",label:"Procedimiento"},{value:"DI",label:"Documento interno"},{value:"GU",label:"Gua"},{value:"PT",label:"Protocolo"},{value:"PL",label:"Plan"},{value:"IN",label:"Instructivo"},{value:"FR",label:"Formato"},{value:"DE",label:"Documento externo"}],ESTADOS=[{value:"VIG",label:"Vigente",color:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"},{value:"OBS",label:"Obsoleto",color:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}];function ActionButtons({document:St,permissions:er,onView:tr,onViewDocument:rr,onDownload:nr,onEdit:ar,onDelete:sr,loadingExcel:ir}){return jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[er.canViewDocuments&&jsxRuntimeExports.jsx("button",{onClick:()=>tr(St),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",title:"Ver detalles",children:jsxRuntimeExports.jsx(FaEye$1,{size:16})}),er.canViewDocuments&&jsxRuntimeExports.jsx("button",{onClick:()=>rr(St,"oficial"),className:"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300",title:"Ver documento oficial",disabled:ir,children:ir?jsxRuntimeExports.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-green-600 border-t-transparent rounded-full"}):jsxRuntimeExports.jsx(FaFileAlt,{size:16})}),er.canDownloadByFormat(St.archivo_oficial||"")&&jsxRuntimeExports.jsx("button",{onClick:()=>nr(St,"oficial",`${St.codigo_documento}_oficial`),className:"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-300",title:"Descargar archivo oficial",children:jsxRuntimeExports.jsx(FaDownload,{size:16})}),er.isAdmin&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[St.archivo_editable&&jsxRuntimeExports.jsx("button",{onClick:()=>rr(St,"editable"),className:"text-purple-600 hover:text-purple-900 dark:text-purple-400 dark:hover:text-purple-300",title:"Ver documento editable",disabled:ir,children:ir?jsxRuntimeExports.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-purple-600 border-t-transparent rounded-full"}):jsxRuntimeExports.jsx(FaEdit,{size:16})}),St.archivo_editable&&["doc","docx","xls","xlsx"].includes(St.archivo_editable.toLowerCase().split(".").pop()||"")&&jsxRuntimeExports.jsx("button",{onClick:()=>nr(St,"editable",`${St.codigo_documento}_editable`),className:"text-purple-600 hover:text-purple-900 dark:text-purple-400 dark:hover:text-purple-300",title:"Descargar archivo editable",children:jsxRuntimeExports.jsx(FaDownload,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>ar(St),className:"text-yellow-600 hover:text-yellow-900 dark:text-yellow-400 dark:hover:text-yellow-300",title:"Editar documento",children:jsxRuntimeExports.jsx(FaEdit,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>sr(St),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",title:"Eliminar documento",children:jsxRuntimeExports.jsx(FaTrash$1,{size:16})})]})]})}function DocumentRow({document:St,processes:er,permissions:tr,onView:rr,onViewDocument:nr,onDownload:ar,onEdit:sr,onDelete:ir,loadingExcel:or}){var fr;const lr=mr=>{var xr;return((xr=TIPOS_DOCUMENTO.find(pr=>pr.value===mr))==null?void 0:xr.label)||mr},cr=mr=>{var xr;return((xr=ESTADOS.find(pr=>pr.value===mr))==null?void 0:xr.color)||"bg-gray-100 text-gray-800"},ur=mr=>{var xr;return((xr=er.find(pr=>pr.id===mr))==null?void 0:xr.name)||"N/A"},dr=(mr,xr)=>{const{Component:pr,className:hr}=FileHandlingService.getFileIcon(mr);return jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx(pr,{className:hr}),jsxRuntimeExports.jsx("span",{className:"ml-1 text-xs text-gray-500 dark:text-gray-400",children:xr})]})};return jsxRuntimeExports.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:St.codigo_documento}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:St.nombre_documento})]})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:ur(St.proceso)}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:lr(St.tipo_documento)}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:["v",St.version]})}),tr.isAdmin&&jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${cr(St.estado)}`,children:(fr=ESTADOS.find(mr=>mr.value===St.estado))==null?void 0:fr.label})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[dr(St.archivo_oficial,"Oficial"),tr.isAdmin&&St.archivo_editable&&dr(St.archivo_editable,"Editable")]})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:jsxRuntimeExports.jsx(ActionButtons,{document:St,permissions:tr,onView:rr,onViewDocument:nr,onDownload:ar,onEdit:sr,onDelete:ir,loadingExcel:or})})]})}function DocumentTable({documents:St,processes:er,permissions:tr,onView:rr,onViewDocument:nr,onDownload:ar,onEdit:sr,onDelete:ir,loadingExcel:or}){const lr=()=>{const cr=tr.isAdmin?"admin":tr.isGestor?"gestor":"user";return PermissionService.getPermissionMessage(cr,"emptyState")};return jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:[jsxRuntimeExports.jsxs("h2",{className:"px-6 py-3 text-center text-Ls font-medium text-gray-900 dark:text-gray-300 uppercase tracking-wider",children:[jsxRuntimeExports.jsx("br",{}),"LISTADO MAESTRO DE DOCUMENTOS"]}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Documento"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Proceso"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Tipo"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Versin"}),tr.isAdmin&&jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Estado"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Archivos"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Acciones"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:St.map(cr=>jsxRuntimeExports.jsx(DocumentRow,{document:cr,processes:er,permissions:tr,onView:rr,onViewDocument:nr,onDownload:ar,onEdit:sr,onDelete:ir,loadingExcel:or},cr.id))})]})}),St.length===0&&jsxRuntimeExports.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-800",children:[jsxRuntimeExports.jsx(FaFileAlt,{className:"w-12 h-12 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-lg font-medium",children:"No se encontraron documentos"}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:lr()})]})]})}function DocumentFilters({filters:St,processes:er,processTypes:tr,permissions:rr,onUpdateFilter:nr,onClearFilters:ar}){const sr=St.selectedTipoProceso?er.filter(or=>{var lr;return((lr=or.processType)==null?void 0:lr.toString())===St.selectedTipoProceso}):er,ir=or=>{nr("selectedTipoProceso",or),or!==St.selectedTipoProceso&&nr("selectedProceso","")};return jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4 mb-6",children:jsxRuntimeExports.jsxs("div",{className:`grid grid-cols-1 sm:grid-cols-2 gap-4 ${rr.isAdmin?"lg:grid-cols-6":"lg:grid-cols-5"}`,children:[jsxRuntimeExports.jsxs("select",{value:St.selectedTipoProceso,onChange:or=>ir(or.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-blue-500 dark:focus:border-blue-400 transition-colors",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Todos los tipos de proceso"}),tr.map(or=>jsxRuntimeExports.jsx("option",{value:or.id,children:or.name},or.id))]}),jsxRuntimeExports.jsxs("select",{value:St.selectedProceso,onChange:or=>nr("selectedProceso",or.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-blue-500 dark:focus:border-blue-400 transition-colors",disabled:St.selectedTipoProceso!==""&&sr.length===0,children:[jsxRuntimeExports.jsx("option",{value:"",children:St.selectedTipoProceso!==""&&sr.length===0?"No hay procesos para este tipo":"Todos los procesos"}),sr.map(or=>jsxRuntimeExports.jsx("option",{value:or.id,children:or.name},or.id))]}),jsxRuntimeExports.jsxs("select",{value:St.selectedTipo,onChange:or=>nr("selectedTipo",or.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-blue-500 dark:focus:border-blue-400 transition-colors",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Todos los tipos"}),TIPOS_DOCUMENTO.map(or=>jsxRuntimeExports.jsx("option",{value:or.value,children:or.label},or.value))]}),rr.isAdmin&&jsxRuntimeExports.jsxs("select",{value:St.selectedEstado,onChange:or=>nr("selectedEstado",or.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-blue-500 dark:focus:border-blue-400 transition-colors",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Todos los estados"}),ESTADOS.map(or=>jsxRuntimeExports.jsx("option",{value:or.value,children:or.label},or.value))]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(FaSearch,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Buscar documentos...",value:St.searchTerm,onChange:or=>nr("searchTerm",or.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-blue-500 dark:focus:border-blue-400 transition-colors"})]}),jsxRuntimeExports.jsxs("button",{onClick:ar,className:"px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors flex items-center gap-2 justify-center",children:[jsxRuntimeExports.jsx(FaTimes,{size:14}),"Limpiar"]})]})})}function DocumentStats({documents:St,filteredDocuments:er,permissions:tr}){return jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[jsxRuntimeExports.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 transition-colors",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx(HiOutlineCollection,{className:"w-8 h-8 text-blue-600 dark:text-blue-400 mr-3"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400 font-medium",children:tr.isAdmin?"Total Documentos":"Documentos Vigentes"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-blue-700 dark:text-blue-300",children:er.length})]})]})}),tr.isAdmin&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4 transition-colors",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 bg-green-100 dark:bg-green-800 rounded-full flex items-center justify-center mr-3",children:jsxRuntimeExports.jsx("div",{className:"w-3 h-3 bg-green-600 dark:bg-green-400 rounded-full"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:"Vigentes"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-green-700 dark:text-green-300",children:St.filter(rr=>rr.estado==="VIG").length})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 transition-colors",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 bg-red-100 dark:bg-red-800 rounded-full flex items-center justify-center mr-3",children:jsxRuntimeExports.jsx("div",{className:"w-3 h-3 bg-red-600 dark:bg-red-400 rounded-full"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 font-medium",children:"Obsoletos"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-red-700 dark:text-red-300",children:St.filter(rr=>rr.estado==="OBS").length})]})]})})]}),!tr.isAdmin&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg p-4 transition-colors",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 bg-orange-100 dark:bg-orange-800 rounded-full flex items-center justify-center mr-3",children:jsxRuntimeExports.jsx(FaFileAlt,{className:"w-4 h-4 text-orange-600 dark:text-orange-400"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-orange-600 dark:text-orange-400 font-medium",children:"Tipos Disponibles"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-orange-700 dark:text-orange-300",children:new Set(er.map(rr=>rr.tipo_documento)).size})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800 rounded-lg p-4 transition-colors",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 bg-purple-100 dark:bg-purple-800 rounded-full flex items-center justify-center mr-3",children:jsxRuntimeExports.jsx(HiOutlineCollection,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-purple-600 dark:text-purple-400 font-medium",children:"Procesos Activos"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-purple-700 dark:text-purple-300",children:new Set(er.map(rr=>rr.proceso)).size})]})]})})]})]})}function FormModal({isEdit:St=!1,document:er,documents:tr,processes:rr,documentService:nr,onSubmit:ar,onCancel:sr}){const[ir,or]=reactExports.useState({codigo_documento:(er==null?void 0:er.codigo_documento)||"",nombre_documento:(er==null?void 0:er.nombre_documento)||"",proceso:(er==null?void 0:er.proceso)||0,tipo_documento:(er==null?void 0:er.tipo_documento)||"",version:(er==null?void 0:er.version)??0,estado:(er==null?void 0:er.estado)||"VIG",activo:(er==null?void 0:er.activo)??!0,documento_padre:(er==null?void 0:er.documento_padre)||null});console.log("Estado inicial del formulario:",{version:(er==null?void 0:er.version)??0,versionType:typeof((er==null?void 0:er.version)??0)});const[lr,cr]=reactExports.useState({archivo_oficial:null,archivo_editable:null}),[ur,dr]=reactExports.useState(""),fr=gr=>{const{name:vr,value:br,type:yr}=gr.target;let Er=br;yr==="checkbox"?Er=gr.target.checked:(vr==="version"||vr==="proceso")&&(Er=br===""?0:Number(br)),or(jr=>({...jr,[vr]:Er}))},mr=gr=>{const{name:vr,files:br}=gr.target;br&&br[0]&&cr(yr=>({...yr,[vr]:br[0]}))},xr=()=>!ir.codigo_documento||!ir.nombre_documento||!ir.proceso||!ir.tipo_documento?(dr("Todos los campos obligatorios deben estar completos."),!1):ir.version!==void 0&&ir.version<0?(dr("La versin debe ser 0 o superior."),!1):!St&&!lr.archivo_oficial?(dr("El archivo oficial es obligatorio."),!1):!0,pr=async gr=>{var vr,br;if(gr.preventDefault(),dr(""),!!xr())try{const yr=new FormData;if(St&&er){const Er={};Object.keys(ir).forEach(jr=>{const _r=ir[jr],Cr=er[jr];_r!==Cr&&_r!==void 0&&_r!==null&&_r!==""&&(Er[jr]=_r)}),Object.keys(Er).forEach(jr=>{const _r=Er[jr];_r!=null&&yr.append(jr,_r.toString())})}else Object.keys(ir).forEach(Er=>{const jr=ir[Er];jr!=null&&jr!==""&&yr.append(Er,jr.toString())});lr.archivo_oficial&&yr.append("archivo_oficial",lr.archivo_oficial),lr.archivo_editable&&yr.append("archivo_editable",lr.archivo_editable),await ar(yr)}catch(yr){dr(((br=(vr=yr.response)==null?void 0:vr.data)==null?void 0:br.detail)||"Error al guardar el documento.")}},hr=()=>St&&er?nr.getDocumentosDisponiblesComoPadre(tr,er):nr.getDocumentosDisponiblesComoPadre(tr);return jsxRuntimeExports.jsx("div",{className:"fixed z-50 inset-0 overflow-y-auto bg-black bg-opacity-60 flex items-center justify-center p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg p-6 shadow-xl w-full max-w-2xl mx-auto my-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-6",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:[St?"Editar":"Subir"," Documento"]}),jsxRuntimeExports.jsx("button",{onClick:sr,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-500 hover:text-gray-700 dark:text-gray-300 dark:hover:text-white transition",children:jsxRuntimeExports.jsx(FaTimes,{size:20})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:pr,className:"space-y-6",children:[ur&&jsxRuntimeExports.jsx("div",{className:"p-3 bg-red-100 border border-red-400 text-red-700 rounded-lg dark:bg-red-900 dark:border-red-600 dark:text-red-200",children:ur}),jsxRuntimeExports.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Cdigo del Documento"}),jsxRuntimeExports.jsx("input",{type:"text",name:"codigo_documento",value:ir.codigo_documento||"",onChange:fr,className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-blue-500 dark:focus:border-blue-400 transition-colors",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Versin"}),jsxRuntimeExports.jsx("input",{type:"number",name:"version",value:ir.version??0,onChange:fr,min:"0",className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-blue-500 dark:focus:border-blue-400 transition-colors",required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"sm:col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Nombre del Documento"}),jsxRuntimeExports.jsx("input",{type:"text",name:"nombre_documento",value:ir.nombre_documento||"",onChange:fr,className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-blue-500 dark:focus:border-blue-400 transition-colors",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Proceso"}),jsxRuntimeExports.jsxs("select",{name:"proceso",value:ir.proceso||"",onChange:fr,className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-blue-500 dark:focus:border-blue-400 transition-colors",required:!0,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Seleccione un proceso"}),rr.map(gr=>jsxRuntimeExports.jsx("option",{value:gr.id,children:gr.name},gr.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Tipo de Documento"}),jsxRuntimeExports.jsxs("select",{name:"tipo_documento",value:ir.tipo_documento||"",onChange:fr,className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-blue-500 dark:focus:border-blue-400 transition-colors",required:!0,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Seleccione un tipo"}),TIPOS_DOCUMENTO.map(gr=>jsxRuntimeExports.jsx("option",{value:gr.value,children:gr.label},gr.value))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Estado"}),jsxRuntimeExports.jsx("select",{name:"estado",value:ir.estado||"VIG",onChange:fr,className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-blue-500 dark:focus:border-blue-400 transition-colors",required:!0,children:ESTADOS.map(gr=>jsxRuntimeExports.jsx("option",{value:gr.value,children:gr.label},gr.value))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Version Controlado (Opcional)"}),jsxRuntimeExports.jsxs("select",{name:"documento_padre",value:ir.documento_padre||"",onChange:fr,className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-blue-500 dark:focus:border-blue-400 transition-colors",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Sin documento controlado"}),hr().map(gr=>jsxRuntimeExports.jsxs("option",{value:gr.id,children:[gr.codigo_documento," v",gr.version," - ",gr.nombre_documento]},gr.id))]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Seleccione un documento version controlada si esta es una nueva versin"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:["Archivo Oficial ",!St&&jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("input",{type:"file",name:"archivo_oficial",onChange:mr,accept:".doc,.docx,.pdf,.xls,.xlsx",className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-blue-500 dark:focus:border-blue-400 transition-colors file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 dark:file:bg-blue-900 dark:file:text-blue-200",...!St&&{required:!0}}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Formatos permitidos: PDF, Excel, Word"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Archivo Editable (Opcional)"}),jsxRuntimeExports.jsx("input",{type:"file",name:"archivo_editable",onChange:mr,accept:".doc,.docx,.xls,.xlsx",className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-blue-500 dark:focus:border-blue-400 transition-colors file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-green-50 file:text-green-700 hover:file:bg-green-100 dark:file:bg-green-900 dark:file:text-green-200"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Formatos permitidos: Word, Excel"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200 dark:border-gray-700",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:sr,className:"px-6 py-3 bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 rounded-md hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors focus:ring-2 focus:ring-gray-500 dark:focus:ring-gray-400",children:"Cancelar"}),jsxRuntimeExports.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors focus:ring-2 focus:ring-blue-500 shadow-sm",children:St?"Actualizar":"Subir"})]})]})]})})}const Label$1=({title:St,value:er,mono:tr=!1,badge:rr=!1,badgeColor:nr=""})=>jsxRuntimeExports.jsxs("div",{className:"flex flex-col",children:[jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:St}),rr?jsxRuntimeExports.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${nr}`,children:er}):jsxRuntimeExports.jsx("span",{className:`mt-0.5 text-sm ${tr?"font-mono text-gray-800 dark:text-gray-100":"text-gray-900 dark:text-white"}`,children:er})]});function ViewModal({document:St,processes:er,permissions:tr,documentService:rr,onClose:nr}){var ir;const ar=or=>{var lr;return((lr=TIPOS_DOCUMENTO.find(cr=>cr.value===or))==null?void 0:lr.label)||or},sr=or=>{var lr;return((lr=ESTADOS.find(cr=>cr.value===or))==null?void 0:lr.color)||"bg-gray-100 text-gray-800"};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl w-full max-w-2xl border border-gray-200 dark:border-gray-700 transition-all",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[jsxRuntimeExports.jsxs("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[jsxRuntimeExports.jsx(FaFileAlt,{className:"text-blue-600 dark:text-blue-400"}),"Detalles del Documento"]}),jsxRuntimeExports.jsx("button",{onClick:nr,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-500 hover:text-gray-700 dark:text-gray-300 dark:hover:text-white transition",children:jsxRuntimeExports.jsx(FaTimes,{size:20})})]}),jsxRuntimeExports.jsx("div",{className:"px-6 py-4 space-y-4 text-sm text-gray-800 dark:text-gray-200",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-y-3 gap-x-4",children:[jsxRuntimeExports.jsx(Label$1,{title:"Cdigo:",value:St.codigo_documento,mono:!0}),jsxRuntimeExports.jsx(Label$1,{title:"Nombre:",value:St.nombre_documento}),jsxRuntimeExports.jsx(Label$1,{title:"Proceso:",value:rr.getProcessName(er,St.proceso)}),jsxRuntimeExports.jsx(Label$1,{title:"Tipo:",value:ar(St.tipo_documento)}),jsxRuntimeExports.jsx(Label$1,{title:"Versin:",value:`v${St.version}`,badge:!0,badgeColor:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"}),tr.isAdmin&&jsxRuntimeExports.jsx(Label$1,{title:"Documento Padre:",value:rr.getDocumentPadreName([St],St.documento_padre)}),jsxRuntimeExports.jsx(Label$1,{title:"Estado:",value:((ir=ESTADOS.find(or=>or.value===St.estado))==null?void 0:ir.label)||"",badge:!0,badgeColor:sr(St.estado)}),jsxRuntimeExports.jsx(Label$1,{title:"Fecha de creacin:",value:new Date(St.fecha_creacion).toLocaleDateString("es-CO"),mono:!0}),jsxRuntimeExports.jsx(Label$1,{title:"ltima actualizacin:",value:new Date(St.fecha_actualizacion).toLocaleDateString("es-CO"),mono:!0})]})}),jsxRuntimeExports.jsx("div",{className:"flex justify-end px-6 py-4 border-t border-gray-200 dark:border-gray-700",children:jsxRuntimeExports.jsx("button",{onClick:nr,className:"px-4 py-2 bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 text-sm text-gray-800 dark:text-gray-100 rounded-lg transition",children:"Cerrar"})})]})})}function ExcelViewer({isOpen:St,excelData:er,excelSheets:tr,currentSheet:rr,currentExcelDocument:nr,currentExcelType:ar,onSheetChange:sr,onDownload:ir,onClose:or}){var lr;return St?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-80 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-xl w-full max-w-7xl h-[90vh] flex flex-col border border-gray-200 dark:border-gray-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(FaFileExcel,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Vista Previa Excel"})]}),tr.length>1&&jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Hoja:"}),jsxRuntimeExports.jsx("select",{value:rr,onChange:cr=>sr(cr.target.value),className:"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 text-sm focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-blue-500 dark:focus:border-blue-400",children:tr.map(cr=>jsxRuntimeExports.jsx("option",{value:cr,children:cr},cr))})]})]}),jsxRuntimeExports.jsx("button",{onClick:or,className:"text-gray-400 hover:text-gray-600 dark:text-gray-300 dark:hover:text-gray-100 transition-colors p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",children:jsxRuntimeExports.jsx(FaTimes,{size:24})})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 p-4 overflow-auto bg-gray-50 dark:bg-gray-900",children:er[rr]&&er[rr].length>0?jsxRuntimeExports.jsxs("div",{className:"overflow-auto border border-gray-200 dark:border-gray-700 rounded-lg shadow-sm",children:[jsxRuntimeExports.jsx("div",{className:"excel-table-container max-h-[calc(90vh-200px)] overflow-auto",children:jsxRuntimeExports.jsx("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:jsxRuntimeExports.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:er[rr].slice(0,100).map((cr,ur)=>jsxRuntimeExports.jsx("tr",{className:`transition-colors ${ur===0?"bg-blue-50 dark:bg-blue-900/30 font-semibold sticky top-0 z-10":"hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,children:cr.map((dr,fr)=>jsxRuntimeExports.jsx("td",{className:`px-4 py-3 text-sm border-r border-gray-200 dark:border-gray-600 max-w-xs ${ur===0?"text-blue-900 dark:text-blue-100 font-semibold bg-blue-50 dark:bg-blue-900/30":"text-gray-900 dark:text-gray-100"}`,title:String(dr||""),children:jsxRuntimeExports.jsx("div",{className:"truncate max-w-[200px]",children:dr!=null?String(dr):""})},fr))},ur))})})}),er[rr].length>100&&jsxRuntimeExports.jsx("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/20 border-t border-gray-200 dark:border-gray-700",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400 mt-0.5",children:""}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("p",{className:"text-sm text-yellow-800 dark:text-yellow-200 font-medium",children:[jsxRuntimeExports.jsx("strong",{children:"Vista limitada:"})," Se muestran las primeras 100 filas de ",er[rr].length," total."]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-yellow-700 dark:text-yellow-300 mt-1",children:"Para ver el contenido completo, descarga el archivo."})]})]})})]}):jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center h-full bg-white dark:bg-gray-800 rounded-lg border-2 border-dashed border-gray-300 dark:border-gray-600",children:[jsxRuntimeExports.jsx(FaFileExcel,{className:"w-16 h-16 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg font-medium",children:"No se pudo cargar el contenido"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 dark:text-gray-500 text-sm mt-1",children:"El archivo Excel no contiene datos vlidos"})]})}),jsxRuntimeExports.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center space-x-4 text-sm",children:er[rr]&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1 text-gray-600 dark:text-gray-400",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Filas:"}),jsxRuntimeExports.jsx("span",{className:"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200 px-2 py-1 rounded-md font-mono",children:er[rr].length})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1 text-gray-600 dark:text-gray-400",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Columnas:"}),jsxRuntimeExports.jsx("span",{className:"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200 px-2 py-1 rounded-md font-mono",children:((lr=er[rr][0])==null?void 0:lr.length)||0})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1 text-gray-600 dark:text-gray-400",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Hoja:"}),jsxRuntimeExports.jsx("span",{className:"bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-200 px-2 py-1 rounded-md font-mono",children:rr})]})]})}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[nr&&jsxRuntimeExports.jsxs("button",{onClick:()=>{const cr=ar||"oficial";ir(nr,cr,`${nr.codigo_documento}_${cr}`)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors focus:ring-2 focus:ring-green-500 flex items-center gap-2",children:[jsxRuntimeExports.jsx(FaDownload,{size:16}),"Descargar Excel"]}),jsxRuntimeExports.jsx("button",{onClick:or,className:"px-4 py-2 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-lg hover:bg-gray-400 dark:hover:bg-gray-500 transition-colors focus:ring-2 focus:ring-gray-500 dark:focus:ring-gray-400",children:"Cerrar"})]})]})})]})}):null}function WordViewer({isOpen:St,currentDocumentTitle:er,currentWordDocument:tr,currentWordType:rr,onDownload:nr,onClose:ar}){return St?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-80 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-xl w-full max-w-4xl h-auto max-h-[90vh] flex flex-col border border-gray-200 dark:border-gray-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(FaFileWord,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Documento Word"})]}),jsxRuntimeExports.jsx("button",{onClick:ar,className:"text-gray-400 hover:text-gray-600 dark:text-gray-300 dark:hover:text-gray-100 transition-colors p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",children:jsxRuntimeExports.jsx(FaTimes,{size:24})})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 p-6 text-center",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"w-24 h-24 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx(FaFileWord,{className:"w-12 h-12 text-blue-600 dark:text-blue-400"})}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("h4",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2",children:er}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Los documentos de Word no se pueden previsualizar directamente en el navegador."}),jsxRuntimeExports.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg p-4",children:jsxRuntimeExports.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[jsxRuntimeExports.jsx("strong",{children:" Sugerencia:"}),jsxRuntimeExports.jsx("span",{children:" Descarga el documento para abrirlo en Microsoft Word o un editor compatible."})]})})]})]})}),jsxRuntimeExports.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center space-x-4 text-sm text-gray-600 dark:text-gray-400",children:tr&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Cdigo:"}),jsxRuntimeExports.jsx("span",{className:"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200 px-2 py-1 rounded-md font-mono",children:tr.codigo_documento})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Versin:"}),jsxRuntimeExports.jsxs("span",{className:"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200 px-2 py-1 rounded-md font-mono",children:["v",tr.version]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Tipo:"}),jsxRuntimeExports.jsx("span",{className:"bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-200 px-2 py-1 rounded-md font-mono",children:rr})]})]})}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[tr&&jsxRuntimeExports.jsxs("button",{onClick:()=>{const sr=rr||"oficial";nr(tr,sr,`${tr.codigo_documento}_${sr}`)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors focus:ring-2 focus:ring-blue-500 flex items-center gap-2",children:[jsxRuntimeExports.jsx(FaDownload,{size:16}),"Descargar Word"]}),jsxRuntimeExports.jsx("button",{onClick:ar,className:"px-4 py-2 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-lg hover:bg-gray-400 dark:hover:bg-gray-500 transition-colors focus:ring-2 focus:ring-gray-500 dark:focus:ring-gray-400",children:"Cerrar"})]})]})})]})}):null}function ConfirmDeleteModal({document:St,onConfirm:er,onCancel:tr}){return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg p-6 shadow-xl w-full max-w-md mx-auto",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100",children:"Confirmar Eliminacin"}),jsxRuntimeExports.jsxs("p",{className:"mb-6 text-gray-700 dark:text-gray-200",children:['Ests seguro de que deseas eliminar el documento "',St.nombre_documento,'"? Esta accin no se puede deshacer.']}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-4",children:[jsxRuntimeExports.jsx("button",{className:"px-4 py-2 bg-gray-300 dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded hover:bg-gray-400 dark:hover:bg-gray-600",onClick:tr,children:"Cancelar"}),jsxRuntimeExports.jsx("button",{className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",onClick:er,children:"Eliminar"})]})]})})}var lib={exports:{}},core_min={};function commonjsRequire(St){throw new Error('Could not dynamically require "'+St+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(er,tr){module.exports=tr()})(globalThis,()=>(()=>{var __webpack_modules__=[,(St,er)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.VerbosityLevel=er.Util=er.UnknownErrorException=er.UnexpectedResponseException=er.UNSUPPORTED_FEATURES=er.TextRenderingMode=er.RenderingIntentFlag=er.PermissionFlag=er.PasswordResponses=er.PasswordException=er.PageActionEventType=er.OPS=er.MissingPDFException=er.LINE_FACTOR=er.LINE_DESCENT_FACTOR=er.InvalidPDFException=er.ImageKind=er.IDENTITY_MATRIX=er.FormatError=er.FeatureTest=er.FONT_IDENTITY_MATRIX=er.DocumentActionEventType=er.CMapCompressionType=er.BaseException=er.BASELINE_FACTOR=er.AnnotationType=er.AnnotationStateModelType=er.AnnotationReviewState=er.AnnotationReplyType=er.AnnotationMode=er.AnnotationMarkedState=er.AnnotationFlag=er.AnnotationFieldFlag=er.AnnotationEditorType=er.AnnotationEditorPrefix=er.AnnotationEditorParamsType=er.AnnotationBorderStyleType=er.AnnotationActionEventType=er.AbortException=void 0,er.arrayByteLength=Zr,er.arraysToBytes=Ir,er.assert=Yr,er.bytesToString=Ur,er.createPromiseCapability=zs,er.createValidAbsoluteUrl=Rr,er.getModificationDate=os,er.getVerbosityLevel=zr,er.info=Vr,er.isArrayBuffer=Ss,er.isArrayEqual=ps,er.objectFromMap=yn,er.objectSize=vn,er.setVerbosityLevel=Qr,er.shadow=Tr,er.string32=on,er.stringToBytes=en,er.stringToPDFString=ns,er.stringToUTF8String=ls,er.unreachable=tn,er.utf8StringToString=vs,er.warn=Jr;const tr=[1,0,0,1,0,0];er.IDENTITY_MATRIX=tr;const rr=[.001,0,0,.001,0,0];er.FONT_IDENTITY_MATRIX=rr;const nr=1.35;er.LINE_FACTOR=nr;const ar=.35;er.LINE_DESCENT_FACTOR=ar;const sr=ar/nr;er.BASELINE_FACTOR=sr;const ir={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};er.RenderingIntentFlag=ir;const or={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};er.AnnotationMode=or;const lr="pdfjs_internal_editor_";er.AnnotationEditorPrefix=lr;const cr={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};er.AnnotationEditorType=cr;const ur={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};er.AnnotationEditorParamsType=ur;const dr={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};er.PermissionFlag=dr;const fr={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};er.TextRenderingMode=fr;const mr={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};er.ImageKind=mr;const xr={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};er.AnnotationType=xr;const pr={MARKED:"Marked",REVIEW:"Review"};er.AnnotationStateModelType=pr;const hr={MARKED:"Marked",UNMARKED:"Unmarked"};er.AnnotationMarkedState=hr;const gr={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};er.AnnotationReviewState=gr;const vr={GROUP:"Group",REPLY:"R"};er.AnnotationReplyType=vr;const br={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};er.AnnotationFlag=br;const yr={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};er.AnnotationFieldFlag=yr;const Er={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};er.AnnotationBorderStyleType=Er;const jr={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};er.AnnotationActionEventType=jr;const _r={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};er.DocumentActionEventType=_r;const Cr={O:"PageOpen",C:"PageClose"};er.PageActionEventType=Cr;const Or={ERRORS:0,WARNINGS:1,INFOS:5};er.VerbosityLevel=Or;const Pr={NONE:0,BINARY:1};er.CMapCompressionType=Pr;const Lr={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};er.OPS=Lr;const Gr={forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};er.UNSUPPORTED_FEATURES=Gr;const Kr={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};er.PasswordResponses=Kr;let nn=Or.WARNINGS;function Qr(Bn){Number.isInteger(Bn)&&(nn=Bn)}function zr(){return nn}function Vr(Bn){nn>=Or.INFOS&&console.log(`Info: ${Bn}`)}function Jr(Bn){nn>=Or.WARNINGS&&console.log(`Warning: ${Bn}`)}function tn(Bn){throw new Error(Bn)}function Yr(Bn,_n){Bn||tn(_n)}function Sr(Bn){if(!Bn)return!1;switch(Bn.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Rr(Bn,_n=null,Ln=null){if(!Bn)return null;try{if(Ln&&typeof Bn=="string"){if(Ln.addDefaultProtocol&&Bn.startsWith("www.")){const Ts=Bn.match(/\./g);Ts&&Ts.length>=2&&(Bn=`http://${Bn}`)}if(Ln.tryConvertEncoding)try{Bn=ls(Bn)}catch{}}const cs=_n?new URL(Bn,_n):new URL(Bn);if(Sr(cs))return cs}catch{}return null}function Tr(Bn,_n,Ln,cs=!1){return Object.defineProperty(Bn,_n,{value:Ln,enumerable:!cs,configurable:!0,writable:!1}),Ln}const Dr=function(){function _n(Ln,cs){this.constructor===_n&&tn("Cannot initialize BaseException."),this.message=Ln,this.name=cs}return _n.prototype=new Error,_n.constructor=_n,_n}();er.BaseException=Dr;class Mr extends Dr{constructor(_n,Ln){super(_n,"PasswordException"),this.code=Ln}}er.PasswordException=Mr;class Br extends Dr{constructor(_n,Ln){super(_n,"UnknownErrorException"),this.details=Ln}}er.UnknownErrorException=Br;class qr extends Dr{constructor(_n){super(_n,"InvalidPDFException")}}er.InvalidPDFException=qr;class Wr extends Dr{constructor(_n){super(_n,"MissingPDFException")}}er.MissingPDFException=Wr;class sn extends Dr{constructor(_n,Ln){super(_n,"UnexpectedResponseException"),this.status=Ln}}er.UnexpectedResponseException=sn;class un extends Dr{constructor(_n){super(_n,"FormatError")}}er.FormatError=un;class Nr extends Dr{constructor(_n){super(_n,"AbortException")}}er.AbortException=Nr;function Ur(Bn){(typeof Bn!="object"||Bn===null||Bn.length===void 0)&&tn("Invalid argument for bytesToString");const _n=Bn.length,Ln=8192;if(_n<Ln)return String.fromCharCode.apply(null,Bn);const cs=[];for(let Ts=0;Ts<_n;Ts+=Ln){const Vs=Math.min(Ts+Ln,_n),$s=Bn.subarray(Ts,Vs);cs.push(String.fromCharCode.apply(null,$s))}return cs.join("")}function en(Bn){typeof Bn!="string"&&tn("Invalid argument for stringToBytes");const _n=Bn.length,Ln=new Uint8Array(_n);for(let cs=0;cs<_n;++cs)Ln[cs]=Bn.charCodeAt(cs)&255;return Ln}function Zr(Bn){if(Bn.length!==void 0)return Bn.length;if(Bn.byteLength!==void 0)return Bn.byteLength;tn("Invalid argument for arrayByteLength")}function Ir(Bn){const _n=Bn.length;if(_n===1&&Bn[0]instanceof Uint8Array)return Bn[0];let Ln=0;for(let Vs=0;Vs<_n;Vs++)Ln+=Zr(Bn[Vs]);let cs=0;const Ts=new Uint8Array(Ln);for(let Vs=0;Vs<_n;Vs++){let $s=Bn[Vs];$s instanceof Uint8Array||(typeof $s=="string"?$s=en($s):$s=new Uint8Array($s));const to=$s.byteLength;Ts.set($s,cs),cs+=to}return Ts}function on(Bn){return String.fromCharCode(Bn>>24&255,Bn>>16&255,Bn>>8&255,Bn&255)}function vn(Bn){return Object.keys(Bn).length}function yn(Bn){const _n=Object.create(null);for(const[Ln,cs]of Bn)_n[Ln]=cs;return _n}function Dn(){const Bn=new Uint8Array(4);return Bn[0]=1,new Uint32Array(Bn.buffer,0,1)[0]===1}function pn(){try{return new Function(""),!0}catch{return!1}}class Sn{static get isLittleEndian(){return Tr(this,"isLittleEndian",Dn())}static get isEvalSupported(){return Tr(this,"isEvalSupported",pn())}static get isOffscreenCanvasSupported(){return Tr(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?Tr(this,"platform",{isWin:!1,isMac:!1}):Tr(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}}er.FeatureTest=Sn;const wn=[...Array(256).keys()].map(Bn=>Bn.toString(16).padStart(2,"0"));class Vn{static makeHexColor(_n,Ln,cs){return`#${wn[_n]}${wn[Ln]}${wn[cs]}`}static scaleMinMax(_n,Ln){let cs;_n[0]?(_n[0]<0&&(cs=Ln[0],Ln[0]=Ln[1],Ln[1]=cs),Ln[0]*=_n[0],Ln[1]*=_n[0],_n[3]<0&&(cs=Ln[2],Ln[2]=Ln[3],Ln[3]=cs),Ln[2]*=_n[3],Ln[3]*=_n[3]):(cs=Ln[0],Ln[0]=Ln[2],Ln[2]=cs,cs=Ln[1],Ln[1]=Ln[3],Ln[3]=cs,_n[1]<0&&(cs=Ln[2],Ln[2]=Ln[3],Ln[3]=cs),Ln[2]*=_n[1],Ln[3]*=_n[1],_n[2]<0&&(cs=Ln[0],Ln[0]=Ln[1],Ln[1]=cs),Ln[0]*=_n[2],Ln[1]*=_n[2]),Ln[0]+=_n[4],Ln[1]+=_n[4],Ln[2]+=_n[5],Ln[3]+=_n[5]}static transform(_n,Ln){return[_n[0]*Ln[0]+_n[2]*Ln[1],_n[1]*Ln[0]+_n[3]*Ln[1],_n[0]*Ln[2]+_n[2]*Ln[3],_n[1]*Ln[2]+_n[3]*Ln[3],_n[0]*Ln[4]+_n[2]*Ln[5]+_n[4],_n[1]*Ln[4]+_n[3]*Ln[5]+_n[5]]}static applyTransform(_n,Ln){const cs=_n[0]*Ln[0]+_n[1]*Ln[2]+Ln[4],Ts=_n[0]*Ln[1]+_n[1]*Ln[3]+Ln[5];return[cs,Ts]}static applyInverseTransform(_n,Ln){const cs=Ln[0]*Ln[3]-Ln[1]*Ln[2],Ts=(_n[0]*Ln[3]-_n[1]*Ln[2]+Ln[2]*Ln[5]-Ln[4]*Ln[3])/cs,Vs=(-_n[0]*Ln[1]+_n[1]*Ln[0]+Ln[4]*Ln[1]-Ln[5]*Ln[0])/cs;return[Ts,Vs]}static getAxialAlignedBoundingBox(_n,Ln){const cs=Vn.applyTransform(_n,Ln),Ts=Vn.applyTransform(_n.slice(2,4),Ln),Vs=Vn.applyTransform([_n[0],_n[3]],Ln),$s=Vn.applyTransform([_n[2],_n[1]],Ln);return[Math.min(cs[0],Ts[0],Vs[0],$s[0]),Math.min(cs[1],Ts[1],Vs[1],$s[1]),Math.max(cs[0],Ts[0],Vs[0],$s[0]),Math.max(cs[1],Ts[1],Vs[1],$s[1])]}static inverseTransform(_n){const Ln=_n[0]*_n[3]-_n[1]*_n[2];return[_n[3]/Ln,-_n[1]/Ln,-_n[2]/Ln,_n[0]/Ln,(_n[2]*_n[5]-_n[4]*_n[3])/Ln,(_n[4]*_n[1]-_n[5]*_n[0])/Ln]}static singularValueDecompose2dScale(_n){const Ln=[_n[0],_n[2],_n[1],_n[3]],cs=_n[0]*Ln[0]+_n[1]*Ln[2],Ts=_n[0]*Ln[1]+_n[1]*Ln[3],Vs=_n[2]*Ln[0]+_n[3]*Ln[2],$s=_n[2]*Ln[1]+_n[3]*Ln[3],to=(cs+$s)/2,xl=Math.sqrt((cs+$s)**2-4*(cs*$s-Vs*Ts))/2,Pl=to+xl||1,go=to-xl||1;return[Math.sqrt(Pl),Math.sqrt(go)]}static normalizeRect(_n){const Ln=_n.slice(0);return _n[0]>_n[2]&&(Ln[0]=_n[2],Ln[2]=_n[0]),_n[1]>_n[3]&&(Ln[1]=_n[3],Ln[3]=_n[1]),Ln}static intersect(_n,Ln){const cs=Math.max(Math.min(_n[0],_n[2]),Math.min(Ln[0],Ln[2])),Ts=Math.min(Math.max(_n[0],_n[2]),Math.max(Ln[0],Ln[2]));if(cs>Ts)return null;const Vs=Math.max(Math.min(_n[1],_n[3]),Math.min(Ln[1],Ln[3])),$s=Math.min(Math.max(_n[1],_n[3]),Math.max(Ln[1],Ln[3]));return Vs>$s?null:[cs,Vs,Ts,$s]}static bezierBoundingBox(_n,Ln,cs,Ts,Vs,$s,to,xl){const Pl=[],go=[[],[]];let oo,xo,Gl,Eo,$l,Il,Qs,Ml;for(let Xo=0;Xo<2;++Xo){if(Xo===0?(xo=6*_n-12*cs+6*Vs,oo=-3*_n+9*cs-9*Vs+3*to,Gl=3*cs-3*_n):(xo=6*Ln-12*Ts+6*$s,oo=-3*Ln+9*Ts-9*$s+3*xl,Gl=3*Ts-3*Ln),Math.abs(oo)<1e-12){if(Math.abs(xo)<1e-12)continue;Eo=-Gl/xo,0<Eo&&Eo<1&&Pl.push(Eo);continue}Qs=xo*xo-4*Gl*oo,Ml=Math.sqrt(Qs),!(Qs<0)&&($l=(-xo+Ml)/(2*oo),0<$l&&$l<1&&Pl.push($l),Il=(-xo-Ml)/(2*oo),0<Il&&Il<1&&Pl.push(Il))}let Al=Pl.length,Oo;const zo=Al;for(;Al--;)Eo=Pl[Al],Oo=1-Eo,go[0][Al]=Oo*Oo*Oo*_n+3*Oo*Oo*Eo*cs+3*Oo*Eo*Eo*Vs+Eo*Eo*Eo*to,go[1][Al]=Oo*Oo*Oo*Ln+3*Oo*Oo*Eo*Ts+3*Oo*Eo*Eo*$s+Eo*Eo*Eo*xl;return go[0][zo]=_n,go[1][zo]=Ln,go[0][zo+1]=to,go[1][zo+1]=xl,go[0].length=go[1].length=zo+2,[Math.min(...go[0]),Math.min(...go[1]),Math.max(...go[0]),Math.max(...go[1])]}}er.Util=Vn;const Yn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function ns(Bn){if(Bn[0]>=""){let Ln;if(Bn[0]===""&&Bn[1]===""?Ln="utf-16be":Bn[0]===""&&Bn[1]===""?Ln="utf-16le":Bn[0]===""&&Bn[1]===""&&Bn[2]===""&&(Ln="utf-8"),Ln)try{const cs=new TextDecoder(Ln,{fatal:!0}),Ts=en(Bn);return cs.decode(Ts)}catch(cs){Jr(`stringToPDFString: "${cs}".`)}}const _n=[];for(let Ln=0,cs=Bn.length;Ln<cs;Ln++){const Ts=Yn[Bn.charCodeAt(Ln)];_n.push(Ts?String.fromCharCode(Ts):Bn.charAt(Ln))}return _n.join("")}function ls(Bn){return decodeURIComponent(escape(Bn))}function vs(Bn){return unescape(encodeURIComponent(Bn))}function Ss(Bn){return typeof Bn=="object"&&Bn!==null&&Bn.byteLength!==void 0}function ps(Bn,_n){if(Bn.length!==_n.length)return!1;for(let Ln=0,cs=Bn.length;Ln<cs;Ln++)if(Bn[Ln]!==_n[Ln])return!1;return!0}function os(Bn=new Date){return[Bn.getUTCFullYear().toString(),(Bn.getUTCMonth()+1).toString().padStart(2,"0"),Bn.getUTCDate().toString().padStart(2,"0"),Bn.getUTCHours().toString().padStart(2,"0"),Bn.getUTCMinutes().toString().padStart(2,"0"),Bn.getUTCSeconds().toString().padStart(2,"0")].join("")}function zs(){const Bn=Object.create(null);let _n=!1;return Object.defineProperty(Bn,"settled",{get(){return _n}}),Bn.promise=new Promise(function(Ln,cs){Bn.resolve=function(Ts){_n=!0,Ln(Ts)},Bn.reject=function(Ts){_n=!0,cs(Ts)}}),Bn}},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var St,er,rr,nr,ar,sr,ir,or,lr,cr,ur,Mp,fr,mr;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_is_node=__w_pdfjs_require__(10),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_xfa_text=__w_pdfjs_require__(19);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:pr,NodeCMapReaderFactory:hr,NodeStandardFontDataFactory:gr}=__w_pdfjs_require__(20);exports.DefaultCanvasFactory=DefaultCanvasFactory=pr,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=hr,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=gr}let createPDFNetworkStream;if(_is_node.isNodeJS){const{PDFNodeStream:pr}=__w_pdfjs_require__(21);createPDFNetworkStream=hr=>new pr(hr)}else{const{PDFNetworkStream:pr}=__w_pdfjs_require__(24),{PDFFetchStream:hr}=__w_pdfjs_require__(25);createPDFNetworkStream=gr=>(0,_display_utils.isValidFetchUrl)(gr.url)?new hr(gr):new pr(gr)}function getDocument(pr){if(typeof pr=="string"||pr instanceof URL)pr={url:pr};else if((0,_util.isArrayBuffer)(pr))pr={data:pr};else if(pr instanceof PDFDataRangeTransport)(0,_display_utils.deprecated)("`PDFDataRangeTransport`-instance, please use a parameter object with `range`-property instead."),pr={range:pr};else if(typeof pr!="object")throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!pr.url&&!pr.data&&!pr.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const hr=new PDFDocumentLoadingTask,gr=Object.create(null);let vr=null,br=null;for(const Er in pr){const jr=pr[Er];switch(Er){case"url":if(jr instanceof URL){gr[Er]=jr.href;continue}try{gr[Er]=new URL(jr,window.location).href;continue}catch{if(_is_node.isNodeJS&&typeof jr=="string")break}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":vr=jr;continue;case"worker":br=jr;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&jr instanceof Buffer)gr[Er]=new Uint8Array(jr);else{if(jr instanceof Uint8Array&&jr.byteLength===jr.buffer.byteLength)break;if(typeof jr=="string")gr[Er]=(0,_util.stringToBytes)(jr);else if(typeof jr=="object"&&jr!==null&&!isNaN(jr.length)||(0,_util.isArrayBuffer)(jr))gr[Er]=new Uint8Array(jr);else throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}continue}gr[Er]=jr}if(gr.CMapReaderFactory=gr.CMapReaderFactory||DefaultCMapReaderFactory,gr.StandardFontDataFactory=gr.StandardFontDataFactory||DefaultStandardFontDataFactory,gr.ignoreErrors=gr.stopAtErrors!==!0,gr.fontExtraProperties=gr.fontExtraProperties===!0,gr.pdfBug=gr.pdfBug===!0,gr.enableXfa=gr.enableXfa===!0,(!Number.isInteger(gr.rangeChunkSize)||gr.rangeChunkSize<1)&&(gr.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),(typeof gr.docBaseUrl!="string"||(0,_display_utils.isDataScheme)(gr.docBaseUrl))&&(gr.docBaseUrl=null),(!Number.isInteger(gr.maxImageSize)||gr.maxImageSize<-1)&&(gr.maxImageSize=-1),typeof gr.cMapUrl!="string"&&(gr.cMapUrl=null),typeof gr.standardFontDataUrl!="string"&&(gr.standardFontDataUrl=null),typeof gr.useWorkerFetch!="boolean"&&(gr.useWorkerFetch=gr.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&gr.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory&&(0,_display_utils.isValidFetchUrl)(gr.cMapUrl,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(gr.standardFontDataUrl,document.baseURI)),typeof gr.isEvalSupported!="boolean"&&(gr.isEvalSupported=!0),typeof gr.isOffscreenCanvasSupported!="boolean"&&(gr.isOffscreenCanvasSupported=!_is_node.isNodeJS),typeof gr.disableFontFace!="boolean"&&(gr.disableFontFace=_is_node.isNodeJS),typeof gr.useSystemFonts!="boolean"&&(gr.useSystemFonts=!_is_node.isNodeJS&&!gr.disableFontFace),(typeof gr.ownerDocument!="object"||gr.ownerDocument===null)&&(gr.ownerDocument=globalThis.document),typeof gr.disableRange!="boolean"&&(gr.disableRange=!1),typeof gr.disableStream!="boolean"&&(gr.disableStream=!1),typeof gr.disableAutoFetch!="boolean"&&(gr.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(gr.verbosity),!br){const Er={verbosity:gr.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};br=Er.port?PDFWorker.fromPort(Er):new PDFWorker(Er),hr._worker=br}const yr=hr.docId;return br.promise.then(function(){if(hr.destroyed)throw new Error("Loading aborted");const Er=_fetchDocument(br,gr,vr,yr),jr=new Promise(function(_r){let Cr;vr?Cr=new _transport_stream.PDFDataTransportStream({length:gr.length,initialData:gr.initialData,progressiveDone:gr.progressiveDone,contentDispositionFilename:gr.contentDispositionFilename,disableRange:gr.disableRange,disableStream:gr.disableStream},vr):gr.data||(Cr=createPDFNetworkStream({url:gr.url,length:gr.length,httpHeaders:gr.httpHeaders,withCredentials:gr.withCredentials,rangeChunkSize:gr.rangeChunkSize,disableRange:gr.disableRange,disableStream:gr.disableStream})),_r(Cr)});return Promise.all([Er,jr]).then(function([_r,Cr]){if(hr.destroyed)throw new Error("Loading aborted");const Or=new _message_handler.MessageHandler(yr,_r,br.port),Pr=new WorkerTransport(Or,hr,Cr,gr);hr._transport=Pr,Or.send("Ready",null)})}).catch(hr._capability.reject),hr}async function _fetchDocument(pr,hr,gr,vr){if(pr.destroyed)throw new Error("Worker was destroyed");gr&&(hr.length=gr.length,hr.initialData=gr.initialData,hr.progressiveDone=gr.progressiveDone,hr.contentDispositionFilename=gr.contentDispositionFilename);const br=hr.data?[hr.data.buffer]:null,yr=await pr.messageHandler.sendWithPromise("GetDocRequest",{docId:vr,apiVersion:"3.3.122",data:hr.data,password:hr.password,disableAutoFetch:hr.disableAutoFetch,rangeChunkSize:hr.rangeChunkSize,length:hr.length,docBaseUrl:hr.docBaseUrl,enableXfa:hr.enableXfa,evaluatorOptions:{maxImageSize:hr.maxImageSize,disableFontFace:hr.disableFontFace,ignoreErrors:hr.ignoreErrors,isEvalSupported:hr.isEvalSupported,isOffscreenCanvasSupported:hr.isOffscreenCanvasSupported,fontExtraProperties:hr.fontExtraProperties,useSystemFonts:hr.useSystemFonts,cMapUrl:hr.useWorkerFetch?hr.cMapUrl:null,standardFontDataUrl:hr.useWorkerFetch?hr.standardFontDataUrl:null}},br);if(pr.destroyed)throw new Error("Worker was destroyed");return yr}const tr=class tr{constructor(){js(this,er,null);this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${Ip(tr,St)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get onUnsupportedFeature(){return xn(this,er)}set onUnsupportedFeature(hr){(0,_display_utils.deprecated)("The PDFDocumentLoadingTask onUnsupportedFeature property will be removed in the future."),Ns(this,er,hr)}get promise(){return this._capability.promise}async destroy(){var hr;this.destroyed=!0,await((hr=this._transport)==null?void 0:hr.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};St=new WeakMap,er=new WeakMap,js(tr,St,0);let PDFDocumentLoadingTask=tr;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(hr,gr,vr=!1,br=null){this.length=hr,this.initialData=gr,this.progressiveDone=vr,this.contentDispositionFilename=br,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(hr){this._rangeListeners.push(hr)}addProgressListener(hr){this._progressListeners.push(hr)}addProgressiveReadListener(hr){this._progressiveReadListeners.push(hr)}addProgressiveDoneListener(hr){this._progressiveDoneListeners.push(hr)}onDataRange(hr,gr){for(const vr of this._rangeListeners)vr(hr,gr)}onDataProgress(hr,gr){this._readyCapability.promise.then(()=>{for(const vr of this._progressListeners)vr(hr,gr)})}onDataProgressiveRead(hr){this._readyCapability.promise.then(()=>{for(const gr of this._progressiveReadListeners)gr(hr)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const hr of this._progressiveDoneListeners)hr()})}transportReady(){this._readyCapability.resolve()}requestDataRange(hr,gr){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(hr,gr){this._pdfInfo=hr,this._transport=gr}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(hr){return this._transport.getPage(hr)}getPageIndex(hr){return this._transport.getPageIndex(hr)}getDestinations(){return this._transport.getDestinations()}getDestination(hr){return this._transport.getDestination(hr)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(hr=!1){return this._transport.startCleanup(hr||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(hr,gr,vr,br,yr=!1){this._pageIndex=hr,this._pageInfo=gr,this._ownerDocument=br,this._transport=vr,this._stats=yr?new _display_utils.StatTimer:null,this._pdfBug=yr,this.commonObjs=vr.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:hr,rotation:gr=this.rotate,offsetX:vr=0,offsetY:br=0,dontFlip:yr=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:hr,rotation:gr,offsetX:vr,offsetY:br,dontFlip:yr})}getAnnotations({intent:hr="display"}={}){const gr=this._transport.getRenderingIntent(hr);return this._transport.getAnnotations(this._pageIndex,gr.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var hr;return((hr=this._transport._htmlForXfa)==null?void 0:hr.children[this._pageIndex])||null}render({canvasContext:hr,viewport:gr,intent:vr="display",annotationMode:br=_util.AnnotationMode.ENABLE,transform:yr=null,canvasFactory:Er=null,background:jr=null,optionalContentConfigPromise:_r=null,annotationCanvasMap:Cr=null,pageColors:Or=null,printAnnotationStorage:Pr=null}){var Jr,tn;(Jr=this._stats)==null||Jr.time("Overall");const Lr=this._transport.getRenderingIntent(vr,br,Pr);this.pendingCleanup=!1,_r||(_r=this._transport.getOptionalContentConfig());let Gr=this._intentStates.get(Lr.cacheKey);Gr||(Gr=Object.create(null),this._intentStates.set(Lr.cacheKey,Gr)),Gr.streamReaderCancelTimeout&&(clearTimeout(Gr.streamReaderCancelTimeout),Gr.streamReaderCancelTimeout=null);const Kr=Er||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),nn=!!(Lr.renderingIntent&_util.RenderingIntentFlag.PRINT);Gr.displayReadyCapability||(Gr.displayReadyCapability=(0,_util.createPromiseCapability)(),Gr.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(tn=this._stats)==null||tn.time("Page Request"),this._pumpOperatorList(Lr));const Qr=Yr=>{var Sr,Rr;Gr.renderTasks.delete(zr),(this.cleanupAfterRender||nn)&&(this.pendingCleanup=!0),this._tryCleanup(),Yr?(zr.capability.reject(Yr),this._abortOperatorList({intentState:Gr,reason:Yr instanceof Error?Yr:new Error(Yr)})):zr.capability.resolve(),(Sr=this._stats)==null||Sr.timeEnd("Rendering"),(Rr=this._stats)==null||Rr.timeEnd("Overall")},zr=new InternalRenderTask({callback:Qr,params:{canvasContext:hr,viewport:gr,transform:yr,background:jr},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Cr,operatorList:Gr.operatorList,pageIndex:this._pageIndex,canvasFactory:Kr,useRequestAnimationFrame:!nn,pdfBug:this._pdfBug,pageColors:Or});(Gr.renderTasks||(Gr.renderTasks=new Set)).add(zr);const Vr=zr.task;return Promise.all([Gr.displayReadyCapability.promise,_r]).then(([Yr,Sr])=>{var Rr;if(this.pendingCleanup){Qr();return}(Rr=this._stats)==null||Rr.time("Rendering"),zr.initializeGraphics({transparency:Yr,optionalContentConfig:Sr}),zr.operatorListChanged()}).catch(Qr),Vr}getOperatorList({intent:hr="display",annotationMode:gr=_util.AnnotationMode.ENABLE,printAnnotationStorage:vr=null}={}){var _r;function br(){Er.operatorList.lastChunk&&(Er.opListReadCapability.resolve(Er.operatorList),Er.renderTasks.delete(jr))}const yr=this._transport.getRenderingIntent(hr,gr,vr,!0);let Er=this._intentStates.get(yr.cacheKey);Er||(Er=Object.create(null),this._intentStates.set(yr.cacheKey,Er));let jr;return Er.opListReadCapability||(jr=Object.create(null),jr.operatorListChanged=br,Er.opListReadCapability=(0,_util.createPromiseCapability)(),(Er.renderTasks||(Er.renderTasks=new Set)).add(jr),Er.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(_r=this._stats)==null||_r.time("Page Request"),this._pumpOperatorList(yr)),Er.opListReadCapability.promise}streamTextContent({disableCombineTextItems:hr=!1,includeMarkedContent:gr=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:hr!==!0,includeMarkedContent:gr===!0},{highWaterMark:100,size(br){return br.items.length}})}getTextContent(hr={}){if(this._transport._htmlForXfa)return this.getXfa().then(vr=>_xfa_text.XfaText.textContent(vr));const gr=this.streamTextContent(hr);return new Promise(function(vr,br){function yr(){Er.read().then(function({value:_r,done:Cr}){if(Cr){vr(jr);return}Object.assign(jr.styles,_r.styles),jr.items.push(..._r.items),yr()},br)}const Er=gr.getReader(),jr={items:[],styles:Object.create(null)};yr()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const hr=[];for(const gr of this._intentStates.values())if(this._abortOperatorList({intentState:gr,reason:new Error("Page was destroyed."),force:!0}),!gr.opListReadCapability)for(const vr of gr.renderTasks)hr.push(vr.completed),vr.cancel();this.objs.clear();for(const gr of this._bitmaps)gr.close();return this._bitmaps.clear(),this.pendingCleanup=!1,Promise.all(hr)}cleanup(hr=!1){return this.pendingCleanup=!0,this._tryCleanup(hr)}_tryCleanup(hr=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:gr,operatorList:vr}of this._intentStates.values())if(gr.size>0||!vr.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),hr&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const gr of this._bitmaps)gr.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(hr,gr){var br,yr;const vr=this._intentStates.get(gr);vr&&((br=this._stats)==null||br.timeEnd("Page Request"),(yr=vr.displayReadyCapability)==null||yr.resolve(hr))}_renderPageChunk(hr,gr){for(let vr=0,br=hr.length;vr<br;vr++)gr.operatorList.fnArray.push(hr.fnArray[vr]),gr.operatorList.argsArray.push(hr.argsArray[vr]);gr.operatorList.lastChunk=hr.lastChunk,gr.operatorList.separateAnnots=hr.separateAnnots;for(const vr of gr.renderTasks)vr.operatorListChanged();hr.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:hr,cacheKey:gr,annotationStorageMap:vr}){const yr=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:hr,cacheKey:gr,annotationStorage:vr}).getReader(),Er=this._intentStates.get(gr);Er.streamReader=yr;const jr=()=>{yr.read().then(({value:_r,done:Cr})=>{if(Cr){Er.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(_r,Er),jr())},_r=>{if(Er.streamReader=null,!this._transport.destroyed){if(Er.operatorList){Er.operatorList.lastChunk=!0;for(const Cr of Er.renderTasks)Cr.operatorListChanged();this._tryCleanup()}if(Er.displayReadyCapability)Er.displayReadyCapability.reject(_r);else if(Er.opListReadCapability)Er.opListReadCapability.reject(_r);else throw _r}})};jr()}_abortOperatorList({intentState:hr,reason:gr,force:vr=!1}){if(hr.streamReader){if(hr.streamReaderCancelTimeout&&(clearTimeout(hr.streamReaderCancelTimeout),hr.streamReaderCancelTimeout=null),!vr){if(hr.renderTasks.size>0)return;if(gr instanceof _display_utils.RenderingCancelledException){let br=RENDERING_CANCELLED_TIMEOUT;gr.extraDelay>0&&gr.extraDelay<1e3&&(br+=gr.extraDelay),hr.streamReaderCancelTimeout=setTimeout(()=>{hr.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:hr,reason:gr,force:!0})},br);return}}if(hr.streamReader.cancel(new _util.AbortException(gr.message)).catch(()=>{}),hr.streamReader=null,!this._transport.destroyed){for(const[br,yr]of this._intentStates)if(yr===hr){this._intentStates.delete(br);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){js(this,rr,[]);js(this,nr,Promise.resolve())}postMessage(hr,gr){const vr={data:structuredClone(hr,gr)};xn(this,nr).then(()=>{for(const br of xn(this,rr))br.call(this,vr)})}addEventListener(hr,gr){xn(this,rr).push(gr)}removeEventListener(hr,gr){const vr=xn(this,rr).indexOf(gr);xn(this,rr).splice(vr,1)}terminate(){xn(this,rr).length=0}}rr=new WeakMap,nr=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const pr=(ar=document==null?void 0:document.currentScript)==null?void 0:ar.src;pr&&(PDFWorkerUtil.fallbackWorkerSrc=pr.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(pr,hr){let gr;try{if(gr=new URL(pr),!gr.origin||gr.origin==="null")return!1}catch{return!1}const vr=new URL(hr,gr);return gr.origin===vr.origin},PDFWorkerUtil.createCDNWrapper=function(pr){const hr=`importScripts("${pr}");`;return URL.createObjectURL(new Blob([hr]))}}const _PDFWorker=class _PDFWorker{constructor({name:pr=null,port:hr=null,verbosity:gr=(0,_util.getVerbosityLevel)()}={}){if(hr&&xn(_PDFWorker,sr).has(hr))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=pr,this.destroyed=!1,this.verbosity=gr,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,hr){xn(_PDFWorker,sr).set(hr,this),this._initializeFromPort(hr);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(pr){this._port=pr,this._messageHandler=new _message_handler.MessageHandler("main","worker",pr),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:pr}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,pr)||(pr=PDFWorkerUtil.createCDNWrapper(new URL(pr,window.location).href));const hr=new Worker(pr),gr=new _message_handler.MessageHandler("main","worker",hr),vr=()=>{hr.removeEventListener("error",br),gr.destroy(),hr.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},br=()=>{this._webWorker||vr()};hr.addEventListener("error",br),gr.on("test",Er=>{if(hr.removeEventListener("error",br),this.destroyed){vr();return}Er?(this._messageHandler=gr,this._port=hr,this._webWorker=hr,this._readyCapability.resolve(),gr.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),gr.destroy(),hr.terminate())}),gr.on("ready",Er=>{if(hr.removeEventListener("error",br),this.destroyed){vr();return}try{yr()}catch{this._setupFakeWorker()}});const yr=()=>{const Er=new Uint8Array;gr.send("test",Er,[Er.buffer])};yr();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(pr=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const hr=new LoopbackPort;this._port=hr;const gr=`fake${PDFWorkerUtil.fakeWorkerId++}`,vr=new _message_handler.MessageHandler(gr+"_worker",gr,hr);pr.setup(vr,hr);const br=new _message_handler.MessageHandler(gr,gr+"_worker",hr);this._messageHandler=br,this._readyCapability.resolve(),br.send("configure",{verbosity:this.verbosity})}).catch(pr=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${pr.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),xn(_PDFWorker,sr).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(pr){if(!(pr!=null&&pr.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return xn(this,sr).has(pr.port)?xn(this,sr).get(pr.port):new _PDFWorker(pr)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var pr;try{return((pr=globalThis.pdfjsWorker)==null?void 0:pr.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};sr=new WeakMap,js(_PDFWorker,sr,new WeakMap);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(hr,gr,vr,br){js(this,ir,new Map);js(this,or,new Map);js(this,lr,null);this.messageHandler=hr,this.loadingTask=gr,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:br.ownerDocument,styleElement:br.styleElement}),this._params=br,br.useWorkerFetch||(this.CMapReaderFactory=new br.CMapReaderFactory({baseUrl:br.cMapUrl,isCompressed:br.cMapPacked}),this.StandardFontDataFactory=new br.StandardFontDataFactory({baseUrl:br.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=vr,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(hr,gr=_util.AnnotationMode.ENABLE,vr=null,br=!1){let yr=_util.RenderingIntentFlag.DISPLAY,Er=null;switch(hr){case"any":yr=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":yr=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${hr}`)}switch(gr){case _util.AnnotationMode.DISABLE:yr+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:yr+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:yr+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,Er=(yr&_util.RenderingIntentFlag.PRINT&&vr instanceof _annotation_storage.PrintAnnotationStorage?vr:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${gr}`)}return br&&(yr+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:yr,cacheKey:`${yr}_${_annotation_storage.AnnotationStorage.getHash(Er)}`,annotationStorageMap:Er}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const hr=[];for(const vr of xn(this,ir).values())hr.push(vr._destroy());xn(this,ir).clear(),xn(this,or).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const gr=this.messageHandler.sendWithPromise("Terminate",null);return hr.push(gr),Promise.all(hr).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),Ns(this,lr,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:hr,loadingTask:gr}=this;hr.on("GetReader",(vr,br)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=yr=>{this._lastProgress={loaded:yr.loaded,total:yr.total}},br.onPull=()=>{this._fullReader.read().then(function({value:yr,done:Er}){if(Er){br.close();return}(0,_util.assert)(yr instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),br.enqueue(new Uint8Array(yr),1,[yr])}).catch(yr=>{br.error(yr)})},br.onCancel=yr=>{this._fullReader.cancel(yr),br.ready.catch(Er=>{if(!this.destroyed)throw Er})}}),hr.on("ReaderHeadersReady",vr=>{const br=(0,_util.createPromiseCapability)(),yr=this._fullReader;return yr.headersReady.then(()=>{var Er;(!yr.isStreamingSupported||!yr.isRangeSupported)&&(this._lastProgress&&((Er=gr.onProgress)==null||Er.call(gr,this._lastProgress)),yr.onProgress=jr=>{var _r;(_r=gr.onProgress)==null||_r.call(gr,{loaded:jr.loaded,total:jr.total})}),br.resolve({isStreamingSupported:yr.isStreamingSupported,isRangeSupported:yr.isRangeSupported,contentLength:yr.contentLength})},br.reject),br.promise}),hr.on("GetRangeReader",(vr,br)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const yr=this._networkStream.getRangeReader(vr.begin,vr.end);if(!yr){br.close();return}br.onPull=()=>{yr.read().then(function({value:Er,done:jr}){if(jr){br.close();return}(0,_util.assert)(Er instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),br.enqueue(new Uint8Array(Er),1,[Er])}).catch(Er=>{br.error(Er)})},br.onCancel=Er=>{yr.cancel(Er),br.ready.catch(jr=>{if(!this.destroyed)throw jr})}}),hr.on("GetDoc",({pdfInfo:vr})=>{this._numPages=vr.numPages,this._htmlForXfa=vr.htmlForXfa,delete vr.htmlForXfa,gr._capability.resolve(new PDFDocumentProxy(vr,this))}),hr.on("DocException",function(vr){let br;switch(vr.name){case"PasswordException":br=new _util.PasswordException(vr.message,vr.code);break;case"InvalidPDFException":br=new _util.InvalidPDFException(vr.message);break;case"MissingPDFException":br=new _util.MissingPDFException(vr.message);break;case"UnexpectedResponseException":br=new _util.UnexpectedResponseException(vr.message,vr.status);break;case"UnknownErrorException":br=new _util.UnknownErrorException(vr.message,vr.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}gr._capability.reject(br)}),hr.on("PasswordRequest",vr=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),gr.onPassword){const br=yr=>{yr instanceof Error?this._passwordCapability.reject(yr):this._passwordCapability.resolve({password:yr})};try{gr.onPassword(br,vr.code)}catch(yr){this._passwordCapability.reject(yr)}}else this._passwordCapability.reject(new _util.PasswordException(vr.message,vr.code));return this._passwordCapability.promise}),hr.on("DataLoaded",vr=>{var br;(br=gr.onProgress)==null||br.call(gr,{loaded:vr.length,total:vr.length}),this.downloadInfoCapability.resolve(vr)}),hr.on("StartRenderPage",vr=>{if(this.destroyed)return;xn(this,ir).get(vr.pageIndex)._startRenderPage(vr.transparency,vr.cacheKey)}),hr.on("commonobj",([vr,br,yr])=>{var Er;if(!this.destroyed&&!this.commonObjs.has(vr))switch(br){case"Font":const jr=this._params;if("error"in yr){const Or=yr.error;(0,_util.warn)(`Error during font loading: ${Or}`),this.commonObjs.resolve(vr,Or);break}let _r=null;jr.pdfBug&&((Er=globalThis.FontInspector)!=null&&Er.enabled)&&(_r={registerFont(Or,Pr){globalThis.FontInspector.fontAdded(Or,Pr)}});const Cr=new _font_loader.FontFaceObject(yr,{isEvalSupported:jr.isEvalSupported,disableFontFace:jr.disableFontFace,ignoreErrors:jr.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:_r});this.fontLoader.bind(Cr).catch(Or=>hr.sendWithPromise("FontFallback",{id:vr})).finally(()=>{!jr.fontExtraProperties&&Cr.data&&(Cr.data=null),this.commonObjs.resolve(vr,Cr)});break;case"FontPath":case"Image":this.commonObjs.resolve(vr,yr);break;default:throw new Error(`Got unknown common object type ${br}`)}}),hr.on("obj",([vr,br,yr,Er])=>{var _r;if(this.destroyed)return;const jr=xn(this,ir).get(br);if(!jr.objs.has(vr))switch(yr){case"Image":jr.objs.resolve(vr,Er);const Cr=8e6;if(Er){let Or;if(Er.bitmap){const{bitmap:Pr,width:Lr,height:Gr}=Er;Or=Lr*Gr*4,jr._bitmaps.add(Pr)}else Or=((_r=Er.data)==null?void 0:_r.length)||0;Or>Cr&&(jr.cleanupAfterRender=!0)}break;case"Pattern":jr.objs.resolve(vr,Er);break;default:throw new Error(`Got unknown object type ${yr}`)}}),hr.on("DocProgress",vr=>{var br;this.destroyed||(br=gr.onProgress)==null||br.call(gr,{loaded:vr.loaded,total:vr.total})}),hr.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),hr.on("FetchBuiltInCMap",vr=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(vr):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),hr.on("FetchStandardFontData",vr=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(vr):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:hr}){var gr,vr;this.destroyed||(vr=(gr=this.loadingTask).onUnsupportedFeature)==null||vr.call(gr,hr)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var hr;return this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:((hr=this._fullReader)==null?void 0:hr.filename)??null}).finally(()=>{this.annotationStorage.resetModified()})}getPage(hr){if(!Number.isInteger(hr)||hr<=0||hr>this._numPages)return Promise.reject(new Error("Invalid page request."));const gr=hr-1,vr=xn(this,or).get(gr);if(vr)return vr;const br=this.messageHandler.sendWithPromise("GetPage",{pageIndex:gr}).then(yr=>{if(this.destroyed)throw new Error("Transport destroyed");const Er=new PDFPageProxy(gr,yr,this,this._params.ownerDocument,this._params.pdfBug);return xn(this,ir).set(gr,Er),Er});return xn(this,or).set(gr,br),br}getPageIndex(hr){return typeof hr!="object"||hr===null||!Number.isInteger(hr.num)||hr.num<0||!Number.isInteger(hr.gen)||hr.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:hr.num,gen:hr.gen})}getAnnotations(hr,gr){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:hr,intent:gr})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(hr){return typeof hr!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:hr})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(hr){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:hr})}getStructTree(hr){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:hr})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(hr=>new _optional_content_config.OptionalContentConfig(hr))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return xn(this,lr)||Ns(this,lr,this.messageHandler.sendWithPromise("GetMetadata",null).then(hr=>{var gr,vr;return{info:hr[0],metadata:hr[1]?new _metadata.Metadata(hr[1]):null,contentDispositionFilename:((gr=this._fullReader)==null?void 0:gr.filename)??null,contentLength:((vr=this._fullReader)==null?void 0:vr.contentLength)??null}}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(hr=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const gr of xn(this,ir).values())if(!gr.cleanup())throw new Error(`startCleanup: Page ${gr.pageNumber} is currently rendering.`);this.commonObjs.clear(),hr||this.fontLoader.clear(),Ns(this,lr,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null}}get loadingParams(){const hr=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:hr.disableAutoFetch,enableXfa:hr.enableXfa})}}ir=new WeakMap,or=new WeakMap,lr=new WeakMap;class PDFObjects{constructor(){js(this,ur);js(this,cr,Object.create(null))}get(hr,gr=null){if(gr){const br=hs(this,ur,Mp).call(this,hr);return br.capability.promise.then(()=>gr(br.data)),null}const vr=xn(this,cr)[hr];if(!(vr!=null&&vr.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${hr}.`);return vr.data}has(hr){const gr=xn(this,cr)[hr];return(gr==null?void 0:gr.capability.settled)||!1}resolve(hr,gr=null){const vr=hs(this,ur,Mp).call(this,hr);vr.data=gr,vr.capability.resolve()}clear(){Ns(this,cr,Object.create(null))}}cr=new WeakMap,ur=new WeakSet,Mp=function(hr){const gr=xn(this,cr)[hr];return gr||(xn(this,cr)[hr]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(hr){js(this,fr,null);Ns(this,fr,hr),this.onContinue=null}get promise(){return xn(this,fr).capability.promise}cancel(hr=0){xn(this,fr).cancel(null,hr)}get separateAnnots(){const{separateAnnots:hr}=xn(this,fr).operatorList;if(!hr)return!1;const{annotationCanvasMap:gr}=xn(this,fr);return hr.form||hr.canvas&&(gr==null?void 0:gr.size)>0}}fr=new WeakMap,exports.RenderTask=RenderTask;const xr=class xr{constructor({callback:hr,params:gr,objs:vr,commonObjs:br,annotationCanvasMap:yr,operatorList:Er,pageIndex:jr,canvasFactory:_r,useRequestAnimationFrame:Cr=!1,pdfBug:Or=!1,pageColors:Pr=null}){this.callback=hr,this.params=gr,this.objs=vr,this.commonObjs=br,this.annotationCanvasMap=yr,this.operatorListIdx=null,this.operatorList=Er,this._pageIndex=jr,this.canvasFactory=_r,this._pdfBug=Or,this.pageColors=Pr,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=Cr===!0&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=gr.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:hr=!1,optionalContentConfig:gr}){var jr,_r;if(this.cancelled)return;if(this._canvas){if(xn(xr,mr).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");xn(xr,mr).add(this._canvas)}this._pdfBug&&((jr=globalThis.StepperManager)!=null&&jr.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:vr,viewport:br,transform:yr,background:Er}=this.params;this.gfx=new _canvas.CanvasGraphics(vr,this.commonObjs,this.objs,this.canvasFactory,{optionalContentConfig:gr},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:yr,viewport:br,transparency:hr,background:Er}),this.operatorListIdx=0,this.graphicsReady=!0,(_r=this.graphicsReadyCallback)==null||_r.call(this)}cancel(hr=null,gr=0){var vr;this.running=!1,this.cancelled=!0,(vr=this.gfx)==null||vr.endDrawing(),this._canvas&&xn(xr,mr).delete(this._canvas),this.callback(hr||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas",gr))}operatorListChanged(){var hr;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(hr=this.stepper)==null||hr.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&xn(xr,mr).delete(this._canvas),this.callback())))}};mr=new WeakMap,js(xr,mr,new WeakSet);let InternalRenderTask=xr;const version="3.3.122";exports.version=version;const build="562045607";exports.build=build},(St,er,tr)=>{var or,lr,cr,Tm,dr;Object.defineProperty(er,"__esModule",{value:!0}),er.PrintAnnotationStorage=er.AnnotationStorage=void 0;var rr=tr(1),nr=tr(4),ar=tr(8);class sr{constructor(){js(this,cr);js(this,or,!1);js(this,lr,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(mr,xr){const pr=xn(this,lr).get(mr);return pr===void 0?xr:Object.assign(xr,pr)}getRawValue(mr){return xn(this,lr).get(mr)}remove(mr){if(xn(this,lr).delete(mr),xn(this,lr).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const xr of xn(this,lr).values())if(xr instanceof nr.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(mr,xr){const pr=xn(this,lr).get(mr);let hr=!1;if(pr!==void 0)for(const[gr,vr]of Object.entries(xr))pr[gr]!==vr&&(hr=!0,pr[gr]=vr);else hr=!0,xn(this,lr).set(mr,xr);hr&&hs(this,cr,Tm).call(this),xr instanceof nr.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(xr.constructor._type)}has(mr){return xn(this,lr).has(mr)}getAll(){return xn(this,lr).size>0?(0,rr.objectFromMap)(xn(this,lr)):null}get size(){return xn(this,lr).size}resetModified(){xn(this,or)&&(Ns(this,or,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new ir(this)}get serializable(){if(xn(this,lr).size===0)return null;const mr=new Map;for(const[xr,pr]of xn(this,lr)){const hr=pr instanceof nr.AnnotationEditor?pr.serialize():pr;hr&&mr.set(xr,hr)}return mr}static getHash(mr){if(!mr)return"";const xr=new ar.MurmurHash3_64;for(const[pr,hr]of mr)xr.update(`${pr}:${JSON.stringify(hr)}`);return xr.hexdigest()}}or=new WeakMap,lr=new WeakMap,cr=new WeakSet,Tm=function(){xn(this,or)||(Ns(this,or,!0),typeof this.onSetModified=="function"&&this.onSetModified())},er.AnnotationStorage=sr;class ir extends sr{constructor(xr){super();js(this,dr,null);Ns(this,dr,structuredClone(xr.serializable))}get print(){(0,rr.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return xn(this,dr)}}dr=new WeakMap,er.PrintAnnotationStorage=ir},(St,er,tr)=>{var sr,ir,or,lr,cr,ur;Object.defineProperty(er,"__esModule",{value:!0}),er.AnnotationEditor=void 0;var rr=tr(5),nr=tr(1);const dr=class dr{constructor(mr){js(this,sr,this.focusin.bind(this));js(this,ir,this.focusout.bind(this));js(this,or,!1);js(this,lr,!1);js(this,cr,!1);_i(this,"_uiManager",null);js(this,ur,dr._zIndex++);this.constructor===dr&&(0,nr.unreachable)("Cannot initialize AnnotationEditor."),this.parent=mr.parent,this.id=mr.id,this.width=this.height=null,this.pageIndex=mr.parent.pageIndex,this.name=mr.name,this.div=null,this._uiManager=mr.uiManager;const{rotation:xr,rawDims:{pageWidth:pr,pageHeight:hr,pageX:gr,pageY:vr}}=this.parent.viewport;this.rotation=xr,this.pageDimensions=[pr,hr],this.pageTranslation=[gr,vr];const[br,yr]=this.parentDimensions;this.x=mr.x/br,this.y=mr.y/yr,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,nr.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}addCommands(mr){this._uiManager.addCommands(mr)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=xn(this,ur)}setParent(mr){mr!==null&&(this.pageIndex=mr.pageIndex,this.pageDimensions=mr.pageDimensions),this.parent=mr}focusin(mr){xn(this,or)?Ns(this,or,!1):this.parent.setSelected(this)}focusout(mr){var pr;if(!this.isAttachedToDOM)return;const xr=mr.relatedTarget;xr!=null&&xr.closest(`#${this.id}`)||(mr.preventDefault(),(pr=this.parent)!=null&&pr.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}dragstart(mr){const xr=this.parent.div.getBoundingClientRect();this.startX=mr.clientX-xr.x,this.startY=mr.clientY-xr.y,mr.dataTransfer.setData("text/plain",this.id),mr.dataTransfer.effectAllowed="move"}setAt(mr,xr,pr,hr){const[gr,vr]=this.parentDimensions;[pr,hr]=this.screenToPageTranslation(pr,hr),this.x=(mr+pr)/gr,this.y=(xr+hr)/vr,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}translate(mr,xr){const[pr,hr]=this.parentDimensions;[mr,xr]=this.screenToPageTranslation(mr,xr),this.x+=mr/pr,this.y+=xr/hr,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}screenToPageTranslation(mr,xr){switch(this.parentRotation){case 90:return[xr,-mr];case 180:return[-mr,-xr];case 270:return[-xr,mr];default:return[mr,xr]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return this._uiManager.viewParameters.rotation}get parentDimensions(){const{realScale:mr}=this._uiManager.viewParameters,[xr,pr]=this.pageDimensions;return[xr*mr,pr*mr]}setDims(mr,xr){const[pr,hr]=this.parentDimensions;this.div.style.width=`${100*mr/pr}%`,this.div.style.height=`${100*xr/hr}%`}fixDims(){const{style:mr}=this.div,{height:xr,width:pr}=mr,hr=pr.endsWith("%"),gr=xr.endsWith("%");if(hr&&gr)return;const[vr,br]=this.parentDimensions;hr||(mr.width=`${100*parseFloat(pr)/vr}%`),gr||(mr.height=`${100*parseFloat(xr)/br}%`)}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",xn(this,sr)),this.div.addEventListener("focusout",xn(this,ir));const[mr,xr]=this.getInitialTranslation();return this.translate(mr,xr),(0,rr.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(mr){const{isMac:xr}=nr.FeatureTest.platform;if(mr.button!==0||mr.ctrlKey&&xr){mr.preventDefault();return}mr.ctrlKey&&!xr||mr.shiftKey||mr.metaKey&&xr?this.parent.toggleSelected(this):this.parent.setSelected(this),Ns(this,or,!0)}getRect(mr,xr){const pr=this.parentScale,[hr,gr]=this.pageDimensions,[vr,br]=this.pageTranslation,yr=mr/pr,Er=xr/pr,jr=this.x*hr,_r=this.y*gr,Cr=this.width*hr,Or=this.height*gr;switch(this.rotation){case 0:return[jr+yr+vr,gr-_r-Er-Or+br,jr+yr+Cr+vr,gr-_r-Er+br];case 90:return[jr+Er+vr,gr-_r+yr+br,jr+Er+Or+vr,gr-_r+yr+Cr+br];case 180:return[jr-yr-Cr+vr,gr-_r+Er+br,jr-yr+vr,gr-_r+Er+Or+br];case 270:return[jr-Er-Or+vr,gr-_r-yr-Cr+br,jr-Er+vr,gr-_r-yr+br];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(mr,xr){const[pr,hr,gr,vr]=mr,br=gr-pr,yr=vr-hr;switch(this.rotation){case 0:return[pr,xr-vr,br,yr];case 90:return[pr,xr-hr,yr,br];case 180:return[gr,xr-hr,br,yr];case 270:return[gr,xr-vr,yr,br];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Ns(this,cr,!0)}disableEditMode(){Ns(this,cr,!1)}isInEditMode(){return xn(this,cr)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var mr;(mr=this.div)==null||mr.addEventListener("focusin",xn(this,sr))}serialize(){(0,nr.unreachable)("An editor must be serializable")}static deserialize(mr,xr,pr){const hr=new this.prototype.constructor({parent:xr,id:xr.getNextId(),uiManager:pr});hr.rotation=mr.rotation;const[gr,vr]=hr.pageDimensions,[br,yr,Er,jr]=hr.getRectInCurrentCoords(mr.rect,vr);return hr.x=br/gr,hr.y=yr/vr,hr.width=Er/gr,hr.height=jr/vr,hr}remove(){this.div.removeEventListener("focusin",xn(this,sr)),this.div.removeEventListener("focusout",xn(this,ir)),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){var mr;(mr=this.div)==null||mr.classList.add("selectedEditor")}unselect(){var mr;(mr=this.div)==null||mr.classList.remove("selectedEditor")}updateParams(mr,xr){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return xn(this,lr)}set isEditing(mr){Ns(this,lr,mr),mr?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}};sr=new WeakMap,ir=new WeakMap,or=new WeakMap,lr=new WeakMap,cr=new WeakMap,ur=new WeakMap,_i(dr,"_colorManager",new rr.ColorManager),_i(dr,"_zIndex",1);let ar=dr;er.AnnotationEditor=ar},(St,er,tr)=>{var dr,fr,mr,xr,pr,hr,Pm,br,yr,Er,jr,_r,Cr,Or,Pr,Lr,Gr,Kr,nn,Qr,zr,Vr,Jr,tn,Yr,Sr,Rr,Tr,Dr,Mr,Br,Fm,Bp,Dm,Lm,Su,Z0,Om,$m,Up,Q0,zp;Object.defineProperty(er,"__esModule",{value:!0}),er.KeyboardManager=er.CommandManager=er.ColorManager=er.AnnotationEditorUIManager=void 0,er.bindEvents=ar,er.opacityToHex=sr;var rr=tr(1),nr=tr(6);function ar(Dn,pn,Sn){for(const wn of Sn)pn.addEventListener(wn,Dn[wn].bind(Dn))}function sr(Dn){return Math.round(Math.min(255,Math.max(1,255*Dn))).toString(16).padStart(2,"0")}class ir{constructor(){js(this,dr,0)}getId(){return`${rr.AnnotationEditorPrefix}${Ip(this,dr)._++}`}}dr=new WeakMap;class or{constructor(pn=128){js(this,fr,[]);js(this,mr,!1);js(this,xr);js(this,pr,-1);Ns(this,xr,pn)}add({cmd:pn,undo:Sn,mustExec:wn,type:Vn=NaN,overwriteIfSameType:Yn=!1,keepUndo:ns=!1}){if(wn&&pn(),xn(this,mr))return;const ls={cmd:pn,undo:Sn,type:Vn};if(xn(this,pr)===-1){xn(this,fr).length>0&&(xn(this,fr).length=0),Ns(this,pr,0),xn(this,fr).push(ls);return}if(Yn&&xn(this,fr)[xn(this,pr)].type===Vn){ns&&(ls.undo=xn(this,fr)[xn(this,pr)].undo),xn(this,fr)[xn(this,pr)]=ls;return}const vs=xn(this,pr)+1;vs===xn(this,xr)?xn(this,fr).splice(0,1):(Ns(this,pr,vs),vs<xn(this,fr).length&&xn(this,fr).splice(vs)),xn(this,fr).push(ls)}undo(){xn(this,pr)!==-1&&(Ns(this,mr,!0),xn(this,fr)[xn(this,pr)].undo(),Ns(this,mr,!1),Ns(this,pr,xn(this,pr)-1))}redo(){xn(this,pr)<xn(this,fr).length-1&&(Ns(this,pr,xn(this,pr)+1),Ns(this,mr,!0),xn(this,fr)[xn(this,pr)].cmd(),Ns(this,mr,!1))}hasSomethingToUndo(){return xn(this,pr)!==-1}hasSomethingToRedo(){return xn(this,pr)<xn(this,fr).length-1}destroy(){Ns(this,fr,null)}}fr=new WeakMap,mr=new WeakMap,xr=new WeakMap,pr=new WeakMap,er.CommandManager=or;class lr{constructor(pn){js(this,hr);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:Sn}=rr.FeatureTest.platform;for(const[wn,Vn]of pn)for(const Yn of wn){const ns=Yn.startsWith("mac+");Sn&&ns?(this.callbacks.set(Yn.slice(4),Vn),this.allKeys.add(Yn.split("+").at(-1))):!Sn&&!ns&&(this.callbacks.set(Yn,Vn),this.allKeys.add(Yn.split("+").at(-1)))}}exec(pn,Sn){if(!this.allKeys.has(Sn.key))return;const wn=this.callbacks.get(hs(this,hr,Pm).call(this,Sn));wn&&(wn.bind(pn)(),Sn.stopPropagation(),Sn.preventDefault())}}hr=new WeakSet,Pm=function(pn){pn.altKey&&this.buffer.push("alt"),pn.ctrlKey&&this.buffer.push("ctrl"),pn.metaKey&&this.buffer.push("meta"),pn.shiftKey&&this.buffer.push("shift"),this.buffer.push(pn.key);const Sn=this.buffer.join("+");return this.buffer.length=0,Sn},er.KeyboardManager=lr;const vr=class vr{get _colors(){const pn=new Map([["CanvasText",null],["Canvas",null]]);return(0,nr.getColorValues)(pn),(0,rr.shadow)(this,"_colors",pn)}convert(pn){const Sn=(0,nr.getRGB)(pn);if(!window.matchMedia("(forced-colors: active)").matches)return Sn;for(const[wn,Vn]of this._colors)if(Vn.every((Yn,ns)=>Yn===Sn[ns]))return vr._colorsMapping.get(wn);return Sn}getHexCode(pn){const Sn=this._colors.get(pn);return Sn?rr.Util.makeHexColor(...Sn):pn}};_i(vr,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let cr=vr;er.ColorManager=cr;const yn=class yn{constructor(pn,Sn,wn){js(this,Br);js(this,br,null);js(this,yr,new Map);js(this,Er,new Map);js(this,jr,null);js(this,_r,new or);js(this,Cr,0);js(this,Or,null);js(this,Pr,new Set);js(this,Lr,null);js(this,Gr,new ir);js(this,Kr,!1);js(this,nn,rr.AnnotationEditorType.NONE);js(this,Qr,new Set);js(this,zr,this.copy.bind(this));js(this,Vr,this.cut.bind(this));js(this,Jr,this.paste.bind(this));js(this,tn,this.keydown.bind(this));js(this,Yr,this.onEditingAction.bind(this));js(this,Sr,this.onPageChanging.bind(this));js(this,Rr,this.onScaleChanging.bind(this));js(this,Tr,this.onRotationChanging.bind(this));js(this,Dr,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});js(this,Mr,null);Ns(this,Mr,pn),Ns(this,Lr,Sn),xn(this,Lr)._on("editingaction",xn(this,Yr)),xn(this,Lr)._on("pagechanging",xn(this,Sr)),xn(this,Lr)._on("scalechanging",xn(this,Rr)),xn(this,Lr)._on("rotationchanging",xn(this,Tr)),Ns(this,jr,wn),this.viewParameters={realScale:nr.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){hs(this,Br,Bp).call(this),xn(this,Lr)._off("editingaction",xn(this,Yr)),xn(this,Lr)._off("pagechanging",xn(this,Sr)),xn(this,Lr)._off("scalechanging",xn(this,Rr)),xn(this,Lr)._off("rotationchanging",xn(this,Tr));for(const pn of xn(this,Er).values())pn.destroy();xn(this,Er).clear(),xn(this,yr).clear(),xn(this,Pr).clear(),Ns(this,br,null),xn(this,Qr).clear(),xn(this,_r).destroy()}onPageChanging({pageNumber:pn}){Ns(this,Cr,pn-1)}focusMainContainer(){xn(this,Mr).focus()}addShouldRescale(pn){xn(this,Pr).add(pn)}removeShouldRescale(pn){xn(this,Pr).delete(pn)}onScaleChanging({scale:pn}){this.commitOrRemove(),this.viewParameters.realScale=pn*nr.PixelsPerInch.PDF_TO_CSS_UNITS;for(const Sn of xn(this,Pr))Sn.onScaleChanging()}onRotationChanging({pagesRotation:pn}){this.commitOrRemove(),this.viewParameters.rotation=pn}addToAnnotationStorage(pn){!pn.isEmpty()&&xn(this,jr)&&!xn(this,jr).has(pn.id)&&xn(this,jr).setValue(pn.id,pn)}copy(pn){if(pn.preventDefault(),xn(this,br)&&xn(this,br).commitOrRemove(),!this.hasSelection)return;const Sn=[];for(const wn of xn(this,Qr))wn.isEmpty()||Sn.push(wn.serialize());Sn.length!==0&&pn.clipboardData.setData("application/pdfjs",JSON.stringify(Sn))}cut(pn){this.copy(pn),this.delete()}paste(pn){pn.preventDefault();let Sn=pn.clipboardData.getData("application/pdfjs");if(!Sn)return;try{Sn=JSON.parse(Sn)}catch(Vn){(0,rr.warn)(`paste: "${Vn.message}".`);return}if(!Array.isArray(Sn))return;this.unselectAll();const wn=xn(this,Er).get(xn(this,Cr));try{const Vn=[];for(const ls of Sn){const vs=wn.deserialize(ls);if(!vs)return;Vn.push(vs)}const Yn=()=>{for(const ls of Vn)hs(this,Br,Up).call(this,ls);hs(this,Br,zp).call(this,Vn)},ns=()=>{for(const ls of Vn)ls.remove()};this.addCommands({cmd:Yn,undo:ns,mustExec:!0})}catch(Vn){(0,rr.warn)(`paste: "${Vn.message}".`)}}keydown(pn){var Sn;(Sn=this.getActive())!=null&&Sn.shouldGetKeyboardEvents()||yn._keyboardManager.exec(this,pn)}onEditingAction(pn){["undo","redo","delete","selectAll"].includes(pn.name)&&this[pn.name]()}setEditingState(pn){pn?(hs(this,Br,Fm).call(this),hs(this,Br,Dm).call(this),hs(this,Br,Su).call(this,{isEditing:xn(this,nn)!==rr.AnnotationEditorType.NONE,isEmpty:hs(this,Br,Q0).call(this),hasSomethingToUndo:xn(this,_r).hasSomethingToUndo(),hasSomethingToRedo:xn(this,_r).hasSomethingToRedo(),hasSelectedEditor:!1})):(hs(this,Br,Bp).call(this),hs(this,Br,Lm).call(this),hs(this,Br,Su).call(this,{isEditing:!1}))}registerEditorTypes(pn){if(!xn(this,Or)){Ns(this,Or,pn);for(const Sn of xn(this,Or))hs(this,Br,Z0).call(this,Sn.defaultPropertiesToUpdate)}}getId(){return xn(this,Gr).getId()}get currentLayer(){return xn(this,Er).get(xn(this,Cr))}get currentPageIndex(){return xn(this,Cr)}addLayer(pn){xn(this,Er).set(pn.pageIndex,pn),xn(this,Kr)?pn.enable():pn.disable()}removeLayer(pn){xn(this,Er).delete(pn.pageIndex)}updateMode(pn){if(Ns(this,nn,pn),pn===rr.AnnotationEditorType.NONE)this.setEditingState(!1),hs(this,Br,$m).call(this);else{this.setEditingState(!0),hs(this,Br,Om).call(this);for(const Sn of xn(this,Er).values())Sn.updateMode(pn)}}updateToolbar(pn){pn!==xn(this,nn)&&xn(this,Lr).dispatch("switchannotationeditormode",{source:this,mode:pn})}updateParams(pn,Sn){if(xn(this,Or)){for(const wn of xn(this,Qr))wn.updateParams(pn,Sn);for(const wn of xn(this,Or))wn.updateDefaultParams(pn,Sn)}}getEditors(pn){const Sn=[];for(const wn of xn(this,yr).values())wn.pageIndex===pn&&Sn.push(wn);return Sn}getEditor(pn){return xn(this,yr).get(pn)}addEditor(pn){xn(this,yr).set(pn.id,pn)}removeEditor(pn){var Sn;xn(this,yr).delete(pn.id),this.unselect(pn),(Sn=xn(this,jr))==null||Sn.remove(pn.id)}setActiveEditor(pn){xn(this,br)!==pn&&(Ns(this,br,pn),pn&&hs(this,Br,Z0).call(this,pn.propertiesToUpdate))}toggleSelected(pn){if(xn(this,Qr).has(pn)){xn(this,Qr).delete(pn),pn.unselect(),hs(this,Br,Su).call(this,{hasSelectedEditor:this.hasSelection});return}xn(this,Qr).add(pn),pn.select(),hs(this,Br,Z0).call(this,pn.propertiesToUpdate),hs(this,Br,Su).call(this,{hasSelectedEditor:!0})}setSelected(pn){for(const Sn of xn(this,Qr))Sn!==pn&&Sn.unselect();xn(this,Qr).clear(),xn(this,Qr).add(pn),pn.select(),hs(this,Br,Z0).call(this,pn.propertiesToUpdate),hs(this,Br,Su).call(this,{hasSelectedEditor:!0})}isSelected(pn){return xn(this,Qr).has(pn)}unselect(pn){pn.unselect(),xn(this,Qr).delete(pn),hs(this,Br,Su).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return xn(this,Qr).size!==0}undo(){xn(this,_r).undo(),hs(this,Br,Su).call(this,{hasSomethingToUndo:xn(this,_r).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:hs(this,Br,Q0).call(this)})}redo(){xn(this,_r).redo(),hs(this,Br,Su).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:xn(this,_r).hasSomethingToRedo(),isEmpty:hs(this,Br,Q0).call(this)})}addCommands(pn){xn(this,_r).add(pn),hs(this,Br,Su).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:hs(this,Br,Q0).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const pn=[...xn(this,Qr)],Sn=()=>{for(const Vn of pn)Vn.remove()},wn=()=>{for(const Vn of pn)hs(this,Br,Up).call(this,Vn)};this.addCommands({cmd:Sn,undo:wn,mustExec:!0})}commitOrRemove(){var pn;(pn=xn(this,br))==null||pn.commitOrRemove()}selectAll(){for(const pn of xn(this,Qr))pn.commit();hs(this,Br,zp).call(this,xn(this,yr).values())}unselectAll(){if(xn(this,br)){xn(this,br).commitOrRemove();return}if(xn(this,Qr).size!==0){for(const pn of xn(this,Qr))pn.unselect();xn(this,Qr).clear(),hs(this,Br,Su).call(this,{hasSelectedEditor:!1})}}isActive(pn){return xn(this,br)===pn}getActive(){return xn(this,br)}getMode(){return xn(this,nn)}};br=new WeakMap,yr=new WeakMap,Er=new WeakMap,jr=new WeakMap,_r=new WeakMap,Cr=new WeakMap,Or=new WeakMap,Pr=new WeakMap,Lr=new WeakMap,Gr=new WeakMap,Kr=new WeakMap,nn=new WeakMap,Qr=new WeakMap,zr=new WeakMap,Vr=new WeakMap,Jr=new WeakMap,tn=new WeakMap,Yr=new WeakMap,Sr=new WeakMap,Rr=new WeakMap,Tr=new WeakMap,Dr=new WeakMap,Mr=new WeakMap,Br=new WeakSet,Fm=function(){xn(this,Mr).addEventListener("keydown",xn(this,tn))},Bp=function(){xn(this,Mr).removeEventListener("keydown",xn(this,tn))},Dm=function(){document.addEventListener("copy",xn(this,zr)),document.addEventListener("cut",xn(this,Vr)),document.addEventListener("paste",xn(this,Jr))},Lm=function(){document.removeEventListener("copy",xn(this,zr)),document.removeEventListener("cut",xn(this,Vr)),document.removeEventListener("paste",xn(this,Jr))},Su=function(pn){Object.entries(pn).some(([wn,Vn])=>xn(this,Dr)[wn]!==Vn)&&xn(this,Lr).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(xn(this,Dr),pn)})},Z0=function(pn){xn(this,Lr).dispatch("annotationeditorparamschanged",{source:this,details:pn})},Om=function(){if(!xn(this,Kr)){Ns(this,Kr,!0);for(const pn of xn(this,Er).values())pn.enable()}},$m=function(){if(this.unselectAll(),xn(this,Kr)){Ns(this,Kr,!1);for(const pn of xn(this,Er).values())pn.disable()}},Up=function(pn){const Sn=xn(this,Er).get(pn.pageIndex);Sn?Sn.addOrRebuild(pn):this.addEditor(pn)},Q0=function(){if(xn(this,yr).size===0)return!0;if(xn(this,yr).size===1)for(const pn of xn(this,yr).values())return pn.isEmpty();return!1},zp=function(pn){xn(this,Qr).clear();for(const Sn of pn)Sn.isEmpty()||(xn(this,Qr).add(Sn),Sn.select());hs(this,Br,Su).call(this,{hasSelectedEditor:!0})},_i(yn,"_keyboardManager",new lr([[["ctrl+a","mac+meta+a"],yn.prototype.selectAll],[["ctrl+z","mac+meta+z"],yn.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],yn.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],yn.prototype.delete],[["Escape","mac+Escape"],yn.prototype.unselectAll]]));let ur=yn;er.AnnotationEditorUIManager=ur},(St,er,tr)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.StatTimer=er.RenderingCancelledException=er.PixelsPerInch=er.PageViewport=er.PDFDateString=er.DOMStandardFontDataFactory=er.DOMSVGFactory=er.DOMCanvasFactory=er.DOMCMapReaderFactory=er.AnnotationPrefix=void 0,er.deprecated=Er,er.getColorValues=Pr,er.getCurrentTransform=Lr,er.getCurrentTransformInverse=Gr,er.getFilenameFromUrl=hr,er.getPdfFilenameFromUrl=gr,er.getRGB=Or,er.getXfaPageViewport=Cr,er.isDataScheme=xr,er.isPdfFile=pr,er.isValidFetchUrl=br,er.loadScript=yr,er.setLayerDimensions=Kr;var rr=tr(7),nr=tr(1);const ar="http://www.w3.org/2000/svg",sr="pdfjs_internal_id_";er.AnnotationPrefix=sr;const nn=class nn{};_i(nn,"CSS",96),_i(nn,"PDF",72),_i(nn,"PDF_TO_CSS_UNITS",nn.CSS/nn.PDF);let ir=nn;er.PixelsPerInch=ir;class or extends rr.BaseCanvasFactory{constructor({ownerDocument:zr=globalThis.document}={}){super(),this._document=zr}_createCanvas(zr,Vr){const Jr=this._document.createElement("canvas");return Jr.width=zr,Jr.height=Vr,Jr}}er.DOMCanvasFactory=or;async function lr(Qr,zr=!1){if(br(Qr,document.baseURI)){const Vr=await fetch(Qr);if(!Vr.ok)throw new Error(Vr.statusText);return zr?new Uint8Array(await Vr.arrayBuffer()):(0,nr.stringToBytes)(await Vr.text())}return new Promise((Vr,Jr)=>{const tn=new XMLHttpRequest;tn.open("GET",Qr,!0),zr&&(tn.responseType="arraybuffer"),tn.onreadystatechange=()=>{if(tn.readyState===XMLHttpRequest.DONE){if(tn.status===200||tn.status===0){let Yr;if(zr&&tn.response?Yr=new Uint8Array(tn.response):!zr&&tn.responseText&&(Yr=(0,nr.stringToBytes)(tn.responseText)),Yr){Vr(Yr);return}}Jr(new Error(tn.statusText))}},tn.send(null)})}class cr extends rr.BaseCMapReaderFactory{_fetchData(zr,Vr){return lr(zr,this.isCompressed).then(Jr=>({cMapData:Jr,compressionType:Vr}))}}er.DOMCMapReaderFactory=cr;class ur extends rr.BaseStandardFontDataFactory{_fetchData(zr){return lr(zr,!0)}}er.DOMStandardFontDataFactory=ur;class dr extends rr.BaseSVGFactory{_createSVG(zr){return document.createElementNS(ar,zr)}}er.DOMSVGFactory=dr;class fr{constructor({viewBox:zr,scale:Vr,rotation:Jr,offsetX:tn=0,offsetY:Yr=0,dontFlip:Sr=!1}){this.viewBox=zr,this.scale=Vr,this.rotation=Jr,this.offsetX=tn,this.offsetY=Yr;const Rr=(zr[2]+zr[0])/2,Tr=(zr[3]+zr[1])/2;let Dr,Mr,Br,qr;switch(Jr%=360,Jr<0&&(Jr+=360),Jr){case 180:Dr=-1,Mr=0,Br=0,qr=1;break;case 90:Dr=0,Mr=1,Br=1,qr=0;break;case 270:Dr=0,Mr=-1,Br=-1,qr=0;break;case 0:Dr=1,Mr=0,Br=0,qr=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Sr&&(Br=-Br,qr=-qr);let Wr,sn,un,Nr;Dr===0?(Wr=Math.abs(Tr-zr[1])*Vr+tn,sn=Math.abs(Rr-zr[0])*Vr+Yr,un=(zr[3]-zr[1])*Vr,Nr=(zr[2]-zr[0])*Vr):(Wr=Math.abs(Rr-zr[0])*Vr+tn,sn=Math.abs(Tr-zr[1])*Vr+Yr,un=(zr[2]-zr[0])*Vr,Nr=(zr[3]-zr[1])*Vr),this.transform=[Dr*Vr,Mr*Vr,Br*Vr,qr*Vr,Wr-Dr*Vr*Rr-Br*Vr*Tr,sn-Mr*Vr*Rr-qr*Vr*Tr],this.width=un,this.height=Nr}get rawDims(){const{viewBox:zr}=this;return(0,nr.shadow)(this,"rawDims",{pageWidth:zr[2]-zr[0],pageHeight:zr[3]-zr[1],pageX:zr[0],pageY:zr[1]})}clone({scale:zr=this.scale,rotation:Vr=this.rotation,offsetX:Jr=this.offsetX,offsetY:tn=this.offsetY,dontFlip:Yr=!1}={}){return new fr({viewBox:this.viewBox.slice(),scale:zr,rotation:Vr,offsetX:Jr,offsetY:tn,dontFlip:Yr})}convertToViewportPoint(zr,Vr){return nr.Util.applyTransform([zr,Vr],this.transform)}convertToViewportRectangle(zr){const Vr=nr.Util.applyTransform([zr[0],zr[1]],this.transform),Jr=nr.Util.applyTransform([zr[2],zr[3]],this.transform);return[Vr[0],Vr[1],Jr[0],Jr[1]]}convertToPdfPoint(zr,Vr){return nr.Util.applyInverseTransform([zr,Vr],this.transform)}}er.PageViewport=fr;class mr extends nr.BaseException{constructor(zr,Vr,Jr=0){super(zr,"RenderingCancelledException"),this.type=Vr,this.extraDelay=Jr}}er.RenderingCancelledException=mr;function xr(Qr){const zr=Qr.length;let Vr=0;for(;Vr<zr&&Qr[Vr].trim()==="";)Vr++;return Qr.substring(Vr,Vr+5).toLowerCase()==="data:"}function pr(Qr){return typeof Qr=="string"&&/\.pdf$/i.test(Qr)}function hr(Qr,zr=!1){return zr||([Qr]=Qr.split(/[#?]/,1)),Qr.substring(Qr.lastIndexOf("/")+1)}function gr(Qr,zr="document.pdf"){if(typeof Qr!="string")return zr;if(xr(Qr))return(0,nr.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),zr;const Vr=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Jr=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,tn=Vr.exec(Qr);let Yr=Jr.exec(tn[1])||Jr.exec(tn[2])||Jr.exec(tn[3]);if(Yr&&(Yr=Yr[0],Yr.includes("%")))try{Yr=Jr.exec(decodeURIComponent(Yr))[0]}catch{}return Yr||zr}class vr{constructor(){_i(this,"started",Object.create(null));_i(this,"times",[])}time(zr){zr in this.started&&(0,nr.warn)(`Timer is already running for ${zr}`),this.started[zr]=Date.now()}timeEnd(zr){zr in this.started||(0,nr.warn)(`Timer has not been started for ${zr}`),this.times.push({name:zr,start:this.started[zr],end:Date.now()}),delete this.started[zr]}toString(){const zr=[];let Vr=0;for(const{name:Jr}of this.times)Vr=Math.max(Jr.length,Vr);for(const{name:Jr,start:tn,end:Yr}of this.times)zr.push(`${Jr.padEnd(Vr)} ${Yr-tn}ms
`);return zr.join("")}}er.StatTimer=vr;function br(Qr,zr){try{const{protocol:Vr}=zr?new URL(Qr,zr):new URL(Qr);return Vr==="http:"||Vr==="https:"}catch{return!1}}function yr(Qr,zr=!1){return new Promise((Vr,Jr)=>{const tn=document.createElement("script");tn.src=Qr,tn.onload=function(Yr){zr&&tn.remove(),Vr(Yr)},tn.onerror=function(){Jr(new Error(`Cannot load script at: ${tn.src}`))},(document.head||document.documentElement).append(tn)})}function Er(Qr){console.log("Deprecated API usage: "+Qr)}let jr;class _r{static toDateObject(zr){if(!zr||typeof zr!="string")return null;jr||(jr=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const Vr=jr.exec(zr);if(!Vr)return null;const Jr=parseInt(Vr[1],10);let tn=parseInt(Vr[2],10);tn=tn>=1&&tn<=12?tn-1:0;let Yr=parseInt(Vr[3],10);Yr=Yr>=1&&Yr<=31?Yr:1;let Sr=parseInt(Vr[4],10);Sr=Sr>=0&&Sr<=23?Sr:0;let Rr=parseInt(Vr[5],10);Rr=Rr>=0&&Rr<=59?Rr:0;let Tr=parseInt(Vr[6],10);Tr=Tr>=0&&Tr<=59?Tr:0;const Dr=Vr[7]||"Z";let Mr=parseInt(Vr[8],10);Mr=Mr>=0&&Mr<=23?Mr:0;let Br=parseInt(Vr[9],10)||0;return Br=Br>=0&&Br<=59?Br:0,Dr==="-"?(Sr+=Mr,Rr+=Br):Dr==="+"&&(Sr-=Mr,Rr-=Br),new Date(Date.UTC(Jr,tn,Yr,Sr,Rr,Tr))}}er.PDFDateString=_r;function Cr(Qr,{scale:zr=1,rotation:Vr=0}){const{width:Jr,height:tn}=Qr.attributes.style,Yr=[0,0,parseInt(Jr),parseInt(tn)];return new fr({viewBox:Yr,scale:zr,rotation:Vr})}function Or(Qr){if(Qr.startsWith("#")){const zr=parseInt(Qr.slice(1),16);return[(zr&16711680)>>16,(zr&65280)>>8,zr&255]}return Qr.startsWith("rgb(")?Qr.slice(4,-1).split(",").map(zr=>parseInt(zr)):Qr.startsWith("rgba(")?Qr.slice(5,-1).split(",").map(zr=>parseInt(zr)).slice(0,3):((0,nr.warn)(`Not a valid color format: "${Qr}"`),[0,0,0])}function Pr(Qr){const zr=document.createElement("span");zr.style.visibility="hidden",document.body.append(zr);for(const Vr of Qr.keys()){zr.style.color=Vr;const Jr=window.getComputedStyle(zr).color;Qr.set(Vr,Or(Jr))}zr.remove()}function Lr(Qr){const{a:zr,b:Vr,c:Jr,d:tn,e:Yr,f:Sr}=Qr.getTransform();return[zr,Vr,Jr,tn,Yr,Sr]}function Gr(Qr){const{a:zr,b:Vr,c:Jr,d:tn,e:Yr,f:Sr}=Qr.getTransform().invertSelf();return[zr,Vr,Jr,tn,Yr,Sr]}function Kr(Qr,zr,Vr=!1,Jr=!0){if(zr instanceof fr){const{pageWidth:tn,pageHeight:Yr}=zr.rawDims,{style:Sr}=Qr,Rr=`calc(var(--scale-factor) * ${tn}px)`,Tr=`calc(var(--scale-factor) * ${Yr}px)`;!Vr||zr.rotation%180===0?(Sr.width=Rr,Sr.height=Tr):(Sr.width=Tr,Sr.height=Rr)}Jr&&Qr.setAttribute("data-main-rotation",zr.rotation)}},(St,er,tr)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.BaseStandardFontDataFactory=er.BaseSVGFactory=er.BaseCanvasFactory=er.BaseCMapReaderFactory=void 0;var rr=tr(1);class nr{constructor(){this.constructor===nr&&(0,rr.unreachable)("Cannot initialize BaseCanvasFactory.")}create(lr,cr){if(lr<=0||cr<=0)throw new Error("Invalid canvas size");const ur=this._createCanvas(lr,cr);return{canvas:ur,context:ur.getContext("2d")}}reset(lr,cr,ur){if(!lr.canvas)throw new Error("Canvas is not specified");if(cr<=0||ur<=0)throw new Error("Invalid canvas size");lr.canvas.width=cr,lr.canvas.height=ur}destroy(lr){if(!lr.canvas)throw new Error("Canvas is not specified");lr.canvas.width=0,lr.canvas.height=0,lr.canvas=null,lr.context=null}_createCanvas(lr,cr){(0,rr.unreachable)("Abstract method `_createCanvas` called.")}}er.BaseCanvasFactory=nr;class ar{constructor({baseUrl:lr=null,isCompressed:cr=!1}){this.constructor===ar&&(0,rr.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=lr,this.isCompressed=cr}async fetch({name:lr}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!lr)throw new Error("CMap name must be specified.");const cr=this.baseUrl+lr+(this.isCompressed?".bcmap":""),ur=this.isCompressed?rr.CMapCompressionType.BINARY:rr.CMapCompressionType.NONE;return this._fetchData(cr,ur).catch(dr=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${cr}`)})}_fetchData(lr,cr){(0,rr.unreachable)("Abstract method `_fetchData` called.")}}er.BaseCMapReaderFactory=ar;class sr{constructor({baseUrl:lr=null}){this.constructor===sr&&(0,rr.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=lr}async fetch({filename:lr}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!lr)throw new Error("Font filename must be specified.");const cr=`${this.baseUrl}${lr}`;return this._fetchData(cr).catch(ur=>{throw new Error(`Unable to load font data at: ${cr}`)})}_fetchData(lr){(0,rr.unreachable)("Abstract method `_fetchData` called.")}}er.BaseStandardFontDataFactory=sr;class ir{constructor(){this.constructor===ir&&(0,rr.unreachable)("Cannot initialize BaseSVGFactory.")}create(lr,cr,ur=!1){if(lr<=0||cr<=0)throw new Error("Invalid SVG dimensions");const dr=this._createSVG("svg:svg");return dr.setAttribute("version","1.1"),ur||(dr.setAttribute("width",`${lr}px`),dr.setAttribute("height",`${cr}px`)),dr.setAttribute("preserveAspectRatio","none"),dr.setAttribute("viewBox",`0 0 ${lr} ${cr}`),dr}createElement(lr){if(typeof lr!="string")throw new Error("Invalid SVG element type");return this._createSVG(lr)}_createSVG(lr){(0,rr.unreachable)("Abstract method `_createSVG` called.")}}er.BaseSVGFactory=ir},(St,er,tr)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.MurmurHash3_64=void 0;var rr=tr(1);const nr=3285377520,ar=4294901760,sr=65535;class ir{constructor(lr){this.h1=lr?lr&4294967295:nr,this.h2=lr?lr&4294967295:nr}update(lr){let cr,ur;if(typeof lr=="string"){cr=new Uint8Array(lr.length*2),ur=0;for(let jr=0,_r=lr.length;jr<_r;jr++){const Cr=lr.charCodeAt(jr);Cr<=255?cr[ur++]=Cr:(cr[ur++]=Cr>>>8,cr[ur++]=Cr&255)}}else if((0,rr.isArrayBuffer)(lr))cr=lr.slice(),ur=cr.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const dr=ur>>2,fr=ur-dr*4,mr=new Uint32Array(cr.buffer,0,dr);let xr=0,pr=0,hr=this.h1,gr=this.h2;const vr=3432918353,br=461845907,yr=vr&sr,Er=br&sr;for(let jr=0;jr<dr;jr++)jr&1?(xr=mr[jr],xr=xr*vr&ar|xr*yr&sr,xr=xr<<15|xr>>>17,xr=xr*br&ar|xr*Er&sr,hr^=xr,hr=hr<<13|hr>>>19,hr=hr*5+3864292196):(pr=mr[jr],pr=pr*vr&ar|pr*yr&sr,pr=pr<<15|pr>>>17,pr=pr*br&ar|pr*Er&sr,gr^=pr,gr=gr<<13|gr>>>19,gr=gr*5+3864292196);switch(xr=0,fr){case 3:xr^=cr[dr*4+2]<<16;case 2:xr^=cr[dr*4+1]<<8;case 1:xr^=cr[dr*4],xr=xr*vr&ar|xr*yr&sr,xr=xr<<15|xr>>>17,xr=xr*br&ar|xr*Er&sr,dr&1?hr^=xr:gr^=xr}this.h1=hr,this.h2=gr}hexdigest(){let lr=this.h1,cr=this.h2;return lr^=cr>>>1,lr=lr*3981806797&ar|lr*36045&sr,cr=cr*4283543511&ar|((cr<<16|lr>>>16)*2950163797&ar)>>>16,lr^=cr>>>1,lr=lr*444984403&ar|lr*60499&sr,cr=cr*3301882366&ar|((cr<<16|lr>>>16)*3120437893&ar)>>>16,lr^=cr>>>1,(lr>>>0).toString(16).padStart(8,"0")+(cr>>>0).toString(16).padStart(8,"0")}}er.MurmurHash3_64=ir},(St,er,tr)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.FontLoader=er.FontFaceObject=void 0;var rr=tr(1),nr=tr(10);class ar{constructor({onUnsupportedFeature:or,ownerDocument:lr=globalThis.document,styleElement:cr=null}){this._onUnsupportedFeature=or,this._document=lr,this.nativeFontFaces=[],this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(or){this.nativeFontFaces.push(or),this._document.fonts.add(or)}insertRule(or){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const lr=this.styleElement.sheet;lr.insertRule(or,lr.cssRules.length)}clear(){for(const or of this.nativeFontFaces)this._document.fonts.delete(or);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(or){if(or.attached||or.missingFile)return;if(or.attached=!0,this.isFontLoadingAPISupported){const cr=or.createNativeFontFace();if(cr){this.addNativeFontFace(cr);try{await cr.loaded}catch(ur){throw this._onUnsupportedFeature({featureId:rr.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,rr.warn)(`Failed to load font '${cr.family}': '${ur}'.`),or.disableFontFace=!0,ur}}return}const lr=or.createFontFaceRule();if(lr){if(this.insertRule(lr),this.isSyncFontLoadingSupported)return;await new Promise(cr=>{const ur=this._queueLoadingCallback(cr);this._prepareFontLoadEvent(or,ur)})}}get isFontLoadingAPISupported(){var lr;const or=!!((lr=this._document)!=null&&lr.fonts);return(0,rr.shadow)(this,"isFontLoadingAPISupported",or)}get isSyncFontLoadingSupported(){let or=!1;return(nr.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(or=!0),(0,rr.shadow)(this,"isSyncFontLoadingSupported",or)}_queueLoadingCallback(or){function lr(){for((0,rr.assert)(!ur.done,"completeRequest() cannot be called twice."),ur.done=!0;cr.length>0&&cr[0].done;){const dr=cr.shift();setTimeout(dr.callback,0)}}const{loadingRequests:cr}=this,ur={done:!1,complete:lr,callback:or};return cr.push(ur),ur}get _loadTestFont(){const or=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,rr.shadow)(this,"_loadTestFont",or)}_prepareFontLoadEvent(or,lr){function cr(Pr,Lr){return Pr.charCodeAt(Lr)<<24|Pr.charCodeAt(Lr+1)<<16|Pr.charCodeAt(Lr+2)<<8|Pr.charCodeAt(Lr+3)&255}function ur(Pr,Lr,Gr,Kr){const nn=Pr.substring(0,Lr),Qr=Pr.substring(Lr+Gr);return nn+Kr+Qr}let dr,fr;const mr=this._document.createElement("canvas");mr.width=1,mr.height=1;const xr=mr.getContext("2d");let pr=0;function hr(Pr,Lr){if(++pr>30){(0,rr.warn)("Load test font never loaded."),Lr();return}if(xr.font="30px "+Pr,xr.fillText(".",0,20),xr.getImageData(0,0,1,1).data[3]>0){Lr();return}setTimeout(hr.bind(null,Pr,Lr))}const gr=`lt${Date.now()}${this.loadTestFontId++}`;let vr=this._loadTestFont;vr=ur(vr,976,gr.length,gr);const yr=16,Er=1482184792;let jr=cr(vr,yr);for(dr=0,fr=gr.length-3;dr<fr;dr+=4)jr=jr-Er+cr(gr,dr)|0;dr<gr.length&&(jr=jr-Er+cr(gr+"XXX",dr)|0),vr=ur(vr,yr,4,(0,rr.string32)(jr));const _r=`url(data:font/opentype;base64,${btoa(vr)});`,Cr=`@font-face {font-family:"${gr}";src:${_r}}`;this.insertRule(Cr);const Or=this._document.createElement("div");Or.style.visibility="hidden",Or.style.width=Or.style.height="10px",Or.style.position="absolute",Or.style.top=Or.style.left="0px";for(const Pr of[or.loadedName,gr]){const Lr=this._document.createElement("span");Lr.textContent="Hi",Lr.style.fontFamily=Pr,Or.append(Lr)}this._document.body.append(Or),hr(gr,()=>{Or.remove(),lr.complete()})}}er.FontLoader=ar;class sr{constructor(or,{isEvalSupported:lr=!0,disableFontFace:cr=!1,ignoreErrors:ur=!1,onUnsupportedFeature:dr,fontRegistry:fr=null}){this.compiledGlyphs=Object.create(null);for(const mr in or)this[mr]=or[mr];this.isEvalSupported=lr!==!1,this.disableFontFace=cr===!0,this.ignoreErrors=ur===!0,this._onUnsupportedFeature=dr,this.fontRegistry=fr}createNativeFontFace(){var lr;if(!this.data||this.disableFontFace)return null;let or;if(!this.cssFontInfo)or=new FontFace(this.loadedName,this.data,{});else{const cr={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(cr.style=`oblique ${this.cssFontInfo.italicAngle}deg`),or=new FontFace(this.cssFontInfo.fontFamily,this.data,cr)}return(lr=this.fontRegistry)==null||lr.registerFont(this),or}createFontFaceRule(){var ur;if(!this.data||this.disableFontFace)return null;const or=(0,rr.bytesToString)(this.data),lr=`url(data:${this.mimetype};base64,${btoa(or)});`;let cr;if(!this.cssFontInfo)cr=`@font-face {font-family:"${this.loadedName}";src:${lr}}`;else{let dr=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(dr+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),cr=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${dr}src:${lr}}`}return(ur=this.fontRegistry)==null||ur.registerFont(this,lr),cr}getPathGenerator(or,lr){if(this.compiledGlyphs[lr]!==void 0)return this.compiledGlyphs[lr];let cr;try{cr=or.get(this.loadedName+"_path_"+lr)}catch(ur){if(!this.ignoreErrors)throw ur;return this._onUnsupportedFeature({featureId:rr.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,rr.warn)(`getPathGenerator - ignoring character: "${ur}".`),this.compiledGlyphs[lr]=function(dr,fr){}}if(this.isEvalSupported&&rr.FeatureTest.isEvalSupported){const ur=[];for(const dr of cr){const fr=dr.args!==void 0?dr.args.join(","):"";ur.push("c.",dr.cmd,"(",fr,`);
`)}return this.compiledGlyphs[lr]=new Function("c","size",ur.join(""))}return this.compiledGlyphs[lr]=function(ur,dr){for(const fr of cr)fr.cmd==="scale"&&(fr.args=[dr,-dr]),ur[fr.cmd].apply(ur,fr.args)}}}er.FontFaceObject=sr},(St,er)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.isNodeJS=void 0;const tr=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");er.isNodeJS=tr},(St,er,tr)=>{var Vr,Vp;Object.defineProperty(er,"__esModule",{value:!0}),er.CanvasGraphics=void 0;var rr=tr(1),nr=tr(6),ar=tr(12),sr=tr(13);const ir=16,or=100,lr=4096,cr=15,ur=10,dr=1e3,fr=16;function mr(Yr,Sr){if(Yr._removeMirroring)throw new Error("Context is already forwarding operations.");Yr.__originalSave=Yr.save,Yr.__originalRestore=Yr.restore,Yr.__originalRotate=Yr.rotate,Yr.__originalScale=Yr.scale,Yr.__originalTranslate=Yr.translate,Yr.__originalTransform=Yr.transform,Yr.__originalSetTransform=Yr.setTransform,Yr.__originalResetTransform=Yr.resetTransform,Yr.__originalClip=Yr.clip,Yr.__originalMoveTo=Yr.moveTo,Yr.__originalLineTo=Yr.lineTo,Yr.__originalBezierCurveTo=Yr.bezierCurveTo,Yr.__originalRect=Yr.rect,Yr.__originalClosePath=Yr.closePath,Yr.__originalBeginPath=Yr.beginPath,Yr._removeMirroring=()=>{Yr.save=Yr.__originalSave,Yr.restore=Yr.__originalRestore,Yr.rotate=Yr.__originalRotate,Yr.scale=Yr.__originalScale,Yr.translate=Yr.__originalTranslate,Yr.transform=Yr.__originalTransform,Yr.setTransform=Yr.__originalSetTransform,Yr.resetTransform=Yr.__originalResetTransform,Yr.clip=Yr.__originalClip,Yr.moveTo=Yr.__originalMoveTo,Yr.lineTo=Yr.__originalLineTo,Yr.bezierCurveTo=Yr.__originalBezierCurveTo,Yr.rect=Yr.__originalRect,Yr.closePath=Yr.__originalClosePath,Yr.beginPath=Yr.__originalBeginPath,delete Yr._removeMirroring},Yr.save=function(){Sr.save(),this.__originalSave()},Yr.restore=function(){Sr.restore(),this.__originalRestore()},Yr.translate=function(Tr,Dr){Sr.translate(Tr,Dr),this.__originalTranslate(Tr,Dr)},Yr.scale=function(Tr,Dr){Sr.scale(Tr,Dr),this.__originalScale(Tr,Dr)},Yr.transform=function(Tr,Dr,Mr,Br,qr,Wr){Sr.transform(Tr,Dr,Mr,Br,qr,Wr),this.__originalTransform(Tr,Dr,Mr,Br,qr,Wr)},Yr.setTransform=function(Tr,Dr,Mr,Br,qr,Wr){Sr.setTransform(Tr,Dr,Mr,Br,qr,Wr),this.__originalSetTransform(Tr,Dr,Mr,Br,qr,Wr)},Yr.resetTransform=function(){Sr.resetTransform(),this.__originalResetTransform()},Yr.rotate=function(Tr){Sr.rotate(Tr),this.__originalRotate(Tr)},Yr.clip=function(Tr){Sr.clip(Tr),this.__originalClip(Tr)},Yr.moveTo=function(Rr,Tr){Sr.moveTo(Rr,Tr),this.__originalMoveTo(Rr,Tr)},Yr.lineTo=function(Rr,Tr){Sr.lineTo(Rr,Tr),this.__originalLineTo(Rr,Tr)},Yr.bezierCurveTo=function(Rr,Tr,Dr,Mr,Br,qr){Sr.bezierCurveTo(Rr,Tr,Dr,Mr,Br,qr),this.__originalBezierCurveTo(Rr,Tr,Dr,Mr,Br,qr)},Yr.rect=function(Rr,Tr,Dr,Mr){Sr.rect(Rr,Tr,Dr,Mr),this.__originalRect(Rr,Tr,Dr,Mr)},Yr.closePath=function(){Sr.closePath(),this.__originalClosePath()},Yr.beginPath=function(){Sr.beginPath(),this.__originalBeginPath()}}class xr{constructor(Sr){this.canvasFactory=Sr,this.cache=Object.create(null)}getCanvas(Sr,Rr,Tr){let Dr;return this.cache[Sr]!==void 0?(Dr=this.cache[Sr],this.canvasFactory.reset(Dr,Rr,Tr)):(Dr=this.canvasFactory.create(Rr,Tr),this.cache[Sr]=Dr),Dr}delete(Sr){delete this.cache[Sr]}clear(){for(const Sr in this.cache){const Rr=this.cache[Sr];this.canvasFactory.destroy(Rr),delete this.cache[Sr]}}}function pr(Yr,Sr,Rr,Tr,Dr,Mr,Br,qr,Wr,sn){const[un,Nr,Ur,en,Zr,Ir]=(0,nr.getCurrentTransform)(Yr);if(Nr===0&&Ur===0){const yn=Br*un+Zr,Dn=Math.round(yn),pn=qr*en+Ir,Sn=Math.round(pn),wn=(Br+Wr)*un+Zr,Vn=Math.abs(Math.round(wn)-Dn)||1,Yn=(qr+sn)*en+Ir,ns=Math.abs(Math.round(Yn)-Sn)||1;return Yr.setTransform(Math.sign(un),0,0,Math.sign(en),Dn,Sn),Yr.drawImage(Sr,Rr,Tr,Dr,Mr,0,0,Vn,ns),Yr.setTransform(un,Nr,Ur,en,Zr,Ir),[Vn,ns]}if(un===0&&en===0){const yn=qr*Ur+Zr,Dn=Math.round(yn),pn=Br*Nr+Ir,Sn=Math.round(pn),wn=(qr+sn)*Ur+Zr,Vn=Math.abs(Math.round(wn)-Dn)||1,Yn=(Br+Wr)*Nr+Ir,ns=Math.abs(Math.round(Yn)-Sn)||1;return Yr.setTransform(0,Math.sign(Nr),Math.sign(Ur),0,Dn,Sn),Yr.drawImage(Sr,Rr,Tr,Dr,Mr,0,0,ns,Vn),Yr.setTransform(un,Nr,Ur,en,Zr,Ir),[ns,Vn]}Yr.drawImage(Sr,Rr,Tr,Dr,Mr,Br,qr,Wr,sn);const on=Math.hypot(un,Nr),vn=Math.hypot(Ur,en);return[on*Wr,vn*sn]}function hr(Yr){const{width:Sr,height:Rr}=Yr;if(Sr>dr||Rr>dr)return null;const Tr=1e3,Dr=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Mr=Sr+1;let Br=new Uint8Array(Mr*(Rr+1)),qr,Wr,sn;const un=Sr+7&-8;let Nr=new Uint8Array(un*Rr),Ur=0;for(const vn of Yr.data){let yn=128;for(;yn>0;)Nr[Ur++]=vn&yn?0:255,yn>>=1}let en=0;for(Ur=0,Nr[Ur]!==0&&(Br[0]=1,++en),Wr=1;Wr<Sr;Wr++)Nr[Ur]!==Nr[Ur+1]&&(Br[Wr]=Nr[Ur]?2:1,++en),Ur++;for(Nr[Ur]!==0&&(Br[Wr]=2,++en),qr=1;qr<Rr;qr++){Ur=qr*un,sn=qr*Mr,Nr[Ur-un]!==Nr[Ur]&&(Br[sn]=Nr[Ur]?1:8,++en);let vn=(Nr[Ur]?4:0)+(Nr[Ur-un]?8:0);for(Wr=1;Wr<Sr;Wr++)vn=(vn>>2)+(Nr[Ur+1]?4:0)+(Nr[Ur-un+1]?8:0),Dr[vn]&&(Br[sn+Wr]=Dr[vn],++en),Ur++;if(Nr[Ur-un]!==Nr[Ur]&&(Br[sn+Wr]=Nr[Ur]?2:4,++en),en>Tr)return null}for(Ur=un*(Rr-1),sn=qr*Mr,Nr[Ur]!==0&&(Br[sn]=8,++en),Wr=1;Wr<Sr;Wr++)Nr[Ur]!==Nr[Ur+1]&&(Br[sn+Wr]=Nr[Ur]?4:8,++en),Ur++;if(Nr[Ur]!==0&&(Br[sn+Wr]=4,++en),en>Tr)return null;const Zr=new Int32Array([0,Mr,-1,0,-Mr,0,0,0,1]),Ir=new Path2D;for(qr=0;en&&qr<=Rr;qr++){let vn=qr*Mr;const yn=vn+Sr;for(;vn<yn&&!Br[vn];)vn++;if(vn===yn)continue;Ir.moveTo(vn%Mr,qr);const Dn=vn;let pn=Br[vn];do{const Sn=Zr[pn];do vn+=Sn;while(!Br[vn]);const wn=Br[vn];wn!==5&&wn!==10?(pn=wn,Br[vn]=0):(pn=wn&51*pn>>4,Br[vn]&=pn>>2|pn<<2),Ir.lineTo(vn%Mr,vn/Mr|0),Br[vn]||--en}while(Dn!==vn);--qr}return Nr=null,Br=null,function(vn){vn.save(),vn.scale(1/Sr,-1/Rr),vn.translate(0,-Rr),vn.fill(Ir),vn.beginPath(),vn.restore()}}class gr{constructor(Sr,Rr){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=rr.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=rr.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=rr.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,Sr,Rr])}clone(){const Sr=Object.create(this);return Sr.clipBox=this.clipBox.slice(),Sr}setCurrentPoint(Sr,Rr){this.x=Sr,this.y=Rr}updatePathMinMax(Sr,Rr,Tr){[Rr,Tr]=rr.Util.applyTransform([Rr,Tr],Sr),this.minX=Math.min(this.minX,Rr),this.minY=Math.min(this.minY,Tr),this.maxX=Math.max(this.maxX,Rr),this.maxY=Math.max(this.maxY,Tr)}updateRectMinMax(Sr,Rr){const Tr=rr.Util.applyTransform(Rr,Sr),Dr=rr.Util.applyTransform(Rr.slice(2),Sr);this.minX=Math.min(this.minX,Tr[0],Dr[0]),this.minY=Math.min(this.minY,Tr[1],Dr[1]),this.maxX=Math.max(this.maxX,Tr[0],Dr[0]),this.maxY=Math.max(this.maxY,Tr[1],Dr[1])}updateScalingPathMinMax(Sr,Rr){rr.Util.scaleMinMax(Sr,Rr),this.minX=Math.min(this.minX,Rr[0]),this.maxX=Math.max(this.maxX,Rr[1]),this.minY=Math.min(this.minY,Rr[2]),this.maxY=Math.max(this.maxY,Rr[3])}updateCurvePathMinMax(Sr,Rr,Tr,Dr,Mr,Br,qr,Wr,sn,un){const Nr=rr.Util.bezierBoundingBox(Rr,Tr,Dr,Mr,Br,qr,Wr,sn);if(un){un[0]=Math.min(un[0],Nr[0],Nr[2]),un[1]=Math.max(un[1],Nr[0],Nr[2]),un[2]=Math.min(un[2],Nr[1],Nr[3]),un[3]=Math.max(un[3],Nr[1],Nr[3]);return}this.updateRectMinMax(Sr,Nr)}getPathBoundingBox(Sr=ar.PathType.FILL,Rr=null){const Tr=[this.minX,this.minY,this.maxX,this.maxY];if(Sr===ar.PathType.STROKE){Rr||(0,rr.unreachable)("Stroke bounding box must include transform.");const Dr=rr.Util.singularValueDecompose2dScale(Rr),Mr=Dr[0]*this.lineWidth/2,Br=Dr[1]*this.lineWidth/2;Tr[0]-=Mr,Tr[1]-=Br,Tr[2]+=Mr,Tr[3]+=Br}return Tr}updateClipFromPath(){const Sr=rr.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(Sr||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(Sr){this.clipBox=Sr,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(Sr=ar.PathType.FILL,Rr=null){return rr.Util.intersect(this.clipBox,this.getPathBoundingBox(Sr,Rr))}}function vr(Yr,Sr,Rr=null){if(typeof ImageData<"u"&&Sr instanceof ImageData){Yr.putImageData(Sr,0,0);return}const Tr=Sr.height,Dr=Sr.width,Mr=Tr%fr,Br=(Tr-Mr)/fr,qr=Mr===0?Br:Br+1,Wr=Yr.createImageData(Dr,fr);let sn=0,un;const Nr=Sr.data,Ur=Wr.data;let en,Zr,Ir,on,vn,yn,Dn,pn;if(Rr)switch(Rr.length){case 1:vn=Rr[0],yn=Rr[0],Dn=Rr[0],pn=Rr[0];break;case 4:vn=Rr[0],yn=Rr[1],Dn=Rr[2],pn=Rr[3];break}if(Sr.kind===rr.ImageKind.GRAYSCALE_1BPP){const Sn=Nr.byteLength,wn=new Uint32Array(Ur.buffer,0,Ur.byteLength>>2),Vn=wn.length,Yn=Dr+7>>3;let ns=4294967295,ls=rr.FeatureTest.isLittleEndian?4278190080:255;for(pn&&pn[0]===255&&pn[255]===0&&([ns,ls]=[ls,ns]),en=0;en<qr;en++){for(Ir=en<Br?fr:Mr,un=0,Zr=0;Zr<Ir;Zr++){const vs=Sn-sn;let Ss=0;const ps=vs>Yn?Dr:vs*8-7,os=ps&-8;let zs=0,Bn=0;for(;Ss<os;Ss+=8)Bn=Nr[sn++],wn[un++]=Bn&128?ns:ls,wn[un++]=Bn&64?ns:ls,wn[un++]=Bn&32?ns:ls,wn[un++]=Bn&16?ns:ls,wn[un++]=Bn&8?ns:ls,wn[un++]=Bn&4?ns:ls,wn[un++]=Bn&2?ns:ls,wn[un++]=Bn&1?ns:ls;for(;Ss<ps;Ss++)zs===0&&(Bn=Nr[sn++],zs=128),wn[un++]=Bn&zs?ns:ls,zs>>=1}for(;un<Vn;)wn[un++]=0;Yr.putImageData(Wr,0,en*fr)}}else if(Sr.kind===rr.ImageKind.RGBA_32BPP){const Sn=!!(vn||yn||Dn);for(Zr=0,on=Dr*fr*4,en=0;en<Br;en++){if(Ur.set(Nr.subarray(sn,sn+on)),sn+=on,Sn)for(let wn=0;wn<on;wn+=4)vn&&(Ur[wn+0]=vn[Ur[wn+0]]),yn&&(Ur[wn+1]=yn[Ur[wn+1]]),Dn&&(Ur[wn+2]=Dn[Ur[wn+2]]);Yr.putImageData(Wr,0,Zr),Zr+=fr}if(en<qr){if(on=Dr*Mr*4,Ur.set(Nr.subarray(sn,sn+on)),Sn)for(let wn=0;wn<on;wn+=4)vn&&(Ur[wn+0]=vn[Ur[wn+0]]),yn&&(Ur[wn+1]=yn[Ur[wn+1]]),Dn&&(Ur[wn+2]=Dn[Ur[wn+2]]);Yr.putImageData(Wr,0,Zr)}}else if(Sr.kind===rr.ImageKind.RGB_24BPP){const Sn=!!(vn||yn||Dn);for(Ir=fr,on=Dr*Ir,en=0;en<qr;en++){for(en>=Br&&(Ir=Mr,on=Dr*Ir),un=0,Zr=on;Zr--;)Ur[un++]=Nr[sn++],Ur[un++]=Nr[sn++],Ur[un++]=Nr[sn++],Ur[un++]=255;if(Sn)for(let wn=0;wn<un;wn+=4)vn&&(Ur[wn+0]=vn[Ur[wn+0]]),yn&&(Ur[wn+1]=yn[Ur[wn+1]]),Dn&&(Ur[wn+2]=Dn[Ur[wn+2]]);Yr.putImageData(Wr,0,en*fr)}}else throw new Error(`bad image kind: ${Sr.kind}`)}function br(Yr,Sr){if(Sr.bitmap){Yr.drawImage(Sr.bitmap,0,0);return}const Rr=Sr.height,Tr=Sr.width,Dr=Rr%fr,Mr=(Rr-Dr)/fr,Br=Dr===0?Mr:Mr+1,qr=Yr.createImageData(Tr,fr);let Wr=0;const sn=Sr.data,un=qr.data;for(let Nr=0;Nr<Br;Nr++){const Ur=Nr<Mr?fr:Dr;({srcPos:Wr}=(0,sr.applyMaskImageData)({src:sn,srcPos:Wr,dest:un,width:Tr,height:Ur})),Yr.putImageData(qr,0,Nr*fr)}}function yr(Yr,Sr){const Rr=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(const Tr of Rr)Yr[Tr]!==void 0&&(Sr[Tr]=Yr[Tr]);Yr.setLineDash!==void 0&&(Sr.setLineDash(Yr.getLineDash()),Sr.lineDashOffset=Yr.lineDashOffset)}function Er(Yr,Sr){Yr.strokeStyle=Yr.fillStyle=Sr||"#000000",Yr.fillRule="nonzero",Yr.globalAlpha=1,Yr.lineWidth=1,Yr.lineCap="butt",Yr.lineJoin="miter",Yr.miterLimit=10,Yr.globalCompositeOperation="source-over",Yr.font="10px sans-serif",Yr.setLineDash!==void 0&&(Yr.setLineDash([]),Yr.lineDashOffset=0)}function jr(Yr,Sr,Rr,Tr){const Dr=Yr.length;for(let Mr=3;Mr<Dr;Mr+=4){const Br=Yr[Mr];if(Br===0)Yr[Mr-3]=Sr,Yr[Mr-2]=Rr,Yr[Mr-1]=Tr;else if(Br<255){const qr=255-Br;Yr[Mr-3]=Yr[Mr-3]*Br+Sr*qr>>8,Yr[Mr-2]=Yr[Mr-2]*Br+Rr*qr>>8,Yr[Mr-1]=Yr[Mr-1]*Br+Tr*qr>>8}}}function _r(Yr,Sr,Rr){const Tr=Yr.length,Dr=1/255;for(let Mr=3;Mr<Tr;Mr+=4){const Br=Rr?Rr[Yr[Mr]]:Yr[Mr];Sr[Mr]=Sr[Mr]*Br*Dr|0}}function Cr(Yr,Sr,Rr){const Tr=Yr.length;for(let Dr=3;Dr<Tr;Dr+=4){const Mr=Yr[Dr-3]*77+Yr[Dr-2]*152+Yr[Dr-1]*28;Sr[Dr]=Rr?Sr[Dr]*Rr[Mr>>8]>>8:Sr[Dr]*Mr>>16}}function Or(Yr,Sr,Rr,Tr,Dr,Mr,Br,qr,Wr,sn,un){const Nr=!!Mr,Ur=Nr?Mr[0]:0,en=Nr?Mr[1]:0,Zr=Nr?Mr[2]:0;let Ir;Dr==="Luminosity"?Ir=Cr:Ir=_r;const vn=Math.min(Tr,Math.ceil(1048576/Rr));for(let yn=0;yn<Tr;yn+=vn){const Dn=Math.min(vn,Tr-yn),pn=Yr.getImageData(qr-sn,yn+(Wr-un),Rr,Dn),Sn=Sr.getImageData(qr,yn+Wr,Rr,Dn);Nr&&jr(pn.data,Ur,en,Zr),Ir(pn.data,Sn.data,Br),Sr.putImageData(Sn,qr,yn+Wr)}}function Pr(Yr,Sr,Rr,Tr){const Dr=Tr[0],Mr=Tr[1],Br=Tr[2]-Dr,qr=Tr[3]-Mr;Br===0||qr===0||(Or(Sr.context,Rr,Br,qr,Sr.subtype,Sr.backdrop,Sr.transferMap,Dr,Mr,Sr.offsetX,Sr.offsetY),Yr.save(),Yr.globalAlpha=1,Yr.globalCompositeOperation="source-over",Yr.setTransform(1,0,0,1,0,0),Yr.drawImage(Rr.canvas,0,0),Yr.restore())}function Lr(Yr,Sr){const Rr=rr.Util.singularValueDecompose2dScale(Yr);Rr[0]=Math.fround(Rr[0]),Rr[1]=Math.fround(Rr[1]);const Tr=Math.fround((globalThis.devicePixelRatio||1)*nr.PixelsPerInch.PDF_TO_CSS_UNITS);return Sr!==void 0?Sr:Rr[0]<=Tr||Rr[1]<=Tr}const Gr=["butt","round","square"],Kr=["miter","round","bevel"],nn={},Qr={},tn=class tn{constructor(Sr,Rr,Tr,Dr,{optionalContentConfig:Mr,markedContentStack:Br=null},qr,Wr){js(this,Vr);this.ctx=Sr,this.current=new gr(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=Rr,this.objs=Tr,this.canvasFactory=Dr,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Br||[],this.optionalContentConfig=Mr,this.cachedCanvases=new xr(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=qr,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=(Wr==null?void 0:Wr.background)||null,this.foregroundColor=(Wr==null?void 0:Wr.foreground)||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(Sr,Rr=null){return typeof Sr=="string"?Sr.startsWith("g_")?this.commonObjs.get(Sr):this.objs.get(Sr):Rr}beginDrawing({transform:Sr,viewport:Rr,transparency:Tr=!1,background:Dr=null}){const Mr=this.ctx.canvas.width,Br=this.ctx.canvas.height,qr=Dr||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const Wr=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const sn=this.backgroundColor=this.ctx.fillStyle;let un=!0,Nr=qr;if(this.ctx.fillStyle=qr,Nr=this.ctx.fillStyle,un=typeof Nr=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Nr),Wr==="#000000"&&sn==="#ffffff"||Wr===sn||!un)this.foregroundColor=this.backgroundColor=null;else{const[Ur,en,Zr]=(0,nr.getRGB)(Nr),Ir=vn=>(vn/=255,vn<=.03928?vn/12.92:((vn+.055)/1.055)**2.4),on=Math.round(.2126*Ir(Ur)+.7152*Ir(en)+.0722*Ir(Zr));this.selectColor=(vn,yn,Dn)=>{const pn=.2126*Ir(vn)+.7152*Ir(yn)+.0722*Ir(Dn);return Math.round(pn)===on?sn:Wr}}}if(this.ctx.fillStyle=this.backgroundColor||qr,this.ctx.fillRect(0,0,Mr,Br),this.ctx.restore(),Tr){const Wr=this.cachedCanvases.getCanvas("transparent",Mr,Br);this.compositeCtx=this.ctx,this.transparentCanvas=Wr.canvas,this.ctx=Wr.context,this.ctx.save(),this.ctx.transform(...(0,nr.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),Er(this.ctx,this.foregroundColor),Sr&&(this.ctx.transform(...Sr),this.outputScaleX=Sr[0],this.outputScaleY=Sr[0]),this.ctx.transform(...Rr.transform),this.viewportScale=Rr.scale,this.baseTransform=(0,nr.getCurrentTransform)(this.ctx)}executeOperatorList(Sr,Rr,Tr,Dr){const Mr=Sr.argsArray,Br=Sr.fnArray;let qr=Rr||0;const Wr=Mr.length;if(Wr===qr)return qr;const sn=Wr-qr>ur&&typeof Tr=="function",un=sn?Date.now()+cr:0;let Nr=0;const Ur=this.commonObjs,en=this.objs;let Zr;for(;;){if(Dr!==void 0&&qr===Dr.nextBreakPoint)return Dr.breakIt(qr,Tr),qr;if(Zr=Br[qr],Zr!==rr.OPS.dependency)this[Zr].apply(this,Mr[qr]);else for(const Ir of Mr[qr]){const on=Ir.startsWith("g_")?Ur:en;if(!on.has(Ir))return on.get(Ir,Tr),qr}if(qr++,qr===Wr)return qr;if(sn&&++Nr>ur){if(Date.now()>un)return Tr(),qr;Nr=0}}}endDrawing(){hs(this,Vr,Vp).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const Sr of this._cachedBitmapsMap.values()){for(const Rr of Sr.values())typeof HTMLCanvasElement<"u"&&Rr instanceof HTMLCanvasElement&&(Rr.width=Rr.height=0);Sr.clear()}this._cachedBitmapsMap.clear()}_scaleImage(Sr,Rr){const Tr=Sr.width,Dr=Sr.height;let Mr=Math.max(Math.hypot(Rr[0],Rr[1]),1),Br=Math.max(Math.hypot(Rr[2],Rr[3]),1),qr=Tr,Wr=Dr,sn="prescale1",un,Nr;for(;Mr>2&&qr>1||Br>2&&Wr>1;){let Ur=qr,en=Wr;Mr>2&&qr>1&&(Ur=Math.ceil(qr/2),Mr/=qr/Ur),Br>2&&Wr>1&&(en=Math.ceil(Wr/2),Br/=Wr/en),un=this.cachedCanvases.getCanvas(sn,Ur,en),Nr=un.context,Nr.clearRect(0,0,Ur,en),Nr.drawImage(Sr,0,0,qr,Wr,0,0,Ur,en),Sr=un.canvas,qr=Ur,Wr=en,sn=sn==="prescale1"?"prescale2":"prescale1"}return{img:Sr,paintWidth:qr,paintHeight:Wr}}_createMaskCanvas(Sr){const Rr=this.ctx,{width:Tr,height:Dr}=Sr,Mr=this.current.fillColor,Br=this.current.patternFill,qr=(0,nr.getCurrentTransform)(Rr);let Wr,sn,un,Nr;if((Sr.bitmap||Sr.data)&&Sr.count>1){const Vn=Sr.bitmap||Sr.data.buffer;sn=JSON.stringify(Br?qr:[qr.slice(0,4),Mr]),Wr=this._cachedBitmapsMap.get(Vn),Wr||(Wr=new Map,this._cachedBitmapsMap.set(Vn,Wr));const Yn=Wr.get(sn);if(Yn&&!Br){const ns=Math.round(Math.min(qr[0],qr[2])+qr[4]),ls=Math.round(Math.min(qr[1],qr[3])+qr[5]);return{canvas:Yn,offsetX:ns,offsetY:ls}}un=Yn}un||(Nr=this.cachedCanvases.getCanvas("maskCanvas",Tr,Dr),br(Nr.context,Sr));let Ur=rr.Util.transform(qr,[1/Tr,0,0,-1/Dr,0,0]);Ur=rr.Util.transform(Ur,[1,0,0,1,0,-Dr]);const en=rr.Util.applyTransform([0,0],Ur),Zr=rr.Util.applyTransform([Tr,Dr],Ur),Ir=rr.Util.normalizeRect([en[0],en[1],Zr[0],Zr[1]]),on=Math.round(Ir[2]-Ir[0])||1,vn=Math.round(Ir[3]-Ir[1])||1,yn=this.cachedCanvases.getCanvas("fillCanvas",on,vn),Dn=yn.context,pn=Math.min(en[0],Zr[0]),Sn=Math.min(en[1],Zr[1]);Dn.translate(-pn,-Sn),Dn.transform(...Ur),un||(un=this._scaleImage(Nr.canvas,(0,nr.getCurrentTransformInverse)(Dn)),un=un.img,Wr&&Br&&Wr.set(sn,un)),Dn.imageSmoothingEnabled=Lr((0,nr.getCurrentTransform)(Dn),Sr.interpolate),pr(Dn,un,0,0,un.width,un.height,0,0,Tr,Dr),Dn.globalCompositeOperation="source-in";const wn=rr.Util.transform((0,nr.getCurrentTransformInverse)(Dn),[1,0,0,1,-pn,-Sn]);return Dn.fillStyle=Br?Mr.getPattern(Rr,this,wn,ar.PathType.FILL):Mr,Dn.fillRect(0,0,Tr,Dr),Wr&&!Br&&(this.cachedCanvases.delete("fillCanvas"),Wr.set(sn,yn.canvas)),{canvas:yn.canvas,offsetX:Math.round(pn),offsetY:Math.round(Sn)}}setLineWidth(Sr){Sr!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=Sr,this.ctx.lineWidth=Sr}setLineCap(Sr){this.ctx.lineCap=Gr[Sr]}setLineJoin(Sr){this.ctx.lineJoin=Kr[Sr]}setMiterLimit(Sr){this.ctx.miterLimit=Sr}setDash(Sr,Rr){const Tr=this.ctx;Tr.setLineDash!==void 0&&(Tr.setLineDash(Sr),Tr.lineDashOffset=Rr)}setRenderingIntent(Sr){}setFlatness(Sr){}setGState(Sr){for(const[Rr,Tr]of Sr)switch(Rr){case"LW":this.setLineWidth(Tr);break;case"LC":this.setLineCap(Tr);break;case"LJ":this.setLineJoin(Tr);break;case"ML":this.setMiterLimit(Tr);break;case"D":this.setDash(Tr[0],Tr[1]);break;case"RI":this.setRenderingIntent(Tr);break;case"FL":this.setFlatness(Tr);break;case"Font":this.setFont(Tr[0],Tr[1]);break;case"CA":this.current.strokeAlpha=Tr;break;case"ca":this.current.fillAlpha=Tr,this.ctx.globalAlpha=Tr;break;case"BM":this.ctx.globalCompositeOperation=Tr;break;case"SMask":this.current.activeSMask=Tr?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=Tr}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const Sr=this.inSMaskMode;this.current.activeSMask&&!Sr?this.beginSMaskMode():!this.current.activeSMask&&Sr&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const Sr=this.ctx.canvas.width,Rr=this.ctx.canvas.height,Tr="smaskGroupAt"+this.groupLevel,Dr=this.cachedCanvases.getCanvas(Tr,Sr,Rr);this.suspendedCtx=this.ctx,this.ctx=Dr.context;const Mr=this.ctx;Mr.setTransform(...(0,nr.getCurrentTransform)(this.suspendedCtx)),yr(this.suspendedCtx,Mr),mr(Mr,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),yr(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(Sr){if(!this.current.activeSMask)return;Sr?(Sr[0]=Math.floor(Sr[0]),Sr[1]=Math.floor(Sr[1]),Sr[2]=Math.ceil(Sr[2]),Sr[3]=Math.ceil(Sr[3])):Sr=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const Rr=this.current.activeSMask,Tr=this.suspendedCtx;Pr(Tr,Rr,this.ctx,Sr),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(yr(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const Sr=this.current;this.stateStack.push(Sr),this.current=Sr.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),yr(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(Sr,Rr,Tr,Dr,Mr,Br){this.ctx.transform(Sr,Rr,Tr,Dr,Mr,Br),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(Sr,Rr,Tr){const Dr=this.ctx,Mr=this.current;let Br=Mr.x,qr=Mr.y,Wr,sn;const un=(0,nr.getCurrentTransform)(Dr),Nr=un[0]===0&&un[3]===0||un[1]===0&&un[2]===0,Ur=Nr?Tr.slice(0):null;for(let en=0,Zr=0,Ir=Sr.length;en<Ir;en++)switch(Sr[en]|0){case rr.OPS.rectangle:Br=Rr[Zr++],qr=Rr[Zr++];const on=Rr[Zr++],vn=Rr[Zr++],yn=Br+on,Dn=qr+vn;Dr.moveTo(Br,qr),on===0||vn===0?Dr.lineTo(yn,Dn):(Dr.lineTo(yn,qr),Dr.lineTo(yn,Dn),Dr.lineTo(Br,Dn)),Nr||Mr.updateRectMinMax(un,[Br,qr,yn,Dn]),Dr.closePath();break;case rr.OPS.moveTo:Br=Rr[Zr++],qr=Rr[Zr++],Dr.moveTo(Br,qr),Nr||Mr.updatePathMinMax(un,Br,qr);break;case rr.OPS.lineTo:Br=Rr[Zr++],qr=Rr[Zr++],Dr.lineTo(Br,qr),Nr||Mr.updatePathMinMax(un,Br,qr);break;case rr.OPS.curveTo:Wr=Br,sn=qr,Br=Rr[Zr+4],qr=Rr[Zr+5],Dr.bezierCurveTo(Rr[Zr],Rr[Zr+1],Rr[Zr+2],Rr[Zr+3],Br,qr),Mr.updateCurvePathMinMax(un,Wr,sn,Rr[Zr],Rr[Zr+1],Rr[Zr+2],Rr[Zr+3],Br,qr,Ur),Zr+=6;break;case rr.OPS.curveTo2:Wr=Br,sn=qr,Dr.bezierCurveTo(Br,qr,Rr[Zr],Rr[Zr+1],Rr[Zr+2],Rr[Zr+3]),Mr.updateCurvePathMinMax(un,Wr,sn,Br,qr,Rr[Zr],Rr[Zr+1],Rr[Zr+2],Rr[Zr+3],Ur),Br=Rr[Zr+2],qr=Rr[Zr+3],Zr+=4;break;case rr.OPS.curveTo3:Wr=Br,sn=qr,Br=Rr[Zr+2],qr=Rr[Zr+3],Dr.bezierCurveTo(Rr[Zr],Rr[Zr+1],Br,qr,Br,qr),Mr.updateCurvePathMinMax(un,Wr,sn,Rr[Zr],Rr[Zr+1],Br,qr,Br,qr,Ur),Zr+=4;break;case rr.OPS.closePath:Dr.closePath();break}Nr&&Mr.updateScalingPathMinMax(un,Ur),Mr.setCurrentPoint(Br,qr)}closePath(){this.ctx.closePath()}stroke(Sr=!0){const Rr=this.ctx,Tr=this.current.strokeColor;Rr.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof Tr=="object"&&(Tr!=null&&Tr.getPattern)?(Rr.save(),Rr.strokeStyle=Tr.getPattern(Rr,this,(0,nr.getCurrentTransformInverse)(Rr),ar.PathType.STROKE),this.rescaleAndStroke(!1),Rr.restore()):this.rescaleAndStroke(!0)),Sr&&this.consumePath(this.current.getClippedPathBoundingBox()),Rr.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(Sr=!0){const Rr=this.ctx,Tr=this.current.fillColor,Dr=this.current.patternFill;let Mr=!1;Dr&&(Rr.save(),Rr.fillStyle=Tr.getPattern(Rr,this,(0,nr.getCurrentTransformInverse)(Rr),ar.PathType.FILL),Mr=!0);const Br=this.current.getClippedPathBoundingBox();this.contentVisible&&Br!==null&&(this.pendingEOFill?(Rr.fill("evenodd"),this.pendingEOFill=!1):Rr.fill()),Mr&&Rr.restore(),Sr&&this.consumePath(Br)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=nn}eoClip(){this.pendingClip=Qr}beginText(){this.current.textMatrix=rr.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const Sr=this.pendingTextPaths,Rr=this.ctx;if(Sr===void 0){Rr.beginPath();return}Rr.save(),Rr.beginPath();for(const Tr of Sr)Rr.setTransform(...Tr.transform),Rr.translate(Tr.x,Tr.y),Tr.addToPath(Rr,Tr.fontSize);Rr.restore(),Rr.clip(),Rr.beginPath(),delete this.pendingTextPaths}setCharSpacing(Sr){this.current.charSpacing=Sr}setWordSpacing(Sr){this.current.wordSpacing=Sr}setHScale(Sr){this.current.textHScale=Sr/100}setLeading(Sr){this.current.leading=-Sr}setFont(Sr,Rr){const Tr=this.commonObjs.get(Sr),Dr=this.current;if(!Tr)throw new Error(`Can't find font for ${Sr}`);if(Dr.fontMatrix=Tr.fontMatrix||rr.FONT_IDENTITY_MATRIX,(Dr.fontMatrix[0]===0||Dr.fontMatrix[3]===0)&&(0,rr.warn)("Invalid font matrix for font "+Sr),Rr<0?(Rr=-Rr,Dr.fontDirection=-1):Dr.fontDirection=1,this.current.font=Tr,this.current.fontSize=Rr,Tr.isType3Font)return;const Mr=Tr.loadedName||"sans-serif";let Br="normal";Tr.black?Br="900":Tr.bold&&(Br="bold");const qr=Tr.italic?"italic":"normal",Wr=`"${Mr}", ${Tr.fallbackName}`;let sn=Rr;Rr<ir?sn=ir:Rr>or&&(sn=or),this.current.fontSizeScale=Rr/sn,this.ctx.font=`${qr} ${Br} ${sn}px ${Wr}`}setTextRenderingMode(Sr){this.current.textRenderingMode=Sr}setTextRise(Sr){this.current.textRise=Sr}moveText(Sr,Rr){this.current.x=this.current.lineX+=Sr,this.current.y=this.current.lineY+=Rr}setLeadingMoveText(Sr,Rr){this.setLeading(-Rr),this.moveText(Sr,Rr)}setTextMatrix(Sr,Rr,Tr,Dr,Mr,Br){this.current.textMatrix=[Sr,Rr,Tr,Dr,Mr,Br],this.current.textMatrixScale=Math.hypot(Sr,Rr),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(Sr,Rr,Tr,Dr){const Mr=this.ctx,Br=this.current,qr=Br.font,Wr=Br.textRenderingMode,sn=Br.fontSize/Br.fontSizeScale,un=Wr&rr.TextRenderingMode.FILL_STROKE_MASK,Nr=!!(Wr&rr.TextRenderingMode.ADD_TO_PATH_FLAG),Ur=Br.patternFill&&!qr.missingFile;let en;(qr.disableFontFace||Nr||Ur)&&(en=qr.getPathGenerator(this.commonObjs,Sr)),qr.disableFontFace||Ur?(Mr.save(),Mr.translate(Rr,Tr),Mr.beginPath(),en(Mr,sn),Dr&&Mr.setTransform(...Dr),(un===rr.TextRenderingMode.FILL||un===rr.TextRenderingMode.FILL_STROKE)&&Mr.fill(),(un===rr.TextRenderingMode.STROKE||un===rr.TextRenderingMode.FILL_STROKE)&&Mr.stroke(),Mr.restore()):((un===rr.TextRenderingMode.FILL||un===rr.TextRenderingMode.FILL_STROKE)&&Mr.fillText(Sr,Rr,Tr),(un===rr.TextRenderingMode.STROKE||un===rr.TextRenderingMode.FILL_STROKE)&&Mr.strokeText(Sr,Rr,Tr)),Nr&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,nr.getCurrentTransform)(Mr),x:Rr,y:Tr,fontSize:sn,addToPath:en})}get isFontSubpixelAAEnabled(){const{context:Sr}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);Sr.scale(1.5,1),Sr.fillText("I",0,10);const Rr=Sr.getImageData(0,0,10,10).data;let Tr=!1;for(let Dr=3;Dr<Rr.length;Dr+=4)if(Rr[Dr]>0&&Rr[Dr]<255){Tr=!0;break}return(0,rr.shadow)(this,"isFontSubpixelAAEnabled",Tr)}showText(Sr){const Rr=this.current,Tr=Rr.font;if(Tr.isType3Font)return this.showType3Text(Sr);const Dr=Rr.fontSize;if(Dr===0)return;const Mr=this.ctx,Br=Rr.fontSizeScale,qr=Rr.charSpacing,Wr=Rr.wordSpacing,sn=Rr.fontDirection,un=Rr.textHScale*sn,Nr=Sr.length,Ur=Tr.vertical,en=Ur?1:-1,Zr=Tr.defaultVMetrics,Ir=Dr*Rr.fontMatrix[0],on=Rr.textRenderingMode===rr.TextRenderingMode.FILL&&!Tr.disableFontFace&&!Rr.patternFill;Mr.save(),Mr.transform(...Rr.textMatrix),Mr.translate(Rr.x,Rr.y+Rr.textRise),sn>0?Mr.scale(un,-1):Mr.scale(un,1);let vn;if(Rr.patternFill){Mr.save();const wn=Rr.fillColor.getPattern(Mr,this,(0,nr.getCurrentTransformInverse)(Mr),ar.PathType.FILL);vn=(0,nr.getCurrentTransform)(Mr),Mr.restore(),Mr.fillStyle=wn}let yn=Rr.lineWidth;const Dn=Rr.textMatrixScale;if(Dn===0||yn===0){const wn=Rr.textRenderingMode&rr.TextRenderingMode.FILL_STROKE_MASK;(wn===rr.TextRenderingMode.STROKE||wn===rr.TextRenderingMode.FILL_STROKE)&&(yn=this.getSinglePixelWidth())}else yn/=Dn;if(Br!==1&&(Mr.scale(Br,Br),yn/=Br),Mr.lineWidth=yn,Tr.isInvalidPDFjsFont){const wn=[];let Vn=0;for(const Yn of Sr)wn.push(Yn.unicode),Vn+=Yn.width;Mr.fillText(wn.join(""),0,0),Rr.x+=Vn*Ir*un,Mr.restore(),this.compose();return}let pn=0,Sn;for(Sn=0;Sn<Nr;++Sn){const wn=Sr[Sn];if(typeof wn=="number"){pn+=en*wn*Dr/1e3;continue}let Vn=!1;const Yn=(wn.isSpace?Wr:0)+qr,ns=wn.fontChar,ls=wn.accent;let vs,Ss,ps=wn.width;if(Ur){const zs=wn.vmetric||Zr,Bn=-(wn.vmetric?zs[1]:ps*.5)*Ir,_n=zs[2]*Ir;ps=zs?-zs[0]:ps,vs=Bn/Br,Ss=(pn+_n)/Br}else vs=pn/Br,Ss=0;if(Tr.remeasure&&ps>0){const zs=Mr.measureText(ns).width*1e3/Dr*Br;if(ps<zs&&this.isFontSubpixelAAEnabled){const Bn=ps/zs;Vn=!0,Mr.save(),Mr.scale(Bn,1),vs/=Bn}else ps!==zs&&(vs+=(ps-zs)/2e3*Dr/Br)}if(this.contentVisible&&(wn.isInFont||Tr.missingFile)){if(on&&!ls)Mr.fillText(ns,vs,Ss);else if(this.paintChar(ns,vs,Ss,vn),ls){const zs=vs+Dr*ls.offset.x/Br,Bn=Ss-Dr*ls.offset.y/Br;this.paintChar(ls.fontChar,zs,Bn,vn)}}let os;Ur?os=ps*Ir-Yn*sn:os=ps*Ir+Yn*sn,pn+=os,Vn&&Mr.restore()}Ur?Rr.y-=pn:Rr.x+=pn*un,Mr.restore(),this.compose()}showType3Text(Sr){const Rr=this.ctx,Tr=this.current,Dr=Tr.font,Mr=Tr.fontSize,Br=Tr.fontDirection,qr=Dr.vertical?1:-1,Wr=Tr.charSpacing,sn=Tr.wordSpacing,un=Tr.textHScale*Br,Nr=Tr.fontMatrix||rr.FONT_IDENTITY_MATRIX,Ur=Sr.length,en=Tr.textRenderingMode===rr.TextRenderingMode.INVISIBLE;let Zr,Ir,on,vn;if(!(en||Mr===0)){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,Rr.save(),Rr.transform(...Tr.textMatrix),Rr.translate(Tr.x,Tr.y),Rr.scale(un,Br),Zr=0;Zr<Ur;++Zr){if(Ir=Sr[Zr],typeof Ir=="number"){vn=qr*Ir*Mr/1e3,this.ctx.translate(vn,0),Tr.x+=vn*un;continue}const yn=(Ir.isSpace?sn:0)+Wr,Dn=Dr.charProcOperatorList[Ir.operatorListId];if(!Dn){(0,rr.warn)(`Type3 character "${Ir.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Ir,this.save(),Rr.scale(Mr,Mr),Rr.transform(...Nr),this.executeOperatorList(Dn),this.restore()),on=rr.Util.applyTransform([Ir.width,0],Nr)[0]*Mr+yn,Rr.translate(on,0),Tr.x+=on*un}Rr.restore(),this.processingType3=null}}setCharWidth(Sr,Rr){}setCharWidthAndBounds(Sr,Rr,Tr,Dr,Mr,Br){this.ctx.rect(Tr,Dr,Mr-Tr,Br-Dr),this.ctx.clip(),this.endPath()}getColorN_Pattern(Sr){let Rr;if(Sr[0]==="TilingPattern"){const Tr=Sr[1],Dr=this.baseTransform||(0,nr.getCurrentTransform)(this.ctx),Mr={createCanvasGraphics:Br=>new tn(Br,this.commonObjs,this.objs,this.canvasFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};Rr=new ar.TilingPattern(Sr,Tr,this.ctx,Mr,Dr)}else Rr=this._getPattern(Sr[1],Sr[2]);return Rr}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(Sr,Rr,Tr){var Mr;const Dr=((Mr=this.selectColor)==null?void 0:Mr.call(this,Sr,Rr,Tr))||rr.Util.makeHexColor(Sr,Rr,Tr);this.ctx.strokeStyle=Dr,this.current.strokeColor=Dr}setFillRGBColor(Sr,Rr,Tr){var Mr;const Dr=((Mr=this.selectColor)==null?void 0:Mr.call(this,Sr,Rr,Tr))||rr.Util.makeHexColor(Sr,Rr,Tr);this.ctx.fillStyle=Dr,this.current.fillColor=Dr,this.current.patternFill=!1}_getPattern(Sr,Rr=null){let Tr;return this.cachedPatterns.has(Sr)?Tr=this.cachedPatterns.get(Sr):(Tr=(0,ar.getShadingPattern)(this.objs.get(Sr)),this.cachedPatterns.set(Sr,Tr)),Rr&&(Tr.matrix=Rr),Tr}shadingFill(Sr){if(!this.contentVisible)return;const Rr=this.ctx;this.save();const Tr=this._getPattern(Sr);Rr.fillStyle=Tr.getPattern(Rr,this,(0,nr.getCurrentTransformInverse)(Rr),ar.PathType.SHADING);const Dr=(0,nr.getCurrentTransformInverse)(Rr);if(Dr){const Mr=Rr.canvas,Br=Mr.width,qr=Mr.height,Wr=rr.Util.applyTransform([0,0],Dr),sn=rr.Util.applyTransform([0,qr],Dr),un=rr.Util.applyTransform([Br,0],Dr),Nr=rr.Util.applyTransform([Br,qr],Dr),Ur=Math.min(Wr[0],sn[0],un[0],Nr[0]),en=Math.min(Wr[1],sn[1],un[1],Nr[1]),Zr=Math.max(Wr[0],sn[0],un[0],Nr[0]),Ir=Math.max(Wr[1],sn[1],un[1],Nr[1]);this.ctx.fillRect(Ur,en,Zr-Ur,Ir-en)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,rr.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,rr.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(Sr,Rr){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(Sr)&&Sr.length===6&&this.transform(...Sr),this.baseTransform=(0,nr.getCurrentTransform)(this.ctx),Rr)){const Tr=Rr[2]-Rr[0],Dr=Rr[3]-Rr[1];this.ctx.rect(Rr[0],Rr[1],Tr,Dr),this.current.updateRectMinMax((0,nr.getCurrentTransform)(this.ctx),Rr),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(Sr){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const Rr=this.ctx;Sr.isolated||(0,rr.info)("TODO: Support non-isolated groups."),Sr.knockout&&(0,rr.warn)("Knockout groups not supported.");const Tr=(0,nr.getCurrentTransform)(Rr);if(Sr.matrix&&Rr.transform(...Sr.matrix),!Sr.bbox)throw new Error("Bounding box is required.");let Dr=rr.Util.getAxialAlignedBoundingBox(Sr.bbox,(0,nr.getCurrentTransform)(Rr));const Mr=[0,0,Rr.canvas.width,Rr.canvas.height];Dr=rr.Util.intersect(Dr,Mr)||[0,0,0,0];const Br=Math.floor(Dr[0]),qr=Math.floor(Dr[1]);let Wr=Math.max(Math.ceil(Dr[2])-Br,1),sn=Math.max(Math.ceil(Dr[3])-qr,1),un=1,Nr=1;Wr>lr&&(un=Wr/lr,Wr=lr),sn>lr&&(Nr=sn/lr,sn=lr),this.current.startNewPathAndClipBox([0,0,Wr,sn]);let Ur="groupAt"+this.groupLevel;Sr.smask&&(Ur+="_smask_"+this.smaskCounter++%2);const en=this.cachedCanvases.getCanvas(Ur,Wr,sn),Zr=en.context;Zr.scale(1/un,1/Nr),Zr.translate(-Br,-qr),Zr.transform(...Tr),Sr.smask?this.smaskStack.push({canvas:en.canvas,context:Zr,offsetX:Br,offsetY:qr,scaleX:un,scaleY:Nr,subtype:Sr.smask.subtype,backdrop:Sr.smask.backdrop,transferMap:Sr.smask.transferMap||null,startTransformInverse:null}):(Rr.setTransform(1,0,0,1,0,0),Rr.translate(Br,qr),Rr.scale(un,Nr),Rr.save()),yr(Rr,Zr),this.ctx=Zr,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(Rr),this.groupLevel++}endGroup(Sr){if(!this.contentVisible)return;this.groupLevel--;const Rr=this.ctx,Tr=this.groupStack.pop();if(this.ctx=Tr,this.ctx.imageSmoothingEnabled=!1,Sr.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const Dr=(0,nr.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...Dr);const Mr=rr.Util.getAxialAlignedBoundingBox([0,0,Rr.canvas.width,Rr.canvas.height],Dr);this.ctx.drawImage(Rr.canvas,0,0),this.ctx.restore(),this.compose(Mr)}}beginAnnotation(Sr,Rr,Tr,Dr,Mr){if(hs(this,Vr,Vp).call(this),Er(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(Rr)&&Rr.length===4){const Br=Rr[2]-Rr[0],qr=Rr[3]-Rr[1];if(Mr&&this.annotationCanvasMap){Tr=Tr.slice(),Tr[4]-=Rr[0],Tr[5]-=Rr[1],Rr=Rr.slice(),Rr[0]=Rr[1]=0,Rr[2]=Br,Rr[3]=qr;const[Wr,sn]=rr.Util.singularValueDecompose2dScale((0,nr.getCurrentTransform)(this.ctx)),{viewportScale:un}=this,Nr=Math.ceil(Br*this.outputScaleX*un),Ur=Math.ceil(qr*this.outputScaleY*un);this.annotationCanvas=this.canvasFactory.create(Nr,Ur);const{canvas:en,context:Zr}=this.annotationCanvas;this.annotationCanvasMap.set(Sr,en),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Zr,this.ctx.setTransform(Wr,0,0,-sn,0,qr*sn),Er(this.ctx,this.foregroundColor)}else Er(this.ctx,this.foregroundColor),this.ctx.rect(Rr[0],Rr[1],Br,qr),this.ctx.clip(),this.endPath()}this.current=new gr(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...Tr),this.transform(...Dr)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(Sr){if(!this.contentVisible)return;const Rr=Sr.count;Sr=this.getObject(Sr.data,Sr),Sr.count=Rr;const Tr=this.ctx,Dr=this.processingType3;if(Dr&&(Dr.compiled===void 0&&(Dr.compiled=hr(Sr)),Dr.compiled)){Dr.compiled(Tr);return}const Mr=this._createMaskCanvas(Sr),Br=Mr.canvas;Tr.save(),Tr.setTransform(1,0,0,1,0,0),Tr.drawImage(Br,Mr.offsetX,Mr.offsetY),Tr.restore(),this.compose()}paintImageMaskXObjectRepeat(Sr,Rr,Tr=0,Dr=0,Mr,Br){if(!this.contentVisible)return;Sr=this.getObject(Sr.data,Sr);const qr=this.ctx;qr.save();const Wr=(0,nr.getCurrentTransform)(qr);qr.transform(Rr,Tr,Dr,Mr,0,0);const sn=this._createMaskCanvas(Sr);qr.setTransform(1,0,0,1,sn.offsetX-Wr[4],sn.offsetY-Wr[5]);for(let un=0,Nr=Br.length;un<Nr;un+=2){const Ur=rr.Util.transform(Wr,[Rr,Tr,Dr,Mr,Br[un],Br[un+1]]),[en,Zr]=rr.Util.applyTransform([0,0],Ur);qr.drawImage(sn.canvas,en,Zr)}qr.restore(),this.compose()}paintImageMaskXObjectGroup(Sr){if(!this.contentVisible)return;const Rr=this.ctx,Tr=this.current.fillColor,Dr=this.current.patternFill;for(const Mr of Sr){const{data:Br,width:qr,height:Wr,transform:sn}=Mr,un=this.cachedCanvases.getCanvas("maskCanvas",qr,Wr),Nr=un.context;Nr.save();const Ur=this.getObject(Br,Mr);br(Nr,Ur),Nr.globalCompositeOperation="source-in",Nr.fillStyle=Dr?Tr.getPattern(Nr,this,(0,nr.getCurrentTransformInverse)(Rr),ar.PathType.FILL):Tr,Nr.fillRect(0,0,qr,Wr),Nr.restore(),Rr.save(),Rr.transform(...sn),Rr.scale(1,-1),pr(Rr,un.canvas,0,0,qr,Wr,0,-1,1,1),Rr.restore()}this.compose()}paintImageXObject(Sr){if(!this.contentVisible)return;const Rr=this.getObject(Sr);if(!Rr){(0,rr.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(Rr)}paintImageXObjectRepeat(Sr,Rr,Tr,Dr){if(!this.contentVisible)return;const Mr=this.getObject(Sr);if(!Mr){(0,rr.warn)("Dependent image isn't ready yet");return}const Br=Mr.width,qr=Mr.height,Wr=[];for(let sn=0,un=Dr.length;sn<un;sn+=2)Wr.push({transform:[Rr,0,0,Tr,Dr[sn],Dr[sn+1]],x:0,y:0,w:Br,h:qr});this.paintInlineImageXObjectGroup(Mr,Wr)}paintInlineImageXObject(Sr){if(!this.contentVisible)return;const Rr=Sr.width,Tr=Sr.height,Dr=this.ctx;this.save(),Dr.scale(1/Rr,-1/Tr);let Mr;if(typeof HTMLElement=="function"&&Sr instanceof HTMLElement||!Sr.data)Mr=Sr;else{const qr=this.cachedCanvases.getCanvas("inlineImage",Rr,Tr),Wr=qr.context;vr(Wr,Sr,this.current.transferMaps),Mr=qr.canvas}const Br=this._scaleImage(Mr,(0,nr.getCurrentTransformInverse)(Dr));Dr.imageSmoothingEnabled=Lr((0,nr.getCurrentTransform)(Dr),Sr.interpolate),pr(Dr,Br.img,0,0,Br.paintWidth,Br.paintHeight,0,-Tr,Rr,Tr),this.compose(),this.restore()}paintInlineImageXObjectGroup(Sr,Rr){if(!this.contentVisible)return;const Tr=this.ctx,Dr=Sr.width,Mr=Sr.height,Br=this.cachedCanvases.getCanvas("inlineImage",Dr,Mr),qr=Br.context;vr(qr,Sr,this.current.transferMaps);for(const Wr of Rr)Tr.save(),Tr.transform(...Wr.transform),Tr.scale(1,-1),pr(Tr,Br.canvas,Wr.x,Wr.y,Wr.w,Wr.h,0,-1,1,1),Tr.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(Sr){}markPointProps(Sr,Rr){}beginMarkedContent(Sr){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(Sr,Rr){Sr==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(Rr)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(Sr){const Rr=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(Sr);const Tr=this.ctx;this.pendingClip&&(Rr||(this.pendingClip===Qr?Tr.clip("evenodd"):Tr.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),Tr.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const Sr=(0,nr.getCurrentTransform)(this.ctx);if(Sr[1]===0&&Sr[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(Sr[0]),Math.abs(Sr[3]));else{const Rr=Math.abs(Sr[0]*Sr[3]-Sr[2]*Sr[1]),Tr=Math.hypot(Sr[0],Sr[2]),Dr=Math.hypot(Sr[1],Sr[3]);this._cachedGetSinglePixelWidth=Math.max(Tr,Dr)/Rr}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:Sr}=this.current,Rr=(0,nr.getCurrentTransform)(this.ctx);let Tr,Dr;if(Rr[1]===0&&Rr[2]===0){const Mr=Math.abs(Rr[0]),Br=Math.abs(Rr[3]);if(Sr===0)Tr=1/Mr,Dr=1/Br;else{const qr=Mr*Sr,Wr=Br*Sr;Tr=qr<1?1/qr:1,Dr=Wr<1?1/Wr:1}}else{const Mr=Math.abs(Rr[0]*Rr[3]-Rr[2]*Rr[1]),Br=Math.hypot(Rr[0],Rr[1]),qr=Math.hypot(Rr[2],Rr[3]);if(Sr===0)Tr=qr/Mr,Dr=Br/Mr;else{const Wr=Sr*Mr;Tr=qr>Wr?qr/Wr:1,Dr=Br>Wr?Br/Wr:1}}this._cachedScaleForStroking=[Tr,Dr]}return this._cachedScaleForStroking}rescaleAndStroke(Sr){const{ctx:Rr}=this,{lineWidth:Tr}=this.current,[Dr,Mr]=this.getScaleForStroking();if(Rr.lineWidth=Tr||1,Dr===1&&Mr===1){Rr.stroke();return}let Br,qr,Wr;Sr&&(Br=(0,nr.getCurrentTransform)(Rr),qr=Rr.getLineDash().slice(),Wr=Rr.lineDashOffset),Rr.scale(Dr,Mr);const sn=Math.max(Dr,Mr);Rr.setLineDash(Rr.getLineDash().map(un=>un/sn)),Rr.lineDashOffset/=sn,Rr.stroke(),Sr&&(Rr.setTransform(...Br),Rr.setLineDash(qr),Rr.lineDashOffset=Wr)}isContentVisible(){for(let Sr=this.markedContentStack.length-1;Sr>=0;Sr--)if(!this.markedContentStack[Sr].visible)return!1;return!0}};Vr=new WeakSet,Vp=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)};let zr=tn;er.CanvasGraphics=zr;for(const Yr in rr.OPS)zr.prototype[Yr]!==void 0&&(zr.prototype[rr.OPS[Yr]]=zr.prototype[Yr])},(St,er,tr)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.TilingPattern=er.PathType=void 0,er.getShadingPattern=fr;var rr=tr(1),nr=tr(6);const ar={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};er.PathType=ar;function sr(pr,hr){if(!hr)return;const gr=hr[2]-hr[0],vr=hr[3]-hr[1],br=new Path2D;br.rect(hr[0],hr[1],gr,vr),pr.clip(br)}class ir{constructor(){this.constructor===ir&&(0,rr.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,rr.unreachable)("Abstract method `getPattern` called.")}}class or extends ir{constructor(hr){super(),this._type=hr[1],this._bbox=hr[2],this._colorStops=hr[3],this._p0=hr[4],this._p1=hr[5],this._r0=hr[6],this._r1=hr[7],this.matrix=null}_createGradient(hr){let gr;this._type==="axial"?gr=hr.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(gr=hr.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const vr of this._colorStops)gr.addColorStop(vr[0],vr[1]);return gr}getPattern(hr,gr,vr,br){let yr;if(br===ar.STROKE||br===ar.FILL){const Er=gr.current.getClippedPathBoundingBox(br,(0,nr.getCurrentTransform)(hr))||[0,0,0,0],jr=Math.ceil(Er[2]-Er[0])||1,_r=Math.ceil(Er[3]-Er[1])||1,Cr=gr.cachedCanvases.getCanvas("pattern",jr,_r,!0),Or=Cr.context;Or.clearRect(0,0,Or.canvas.width,Or.canvas.height),Or.beginPath(),Or.rect(0,0,Or.canvas.width,Or.canvas.height),Or.translate(-Er[0],-Er[1]),vr=rr.Util.transform(vr,[1,0,0,1,Er[0],Er[1]]),Or.transform(...gr.baseTransform),this.matrix&&Or.transform(...this.matrix),sr(Or,this._bbox),Or.fillStyle=this._createGradient(Or),Or.fill(),yr=hr.createPattern(Cr.canvas,"no-repeat");const Pr=new DOMMatrix(vr);yr.setTransform(Pr)}else sr(hr,this._bbox),yr=this._createGradient(hr);return yr}}function lr(pr,hr,gr,vr,br,yr,Er,jr){const _r=hr.coords,Cr=hr.colors,Or=pr.data,Pr=pr.width*4;let Lr;_r[gr+1]>_r[vr+1]&&(Lr=gr,gr=vr,vr=Lr,Lr=yr,yr=Er,Er=Lr),_r[vr+1]>_r[br+1]&&(Lr=vr,vr=br,br=Lr,Lr=Er,Er=jr,jr=Lr),_r[gr+1]>_r[vr+1]&&(Lr=gr,gr=vr,vr=Lr,Lr=yr,yr=Er,Er=Lr);const Gr=(_r[gr]+hr.offsetX)*hr.scaleX,Kr=(_r[gr+1]+hr.offsetY)*hr.scaleY,nn=(_r[vr]+hr.offsetX)*hr.scaleX,Qr=(_r[vr+1]+hr.offsetY)*hr.scaleY,zr=(_r[br]+hr.offsetX)*hr.scaleX,Vr=(_r[br+1]+hr.offsetY)*hr.scaleY;if(Kr>=Vr)return;const Jr=Cr[yr],tn=Cr[yr+1],Yr=Cr[yr+2],Sr=Cr[Er],Rr=Cr[Er+1],Tr=Cr[Er+2],Dr=Cr[jr],Mr=Cr[jr+1],Br=Cr[jr+2],qr=Math.round(Kr),Wr=Math.round(Vr);let sn,un,Nr,Ur,en,Zr,Ir,on;for(let vn=qr;vn<=Wr;vn++){if(vn<Qr){let wn;vn<Kr?wn=0:wn=(Kr-vn)/(Kr-Qr),sn=Gr-(Gr-nn)*wn,un=Jr-(Jr-Sr)*wn,Nr=tn-(tn-Rr)*wn,Ur=Yr-(Yr-Tr)*wn}else{let wn;vn>Vr?wn=1:Qr===Vr?wn=0:wn=(Qr-vn)/(Qr-Vr),sn=nn-(nn-zr)*wn,un=Sr-(Sr-Dr)*wn,Nr=Rr-(Rr-Mr)*wn,Ur=Tr-(Tr-Br)*wn}let yn;vn<Kr?yn=0:vn>Vr?yn=1:yn=(Kr-vn)/(Kr-Vr),en=Gr-(Gr-zr)*yn,Zr=Jr-(Jr-Dr)*yn,Ir=tn-(tn-Mr)*yn,on=Yr-(Yr-Br)*yn;const Dn=Math.round(Math.min(sn,en)),pn=Math.round(Math.max(sn,en));let Sn=Pr*vn+Dn*4;for(let wn=Dn;wn<=pn;wn++)yn=(sn-wn)/(sn-en),yn<0?yn=0:yn>1&&(yn=1),Or[Sn++]=un-(un-Zr)*yn|0,Or[Sn++]=Nr-(Nr-Ir)*yn|0,Or[Sn++]=Ur-(Ur-on)*yn|0,Or[Sn++]=255}}function cr(pr,hr,gr){const vr=hr.coords,br=hr.colors;let yr,Er;switch(hr.type){case"lattice":const jr=hr.verticesPerRow,_r=Math.floor(vr.length/jr)-1,Cr=jr-1;for(yr=0;yr<_r;yr++){let Or=yr*jr;for(let Pr=0;Pr<Cr;Pr++,Or++)lr(pr,gr,vr[Or],vr[Or+1],vr[Or+jr],br[Or],br[Or+1],br[Or+jr]),lr(pr,gr,vr[Or+jr+1],vr[Or+1],vr[Or+jr],br[Or+jr+1],br[Or+1],br[Or+jr])}break;case"triangles":for(yr=0,Er=vr.length;yr<Er;yr+=3)lr(pr,gr,vr[yr],vr[yr+1],vr[yr+2],br[yr],br[yr+1],br[yr+2]);break;default:throw new Error("illegal figure")}}class ur extends ir{constructor(hr){super(),this._coords=hr[2],this._colors=hr[3],this._figures=hr[4],this._bounds=hr[5],this._bbox=hr[7],this._background=hr[8],this.matrix=null}_createMeshCanvas(hr,gr,vr){const jr=Math.floor(this._bounds[0]),_r=Math.floor(this._bounds[1]),Cr=Math.ceil(this._bounds[2])-jr,Or=Math.ceil(this._bounds[3])-_r,Pr=Math.min(Math.ceil(Math.abs(Cr*hr[0]*1.1)),3e3),Lr=Math.min(Math.ceil(Math.abs(Or*hr[1]*1.1)),3e3),Gr=Cr/Pr,Kr=Or/Lr,nn={coords:this._coords,colors:this._colors,offsetX:-jr,offsetY:-_r,scaleX:1/Gr,scaleY:1/Kr},Qr=Pr+2*2,zr=Lr+2*2,Vr=vr.getCanvas("mesh",Qr,zr,!1),Jr=Vr.context,tn=Jr.createImageData(Pr,Lr);if(gr){const Sr=tn.data;for(let Rr=0,Tr=Sr.length;Rr<Tr;Rr+=4)Sr[Rr]=gr[0],Sr[Rr+1]=gr[1],Sr[Rr+2]=gr[2],Sr[Rr+3]=255}for(const Sr of this._figures)cr(tn,Sr,nn);return Jr.putImageData(tn,2,2),{canvas:Vr.canvas,offsetX:jr-2*Gr,offsetY:_r-2*Kr,scaleX:Gr,scaleY:Kr}}getPattern(hr,gr,vr,br){sr(hr,this._bbox);let yr;if(br===ar.SHADING)yr=rr.Util.singularValueDecompose2dScale((0,nr.getCurrentTransform)(hr));else if(yr=rr.Util.singularValueDecompose2dScale(gr.baseTransform),this.matrix){const jr=rr.Util.singularValueDecompose2dScale(this.matrix);yr=[yr[0]*jr[0],yr[1]*jr[1]]}const Er=this._createMeshCanvas(yr,br===ar.SHADING?null:this._background,gr.cachedCanvases);return br!==ar.SHADING&&(hr.setTransform(...gr.baseTransform),this.matrix&&hr.transform(...this.matrix)),hr.translate(Er.offsetX,Er.offsetY),hr.scale(Er.scaleX,Er.scaleY),hr.createPattern(Er.canvas,"no-repeat")}}class dr extends ir{getPattern(){return"hotpink"}}function fr(pr){switch(pr[0]){case"RadialAxial":return new or(pr);case"Mesh":return new ur(pr);case"Dummy":return new dr}throw new Error(`Unknown IR type: ${pr[0]}`)}const mr={COLORED:1,UNCOLORED:2};class xr{static get MAX_PATTERN_SIZE(){return(0,rr.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(hr,gr,vr,br,yr){this.operatorList=hr[2],this.matrix=hr[3]||[1,0,0,1,0,0],this.bbox=hr[4],this.xstep=hr[5],this.ystep=hr[6],this.paintType=hr[7],this.tilingType=hr[8],this.color=gr,this.ctx=vr,this.canvasGraphicsFactory=br,this.baseTransform=yr}createPatternCanvas(hr){const gr=this.operatorList,vr=this.bbox,br=this.xstep,yr=this.ystep,Er=this.paintType,jr=this.tilingType,_r=this.color,Cr=this.canvasGraphicsFactory;(0,rr.info)("TilingType: "+jr);const Or=vr[0],Pr=vr[1],Lr=vr[2],Gr=vr[3],Kr=rr.Util.singularValueDecompose2dScale(this.matrix),nn=rr.Util.singularValueDecompose2dScale(this.baseTransform),Qr=[Kr[0]*nn[0],Kr[1]*nn[1]],zr=this.getSizeAndScale(br,this.ctx.canvas.width,Qr[0]),Vr=this.getSizeAndScale(yr,this.ctx.canvas.height,Qr[1]),Jr=hr.cachedCanvases.getCanvas("pattern",zr.size,Vr.size,!0),tn=Jr.context,Yr=Cr.createCanvasGraphics(tn);Yr.groupLevel=hr.groupLevel,this.setFillAndStrokeStyleToContext(Yr,Er,_r);let Sr=Or,Rr=Pr,Tr=Lr,Dr=Gr;return Or<0&&(Sr=0,Tr+=Math.abs(Or)),Pr<0&&(Rr=0,Dr+=Math.abs(Pr)),tn.translate(-(zr.scale*Sr),-(Vr.scale*Rr)),Yr.transform(zr.scale,0,0,Vr.scale,0,0),tn.save(),this.clipBbox(Yr,Sr,Rr,Tr,Dr),Yr.baseTransform=(0,nr.getCurrentTransform)(Yr.ctx),Yr.executeOperatorList(gr),Yr.endDrawing(),{canvas:Jr.canvas,scaleX:zr.scale,scaleY:Vr.scale,offsetX:Sr,offsetY:Rr}}getSizeAndScale(hr,gr,vr){hr=Math.abs(hr);const br=Math.max(xr.MAX_PATTERN_SIZE,gr);let yr=Math.ceil(hr*vr);return yr>=br?yr=br:vr=yr/hr,{scale:vr,size:yr}}clipBbox(hr,gr,vr,br,yr){const Er=br-gr,jr=yr-vr;hr.ctx.rect(gr,vr,Er,jr),hr.current.updateRectMinMax((0,nr.getCurrentTransform)(hr.ctx),[gr,vr,br,yr]),hr.clip(),hr.endPath()}setFillAndStrokeStyleToContext(hr,gr,vr){const br=hr.ctx,yr=hr.current;switch(gr){case mr.COLORED:const Er=this.ctx;br.fillStyle=Er.fillStyle,br.strokeStyle=Er.strokeStyle,yr.fillColor=Er.fillStyle,yr.strokeColor=Er.strokeStyle;break;case mr.UNCOLORED:const jr=rr.Util.makeHexColor(vr[0],vr[1],vr[2]);br.fillStyle=jr,br.strokeStyle=jr,yr.fillColor=jr,yr.strokeColor=jr;break;default:throw new rr.FormatError(`Unsupported paint type: ${gr}`)}}getPattern(hr,gr,vr,br){let yr=vr;br!==ar.SHADING&&(yr=rr.Util.transform(yr,gr.baseTransform),this.matrix&&(yr=rr.Util.transform(yr,this.matrix)));const Er=this.createPatternCanvas(gr);let jr=new DOMMatrix(yr);jr=jr.translate(Er.offsetX,Er.offsetY),jr=jr.scale(1/Er.scaleX,1/Er.scaleY);const _r=hr.createPattern(Er.canvas,"repeat");return _r.setTransform(jr),_r}}er.TilingPattern=xr},(St,er,tr)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.applyMaskImageData=nr;var rr=tr(1);function nr({src:ar,srcPos:sr=0,dest:ir,destPos:or=0,width:lr,height:cr,inverseDecode:ur=!1}){const dr=rr.FeatureTest.isLittleEndian?4278190080:255,[fr,mr]=ur?[0,dr]:[dr,0],xr=lr>>3,pr=lr&7,hr=ar.length;ir=new Uint32Array(ir.buffer);for(let gr=0;gr<cr;gr++){for(const br=sr+xr;sr<br;sr++){const yr=sr<hr?ar[sr]:255;ir[or++]=yr&128?mr:fr,ir[or++]=yr&64?mr:fr,ir[or++]=yr&32?mr:fr,ir[or++]=yr&16?mr:fr,ir[or++]=yr&8?mr:fr,ir[or++]=yr&4?mr:fr,ir[or++]=yr&2?mr:fr,ir[or++]=yr&1?mr:fr}if(pr===0)continue;const vr=sr<hr?ar[sr++]:255;for(let br=0;br<pr;br++)ir[or++]=vr&1<<7-br?mr:fr}return{srcPos:sr,destPos:or}}},(St,er)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.GlobalWorkerOptions=void 0;const tr=Object.create(null);er.GlobalWorkerOptions=tr,tr.workerPort=null,tr.workerSrc=""},(St,er,tr)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.MessageHandler=void 0;var rr=tr(1);const nr={DATA:1,ERROR:2},ar={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function sr(or){switch(or instanceof Error||typeof or=="object"&&or!==null||(0,rr.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),or.name){case"AbortException":return new rr.AbortException(or.message);case"MissingPDFException":return new rr.MissingPDFException(or.message);case"PasswordException":return new rr.PasswordException(or.message,or.code);case"UnexpectedResponseException":return new rr.UnexpectedResponseException(or.message,or.status);case"UnknownErrorException":return new rr.UnknownErrorException(or.message,or.details);default:return new rr.UnknownErrorException(or.message,or.toString())}}class ir{constructor(lr,cr,ur){this.sourceName=lr,this.targetName=cr,this.comObj=ur,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=dr=>{const fr=dr.data;if(fr.targetName!==this.sourceName)return;if(fr.stream){this._processStreamMessage(fr);return}if(fr.callback){const xr=fr.callbackId,pr=this.callbackCapabilities[xr];if(!pr)throw new Error(`Cannot resolve callback ${xr}`);if(delete this.callbackCapabilities[xr],fr.callback===nr.DATA)pr.resolve(fr.data);else if(fr.callback===nr.ERROR)pr.reject(sr(fr.reason));else throw new Error("Unexpected callback case");return}const mr=this.actionHandler[fr.action];if(!mr)throw new Error(`Unknown action from worker: ${fr.action}`);if(fr.callbackId){const xr=this.sourceName,pr=fr.sourceName;new Promise(function(hr){hr(mr(fr.data))}).then(function(hr){ur.postMessage({sourceName:xr,targetName:pr,callback:nr.DATA,callbackId:fr.callbackId,data:hr})},function(hr){ur.postMessage({sourceName:xr,targetName:pr,callback:nr.ERROR,callbackId:fr.callbackId,reason:sr(hr)})});return}if(fr.streamId){this._createStreamSink(fr);return}mr(fr.data)},ur.addEventListener("message",this._onComObjOnMessage)}on(lr,cr){const ur=this.actionHandler;if(ur[lr])throw new Error(`There is already an actionName called "${lr}"`);ur[lr]=cr}send(lr,cr,ur){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:lr,data:cr},ur)}sendWithPromise(lr,cr,ur){const dr=this.callbackId++,fr=(0,rr.createPromiseCapability)();this.callbackCapabilities[dr]=fr;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:lr,callbackId:dr,data:cr},ur)}catch(mr){fr.reject(mr)}return fr.promise}sendWithStream(lr,cr,ur,dr){const fr=this.streamId++,mr=this.sourceName,xr=this.targetName,pr=this.comObj;return new ReadableStream({start:hr=>{const gr=(0,rr.createPromiseCapability)();return this.streamControllers[fr]={controller:hr,startCall:gr,pullCall:null,cancelCall:null,isClosed:!1},pr.postMessage({sourceName:mr,targetName:xr,action:lr,streamId:fr,data:cr,desiredSize:hr.desiredSize},dr),gr.promise},pull:hr=>{const gr=(0,rr.createPromiseCapability)();return this.streamControllers[fr].pullCall=gr,pr.postMessage({sourceName:mr,targetName:xr,stream:ar.PULL,streamId:fr,desiredSize:hr.desiredSize}),gr.promise},cancel:hr=>{(0,rr.assert)(hr instanceof Error,"cancel must have a valid reason");const gr=(0,rr.createPromiseCapability)();return this.streamControllers[fr].cancelCall=gr,this.streamControllers[fr].isClosed=!0,pr.postMessage({sourceName:mr,targetName:xr,stream:ar.CANCEL,streamId:fr,reason:sr(hr)}),gr.promise}},ur)}_createStreamSink(lr){const cr=lr.streamId,ur=this.sourceName,dr=lr.sourceName,fr=this.comObj,mr=this,xr=this.actionHandler[lr.action],pr={enqueue(hr,gr=1,vr){if(this.isCancelled)return;const br=this.desiredSize;this.desiredSize-=gr,br>0&&this.desiredSize<=0&&(this.sinkCapability=(0,rr.createPromiseCapability)(),this.ready=this.sinkCapability.promise),fr.postMessage({sourceName:ur,targetName:dr,stream:ar.ENQUEUE,streamId:cr,chunk:hr},vr)},close(){this.isCancelled||(this.isCancelled=!0,fr.postMessage({sourceName:ur,targetName:dr,stream:ar.CLOSE,streamId:cr}),delete mr.streamSinks[cr])},error(hr){(0,rr.assert)(hr instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,fr.postMessage({sourceName:ur,targetName:dr,stream:ar.ERROR,streamId:cr,reason:sr(hr)}))},sinkCapability:(0,rr.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:lr.desiredSize,ready:null};pr.sinkCapability.resolve(),pr.ready=pr.sinkCapability.promise,this.streamSinks[cr]=pr,new Promise(function(hr){hr(xr(lr.data,pr))}).then(function(){fr.postMessage({sourceName:ur,targetName:dr,stream:ar.START_COMPLETE,streamId:cr,success:!0})},function(hr){fr.postMessage({sourceName:ur,targetName:dr,stream:ar.START_COMPLETE,streamId:cr,reason:sr(hr)})})}_processStreamMessage(lr){const cr=lr.streamId,ur=this.sourceName,dr=lr.sourceName,fr=this.comObj,mr=this.streamControllers[cr],xr=this.streamSinks[cr];switch(lr.stream){case ar.START_COMPLETE:lr.success?mr.startCall.resolve():mr.startCall.reject(sr(lr.reason));break;case ar.PULL_COMPLETE:lr.success?mr.pullCall.resolve():mr.pullCall.reject(sr(lr.reason));break;case ar.PULL:if(!xr){fr.postMessage({sourceName:ur,targetName:dr,stream:ar.PULL_COMPLETE,streamId:cr,success:!0});break}xr.desiredSize<=0&&lr.desiredSize>0&&xr.sinkCapability.resolve(),xr.desiredSize=lr.desiredSize,new Promise(function(pr){pr(xr.onPull&&xr.onPull())}).then(function(){fr.postMessage({sourceName:ur,targetName:dr,stream:ar.PULL_COMPLETE,streamId:cr,success:!0})},function(pr){fr.postMessage({sourceName:ur,targetName:dr,stream:ar.PULL_COMPLETE,streamId:cr,reason:sr(pr)})});break;case ar.ENQUEUE:if((0,rr.assert)(mr,"enqueue should have stream controller"),mr.isClosed)break;mr.controller.enqueue(lr.chunk);break;case ar.CLOSE:if((0,rr.assert)(mr,"close should have stream controller"),mr.isClosed)break;mr.isClosed=!0,mr.controller.close(),this._deleteStreamController(mr,cr);break;case ar.ERROR:(0,rr.assert)(mr,"error should have stream controller"),mr.controller.error(sr(lr.reason)),this._deleteStreamController(mr,cr);break;case ar.CANCEL_COMPLETE:lr.success?mr.cancelCall.resolve():mr.cancelCall.reject(sr(lr.reason)),this._deleteStreamController(mr,cr);break;case ar.CANCEL:if(!xr)break;new Promise(function(pr){pr(xr.onCancel&&xr.onCancel(sr(lr.reason)))}).then(function(){fr.postMessage({sourceName:ur,targetName:dr,stream:ar.CANCEL_COMPLETE,streamId:cr,success:!0})},function(pr){fr.postMessage({sourceName:ur,targetName:dr,stream:ar.CANCEL_COMPLETE,streamId:cr,reason:sr(pr)})}),xr.sinkCapability.reject(sr(lr.reason)),xr.isCancelled=!0,delete this.streamSinks[cr];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(lr,cr){await Promise.allSettled([lr.startCall&&lr.startCall.promise,lr.pullCall&&lr.pullCall.promise,lr.cancelCall&&lr.cancelCall.promise]),delete this.streamControllers[cr]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}er.MessageHandler=ir},(St,er,tr)=>{var ar,sr;Object.defineProperty(er,"__esModule",{value:!0}),er.Metadata=void 0;var rr=tr(1);class nr{constructor({parsedData:or,rawData:lr}){js(this,ar);js(this,sr);Ns(this,ar,or),Ns(this,sr,lr)}getRaw(){return xn(this,sr)}get(or){return xn(this,ar).get(or)??null}getAll(){return(0,rr.objectFromMap)(xn(this,ar))}has(or){return xn(this,ar).has(or)}}ar=new WeakMap,sr=new WeakMap,er.Metadata=nr},(St,er,tr)=>{var or,lr,cr,ur,dr,fr,Hp;Object.defineProperty(er,"__esModule",{value:!0}),er.OptionalContentConfig=void 0;var rr=tr(1),nr=tr(8);const ar=Symbol("INTERNAL");class sr{constructor(pr,hr){js(this,or,!0);this.name=pr,this.intent=hr}get visible(){return xn(this,or)}_setVisible(pr,hr){pr!==ar&&(0,rr.unreachable)("Internal method `_setVisible` called."),Ns(this,or,hr)}}or=new WeakMap;class ir{constructor(pr){js(this,fr);js(this,lr,null);js(this,cr,new Map);js(this,ur,null);js(this,dr,null);if(this.name=null,this.creator=null,pr!==null){this.name=pr.name,this.creator=pr.creator,Ns(this,dr,pr.order);for(const hr of pr.groups)xn(this,cr).set(hr.id,new sr(hr.name,hr.intent));if(pr.baseState==="OFF")for(const hr of xn(this,cr).values())hr._setVisible(ar,!1);for(const hr of pr.on)xn(this,cr).get(hr)._setVisible(ar,!0);for(const hr of pr.off)xn(this,cr).get(hr)._setVisible(ar,!1);Ns(this,ur,this.getHash())}}isVisible(pr){if(xn(this,cr).size===0)return!0;if(!pr)return(0,rr.warn)("Optional content group not defined."),!0;if(pr.type==="OCG")return xn(this,cr).has(pr.id)?xn(this,cr).get(pr.id).visible:((0,rr.warn)(`Optional content group not found: ${pr.id}`),!0);if(pr.type==="OCMD"){if(pr.expression)return hs(this,fr,Hp).call(this,pr.expression);if(!pr.policy||pr.policy==="AnyOn"){for(const hr of pr.ids){if(!xn(this,cr).has(hr))return(0,rr.warn)(`Optional content group not found: ${hr}`),!0;if(xn(this,cr).get(hr).visible)return!0}return!1}else if(pr.policy==="AllOn"){for(const hr of pr.ids){if(!xn(this,cr).has(hr))return(0,rr.warn)(`Optional content group not found: ${hr}`),!0;if(!xn(this,cr).get(hr).visible)return!1}return!0}else if(pr.policy==="AnyOff"){for(const hr of pr.ids){if(!xn(this,cr).has(hr))return(0,rr.warn)(`Optional content group not found: ${hr}`),!0;if(!xn(this,cr).get(hr).visible)return!0}return!1}else if(pr.policy==="AllOff"){for(const hr of pr.ids){if(!xn(this,cr).has(hr))return(0,rr.warn)(`Optional content group not found: ${hr}`),!0;if(xn(this,cr).get(hr).visible)return!1}return!0}return(0,rr.warn)(`Unknown optional content policy ${pr.policy}.`),!0}return(0,rr.warn)(`Unknown group type ${pr.type}.`),!0}setVisibility(pr,hr=!0){if(!xn(this,cr).has(pr)){(0,rr.warn)(`Optional content group not found: ${pr}`);return}xn(this,cr).get(pr)._setVisible(ar,!!hr),Ns(this,lr,null)}get hasInitialVisibility(){return this.getHash()===xn(this,ur)}getOrder(){return xn(this,cr).size?xn(this,dr)?xn(this,dr).slice():[...xn(this,cr).keys()]:null}getGroups(){return xn(this,cr).size>0?(0,rr.objectFromMap)(xn(this,cr)):null}getGroup(pr){return xn(this,cr).get(pr)||null}getHash(){if(xn(this,lr)!==null)return xn(this,lr);const pr=new nr.MurmurHash3_64;for(const[hr,gr]of xn(this,cr))pr.update(`${hr}:${gr.visible}`);return Ns(this,lr,pr.hexdigest())}}lr=new WeakMap,cr=new WeakMap,ur=new WeakMap,dr=new WeakMap,fr=new WeakSet,Hp=function(pr){const hr=pr.length;if(hr<2)return!0;const gr=pr[0];for(let vr=1;vr<hr;vr++){const br=pr[vr];let yr;if(Array.isArray(br))yr=hs(this,fr,Hp).call(this,br);else if(xn(this,cr).has(br))yr=xn(this,cr).get(br).visible;else return(0,rr.warn)(`Optional content group not found: ${br}`),!0;switch(gr){case"And":if(!yr)return!1;break;case"Or":if(yr)return!0;break;case"Not":return!yr;default:return!0}}return gr==="And"},er.OptionalContentConfig=ir},(St,er,tr)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.PDFDataTransportStream=void 0;var rr=tr(1),nr=tr(6);class ar{constructor({length:lr,initialData:cr,progressiveDone:ur=!1,contentDispositionFilename:dr=null,disableRange:fr=!1,disableStream:mr=!1},xr){if((0,rr.assert)(xr,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=ur,this._contentDispositionFilename=dr,(cr==null?void 0:cr.length)>0){const pr=cr instanceof Uint8Array&&cr.byteLength===cr.buffer.byteLength?cr.buffer:new Uint8Array(cr).buffer;this._queuedChunks.push(pr)}this._pdfDataRangeTransport=xr,this._isStreamingSupported=!mr,this._isRangeSupported=!fr,this._contentLength=lr,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((pr,hr)=>{this._onReceiveData({begin:pr,chunk:hr})}),this._pdfDataRangeTransport.addProgressListener((pr,hr)=>{this._onProgress({loaded:pr,total:hr})}),this._pdfDataRangeTransport.addProgressiveReadListener(pr=>{this._onReceiveData({chunk:pr})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:lr,chunk:cr}){const ur=cr instanceof Uint8Array&&cr.byteLength===cr.buffer.byteLength?cr.buffer:new Uint8Array(cr).buffer;if(lr===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(ur):this._queuedChunks.push(ur);else{const dr=this._rangeReaders.some(function(fr){return fr._begin!==lr?!1:(fr._enqueue(ur),!0)});(0,rr.assert)(dr,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var lr;return((lr=this._fullRequestReader)==null?void 0:lr._loaded)??0}_onProgress(lr){var cr,ur,dr,fr;lr.total===void 0?(ur=(cr=this._rangeReaders[0])==null?void 0:cr.onProgress)==null||ur.call(cr,{loaded:lr.loaded}):(fr=(dr=this._fullRequestReader)==null?void 0:dr.onProgress)==null||fr.call(dr,{loaded:lr.loaded,total:lr.total})}_onProgressiveDone(){var lr;(lr=this._fullRequestReader)==null||lr.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(lr){const cr=this._rangeReaders.indexOf(lr);cr>=0&&this._rangeReaders.splice(cr,1)}getFullReader(){(0,rr.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const lr=this._queuedChunks;return this._queuedChunks=null,new sr(this,lr,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(lr,cr){if(cr<=this._progressiveDataLength)return null;const ur=new ir(this,lr,cr);return this._pdfDataRangeTransport.requestDataRange(lr,cr),this._rangeReaders.push(ur),ur}cancelAllRequests(lr){var cr;(cr=this._fullRequestReader)==null||cr.cancel(lr);for(const ur of this._rangeReaders.slice(0))ur.cancel(lr);this._pdfDataRangeTransport.abort()}}er.PDFDataTransportStream=ar;class sr{constructor(lr,cr,ur=!1,dr=null){this._stream=lr,this._done=ur||!1,this._filename=(0,nr.isPdfFile)(dr)?dr:null,this._queuedChunks=cr||[],this._loaded=0;for(const fr of this._queuedChunks)this._loaded+=fr.byteLength;this._requests=[],this._headersReady=Promise.resolve(),lr._fullRequestReader=this,this.onProgress=null}_enqueue(lr){this._done||(this._requests.length>0?this._requests.shift().resolve({value:lr,done:!1}):this._queuedChunks.push(lr),this._loaded+=lr.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const lr=(0,rr.createPromiseCapability)();return this._requests.push(lr),lr.promise}cancel(lr){this._done=!0;for(const cr of this._requests)cr.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class ir{constructor(lr,cr,ur){this._stream=lr,this._begin=cr,this._end=ur,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(lr){if(!this._done){if(this._requests.length===0)this._queuedChunk=lr;else{this._requests.shift().resolve({value:lr,done:!1});for(const ur of this._requests)ur.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const cr=this._queuedChunk;return this._queuedChunk=null,{value:cr,done:!1}}if(this._done)return{value:void 0,done:!0};const lr=(0,rr.createPromiseCapability)();return this._requests.push(lr),lr.promise}cancel(lr){this._done=!0;for(const cr of this._requests)cr.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(St,er)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.XfaText=void 0;class tr{static textContent(nr){const ar=[],sr={items:ar,styles:Object.create(null)};function ir(or){var ur;if(!or)return;let lr=null;const cr=or.name;if(cr==="#text")lr=or.value;else if(tr.shouldBuildText(cr))(ur=or==null?void 0:or.attributes)!=null&&ur.textContent?lr=or.attributes.textContent:or.value&&(lr=or.value);else return;if(lr!==null&&ar.push({str:lr}),!!or.children)for(const dr of or.children)ir(dr)}return ir(nr),sr}static shouldBuildText(nr){return!(nr==="textarea"||nr==="input"||nr==="option"||nr==="select")}}er.XfaText=tr},(St,er,tr)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.NodeStandardFontDataFactory=er.NodeCanvasFactory=er.NodeCMapReaderFactory=void 0;var rr=tr(7);const nr=function(or){return new Promise((lr,cr)=>{require$$5.readFile(or,(dr,fr)=>{if(dr||!fr){cr(new Error(dr));return}lr(new Uint8Array(fr))})})};class ar extends rr.BaseCanvasFactory{_createCanvas(lr,cr){return require$$5.createCanvas(lr,cr)}}er.NodeCanvasFactory=ar;class sr extends rr.BaseCMapReaderFactory{_fetchData(lr,cr){return nr(lr).then(ur=>({cMapData:ur,compressionType:cr}))}}er.NodeCMapReaderFactory=sr;class ir extends rr.BaseStandardFontDataFactory{_fetchData(lr){return nr(lr)}}er.NodeStandardFontDataFactory=ir},(St,er,tr)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.PDFNodeStream=void 0;var rr=tr(1),nr=tr(22);const ar=require$$5,sr=require$$5,ir=require$$5,or=require$$5,lr=/^file:\/\/\/[a-zA-Z]:\//;function cr(vr){const br=or.parse(vr);return br.protocol==="file:"||br.host?br:/^[a-z]:[/\\]/i.test(vr)?or.parse(`file:///${vr}`):(br.host||(br.protocol="file:"),br)}class ur{constructor(br){this.source=br,this.url=cr(br.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&br.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var br;return((br=this._fullRequestReader)==null?void 0:br._loaded)??0}getFullReader(){return(0,rr.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new hr(this):new xr(this),this._fullRequestReader}getRangeReader(br,yr){if(yr<=this._progressiveDataLength)return null;const Er=this.isFsUrl?new gr(this,br,yr):new pr(this,br,yr);return this._rangeRequestReaders.push(Er),Er}cancelAllRequests(br){var yr;(yr=this._fullRequestReader)==null||yr.cancel(br);for(const Er of this._rangeRequestReaders.slice(0))Er.cancel(br)}}er.PDFNodeStream=ur;class dr{constructor(br){this._url=br.url,this._done=!1,this._storedError=null,this.onProgress=null;const yr=br.source;this._contentLength=yr.length,this._loaded=0,this._filename=null,this._disableRange=yr.disableRange||!1,this._rangeChunkSize=yr.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!yr.disableStream,this._isRangeSupported=!yr.disableRange,this._readableStream=null,this._readCapability=(0,rr.createPromiseCapability)(),this._headersCapability=(0,rr.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Er;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const br=this._readableStream.read();return br===null?(this._readCapability=(0,rr.createPromiseCapability)(),this.read()):(this._loaded+=br.length,(Er=this.onProgress)==null||Er.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(br).buffer,done:!1})}cancel(br){if(!this._readableStream){this._error(br);return}this._readableStream.destroy(br)}_error(br){this._storedError=br,this._readCapability.resolve()}_setReadableStream(br){this._readableStream=br,br.on("readable",()=>{this._readCapability.resolve()}),br.on("end",()=>{br.destroy(),this._done=!0,this._readCapability.resolve()}),br.on("error",yr=>{this._error(yr)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new rr.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class fr{constructor(br){this._url=br.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,rr.createPromiseCapability)();const yr=br.source;this._isStreamingSupported=!yr.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Er;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const br=this._readableStream.read();return br===null?(this._readCapability=(0,rr.createPromiseCapability)(),this.read()):(this._loaded+=br.length,(Er=this.onProgress)==null||Er.call(this,{loaded:this._loaded}),{value:new Uint8Array(br).buffer,done:!1})}cancel(br){if(!this._readableStream){this._error(br);return}this._readableStream.destroy(br)}_error(br){this._storedError=br,this._readCapability.resolve()}_setReadableStream(br){this._readableStream=br,br.on("readable",()=>{this._readCapability.resolve()}),br.on("end",()=>{br.destroy(),this._done=!0,this._readCapability.resolve()}),br.on("error",yr=>{this._error(yr)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function mr(vr,br){return{protocol:vr.protocol,auth:vr.auth,host:vr.hostname,port:vr.port,path:vr.path,method:"GET",headers:br}}class xr extends dr{constructor(br){super(br);const yr=Er=>{if(Er.statusCode===404){const Or=new rr.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Or,this._headersCapability.reject(Or);return}this._headersCapability.resolve(),this._setReadableStream(Er);const jr=Or=>this._readableStream.headers[Or.toLowerCase()],{allowRangeRequests:_r,suggestedLength:Cr}=(0,nr.validateRangeRequestCapabilities)({getResponseHeader:jr,isHttp:br.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=_r,this._contentLength=Cr||this._contentLength,this._filename=(0,nr.extractFilenameFromHeader)(jr)};this._request=null,this._url.protocol==="http:"?this._request=sr.request(mr(this._url,br.httpHeaders),yr):this._request=ir.request(mr(this._url,br.httpHeaders),yr),this._request.on("error",Er=>{this._storedError=Er,this._headersCapability.reject(Er)}),this._request.end()}}class pr extends fr{constructor(br,yr,Er){super(br),this._httpHeaders={};for(const _r in br.httpHeaders){const Cr=br.httpHeaders[_r];Cr!==void 0&&(this._httpHeaders[_r]=Cr)}this._httpHeaders.Range=`bytes=${yr}-${Er-1}`;const jr=_r=>{if(_r.statusCode===404){const Cr=new rr.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Cr;return}this._setReadableStream(_r)};this._request=null,this._url.protocol==="http:"?this._request=sr.request(mr(this._url,this._httpHeaders),jr):this._request=ir.request(mr(this._url,this._httpHeaders),jr),this._request.on("error",_r=>{this._storedError=_r}),this._request.end()}}class hr extends dr{constructor(br){super(br);let yr=decodeURIComponent(this._url.path);lr.test(this._url.href)&&(yr=yr.replace(/^\//,"")),ar.lstat(yr,(Er,jr)=>{if(Er){Er.code==="ENOENT"&&(Er=new rr.MissingPDFException(`Missing PDF "${yr}".`)),this._storedError=Er,this._headersCapability.reject(Er);return}this._contentLength=jr.size,this._setReadableStream(ar.createReadStream(yr)),this._headersCapability.resolve()})}}class gr extends fr{constructor(br,yr,Er){super(br);let jr=decodeURIComponent(this._url.path);lr.test(this._url.href)&&(jr=jr.replace(/^\//,"")),this._setReadableStream(ar.createReadStream(jr,{start:yr,end:Er-1}))}}},(St,er,tr)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.createResponseStatusError=or,er.extractFilenameFromHeader=ir,er.validateRangeRequestCapabilities=sr,er.validateResponseStatus=lr;var rr=tr(1),nr=tr(23),ar=tr(6);function sr({getResponseHeader:cr,isHttp:ur,rangeChunkSize:dr,disableRange:fr}){const mr={allowRangeRequests:!1,suggestedLength:void 0},xr=parseInt(cr("Content-Length"),10);return!Number.isInteger(xr)||(mr.suggestedLength=xr,xr<=2*dr)||fr||!ur||cr("Accept-Ranges")!=="bytes"||(cr("Content-Encoding")||"identity")!=="identity"||(mr.allowRangeRequests=!0),mr}function ir(cr){const ur=cr("Content-Disposition");if(ur){let dr=(0,nr.getFilenameFromContentDispositionHeader)(ur);if(dr.includes("%"))try{dr=decodeURIComponent(dr)}catch{}if((0,ar.isPdfFile)(dr))return dr}return null}function or(cr,ur){return cr===404||cr===0&&ur.startsWith("file:")?new rr.MissingPDFException('Missing PDF "'+ur+'".'):new rr.UnexpectedResponseException(`Unexpected server response (${cr}) while retrieving PDF "${ur}".`,cr)}function lr(cr){return cr===200||cr===206}},(St,er,tr)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.getFilenameFromContentDispositionHeader=nr;var rr=tr(1);function nr(ar){let sr=!0,ir=or("filename\\*","i").exec(ar);if(ir){ir=ir[1];let xr=dr(ir);return xr=unescape(xr),xr=fr(xr),xr=mr(xr),cr(xr)}if(ir=ur(ar),ir){const xr=mr(ir);return cr(xr)}if(ir=or("filename","i").exec(ar),ir){ir=ir[1];let xr=dr(ir);return xr=mr(xr),cr(xr)}function or(xr,pr){return new RegExp("(?:^|;)\\s*"+xr+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',pr)}function lr(xr,pr){if(xr){if(!/^[\x00-\xFF]+$/.test(pr))return pr;try{const hr=new TextDecoder(xr,{fatal:!0}),gr=(0,rr.stringToBytes)(pr);pr=hr.decode(gr),sr=!1}catch{}}return pr}function cr(xr){return sr&&/[\x80-\xff]/.test(xr)&&(xr=lr("utf-8",xr),sr&&(xr=lr("iso-8859-1",xr))),xr}function ur(xr){const pr=[];let hr;const gr=or("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(hr=gr.exec(xr))!==null;){let[,br,yr,Er]=hr;if(br=parseInt(br,10),br in pr){if(br===0)break;continue}pr[br]=[yr,Er]}const vr=[];for(let br=0;br<pr.length&&br in pr;++br){let[yr,Er]=pr[br];Er=dr(Er),yr&&(Er=unescape(Er),br===0&&(Er=fr(Er))),vr.push(Er)}return vr.join("")}function dr(xr){if(xr.startsWith('"')){const pr=xr.slice(1).split('\\"');for(let hr=0;hr<pr.length;++hr){const gr=pr[hr].indexOf('"');gr!==-1&&(pr[hr]=pr[hr].slice(0,gr),pr.length=hr+1),pr[hr]=pr[hr].replace(/\\(.)/g,"$1")}xr=pr.join('"')}return xr}function fr(xr){const pr=xr.indexOf("'");if(pr===-1)return xr;const hr=xr.slice(0,pr),vr=xr.slice(pr+1).replace(/^[^']*'/,"");return lr(hr,vr)}function mr(xr){return!xr.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(xr)?xr:xr.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(pr,hr,gr,vr){if(gr==="q"||gr==="Q")return vr=vr.replace(/_/g," "),vr=vr.replace(/=([0-9a-fA-F]{2})/g,function(br,yr){return String.fromCharCode(parseInt(yr,16))}),lr(hr,vr);try{vr=atob(vr)}catch{}return lr(hr,vr)})}return""}},(St,er,tr)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.PDFNetworkStream=void 0;var rr=tr(1),nr=tr(22);const ar=200,sr=206;function ir(dr){const fr=dr.response;return typeof fr!="string"?fr:(0,rr.stringToBytes)(fr).buffer}class or{constructor(fr,mr={}){this.url=fr,this.isHttp=/^https?:/i.test(fr),this.httpHeaders=this.isHttp&&mr.httpHeaders||Object.create(null),this.withCredentials=mr.withCredentials||!1,this.getXhr=mr.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(fr,mr,xr){const pr={begin:fr,end:mr};for(const hr in xr)pr[hr]=xr[hr];return this.request(pr)}requestFull(fr){return this.request(fr)}request(fr){const mr=this.getXhr(),xr=this.currXhrId++,pr=this.pendingRequests[xr]={xhr:mr};mr.open("GET",this.url),mr.withCredentials=this.withCredentials;for(const hr in this.httpHeaders){const gr=this.httpHeaders[hr];gr!==void 0&&mr.setRequestHeader(hr,gr)}return this.isHttp&&"begin"in fr&&"end"in fr?(mr.setRequestHeader("Range",`bytes=${fr.begin}-${fr.end-1}`),pr.expectedStatus=sr):pr.expectedStatus=ar,mr.responseType="arraybuffer",fr.onError&&(mr.onerror=function(hr){fr.onError(mr.status)}),mr.onreadystatechange=this.onStateChange.bind(this,xr),mr.onprogress=this.onProgress.bind(this,xr),pr.onHeadersReceived=fr.onHeadersReceived,pr.onDone=fr.onDone,pr.onError=fr.onError,pr.onProgress=fr.onProgress,mr.send(null),xr}onProgress(fr,mr){var pr;const xr=this.pendingRequests[fr];xr&&((pr=xr.onProgress)==null||pr.call(xr,mr))}onStateChange(fr,mr){var br,yr,Er;const xr=this.pendingRequests[fr];if(!xr)return;const pr=xr.xhr;if(pr.readyState>=2&&xr.onHeadersReceived&&(xr.onHeadersReceived(),delete xr.onHeadersReceived),pr.readyState!==4||!(fr in this.pendingRequests))return;if(delete this.pendingRequests[fr],pr.status===0&&this.isHttp){(br=xr.onError)==null||br.call(xr,pr.status);return}const hr=pr.status||ar;if(!(hr===ar&&xr.expectedStatus===sr)&&hr!==xr.expectedStatus){(yr=xr.onError)==null||yr.call(xr,pr.status);return}const vr=ir(pr);if(hr===sr){const jr=pr.getResponseHeader("Content-Range"),_r=/bytes (\d+)-(\d+)\/(\d+)/.exec(jr);xr.onDone({begin:parseInt(_r[1],10),chunk:vr})}else vr?xr.onDone({begin:0,chunk:vr}):(Er=xr.onError)==null||Er.call(xr,pr.status)}getRequestXhr(fr){return this.pendingRequests[fr].xhr}isPendingRequest(fr){return fr in this.pendingRequests}abortRequest(fr){const mr=this.pendingRequests[fr].xhr;delete this.pendingRequests[fr],mr.abort()}}class lr{constructor(fr){this._source=fr,this._manager=new or(fr.url,{httpHeaders:fr.httpHeaders,withCredentials:fr.withCredentials}),this._rangeChunkSize=fr.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(fr){const mr=this._rangeRequestReaders.indexOf(fr);mr>=0&&this._rangeRequestReaders.splice(mr,1)}getFullReader(){return(0,rr.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new cr(this._manager,this._source),this._fullRequestReader}getRangeReader(fr,mr){const xr=new ur(this._manager,fr,mr);return xr.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(xr),xr}cancelAllRequests(fr){var mr;(mr=this._fullRequestReader)==null||mr.cancel(fr);for(const xr of this._rangeRequestReaders.slice(0))xr.cancel(fr)}}er.PDFNetworkStream=lr;class cr{constructor(fr,mr){this._manager=fr;const xr={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=mr.url,this._fullRequestId=fr.requestFull(xr),this._headersReceivedCapability=(0,rr.createPromiseCapability)(),this._disableRange=mr.disableRange||!1,this._contentLength=mr.length,this._rangeChunkSize=mr.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const fr=this._fullRequestId,mr=this._manager.getRequestXhr(fr),xr=gr=>mr.getResponseHeader(gr),{allowRangeRequests:pr,suggestedLength:hr}=(0,nr.validateRangeRequestCapabilities)({getResponseHeader:xr,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});pr&&(this._isRangeSupported=!0),this._contentLength=hr||this._contentLength,this._filename=(0,nr.extractFilenameFromHeader)(xr),this._isRangeSupported&&this._manager.abortRequest(fr),this._headersReceivedCapability.resolve()}_onDone(fr){if(fr&&(this._requests.length>0?this._requests.shift().resolve({value:fr.chunk,done:!1}):this._cachedChunks.push(fr.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const mr of this._requests)mr.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(fr){this._storedError=(0,nr.createResponseStatusError)(fr,this._url),this._headersReceivedCapability.reject(this._storedError);for(const mr of this._requests)mr.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(fr){var mr;(mr=this.onProgress)==null||mr.call(this,{loaded:fr.loaded,total:fr.lengthComputable?fr.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const fr=(0,rr.createPromiseCapability)();return this._requests.push(fr),fr.promise}cancel(fr){this._done=!0,this._headersReceivedCapability.reject(fr);for(const mr of this._requests)mr.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class ur{constructor(fr,mr,xr){this._manager=fr;const pr={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=fr.url,this._requestId=fr.requestRange(mr,xr,pr),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var fr;(fr=this.onClosed)==null||fr.call(this,this)}_onDone(fr){const mr=fr.chunk;this._requests.length>0?this._requests.shift().resolve({value:mr,done:!1}):this._queuedChunk=mr,this._done=!0;for(const xr of this._requests)xr.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(fr){this._storedError=(0,nr.createResponseStatusError)(fr,this._url);for(const mr of this._requests)mr.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(fr){var mr;this.isStreamingSupported||(mr=this.onProgress)==null||mr.call(this,{loaded:fr.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const mr=this._queuedChunk;return this._queuedChunk=null,{value:mr,done:!1}}if(this._done)return{value:void 0,done:!0};const fr=(0,rr.createPromiseCapability)();return this._requests.push(fr),fr.promise}cancel(fr){this._done=!0;for(const mr of this._requests)mr.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(St,er,tr)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.PDFFetchStream=void 0;var rr=tr(1),nr=tr(22);function ar(ur,dr,fr){return{method:"GET",headers:ur,signal:fr.signal,mode:"cors",credentials:dr?"include":"same-origin",redirect:"follow"}}function sr(ur){const dr=new Headers;for(const fr in ur){const mr=ur[fr];mr!==void 0&&dr.append(fr,mr)}return dr}function ir(ur){return ur instanceof Uint8Array?ur.buffer:ur instanceof ArrayBuffer?ur:((0,rr.warn)(`getArrayBuffer - unexpected data format: ${ur}`),new Uint8Array(ur).buffer)}class or{constructor(dr){this.source=dr,this.isHttp=/^https?:/i.test(dr.url),this.httpHeaders=this.isHttp&&dr.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var dr;return((dr=this._fullRequestReader)==null?void 0:dr._loaded)??0}getFullReader(){return(0,rr.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new lr(this),this._fullRequestReader}getRangeReader(dr,fr){if(fr<=this._progressiveDataLength)return null;const mr=new cr(this,dr,fr);return this._rangeRequestReaders.push(mr),mr}cancelAllRequests(dr){var fr;(fr=this._fullRequestReader)==null||fr.cancel(dr);for(const mr of this._rangeRequestReaders.slice(0))mr.cancel(dr)}}er.PDFFetchStream=or;class lr{constructor(dr){this._stream=dr,this._reader=null,this._loaded=0,this._filename=null;const fr=dr.source;this._withCredentials=fr.withCredentials||!1,this._contentLength=fr.length,this._headersCapability=(0,rr.createPromiseCapability)(),this._disableRange=fr.disableRange||!1,this._rangeChunkSize=fr.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!fr.disableStream,this._isRangeSupported=!fr.disableRange,this._headers=sr(this._stream.httpHeaders);const mr=fr.url;fetch(mr,ar(this._headers,this._withCredentials,this._abortController)).then(xr=>{if(!(0,nr.validateResponseStatus)(xr.status))throw(0,nr.createResponseStatusError)(xr.status,mr);this._reader=xr.body.getReader(),this._headersCapability.resolve();const pr=vr=>xr.headers.get(vr),{allowRangeRequests:hr,suggestedLength:gr}=(0,nr.validateRangeRequestCapabilities)({getResponseHeader:pr,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=hr,this._contentLength=gr||this._contentLength,this._filename=(0,nr.extractFilenameFromHeader)(pr),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new rr.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var mr;await this._headersCapability.promise;const{value:dr,done:fr}=await this._reader.read();return fr?{value:dr,done:fr}:(this._loaded+=dr.byteLength,(mr=this.onProgress)==null||mr.call(this,{loaded:this._loaded,total:this._contentLength}),{value:ir(dr),done:!1})}cancel(dr){var fr;(fr=this._reader)==null||fr.cancel(dr),this._abortController.abort()}}class cr{constructor(dr,fr,mr){this._stream=dr,this._reader=null,this._loaded=0;const xr=dr.source;this._withCredentials=xr.withCredentials||!1,this._readCapability=(0,rr.createPromiseCapability)(),this._isStreamingSupported=!xr.disableStream,this._abortController=new AbortController,this._headers=sr(this._stream.httpHeaders),this._headers.append("Range",`bytes=${fr}-${mr-1}`);const pr=xr.url;fetch(pr,ar(this._headers,this._withCredentials,this._abortController)).then(hr=>{if(!(0,nr.validateResponseStatus)(hr.status))throw(0,nr.createResponseStatusError)(hr.status,pr);this._readCapability.resolve(),this._reader=hr.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var mr;await this._readCapability.promise;const{value:dr,done:fr}=await this._reader.read();return fr?{value:dr,done:fr}:(this._loaded+=dr.byteLength,(mr=this.onProgress)==null||mr.call(this,{loaded:this._loaded}),{value:ir(dr),done:!1})}cancel(dr){var fr;(fr=this._reader)==null||fr.cancel(dr),this._abortController.abort()}}},(St,er,tr)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.TextLayerRenderTask=void 0,er.renderTextLayer=xr,er.updateTextLayer=pr;var rr=tr(1),nr=tr(6);const ar=1e5,sr=30,ir=.8,or=new Map;function lr(hr,gr){let vr;if(gr&&rr.FeatureTest.isOffscreenCanvasSupported)vr=new OffscreenCanvas(hr,hr).getContext("2d",{alpha:!1});else{const br=document.createElement("canvas");br.width=br.height=hr,vr=br.getContext("2d",{alpha:!1})}return vr}function cr(hr,gr){const vr=or.get(hr);if(vr)return vr;const br=lr(sr,gr);br.font=`${sr}px ${hr}`;const yr=br.measureText("");let Er=yr.fontBoundingBoxAscent,jr=Math.abs(yr.fontBoundingBoxDescent);if(Er){const Cr=Er/(Er+jr);return or.set(hr,Cr),br.canvas.width=br.canvas.height=0,Cr}br.strokeStyle="red",br.clearRect(0,0,sr,sr),br.strokeText("g",0,0);let _r=br.getImageData(0,0,sr,sr).data;jr=0;for(let Cr=_r.length-1-3;Cr>=0;Cr-=4)if(_r[Cr]>0){jr=Math.ceil(Cr/4/sr);break}br.clearRect(0,0,sr,sr),br.strokeText("A",0,sr),_r=br.getImageData(0,0,sr,sr).data,Er=0;for(let Cr=0,Or=_r.length;Cr<Or;Cr+=4)if(_r[Cr]>0){Er=sr-Math.floor(Cr/4/sr);break}if(br.canvas.width=br.canvas.height=0,Er){const Cr=Er/(Er+jr);return or.set(hr,Cr),Cr}return or.set(hr,ir),ir}function ur(hr,gr,vr){const br=document.createElement("span"),yr={angle:0,canvasWidth:0,hasText:gr.str!=="",hasEOL:gr.hasEOL,fontSize:0};hr._textDivs.push(br);const Er=rr.Util.transform(hr._transform,gr.transform);let jr=Math.atan2(Er[1],Er[0]);const _r=vr[gr.fontName];_r.vertical&&(jr+=Math.PI/2);const Cr=Math.hypot(Er[2],Er[3]),Or=Cr*cr(_r.fontFamily,hr._isOffscreenCanvasSupported);let Pr,Lr;jr===0?(Pr=Er[4],Lr=Er[5]-Or):(Pr=Er[4]+Or*Math.sin(jr),Lr=Er[5]-Or*Math.cos(jr));const Gr="calc(var(--scale-factor)*",Kr=br.style;hr._container===hr._rootContainer?(Kr.left=`${(100*Pr/hr._pageWidth).toFixed(2)}%`,Kr.top=`${(100*Lr/hr._pageHeight).toFixed(2)}%`):(Kr.left=`${Gr}${Pr.toFixed(2)}px)`,Kr.top=`${Gr}${Lr.toFixed(2)}px)`),Kr.fontSize=`${Gr}${Cr.toFixed(2)}px)`,Kr.fontFamily=_r.fontFamily,yr.fontSize=Cr,br.setAttribute("role","presentation"),br.textContent=gr.str,br.dir=gr.dir,hr._fontInspectorEnabled&&(br.dataset.fontName=gr.fontName),jr!==0&&(yr.angle=jr*(180/Math.PI));let nn=!1;if(gr.str.length>1)nn=!0;else if(gr.str!==" "&&gr.transform[0]!==gr.transform[3]){const Qr=Math.abs(gr.transform[0]),zr=Math.abs(gr.transform[3]);Qr!==zr&&Math.max(Qr,zr)/Math.min(Qr,zr)>1.5&&(nn=!0)}nn&&(yr.canvasWidth=_r.vertical?gr.height:gr.width),hr._textDivProperties.set(br,yr),hr._isReadableStream&&hr._layoutText(br)}function dr(hr){const{div:gr,scale:vr,properties:br,ctx:yr,prevFontSize:Er,prevFontFamily:jr}=hr,{style:_r}=gr;let Cr="";if(br.canvasWidth!==0&&br.hasText){const{fontFamily:Or}=_r,{canvasWidth:Pr,fontSize:Lr}=br;(Er!==Lr||jr!==Or)&&(yr.font=`${Lr*vr}px ${Or}`,hr.prevFontSize=Lr,hr.prevFontFamily=Or);const{width:Gr}=yr.measureText(gr.textContent);Gr>0&&(Cr=`scaleX(${Pr*vr/Gr})`)}br.angle!==0&&(Cr=`rotate(${br.angle}deg) ${Cr}`),Cr.length>0&&(_r.transform=Cr)}function fr(hr){if(hr._canceled)return;const gr=hr._textDivs,vr=hr._capability;if(gr.length>ar){vr.resolve();return}if(!hr._isReadableStream)for(const yr of gr)hr._layoutText(yr);vr.resolve()}class mr{constructor({textContentSource:gr,container:vr,viewport:br,textDivs:yr,textDivProperties:Er,textContentItemsStr:jr,isOffscreenCanvasSupported:_r}){var Gr;this._textContentSource=gr,this._isReadableStream=gr instanceof ReadableStream,this._container=this._rootContainer=vr,this._textDivs=yr||[],this._textContentItemsStr=jr||[],this._fontInspectorEnabled=!!((Gr=globalThis.FontInspector)!=null&&Gr.enabled),this._reader=null,this._textDivProperties=Er||new WeakMap,this._canceled=!1,this._capability=(0,rr.createPromiseCapability)(),this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:br.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:lr(0,_r)};const{pageWidth:Cr,pageHeight:Or,pageX:Pr,pageY:Lr}=br.rawDims;this._transform=[1,0,0,-1,-Pr,Lr+Or],this._pageWidth=Cr,this._pageHeight=Or,(0,nr.setLayerDimensions)(vr,br),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new rr.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new rr.AbortException("TextLayer task cancelled."))}_processItems(gr,vr){for(const br of gr){if(br.str===void 0){if(br.type==="beginMarkedContentProps"||br.type==="beginMarkedContent"){const yr=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),br.id!==null&&this._container.setAttribute("id",`${br.id}`),yr.append(this._container)}else br.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(br.str),ur(this,br,vr)}}_layoutText(gr){const vr=this._layoutTextParams.properties=this._textDivProperties.get(gr);if(this._layoutTextParams.div=gr,dr(this._layoutTextParams),vr.hasText&&this._container.append(gr),vr.hasEOL){const br=document.createElement("br");br.setAttribute("role","presentation"),this._container.append(br)}}_render(){const gr=(0,rr.createPromiseCapability)();let vr=Object.create(null);if(this._isReadableStream){const br=()=>{this._reader.read().then(({value:yr,done:Er})=>{if(Er){gr.resolve();return}Object.assign(vr,yr.styles),this._processItems(yr.items,vr),br()},gr.reject)};this._reader=this._textContentSource.getReader(),br()}else if(this._textContentSource){const{items:br,styles:yr}=this._textContentSource;this._processItems(br,yr),gr.resolve()}else throw new Error('No "textContentSource" parameter specified.');gr.promise.then(()=>{vr=null,fr(this)},this._capability.reject)}}er.TextLayerRenderTask=mr;function xr(hr){!hr.textContentSource&&(hr.textContent||hr.textContentStream)&&((0,nr.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),hr.textContentSource=hr.textContent||hr.textContentStream);const gr=new mr(hr);return gr._render(),gr}function pr({container:hr,viewport:gr,textDivs:vr,textDivProperties:br,isOffscreenCanvasSupported:yr,mustRotate:Er=!0,mustRescale:jr=!0}){if(Er&&(0,nr.setLayerDimensions)(hr,{rotation:gr.rotation}),jr){const _r=lr(0,yr),Or={prevFontSize:null,prevFontFamily:null,div:null,scale:gr.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:_r};for(const Pr of vr)Or.properties=br.get(Pr),Or.div=Pr,dr(Or)}}},(St,er,tr)=>{var lr,cr,ur,dr,fr,mr,xr,pr,hr,Wp,Im,qp,Mm;Object.defineProperty(er,"__esModule",{value:!0}),er.AnnotationEditorLayer=void 0;var rr=tr(1),nr=tr(5),ar=tr(28),sr=tr(29),ir=tr(6);const Er=class Er{constructor(_r){js(this,hr);js(this,lr);js(this,cr,!1);js(this,ur,this.pointerup.bind(this));js(this,dr,this.pointerdown.bind(this));js(this,fr,new Map);js(this,mr,!1);js(this,xr,!1);js(this,pr);Er._initialized||(Er._initialized=!0,ar.FreeTextEditor.initialize(_r.l10n),sr.InkEditor.initialize(_r.l10n)),_r.uiManager.registerEditorTypes([ar.FreeTextEditor,sr.InkEditor]),Ns(this,pr,_r.uiManager),this.pageIndex=_r.pageIndex,this.div=_r.div,Ns(this,lr,_r.accessibilityManager),xn(this,pr).addLayer(this)}updateToolbar(_r){xn(this,pr).updateToolbar(_r)}updateMode(_r=xn(this,pr).getMode()){hs(this,hr,Mm).call(this),_r===rr.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),xn(this,pr).unselectAll(),this.div.classList.toggle("freeTextEditing",_r===rr.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",_r===rr.AnnotationEditorType.INK)}addInkEditorIfNeeded(_r){if(!_r&&xn(this,pr).getMode()!==rr.AnnotationEditorType.INK)return;if(!_r){for(const Or of xn(this,fr).values())if(Or.isEmpty()){Or.setInBackground();return}}hs(this,hr,qp).call(this,{offsetX:0,offsetY:0}).setInBackground()}setEditingState(_r){xn(this,pr).setEditingState(_r)}addCommands(_r){xn(this,pr).addCommands(_r)}enable(){this.div.style.pointerEvents="auto";for(const _r of xn(this,fr).values())_r.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const _r of xn(this,fr).values())_r.disableEditing()}setActiveEditor(_r){xn(this,pr).getActive()!==_r&&xn(this,pr).setActiveEditor(_r)}enableClick(){this.div.addEventListener("pointerdown",xn(this,dr)),this.div.addEventListener("pointerup",xn(this,ur))}disableClick(){this.div.removeEventListener("pointerdown",xn(this,dr)),this.div.removeEventListener("pointerup",xn(this,ur))}attach(_r){xn(this,fr).set(_r.id,_r)}detach(_r){var Cr;xn(this,fr).delete(_r.id),(Cr=xn(this,lr))==null||Cr.removePointerInTextLayer(_r.contentDiv)}remove(_r){xn(this,pr).removeEditor(_r),this.detach(_r),_r.div.style.display="none",setTimeout(()=>{_r.div.style.display="",_r.div.remove(),_r.isAttachedToDOM=!1,document.activeElement===document.body&&xn(this,pr).focusMainContainer()},0),xn(this,xr)||this.addInkEditorIfNeeded(!1)}add(_r){if(hs(this,hr,Wp).call(this,_r),xn(this,pr).addEditor(_r),this.attach(_r),!_r.isAttachedToDOM){const Cr=_r.render();this.div.append(Cr),_r.isAttachedToDOM=!0}this.moveEditorInDOM(_r),_r.onceAdded(),xn(this,pr).addToAnnotationStorage(_r)}moveEditorInDOM(_r){var Cr;(Cr=xn(this,lr))==null||Cr.moveElementInDOM(this.div,_r.div,_r.contentDiv,!0)}addOrRebuild(_r){_r.needsToBeRebuilt()?_r.rebuild():this.add(_r)}addANewEditor(_r){const Cr=()=>{this.addOrRebuild(_r)},Or=()=>{_r.remove()};this.addCommands({cmd:Cr,undo:Or,mustExec:!0})}addUndoableEditor(_r){const Cr=()=>{this.addOrRebuild(_r)},Or=()=>{_r.remove()};this.addCommands({cmd:Cr,undo:Or,mustExec:!1})}getNextId(){return xn(this,pr).getId()}deserialize(_r){switch(_r.annotationType){case rr.AnnotationEditorType.FREETEXT:return ar.FreeTextEditor.deserialize(_r,this,xn(this,pr));case rr.AnnotationEditorType.INK:return sr.InkEditor.deserialize(_r,this,xn(this,pr))}return null}setSelected(_r){xn(this,pr).setSelected(_r)}toggleSelected(_r){xn(this,pr).toggleSelected(_r)}isSelected(_r){return xn(this,pr).isSelected(_r)}unselect(_r){xn(this,pr).unselect(_r)}pointerup(_r){const{isMac:Cr}=rr.FeatureTest.platform;if(!(_r.button!==0||_r.ctrlKey&&Cr)&&_r.target===this.div&&xn(this,mr)){if(Ns(this,mr,!1),!xn(this,cr)){Ns(this,cr,!0);return}hs(this,hr,qp).call(this,_r)}}pointerdown(_r){const{isMac:Cr}=rr.FeatureTest.platform;if(_r.button!==0||_r.ctrlKey&&Cr||_r.target!==this.div)return;Ns(this,mr,!0);const Or=xn(this,pr).getActive();Ns(this,cr,!Or||Or.isEmpty())}drop(_r){const Cr=_r.dataTransfer.getData("text/plain"),Or=xn(this,pr).getEditor(Cr);if(!Or)return;_r.preventDefault(),_r.dataTransfer.dropEffect="move",hs(this,hr,Wp).call(this,Or);const Pr=this.div.getBoundingClientRect(),Lr=_r.clientX-Pr.x,Gr=_r.clientY-Pr.y;Or.translate(Lr-Or.startX,Gr-Or.startY),this.moveEditorInDOM(Or),Or.div.focus()}dragover(_r){_r.preventDefault()}destroy(){var _r,Cr;((_r=xn(this,pr).getActive())==null?void 0:_r.parent)===this&&xn(this,pr).setActiveEditor(null);for(const Or of xn(this,fr).values())(Cr=xn(this,lr))==null||Cr.removePointerInTextLayer(Or.contentDiv),Or.setParent(null),Or.isAttachedToDOM=!1,Or.div.remove();this.div=null,xn(this,fr).clear(),xn(this,pr).removeLayer(this)}render({viewport:_r}){this.viewport=_r,(0,ir.setLayerDimensions)(this.div,_r),(0,nr.bindEvents)(this,this.div,["dragover","drop"]);for(const Cr of xn(this,pr).getEditors(this.pageIndex))this.add(Cr);this.updateMode()}update({viewport:_r}){xn(this,pr).commitOrRemove(),this.viewport=_r,(0,ir.setLayerDimensions)(this.div,{rotation:_r.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:_r,pageHeight:Cr}=this.viewport.rawDims;return[_r,Cr]}};lr=new WeakMap,cr=new WeakMap,ur=new WeakMap,dr=new WeakMap,fr=new WeakMap,mr=new WeakMap,xr=new WeakMap,pr=new WeakMap,hr=new WeakSet,Wp=function(_r){var Cr;_r.parent!==this&&(this.attach(_r),(Cr=_r.parent)==null||Cr.detach(_r),_r.setParent(this),_r.div&&_r.isAttachedToDOM&&(_r.div.remove(),this.div.append(_r.div)))},Im=function(_r){switch(xn(this,pr).getMode()){case rr.AnnotationEditorType.FREETEXT:return new ar.FreeTextEditor(_r);case rr.AnnotationEditorType.INK:return new sr.InkEditor(_r)}return null},qp=function(_r){const Cr=this.getNextId(),Or=hs(this,hr,Im).call(this,{parent:this,id:Cr,x:_r.offsetX,y:_r.offsetY,uiManager:xn(this,pr)});return Or&&this.add(Or),Or},Mm=function(){Ns(this,xr,!0);for(const _r of xn(this,fr).values())_r.isEmpty()&&_r.remove();Ns(this,xr,!1)},_i(Er,"_initialized",!1);let or=Er;er.AnnotationEditorLayer=or},(St,er,tr)=>{var ir,or,lr,cr,ur,dr,fr,mr,xr,pr,Bm,Um,zm,Gp;Object.defineProperty(er,"__esModule",{value:!0}),er.FreeTextEditor=void 0;var rr=tr(1),nr=tr(5),ar=tr(4);const yr=class yr extends ar.AnnotationEditor{constructor(_r){super({..._r,name:"freeTextEditor"});js(this,pr);js(this,ir,this.editorDivBlur.bind(this));js(this,or,this.editorDivFocus.bind(this));js(this,lr,this.editorDivInput.bind(this));js(this,cr,this.editorDivKeydown.bind(this));js(this,ur);js(this,dr,"");js(this,fr,`${this.id}-editor`);js(this,mr,!1);js(this,xr);Ns(this,ur,_r.color||yr._defaultColor||ar.AnnotationEditor._defaultLineColor),Ns(this,xr,_r.fontSize||yr._defaultFontSize)}static initialize(_r){this._l10nPromise=new Map(["free_text2_default_content","editor_free_text2_aria_label"].map(Or=>[Or,_r.get(Or)]));const Cr=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(Cr.getPropertyValue("--freetext-padding"))}static updateDefaultParams(_r,Cr){switch(_r){case rr.AnnotationEditorParamsType.FREETEXT_SIZE:yr._defaultFontSize=Cr;break;case rr.AnnotationEditorParamsType.FREETEXT_COLOR:yr._defaultColor=Cr;break}}updateParams(_r,Cr){switch(_r){case rr.AnnotationEditorParamsType.FREETEXT_SIZE:hs(this,pr,Bm).call(this,Cr);break;case rr.AnnotationEditorParamsType.FREETEXT_COLOR:hs(this,pr,Um).call(this,Cr);break}}static get defaultPropertiesToUpdate(){return[[rr.AnnotationEditorParamsType.FREETEXT_SIZE,yr._defaultFontSize],[rr.AnnotationEditorParamsType.FREETEXT_COLOR,yr._defaultColor||ar.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[rr.AnnotationEditorParamsType.FREETEXT_SIZE,xn(this,xr)],[rr.AnnotationEditorParamsType.FREETEXT_COLOR,xn(this,ur)]]}getInitialTranslation(){const _r=this.parentScale;return[-yr._internalPadding*_r,-(yr._internalPadding+xn(this,xr))*_r]}rebuild(){super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(rr.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",xn(this,cr)),this.editorDiv.addEventListener("focus",xn(this,or)),this.editorDiv.addEventListener("blur",xn(this,ir)),this.editorDiv.addEventListener("input",xn(this,lr)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",xn(this,fr)),this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",xn(this,cr)),this.editorDiv.removeEventListener("focus",xn(this,or)),this.editorDiv.removeEventListener("blur",xn(this,ir)),this.editorDiv.removeEventListener("input",xn(this,lr)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(_r){super.focusin(_r),_r.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing"),super.remove()}commit(){this.isInEditMode()&&(super.commit(),xn(this,mr)||(Ns(this,mr,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),Ns(this,dr,hs(this,pr,zm).call(this).trimEnd()),hs(this,pr,Gp).call(this))}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(_r){this.enableEditMode(),this.editorDiv.focus()}keydown(_r){_r.target===this.div&&_r.key==="Enter"&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(_r){yr._keyboardManager.exec(this,_r)}editorDivFocus(_r){this.isEditing=!0}editorDivBlur(_r){this.isEditing=!1}editorDivInput(_r){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let _r,Cr;this.width&&(_r=this.x,Cr=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",xn(this,fr)),this.enableEditing(),yr._l10nPromise.get("editor_free_text2_aria_label").then(Pr=>{var Lr;return(Lr=this.editorDiv)==null?void 0:Lr.setAttribute("aria-label",Pr)}),yr._l10nPromise.get("free_text2_default_content").then(Pr=>{var Lr;return(Lr=this.editorDiv)==null?void 0:Lr.setAttribute("default-content",Pr)}),this.editorDiv.contentEditable=!0;const{style:Or}=this.editorDiv;if(Or.fontSize=`calc(${xn(this,xr)}px * var(--scale-factor))`,Or.color=xn(this,ur),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,nr.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[Pr,Lr]=this.parentDimensions;this.setAt(_r*Pr,Cr*Lr,this.width*Pr,this.height*Lr);for(const Gr of xn(this,dr).split(`
`)){const Kr=document.createElement("div");Kr.append(Gr?document.createTextNode(Gr):document.createElement("br")),this.editorDiv.append(Kr)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(_r,Cr,Or){const Pr=super.deserialize(_r,Cr,Or);return Ns(Pr,xr,_r.fontSize),Ns(Pr,ur,rr.Util.makeHexColor(..._r.color)),Ns(Pr,dr,_r.value),Pr}serialize(){if(this.isEmpty())return null;const _r=yr._internalPadding*this.parentScale,Cr=this.getRect(_r,_r),Or=ar.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:xn(this,ur));return{annotationType:rr.AnnotationEditorType.FREETEXT,color:Or,fontSize:xn(this,xr),value:xn(this,dr),pageIndex:this.pageIndex,rect:Cr,rotation:this.rotation}}};ir=new WeakMap,or=new WeakMap,lr=new WeakMap,cr=new WeakMap,ur=new WeakMap,dr=new WeakMap,fr=new WeakMap,mr=new WeakMap,xr=new WeakMap,pr=new WeakSet,Bm=function(_r){const Cr=Pr=>{this.editorDiv.style.fontSize=`calc(${Pr}px * var(--scale-factor))`,this.translate(0,-(Pr-xn(this,xr))*this.parentScale),Ns(this,xr,Pr),hs(this,pr,Gp).call(this)},Or=xn(this,xr);this.addCommands({cmd:()=>{Cr(_r)},undo:()=>{Cr(Or)},mustExec:!0,type:rr.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Um=function(_r){const Cr=xn(this,ur);this.addCommands({cmd:()=>{Ns(this,ur,this.editorDiv.style.color=_r)},undo:()=>{Ns(this,ur,this.editorDiv.style.color=Cr)},mustExec:!0,type:rr.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},zm=function(){const _r=this.editorDiv.getElementsByTagName("div");if(_r.length===0)return this.editorDiv.innerText;const Cr=[];for(const Or of _r)Cr.push(Or.innerText.replace(/\r\n?|\n/,""));return Cr.join(`
`)},Gp=function(){const[_r,Cr]=this.parentDimensions;let Or;if(this.isAttachedToDOM)Or=this.div.getBoundingClientRect();else{const{currentLayer:Pr,div:Lr}=this,Gr=Lr.style.display;Lr.style.display="hidden",Pr.div.append(this.div),Or=Lr.getBoundingClientRect(),Lr.remove(),Lr.style.display=Gr}this.width=Or.width/_r,this.height=Or.height/Cr},_i(yr,"_freeTextDefaultContent",""),_i(yr,"_l10nPromise"),_i(yr,"_internalPadding",0),_i(yr,"_defaultColor",null),_i(yr,"_defaultFontSize",10),_i(yr,"_keyboardManager",new nr.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],yr.prototype.commitOrRemove]])),_i(yr,"_type","freetext");let sr=yr;er.FreeTextEditor=sr},(St,er,tr)=>{var cr,ur,dr,fr,mr,xr,pr,hr,gr,vr,br,yr,Er,jr,_r,Vm,Hm,Wm,qm,Xp,Gm,Xm,Km,Mu,Kp,gp,vp,B0,Yp,yp,Tr,Jp,Ym,Jm,Zm,Zp,bp,U0,Qp;Object.defineProperty(er,"__esModule",{value:!0}),er.InkEditor=void 0,Object.defineProperty(er,"fitCurve",{enumerable:!0,get:function(){return ar.fitCurve}});var rr=tr(1),nr=tr(4),ar=tr(30),sr=tr(5);const ir=16,or=100,Ur=class Ur extends nr.AnnotationEditor{constructor(Ir){super({...Ir,name:"inkEditor"});js(this,_r);js(this,cr,0);js(this,ur,0);js(this,dr,0);js(this,fr,this.canvasPointermove.bind(this));js(this,mr,this.canvasPointerleave.bind(this));js(this,xr,this.canvasPointerup.bind(this));js(this,pr,this.canvasPointerdown.bind(this));js(this,hr,!1);js(this,gr,!1);js(this,vr,null);js(this,br,null);js(this,yr,0);js(this,Er,0);js(this,jr,null);this.color=Ir.color||null,this.thickness=Ir.thickness||null,this.opacity=Ir.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(Ir){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink2_aria_label"].map(on=>[on,Ir.get(on)]))}static updateDefaultParams(Ir,on){switch(Ir){case rr.AnnotationEditorParamsType.INK_THICKNESS:Ur._defaultThickness=on;break;case rr.AnnotationEditorParamsType.INK_COLOR:Ur._defaultColor=on;break;case rr.AnnotationEditorParamsType.INK_OPACITY:Ur._defaultOpacity=on/100;break}}updateParams(Ir,on){switch(Ir){case rr.AnnotationEditorParamsType.INK_THICKNESS:hs(this,_r,Vm).call(this,on);break;case rr.AnnotationEditorParamsType.INK_COLOR:hs(this,_r,Hm).call(this,on);break;case rr.AnnotationEditorParamsType.INK_OPACITY:hs(this,_r,Wm).call(this,on);break}}static get defaultPropertiesToUpdate(){return[[rr.AnnotationEditorParamsType.INK_THICKNESS,Ur._defaultThickness],[rr.AnnotationEditorParamsType.INK_COLOR,Ur._defaultColor||nr.AnnotationEditor._defaultLineColor],[rr.AnnotationEditorParamsType.INK_OPACITY,Math.round(Ur._defaultOpacity*100)]]}get propertiesToUpdate(){return[[rr.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Ur._defaultThickness],[rr.AnnotationEditorParamsType.INK_COLOR,this.color||Ur._defaultColor||nr.AnnotationEditor._defaultLineColor],[rr.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??Ur._defaultOpacity))]]}rebuild(){super.rebuild(),this.div!==null&&(this.canvas||(hs(this,_r,gp).call(this),hs(this,_r,vp).call(this)),this.isAttachedToDOM||(this.parent.add(this),hs(this,_r,B0).call(this)),hs(this,_r,U0).call(this))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,xn(this,br).disconnect(),Ns(this,br,null),super.remove())}setParent(Ir){!this.parent&&Ir?this._uiManager.removeShouldRescale(this):this.parent&&Ir===null&&this._uiManager.addShouldRescale(this),super.setParent(Ir)}onScaleChanging(){const[Ir,on]=this.parentDimensions,vn=this.width*Ir,yn=this.height*on;this.setDimensions(vn,yn)}enableEditMode(){xn(this,hr)||this.canvas===null||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",xn(this,pr)),this.canvas.addEventListener("pointerup",xn(this,xr)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",xn(this,pr)),this.canvas.removeEventListener("pointerup",xn(this,xr)))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){xn(this,hr)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Ns(this,hr,!0),this.div.classList.add("disabled"),hs(this,_r,U0).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus({preventScroll:!0}))}focusin(Ir){super.focusin(Ir),this.enableEditMode()}canvasPointerdown(Ir){Ir.button!==0||!this.isInEditMode()||xn(this,hr)||(this.setInForeground(),Ir.type!=="mouse"&&this.div.focus(),Ir.stopPropagation(),this.canvas.addEventListener("pointerleave",xn(this,mr)),this.canvas.addEventListener("pointermove",xn(this,fr)),hs(this,_r,Gm).call(this,Ir.offsetX,Ir.offsetY))}canvasPointermove(Ir){Ir.stopPropagation(),hs(this,_r,Xm).call(this,Ir.offsetX,Ir.offsetY)}canvasPointerup(Ir){Ir.button===0&&this.isInEditMode()&&this.currentPath.length!==0&&(Ir.stopPropagation(),hs(this,_r,Kp).call(this,Ir),this.setInBackground())}canvasPointerleave(Ir){hs(this,_r,Kp).call(this,Ir),this.setInBackground()}render(){if(this.div)return this.div;let Ir,on;this.width&&(Ir=this.x,on=this.y),super.render(),Ur._l10nPromise.get("editor_ink2_aria_label").then(Sn=>{var wn;return(wn=this.div)==null?void 0:wn.setAttribute("aria-label",Sn)});const[vn,yn,Dn,pn]=hs(this,_r,qm).call(this);if(this.setAt(vn,yn,0,0),this.setDims(Dn,pn),hs(this,_r,gp).call(this),this.width){const[Sn,wn]=this.parentDimensions;this.setAt(Ir*Sn,on*wn,this.width*Sn,this.height*wn),Ns(this,gr,!0),hs(this,_r,B0).call(this),this.setDims(this.width*Sn,this.height*wn),hs(this,_r,Mu).call(this),hs(this,_r,Qp).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return hs(this,_r,vp).call(this),this.div}setDimensions(Ir,on){const vn=Math.round(Ir),yn=Math.round(on);if(xn(this,yr)===vn&&xn(this,Er)===yn)return;Ns(this,yr,vn),Ns(this,Er,yn),this.canvas.style.visibility="hidden",xn(this,cr)&&Math.abs(xn(this,cr)-Ir/on)>.01&&(on=Math.ceil(Ir/xn(this,cr)),this.setDims(Ir,on));const[Dn,pn]=this.parentDimensions;this.width=Ir/Dn,this.height=on/pn,xn(this,hr)&&hs(this,_r,Yp).call(this,Ir,on),hs(this,_r,B0).call(this),hs(this,_r,Mu).call(this),this.canvas.style.visibility="visible"}static deserialize(Ir,on,vn){var ls,vs;const yn=super.deserialize(Ir,on,vn);yn.thickness=Ir.thickness,yn.color=rr.Util.makeHexColor(...Ir.color),yn.opacity=Ir.opacity;const[Dn,pn]=yn.pageDimensions,Sn=yn.width*Dn,wn=yn.height*pn,Vn=yn.parentScale,Yn=Ir.thickness/2;Ns(yn,cr,Sn/wn),Ns(yn,hr,!0),Ns(yn,yr,Math.round(Sn)),Ns(yn,Er,Math.round(wn));for(const{bezier:Ss}of Ir.paths){const ps=[];yn.paths.push(ps);let os=Vn*(Ss[0]-Yn),zs=Vn*(wn-Ss[1]-Yn);for(let _n=2,Ln=Ss.length;_n<Ln;_n+=6){const cs=Vn*(Ss[_n]-Yn),Ts=Vn*(wn-Ss[_n+1]-Yn),Vs=Vn*(Ss[_n+2]-Yn),$s=Vn*(wn-Ss[_n+3]-Yn),to=Vn*(Ss[_n+4]-Yn),xl=Vn*(wn-Ss[_n+5]-Yn);ps.push([[os,zs],[cs,Ts],[Vs,$s],[to,xl]]),os=to,zs=xl}const Bn=hs(this,Tr,Jp).call(this,ps);yn.bezierPath2D.push(Bn)}const ns=hs(ls=yn,_r,Zp).call(ls);return Ns(yn,dr,Math.max(ir,ns[2]-ns[0])),Ns(yn,ur,Math.max(ir,ns[3]-ns[1])),hs(vs=yn,_r,Yp).call(vs,Sn,wn),yn}serialize(){if(this.isEmpty())return null;const Ir=this.getRect(0,0),on=this.rotation%180===0?Ir[3]-Ir[1]:Ir[2]-Ir[0],vn=nr.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:rr.AnnotationEditorType.INK,color:vn,thickness:this.thickness,opacity:this.opacity,paths:hs(this,_r,Ym).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,on),pageIndex:this.pageIndex,rect:Ir,rotation:this.rotation}}};cr=new WeakMap,ur=new WeakMap,dr=new WeakMap,fr=new WeakMap,mr=new WeakMap,xr=new WeakMap,pr=new WeakMap,hr=new WeakMap,gr=new WeakMap,vr=new WeakMap,br=new WeakMap,yr=new WeakMap,Er=new WeakMap,jr=new WeakMap,_r=new WeakSet,Vm=function(Ir){const on=this.thickness;this.addCommands({cmd:()=>{this.thickness=Ir,hs(this,_r,U0).call(this)},undo:()=>{this.thickness=on,hs(this,_r,U0).call(this)},mustExec:!0,type:rr.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Hm=function(Ir){const on=this.color;this.addCommands({cmd:()=>{this.color=Ir,hs(this,_r,Mu).call(this)},undo:()=>{this.color=on,hs(this,_r,Mu).call(this)},mustExec:!0,type:rr.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Wm=function(Ir){Ir/=100;const on=this.opacity;this.addCommands({cmd:()=>{this.opacity=Ir,hs(this,_r,Mu).call(this)},undo:()=>{this.opacity=on,hs(this,_r,Mu).call(this)},mustExec:!0,type:rr.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},qm=function(){const{parentRotation:Ir,parentDimensions:[on,vn]}=this;switch(Ir){case 90:return[0,vn,vn,on];case 180:return[on,vn,on,vn];case 270:return[on,0,vn,on];default:return[0,0,on,vn]}},Xp=function(){const{ctx:Ir,color:on,opacity:vn,thickness:yn,parentScale:Dn,scaleFactor:pn}=this;Ir.lineWidth=yn*Dn/pn,Ir.lineCap="round",Ir.lineJoin="round",Ir.miterLimit=10,Ir.strokeStyle=`${on}${(0,sr.opacityToHex)(vn)}`},Gm=function(Ir,on){this.isEditing=!0,xn(this,gr)||(Ns(this,gr,!0),hs(this,_r,B0).call(this),this.thickness||(this.thickness=Ur._defaultThickness),this.color||(this.color=Ur._defaultColor||nr.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=Ur._defaultOpacity)),this.currentPath.push([Ir,on]),Ns(this,vr,null),hs(this,_r,Xp).call(this),this.ctx.beginPath(),this.ctx.moveTo(Ir,on),Ns(this,jr,()=>{xn(this,jr)&&(xn(this,vr)&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):hs(this,_r,Mu).call(this),this.ctx.lineTo(...xn(this,vr)),Ns(this,vr,null),this.ctx.stroke()),window.requestAnimationFrame(xn(this,jr)))}),window.requestAnimationFrame(xn(this,jr))},Xm=function(Ir,on){const[vn,yn]=this.currentPath.at(-1);Ir===vn&&on===yn||(this.currentPath.push([Ir,on]),Ns(this,vr,[Ir,on]))},Km=function(Ir,on){var Vn;this.ctx.closePath(),Ns(this,jr,null),Ir=Math.min(Math.max(Ir,0),this.canvas.width),on=Math.min(Math.max(on,0),this.canvas.height);const[vn,yn]=this.currentPath.at(-1);(Ir!==vn||on!==yn)&&this.currentPath.push([Ir,on]);let Dn;if(this.currentPath.length!==1)Dn=(0,ar.fitCurve)(this.currentPath,30,null);else{const Yn=[Ir,on];Dn=[[Yn,Yn.slice(),Yn.slice(),Yn]]}const pn=hs(Vn=Ur,Tr,Jp).call(Vn,Dn);this.currentPath.length=0;const Sn=()=>{this.paths.push(Dn),this.bezierPath2D.push(pn),this.rebuild()},wn=()=>{this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(hs(this,_r,gp).call(this),hs(this,_r,vp).call(this)),hs(this,_r,U0).call(this))};this.addCommands({cmd:Sn,undo:wn,mustExec:!0})},Mu=function(){if(this.isEmpty()){hs(this,_r,yp).call(this);return}hs(this,_r,Xp).call(this);const{canvas:Ir,ctx:on}=this;on.setTransform(1,0,0,1,0,0),on.clearRect(0,0,Ir.width,Ir.height),hs(this,_r,yp).call(this);for(const vn of this.bezierPath2D)on.stroke(vn)},Kp=function(Ir){hs(this,_r,Km).call(this,Ir.offsetX,Ir.offsetY),this.canvas.removeEventListener("pointerleave",xn(this,mr)),this.canvas.removeEventListener("pointermove",xn(this,fr)),this.addToAnnotationStorage()},gp=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",Ur._l10nPromise.get("editor_ink_canvas_aria_label").then(Ir=>{var on;return(on=this.canvas)==null?void 0:on.setAttribute("aria-label",Ir)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},vp=function(){let Ir=null;Ns(this,br,new ResizeObserver(on=>{const vn=on[0].contentRect;vn.width&&vn.height&&(Ir!==null&&clearTimeout(Ir),Ir=setTimeout(()=>{this.fixDims(),Ir=null},or),this.setDimensions(vn.width,vn.height))})),xn(this,br).observe(this.div)},B0=function(){if(!xn(this,gr))return;const[Ir,on]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*Ir),this.canvas.height=Math.ceil(this.height*on),hs(this,_r,yp).call(this)},Yp=function(Ir,on){const vn=hs(this,_r,bp).call(this),yn=(Ir-vn)/xn(this,dr),Dn=(on-vn)/xn(this,ur);this.scaleFactor=Math.min(yn,Dn)},yp=function(){const Ir=hs(this,_r,bp).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Ir,this.translationY*this.scaleFactor+Ir)},Tr=new WeakSet,Jp=function(Ir){const on=new Path2D;for(let vn=0,yn=Ir.length;vn<yn;vn++){const[Dn,pn,Sn,wn]=Ir[vn];vn===0&&on.moveTo(...Dn),on.bezierCurveTo(pn[0],pn[1],Sn[0],Sn[1],wn[0],wn[1])}return on},Ym=function(Ir,on,vn,yn){const pn=[],Sn=this.thickness/2;let wn,Vn;for(const Yn of this.paths){wn=[],Vn=[];for(let ns=0,ls=Yn.length;ns<ls;ns++){const[vs,Ss,ps,os]=Yn[ns],zs=Ir*(vs[0]+on)+Sn,Bn=yn-Ir*(vs[1]+vn)-Sn,_n=Ir*(Ss[0]+on)+Sn,Ln=yn-Ir*(Ss[1]+vn)-Sn,cs=Ir*(ps[0]+on)+Sn,Ts=yn-Ir*(ps[1]+vn)-Sn,Vs=Ir*(os[0]+on)+Sn,$s=yn-Ir*(os[1]+vn)-Sn;ns===0&&(wn.push(zs,Bn),Vn.push(zs,Bn)),wn.push(_n,Ln,cs,Ts,Vs,$s),hs(this,_r,Jm).call(this,zs,Bn,_n,Ln,cs,Ts,Vs,$s,4,Vn)}pn.push({bezier:wn,points:Vn})}return pn},Jm=function(Ir,on,vn,yn,Dn,pn,Sn,wn,Vn,Yn){if(hs(this,_r,Zm).call(this,Ir,on,vn,yn,Dn,pn,Sn,wn)){Yn.push(Sn,wn);return}for(let ns=1;ns<Vn-1;ns++){const ls=ns/Vn,vs=1-ls;let Ss=ls*Ir+vs*vn,ps=ls*on+vs*yn,os=ls*vn+vs*Dn,zs=ls*yn+vs*pn;const Bn=ls*Dn+vs*Sn,_n=ls*pn+vs*wn;Ss=ls*Ss+vs*os,ps=ls*ps+vs*zs,os=ls*os+vs*Bn,zs=ls*zs+vs*_n,Ss=ls*Ss+vs*os,ps=ls*ps+vs*zs,Yn.push(Ss,ps)}Yn.push(Sn,wn)},Zm=function(Ir,on,vn,yn,Dn,pn,Sn,wn){const Yn=(3*vn-2*Ir-Sn)**2,ns=(3*yn-2*on-wn)**2,ls=(3*Dn-Ir-2*Sn)**2,vs=(3*pn-on-2*wn)**2;return Math.max(Yn,ls)+Math.max(ns,vs)<=10},Zp=function(){let Ir=1/0,on=-1/0,vn=1/0,yn=-1/0;for(const Dn of this.paths)for(const[pn,Sn,wn,Vn]of Dn){const Yn=rr.Util.bezierBoundingBox(...pn,...Sn,...wn,...Vn);Ir=Math.min(Ir,Yn[0]),vn=Math.min(vn,Yn[1]),on=Math.max(on,Yn[2]),yn=Math.max(yn,Yn[3])}return[Ir,vn,on,yn]},bp=function(){return xn(this,hr)?Math.ceil(this.thickness*this.parentScale):0},U0=function(Ir=!1){if(this.isEmpty())return;if(!xn(this,hr)){hs(this,_r,Mu).call(this);return}const on=hs(this,_r,Zp).call(this),vn=hs(this,_r,bp).call(this);Ns(this,dr,Math.max(ir,on[2]-on[0])),Ns(this,ur,Math.max(ir,on[3]-on[1]));const yn=Math.ceil(vn+xn(this,dr)*this.scaleFactor),Dn=Math.ceil(vn+xn(this,ur)*this.scaleFactor),[pn,Sn]=this.parentDimensions;this.width=yn/pn,this.height=Dn/Sn,Ns(this,cr,yn/Dn),hs(this,_r,Qp).call(this);const wn=this.translationX,Vn=this.translationY;this.translationX=-on[0],this.translationY=-on[1],hs(this,_r,B0).call(this),hs(this,_r,Mu).call(this),Ns(this,yr,yn),Ns(this,Er,Dn),this.setDims(yn,Dn);const Yn=Ir?vn/this.scaleFactor/2:0;this.translate(wn-this.translationX-Yn,Vn-this.translationY-Yn)},Qp=function(){const{style:Ir}=this.div;xn(this,cr)>=1?(Ir.minHeight=`${ir}px`,Ir.minWidth=`${Math.round(xn(this,cr)*ir)}px`):(Ir.minWidth=`${ir}px`,Ir.minHeight=`${Math.round(ir/xn(this,cr))}px`)},js(Ur,Tr),_i(Ur,"_defaultColor",null),_i(Ur,"_defaultOpacity",1),_i(Ur,"_defaultThickness",1),_i(Ur,"_l10nPromise"),_i(Ur,"_type","ink");let lr=Ur;er.InkEditor=lr},(St,er,tr)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.fitCurve=void 0;const rr=tr(31);er.fitCurve=rr},St=>{function er(mr,xr,pr){if(!Array.isArray(mr))throw new TypeError("First argument should be an array");if(mr.forEach(br=>{if(!Array.isArray(br)||br.some(yr=>typeof yr!="number")||br.length!==mr[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),mr=mr.filter((br,yr)=>yr===0||!br.every((Er,jr)=>Er===mr[yr-1][jr])),mr.length<2)return[];const hr=mr.length,gr=ur(mr[1],mr[0]),vr=ur(mr[hr-2],mr[hr-1]);return tr(mr,gr,vr,xr,pr)}function tr(mr,xr,pr,hr,gr){var br,yr,Er,jr,_r,Cr,Or,Pr,Lr,Gr,Kr,nn,Qr;if(mr.length===2)return nn=dr.vectorLen(dr.subtract(mr[0],mr[1]))/3,br=[mr[0],dr.addArrays(mr[0],dr.mulItems(xr,nn)),dr.addArrays(mr[1],dr.mulItems(pr,nn)),mr[1]],[br];if(yr=ir(mr),[br,jr,Cr]=rr(mr,yr,yr,xr,pr,gr),jr===0||jr<hr)return[br];if(jr<hr*hr)for(Er=yr,_r=jr,Or=Cr,Qr=0;Qr<20;Qr++){if(Er=ar(br,mr,Er),[br,jr,Cr]=rr(mr,yr,Er,xr,pr,gr),jr<hr)return[br];if(Cr===Or){let zr=jr/_r;if(zr>.9999&&zr<1.0001)break}_r=jr,Or=Cr}return Kr=[],Pr=dr.subtract(mr[Cr-1],mr[Cr+1]),Pr.every(zr=>zr===0)&&(Pr=dr.subtract(mr[Cr-1],mr[Cr]),[Pr[0],Pr[1]]=[-Pr[1],Pr[0]]),Lr=dr.normalize(Pr),Gr=dr.mulItems(Lr,-1),Kr=Kr.concat(tr(mr.slice(0,Cr+1),xr,Lr,hr,gr)),Kr=Kr.concat(tr(mr.slice(Cr),Gr,pr,hr,gr)),Kr}function rr(mr,xr,pr,hr,gr,vr){var br,yr,Er;return br=nr(mr,pr,hr,gr),[yr,Er]=or(mr,br,xr),vr&&vr({bez:br,points:mr,params:xr,maxErr:yr,maxPoint:Er}),[br,yr,Er]}function nr(mr,xr,pr,hr){var gr,vr,br,yr,Er,jr,_r,Cr,Or,Pr,Lr,Gr,Kr,nn,Qr,zr,Vr,Jr=mr[0],tn=mr[mr.length-1];for(gr=[Jr,null,null,tn],vr=dr.zeros_Xx2x2(xr.length),Kr=0,nn=xr.length;Kr<nn;Kr++)zr=xr[Kr],Vr=1-zr,br=vr[Kr],br[0]=dr.mulItems(pr,3*zr*(Vr*Vr)),br[1]=dr.mulItems(hr,3*Vr*(zr*zr));for(yr=[[0,0],[0,0]],Er=[0,0],Kr=0,nn=mr.length;Kr<nn;Kr++)zr=xr[Kr],br=vr[Kr],yr[0][0]+=dr.dot(br[0],br[0]),yr[0][1]+=dr.dot(br[0],br[1]),yr[1][0]+=dr.dot(br[0],br[1]),yr[1][1]+=dr.dot(br[1],br[1]),Qr=dr.subtract(mr[Kr],fr.q([Jr,Jr,tn,tn],zr)),Er[0]+=dr.dot(br[0],Qr),Er[1]+=dr.dot(br[1],Qr);return jr=yr[0][0]*yr[1][1]-yr[1][0]*yr[0][1],_r=yr[0][0]*Er[1]-yr[1][0]*Er[0],Cr=Er[0]*yr[1][1]-Er[1]*yr[0][1],Or=jr===0?0:Cr/jr,Pr=jr===0?0:_r/jr,Gr=dr.vectorLen(dr.subtract(Jr,tn)),Lr=1e-6*Gr,Or<Lr||Pr<Lr?(gr[1]=dr.addArrays(Jr,dr.mulItems(pr,Gr/3)),gr[2]=dr.addArrays(tn,dr.mulItems(hr,Gr/3))):(gr[1]=dr.addArrays(Jr,dr.mulItems(pr,Or)),gr[2]=dr.addArrays(tn,dr.mulItems(hr,Pr))),gr}function ar(mr,xr,pr){return pr.map((hr,gr)=>sr(mr,xr[gr],hr))}function sr(mr,xr,pr){var hr=dr.subtract(fr.q(mr,pr),xr),gr=fr.qprime(mr,pr),vr=dr.mulMatrix(hr,gr),br=dr.sum(dr.squareItems(gr))+2*dr.mulMatrix(hr,fr.qprimeprime(mr,pr));return br===0?pr:pr-vr/br}function ir(mr){var xr=[],pr,hr,gr;return mr.forEach((vr,br)=>{pr=br?hr+dr.vectorLen(dr.subtract(vr,gr)):0,xr.push(pr),hr=pr,gr=vr}),xr=xr.map(vr=>vr/hr),xr}function or(mr,xr,pr){var hr,gr,vr,br,yr,Er,jr,_r;gr=0,vr=Math.floor(mr.length/2);const Cr=lr(xr,10);for(yr=0,Er=mr.length;yr<Er;yr++)jr=mr[yr],_r=cr(xr,pr[yr],Cr,10),br=dr.subtract(fr.q(xr,_r),jr),hr=br[0]*br[0]+br[1]*br[1],hr>gr&&(gr=hr,vr=yr);return[gr,vr]}var lr=function(mr,xr){for(var pr,hr=[0],gr=mr[0],vr=0,br=1;br<=xr;br++)pr=fr.q(mr,br/xr),vr+=dr.vectorLen(dr.subtract(pr,gr)),hr.push(vr),gr=pr;return hr=hr.map(yr=>yr/vr),hr};function cr(mr,xr,pr,hr){if(xr<0)return 0;if(xr>1)return 1;for(var gr,vr,br,yr,Er,jr=1;jr<=hr;jr++)if(xr<=pr[jr]){yr=(jr-1)/hr,br=jr/hr,vr=pr[jr-1],gr=pr[jr],Er=(xr-vr)/(gr-vr)*(br-yr)+yr;break}return Er}function ur(mr,xr){return dr.normalize(dr.subtract(mr,xr))}class dr{static zeros_Xx2x2(xr){for(var pr=[];xr--;)pr.push([0,0]);return pr}static mulItems(xr,pr){return xr.map(hr=>hr*pr)}static mulMatrix(xr,pr){return xr.reduce((hr,gr,vr)=>hr+gr*pr[vr],0)}static subtract(xr,pr){return xr.map((hr,gr)=>hr-pr[gr])}static addArrays(xr,pr){return xr.map((hr,gr)=>hr+pr[gr])}static addItems(xr,pr){return xr.map(hr=>hr+pr)}static sum(xr){return xr.reduce((pr,hr)=>pr+hr)}static dot(xr,pr){return dr.mulMatrix(xr,pr)}static vectorLen(xr){return Math.hypot(...xr)}static divItems(xr,pr){return xr.map(hr=>hr/pr)}static squareItems(xr){return xr.map(pr=>pr*pr)}static normalize(xr){return this.divItems(xr,this.vectorLen(xr))}}class fr{static q(xr,pr){var hr=1-pr,gr=dr.mulItems(xr[0],hr*hr*hr),vr=dr.mulItems(xr[1],3*hr*hr*pr),br=dr.mulItems(xr[2],3*hr*pr*pr),yr=dr.mulItems(xr[3],pr*pr*pr);return dr.addArrays(dr.addArrays(gr,vr),dr.addArrays(br,yr))}static qprime(xr,pr){var hr=1-pr,gr=dr.mulItems(dr.subtract(xr[1],xr[0]),3*hr*hr),vr=dr.mulItems(dr.subtract(xr[2],xr[1]),6*hr*pr),br=dr.mulItems(dr.subtract(xr[3],xr[2]),3*pr*pr);return dr.addArrays(dr.addArrays(gr,vr),br)}static qprimeprime(xr,pr){return dr.addArrays(dr.mulItems(dr.addArrays(dr.subtract(xr[2],dr.mulItems(xr[1],2)),xr[0]),6*(1-pr)),dr.mulItems(dr.addArrays(dr.subtract(xr[3],dr.mulItems(xr[2],2)),xr[1]),6*pr))}}St.exports=er,St.exports.fitCubic=tr,St.exports.createTangent=ur},(St,er,tr)=>{var Rr,j0,Qm,Br,em,tm;Object.defineProperty(er,"__esModule",{value:!0}),er.AnnotationLayer=void 0;var rr=tr(1),nr=tr(6),ar=tr(3),sr=tr(33),ir=tr(34);const or=1e3,lr=9,cr=new WeakSet;function ur(un){return{width:un[2]-un[0],height:un[3]-un[1]}}class dr{static create(Nr){switch(Nr.data.annotationType){case rr.AnnotationType.LINK:return new mr(Nr);case rr.AnnotationType.TEXT:return new xr(Nr);case rr.AnnotationType.WIDGET:switch(Nr.data.fieldType){case"Tx":return new hr(Nr);case"Btn":return Nr.data.radioButton?new vr(Nr):Nr.data.checkBox?new gr(Nr):new br(Nr);case"Ch":return new yr(Nr)}return new pr(Nr);case rr.AnnotationType.POPUP:return new Er(Nr);case rr.AnnotationType.FREETEXT:return new _r(Nr);case rr.AnnotationType.LINE:return new Cr(Nr);case rr.AnnotationType.SQUARE:return new Or(Nr);case rr.AnnotationType.CIRCLE:return new Pr(Nr);case rr.AnnotationType.POLYLINE:return new Lr(Nr);case rr.AnnotationType.CARET:return new Kr(Nr);case rr.AnnotationType.INK:return new nn(Nr);case rr.AnnotationType.POLYGON:return new Gr(Nr);case rr.AnnotationType.HIGHLIGHT:return new Qr(Nr);case rr.AnnotationType.UNDERLINE:return new zr(Nr);case rr.AnnotationType.SQUIGGLY:return new Vr(Nr);case rr.AnnotationType.STRIKEOUT:return new Jr(Nr);case rr.AnnotationType.STAMP:return new tn(Nr);case rr.AnnotationType.FILEATTACHMENT:return new Yr(Nr);default:return new fr(Nr)}}}class fr{constructor(Nr,{isRenderable:Ur=!1,ignoreBorder:en=!1,createQuadrilaterals:Zr=!1}={}){this.isRenderable=Ur,this.data=Nr.data,this.layer=Nr.layer,this.page=Nr.page,this.viewport=Nr.viewport,this.linkService=Nr.linkService,this.downloadManager=Nr.downloadManager,this.imageResourcesPath=Nr.imageResourcesPath,this.renderForms=Nr.renderForms,this.svgFactory=Nr.svgFactory,this.annotationStorage=Nr.annotationStorage,this.enableScripting=Nr.enableScripting,this.hasJSActions=Nr.hasJSActions,this._fieldObjects=Nr.fieldObjects,Ur&&(this.container=this._createContainer(en)),Zr&&(this.quadrilaterals=this._createQuadrilaterals(en))}_createContainer(Nr=!1){const{data:Ur,page:en,viewport:Zr}=this,Ir=document.createElement("section");Ir.setAttribute("data-annotation-id",Ur.id);const{pageWidth:on,pageHeight:vn,pageX:yn,pageY:Dn}=Zr.rawDims,{width:pn,height:Sn}=ur(Ur.rect),wn=rr.Util.normalizeRect([Ur.rect[0],en.view[3]-Ur.rect[1]+en.view[1],Ur.rect[2],en.view[3]-Ur.rect[3]+en.view[1]]);if(!Nr&&Ur.borderStyle.width>0){Ir.style.borderWidth=`${Ur.borderStyle.width}px`;const Yn=Ur.borderStyle.horizontalCornerRadius,ns=Ur.borderStyle.verticalCornerRadius;if(Yn>0||ns>0){const vs=`calc(${Yn}px * var(--scale-factor)) / calc(${ns}px * var(--scale-factor))`;Ir.style.borderRadius=vs}else if(this instanceof vr){const vs=`calc(${pn}px * var(--scale-factor)) / calc(${Sn}px * var(--scale-factor))`;Ir.style.borderRadius=vs}switch(Ur.borderStyle.style){case rr.AnnotationBorderStyleType.SOLID:Ir.style.borderStyle="solid";break;case rr.AnnotationBorderStyleType.DASHED:Ir.style.borderStyle="dashed";break;case rr.AnnotationBorderStyleType.BEVELED:(0,rr.warn)("Unimplemented border style: beveled");break;case rr.AnnotationBorderStyleType.INSET:(0,rr.warn)("Unimplemented border style: inset");break;case rr.AnnotationBorderStyleType.UNDERLINE:Ir.style.borderBottomStyle="solid";break}const ls=Ur.borderColor||null;ls?Ir.style.borderColor=rr.Util.makeHexColor(ls[0]|0,ls[1]|0,ls[2]|0):Ir.style.borderWidth=0}Ir.style.left=`${100*(wn[0]-yn)/on}%`,Ir.style.top=`${100*(wn[1]-Dn)/vn}%`;const{rotation:Vn}=Ur;return Ur.hasOwnCanvas||Vn===0?(Ir.style.width=`${100*pn/on}%`,Ir.style.height=`${100*Sn/vn}%`):this.setRotation(Vn,Ir),Ir}setRotation(Nr,Ur=this.container){const{pageWidth:en,pageHeight:Zr}=this.viewport.rawDims,{width:Ir,height:on}=ur(this.data.rect);let vn,yn;Nr%180===0?(vn=100*Ir/en,yn=100*on/Zr):(vn=100*on/en,yn=100*Ir/Zr),Ur.style.width=`${vn}%`,Ur.style.height=`${yn}%`,Ur.setAttribute("data-main-rotation",(360-Nr)%360)}get _commonActions(){const Nr=(Ur,en,Zr)=>{const Ir=Zr.detail[Ur];Zr.target.style[en]=sr.ColorConverters[`${Ir[0]}_HTML`](Ir.slice(1))};return(0,rr.shadow)(this,"_commonActions",{display:Ur=>{const en=Ur.detail.display%2===1;this.container.style.visibility=en?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:en,print:Ur.detail.display===0||Ur.detail.display===3})},print:Ur=>{this.annotationStorage.setValue(this.data.id,{print:Ur.detail.print})},hidden:Ur=>{this.container.style.visibility=Ur.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:Ur.detail.hidden})},focus:Ur=>{setTimeout(()=>Ur.target.focus({preventScroll:!1}),0)},userName:Ur=>{Ur.target.title=Ur.detail.userName},readonly:Ur=>{Ur.detail.readonly?Ur.target.setAttribute("readonly",""):Ur.target.removeAttribute("readonly")},required:Ur=>{this._setRequired(Ur.target,Ur.detail.required)},bgColor:Ur=>{Nr("bgColor","backgroundColor",Ur)},fillColor:Ur=>{Nr("fillColor","backgroundColor",Ur)},fgColor:Ur=>{Nr("fgColor","color",Ur)},textColor:Ur=>{Nr("textColor","color",Ur)},borderColor:Ur=>{Nr("borderColor","borderColor",Ur)},strokeColor:Ur=>{Nr("strokeColor","borderColor",Ur)},rotation:Ur=>{const en=Ur.detail.rotation;this.setRotation(en),this.annotationStorage.setValue(this.data.id,{rotation:en})}})}_dispatchEventFromSandbox(Nr,Ur){const en=this._commonActions;for(const Zr of Object.keys(Ur.detail)){const Ir=Nr[Zr]||en[Zr];Ir==null||Ir(Ur)}}_setDefaultPropertiesFromJS(Nr){if(!this.enableScripting)return;const Ur=this.annotationStorage.getRawValue(this.data.id);if(!Ur)return;const en=this._commonActions;for(const[Zr,Ir]of Object.entries(Ur)){const on=en[Zr];if(on){const vn={detail:{[Zr]:Ir},target:Nr};on(vn),delete Ur[Zr]}}}_createQuadrilaterals(Nr=!1){if(!this.data.quadPoints)return null;const Ur=[],en=this.data.rect;for(const Zr of this.data.quadPoints)this.data.rect=[Zr[2].x,Zr[2].y,Zr[1].x,Zr[1].y],Ur.push(this._createContainer(Nr));return this.data.rect=en,Ur}_createPopup(Nr,Ur){let en=this.container;this.quadrilaterals&&(Nr=Nr||this.quadrilaterals,en=this.quadrilaterals[0]),Nr||(Nr=document.createElement("div"),Nr.className="popupTriggerArea",en.append(Nr));const Ir=new jr({container:en,trigger:Nr,color:Ur.color,titleObj:Ur.titleObj,modificationDate:Ur.modificationDate,contentsObj:Ur.contentsObj,richText:Ur.richText,hideWrapper:!0}).render();Ir.style.left="100%",en.append(Ir)}_renderQuadrilaterals(Nr){for(const Ur of this.quadrilaterals)Ur.className=Nr;return this.quadrilaterals}render(){(0,rr.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(Nr,Ur=null){const en=[];if(this._fieldObjects){const Zr=this._fieldObjects[Nr];if(Zr)for(const{page:Ir,id:on,exportValues:vn}of Zr){if(Ir===-1||on===Ur)continue;const yn=typeof vn=="string"?vn:null,Dn=document.querySelector(`[data-element-id="${on}"]`);if(Dn&&!cr.has(Dn)){(0,rr.warn)(`_getElementsByName - element not allowed: ${on}`);continue}en.push({id:on,exportValue:yn,domElement:Dn})}return en}for(const Zr of document.getElementsByName(Nr)){const{exportValue:Ir}=Zr,on=Zr.getAttribute("data-element-id");on!==Ur&&cr.has(Zr)&&en.push({id:on,exportValue:Ir,domElement:Zr})}return en}}class mr extends fr{constructor(Ur,en=null){super(Ur,{isRenderable:!0,ignoreBorder:!!(en!=null&&en.ignoreBorder),createQuadrilaterals:!0});js(this,Rr);this.isTooltipOnly=Ur.data.isTooltipOnly}render(){const{data:Ur,linkService:en}=this,Zr=document.createElement("a");Zr.setAttribute("data-element-id",Ur.id);let Ir=!1;return Ur.url?(en.addLinkAttributes(Zr,Ur.url,Ur.newWindow),Ir=!0):Ur.action?(this._bindNamedAction(Zr,Ur.action),Ir=!0):Ur.attachment?(this._bindAttachment(Zr,Ur.attachment),Ir=!0):Ur.setOCGState?(hs(this,Rr,Qm).call(this,Zr,Ur.setOCGState),Ir=!0):Ur.dest?(this._bindLink(Zr,Ur.dest),Ir=!0):(Ur.actions&&(Ur.actions.Action||Ur.actions["Mouse Up"]||Ur.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(Zr,Ur),Ir=!0),Ur.resetForm?(this._bindResetFormAction(Zr,Ur.resetForm),Ir=!0):this.isTooltipOnly&&!Ir&&(this._bindLink(Zr,""),Ir=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((on,vn)=>{const yn=vn===0?Zr:Zr.cloneNode();return on.append(yn),on}):(this.container.className="linkAnnotation",Ir&&this.container.append(Zr),this.container)}_bindLink(Ur,en){Ur.href=this.linkService.getDestinationHash(en),Ur.onclick=()=>(en&&this.linkService.goToDestination(en),!1),(en||en==="")&&hs(this,Rr,j0).call(this)}_bindNamedAction(Ur,en){Ur.href=this.linkService.getAnchorUrl(""),Ur.onclick=()=>(this.linkService.executeNamedAction(en),!1),hs(this,Rr,j0).call(this)}_bindAttachment(Ur,en){Ur.href=this.linkService.getAnchorUrl(""),Ur.onclick=()=>{var Zr;return(Zr=this.downloadManager)==null||Zr.openOrDownloadData(this.container,en.content,en.filename),!1},hs(this,Rr,j0).call(this)}_bindJSAction(Ur,en){Ur.href=this.linkService.getAnchorUrl("");const Zr=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const Ir of Object.keys(en.actions)){const on=Zr.get(Ir);on&&(Ur[on]=()=>{var vn;return(vn=this.linkService.eventBus)==null||vn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:en.id,name:Ir}}),!1})}Ur.onclick||(Ur.onclick=()=>!1),hs(this,Rr,j0).call(this)}_bindResetFormAction(Ur,en){const Zr=Ur.onclick;if(Zr||(Ur.href=this.linkService.getAnchorUrl("")),hs(this,Rr,j0).call(this),!this._fieldObjects){(0,rr.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),Zr||(Ur.onclick=()=>!1);return}Ur.onclick=()=>{var Sn;Zr==null||Zr();const{fields:Ir,refs:on,include:vn}=en,yn=[];if(Ir.length!==0||on.length!==0){const wn=new Set(on);for(const Vn of Ir){const Yn=this._fieldObjects[Vn]||[];for(const{id:ns}of Yn)wn.add(ns)}for(const Vn of Object.values(this._fieldObjects))for(const Yn of Vn)wn.has(Yn.id)===vn&&yn.push(Yn)}else for(const wn of Object.values(this._fieldObjects))yn.push(...wn);const Dn=this.annotationStorage,pn=[];for(const wn of yn){const{id:Vn}=wn;switch(pn.push(Vn),wn.type){case"text":{const ns=wn.defaultValue||"";Dn.setValue(Vn,{value:ns});break}case"checkbox":case"radiobutton":{const ns=wn.defaultValue===wn.exportValues;Dn.setValue(Vn,{value:ns});break}case"combobox":case"listbox":{const ns=wn.defaultValue||"";Dn.setValue(Vn,{value:ns});break}default:continue}const Yn=document.querySelector(`[data-element-id="${Vn}"]`);if(Yn){if(!cr.has(Yn)){(0,rr.warn)(`_bindResetFormAction - element not allowed: ${Vn}`);continue}}else continue;Yn.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Sn=this.linkService.eventBus)==null||Sn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:pn,name:"ResetForm"}})),!1}}}Rr=new WeakSet,j0=function(){this.container.setAttribute("data-internal-link","")},Qm=function(Ur,en){Ur.href=this.linkService.getAnchorUrl(""),Ur.onclick=()=>(this.linkService.executeSetOCGState(en),!1),hs(this,Rr,j0).call(this)};class xr extends fr{constructor(Nr){var en,Zr,Ir;const Ur=!!(Nr.data.hasPopup||(en=Nr.data.titleObj)!=null&&en.str||(Zr=Nr.data.contentsObj)!=null&&Zr.str||(Ir=Nr.data.richText)!=null&&Ir.str);super(Nr,{isRenderable:Ur})}render(){this.container.className="textAnnotation";const Nr=document.createElement("img");return Nr.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Nr.alt="[{{type}} Annotation]",Nr.dataset.l10nId="text_annotation_type",Nr.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(Nr,this.data),this.container.append(Nr),this.container}}class pr extends fr{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(Nr){const{isWin:Ur,isMac:en}=rr.FeatureTest.platform;return Ur&&Nr.ctrlKey||en&&Nr.metaKey}_setEventListener(Nr,Ur,en,Zr){Ur.includes("mouse")?Nr.addEventListener(Ur,Ir=>{var on;(on=this.linkService.eventBus)==null||on.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:en,value:Zr(Ir),shift:Ir.shiftKey,modifier:this._getKeyModifier(Ir)}})}):Nr.addEventListener(Ur,Ir=>{var on;(on=this.linkService.eventBus)==null||on.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:en,value:Zr(Ir)}})})}_setEventListeners(Nr,Ur,en){var Zr;for(const[Ir,on]of Ur)(on==="Action"||(Zr=this.data.actions)!=null&&Zr[on])&&this._setEventListener(Nr,Ir,on,en)}_setBackgroundColor(Nr){const Ur=this.data.backgroundColor||null;Nr.style.backgroundColor=Ur===null?"transparent":rr.Util.makeHexColor(Ur[0],Ur[1],Ur[2])}_setTextStyle(Nr){const Ur=["left","center","right"],{fontColor:en}=this.data.defaultAppearanceData,Zr=this.data.defaultAppearanceData.fontSize||lr,Ir=Nr.style;let on;const vn=2,yn=Dn=>Math.round(10*Dn)/10;if(this.data.multiLine){const Dn=Math.abs(this.data.rect[3]-this.data.rect[1]-vn),pn=Math.round(Dn/(rr.LINE_FACTOR*Zr))||1,Sn=Dn/pn;on=Math.min(Zr,yn(Sn/rr.LINE_FACTOR))}else{const Dn=Math.abs(this.data.rect[3]-this.data.rect[1]-vn);on=Math.min(Zr,yn(Dn/rr.LINE_FACTOR))}Ir.fontSize=`calc(${on}px * var(--scale-factor))`,Ir.color=rr.Util.makeHexColor(en[0],en[1],en[2]),this.data.textAlignment!==null&&(Ir.textAlign=Ur[this.data.textAlignment])}_setRequired(Nr,Ur){Ur?Nr.setAttribute("required",!0):Nr.removeAttribute("required"),Nr.setAttribute("aria-required",Ur)}}class hr extends pr{constructor(Nr){const Ur=Nr.renderForms||!Nr.data.hasAppearance&&!!Nr.data.fieldValue;super(Nr,{isRenderable:Ur})}setPropertyOnSiblings(Nr,Ur,en,Zr){const Ir=this.annotationStorage;for(const on of this._getElementsByName(Nr.name,Nr.id))on.domElement&&(on.domElement[Ur]=en),Ir.setValue(on.id,{[Zr]:en})}render(){var Zr;const Nr=this.annotationStorage,Ur=this.data.id;this.container.className="textWidgetAnnotation";let en=null;if(this.renderForms){const Ir=Nr.getValue(Ur,{value:this.data.fieldValue});let on=Ir.formattedValue||Ir.value||"";const vn=Nr.getValue(Ur,{charLimit:this.data.maxLen}).charLimit;vn&&on.length>vn&&(on=on.slice(0,vn));const yn={userValue:on,formattedValue:null,lastCommittedValue:null,commitKey:1};this.data.multiLine?(en=document.createElement("textarea"),en.textContent=on,this.data.doNotScroll&&(en.style.overflowY="hidden")):(en=document.createElement("input"),en.type="text",en.setAttribute("value",on),this.data.doNotScroll&&(en.style.overflowX="hidden")),cr.add(en),en.setAttribute("data-element-id",Ur),en.disabled=this.data.readOnly,en.name=this.data.fieldName,en.tabIndex=or,this._setRequired(en,this.data.required),vn&&(en.maxLength=vn),en.addEventListener("input",pn=>{Nr.setValue(Ur,{value:pn.target.value}),this.setPropertyOnSiblings(en,"value",pn.target.value,"value")}),en.addEventListener("resetform",pn=>{const Sn=this.data.defaultFieldValue??"";en.value=yn.userValue=Sn,yn.formattedValue=null});let Dn=pn=>{const{formattedValue:Sn}=yn;Sn!=null&&(pn.target.value=Sn),pn.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){en.addEventListener("focus",Sn=>{const{target:wn}=Sn;yn.userValue&&(wn.value=yn.userValue),yn.lastCommittedValue=wn.value,yn.commitKey=1}),en.addEventListener("updatefromsandbox",Sn=>{const wn={value(Vn){yn.userValue=Vn.detail.value??"",Nr.setValue(Ur,{value:yn.userValue.toString()}),Vn.target.value=yn.userValue},formattedValue(Vn){const{formattedValue:Yn}=Vn.detail;yn.formattedValue=Yn,Yn!=null&&Vn.target!==document.activeElement&&(Vn.target.value=Yn),Nr.setValue(Ur,{formattedValue:Yn})},selRange(Vn){Vn.target.setSelectionRange(...Vn.detail.selRange)},charLimit:Vn=>{var vs;const{charLimit:Yn}=Vn.detail,{target:ns}=Vn;if(Yn===0){ns.removeAttribute("maxLength");return}ns.setAttribute("maxLength",Yn);let ls=yn.userValue;!ls||ls.length<=Yn||(ls=ls.slice(0,Yn),ns.value=yn.userValue=ls,Nr.setValue(Ur,{value:ls}),(vs=this.linkService.eventBus)==null||vs.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ur,name:"Keystroke",value:ls,willCommit:!0,commitKey:1,selStart:ns.selectionStart,selEnd:ns.selectionEnd}}))}};this._dispatchEventFromSandbox(wn,Sn)}),en.addEventListener("keydown",Sn=>{var Yn;yn.commitKey=1;let wn=-1;if(Sn.key==="Escape"?wn=0:Sn.key==="Enter"&&!this.data.multiLine?wn=2:Sn.key==="Tab"&&(yn.commitKey=3),wn===-1)return;const{value:Vn}=Sn.target;yn.lastCommittedValue!==Vn&&(yn.lastCommittedValue=Vn,yn.userValue=Vn,(Yn=this.linkService.eventBus)==null||Yn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ur,name:"Keystroke",value:Vn,willCommit:!0,commitKey:wn,selStart:Sn.target.selectionStart,selEnd:Sn.target.selectionEnd}}))});const pn=Dn;Dn=null,en.addEventListener("blur",Sn=>{var Vn;if(!Sn.relatedTarget)return;const{value:wn}=Sn.target;yn.userValue=wn,yn.lastCommittedValue!==wn&&((Vn=this.linkService.eventBus)==null||Vn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ur,name:"Keystroke",value:wn,willCommit:!0,commitKey:yn.commitKey,selStart:Sn.target.selectionStart,selEnd:Sn.target.selectionEnd}})),pn(Sn)}),(Zr=this.data.actions)!=null&&Zr.Keystroke&&en.addEventListener("beforeinput",Sn=>{var ps;yn.lastCommittedValue=null;const{data:wn,target:Vn}=Sn,{value:Yn,selectionStart:ns,selectionEnd:ls}=Vn;let vs=ns,Ss=ls;switch(Sn.inputType){case"deleteWordBackward":{const os=Yn.substring(0,ns).match(/\w*[^\w]*$/);os&&(vs-=os[0].length);break}case"deleteWordForward":{const os=Yn.substring(ns).match(/^[^\w]*\w*/);os&&(Ss+=os[0].length);break}case"deleteContentBackward":ns===ls&&(vs-=1);break;case"deleteContentForward":ns===ls&&(Ss+=1);break}Sn.preventDefault(),(ps=this.linkService.eventBus)==null||ps.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ur,name:"Keystroke",value:Yn,change:wn||"",willCommit:!1,selStart:vs,selEnd:Ss}})}),this._setEventListeners(en,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Sn=>Sn.target.value)}if(Dn&&en.addEventListener("blur",Dn),this.data.comb){const Sn=(this.data.rect[2]-this.data.rect[0])/vn;en.classList.add("comb"),en.style.letterSpacing=`calc(${Sn}px * var(--scale-factor) - 1ch)`}}else en=document.createElement("div"),en.textContent=this.data.fieldValue,en.style.verticalAlign="middle",en.style.display="table-cell";return this._setTextStyle(en),this._setBackgroundColor(en),this._setDefaultPropertiesFromJS(en),this.container.append(en),this.container}}class gr extends pr{constructor(Nr){super(Nr,{isRenderable:Nr.renderForms})}render(){const Nr=this.annotationStorage,Ur=this.data,en=Ur.id;let Zr=Nr.getValue(en,{value:Ur.exportValue===Ur.fieldValue}).value;typeof Zr=="string"&&(Zr=Zr!=="Off",Nr.setValue(en,{value:Zr})),this.container.className="buttonWidgetAnnotation checkBox";const Ir=document.createElement("input");return cr.add(Ir),Ir.setAttribute("data-element-id",en),Ir.disabled=Ur.readOnly,this._setRequired(Ir,this.data.required),Ir.type="checkbox",Ir.name=Ur.fieldName,Zr&&Ir.setAttribute("checked",!0),Ir.setAttribute("exportValue",Ur.exportValue),Ir.tabIndex=or,Ir.addEventListener("change",on=>{const{name:vn,checked:yn}=on.target;for(const Dn of this._getElementsByName(vn,en)){const pn=yn&&Dn.exportValue===Ur.exportValue;Dn.domElement&&(Dn.domElement.checked=pn),Nr.setValue(Dn.id,{value:pn})}Nr.setValue(en,{value:yn})}),Ir.addEventListener("resetform",on=>{const vn=Ur.defaultFieldValue||"Off";on.target.checked=vn===Ur.exportValue}),this.enableScripting&&this.hasJSActions&&(Ir.addEventListener("updatefromsandbox",on=>{const vn={value(yn){yn.target.checked=yn.detail.value!=="Off",Nr.setValue(en,{value:yn.target.checked})}};this._dispatchEventFromSandbox(vn,on)}),this._setEventListeners(Ir,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],on=>on.target.checked)),this._setBackgroundColor(Ir),this._setDefaultPropertiesFromJS(Ir),this.container.append(Ir),this.container}}class vr extends pr{constructor(Nr){super(Nr,{isRenderable:Nr.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const Nr=this.annotationStorage,Ur=this.data,en=Ur.id;let Zr=Nr.getValue(en,{value:Ur.fieldValue===Ur.buttonValue}).value;typeof Zr=="string"&&(Zr=Zr!==Ur.buttonValue,Nr.setValue(en,{value:Zr}));const Ir=document.createElement("input");if(cr.add(Ir),Ir.setAttribute("data-element-id",en),Ir.disabled=Ur.readOnly,this._setRequired(Ir,this.data.required),Ir.type="radio",Ir.name=Ur.fieldName,Zr&&Ir.setAttribute("checked",!0),Ir.tabIndex=or,Ir.addEventListener("change",on=>{const{name:vn,checked:yn}=on.target;for(const Dn of this._getElementsByName(vn,en))Nr.setValue(Dn.id,{value:!1});Nr.setValue(en,{value:yn})}),Ir.addEventListener("resetform",on=>{const vn=Ur.defaultFieldValue;on.target.checked=vn!=null&&vn===Ur.buttonValue}),this.enableScripting&&this.hasJSActions){const on=Ur.buttonValue;Ir.addEventListener("updatefromsandbox",vn=>{const yn={value:Dn=>{const pn=on===Dn.detail.value;for(const Sn of this._getElementsByName(Dn.target.name)){const wn=pn&&Sn.id===en;Sn.domElement&&(Sn.domElement.checked=wn),Nr.setValue(Sn.id,{value:wn})}}};this._dispatchEventFromSandbox(yn,vn)}),this._setEventListeners(Ir,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],vn=>vn.target.checked)}return this._setBackgroundColor(Ir),this._setDefaultPropertiesFromJS(Ir),this.container.append(Ir),this.container}}class br extends mr{constructor(Nr){super(Nr,{ignoreBorder:Nr.data.hasAppearance})}render(){const Nr=super.render();Nr.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(Nr.title=this.data.alternativeText);const Ur=Nr.lastChild;return this.enableScripting&&this.hasJSActions&&Ur&&(this._setDefaultPropertiesFromJS(Ur),Ur.addEventListener("updatefromsandbox",en=>{this._dispatchEventFromSandbox({},en)})),Nr}}class yr extends pr{constructor(Nr){super(Nr,{isRenderable:Nr.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const Nr=this.annotationStorage,Ur=this.data.id,en=Nr.getValue(Ur,{value:this.data.fieldValue}),Zr=document.createElement("select");cr.add(Zr),Zr.setAttribute("data-element-id",Ur),Zr.disabled=this.data.readOnly,this._setRequired(Zr,this.data.required),Zr.name=this.data.fieldName,Zr.tabIndex=or;let Ir=this.data.combo&&this.data.options.length>0;this.data.combo||(Zr.size=this.data.options.length,this.data.multiSelect&&(Zr.multiple=!0)),Zr.addEventListener("resetform",pn=>{const Sn=this.data.defaultFieldValue;for(const wn of Zr.options)wn.selected=wn.value===Sn});for(const pn of this.data.options){const Sn=document.createElement("option");Sn.textContent=pn.displayValue,Sn.value=pn.exportValue,en.value.includes(pn.exportValue)&&(Sn.setAttribute("selected",!0),Ir=!1),Zr.append(Sn)}let on=null;if(Ir){const pn=document.createElement("option");pn.value=" ",pn.setAttribute("hidden",!0),pn.setAttribute("selected",!0),Zr.prepend(pn),on=()=>{pn.remove(),Zr.removeEventListener("input",on),on=null},Zr.addEventListener("input",on)}const vn=pn=>{const Sn=pn?"value":"textContent",{options:wn,multiple:Vn}=Zr;return Vn?Array.prototype.filter.call(wn,Yn=>Yn.selected).map(Yn=>Yn[Sn]):wn.selectedIndex===-1?null:wn[wn.selectedIndex][Sn]};let yn=vn(!1);const Dn=pn=>{const Sn=pn.target.options;return Array.prototype.map.call(Sn,wn=>({displayValue:wn.textContent,exportValue:wn.value}))};return this.enableScripting&&this.hasJSActions?(Zr.addEventListener("updatefromsandbox",pn=>{const Sn={value(wn){on==null||on();const Vn=wn.detail.value,Yn=new Set(Array.isArray(Vn)?Vn:[Vn]);for(const ns of Zr.options)ns.selected=Yn.has(ns.value);Nr.setValue(Ur,{value:vn(!0)}),yn=vn(!1)},multipleSelection(wn){Zr.multiple=!0},remove(wn){const Vn=Zr.options,Yn=wn.detail.remove;Vn[Yn].selected=!1,Zr.remove(Yn),Vn.length>0&&Array.prototype.findIndex.call(Vn,ls=>ls.selected)===-1&&(Vn[0].selected=!0),Nr.setValue(Ur,{value:vn(!0),items:Dn(wn)}),yn=vn(!1)},clear(wn){for(;Zr.length!==0;)Zr.remove(0);Nr.setValue(Ur,{value:null,items:[]}),yn=vn(!1)},insert(wn){const{index:Vn,displayValue:Yn,exportValue:ns}=wn.detail.insert,ls=Zr.children[Vn],vs=document.createElement("option");vs.textContent=Yn,vs.value=ns,ls?ls.before(vs):Zr.append(vs),Nr.setValue(Ur,{value:vn(!0),items:Dn(wn)}),yn=vn(!1)},items(wn){const{items:Vn}=wn.detail;for(;Zr.length!==0;)Zr.remove(0);for(const Yn of Vn){const{displayValue:ns,exportValue:ls}=Yn,vs=document.createElement("option");vs.textContent=ns,vs.value=ls,Zr.append(vs)}Zr.options.length>0&&(Zr.options[0].selected=!0),Nr.setValue(Ur,{value:vn(!0),items:Dn(wn)}),yn=vn(!1)},indices(wn){const Vn=new Set(wn.detail.indices);for(const Yn of wn.target.options)Yn.selected=Vn.has(Yn.index);Nr.setValue(Ur,{value:vn(!0)}),yn=vn(!1)},editable(wn){wn.target.disabled=!wn.detail.editable}};this._dispatchEventFromSandbox(Sn,pn)}),Zr.addEventListener("input",pn=>{var wn;const Sn=vn(!0);Nr.setValue(Ur,{value:Sn}),pn.preventDefault(),(wn=this.linkService.eventBus)==null||wn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ur,name:"Keystroke",value:yn,changeEx:Sn,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(Zr,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],pn=>pn.target.checked)):Zr.addEventListener("input",function(pn){Nr.setValue(Ur,{value:vn(!0)})}),this.data.combo&&this._setTextStyle(Zr),this._setBackgroundColor(Zr),this._setDefaultPropertiesFromJS(Zr),this.container.append(Zr),this.container}}const Mr=class Mr extends fr{constructor(Nr){var Zr,Ir,on;const{data:Ur}=Nr,en=!Mr.IGNORE_TYPES.has(Ur.parentType)&&!!((Zr=Ur.titleObj)!=null&&Zr.str||(Ir=Ur.contentsObj)!=null&&Ir.str||(on=Ur.richText)!=null&&on.str);super(Nr,{isRenderable:en})}render(){this.container.className="popupAnnotation";const Nr=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(Nr.length===0)return this.container;const Ur=new jr({container:this.container,trigger:Array.from(Nr),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),en=this.page,Zr=rr.Util.normalizeRect([this.data.parentRect[0],en.view[3]-this.data.parentRect[1]+en.view[1],this.data.parentRect[2],en.view[3]-this.data.parentRect[3]+en.view[1]]),Ir=Zr[0]+this.data.parentRect[2]-this.data.parentRect[0],on=Zr[1],{pageWidth:vn,pageHeight:yn,pageX:Dn,pageY:pn}=this.viewport.rawDims;return this.container.style.left=`${100*(Ir-Dn)/vn}%`,this.container.style.top=`${100*(on-pn)/yn}%`,this.container.append(Ur.render()),this.container}};_i(Mr,"IGNORE_TYPES",new Set(["Line","Square","Circle","PolyLine","Polygon","Ink"]));let Er=Mr;class jr{constructor(Nr){this.container=Nr.container,this.trigger=Nr.trigger,this.color=Nr.color,this.titleObj=Nr.titleObj,this.modificationDate=Nr.modificationDate,this.contentsObj=Nr.contentsObj,this.richText=Nr.richText,this.hideWrapper=Nr.hideWrapper||!1,this.pinned=!1}render(){var vn,yn;const Ur=document.createElement("div");Ur.className="popupWrapper",this.hideElement=this.hideWrapper?Ur:this.container,this.hideElement.hidden=!0;const en=document.createElement("div");en.className="popup";const Zr=this.color;if(Zr){const Dn=.7*(255-Zr[0])+Zr[0],pn=.7*(255-Zr[1])+Zr[1],Sn=.7*(255-Zr[2])+Zr[2];en.style.backgroundColor=rr.Util.makeHexColor(Dn|0,pn|0,Sn|0)}const Ir=document.createElement("h1");Ir.dir=this.titleObj.dir,Ir.textContent=this.titleObj.str,en.append(Ir);const on=nr.PDFDateString.toDateObject(this.modificationDate);if(on){const Dn=document.createElement("span");Dn.className="popupDate",Dn.textContent="{{date}}, {{time}}",Dn.dataset.l10nId="annotation_date_string",Dn.dataset.l10nArgs=JSON.stringify({date:on.toLocaleDateString(),time:on.toLocaleTimeString()}),en.append(Dn)}if((vn=this.richText)!=null&&vn.str&&(!((yn=this.contentsObj)!=null&&yn.str)||this.contentsObj.str===this.richText.str))ir.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:en}),en.lastChild.className="richText popupContent";else{const Dn=this._formatContents(this.contentsObj);en.append(Dn)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const Dn of this.trigger)Dn.addEventListener("click",this._toggle.bind(this)),Dn.addEventListener("mouseover",this._show.bind(this,!1)),Dn.addEventListener("mouseout",this._hide.bind(this,!1));return en.addEventListener("click",this._hide.bind(this,!0)),Ur.append(en),Ur}_formatContents({str:Nr,dir:Ur}){const en=document.createElement("p");en.className="popupContent",en.dir=Ur;const Zr=Nr.split(/(?:\r\n?|\n)/);for(let Ir=0,on=Zr.length;Ir<on;++Ir){const vn=Zr[Ir];en.append(document.createTextNode(vn)),Ir<on-1&&en.append(document.createElement("br"))}return en}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(Nr=!1){Nr&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(Nr=!0){Nr&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class _r extends fr{constructor(Nr){var en,Zr,Ir;const Ur=!!(Nr.data.hasPopup||(en=Nr.data.titleObj)!=null&&en.str||(Zr=Nr.data.contentsObj)!=null&&Zr.str||(Ir=Nr.data.richText)!=null&&Ir.str);super(Nr,{isRenderable:Ur,ignoreBorder:!0}),this.textContent=Nr.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const Nr=document.createElement("div");Nr.className="annotationTextContent",Nr.setAttribute("role","comment");for(const Ur of this.textContent){const en=document.createElement("span");en.textContent=Ur,Nr.append(en)}this.container.append(Nr)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Cr extends fr{constructor(Nr){var en,Zr,Ir;const Ur=!!(Nr.data.hasPopup||(en=Nr.data.titleObj)!=null&&en.str||(Zr=Nr.data.contentsObj)!=null&&Zr.str||(Ir=Nr.data.richText)!=null&&Ir.str);super(Nr,{isRenderable:Ur,ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const Nr=this.data,{width:Ur,height:en}=ur(Nr.rect),Zr=this.svgFactory.create(Ur,en,!0),Ir=this.svgFactory.createElement("svg:line");return Ir.setAttribute("x1",Nr.rect[2]-Nr.lineCoordinates[0]),Ir.setAttribute("y1",Nr.rect[3]-Nr.lineCoordinates[1]),Ir.setAttribute("x2",Nr.rect[2]-Nr.lineCoordinates[2]),Ir.setAttribute("y2",Nr.rect[3]-Nr.lineCoordinates[3]),Ir.setAttribute("stroke-width",Nr.borderStyle.width||1),Ir.setAttribute("stroke","transparent"),Ir.setAttribute("fill","transparent"),Zr.append(Ir),this.container.append(Zr),this._createPopup(Ir,Nr),this.container}}class Or extends fr{constructor(Nr){var en,Zr,Ir;const Ur=!!(Nr.data.hasPopup||(en=Nr.data.titleObj)!=null&&en.str||(Zr=Nr.data.contentsObj)!=null&&Zr.str||(Ir=Nr.data.richText)!=null&&Ir.str);super(Nr,{isRenderable:Ur,ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const Nr=this.data,{width:Ur,height:en}=ur(Nr.rect),Zr=this.svgFactory.create(Ur,en,!0),Ir=Nr.borderStyle.width,on=this.svgFactory.createElement("svg:rect");return on.setAttribute("x",Ir/2),on.setAttribute("y",Ir/2),on.setAttribute("width",Ur-Ir),on.setAttribute("height",en-Ir),on.setAttribute("stroke-width",Ir||1),on.setAttribute("stroke","transparent"),on.setAttribute("fill","transparent"),Zr.append(on),this.container.append(Zr),this._createPopup(on,Nr),this.container}}class Pr extends fr{constructor(Nr){var en,Zr,Ir;const Ur=!!(Nr.data.hasPopup||(en=Nr.data.titleObj)!=null&&en.str||(Zr=Nr.data.contentsObj)!=null&&Zr.str||(Ir=Nr.data.richText)!=null&&Ir.str);super(Nr,{isRenderable:Ur,ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const Nr=this.data,{width:Ur,height:en}=ur(Nr.rect),Zr=this.svgFactory.create(Ur,en,!0),Ir=Nr.borderStyle.width,on=this.svgFactory.createElement("svg:ellipse");return on.setAttribute("cx",Ur/2),on.setAttribute("cy",en/2),on.setAttribute("rx",Ur/2-Ir/2),on.setAttribute("ry",en/2-Ir/2),on.setAttribute("stroke-width",Ir||1),on.setAttribute("stroke","transparent"),on.setAttribute("fill","transparent"),Zr.append(on),this.container.append(Zr),this._createPopup(on,Nr),this.container}}class Lr extends fr{constructor(Nr){var en,Zr,Ir;const Ur=!!(Nr.data.hasPopup||(en=Nr.data.titleObj)!=null&&en.str||(Zr=Nr.data.contentsObj)!=null&&Zr.str||(Ir=Nr.data.richText)!=null&&Ir.str);super(Nr,{isRenderable:Ur,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const Nr=this.data,{width:Ur,height:en}=ur(Nr.rect),Zr=this.svgFactory.create(Ur,en,!0);let Ir=[];for(const vn of Nr.vertices){const yn=vn.x-Nr.rect[0],Dn=Nr.rect[3]-vn.y;Ir.push(yn+","+Dn)}Ir=Ir.join(" ");const on=this.svgFactory.createElement(this.svgElementName);return on.setAttribute("points",Ir),on.setAttribute("stroke-width",Nr.borderStyle.width||1),on.setAttribute("stroke","transparent"),on.setAttribute("fill","transparent"),Zr.append(on),this.container.append(Zr),this._createPopup(on,Nr),this.container}}class Gr extends Lr{constructor(Nr){super(Nr),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Kr extends fr{constructor(Nr){var en,Zr,Ir;const Ur=!!(Nr.data.hasPopup||(en=Nr.data.titleObj)!=null&&en.str||(Zr=Nr.data.contentsObj)!=null&&Zr.str||(Ir=Nr.data.richText)!=null&&Ir.str);super(Nr,{isRenderable:Ur,ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class nn extends fr{constructor(Nr){var en,Zr,Ir;const Ur=!!(Nr.data.hasPopup||(en=Nr.data.titleObj)!=null&&en.str||(Zr=Nr.data.contentsObj)!=null&&Zr.str||(Ir=Nr.data.richText)!=null&&Ir.str);super(Nr,{isRenderable:Ur,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const Nr=this.data,{width:Ur,height:en}=ur(Nr.rect),Zr=this.svgFactory.create(Ur,en,!0);for(const Ir of Nr.inkLists){let on=[];for(const yn of Ir){const Dn=yn.x-Nr.rect[0],pn=Nr.rect[3]-yn.y;on.push(`${Dn},${pn}`)}on=on.join(" ");const vn=this.svgFactory.createElement(this.svgElementName);vn.setAttribute("points",on),vn.setAttribute("stroke-width",Nr.borderStyle.width||1),vn.setAttribute("stroke","transparent"),vn.setAttribute("fill","transparent"),this._createPopup(vn,Nr),Zr.append(vn)}return this.container.append(Zr),this.container}}class Qr extends fr{constructor(Nr){var en,Zr,Ir;const Ur=!!(Nr.data.hasPopup||(en=Nr.data.titleObj)!=null&&en.str||(Zr=Nr.data.contentsObj)!=null&&Zr.str||(Ir=Nr.data.richText)!=null&&Ir.str);super(Nr,{isRenderable:Ur,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class zr extends fr{constructor(Nr){var en,Zr,Ir;const Ur=!!(Nr.data.hasPopup||(en=Nr.data.titleObj)!=null&&en.str||(Zr=Nr.data.contentsObj)!=null&&Zr.str||(Ir=Nr.data.richText)!=null&&Ir.str);super(Nr,{isRenderable:Ur,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class Vr extends fr{constructor(Nr){var en,Zr,Ir;const Ur=!!(Nr.data.hasPopup||(en=Nr.data.titleObj)!=null&&en.str||(Zr=Nr.data.contentsObj)!=null&&Zr.str||(Ir=Nr.data.richText)!=null&&Ir.str);super(Nr,{isRenderable:Ur,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class Jr extends fr{constructor(Nr){var en,Zr,Ir;const Ur=!!(Nr.data.hasPopup||(en=Nr.data.titleObj)!=null&&en.str||(Zr=Nr.data.contentsObj)!=null&&Zr.str||(Ir=Nr.data.richText)!=null&&Ir.str);super(Nr,{isRenderable:Ur,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class tn extends fr{constructor(Nr){var en,Zr,Ir;const Ur=!!(Nr.data.hasPopup||(en=Nr.data.titleObj)!=null&&en.str||(Zr=Nr.data.contentsObj)!=null&&Zr.str||(Ir=Nr.data.richText)!=null&&Ir.str);super(Nr,{isRenderable:Ur,ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Yr extends fr{constructor(Nr){var Zr;super(Nr,{isRenderable:!0});const{filename:Ur,content:en}=this.data.file;this.filename=(0,nr.getFilenameFromUrl)(Ur,!0),this.content=en,(Zr=this.linkService.eventBus)==null||Zr.dispatch("fileattachmentannotation",{source:this,filename:Ur,content:en})}render(){var Ur,en;this.container.className="fileAttachmentAnnotation";let Nr;return this.data.hasAppearance?Nr=document.createElement("div"):(Nr=document.createElement("img"),Nr.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(this.data.name)?"paperclip":"pushpin"}.svg`),Nr.className="popupTriggerArea",Nr.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((Ur=this.data.titleObj)!=null&&Ur.str||(en=this.data.contentsObj)!=null&&en.str||this.data.richText)&&this._createPopup(Nr,this.data),this.container.append(Nr),this.container}_download(){var Nr;(Nr=this.downloadManager)==null||Nr.openOrDownloadData(this.container,this.content,this.filename)}}const sn=class sn{static render(Nr){var yn,Dn;const{annotations:Ur,div:en,viewport:Zr,accessibilityManager:Ir}=Nr;(0,nr.setLayerDimensions)(en,Zr);const on={data:null,layer:en,page:Nr.page,viewport:Zr,linkService:Nr.linkService,downloadManager:Nr.downloadManager,imageResourcesPath:Nr.imageResourcesPath||"",renderForms:Nr.renderForms!==!1,svgFactory:new nr.DOMSVGFactory,annotationStorage:Nr.annotationStorage||new ar.AnnotationStorage,enableScripting:Nr.enableScripting===!0,hasJSActions:Nr.hasJSActions,fieldObjects:Nr.fieldObjects};let vn=0;for(const pn of Ur){if(pn.annotationType!==rr.AnnotationType.POPUP){const{width:Vn,height:Yn}=ur(pn.rect);if(Vn<=0||Yn<=0)continue}on.data=pn;const Sn=dr.create(on);if(!Sn.isRenderable)continue;const wn=Sn.render();if(pn.hidden&&(wn.style.visibility="hidden"),Array.isArray(wn))for(const Vn of wn)Vn.style.zIndex=vn++,hs(yn=sn,Br,em).call(yn,Vn,pn.id,en,Ir);else wn.style.zIndex=vn++,Sn instanceof Er?en.prepend(wn):hs(Dn=sn,Br,em).call(Dn,wn,pn.id,en,Ir)}hs(this,Br,tm).call(this,en,Nr.annotationCanvasMap)}static update(Nr){const{annotationCanvasMap:Ur,div:en,viewport:Zr}=Nr;(0,nr.setLayerDimensions)(en,{rotation:Zr.rotation}),hs(this,Br,tm).call(this,en,Ur),en.hidden=!1}};Br=new WeakSet,em=function(Nr,Ur,en,Zr){const Ir=Nr.firstChild||Nr;Ir.id=`${nr.AnnotationPrefix}${Ur}`,en.append(Nr),Zr==null||Zr.moveElementInDOM(en,Nr,Ir,!1)},tm=function(Nr,Ur){if(Ur){for(const[en,Zr]of Ur){const Ir=Nr.querySelector(`[data-annotation-id="${en}"]`);if(!Ir)continue;const{firstChild:on}=Ir;on?on.nodeName==="CANVAS"?on.replaceWith(Zr):on.before(Zr):Ir.append(Zr)}Ur.clear()}},js(sn,Br);let Sr=sn;er.AnnotationLayer=Sr},(St,er)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.ColorConverters=void 0;function tr(nr){return Math.floor(Math.max(0,Math.min(1,nr))*255).toString(16).padStart(2,"0")}class rr{static CMYK_G([ar,sr,ir,or]){return["G",1-Math.min(1,.3*ar+.59*ir+.11*sr+or)]}static G_CMYK([ar]){return["CMYK",0,0,0,1-ar]}static G_RGB([ar]){return["RGB",ar,ar,ar]}static G_HTML([ar]){const sr=tr(ar);return`#${sr}${sr}${sr}`}static RGB_G([ar,sr,ir]){return["G",.3*ar+.59*sr+.11*ir]}static RGB_HTML([ar,sr,ir]){const or=tr(ar),lr=tr(sr),cr=tr(ir);return`#${or}${lr}${cr}`}static T_HTML(){return"#00000000"}static CMYK_RGB([ar,sr,ir,or]){return["RGB",1-Math.min(1,ar+or),1-Math.min(1,ir+or),1-Math.min(1,sr+or)]}static CMYK_HTML(ar){const sr=this.CMYK_RGB(ar).slice(1);return this.RGB_HTML(sr)}static RGB_CMYK([ar,sr,ir]){const or=1-ar,lr=1-sr,cr=1-ir,ur=Math.min(or,lr,cr);return["CMYK",or,lr,cr,ur]}}er.ColorConverters=rr},(St,er,tr)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.XfaLayer=void 0;var rr=tr(19);class nr{static setupStorage(sr,ir,or,lr,cr){const ur=lr.getValue(ir,{value:null});switch(or.name){case"textarea":if(ur.value!==null&&(sr.textContent=ur.value),cr==="print")break;sr.addEventListener("input",dr=>{lr.setValue(ir,{value:dr.target.value})});break;case"input":if(or.attributes.type==="radio"||or.attributes.type==="checkbox"){if(ur.value===or.attributes.xfaOn?sr.setAttribute("checked",!0):ur.value===or.attributes.xfaOff&&sr.removeAttribute("checked"),cr==="print")break;sr.addEventListener("change",dr=>{lr.setValue(ir,{value:dr.target.checked?dr.target.getAttribute("xfaOn"):dr.target.getAttribute("xfaOff")})})}else{if(ur.value!==null&&sr.setAttribute("value",ur.value),cr==="print")break;sr.addEventListener("input",dr=>{lr.setValue(ir,{value:dr.target.value})})}break;case"select":if(ur.value!==null)for(const dr of or.children)dr.attributes.value===ur.value&&(dr.attributes.selected=!0);sr.addEventListener("input",dr=>{const fr=dr.target.options,mr=fr.selectedIndex===-1?"":fr[fr.selectedIndex].value;lr.setValue(ir,{value:mr})});break}}static setAttributes({html:sr,element:ir,storage:or=null,intent:lr,linkService:cr}){const{attributes:ur}=ir,dr=sr instanceof HTMLAnchorElement;ur.type==="radio"&&(ur.name=`${ur.name}-${lr}`);for(const[fr,mr]of Object.entries(ur))if(mr!=null)switch(fr){case"class":mr.length&&sr.setAttribute(fr,mr.join(" "));break;case"dataId":break;case"id":sr.setAttribute("data-element-id",mr);break;case"style":Object.assign(sr.style,mr);break;case"textContent":sr.textContent=mr;break;default:(!dr||fr!=="href"&&fr!=="newWindow")&&sr.setAttribute(fr,mr)}dr&&cr.addLinkAttributes(sr,ur.href,ur.newWindow),or&&ur.dataId&&this.setupStorage(sr,ur.dataId,ir,or)}static render(sr){var xr;const ir=sr.annotationStorage,or=sr.linkService,lr=sr.xfaHtml,cr=sr.intent||"display",ur=document.createElement(lr.name);lr.attributes&&this.setAttributes({html:ur,element:lr,intent:cr,linkService:or});const dr=[[lr,-1,ur]],fr=sr.div;if(fr.append(ur),sr.viewport){const pr=`matrix(${sr.viewport.transform.join(",")})`;fr.style.transform=pr}cr!=="richText"&&fr.setAttribute("class","xfaLayer xfaFont");const mr=[];for(;dr.length>0;){const[pr,hr,gr]=dr.at(-1);if(hr+1===pr.children.length){dr.pop();continue}const vr=pr.children[++dr.at(-1)[1]];if(vr===null)continue;const{name:br}=vr;if(br==="#text"){const Er=document.createTextNode(vr.value);mr.push(Er),gr.append(Er);continue}let yr;if((xr=vr==null?void 0:vr.attributes)!=null&&xr.xmlns?yr=document.createElementNS(vr.attributes.xmlns,br):yr=document.createElement(br),gr.append(yr),vr.attributes&&this.setAttributes({html:yr,element:vr,storage:ir,intent:cr,linkService:or}),vr.children&&vr.children.length>0)dr.push([vr,-1,yr]);else if(vr.value){const Er=document.createTextNode(vr.value);rr.XfaText.shouldBuildText(br)&&mr.push(Er),yr.append(Er)}}for(const pr of fr.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))pr.setAttribute("readOnly",!0);return{textDivs:mr}}static update(sr){const ir=`matrix(${sr.viewport.transform.join(",")})`;sr.div.style.transform=ir,sr.div.hidden=!1}}er.XfaLayer=nr},(St,er,tr)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.SVGGraphics=void 0;var rr=tr(6),nr=tr(1),ar=tr(10);let sr=class{constructor(){(0,nr.unreachable)("Not implemented: SVGGraphics")}};er.SVGGraphics=sr;{let xr=function(yr){let Er=[];const jr=[];for(const _r of yr){if(_r.fn==="save"){Er.push({fnId:92,fn:"group",items:[]}),jr.push(Er),Er=Er.at(-1).items;continue}_r.fn==="restore"?Er=jr.pop():Er.push(_r)}return Er},pr=function(yr){if(Number.isInteger(yr))return yr.toString();const Er=yr.toFixed(10);let jr=Er.length-1;if(Er[jr]!=="0")return Er;do jr--;while(Er[jr]==="0");return Er.substring(0,Er[jr]==="."?jr:jr+1)},hr=function(yr){if(yr[4]===0&&yr[5]===0){if(yr[1]===0&&yr[2]===0)return yr[0]===1&&yr[3]===1?"":`scale(${pr(yr[0])} ${pr(yr[3])})`;if(yr[0]===yr[3]&&yr[1]===-yr[2]){const Er=Math.acos(yr[0])*180/Math.PI;return`rotate(${pr(Er)})`}}else if(yr[0]===1&&yr[1]===0&&yr[2]===0&&yr[3]===1)return`translate(${pr(yr[4])} ${pr(yr[5])})`;return`matrix(${pr(yr[0])} ${pr(yr[1])} ${pr(yr[2])} ${pr(yr[3])} ${pr(yr[4])} ${pr(yr[5])})`};const ir={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},or="http://www.w3.org/XML/1998/namespace",lr="http://www.w3.org/1999/xlink",cr=["butt","round","square"],ur=["miter","round","bevel"],dr=function(yr,Er="",jr=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!jr)return URL.createObjectURL(new Blob([yr],{type:Er}));const _r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let Cr=`data:${Er};base64,`;for(let Or=0,Pr=yr.length;Or<Pr;Or+=3){const Lr=yr[Or]&255,Gr=yr[Or+1]&255,Kr=yr[Or+2]&255,nn=Lr>>2,Qr=(Lr&3)<<4|Gr>>4,zr=Or+1<Pr?(Gr&15)<<2|Kr>>6:64,Vr=Or+2<Pr?Kr&63:64;Cr+=_r[nn]+_r[Qr]+_r[zr]+_r[Vr]}return Cr},fr=function(){const yr=new Uint8Array([137,80,78,71,13,10,26,10]),Er=12,jr=new Int32Array(256);for(let Kr=0;Kr<256;Kr++){let nn=Kr;for(let Qr=0;Qr<8;Qr++)nn&1?nn=3988292384^nn>>1&2147483647:nn=nn>>1&2147483647;jr[Kr]=nn}function _r(Kr,nn,Qr){let zr=-1;for(let Vr=nn;Vr<Qr;Vr++){const Jr=(zr^Kr[Vr])&255,tn=jr[Jr];zr=zr>>>8^tn}return zr^-1}function Cr(Kr,nn,Qr,zr){let Vr=zr;const Jr=nn.length;Qr[Vr]=Jr>>24&255,Qr[Vr+1]=Jr>>16&255,Qr[Vr+2]=Jr>>8&255,Qr[Vr+3]=Jr&255,Vr+=4,Qr[Vr]=Kr.charCodeAt(0)&255,Qr[Vr+1]=Kr.charCodeAt(1)&255,Qr[Vr+2]=Kr.charCodeAt(2)&255,Qr[Vr+3]=Kr.charCodeAt(3)&255,Vr+=4,Qr.set(nn,Vr),Vr+=nn.length;const tn=_r(Qr,zr+4,Vr);Qr[Vr]=tn>>24&255,Qr[Vr+1]=tn>>16&255,Qr[Vr+2]=tn>>8&255,Qr[Vr+3]=tn&255}function Or(Kr,nn,Qr){let zr=1,Vr=0;for(let Jr=nn;Jr<Qr;++Jr)zr=(zr+(Kr[Jr]&255))%65521,Vr=(Vr+zr)%65521;return Vr<<16|zr}function Pr(Kr){if(!ar.isNodeJS)return Lr(Kr);try{let nn;parseInt(process.versions.node)>=8?nn=Kr:nn=Buffer.from(Kr);const Qr=require$$5.deflateSync(nn,{level:9});return Qr instanceof Uint8Array?Qr:new Uint8Array(Qr)}catch(nn){(0,nr.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+nn)}return Lr(Kr)}function Lr(Kr){let nn=Kr.length;const Qr=65535,zr=Math.ceil(nn/Qr),Vr=new Uint8Array(2+nn+zr*5+4);let Jr=0;Vr[Jr++]=120,Vr[Jr++]=156;let tn=0;for(;nn>Qr;)Vr[Jr++]=0,Vr[Jr++]=255,Vr[Jr++]=255,Vr[Jr++]=0,Vr[Jr++]=0,Vr.set(Kr.subarray(tn,tn+Qr),Jr),Jr+=Qr,tn+=Qr,nn-=Qr;Vr[Jr++]=1,Vr[Jr++]=nn&255,Vr[Jr++]=nn>>8&255,Vr[Jr++]=~nn&65535&255,Vr[Jr++]=(~nn&65535)>>8&255,Vr.set(Kr.subarray(tn),Jr),Jr+=Kr.length-tn;const Yr=Or(Kr,0,Kr.length);return Vr[Jr++]=Yr>>24&255,Vr[Jr++]=Yr>>16&255,Vr[Jr++]=Yr>>8&255,Vr[Jr++]=Yr&255,Vr}function Gr(Kr,nn,Qr,zr){const Vr=Kr.width,Jr=Kr.height;let tn,Yr,Sr;const Rr=Kr.data;switch(nn){case nr.ImageKind.GRAYSCALE_1BPP:Yr=0,tn=1,Sr=Vr+7>>3;break;case nr.ImageKind.RGB_24BPP:Yr=2,tn=8,Sr=Vr*3;break;case nr.ImageKind.RGBA_32BPP:Yr=6,tn=8,Sr=Vr*4;break;default:throw new Error("invalid format")}const Tr=new Uint8Array((1+Sr)*Jr);let Dr=0,Mr=0;for(let Nr=0;Nr<Jr;++Nr)Tr[Dr++]=0,Tr.set(Rr.subarray(Mr,Mr+Sr),Dr),Mr+=Sr,Dr+=Sr;if(nn===nr.ImageKind.GRAYSCALE_1BPP&&zr){Dr=0;for(let Nr=0;Nr<Jr;Nr++){Dr++;for(let Ur=0;Ur<Sr;Ur++)Tr[Dr++]^=255}}const Br=new Uint8Array([Vr>>24&255,Vr>>16&255,Vr>>8&255,Vr&255,Jr>>24&255,Jr>>16&255,Jr>>8&255,Jr&255,tn,Yr,0,0,0]),qr=Pr(Tr),Wr=yr.length+Er*3+Br.length+qr.length,sn=new Uint8Array(Wr);let un=0;return sn.set(yr,un),un+=yr.length,Cr("IHDR",Br,sn,un),un+=Er+Br.length,Cr("IDATA",qr,sn,un),un+=Er+qr.length,Cr("IEND",new Uint8Array(0),sn,un),dr(sn,"image/png",Qr)}return function(nn,Qr,zr){const Vr=nn.kind===void 0?nr.ImageKind.GRAYSCALE_1BPP:nn.kind;return Gr(nn,Vr,Qr,zr)}}();class mr{constructor(){this.fontSizeScale=1,this.fontWeight=ir.fontWeight,this.fontSize=0,this.textMatrix=nr.IDENTITY_MATRIX,this.fontMatrix=nr.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=nr.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=ir.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(Er,jr){this.x=Er,this.y=jr}}let gr=0,vr=0,br=0;er.SVGGraphics=sr=class{constructor(yr,Er,jr=!1){(0,rr.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new rr.DOMSVGFactory,this.current=new mr,this.transformMatrix=nr.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=yr,this.objs=Er,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!jr,this._operatorIdMapping=[];for(const _r in nr.OPS)this._operatorIdMapping[nr.OPS[_r]]=_r}getObject(yr,Er=null){return typeof yr=="string"?yr.startsWith("g_")?this.commonObjs.get(yr):this.objs.get(yr):Er}save(){this.transformStack.push(this.transformMatrix);const yr=this.current;this.extraStack.push(yr),this.current=yr.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(yr){this.save(),this.executeOpTree(yr),this.restore()}loadDependencies(yr){const Er=yr.fnArray,jr=yr.argsArray;for(let _r=0,Cr=Er.length;_r<Cr;_r++)if(Er[_r]===nr.OPS.dependency)for(const Or of jr[_r]){const Pr=Or.startsWith("g_")?this.commonObjs:this.objs,Lr=new Promise(Gr=>{Pr.get(Or,Gr)});this.current.dependencies.push(Lr)}return Promise.all(this.current.dependencies)}transform(yr,Er,jr,_r,Cr,Or){const Pr=[yr,Er,jr,_r,Cr,Or];this.transformMatrix=nr.Util.transform(this.transformMatrix,Pr),this.tgrp=null}getSVG(yr,Er){this.viewport=Er;const jr=this._initialize(Er);return this.loadDependencies(yr).then(()=>(this.transformMatrix=nr.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(yr)),jr))}convertOpList(yr){const Er=this._operatorIdMapping,jr=yr.argsArray,_r=yr.fnArray,Cr=[];for(let Or=0,Pr=_r.length;Or<Pr;Or++){const Lr=_r[Or];Cr.push({fnId:Lr,fn:Er[Lr],args:jr[Or]})}return xr(Cr)}executeOpTree(yr){for(const Er of yr){const jr=Er.fn,_r=Er.fnId,Cr=Er.args;switch(_r|0){case nr.OPS.beginText:this.beginText();break;case nr.OPS.dependency:break;case nr.OPS.setLeading:this.setLeading(Cr);break;case nr.OPS.setLeadingMoveText:this.setLeadingMoveText(Cr[0],Cr[1]);break;case nr.OPS.setFont:this.setFont(Cr);break;case nr.OPS.showText:this.showText(Cr[0]);break;case nr.OPS.showSpacedText:this.showText(Cr[0]);break;case nr.OPS.endText:this.endText();break;case nr.OPS.moveText:this.moveText(Cr[0],Cr[1]);break;case nr.OPS.setCharSpacing:this.setCharSpacing(Cr[0]);break;case nr.OPS.setWordSpacing:this.setWordSpacing(Cr[0]);break;case nr.OPS.setHScale:this.setHScale(Cr[0]);break;case nr.OPS.setTextMatrix:this.setTextMatrix(Cr[0],Cr[1],Cr[2],Cr[3],Cr[4],Cr[5]);break;case nr.OPS.setTextRise:this.setTextRise(Cr[0]);break;case nr.OPS.setTextRenderingMode:this.setTextRenderingMode(Cr[0]);break;case nr.OPS.setLineWidth:this.setLineWidth(Cr[0]);break;case nr.OPS.setLineJoin:this.setLineJoin(Cr[0]);break;case nr.OPS.setLineCap:this.setLineCap(Cr[0]);break;case nr.OPS.setMiterLimit:this.setMiterLimit(Cr[0]);break;case nr.OPS.setFillRGBColor:this.setFillRGBColor(Cr[0],Cr[1],Cr[2]);break;case nr.OPS.setStrokeRGBColor:this.setStrokeRGBColor(Cr[0],Cr[1],Cr[2]);break;case nr.OPS.setStrokeColorN:this.setStrokeColorN(Cr);break;case nr.OPS.setFillColorN:this.setFillColorN(Cr);break;case nr.OPS.shadingFill:this.shadingFill(Cr[0]);break;case nr.OPS.setDash:this.setDash(Cr[0],Cr[1]);break;case nr.OPS.setRenderingIntent:this.setRenderingIntent(Cr[0]);break;case nr.OPS.setFlatness:this.setFlatness(Cr[0]);break;case nr.OPS.setGState:this.setGState(Cr[0]);break;case nr.OPS.fill:this.fill();break;case nr.OPS.eoFill:this.eoFill();break;case nr.OPS.stroke:this.stroke();break;case nr.OPS.fillStroke:this.fillStroke();break;case nr.OPS.eoFillStroke:this.eoFillStroke();break;case nr.OPS.clip:this.clip("nonzero");break;case nr.OPS.eoClip:this.clip("evenodd");break;case nr.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case nr.OPS.paintImageXObject:this.paintImageXObject(Cr[0]);break;case nr.OPS.paintInlineImageXObject:this.paintInlineImageXObject(Cr[0]);break;case nr.OPS.paintImageMaskXObject:this.paintImageMaskXObject(Cr[0]);break;case nr.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(Cr[0],Cr[1]);break;case nr.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case nr.OPS.closePath:this.closePath();break;case nr.OPS.closeStroke:this.closeStroke();break;case nr.OPS.closeFillStroke:this.closeFillStroke();break;case nr.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case nr.OPS.nextLine:this.nextLine();break;case nr.OPS.transform:this.transform(Cr[0],Cr[1],Cr[2],Cr[3],Cr[4],Cr[5]);break;case nr.OPS.constructPath:this.constructPath(Cr[0],Cr[1]);break;case nr.OPS.endPath:this.endPath();break;case 92:this.group(Er.items);break;default:(0,nr.warn)(`Unimplemented operator ${jr}`);break}}}setWordSpacing(yr){this.current.wordSpacing=yr}setCharSpacing(yr){this.current.charSpacing=yr}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(yr,Er,jr,_r,Cr,Or){const Pr=this.current;Pr.textMatrix=Pr.lineMatrix=[yr,Er,jr,_r,Cr,Or],Pr.textMatrixScale=Math.hypot(yr,Er),Pr.x=Pr.lineX=0,Pr.y=Pr.lineY=0,Pr.xcoords=[],Pr.ycoords=[],Pr.tspan=this.svgFactory.createElement("svg:tspan"),Pr.tspan.setAttributeNS(null,"font-family",Pr.fontFamily),Pr.tspan.setAttributeNS(null,"font-size",`${pr(Pr.fontSize)}px`),Pr.tspan.setAttributeNS(null,"y",pr(-Pr.y)),Pr.txtElement=this.svgFactory.createElement("svg:text"),Pr.txtElement.append(Pr.tspan)}beginText(){const yr=this.current;yr.x=yr.lineX=0,yr.y=yr.lineY=0,yr.textMatrix=nr.IDENTITY_MATRIX,yr.lineMatrix=nr.IDENTITY_MATRIX,yr.textMatrixScale=1,yr.tspan=this.svgFactory.createElement("svg:tspan"),yr.txtElement=this.svgFactory.createElement("svg:text"),yr.txtgrp=this.svgFactory.createElement("svg:g"),yr.xcoords=[],yr.ycoords=[]}moveText(yr,Er){const jr=this.current;jr.x=jr.lineX+=yr,jr.y=jr.lineY+=Er,jr.xcoords=[],jr.ycoords=[],jr.tspan=this.svgFactory.createElement("svg:tspan"),jr.tspan.setAttributeNS(null,"font-family",jr.fontFamily),jr.tspan.setAttributeNS(null,"font-size",`${pr(jr.fontSize)}px`),jr.tspan.setAttributeNS(null,"y",pr(-jr.y))}showText(yr){const Er=this.current,jr=Er.font,_r=Er.fontSize;if(_r===0)return;const Cr=Er.fontSizeScale,Or=Er.charSpacing,Pr=Er.wordSpacing,Lr=Er.fontDirection,Gr=Er.textHScale*Lr,Kr=jr.vertical,nn=Kr?1:-1,Qr=jr.defaultVMetrics,zr=_r*Er.fontMatrix[0];let Vr=0;for(const Yr of yr){if(Yr===null){Vr+=Lr*Pr;continue}else if(typeof Yr=="number"){Vr+=nn*Yr*_r/1e3;continue}const Sr=(Yr.isSpace?Pr:0)+Or,Rr=Yr.fontChar;let Tr,Dr,Mr=Yr.width;if(Kr){let qr;const Wr=Yr.vmetric||Qr;qr=Yr.vmetric?Wr[1]:Mr*.5,qr=-qr*zr;const sn=Wr[2]*zr;Mr=Wr?-Wr[0]:Mr,Tr=qr/Cr,Dr=(Vr+sn)/Cr}else Tr=Vr/Cr,Dr=0;(Yr.isInFont||jr.missingFile)&&(Er.xcoords.push(Er.x+Tr),Kr&&Er.ycoords.push(-Er.y+Dr),Er.tspan.textContent+=Rr);let Br;Kr?Br=Mr*zr-Sr*Lr:Br=Mr*zr+Sr*Lr,Vr+=Br}Er.tspan.setAttributeNS(null,"x",Er.xcoords.map(pr).join(" ")),Kr?Er.tspan.setAttributeNS(null,"y",Er.ycoords.map(pr).join(" ")):Er.tspan.setAttributeNS(null,"y",pr(-Er.y)),Kr?Er.y-=Vr:Er.x+=Vr*Gr,Er.tspan.setAttributeNS(null,"font-family",Er.fontFamily),Er.tspan.setAttributeNS(null,"font-size",`${pr(Er.fontSize)}px`),Er.fontStyle!==ir.fontStyle&&Er.tspan.setAttributeNS(null,"font-style",Er.fontStyle),Er.fontWeight!==ir.fontWeight&&Er.tspan.setAttributeNS(null,"font-weight",Er.fontWeight);const Jr=Er.textRenderingMode&nr.TextRenderingMode.FILL_STROKE_MASK;if(Jr===nr.TextRenderingMode.FILL||Jr===nr.TextRenderingMode.FILL_STROKE?(Er.fillColor!==ir.fillColor&&Er.tspan.setAttributeNS(null,"fill",Er.fillColor),Er.fillAlpha<1&&Er.tspan.setAttributeNS(null,"fill-opacity",Er.fillAlpha)):Er.textRenderingMode===nr.TextRenderingMode.ADD_TO_PATH?Er.tspan.setAttributeNS(null,"fill","transparent"):Er.tspan.setAttributeNS(null,"fill","none"),Jr===nr.TextRenderingMode.STROKE||Jr===nr.TextRenderingMode.FILL_STROKE){const Yr=1/(Er.textMatrixScale||1);this._setStrokeAttributes(Er.tspan,Yr)}let tn=Er.textMatrix;Er.textRise!==0&&(tn=tn.slice(),tn[5]+=Er.textRise),Er.txtElement.setAttributeNS(null,"transform",`${hr(tn)} scale(${pr(Gr)}, -1)`),Er.txtElement.setAttributeNS(or,"xml:space","preserve"),Er.txtElement.append(Er.tspan),Er.txtgrp.append(Er.txtElement),this._ensureTransformGroup().append(Er.txtElement)}setLeadingMoveText(yr,Er){this.setLeading(-Er),this.moveText(yr,Er)}addFontStyle(yr){if(!yr.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const Er=dr(yr.data,yr.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${yr.loadedName}"; src: url(${Er}); }
`}setFont(yr){const Er=this.current,jr=this.commonObjs.get(yr[0]);let _r=yr[1];Er.font=jr,this.embedFonts&&!jr.missingFile&&!this.embeddedFonts[jr.loadedName]&&(this.addFontStyle(jr),this.embeddedFonts[jr.loadedName]=jr),Er.fontMatrix=jr.fontMatrix||nr.FONT_IDENTITY_MATRIX;let Cr="normal";jr.black?Cr="900":jr.bold&&(Cr="bold");const Or=jr.italic?"italic":"normal";_r<0?(_r=-_r,Er.fontDirection=-1):Er.fontDirection=1,Er.fontSize=_r,Er.fontFamily=jr.loadedName,Er.fontWeight=Cr,Er.fontStyle=Or,Er.tspan=this.svgFactory.createElement("svg:tspan"),Er.tspan.setAttributeNS(null,"y",pr(-Er.y)),Er.xcoords=[],Er.ycoords=[]}endText(){var Er;const yr=this.current;yr.textRenderingMode&nr.TextRenderingMode.ADD_TO_PATH_FLAG&&((Er=yr.txtElement)!=null&&Er.hasChildNodes())&&(yr.element=yr.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(yr){yr>0&&(this.current.lineWidth=yr)}setLineCap(yr){this.current.lineCap=cr[yr]}setLineJoin(yr){this.current.lineJoin=ur[yr]}setMiterLimit(yr){this.current.miterLimit=yr}setStrokeAlpha(yr){this.current.strokeAlpha=yr}setStrokeRGBColor(yr,Er,jr){this.current.strokeColor=nr.Util.makeHexColor(yr,Er,jr)}setFillAlpha(yr){this.current.fillAlpha=yr}setFillRGBColor(yr,Er,jr){this.current.fillColor=nr.Util.makeHexColor(yr,Er,jr),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(yr){this.current.strokeColor=this._makeColorN_Pattern(yr)}setFillColorN(yr){this.current.fillColor=this._makeColorN_Pattern(yr)}shadingFill(yr){const Er=this.viewport.width,jr=this.viewport.height,_r=nr.Util.inverseTransform(this.transformMatrix),Cr=nr.Util.applyTransform([0,0],_r),Or=nr.Util.applyTransform([0,jr],_r),Pr=nr.Util.applyTransform([Er,0],_r),Lr=nr.Util.applyTransform([Er,jr],_r),Gr=Math.min(Cr[0],Or[0],Pr[0],Lr[0]),Kr=Math.min(Cr[1],Or[1],Pr[1],Lr[1]),nn=Math.max(Cr[0],Or[0],Pr[0],Lr[0]),Qr=Math.max(Cr[1],Or[1],Pr[1],Lr[1]),zr=this.svgFactory.createElement("svg:rect");zr.setAttributeNS(null,"x",Gr),zr.setAttributeNS(null,"y",Kr),zr.setAttributeNS(null,"width",nn-Gr),zr.setAttributeNS(null,"height",Qr-Kr),zr.setAttributeNS(null,"fill",this._makeShadingPattern(yr)),this.current.fillAlpha<1&&zr.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(zr)}_makeColorN_Pattern(yr){return yr[0]==="TilingPattern"?this._makeTilingPattern(yr):this._makeShadingPattern(yr)}_makeTilingPattern(yr){const Er=yr[1],jr=yr[2],_r=yr[3]||nr.IDENTITY_MATRIX,[Cr,Or,Pr,Lr]=yr[4],Gr=yr[5],Kr=yr[6],nn=yr[7],Qr=`shading${br++}`,[zr,Vr,Jr,tn]=nr.Util.normalizeRect([...nr.Util.applyTransform([Cr,Or],_r),...nr.Util.applyTransform([Pr,Lr],_r)]),[Yr,Sr]=nr.Util.singularValueDecompose2dScale(_r),Rr=Gr*Yr,Tr=Kr*Sr,Dr=this.svgFactory.createElement("svg:pattern");Dr.setAttributeNS(null,"id",Qr),Dr.setAttributeNS(null,"patternUnits","userSpaceOnUse"),Dr.setAttributeNS(null,"width",Rr),Dr.setAttributeNS(null,"height",Tr),Dr.setAttributeNS(null,"x",`${zr}`),Dr.setAttributeNS(null,"y",`${Vr}`);const Mr=this.svg,Br=this.transformMatrix,qr=this.current.fillColor,Wr=this.current.strokeColor,sn=this.svgFactory.create(Jr-zr,tn-Vr);if(this.svg=sn,this.transformMatrix=_r,nn===2){const un=nr.Util.makeHexColor(...Er);this.current.fillColor=un,this.current.strokeColor=un}return this.executeOpTree(this.convertOpList(jr)),this.svg=Mr,this.transformMatrix=Br,this.current.fillColor=qr,this.current.strokeColor=Wr,Dr.append(sn.childNodes[0]),this.defs.append(Dr),`url(#${Qr})`}_makeShadingPattern(yr){switch(typeof yr=="string"&&(yr=this.objs.get(yr)),yr[0]){case"RadialAxial":const Er=`shading${br++}`,jr=yr[3];let _r;switch(yr[1]){case"axial":const Cr=yr[4],Or=yr[5];_r=this.svgFactory.createElement("svg:linearGradient"),_r.setAttributeNS(null,"id",Er),_r.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),_r.setAttributeNS(null,"x1",Cr[0]),_r.setAttributeNS(null,"y1",Cr[1]),_r.setAttributeNS(null,"x2",Or[0]),_r.setAttributeNS(null,"y2",Or[1]);break;case"radial":const Pr=yr[4],Lr=yr[5],Gr=yr[6],Kr=yr[7];_r=this.svgFactory.createElement("svg:radialGradient"),_r.setAttributeNS(null,"id",Er),_r.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),_r.setAttributeNS(null,"cx",Lr[0]),_r.setAttributeNS(null,"cy",Lr[1]),_r.setAttributeNS(null,"r",Kr),_r.setAttributeNS(null,"fx",Pr[0]),_r.setAttributeNS(null,"fy",Pr[1]),_r.setAttributeNS(null,"fr",Gr);break;default:throw new Error(`Unknown RadialAxial type: ${yr[1]}`)}for(const Cr of jr){const Or=this.svgFactory.createElement("svg:stop");Or.setAttributeNS(null,"offset",Cr[0]),Or.setAttributeNS(null,"stop-color",Cr[1]),_r.append(Or)}return this.defs.append(_r),`url(#${Er})`;case"Mesh":return(0,nr.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${yr[0]}`)}}setDash(yr,Er){this.current.dashArray=yr,this.current.dashPhase=Er}constructPath(yr,Er){const jr=this.current;let _r=jr.x,Cr=jr.y,Or=[],Pr=0;for(const Lr of yr)switch(Lr|0){case nr.OPS.rectangle:_r=Er[Pr++],Cr=Er[Pr++];const Gr=Er[Pr++],Kr=Er[Pr++],nn=_r+Gr,Qr=Cr+Kr;Or.push("M",pr(_r),pr(Cr),"L",pr(nn),pr(Cr),"L",pr(nn),pr(Qr),"L",pr(_r),pr(Qr),"Z");break;case nr.OPS.moveTo:_r=Er[Pr++],Cr=Er[Pr++],Or.push("M",pr(_r),pr(Cr));break;case nr.OPS.lineTo:_r=Er[Pr++],Cr=Er[Pr++],Or.push("L",pr(_r),pr(Cr));break;case nr.OPS.curveTo:_r=Er[Pr+4],Cr=Er[Pr+5],Or.push("C",pr(Er[Pr]),pr(Er[Pr+1]),pr(Er[Pr+2]),pr(Er[Pr+3]),pr(_r),pr(Cr)),Pr+=6;break;case nr.OPS.curveTo2:Or.push("C",pr(_r),pr(Cr),pr(Er[Pr]),pr(Er[Pr+1]),pr(Er[Pr+2]),pr(Er[Pr+3])),_r=Er[Pr+2],Cr=Er[Pr+3],Pr+=4;break;case nr.OPS.curveTo3:_r=Er[Pr+2],Cr=Er[Pr+3],Or.push("C",pr(Er[Pr]),pr(Er[Pr+1]),pr(_r),pr(Cr),pr(_r),pr(Cr)),Pr+=4;break;case nr.OPS.closePath:Or.push("Z");break}Or=Or.join(" "),jr.path&&yr.length>0&&yr[0]!==nr.OPS.rectangle&&yr[0]!==nr.OPS.moveTo?Or=jr.path.getAttributeNS(null,"d")+Or:(jr.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(jr.path)),jr.path.setAttributeNS(null,"d",Or),jr.path.setAttributeNS(null,"fill","none"),jr.element=jr.path,jr.setCurrentPoint(_r,Cr)}endPath(){const yr=this.current;if(yr.path=null,!this.pendingClip)return;if(!yr.element){this.pendingClip=null;return}const Er=`clippath${gr++}`,jr=this.svgFactory.createElement("svg:clipPath");jr.setAttributeNS(null,"id",Er),jr.setAttributeNS(null,"transform",hr(this.transformMatrix));const _r=yr.element.cloneNode(!0);if(this.pendingClip==="evenodd"?_r.setAttributeNS(null,"clip-rule","evenodd"):_r.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,jr.append(_r),this.defs.append(jr),yr.activeClipUrl){yr.clipGroup=null;for(const Cr of this.extraStack)Cr.clipGroup=null;jr.setAttributeNS(null,"clip-path",yr.activeClipUrl)}yr.activeClipUrl=`url(#${Er})`,this.tgrp=null}clip(yr){this.pendingClip=yr}closePath(){const yr=this.current;if(yr.path){const Er=`${yr.path.getAttributeNS(null,"d")}Z`;yr.path.setAttributeNS(null,"d",Er)}}setLeading(yr){this.current.leading=-yr}setTextRise(yr){this.current.textRise=yr}setTextRenderingMode(yr){this.current.textRenderingMode=yr}setHScale(yr){this.current.textHScale=yr/100}setRenderingIntent(yr){}setFlatness(yr){}setGState(yr){for(const[Er,jr]of yr)switch(Er){case"LW":this.setLineWidth(jr);break;case"LC":this.setLineCap(jr);break;case"LJ":this.setLineJoin(jr);break;case"ML":this.setMiterLimit(jr);break;case"D":this.setDash(jr[0],jr[1]);break;case"RI":this.setRenderingIntent(jr);break;case"FL":this.setFlatness(jr);break;case"Font":this.setFont(jr);break;case"CA":this.setStrokeAlpha(jr);break;case"ca":this.setFillAlpha(jr);break;default:(0,nr.warn)(`Unimplemented graphic state operator ${Er}`);break}}fill(){const yr=this.current;yr.element&&(yr.element.setAttributeNS(null,"fill",yr.fillColor),yr.element.setAttributeNS(null,"fill-opacity",yr.fillAlpha),this.endPath())}stroke(){const yr=this.current;yr.element&&(this._setStrokeAttributes(yr.element),yr.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(yr,Er=1){const jr=this.current;let _r=jr.dashArray;Er!==1&&_r.length>0&&(_r=_r.map(function(Cr){return Er*Cr})),yr.setAttributeNS(null,"stroke",jr.strokeColor),yr.setAttributeNS(null,"stroke-opacity",jr.strokeAlpha),yr.setAttributeNS(null,"stroke-miterlimit",pr(jr.miterLimit)),yr.setAttributeNS(null,"stroke-linecap",jr.lineCap),yr.setAttributeNS(null,"stroke-linejoin",jr.lineJoin),yr.setAttributeNS(null,"stroke-width",pr(Er*jr.lineWidth)+"px"),yr.setAttributeNS(null,"stroke-dasharray",_r.map(pr).join(" ")),yr.setAttributeNS(null,"stroke-dashoffset",pr(Er*jr.dashPhase)+"px")}eoFill(){var yr;(yr=this.current.element)==null||yr.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var yr;(yr=this.current.element)==null||yr.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const yr=this.svgFactory.createElement("svg:rect");yr.setAttributeNS(null,"x","0"),yr.setAttributeNS(null,"y","0"),yr.setAttributeNS(null,"width","1px"),yr.setAttributeNS(null,"height","1px"),yr.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(yr)}paintImageXObject(yr){const Er=this.getObject(yr);if(!Er){(0,nr.warn)(`Dependent image with object ID ${yr} is not ready yet`);return}this.paintInlineImageXObject(Er)}paintInlineImageXObject(yr,Er){const jr=yr.width,_r=yr.height,Cr=fr(yr,this.forceDataSchema,!!Er),Or=this.svgFactory.createElement("svg:rect");Or.setAttributeNS(null,"x","0"),Or.setAttributeNS(null,"y","0"),Or.setAttributeNS(null,"width",pr(jr)),Or.setAttributeNS(null,"height",pr(_r)),this.current.element=Or,this.clip("nonzero");const Pr=this.svgFactory.createElement("svg:image");Pr.setAttributeNS(lr,"xlink:href",Cr),Pr.setAttributeNS(null,"x","0"),Pr.setAttributeNS(null,"y",pr(-_r)),Pr.setAttributeNS(null,"width",pr(jr)+"px"),Pr.setAttributeNS(null,"height",pr(_r)+"px"),Pr.setAttributeNS(null,"transform",`scale(${pr(1/jr)} ${pr(-1/_r)})`),Er?Er.append(Pr):this._ensureTransformGroup().append(Pr)}paintImageMaskXObject(yr){const Er=this.getObject(yr.data,yr);if(Er.bitmap){(0,nr.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const jr=this.current,_r=Er.width,Cr=Er.height,Or=jr.fillColor;jr.maskId=`mask${vr++}`;const Pr=this.svgFactory.createElement("svg:mask");Pr.setAttributeNS(null,"id",jr.maskId);const Lr=this.svgFactory.createElement("svg:rect");Lr.setAttributeNS(null,"x","0"),Lr.setAttributeNS(null,"y","0"),Lr.setAttributeNS(null,"width",pr(_r)),Lr.setAttributeNS(null,"height",pr(Cr)),Lr.setAttributeNS(null,"fill",Or),Lr.setAttributeNS(null,"mask",`url(#${jr.maskId})`),this.defs.append(Pr),this._ensureTransformGroup().append(Lr),this.paintInlineImageXObject(Er,Pr)}paintFormXObjectBegin(yr,Er){if(Array.isArray(yr)&&yr.length===6&&this.transform(yr[0],yr[1],yr[2],yr[3],yr[4],yr[5]),Er){const jr=Er[2]-Er[0],_r=Er[3]-Er[1],Cr=this.svgFactory.createElement("svg:rect");Cr.setAttributeNS(null,"x",Er[0]),Cr.setAttributeNS(null,"y",Er[1]),Cr.setAttributeNS(null,"width",pr(jr)),Cr.setAttributeNS(null,"height",pr(_r)),this.current.element=Cr,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(yr){const Er=this.svgFactory.create(yr.width,yr.height),jr=this.svgFactory.createElement("svg:defs");Er.append(jr),this.defs=jr;const _r=this.svgFactory.createElement("svg:g");return _r.setAttributeNS(null,"transform",hr(yr.transform)),Er.append(_r),this.svg=_r,Er}_ensureClipGroup(){if(!this.current.clipGroup){const yr=this.svgFactory.createElement("svg:g");yr.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(yr),this.current.clipGroup=yr}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",hr(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}}],__webpack_module_cache__={};function __w_pdfjs_require__(St){var er=__webpack_module_cache__[St];if(er!==void 0)return er.exports;var tr=__webpack_module_cache__[St]={exports:{}};return __webpack_modules__[St](tr,tr.exports,__w_pdfjs_require__),tr.exports}var __webpack_exports__={};return(()=>{var St=__webpack_exports__;Object.defineProperty(St,"__esModule",{value:!0}),Object.defineProperty(St,"AbortException",{enumerable:!0,get:function(){return er.AbortException}}),Object.defineProperty(St,"AnnotationEditorLayer",{enumerable:!0,get:function(){return ar.AnnotationEditorLayer}}),Object.defineProperty(St,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return er.AnnotationEditorParamsType}}),Object.defineProperty(St,"AnnotationEditorType",{enumerable:!0,get:function(){return er.AnnotationEditorType}}),Object.defineProperty(St,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return sr.AnnotationEditorUIManager}}),Object.defineProperty(St,"AnnotationLayer",{enumerable:!0,get:function(){return ir.AnnotationLayer}}),Object.defineProperty(St,"AnnotationMode",{enumerable:!0,get:function(){return er.AnnotationMode}}),Object.defineProperty(St,"CMapCompressionType",{enumerable:!0,get:function(){return er.CMapCompressionType}}),Object.defineProperty(St,"GlobalWorkerOptions",{enumerable:!0,get:function(){return or.GlobalWorkerOptions}}),Object.defineProperty(St,"InvalidPDFException",{enumerable:!0,get:function(){return er.InvalidPDFException}}),Object.defineProperty(St,"MissingPDFException",{enumerable:!0,get:function(){return er.MissingPDFException}}),Object.defineProperty(St,"OPS",{enumerable:!0,get:function(){return er.OPS}}),Object.defineProperty(St,"PDFDataRangeTransport",{enumerable:!0,get:function(){return tr.PDFDataRangeTransport}}),Object.defineProperty(St,"PDFDateString",{enumerable:!0,get:function(){return rr.PDFDateString}}),Object.defineProperty(St,"PDFWorker",{enumerable:!0,get:function(){return tr.PDFWorker}}),Object.defineProperty(St,"PasswordResponses",{enumerable:!0,get:function(){return er.PasswordResponses}}),Object.defineProperty(St,"PermissionFlag",{enumerable:!0,get:function(){return er.PermissionFlag}}),Object.defineProperty(St,"PixelsPerInch",{enumerable:!0,get:function(){return rr.PixelsPerInch}}),Object.defineProperty(St,"RenderingCancelledException",{enumerable:!0,get:function(){return rr.RenderingCancelledException}}),Object.defineProperty(St,"SVGGraphics",{enumerable:!0,get:function(){return lr.SVGGraphics}}),Object.defineProperty(St,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return er.UNSUPPORTED_FEATURES}}),Object.defineProperty(St,"UnexpectedResponseException",{enumerable:!0,get:function(){return er.UnexpectedResponseException}}),Object.defineProperty(St,"Util",{enumerable:!0,get:function(){return er.Util}}),Object.defineProperty(St,"VerbosityLevel",{enumerable:!0,get:function(){return er.VerbosityLevel}}),Object.defineProperty(St,"XfaLayer",{enumerable:!0,get:function(){return cr.XfaLayer}}),Object.defineProperty(St,"build",{enumerable:!0,get:function(){return tr.build}}),Object.defineProperty(St,"createPromiseCapability",{enumerable:!0,get:function(){return er.createPromiseCapability}}),Object.defineProperty(St,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return er.createValidAbsoluteUrl}}),Object.defineProperty(St,"getDocument",{enumerable:!0,get:function(){return tr.getDocument}}),Object.defineProperty(St,"getFilenameFromUrl",{enumerable:!0,get:function(){return rr.getFilenameFromUrl}}),Object.defineProperty(St,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return rr.getPdfFilenameFromUrl}}),Object.defineProperty(St,"getXfaPageViewport",{enumerable:!0,get:function(){return rr.getXfaPageViewport}}),Object.defineProperty(St,"isDataScheme",{enumerable:!0,get:function(){return rr.isDataScheme}}),Object.defineProperty(St,"isPdfFile",{enumerable:!0,get:function(){return rr.isPdfFile}}),Object.defineProperty(St,"loadScript",{enumerable:!0,get:function(){return rr.loadScript}}),Object.defineProperty(St,"renderTextLayer",{enumerable:!0,get:function(){return nr.renderTextLayer}}),Object.defineProperty(St,"setLayerDimensions",{enumerable:!0,get:function(){return rr.setLayerDimensions}}),Object.defineProperty(St,"shadow",{enumerable:!0,get:function(){return er.shadow}}),Object.defineProperty(St,"updateTextLayer",{enumerable:!0,get:function(){return nr.updateTextLayer}}),Object.defineProperty(St,"version",{enumerable:!0,get:function(){return tr.version}});var er=__w_pdfjs_require__(1),tr=__w_pdfjs_require__(2),rr=__w_pdfjs_require__(6),nr=__w_pdfjs_require__(26),ar=__w_pdfjs_require__(27),sr=__w_pdfjs_require__(5),ir=__w_pdfjs_require__(32),or=__w_pdfjs_require__(14),lr=__w_pdfjs_require__(35),cr=__w_pdfjs_require__(34)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;(function(St){var er=reactExports,tr=pdfExports;function rr(Xr){var cn=Object.create(null);return Xr&&Object.keys(Xr).forEach(function(Rn){if(Rn!=="default"){var Pn=Object.getOwnPropertyDescriptor(Xr,Rn);Object.defineProperty(cn,Rn,Pn.get?Pn:{enumerable:!0,get:function(){return Xr[Rn]}})}}),cn.default=Xr,Object.freeze(cn)}var nr,ar=rr(er),sr=rr(tr);St.AnnotationType=void 0,(nr=St.AnnotationType||(St.AnnotationType={}))[nr.Text=1]="Text",nr[nr.Link=2]="Link",nr[nr.FreeText=3]="FreeText",nr[nr.Line=4]="Line",nr[nr.Square=5]="Square",nr[nr.Circle=6]="Circle",nr[nr.Polygon=7]="Polygon",nr[nr.Polyline=8]="Polyline",nr[nr.Highlight=9]="Highlight",nr[nr.Underline=10]="Underline",nr[nr.Squiggly=11]="Squiggly",nr[nr.StrikeOut=12]="StrikeOut",nr[nr.Stamp=13]="Stamp",nr[nr.Caret=14]="Caret",nr[nr.Ink=15]="Ink",nr[nr.Popup=16]="Popup",nr[nr.FileAttachment=17]="FileAttachment";var ir=function(Xr,cn){return ir=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Rn,Pn){Rn.__proto__=Pn}||function(Rn,Pn){for(var On in Pn)Object.prototype.hasOwnProperty.call(Pn,On)&&(Rn[On]=Pn[On])},ir(Xr,cn)};function or(Xr,cn){if(typeof cn!="function"&&cn!==null)throw new TypeError("Class extends value "+String(cn)+" is not a constructor or null");function Rn(){this.constructor=Xr}ir(Xr,cn),Xr.prototype=cn===null?Object.create(cn):(Rn.prototype=cn.prototype,new Rn)}var lr,cr=function(){return cr=Object.assign||function(Xr){for(var cn,Rn=1,Pn=arguments.length;Rn<Pn;Rn++)for(var On in cn=arguments[Rn])Object.prototype.hasOwnProperty.call(cn,On)&&(Xr[On]=cn[On]);return Xr},cr.apply(this,arguments)};St.TextDirection=void 0,(lr=St.TextDirection||(St.TextDirection={})).RightToLeft="RTL",lr.LeftToRight="LTR";var ur,dr=ar.createContext({currentTheme:"light",direction:St.TextDirection.LeftToRight,setCurrentTheme:function(){}}),fr=function(Xr){var cn=[];return Object.keys(Xr).forEach(function(Rn){Rn&&Xr[Rn]&&cn.push(Rn)}),cn.join(" ")},mr=typeof window<"u"?ar.useLayoutEffect:ar.useEffect,xr=function(Xr){var cn=ar.useRef(null),Rn=Xr.once,Pn=Xr.threshold,On=Xr.onVisibilityChanged;return mr(function(){var In=cn.current;if(In){var Gn=new IntersectionObserver(function(Mn){Mn.forEach(function(Fn){var Wn=Fn.isIntersecting,Hn=Fn.intersectionRatio;On({isVisible:Wn,ratio:Hn}),Wn&&Rn&&(Gn.unobserve(In),Gn.disconnect())})},{threshold:Pn||0});return Gn.observe(In),function(){Gn.unobserve(In),Gn.disconnect()}}},[]),cn},pr=function(Xr){var cn=Xr.children,Rn=Xr.ignoreDirection,Pn=Rn!==void 0&&Rn,On=Xr.size,In=On===void 0?24:On,Gn=ar.useContext(dr).direction,Mn=!Pn&&Gn===St.TextDirection.RightToLeft,Fn="".concat(In||24,"px");return ar.createElement("svg",{"aria-hidden":"true",className:fr({"rpv-core__icon":!0,"rpv-core__icon--rtl":Mn}),focusable:"false",height:Fn,viewBox:"0 0 24 24",width:Fn},cn)},hr=function(){return ar.createElement(pr,{size:16},ar.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},gr=function(Xr){var cn=Xr.children,Rn=Xr.testId,Pn=Xr.onClick,On=ar.useContext(dr).direction===St.TextDirection.RightToLeft,In=Rn?{"data-testid":Rn}:{};return ar.createElement("button",cr({className:fr({"rpv-core__primary-button":!0,"rpv-core__primary-button--rtl":On}),type:"button",onClick:Pn},In),cn)},vr=function(Xr){var cn=Xr.size,Rn=cn===void 0?"4rem":cn,Pn=Xr.testId,On=ar.useState(!1),In=On[0],Gn=On[1],Mn=Pn?{"data-testid":Pn}:{},Fn=xr({onVisibilityChanged:function(Wn){Gn(Wn.isVisible)}});return ar.createElement("div",cr({},Mn,{className:fr({"rpv-core__spinner":!0,"rpv-core__spinner--animating":In}),ref:Fn,style:{height:Rn,width:Rn}}))},br=function(Xr){var cn=Xr.ariaLabel,Rn=cn===void 0?"":cn,Pn=Xr.autoFocus,On=Pn!==void 0&&Pn,In=Xr.placeholder,Gn=In===void 0?"":In,Mn=Xr.testId,Fn=Xr.type,Wn=Fn===void 0?"text":Fn,Hn=Xr.value,as=Hn===void 0?"":Hn,ss=Xr.onChange,ts=Xr.onKeyDown,ks=ts===void 0?function(){}:ts,ws=ar.useContext(dr).direction,us=ar.useRef(),eo=ws===St.TextDirection.RightToLeft,Hs={ref:us,"data-testid":"","aria-label":Rn,className:fr({"rpv-core__textbox":!0,"rpv-core__textbox--rtl":eo}),placeholder:Gn,value:as,onChange:function(Ms){return ss(Ms.target.value)},onKeyDown:ks};return Mn&&(Hs["data-testid"]=Mn),mr(function(){if(On){var Ms=us.current;if(Ms){var Us=window.scrollX,Ls=window.scrollY;Ms.focus(),window.scrollTo(Us,Ls)}}},[]),Wn==="text"?ar.createElement("input",cr({type:"text"},Hs)):ar.createElement("input",cr({type:"password"},Hs))};(function(Xr){Xr[Xr.ExitFullScreen=0]="ExitFullScreen",Xr[Xr.FullScreenChange=1]="FullScreenChange",Xr[Xr.FullScreenElement=2]="FullScreenElement",Xr[Xr.FullScreenEnabled=3]="FullScreenEnabled",Xr[Xr.RequestFullScreen=4]="RequestFullScreen"})(ur||(ur={}));var yr,Er={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},jr={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},_r={ExitFullScreen:"msExitFullscreen",FullScreenChange:"msFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},Cr=typeof window<"u",Or=Cr&&(ur.FullScreenEnabled in document&&Er||jr.FullScreenEnabled in document&&jr||_r.FullScreenEnabled in document&&_r)||Er,Pr=function(){return Cr&&Or.FullScreenEnabled in document&&document[Or.FullScreenEnabled]===!0},Lr=function(Xr){return Cr?Xr[Or.ExitFullScreen]():Promise.resolve({})},Gr=function(){return Cr?document[Or.FullScreenElement]:null},Kr=function(Xr,cn){var Rn=ar.useRef(),Pn=function(){Rn.current&&clearTimeout(Rn.current)};return ar.useEffect(function(){return function(){return Pn()}},[]),ar.useCallback(function(){for(var On=[],In=0;In<arguments.length;In++)On[In]=arguments[In];Pn(),Rn.current=setTimeout(function(){Xr.apply(void 0,On)},cn)},[Xr,cn])},nn=function(){var Xr=ar.useRef(!1);return ar.useEffect(function(){return Xr.current=!0,function(){Xr.current=!1}},[]),Xr},Qr=function(Xr){var cn=ar.useRef(Xr);return ar.useEffect(function(){cn.current=Xr},[Xr]),cn.current};(function(Xr){Xr.NotRenderedYet="NotRenderedYet",Xr.Rendering="Rendering",Xr.Rendered="Rendered"})(yr||(yr={}));var zr,Vr=-9999,Jr=function(Xr){var cn=Xr.doc,Rn=cn.numPages,Pn=cn.loadingTask.docId,On=ar.useMemo(function(){return Array(Rn).fill(null).map(function(Mn,Fn){return{pageIndex:Fn,renderStatus:yr.NotRenderedYet,visibility:Vr}})},[Pn]),In=ar.useRef({currentRenderingPage:-1,startRange:0,endRange:Rn-1,visibilities:On}),Gn=function(Mn,Fn){In.current.visibilities[Mn].visibility=Fn};return{getHighestPriorityPage:function(){var Mn=In.current.visibilities.slice(In.current.startRange,In.current.endRange+1).filter(function(ss){return ss.visibility>Vr});if(!Mn.length)return-1;for(var Fn=Mn[0].pageIndex,Wn=Mn[Mn.length-1].pageIndex,Hn=Mn.length,as=0;as<Hn;as++){if(Mn[as].renderStatus===yr.Rendering)return-1;if(Mn[as].renderStatus===yr.NotRenderedYet)return Mn[as].pageIndex}return Wn+1<Rn&&In.current.visibilities[Wn+1].renderStatus!==yr.Rendered?Wn+1:Fn-1>=0&&In.current.visibilities[Fn-1].renderStatus!==yr.Rendered?Fn-1:-1},isInRange:function(Mn){return Mn>=In.current.startRange&&Mn<=In.current.endRange},markNotRendered:function(){for(var Mn=0;Mn<Rn;Mn++)In.current.visibilities[Mn].renderStatus=yr.NotRenderedYet},markRendered:function(Mn){In.current.visibilities[Mn].renderStatus=yr.Rendered},markRendering:function(Mn){In.current.currentRenderingPage!==-1&&In.current.currentRenderingPage!==Mn&&In.current.visibilities[In.current.currentRenderingPage].renderStatus===yr.Rendering&&(In.current.visibilities[In.current.currentRenderingPage].renderStatus=yr.NotRenderedYet),In.current.visibilities[Mn].renderStatus=yr.Rendering,In.current.currentRenderingPage=Mn},setOutOfRange:function(Mn){Gn(Mn,Vr)},setRange:function(Mn,Fn){In.current.startRange=Mn,In.current.endRange=Fn;for(var Wn=0;Wn<Rn;Wn++)(Wn<Mn||Wn>Fn)&&(In.current.visibilities[Wn].visibility=Vr,In.current.visibilities[Wn].renderStatus=yr.NotRenderedYet)},setVisibility:Gn}},tn={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{tryAgain:"The password is wrong. Please try again"},pageLabel:"Page {{pageIndex}}"}},Yr=ar.createContext({l10n:tn,setL10n:function(){}}),Sr=0,Rr=function(){return Sr++},Tr=function(Xr,cn,Rn){var Pn=function(On){var In=cn.current;if(In){var Gn=On.target;if(Gn instanceof Element&&Gn.shadowRoot){var Mn=On.composedPath();Mn.length>0&&!In.contains(Mn[0])&&Rn()}else In.contains(Gn)||Rn()}};ar.useEffect(function(){if(Xr){var On={capture:!0};return document.addEventListener("click",Pn,On),function(){document.removeEventListener("click",Pn,On)}}},[])},Dr=function(Xr){var cn=function(Rn){Rn.key==="Escape"&&Xr()};ar.useEffect(function(){return document.addEventListener("keyup",cn),function(){document.removeEventListener("keyup",cn)}},[])},Mr=function(Xr){var cn=Xr.ariaControlsSuffix,Rn=Xr.children,Pn=Xr.closeOnClickOutside,On=Xr.closeOnEscape,In=Xr.onToggle,Gn=ar.useRef(),Mn=ar.useContext(dr).direction===St.TextDirection.RightToLeft;return ar.useEffect(function(){var Fn=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=Fn}},[]),Dr(function(){Gn.current&&On&&In()}),Tr(Pn,Gn,In),mr(function(){var Fn=Gn.current;if(Fn){var Wn=.75*document.body.clientHeight;Fn.getBoundingClientRect().height>=Wn&&(Fn.style.overflow="auto",Fn.style.maxHeight="".concat(Wn,"px"))}},[]),ar.createElement("div",{"aria-modal":"true",className:fr({"rpv-core__modal-body":!0,"rpv-core__modal-body--rtl":Mn}),id:"rpv-core__modal-body-".concat(cn),ref:Gn,role:"dialog",tabIndex:-1},Rn)},Br=function(Xr){var cn=Xr.children;return ar.createElement("div",{className:"rpv-core__modal-overlay"},cn)};St.ToggleStatus=void 0,(zr=St.ToggleStatus||(St.ToggleStatus={})).Close="Close",zr.Open="Open",zr.Toggle="Toggle";var qr,Wr=function(Xr){var cn=ar.useState(Xr),Rn=cn[0],Pn=cn[1];return{opened:Rn,toggle:function(On){switch(On){case St.ToggleStatus.Close:Pn(!1);break;case St.ToggleStatus.Open:Pn(!0);break;case St.ToggleStatus.Toggle:default:Pn(function(In){return!In})}}}},sn=function(Xr){var cn=Xr.content,Rn=Xr.isOpened,Pn=Rn!==void 0&&Rn,On=Xr.target,In=Wr(Pn),Gn=In.opened,Mn=In.toggle;return ar.createElement(ar.Fragment,null,On&&On(Mn,Gn),Gn&&cn(Mn))};St.Position=void 0,(qr=St.Position||(St.Position={})).TopLeft="TOP_LEFT",qr.TopCenter="TOP_CENTER",qr.TopRight="TOP_RIGHT",qr.RightTop="RIGHT_TOP",qr.RightCenter="RIGHT_CENTER",qr.RightBottom="RIGHT_BOTTOM",qr.BottomLeft="BOTTOM_LEFT",qr.BottomCenter="BOTTOM_CENTER",qr.BottomRight="BOTTOM_RIGHT",qr.LeftTop="LEFT_TOP",qr.LeftCenter="LEFT_CENTER",qr.LeftBottom="LEFT_BOTTOM";var un,Nr,Ur,en,Zr,Ir,on,vn,yn=function(Xr,cn,Rn,Pn,On){mr(function(){var In=cn.current,Gn=Xr.current,Mn=Rn.current;if(Gn&&In&&Mn){var Fn=Mn.getBoundingClientRect(),Wn=function(ss,ts,ks,ws){var us=ts.getBoundingClientRect(),eo=ss.getBoundingClientRect(),Hs=eo.height,Ms=eo.width,Us=0,Ls=0;switch(ks){case St.Position.TopLeft:Us=us.top-Hs,Ls=us.left;break;case St.Position.TopCenter:Us=us.top-Hs,Ls=us.left+us.width/2-Ms/2;break;case St.Position.TopRight:Us=us.top-Hs,Ls=us.left+us.width-Ms;break;case St.Position.RightTop:Us=us.top,Ls=us.left+us.width;break;case St.Position.RightCenter:Us=us.top+us.height/2-Hs/2,Ls=us.left+us.width;break;case St.Position.RightBottom:Us=us.top+us.height-Hs,Ls=us.left+us.width;break;case St.Position.BottomLeft:Us=us.top+us.height,Ls=us.left;break;case St.Position.BottomCenter:Us=us.top+us.height,Ls=us.left+us.width/2-Ms/2;break;case St.Position.BottomRight:Us=us.top+us.height,Ls=us.left+us.width-Ms;break;case St.Position.LeftTop:Us=us.top,Ls=us.left-Ms;break;case St.Position.LeftCenter:Us=us.top+us.height/2-Hs/2,Ls=us.left-Ms;break;case St.Position.LeftBottom:Us=us.top+us.height-Hs,Ls=us.left-Ms}return{left:Ls+(ws.left||0),top:Us+(ws.top||0)}}(Gn,In,Pn,On),Hn=Wn.top,as=Wn.left;Gn.style.top="".concat(Hn-Fn.top,"px"),Gn.style.left="".concat(as-Fn.left,"px")}},[])},Dn=function(Xr){var cn,Rn=Xr.customClassName,Pn=Xr.position;return ar.createElement("div",{className:fr((cn={"rpv-core__arrow":!0,"rpv-core__arrow--tl":Pn===St.Position.TopLeft,"rpv-core__arrow--tc":Pn===St.Position.TopCenter,"rpv-core__arrow--tr":Pn===St.Position.TopRight,"rpv-core__arrow--rt":Pn===St.Position.RightTop,"rpv-core__arrow--rc":Pn===St.Position.RightCenter,"rpv-core__arrow--rb":Pn===St.Position.RightBottom,"rpv-core__arrow--bl":Pn===St.Position.BottomLeft,"rpv-core__arrow--bc":Pn===St.Position.BottomCenter,"rpv-core__arrow--br":Pn===St.Position.BottomRight,"rpv-core__arrow--lt":Pn===St.Position.LeftTop,"rpv-core__arrow--lc":Pn===St.Position.LeftCenter,"rpv-core__arrow--lb":Pn===St.Position.LeftBottom},cn["".concat(Rn)]=Rn!=="",cn))})},pn=function(Xr){var cn=Xr.ariaControlsSuffix,Rn=Xr.children,Pn=Xr.closeOnClickOutside,On=Xr.offset,In=Xr.position,Gn=Xr.targetRef,Mn=Xr.onClose,Fn=ar.useRef(),Wn=ar.useRef(),Hn=ar.useRef(),as=ar.useContext(dr).direction===St.TextDirection.RightToLeft;Tr(Pn,Fn,Mn),yn(Fn,Gn,Hn,In,On),mr(function(){var ts=Wn.current;if(ts){var ks=.75*document.body.clientHeight;ts.getBoundingClientRect().height>=ks&&(ts.style.overflow="auto",ts.style.maxHeight="".concat(ks,"px"))}},[]);var ss="rpv-core__popover-body-inner-".concat(cn);return ar.createElement(ar.Fragment,null,ar.createElement("div",{ref:Hn,style:{left:0,position:"absolute",top:0}}),ar.createElement("div",{"aria-describedby":ss,className:fr({"rpv-core__popover-body":!0,"rpv-core__popover-body--rtl":as}),id:"rpv-core__popover-body-".concat(cn),ref:Fn,role:"dialog",tabIndex:-1},ar.createElement(Dn,{customClassName:"rpv-core__popover-body-arrow",position:In}),ar.createElement("div",{id:ss,ref:Wn},Rn)))},Sn=function(Xr){var cn=Xr.closeOnEscape,Rn=Xr.onClose,Pn=ar.useRef();return Dr(function(){Pn.current&&cn&&Rn()}),ar.createElement("div",{className:"rpv-core__popover-overlay",ref:Pn})},wn=function(Xr){var cn=Xr.ariaControlsSuffix,Rn=Xr.children,Pn=Xr.contentRef,On=Xr.offset,In=Xr.position,Gn=Xr.targetRef,Mn=ar.useRef(),Fn=ar.useContext(dr).direction===St.TextDirection.RightToLeft;return yn(Pn,Gn,Mn,In,On),ar.createElement(ar.Fragment,null,ar.createElement("div",{ref:Mn,style:{left:0,position:"absolute",top:0}}),ar.createElement("div",{className:fr({"rpv-core__tooltip-body":!0,"rpv-core__tooltip-body--rtl":Fn}),id:"rpv-core__tooltip-body-".concat(cn),ref:Pn,role:"tooltip"},ar.createElement(Dn,{customClassName:"rpv-core__tooltip-body-arrow",position:In}),ar.createElement("div",{className:"rpv-core__tooltip-body-content"},Rn)))};St.FullScreenMode=void 0,(un=St.FullScreenMode||(St.FullScreenMode={})).Normal="Normal",un.Entering="Entering",un.Entered="Entered",un.EnteredCompletely="EnteredCompletely",un.Exitting="Exitting",un.Exited="Exited",St.LayerRenderStatus=void 0,(Nr=St.LayerRenderStatus||(St.LayerRenderStatus={}))[Nr.PreRender=0]="PreRender",Nr[Nr.DidRender=1]="DidRender",St.PageMode=void 0,(Ur=St.PageMode||(St.PageMode={})).Attachments="UseAttachments",Ur.Bookmarks="UseOutlines",Ur.ContentGroup="UseOC",Ur.Default="UserNone",Ur.FullScreen="FullScreen",Ur.Thumbnails="UseThumbs",St.PasswordStatus=void 0,(en=St.PasswordStatus||(St.PasswordStatus={})).RequiredPassword="RequiredPassword",en.WrongPassword="WrongPassword",St.RotateDirection=void 0,(Zr=St.RotateDirection||(St.RotateDirection={})).Backward="Backward",Zr.Forward="Forward",St.ScrollMode=void 0,(Ir=St.ScrollMode||(St.ScrollMode={})).Page="Page",Ir.Horizontal="Horizontal",Ir.Vertical="Vertical",Ir.Wrapped="Wrapped",St.SpecialZoomLevel=void 0,(on=St.SpecialZoomLevel||(St.SpecialZoomLevel={})).ActualSize="ActualSize",on.PageFit="PageFit",on.PageWidth="PageWidth",St.ViewMode=void 0,(vn=St.ViewMode||(St.ViewMode={})).DualPage="DualPage",vn.DualPageWithCover="DualPageWithCover",vn.SinglePage="SinglePage";var Vn,Yn=function(Xr,cn){return Xr.reduce(function(Rn,Pn,On){return On%cn?Rn[Rn.length-1].push(Pn):Rn.push([Pn]),Rn},[])},ns=function(Xr,cn){switch(cn[1].name){case"XYZ":return{bottomOffset:function(Rn,Pn){return cn[3]===null?Pn:cn[3]},leftOffset:function(Rn,Pn){return cn[2]===null?0:cn[2]},pageIndex:Xr,scaleTo:cn[4]};case"Fit":case"FitB":return{bottomOffset:0,leftOffset:0,pageIndex:Xr,scaleTo:St.SpecialZoomLevel.PageFit};case"FitH":case"FitBH":return{bottomOffset:cn[2],leftOffset:0,pageIndex:Xr,scaleTo:St.SpecialZoomLevel.PageWidth};default:return{bottomOffset:0,leftOffset:0,pageIndex:Xr,scaleTo:1}}},ls=new Map,vs=new Map,Ss=function(Xr,cn){return"".concat(Xr.loadingTask.docId,"___").concat(cn.num,"R").concat(cn.gen===0?"":cn.gen)},ps=function(Xr,cn,Rn){ls.set(Ss(Xr,cn),Rn)},os=function(Xr,cn){if(!Xr)return Promise.reject("The document is not loaded yet");var Rn="".concat(Xr.loadingTask.docId,"___").concat(cn),Pn=vs.get(Rn);return Pn?Promise.resolve(Pn):new Promise(function(On,In){Xr.getPage(cn+1).then(function(Gn){vs.set(Rn,Gn),Gn.ref&&ps(Xr,Gn.ref,cn),On(Gn)})})},zs=function(Xr,cn){return new Promise(function(Rn){new Promise(function(Pn){typeof cn=="string"?Xr.getDestination(cn).then(function(On){Pn(On)}):Pn(cn)}).then(function(Pn){if(typeof Pn[0]=="object"&&Pn[0]!==null){var On=Pn[0],In=function(Mn,Fn){var Wn=Ss(Mn,Fn);return ls.has(Wn)?ls.get(Wn):null}(Xr,On);In===null?Xr.getPageIndex(On).then(function(Mn){ps(Xr,On,Mn),zs(Xr,cn).then(function(Fn){return Rn(Fn)})}):Rn(ns(In,Pn))}else{var Gn=ns(Pn[0],Pn);Rn(Gn)}})})};(function(Xr){Xr[Xr.Solid=1]="Solid",Xr[Xr.Dashed=2]="Dashed",Xr[Xr.Beveled=3]="Beveled",Xr[Xr.Inset=4]="Inset",Xr[Xr.Underline=5]="Underline"})(Vn||(Vn={}));var Bn,_n=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),Ln=function(Xr,cn,Rn,Pn){var On=parseInt(Xr,10);return On>=cn&&On<=Rn?On:Pn},cs=function(Xr){return Xr.contentsObj?Xr.contentsObj.str:Xr.contents||""},Ts=function(Xr){return Xr.titleObj?Xr.titleObj.str:Xr.title||""},Vs=function(Xr){var cn=Xr.annotation,Rn=ar.useContext(dr).direction,Pn=Ts(cn),On=cs(cn),In=Rn===St.TextDirection.RightToLeft,Gn=ar.useRef(),Mn="";if(cn.modificationDate){var Fn=function(Wn){var Hn=_n.exec(Wn);if(!Hn)return null;var as=parseInt(Hn[1],10),ss=Ln(Hn[2],1,12,1)-1,ts=Ln(Hn[3],1,31,1),ks=Ln(Hn[4],0,23,0),ws=Ln(Hn[5],0,59,0),us=Ln(Hn[6],0,59,0),eo=Hn[7]||"Z",Hs=Ln(Hn[8],0,23,0),Ms=Ln(Hn[9],0,59,0);switch(eo){case"-":ks+=Hs,ws+=Ms;break;case"+":ks-=Hs,ws-=Ms}return new Date(Date.UTC(as,ss,ts,ks,ws,us))}(cn.modificationDate);Mn=Fn?"".concat(Fn.toLocaleDateString(),", ").concat(Fn.toLocaleTimeString()):""}return ar.useLayoutEffect(function(){if(Gn.current){var Wn=document.querySelector('[data-annotation-id="'.concat(cn.id,'"]'));if(Wn){var Hn=Wn;return Hn.style.zIndex+=1,function(){Hn.style.zIndex="".concat(parseInt(Hn.style.zIndex,10)-1)}}}},[]),ar.createElement("div",{ref:Gn,className:fr({"rpv-core__annotation-popup-wrapper":!0,"rpv-core__annotation-popup-wrapper--rtl":In}),style:{top:cn.annotationType===St.AnnotationType.Popup?"":"100%"}},Pn&&ar.createElement(ar.Fragment,null,ar.createElement("div",{className:fr({"rpv-core__annotation-popup-title":!0,"rpv-core__annotation-popup-title--ltr":!In,"rpv-core__annotation-popup-title--rtl":In})},Pn),ar.createElement("div",{className:"rpv-core__annotation-popup-date"},Mn)),On&&ar.createElement("div",{className:"rpv-core__annotation-popup-content"},On.split(`
`).map(function(Wn,Hn){return ar.createElement(ar.Fragment,{key:Hn},Wn,ar.createElement("br",null))})))};(function(Xr){Xr.Click="Click",Xr.Hover="Hover"})(Bn||(Bn={}));var $s,to=function(Xr){var cn,Rn=Xr.annotation,Pn=Xr.children,On=Xr.ignoreBorder,In=Xr.hasPopup,Gn=Xr.isRenderable,Mn=Xr.page,Fn=Xr.viewport,Wn=Rn.rect,Hn=function(){var Ys=Wr(!1),vo=Ys.opened,bo=Ys.toggle,wo=ar.useState(Bn.Hover),So=wo[0],ko=wo[1];return{opened:vo,closeOnHover:function(){So===Bn.Hover&&bo(St.ToggleStatus.Close)},openOnHover:function(){So===Bn.Hover&&bo(St.ToggleStatus.Open)},toggleOnClick:function(){switch(So){case Bn.Click:vo&&ko(Bn.Hover),bo(St.ToggleStatus.Toggle);break;case Bn.Hover:ko(Bn.Click),bo(St.ToggleStatus.Open)}}}}(),as=Hn.closeOnHover,ss=Hn.opened,ts=Hn.openOnHover,ks=Hn.toggleOnClick,ws=(cn=[Wn[0],Mn.view[3]+Mn.view[1]-Wn[1],Wn[2],Mn.view[3]+Mn.view[1]-Wn[3]],[Math.min(cn[0],cn[2]),Math.min(cn[1],cn[3]),Math.max(cn[0],cn[2]),Math.max(cn[1],cn[3])]),us=Wn[2]-Wn[0],eo=Wn[3]-Wn[1],Hs={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!On&&Rn.borderStyle.width>0){switch(Rn.borderStyle.style){case Vn.Dashed:Hs.borderStyle="dashed";break;case Vn.Solid:Hs.borderStyle="solid";break;case Vn.Underline:Hs=Object.assign({borderBottomStyle:"solid"},Hs);case Vn.Beveled:case Vn.Inset:}var Ms=Rn.borderStyle.width;Hs.borderWidth="".concat(Ms,"px"),Rn.borderStyle.style!==Vn.Underline&&(us-=2*Ms,eo-=2*Ms);var Us=Rn.borderStyle,Ls=Us.horizontalCornerRadius,Ks=Us.verticalCornerRadius;(Ls>0||Ks>0)&&(Hs.borderRadius="".concat(Ls,"px / ").concat(Ks,"px")),Rn.color?Hs.borderColor="rgb(".concat(0|Rn.color[0],", ").concat(0|Rn.color[1],", ").concat(0|Rn.color[2],")"):Hs.borderWidth="0"}return ar.createElement(ar.Fragment,null,Gn&&Pn({popup:{opened:ss,closeOnHover:as,openOnHover:ts,toggleOnClick:ks},slot:{attrs:{style:Object.assign({height:"".concat(eo,"px"),left:"".concat(ws[0],"px"),top:"".concat(ws[1],"px"),transform:"matrix(".concat(Fn.transform.join(","),")"),transformOrigin:"-".concat(ws[0],"px -").concat(ws[1],"px"),width:"".concat(us,"px")},Hs)},children:ar.createElement(ar.Fragment,null,In&&ss&&ar.createElement(Vs,{annotation:Rn}))}}))},xl=function(Xr){var cn=Xr.annotation,Rn=Xr.page,Pn=Xr.viewport,On=cn.hasPopup===!1,In=Ts(cn),Gn=cs(cn),Mn=!!(cn.hasPopup||In||Gn);return ar.createElement(to,{annotation:cn,hasPopup:On,ignoreBorder:!0,isRenderable:Mn,page:Rn,viewport:Pn},function(Fn){return ar.createElement("div",cr({},Fn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--caret","data-annotation-id":cn.id,onClick:Fn.popup.toggleOnClick,onMouseEnter:Fn.popup.openOnHover,onMouseLeave:Fn.popup.closeOnHover}),Fn.slot.children)})},Pl=function(Xr){var cn=Xr.annotation,Rn=Xr.page,Pn=Xr.viewport,On=cn.hasPopup===!1,In=Ts(cn),Gn=cs(cn),Mn=!!(cn.hasPopup||In||Gn),Fn=cn.rect,Wn=Fn[2]-Fn[0],Hn=Fn[3]-Fn[1],as=cn.borderStyle.width;return ar.createElement(to,{annotation:cn,hasPopup:On,ignoreBorder:!0,isRenderable:Mn,page:Rn,viewport:Pn},function(ss){return ar.createElement("div",cr({},ss.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--circle","data-annotation-id":cn.id,onClick:ss.popup.toggleOnClick,onMouseEnter:ss.popup.openOnHover,onMouseLeave:ss.popup.closeOnHover}),ar.createElement("svg",{height:"".concat(Hn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Wn," ").concat(Hn),width:"".concat(Wn,"px")},ar.createElement("circle",{cy:Hn/2,fill:"none",rx:Wn/2-as/2,ry:Hn/2-as/2,stroke:"transparent",strokeWidth:as||1})),ss.slot.children)})},go=function(Xr){var cn=Xr.annotation,Rn=Xr.page,Pn=Xr.viewport,On=Ts(cn),In=cs(cn),Gn=!(cn.hasPopup!==!1||!On&&!In),Mn=function(){var Fn,Wn,Hn,as,ss=cn.file;ss&&(Fn=ss.filename,Wn=ss.content,Hn=typeof Wn=="string"?"":URL.createObjectURL(new Blob([Wn],{type:""})),(as=document.createElement("a")).style.display="none",as.href=Hn||Fn,as.setAttribute("download",function(ts){var ks=ts.split("/").pop();return ks?ks.split("#")[0].split("?")[0]:ts}(Fn)),document.body.appendChild(as),as.click(),document.body.removeChild(as),Hn&&URL.revokeObjectURL(Hn))};return ar.createElement(to,{annotation:cn,hasPopup:Gn,ignoreBorder:!0,isRenderable:!0,page:Rn,viewport:Pn},function(Fn){return ar.createElement("div",cr({},Fn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--file-attachment","data-annotation-id":cn.id,onClick:Fn.popup.toggleOnClick,onDoubleClick:Mn,onMouseEnter:Fn.popup.openOnHover,onMouseLeave:Fn.popup.closeOnHover}),Fn.slot.children)})},oo=function(Xr){var cn=Xr.annotation,Rn=Xr.page,Pn=Xr.viewport,On=cn.hasPopup===!1,In=Ts(cn),Gn=cs(cn),Mn=!!(cn.hasPopup||In||Gn);return ar.createElement(to,{annotation:cn,hasPopup:On,ignoreBorder:!0,isRenderable:Mn,page:Rn,viewport:Pn},function(Fn){return ar.createElement("div",cr({},Fn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--free-text","data-annotation-id":cn.id,onClick:Fn.popup.toggleOnClick,onMouseEnter:Fn.popup.openOnHover,onMouseLeave:Fn.popup.closeOnHover}),Fn.slot.children)})},xo=function(Xr){var cn=Xr.annotation,Rn=Xr.page,Pn=Xr.viewport,On=Ts(cn),In=cs(cn),Gn=!(!On&&!In),Mn=!cn.parentType||["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(cn.parentType)!==-1;return mr(function(){if(cn.parentId){var Fn=document.querySelector('[data-annotation-id="'.concat(cn.parentId,'"]')),Wn=document.querySelector('[data-annotation-id="'.concat(cn.id,'"]'));if(Fn&&Wn){var Hn=parseFloat(Fn.style.left),as=parseFloat(Fn.style.top)+parseFloat(Fn.style.height);Wn.style.left="".concat(Hn,"px"),Wn.style.top="".concat(as,"px"),Wn.style.transformOrigin="-".concat(Hn,"px -").concat(as,"px")}}},[]),ar.createElement(to,{annotation:cn,hasPopup:Mn,ignoreBorder:!1,isRenderable:Gn,page:Rn,viewport:Pn},function(Fn){return ar.createElement("div",cr({},Fn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--popup","data-annotation-id":cn.id}),ar.createElement(Vs,{annotation:cn}))})},Gl=function(Xr){var cn=Xr.annotation,Rn=Xr.childAnnotation,Pn=Xr.page,On=Xr.viewport,In=cn.hasPopup===!1,Gn=Ts(cn),Mn=cs(cn),Fn=!!(cn.hasPopup||Gn||Mn);if(cn.quadPoints&&cn.quadPoints.length>0){var Wn=cn.quadPoints.map(function(Hn){return Object.assign({},cn,{rect:[Hn[2].x,Hn[2].y,Hn[1].x,Hn[1].y],quadPoints:[]})});return ar.createElement(ar.Fragment,null,Wn.map(function(Hn,as){return ar.createElement(Gl,{key:as,annotation:Hn,childAnnotation:Rn,page:Pn,viewport:On})}))}return ar.createElement(to,{annotation:cn,hasPopup:In,ignoreBorder:!0,isRenderable:Fn,page:Pn,viewport:On},function(Hn){return ar.createElement(ar.Fragment,null,ar.createElement("div",cr({},Hn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--highlight","data-annotation-id":cn.id,onClick:Hn.popup.toggleOnClick,onMouseEnter:Hn.popup.openOnHover,onMouseLeave:Hn.popup.closeOnHover}),Hn.slot.children),Rn&&Rn.annotationType===St.AnnotationType.Popup&&Hn.popup.opened&&ar.createElement(xo,{annotation:Rn,page:Pn,viewport:On}))})},Eo=function(Xr){var cn=Xr.annotation,Rn=Xr.page,Pn=Xr.viewport,On=cn.hasPopup===!1,In=Ts(cn),Gn=cs(cn),Mn=!!(cn.hasPopup||In||Gn),Fn=cn.rect,Wn=Fn[2]-Fn[0],Hn=Fn[3]-Fn[1],as=cn.borderStyle.width;return ar.createElement(to,{annotation:cn,hasPopup:On,ignoreBorder:!0,isRenderable:Mn,page:Rn,viewport:Pn},function(ss){return ar.createElement("div",cr({},ss.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--ink","data-annotation-id":cn.id,onClick:ss.popup.toggleOnClick,onMouseEnter:ss.popup.openOnHover,onMouseLeave:ss.popup.closeOnHover}),cn.inkLists&&cn.inkLists.length&&ar.createElement("svg",{height:"".concat(Hn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Wn," ").concat(Hn),width:"".concat(Wn,"px")},cn.inkLists.map(function(ts,ks){return ar.createElement("polyline",{key:ks,fill:"none",stroke:"transparent",strokeWidth:as||1,points:ts.map(function(ws){return"".concat(ws.x-Fn[0],",").concat(Fn[3]-ws.y)}).join(" ")})})),ss.slot.children)})},$l=function(Xr){var cn=Xr.annotation,Rn=Xr.page,Pn=Xr.viewport,On=cn.hasPopup===!1,In=Ts(cn),Gn=cs(cn),Mn=!!(cn.hasPopup||In||Gn),Fn=cn.rect,Wn=Fn[2]-Fn[0],Hn=Fn[3]-Fn[1],as=cn.borderStyle.width;return ar.createElement(to,{annotation:cn,hasPopup:On,ignoreBorder:!0,isRenderable:Mn,page:Rn,viewport:Pn},function(ss){return ar.createElement("div",cr({},ss.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--line","data-annotation-id":cn.id,onClick:ss.popup.toggleOnClick,onMouseEnter:ss.popup.openOnHover,onMouseLeave:ss.popup.closeOnHover}),ar.createElement("svg",{height:"".concat(Hn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Wn," ").concat(Hn),width:"".concat(Wn,"px")},ar.createElement("line",{stroke:"transparent",strokeWidth:as||1,x1:Fn[2]-cn.lineCoordinates[0],x2:Fn[2]-cn.lineCoordinates[2],y1:Fn[3]-cn.lineCoordinates[1],y2:Fn[3]-cn.lineCoordinates[3]})),ss.slot.children)})},Il=/^([^\w]*)(javascript|data|vbscript)/im,Qs=/&#(\w+)(^\w|;)?/g,Ml=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,Al=/^([^:]+):/gm,Oo=function(Xr,cn){var Rn,Pn=(Rn=Xr||"",Rn.replace(Qs,function(Mn,Fn){return String.fromCharCode(Fn)})).replace(Ml,"").trim();if(!Pn)return cn;var On=Pn[0];if(On==="."||On==="/")return Pn;var In=Pn.match(Al);if(!In)return Pn;var Gn=In[0];return Il.test(Gn)?cn:Pn},zo=function(Xr){var cn,Rn=Xr.annotation,Pn=Xr.annotationContainerRef,On=Xr.doc,In=Xr.outlines,Gn=Xr.page,Mn=Xr.pageIndex,Fn=Xr.scale,Wn=Xr.viewport,Hn=Xr.onExecuteNamedAction,as=Xr.onJumpFromLinkAnnotation,ss=Xr.onJumpToDest,ts=ar.useRef(),ks=In&&In.length&&Rn.dest&&typeof Rn.dest=="string"?(cn=In.find(function(Hs){return Hs.dest===Rn.dest}))===null||cn===void 0?void 0:cn.title:"",ws=!!(Rn.url||Rn.dest||Rn.action||Rn.unsafeUrl),us={};if(Rn.url||Rn.unsafeUrl){var eo=Oo(Rn.url||Rn.unsafeUrl,"");eo?us={"data-target":"external",href:eo,rel:"noopener noreferrer nofollow",target:Rn.newWindow?"_blank":"",title:eo}:ws=!1}else us={href:"","data-annotation-link":Rn.id,onClick:function(Hs){Hs.preventDefault(),Rn.action?Hn(Rn.action):zs(On,Rn.dest).then(function(Ms){var Us=ts.current,Ls=Pn.current;if(Us&&Ls){var Ks=Us.getBoundingClientRect();Ls.style.setProperty("height","100%"),Ls.style.setProperty("width","100%");var Ys=Ls.getBoundingClientRect();Ls.style.removeProperty("height"),Ls.style.removeProperty("width");var vo=(Ks.left-Ys.left)/Fn,bo=(Ys.bottom-Ks.bottom+Ks.height)/Fn;as({bottomOffset:bo,label:ks,leftOffset:vo,pageIndex:Mn})}ss(Ms)})}};return ks&&(us=Object.assign({},us,{title:ks,"aria-label":ks})),ar.createElement(to,{annotation:Rn,hasPopup:!1,ignoreBorder:!1,isRenderable:ws,page:Gn,viewport:Wn},function(Hs){return ar.createElement("div",cr({},Hs.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--link","data-annotation-id":Rn.id,"data-testid":"core__annotation--link-".concat(Rn.id)}),ar.createElement("a",cr({ref:ts},us)))})},Xo=function(Xr){var cn=Xr.annotation,Rn=Xr.page,Pn=Xr.viewport,On=cn.hasPopup===!1,In=Ts(cn),Gn=cs(cn),Mn=!!(cn.hasPopup||In||Gn),Fn=cn.rect,Wn=Fn[2]-Fn[0],Hn=Fn[3]-Fn[1],as=cn.borderStyle.width;return ar.createElement(to,{annotation:cn,hasPopup:On,ignoreBorder:!0,isRenderable:Mn,page:Rn,viewport:Pn},function(ss){return ar.createElement("div",cr({},ss.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polygon","data-annotation-id":cn.id,onClick:ss.popup.toggleOnClick,onMouseEnter:ss.popup.openOnHover,onMouseLeave:ss.popup.closeOnHover}),cn.vertices&&cn.vertices.length&&ar.createElement("svg",{height:"".concat(Hn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Wn," ").concat(Hn),width:"".concat(Wn,"px")},ar.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:as||1,points:cn.vertices.map(function(ts){return"".concat(ts.x-Fn[0],",").concat(Fn[3]-ts.y)}).join(" ")})),ss.slot.children)})},fn=function(Xr){var cn=Xr.annotation,Rn=Xr.page,Pn=Xr.viewport,On=cn.hasPopup===!1,In=Ts(cn),Gn=cs(cn),Mn=!!(cn.hasPopup||In||Gn),Fn=cn.rect,Wn=Fn[2]-Fn[0],Hn=Fn[3]-Fn[1],as=cn.borderStyle.width;return ar.createElement(to,{annotation:cn,hasPopup:On,ignoreBorder:!0,isRenderable:Mn,page:Rn,viewport:Pn},function(ss){return ar.createElement("div",cr({},ss.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polyline","data-annotation-id":cn.id,onClick:ss.popup.toggleOnClick,onMouseEnter:ss.popup.openOnHover,onMouseLeave:ss.popup.closeOnHover}),cn.vertices&&cn.vertices.length&&ar.createElement("svg",{height:"".concat(Hn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Wn," ").concat(Hn),width:"".concat(Wn,"px")},ar.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:as||1,points:cn.vertices.map(function(ts){return"".concat(ts.x-Fn[0],",").concat(Fn[3]-ts.y)}).join(" ")})),ss.slot.children)})},An=function(Xr){var cn=Xr.annotation,Rn=Xr.page,Pn=Xr.viewport,On=cn.hasPopup===!1,In=Ts(cn),Gn=cs(cn),Mn=!!(cn.hasPopup||In||Gn),Fn=cn.rect,Wn=Fn[2]-Fn[0],Hn=Fn[3]-Fn[1],as=cn.borderStyle.width;return ar.createElement(to,{annotation:cn,hasPopup:On,ignoreBorder:!0,isRenderable:Mn,page:Rn,viewport:Pn},function(ss){return ar.createElement("div",cr({},ss.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--square","data-annotation-id":cn.id,onClick:ss.popup.toggleOnClick,onMouseEnter:ss.popup.openOnHover,onMouseLeave:ss.popup.closeOnHover}),ar.createElement("svg",{height:"".concat(Hn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Wn," ").concat(Hn),width:"".concat(Wn,"px")},ar.createElement("rect",{height:Hn-as,fill:"none",stroke:"transparent",strokeWidth:as||1,x:as/2,y:as/2,width:Wn-as})),ss.slot.children)})},bn=function(Xr){var cn=Xr.annotation,Rn=Xr.page,Pn=Xr.viewport,On=cn.hasPopup===!1,In=Ts(cn),Gn=cs(cn),Mn=!!(cn.hasPopup||In||Gn);return ar.createElement(to,{annotation:cn,hasPopup:On,ignoreBorder:!0,isRenderable:Mn,page:Rn,viewport:Pn},function(Fn){return ar.createElement("div",cr({},Fn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--squiggly","data-annotation-id":cn.id,onClick:Fn.popup.toggleOnClick,onMouseEnter:Fn.popup.openOnHover,onMouseLeave:Fn.popup.closeOnHover}),Fn.slot.children)})},En=function(Xr){var cn=Xr.annotation,Rn=Xr.page,Pn=Xr.viewport,On=cn.hasPopup===!1,In=Ts(cn),Gn=cs(cn),Mn=!!(cn.hasPopup||In||Gn);return ar.createElement(to,{annotation:cn,hasPopup:On,ignoreBorder:!0,isRenderable:Mn,page:Rn,viewport:Pn},function(Fn){return ar.createElement("div",cr({},Fn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--stamp","data-annotation-id":cn.id,onClick:Fn.popup.toggleOnClick,onMouseEnter:Fn.popup.openOnHover,onMouseLeave:Fn.popup.closeOnHover}),Fn.slot.children)})},kn=function(Xr){var cn=Xr.annotation,Rn=Xr.page,Pn=Xr.viewport,On=cn.hasPopup===!1,In=Ts(cn),Gn=cs(cn),Mn=!!(cn.hasPopup||In||Gn);return ar.createElement(to,{annotation:cn,hasPopup:On,ignoreBorder:!0,isRenderable:Mn,page:Rn,viewport:Pn},function(Fn){return ar.createElement("div",cr({},Fn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--strike-out","data-annotation-id":cn.id,onClick:Fn.popup.toggleOnClick,onMouseEnter:Fn.popup.openOnHover,onMouseLeave:Fn.popup.closeOnHover}),Fn.slot.children)})},Nn=function(){return ar.createElement(pr,{size:16},ar.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),ar.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),ar.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),ar.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},Qn=function(){return ar.createElement(pr,{size:16},ar.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),ar.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),ar.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),ar.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),ar.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),ar.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),ar.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),ar.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),ar.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),ar.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},es=function(){return ar.createElement(pr,{size:16},ar.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),ar.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},Zn=function(){return ar.createElement(pr,{size:16},ar.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),ar.createElement("path",{d:"M6 4.5L6 0.5"}),ar.createElement("path",{d:"M18 4.5L18 0.5"}),ar.createElement("path",{d:"M10 4.5L10 0.5"}),ar.createElement("path",{d:"M14 4.5L14 0.5"}))},ga=function(){return ar.createElement(pr,{size:16},ar.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),ar.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),ar.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},ba=function(){return ar.createElement(pr,{size:16},ar.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},_s=function(Xr){var cn=Xr.annotation,Rn=Xr.childAnnotation,Pn=Xr.page,On=Xr.viewport,In=cn.hasPopup===!1,Gn=Ts(cn),Mn=cs(cn),Fn=!!(cn.hasPopup||Gn||Mn),Wn=cn.name?cn.name.toLowerCase():"";return ar.createElement(to,{annotation:cn,hasPopup:In,ignoreBorder:!1,isRenderable:Fn,page:Pn,viewport:On},function(Hn){return ar.createElement(ar.Fragment,null,ar.createElement("div",cr({},Hn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--text","data-annotation-id":cn.id,onClick:Hn.popup.toggleOnClick,onMouseEnter:Hn.popup.openOnHover,onMouseLeave:Hn.popup.closeOnHover}),Wn&&ar.createElement("div",{className:"rpv-core__annotation-text-icon"},Wn==="check"&&ar.createElement(hr,null),Wn==="comment"&&ar.createElement(Nn,null),Wn==="help"&&ar.createElement(Qn,null),Wn==="insert"&&ar.createElement(ba,null),Wn==="key"&&ar.createElement(es,null),Wn==="note"&&ar.createElement(Zn,null),(Wn==="newparagraph"||Wn==="paragraph")&&ar.createElement(ga,null)),Hn.slot.children),Rn&&Rn.annotationType===St.AnnotationType.Popup&&Hn.popup.opened&&ar.createElement(xo,{annotation:Rn,page:Pn,viewport:On}))})},Cs=function(Xr){var cn=Xr.annotation,Rn=Xr.page,Pn=Xr.viewport,On=cn.hasPopup===!1,In=Ts(cn),Gn=cs(cn),Mn=!!(cn.hasPopup||In||Gn);return ar.createElement(to,{annotation:cn,hasPopup:On,ignoreBorder:!0,isRenderable:Mn,page:Rn,viewport:Pn},function(Fn){return ar.createElement("div",cr({},Fn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--underline","data-annotation-id":cn.id,onClick:Fn.popup.toggleOnClick,onMouseEnter:Fn.popup.openOnHover,onMouseLeave:Fn.popup.closeOnHover}),Fn.slot.children)})},Ds=function(Xr){var cn=Xr.annotations,Rn=Xr.doc,Pn=Xr.outlines,On=Xr.page,In=Xr.pageIndex,Gn=Xr.plugins,Mn=Xr.rotation,Fn=Xr.scale,Wn=Xr.onExecuteNamedAction,Hn=Xr.onJumpFromLinkAnnotation,as=Xr.onJumpToDest,ss=ar.useRef(),ts=On.getViewport({rotation:Mn,scale:Fn}).clone({dontFlip:!0}),ks=cn.filter(function(ws){return!ws.parentId});return mr(function(){var ws=ss.current;ws&&Gn.forEach(function(us){us.onAnnotationLayerRender&&us.onAnnotationLayerRender({annotations:ks,container:ws,pageIndex:In,rotation:Mn,scale:Fn})})},[]),ar.createElement("div",{ref:ss,className:"rpv-core__annotation-layer","data-testid":"core__annotation-layer-".concat(In)},ks.map(function(ws){var us=cn.find(function(eo){return eo.parentId===ws.id});switch(ws.annotationType){case St.AnnotationType.Caret:return ar.createElement(xl,{key:ws.id,annotation:ws,page:On,viewport:ts});case St.AnnotationType.Circle:return ar.createElement(Pl,{key:ws.id,annotation:ws,page:On,viewport:ts});case St.AnnotationType.FileAttachment:return ar.createElement(go,{key:ws.id,annotation:ws,page:On,viewport:ts});case St.AnnotationType.FreeText:return ar.createElement(oo,{key:ws.id,annotation:ws,page:On,viewport:ts});case St.AnnotationType.Highlight:return ar.createElement(Gl,{key:ws.id,annotation:ws,childAnnotation:us,page:On,viewport:ts});case St.AnnotationType.Ink:return ar.createElement(Eo,{key:ws.id,annotation:ws,page:On,viewport:ts});case St.AnnotationType.Line:return ar.createElement($l,{key:ws.id,annotation:ws,page:On,viewport:ts});case St.AnnotationType.Link:return ar.createElement(zo,{key:ws.id,annotation:ws,annotationContainerRef:ss,doc:Rn,outlines:Pn,page:On,pageIndex:In,scale:Fn,viewport:ts,onExecuteNamedAction:Wn,onJumpFromLinkAnnotation:Hn,onJumpToDest:as});case St.AnnotationType.Polygon:return ar.createElement(Xo,{key:ws.id,annotation:ws,page:On,viewport:ts});case St.AnnotationType.Polyline:return ar.createElement(fn,{key:ws.id,annotation:ws,page:On,viewport:ts});case St.AnnotationType.Popup:return ar.createElement(xo,{key:ws.id,annotation:ws,page:On,viewport:ts});case St.AnnotationType.Square:return ar.createElement(An,{key:ws.id,annotation:ws,page:On,viewport:ts});case St.AnnotationType.Squiggly:return ar.createElement(bn,{key:ws.id,annotation:ws,page:On,viewport:ts});case St.AnnotationType.Stamp:return ar.createElement(En,{key:ws.id,annotation:ws,page:On,viewport:ts});case St.AnnotationType.StrikeOut:return ar.createElement(kn,{key:ws.id,annotation:ws,page:On,viewport:ts});case St.AnnotationType.Text:return ar.createElement(_s,{key:ws.id,annotation:ws,childAnnotation:us,page:On,viewport:ts});case St.AnnotationType.Underline:return ar.createElement(Cs,{key:ws.id,annotation:ws,page:On,viewport:ts});default:return ar.createElement(ar.Fragment,{key:ws.id})}}))},Rs=function(Xr){var cn=Xr.page,Rn=Xr.renderAnnotations,Pn=nn(),On=ar.useState({loading:!0,annotations:[]}),In=On[0],Gn=On[1];return ar.useEffect(function(){cn.getAnnotations({intent:"display"}).then(function(Mn){Pn.current&&Gn({loading:!1,annotations:Mn})})},[]),In.loading?ar.createElement(ar.Fragment,null):Rn(In.annotations)},Fs=function(Xr){var cn=Xr.doc,Rn=Xr.outlines,Pn=Xr.page,On=Xr.pageIndex,In=Xr.plugins,Gn=Xr.rotation,Mn=Xr.scale,Fn=Xr.onExecuteNamedAction,Wn=Xr.onJumpFromLinkAnnotation,Hn=Xr.onJumpToDest;return ar.createElement(Rs,{page:Pn,renderAnnotations:function(as){return ar.createElement(Ds,{annotations:as,doc:cn,outlines:Rn,page:Pn,pageIndex:On,plugins:In,rotation:Gn,scale:Mn,onExecuteNamedAction:Fn,onJumpFromLinkAnnotation:Wn,onJumpToDest:Hn})}})},uo=function(Xr,cn){var Rn=Xr%cn;return Rn===0?Xr:Math.floor(Xr-Rn)},$o=function(Xr){var cn=Xr.canvasLayerRef,Rn=Xr.height,Pn=Xr.page,On=Xr.pageIndex,In=Xr.plugins,Gn=Xr.rotation,Mn=Xr.scale,Fn=Xr.width,Wn=Xr.onRenderCanvasCompleted,Hn=ar.useRef();return mr(function(){var as=Hn.current;as&&as.cancel();var ss=cn.current;ss.removeAttribute("data-testid"),In.forEach(function(Ys){Ys.onCanvasLayerRender&&Ys.onCanvasLayerRender({ele:ss,pageIndex:On,rotation:Gn,scale:Mn,status:St.LayerRenderStatus.PreRender})});var ts=Pn.getViewport({rotation:Gn,scale:Mn}),ks=window.devicePixelRatio||1,ws=Math.sqrt(16777216/(ts.width*ts.height)),us=ks>ws;us?ss.style.transform="scale(1, 1)":ss.style.removeProperty("transform");var eo=Math.min(ws,ks),Hs=function(Ys,vo){var bo,wo;if(Math.floor(Ys)===Ys)return[Ys,1];var So=1/Ys;if(So>vo)return[1,vo];if(Math.floor(So)===So)return[1,So];for(var ko=Ys>1?So:Ys,Vo=0,To=1,Yo=1,Ho=1;;){var Jo=Vo+Yo,Uo=To+Ho;if(Uo>vo)break;ko<=Jo/Uo?(Yo=(bo=[Jo,Uo])[0],Ho=bo[1]):(Vo=(wo=[Jo,Uo])[0],To=wo[1])}return ko<(Vo/To+Yo/Ho)/2?ko===Ys?[Vo,To]:[To,Vo]:ko===Ys?[Yo,Ho]:[Ho,Yo]}(eo,8),Ms=Hs[0],Us=Hs[1];ss.width=uo(ts.width*eo,Ms),ss.height=uo(ts.height*eo,Ms),ss.style.width="".concat(uo(ts.width,Us),"px"),ss.style.height="".concat(uo(ts.height,Us),"px"),ss.hidden=!0;var Ls=ss.getContext("2d",{alpha:!1}),Ks=us||ks!==1?[eo,0,0,eo,0,0]:null;return Hn.current=Pn.render({canvasContext:Ls,transform:Ks,viewport:ts}),Hn.current.promise.then(function(){ss.hidden=!1,ss.setAttribute("data-testid","core__canvas-layer-".concat(On)),In.forEach(function(Ys){Ys.onCanvasLayerRender&&Ys.onCanvasLayerRender({ele:ss,pageIndex:On,rotation:Gn,scale:Mn,status:St.LayerRenderStatus.DidRender})}),Wn()},function(){Wn()}),function(){ss&&(ss.width=0,ss.height=0)}},[]),ar.createElement("div",{className:"rpv-core__canvas-layer",style:{height:"".concat(Rn,"px"),width:"".concat(Fn,"px")}},ar.createElement("canvas",{ref:cn}))},Bo=function(Xr){var cn=Xr.height,Rn=Xr.page,Pn=Xr.rotation,On=Xr.scale,In=Xr.width,Gn=ar.useRef();return mr(function(){var Mn=Gn.current,Fn=Rn.getViewport({rotation:Pn,scale:On});Rn.getOperatorList().then(function(Wn){(function(){var Hn=Gn.current;Hn&&(Hn.innerHTML="")})(),new sr.SVGGraphics(Rn.commonObjs,Rn.objs).getSVG(Wn,Fn).then(function(Hn){Hn.style.height="".concat(cn,"px"),Hn.style.width="".concat(In,"px"),Mn.appendChild(Hn)})})},[]),ar.createElement("div",{className:"rpv-core__svg-layer",ref:Gn})},Cl=function(Xr){var cn=Xr.containerRef,Rn=Xr.page,Pn=Xr.pageIndex,On=Xr.plugins,In=Xr.rotation,Gn=Xr.scale,Mn=Xr.onRenderTextCompleted,Fn=ar.useRef(),Wn=function(){var Hn=cn.current;Hn&&([].slice.call(Hn.querySelectorAll(".rpv-core__text-layer-text")).forEach(function(as){return Hn.removeChild(as)}),[].slice.call(Hn.querySelectorAll('br[role="presentation"]')).forEach(function(as){return Hn.removeChild(as)}))};return mr(function(){var Hn=Fn.current;Hn&&Hn.cancel();var as=cn.current;if(as){as.removeAttribute("data-testid");var ss=Rn.getViewport({rotation:In,scale:Gn});return On.forEach(function(ts){ts.onTextLayerRender&&ts.onTextLayerRender({ele:as,pageIndex:Pn,scale:Gn,status:St.LayerRenderStatus.PreRender})}),Rn.getTextContent().then(function(ts){Wn(),Fn.current=sr.renderTextLayer({container:as,textContent:ts,textContentSource:ts,viewport:ss}),Fn.current.promise.then(function(){as.setAttribute("data-testid","core__text-layer-".concat(Pn)),[].slice.call(as.children).forEach(function(ks){ks.classList.contains("rpv-core__text-layer-text--not")||ks.classList.add("rpv-core__text-layer-text")}),On.forEach(function(ks){ks.onTextLayerRender&&ks.onTextLayerRender({ele:as,pageIndex:Pn,scale:Gn,status:St.LayerRenderStatus.DidRender})}),Mn()},function(){as.removeAttribute("data-testid"),Mn()})}),function(){var ts;Wn(),(ts=Fn.current)===null||ts===void 0||ts.cancel()}}},[]),ar.createElement("div",{className:"rpv-core__text-layer",ref:cn})},cu=function(Xr){var cn=Xr.doc,Rn=Xr.measureRef,Pn=Xr.outlines,On=Xr.pageIndex,In=Xr.pageRotation,Gn=Xr.pageSize,Mn=Xr.plugins,Fn=Xr.renderPage,Wn=Xr.renderQueueKey,Hn=Xr.rotation,as=Xr.scale,ss=Xr.shouldRender,ts=Xr.viewMode,ks=Xr.onExecuteNamedAction,ws=Xr.onJumpFromLinkAnnotation,us=Xr.onJumpToDest,eo=Xr.onRenderCompleted,Hs=Xr.onRotatePage,Ms=nn(),Us=ar.useState(null),Ls=Us[0],Ks=Us[1],Ys=ar.useState(!1),vo=Ys[0],bo=Ys[1],wo=ar.useState(!1),So=wo[0],ko=wo[1],Vo=ar.useRef(),To=ar.useRef(),Yo=Math.abs(Hn+In)%180==0,Ho=Gn.pageWidth*as,Jo=Gn.pageHeight*as,Uo=Yo?Ho:Jo,Io=Yo?Jo:Ho,Sl=(Gn.rotation+Hn+In)%360,Bl=ar.useRef(0),Kl=Fn||function(Fr){return ar.createElement(ar.Fragment,null,Fr.canvasLayer.children,Fr.textLayer.children,Fr.annotationLayer.children)};return ar.useEffect(function(){Ks(null),bo(!1),ko(!1)},[In,Hn,as]),ar.useEffect(function(){ss&&Ms.current&&!Ls&&os(cn,On).then(function(Fr){Ms.current&&(Bl.current=Wn,Ks(Fr))})},[ss,Ls]),ar.useEffect(function(){vo&&So&&(Wn!==Bl.current?(Ks(null),bo(!1),ko(!1)):eo(On))},[vo,So]),ar.createElement("div",{className:fr({"rpv-core__page-layer":!0,"rpv-core__page-layer--dual":ts===St.ViewMode.DualPage,"rpv-core__page-layer--dual-cover":ts===St.ViewMode.DualPageWithCover,"rpv-core__page-layer--single":ts===St.ViewMode.SinglePage}),"data-testid":"core__page-layer-".concat(On),ref:Rn,style:{height:"".concat(Io,"px"),width:"".concat(Uo,"px")}},Ls?ar.createElement(ar.Fragment,null,Kl({annotationLayer:{attrs:{},children:ar.createElement(Fs,{doc:cn,outlines:Pn,page:Ls,pageIndex:On,plugins:Mn,rotation:Sl,scale:as,onExecuteNamedAction:ks,onJumpFromLinkAnnotation:ws,onJumpToDest:us})},canvasLayer:{attrs:{},children:ar.createElement($o,{canvasLayerRef:Vo,height:Io,page:Ls,pageIndex:On,plugins:Mn,rotation:Sl,scale:as,width:Uo,onRenderCanvasCompleted:function(){Ms.current&&bo(!0)}})},canvasLayerRendered:vo,doc:cn,height:Io,pageIndex:On,rotation:Sl,scale:as,svgLayer:{attrs:{},children:ar.createElement(Bo,{height:Io,page:Ls,rotation:Sl,scale:as,width:Uo})},textLayer:{attrs:{},children:ar.createElement(Cl,{containerRef:To,page:Ls,pageIndex:On,plugins:Mn,rotation:Sl,scale:as,onRenderTextCompleted:function(){Ms.current&&ko(!0)}})},textLayerRendered:So,width:Uo,markRendered:eo,onRotatePage:function(Fr){return Hs(On,Fr)}}),Mn.map(function(Fr,rn){return Fr.renderPageLayer?ar.createElement(ar.Fragment,{key:rn},Fr.renderPageLayer({canvasLayerRef:Vo,canvasLayerRendered:vo,doc:cn,height:Io,pageIndex:On,rotation:Sl,scale:as,textLayerRef:To,textLayerRendered:So,width:Uo})):ar.createElement(ar.Fragment,{key:rn})})):ar.createElement(vr,{testId:"core__page-layer-loading-".concat(On)}))},ju=function(Xr,cn){var Rn=cn.rect;return Xr.height!==Rn.height||Xr.width!==Rn.width?Rn:Xr};(function(Xr){Xr.Horizontal="Horizontal",Xr.Vertical="Vertical",Xr.Both="Both"})($s||($s={}));var gu=function(Xr){return 1-Math.pow(1-Xr,4)},Ql=1e-4,uu={left:0,top:0},_c={capture:!1,passive:!0},_l=function(Xr){var cn=Xr.elementRef,Rn=Xr.enableSmoothScroll,Pn=Xr.isRtl,On=Xr.scrollDirection,In=Xr.onSmoothScroll,Gn=ar.useState(uu),Mn=Gn[0],Fn=Gn[1],Wn=ar.useState(cn.current),Hn=Wn[0],as=Wn[1],ss=Pn?-1:1,ts=ar.useRef(On);ts.current=On;var ks=ar.useRef(uu),ws=ar.useRef(!0),us=ar.useCallback(function(){ws.current=!0,Rn&&Fn(ks.current),In(!1)},[]),eo=ar.useCallback(function(){if(Hn){switch(ts.current){case $s.Horizontal:ks.current={left:ss*Hn.scrollLeft,top:0};break;case $s.Both:ks.current={left:ss*Hn.scrollLeft,top:Hn.scrollTop};break;case $s.Vertical:default:ks.current={left:0,top:Hn.scrollTop}}Rn&&!ws.current||Fn(ks.current)}},[Hn]);mr(function(){as(cn.current)}),mr(function(){if(Hn)return Hn.addEventListener("scroll",eo,_c),function(){Hn.removeEventListener("scroll",eo,_c)}},[Hn]);var Hs=ar.useCallback(function(Ms,Us){var Ls=cn.current;if(!Ls)return Promise.resolve();var Ks={left:0,top:0};switch(ts.current){case $s.Horizontal:Ks.left=ss*Ms.left;break;case $s.Both:Ks.left=ss*Ms.left,Ks.top=Ms.top;break;case $s.Vertical:default:Ks.top=Ms.top}return Us?(ws.current=!1,In(!0),new Promise(function(Ys,vo){(function(bo,wo,So,ko,Vo,To){Vo===void 0&&(Vo=function(rn){return rn}),To===void 0&&(To=function(){});var Yo=0,Ho=0,Jo=!1;switch(wo){case $s.Horizontal:Ho=bo.scrollLeft,Yo=0;case $s.Both:Ho=bo.scrollLeft,Yo=bo.scrollTop;break;case $s.Vertical:default:Ho=0,Yo=bo.scrollTop}var Uo=function(){Jo||(Jo=!0,bo.scrollLeft=So.left,bo.scrollTop=So.top,To())};if(Math.abs(Yo-So.top)<=Ql&&wo===$s.Vertical)Uo();else if(Math.abs(Ho-So.left)<=Ql&&wo===$s.Horizontal)Uo();else{var Io,Sl=-1,Bl=Ho-So.left,Kl=Yo-So.top,Fr=function(rn){Sl===-1&&(Sl=rn);var Cn=rn-Sl,Tn=Math.min(Cn/ko,1),$n=Vo(Tn),qn={left:Ho-Bl*$n,top:Yo-Kl*$n};switch(wo){case $s.Horizontal:bo.scrollLeft=qn.left;break;case $s.Both:bo.scrollLeft=qn.left,bo.scrollTop=qn.top;break;case $s.Vertical:default:bo.scrollTop=qn.top}Math.abs(qn.top-So.top)<=Ql&&Math.abs(qn.left-So.left)<=Ql&&!Jo&&(window.cancelAnimationFrame(Io),Uo()),Cn<ko?Io=window.requestAnimationFrame(Fr):window.cancelAnimationFrame(Io)};Io=window.requestAnimationFrame(Fr)}})(Ls,ts.current,Ks,400,gu,function(){us(),Ys()})})):new Promise(function(Ys,vo){switch(ts.current){case $s.Horizontal:Ls.scrollLeft=Ks.left;break;case $s.Both:Ls.scrollLeft=Ks.left,Ls.scrollTop=Ks.top;break;case $s.Vertical:default:Ls.scrollTop=Ks.top}Ys()})},[cn]);return{scrollOffset:Mn,scrollTo:Hs}},Lu=function(Xr,cn,Rn){return Math.max(Xr,Math.min(Rn,cn))},k0=function(Xr,cn){if(cn!==St.ViewMode.DualPageWithCover)return 0;if(!function(On){var In=On.length;if(In===1)return!1;for(var Gn=1;Gn<In;Gn++)if(On[Gn].height!==On[0].height||On[Gn].width!==On[0].width)return!0;return!1}(Xr))return 2*Xr[0].width;var Rn=Yn(Xr.slice(1),2).map(function(On){return On.length===2?On[0].width+On[1].width:On[0].width}),Pn=[Xr[0].width].concat(Rn);return Math.max.apply(Math,Pn)},R0={left:0,top:0},m0={left:0,top:0},x0={left:0,top:0},du={left:0,top:0},Ku={height:0,width:0},Xl={left:0,top:0},Yu="data-virtual-index",A0=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],z0=function(Xr){var cn=Xr.enableSmoothScroll,Rn=Xr.isRtl,Pn=Xr.numberOfItems,On=Xr.parentRef,In=Xr.setRenderRange,Gn=Xr.sizes,Mn=Xr.scrollMode,Fn=Xr.viewMode,Wn=ar.useState(!1),Hn=Wn[0],as=Wn[1],ss=ar.useCallback(function(Tn){return as(Tn)},[]),ts=ar.useRef(Mn);ts.current=Mn;var ks=ar.useRef(Fn);ks.current=Fn;var ws=Mn===St.ScrollMode.Wrapped||Fn===St.ViewMode.DualPageWithCover||Fn===St.ViewMode.DualPage?$s.Both:Mn===St.ScrollMode.Horizontal?$s.Horizontal:$s.Vertical,us=_l({elementRef:On,enableSmoothScroll:cn,isRtl:Rn,scrollDirection:ws,onSmoothScroll:ss}),eo=us.scrollOffset,Hs=us.scrollTo,Ms=function(Tn){var $n=Tn.elementRef,qn=ar.useState($n.current),Jn=qn[0],$a=qn[1],bs=ar.useRef(!1),As=ar.useReducer(ju,{height:0,width:0}),ys=As[0],ms=As[1];return mr(function(){$n.current!==Jn&&$a($n.current)}),mr(function(){if(Jn&&!bs.current){bs.current=!0;var Is=Jn.getBoundingClientRect(),Ws=Is.height,ho=Is.width;ms({rect:{height:Ws,width:ho}})}},[Jn]),ar.useEffect(function(){if(Jn){var Is=new ResizeObserver(function(Ws,ho){Ws.forEach(function(mo){if(mo.target===Jn){var Ao=mo.contentRect,yl=Ao.height,qs=Ao.width;ms({rect:{height:yl,width:qs}})}})});return Is.observe(Jn),function(){Is.unobserve(Jn)}}},[Jn]),ys}({elementRef:On}),Us=ar.useRef({scrollOffset:Xl,measurements:[]});Us.current.scrollOffset=eo;var Ls=ar.useMemo(function(){return Array(Pn).fill(-1)},[]),Ks=ar.useState(Ls),Ys=Ks[0],vo=Ks[1],bo=ar.useMemo(function(){var Tn=new IntersectionObserver(function($n){$n.forEach(function(qn){var Jn=qn.isIntersecting?qn.intersectionRatio:-1,$a=qn.target.getAttribute(Yu);if($a){var bs=parseInt($a,10);0<=bs&&bs<Pn&&vo(function(As){return As[bs]=Jn,function(ys,ms,Is){for(var Ws,ho=0,mo=ms.length;ho<mo;ho++)!Ws&&ho in ms||(Ws||(Ws=Array.prototype.slice.call(ms,0,ho)),Ws[ho]=ms[ho]);return ys.concat(Ws||Array.prototype.slice.call(ms))}([],As)})}})},{threshold:A0});return Tn},[]),wo=ar.useMemo(function(){return Mn===St.ScrollMode.Page&&Fn===St.ViewMode.SinglePage?function(Tn,$n,qn){for(var Jn=[],$a=0;$a<Tn;$a++){var bs={height:Math.max($n.height,qn[$a].height),width:Math.max($n.width,qn[$a].width)},As=$a===0?du:Jn[$a-1].end,ys={left:As.left+bs.width,top:As.top+bs.height};Jn[$a]={index:$a,start:As,size:bs,end:ys,visibility:-1}}return Jn}(Pn,Ms,Gn):Fn===St.ViewMode.DualPageWithCover?function(Tn,$n,qn,Jn){for(var $a=[],bs=0,As=0,ys=x0,ms=0;ms<Tn;ms++){var Is=ms===0?{height:Jn===St.ScrollMode.Page?Math.max($n.height,qn[ms].height):qn[ms].height,width:Jn===St.ScrollMode.Page?Math.max($n.width,qn[ms].width):qn[ms].width}:{height:Jn===St.ScrollMode.Page?Math.max($n.height,qn[ms].height):qn[ms].height,width:Math.max($n.width/2,qn[ms].width)};Jn===St.ScrollMode.Page?ys=ms===0?x0:{left:ms%2==0?Is.width:0,top:Math.floor((ms-1)/2)*Is.height+$a[0].end.top}:ms===0?(ys=x0,bs=qn[0].height,As=0):ms%2==1?(ys={left:0,top:bs+=As},As=ms===Tn-1?qn[ms].height:Math.max(qn[ms].height,qn[ms+1].height)):ys={left:$a[ms-1].end.left,top:bs};var Ws={left:ys.left+Is.width,top:ys.top+Is.height};$a[ms]={index:ms,start:ys,size:Is,end:Ws,visibility:-1}}return $a}(Pn,Ms,Gn,Mn):Fn===St.ViewMode.DualPage?function(Tn,$n,qn,Jn){for(var $a=[],bs=0,As=0,ys=m0,ms=0;ms<Tn;ms++){var Is={height:Jn===St.ScrollMode.Page?Math.max($n.height,qn[ms].height):qn[ms].height,width:Math.max($n.width/2,qn[ms].width)};Jn===St.ScrollMode.Page?ys={left:ms%2==0?0:Is.width,top:Math.floor(ms/2)*Is.height}:ms%2==0?(ys={left:0,top:bs+=As},As=ms===Tn-1?qn[ms].height:Math.max(qn[ms].height,qn[ms+1].height)):ys={left:$a[ms-1].end.left,top:bs};var Ws={left:ys.left+Is.width,top:ys.top+Is.height};$a[ms]={index:ms,start:ys,size:Is,end:Ws,visibility:-1}}return $a}(Pn,Ms,Gn,Mn):function(Tn,$n,qn,Jn){for(var $a=[],bs=0,As={left:0,top:0},ys=0,ms=R0,Is=0;Is<Tn;Is++){var Ws=qn[Is];if(Is===0)bs=Ws.width,As={left:0,top:0},ys=Ws.height;else switch(Jn){case St.ScrollMode.Wrapped:(bs+=Ws.width)<$n.width?(ms={left:$a[Is-1].end.left,top:As.top},ys=Math.max(ys,Ws.height)):(bs=Ws.width,As={left:(ms={left:As.left,top:As.top+ys}).left,top:ms.top},ys=Ws.height);break;case St.ScrollMode.Horizontal:case St.ScrollMode.Vertical:default:ms=$a[Is-1].end}var ho={left:ms.left+Ws.width,top:ms.top+Ws.height};$a[Is]={index:Is,start:ms,size:Ws,end:ho,visibility:-1}}return $a}(Pn,Ms,Gn,Mn)},[Mn,Gn,Fn,Ms]),So=wo[Pn-1]?{height:wo[Pn-1].end.top,width:wo[Pn-1].end.left}:Ku;Us.current.measurements=wo;var ko=ar.useMemo(function(){var Tn=function(Is,Ws,ho,mo){var Ao=0;switch(Is){case $s.Horizontal:Ao=mo.left;break;case $s.Vertical:default:Ao=mo.top}var yl=Ws.length-1,qs=function(Ro,au,yu,ku){for(;Ro<=au;){var wl=(Ro+au)/2|0,bu=ku(wl);if(bu<yu)Ro=wl+1;else{if(!(bu>yu))return wl;au=wl-1}}return Ro>0?Ro-1:0}(0,yl,Ao,function(Ro){switch(Is){case $s.Horizontal:return Ws[Ro].start.left;case $s.Both:case $s.Vertical:default:return Ws[Ro].start.top}});if(Is===$s.Both)for(var Wo=Ws[qs].start.top;qs-1>=0&&Ws[qs-1].start.top===Wo&&Ws[qs-1].start.left>=mo.left;)qs--;for(var Po=qs;Po<=yl;){var Fo={top:Ws[Po].start.top-mo.top,left:Ws[Po].start.left-mo.left},Qo={height:ho.height-Fo.top,width:ho.width-Fo.left};if(Is===$s.Horizontal&&Qo.width<0||Is===$s.Vertical&&Qo.height<0||Is===$s.Both&&(Qo.width<0||Qo.height<0))break;Po++}return{start:qs,end:Po}}(ws,wo,Ms,eo),$n=Tn.start,qn=Tn.end,Jn=Ys.slice(Lu(0,Pn,$n),Lu(0,Pn,qn)),$a=$n+Jn.reduce(function(Is,Ws,ho,mo){return Ws>mo[Is]?ho:Is},0),bs=$a=Lu(0,Pn-1,$a),As=In({endPage:qn,numPages:Pn,startPage:$n}),ys=As.startPage,ms=As.endPage;switch(ys=Math.max(ys,0),ms=Math.min(ms,Pn-1),Fn){case St.ViewMode.DualPageWithCover:$a>0&&(bs=$a%2==1?$a:$a-1),ys=ys===0?0:ys%2==1?ys:ys-1,Pn-(ms=ms%2==1?ms-1:ms)<=2&&(ms=Pn-1);break;case St.ViewMode.DualPage:bs=$a%2==0?$a:$a-1,ys=ys%2==0?ys:ys-1,ms=ms%2==1?ms:ms-1;break;case St.ViewMode.SinglePage:default:bs=$a}return{startPage:ys,endPage:ms,maxVisbilityIndex:bs}},[wo,Ms,eo,Fn,Ys]),Vo=ko.startPage,To=ko.endPage,Yo=ko.maxVisbilityIndex,Ho=ar.useMemo(function(){for(var Tn=[],$n=function(Jn){var $a=wo[Jn],bs=cr(cr({},$a),{visibility:Ys[Jn]!==void 0?Ys[Jn]:-1,measureRef:function(As){As&&(As.setAttribute(Yu,"".concat(Jn)),bo.observe(As))}});Tn.push(bs)},qn=Vo;qn<=To;qn++)$n(qn);return Tn},[Vo,To,Ys,wo]),Jo=ar.useCallback(function(Tn,$n){var qn=Us.current.measurements[Lu(0,Pn-1,Tn)],Jn=ts.current===St.ScrollMode.Page?Xl:$n;return qn?Hs({left:Jn.left+qn.start.left,top:Jn.top+qn.start.top},cn):Promise.resolve()},[Hs,cn]),Uo=ar.useCallback(function(Tn,$n){var qn=Us.current.measurements,Jn=qn[Tn].start,$a=qn.find(function(As){return As.start.top-Jn.top>1e-12});if(!$a)return Promise.resolve();var bs=$a.index;switch(ks.current){case St.ViewMode.DualPage:bs=bs%2==0?bs:bs+1;break;case St.ViewMode.DualPageWithCover:bs=bs%2==1?bs:bs+1}return Jo(bs,$n)},[]),Io=ar.useCallback(function(Tn,$n){for(var qn=Us.current.measurements,Jn=qn[Tn].start,$a=Tn,bs=!1,As=Pn-1;As>=0;As--)if(Jn.top-qn[As].start.top>1e-12){bs=!0,$a=qn[As].index;break}if(!bs)return Promise.resolve();switch(ks.current){case St.ViewMode.DualPage:$a=$a%2==0?$a:$a-1;break;case St.ViewMode.DualPageWithCover:$a=$a%2==0?$a-1:$a}return $a===Tn&&($a=Tn-1),Jo($a,$n)},[]),Sl=ar.useCallback(function(Tn,$n){if(ks.current===St.ViewMode.DualPageWithCover||ks.current===St.ViewMode.DualPage)return Uo(Tn,$n);switch(ts.current){case St.ScrollMode.Wrapped:return Uo(Tn,$n);case St.ScrollMode.Horizontal:case St.ScrollMode.Vertical:default:return Jo(Tn+1,$n)}},[]),Bl=ar.useCallback(function(Tn,$n){if(ks.current===St.ViewMode.DualPageWithCover||ks.current===St.ViewMode.DualPage)return Io(Tn,$n);switch(ts.current){case St.ScrollMode.Wrapped:return Io(Tn,$n);case St.ScrollMode.Horizontal:case St.ScrollMode.Vertical:default:return Jo(Tn-1,$n)}},[]),Kl=ar.useCallback(function(){return function(Tn,$n){switch($n){case St.ScrollMode.Horizontal:return{position:"relative",height:"100%",width:"".concat(Tn.width,"px")};case St.ScrollMode.Vertical:default:return{position:"relative",height:"".concat(Tn.height,"px"),width:"100%"}}}(So,ts.current)},[So]),Fr=ar.useCallback(function(Tn){return function($n,qn,Jn){return Jn!==St.ScrollMode.Page?{}:{height:"".concat(qn.height,"px"),width:"100%",position:"absolute",top:0,transform:"translateY(".concat($n.start.top,"px)")}}(Tn,Ms,ts.current)},[Ms]),rn=ar.useCallback(function(Tn){return function($n,qn,Jn,$a,bs){var As,ys,ms,Is,Ws,ho,mo,Ao=qn?"right":"left",yl=qn?-1:1,qs=Jn.length,Wo=$n.start.left*yl,Po=$n.size,Fo=Po.height,Qo=Po.width;if($a===St.ViewMode.DualPageWithCover){var Ro=bs===St.ScrollMode.Page?0:$n.start.top;return $n.index===0||qs%2==0&&$n.index===qs-1?((As={height:"".concat(Fo,"px"),minWidth:"".concat(k0(Jn,$a),"px"),width:"100%"})[Ao]=0,As.position="absolute",As.top=0,As.transform="translate(".concat(Wo,"px, ").concat(Ro,"px)"),As):((ys={height:"".concat(Fo,"px"),width:"".concat(Qo,"px")})[Ao]=0,ys.position="absolute",ys.top=0,ys.transform="translate(".concat(Wo,"px, ").concat(Ro,"px)"),ys)}if($a===St.ViewMode.DualPage)return(ms={height:"".concat(Fo,"px"),width:"".concat(Qo,"px")})[Ao]=0,ms.position="absolute",ms.top=0,ms.transform="translate(".concat(Wo,"px, ").concat(bs===St.ScrollMode.Page?0:$n.start.top,"px)"),ms;switch(bs){case St.ScrollMode.Horizontal:return(Is={height:"100%",width:"".concat(Qo,"px")})[Ao]=0,Is.position="absolute",Is.top=0,Is.transform="translateX(".concat(Wo,"px)"),Is;case St.ScrollMode.Page:return(Ws={height:"".concat(Fo,"px"),width:"".concat(Qo,"px")})[Ao]=0,Ws.position="absolute",Ws.top=0,Ws;case St.ScrollMode.Wrapped:return(ho={height:"".concat(Fo,"px"),width:"".concat(Qo,"px")})[Ao]=0,ho.position="absolute",ho.top=0,ho.transform="translate(".concat(Wo,"px, ").concat($n.start.top,"px)"),ho;case St.ScrollMode.Vertical:default:return(mo={height:"".concat(Fo,"px"),width:"100%"})[Ao]=0,mo.position="absolute",mo.top=0,mo.transform="translateY(".concat($n.start.top,"px)"),mo}}(Tn,Rn,Gn,ks.current,ts.current)},[Rn,Gn]),Cn=ar.useCallback(function(Tn,$n){var qn=Us.current,Jn=qn.measurements,$a=qn.scrollOffset,bs=Jn[Lu(0,Pn-1,$n)];if(bs){var As=ts.current===St.ScrollMode.Page?{left:bs.start.left,top:bs.start.top}:{left:$a.left*Tn,top:$a.top*Tn};return Hs(As,!1)}return Promise.resolve()},[]);return ar.useEffect(function(){return function(){bo.disconnect()}},[]),{boundingClientRect:Ms,isSmoothScrolling:Hn,startPage:Vo,endPage:To,maxVisbilityIndex:Yo,virtualItems:Ho,getContainerStyles:Kl,getItemContainerStyles:Fr,getItemStyles:rn,scrollToItem:Jo,scrollToNextItem:Sl,scrollToPreviousItem:Bl,zoom:Cn}},Ju=function(Xr,cn,Rn,Pn,On,In){var Gn=Rn;switch(!0){case(On===St.ViewMode.DualPageWithCover&&In>=3):case(On===St.ViewMode.DualPage&&In>=3):Gn=2*Rn;break;default:Gn=Rn}switch(Pn){case St.SpecialZoomLevel.ActualSize:return 1;case St.SpecialZoomLevel.PageFit:return Math.min((Xr.clientWidth-17)/Gn,(Xr.clientHeight-16)/cn);case St.SpecialZoomLevel.PageWidth:return(Xr.clientWidth-17)/Gn}},V0=function(Xr){var cn,Rn,Pn=Xr.getCurrentPage,On=(cn=50,Rn=ar.useRef([]),ar.useEffect(function(){return function(){Rn.current=[]}},[]),{push:function(Wn){var Hn=Rn.current;Hn.length+1>cn&&Hn.shift(),Hn.push(Wn),Rn.current=Hn},map:function(Wn){return Rn.current.map(function(Hn){return Wn(Hn)})},pop:function(){var Wn=Rn.current;if(Wn.length===0)return null;var Hn=Wn.pop();return Rn.current=Wn,Hn}}),In=function(Wn){var Hn=ar.useRef([]);return ar.useEffect(function(){return function(){Hn.current=[]}},[]),{dequeue:function(){var as=Hn.current;if(as.length===0)return null;var ss=as.shift();return Hn.current=as,ss||null},enqueue:function(as){var ss=Hn.current;ss.length+1>Wn&&ss.pop(),Hn.current=[as].concat(ss)},map:function(as){return Hn.current.map(function(ss){return as(ss)})}}}(50),Gn=function(){var Wn=In.dequeue();return Wn&&On.push(Wn),Wn&&Wn.pageIndex===Pn()?Gn():Wn},Mn=function(){var Wn=On.pop();return Wn&&In.enqueue(Wn),Wn&&Wn.pageIndex===Pn()?Mn():Wn},Fn=ar.useCallback(function(Wn){On.push(Wn)},[]);return{getNextDestination:Gn,getPreviousDestination:Mn,markVisitedDestination:Fn}},g0=function(Xr){var cn=[];return Xr.map(function(Rn){cn=cn.concat(Rn).concat(function(Pn){var On=[];return Pn.items&&Pn.items.length>0&&(On=On.concat(g0(Pn.items))),On}(Rn))}),cn},C0={capture:!1,passive:!0},v0={height:0,width:0},y0={height:0,width:0},H0=function(Xr){var cn=Xr.getCurrentPage,Rn=Xr.getCurrentScrollMode,Pn=Xr.jumpToPage,On=Xr.targetRef,In=ar.useState(St.FullScreenMode.Normal),Gn=In[0],Mn=In[1],Fn=function(){var Ys=ar.useState(v0),vo=Ys[0],bo=Ys[1],wo=Kr(function(){bo({height:window.innerHeight,width:window.innerWidth})},100);return mr(function(){return window.addEventListener("resize",wo,C0),function(){window.removeEventListener("resize",wo,C0)}},[]),vo}(),Wn=ar.useState(y0),Hn=Wn[0],as=Wn[1],ss=ar.useRef(y0),ts=ar.useRef(cn()),ks=ar.useRef(y0),ws=ar.useState(On.current),us=ws[0],eo=ws[1],Hs=ar.useRef();mr(function(){On.current!==us&&eo(On.current)},[]),mr(function(){if(us){var Ys=new ResizeObserver(function(vo){vo.forEach(function(bo){var wo=bo.target.getBoundingClientRect(),So=wo.height,ko=wo.width;as({height:So,width:ko})})});return Ys.observe(us),function(){Ys.unobserve(us),Ys.disconnect()}}},[us]);var Ms=ar.useCallback(function(Ys){var vo=Gr();return vo&&vo!==Ys?(Mn(St.FullScreenMode.Normal),Lr(vo)):Promise.resolve()},[]),Us=ar.useCallback(function(Ys){Ys&&Pr()&&(eo(Ys),Ms(Ys).then(function(){Hs.current=Ys,Mn(St.FullScreenMode.Entering),function(vo){Cr&&vo[Or.RequestFullScreen]()}(Ys)}))},[]),Ls=ar.useCallback(function(){Gr()&&(Mn(St.FullScreenMode.Exitting),Lr(document))},[]),Ks=ar.useCallback(function(){us&&Gr()!==us&&Mn(St.FullScreenMode.Exitting)},[us]);return ar.useEffect(function(){switch(Gn){case St.FullScreenMode.Entering:Hs.current&&(Hs.current.style.backgroundColor="var(--rpv-core__full-screen-target-background-color)"),ts.current=cn(),ss.current={height:window.innerHeight,width:window.innerWidth};break;case St.FullScreenMode.Entered:Rn()===St.ScrollMode.Page?Pn(ts.current).then(function(){Mn(St.FullScreenMode.EnteredCompletely)}):Mn(St.FullScreenMode.EnteredCompletely);break;case St.FullScreenMode.Exitting:Hs.current&&(Hs.current.style.backgroundColor="",Hs.current=null),ts.current=cn();break;case St.FullScreenMode.Exited:Mn(St.FullScreenMode.Normal),Rn()===St.ScrollMode.Page&&Pn(ts.current)}},[Gn]),ar.useEffect(function(){if(Gn!==St.FullScreenMode.Normal)return Gn===St.FullScreenMode.Entering&&Fn.height===Hn.height&&Fn.width===Hn.width&&Fn.height>0&&Fn.width>0&&(ks.current.height===0||Fn.height==ks.current.height)?(ks.current={height:window.innerHeight,width:window.innerWidth},void Mn(St.FullScreenMode.Entered)):void(Gn===St.FullScreenMode.Exitting&&ss.current.height===Fn.height&&ss.current.width===Fn.width&&Fn.height>0&&Fn.width>0&&Mn(St.FullScreenMode.Exited))},[Gn,Fn,Hn]),ar.useEffect(function(){var Ys;return Ys=Ks,Cr&&document.addEventListener(Or.FullScreenChange,Ys),function(){(function(vo){Cr&&document.removeEventListener(Or.FullScreenChange,vo)})(Ks)}},[us]),{enterFullScreenMode:Us,exitFullScreenMode:Ls,fullScreenMode:Gn}},W0={buildPageStyles:function(){return{}},transformSize:function(Xr){return Xr.size}},eu={left:0,top:0},Zu=function(Xr){var cn=Xr.currentFile,Rn=Xr.defaultScale,Pn=Xr.doc,On=Xr.enableSmoothScroll,In=Xr.initialPage,Gn=Xr.initialRotation,Mn=Xr.initialScale,Fn=Xr.pageLayout,Wn=Xr.pageSizes,Hn=Xr.plugins,as=Xr.renderPage,ss=Xr.scrollMode,ts=Xr.setRenderRange,ks=Xr.viewMode,ws=Xr.viewerState,us=Xr.onDocumentLoad,eo=Xr.onOpenFile,Hs=Xr.onPageChange,Ms=Xr.onRotate,Us=Xr.onRotatePage,Ls=Xr.onZoom,Ks=Pn.numPages,Ys=Pn.loadingTask.docId,vo=ar.useContext(Yr).l10n,bo=ar.useContext(dr),wo=bo.direction===St.TextDirection.RightToLeft,So=ar.useRef(),ko=ar.useRef(),Vo=ar.useState(In),To=Vo[0],Yo=Vo[1],Ho=ar.useRef(null),Jo=V0({getCurrentPage:function(){return qs.current.pageIndex}}),Uo=ar.useState(Gn),Io=Uo[0],Sl=Uo[1],Bl=Qr(Io),Kl=ar.useState(!1),Fr=Kl[0],rn=Kl[1],Cn=ar.useState(new Map),Tn=Cn[0],$n=Cn[1],qn=ar.useState(ss),Jn=qn[0],$a=qn[1],bs=Qr(Jn),As=ar.useState(ks),ys=As[0],ms=As[1],Is=Qr(ys),Ws=function(xs){var Gs=nn(),co=ar.useState([]),Zs=co[0],Js=co[1];return ar.useEffect(function(){xs.getOutline().then(function(Xs){if(Gs.current&&Xs!==null){var jo=g0(Xs);Js(jo)}})},[]),Zs}(Pn),ho=ar.useState(Mn),mo=ho[0],Ao=ho[1],yl=Qr(mo),qs=ar.useRef(ws),Wo=ar.useRef(typeof Rn=="string"?Rn:null),Po=ar.useRef(-1),Fo=ar.useRef(-1),Qo=ar.useRef(In),Ro=H0({getCurrentPage:function(){return qs.current.pageIndex},getCurrentScrollMode:function(){return qs.current.scrollMode},jumpToPage:function(xs){return Jl(xs)},targetRef:ko}),au=ar.useState(-1),yu=au[0],ku=au[1],wl=ar.useState(0),bu=wl[0],Qu=wl[1],Dl=Jr({doc:Pn});ar.useEffect(function(){return function(){ls.clear(),vs.clear()}},[Ys]);var _d=ar.useMemo(function(){return Object.assign({},W0,Fn)},[]),tu=ar.useMemo(function(){return Array(Ks).fill(0).map(function(xs,Gs){var co=[Wn[Gs].pageHeight,Wn[Gs].pageWidth],Zs=Math.abs(Io)%180==0?{height:co[0],width:co[1]}:{height:co[1],width:co[0]},Js={height:Zs.height*mo,width:Zs.width*mo};return _d.transformSize({numPages:Ks,pageIndex:Gs,size:Js})})},[Io,mo]),Do=z0({enableSmoothScroll:On,isRtl:wo,numberOfItems:Ks,parentRef:ko,scrollMode:Jn,setRenderRange:ts,sizes:tu,viewMode:ys}),E0=Kr(function(){!Wo.current||qs.current.fullScreenMode!==St.FullScreenMode.Normal||In>0&&Qo.current===In||Rl(Wo.current)},200);(function(xs){var Gs=xs.targetRef,co=xs.onResize;mr(function(){var Zs=new ResizeObserver(function(Xs){Xs.forEach(function(jo){co(jo.target)})}),Js=Gs.current;if(Js)return Zs.observe(Js),function(){Zs.unobserve(Js)}},[])})({targetRef:ko,onResize:E0});var fu=function(xs){var Gs=xs;Hn.forEach(function(co){co.onViewerStateChange&&(Gs=co.onViewerStateChange(Gs))}),qs.current=Gs},su=function(){return ko.current},e0=function(){return qs.current},L0=ar.useCallback(function(xs){Jo.markVisitedDestination(xs)},[]),r0=ar.useCallback(function(xs){var Gs=xs.pageIndex,co=xs.bottomOffset,Zs=xs.leftOffset,Js=xs.scaleTo,Xs=ko.current,jo=qs.current;return Xs&&jo?new Promise(function(zl,Wu){os(Pn,Gs).then(function(Pu){var pu=Pu.getViewport({scale:1}),o0=0,_0=(typeof co=="function"?co(pu.width,pu.height):co)||0,Vl=(typeof Zs=="function"?Zs(pu.width,pu.height):Zs)||0,Ul=jo.scale;switch(Js){case St.SpecialZoomLevel.PageFit:o0=0,Vl=0,Rl(St.SpecialZoomLevel.PageFit);break;case St.SpecialZoomLevel.PageWidth:Ul=Ju(Xs,Wn[Gs].pageHeight,Wn[Gs].pageWidth,St.SpecialZoomLevel.PageWidth,ks,Ks),o0=(pu.height-_0)*Ul,Vl*=Ul,Rl(Ul);break;default:o0=(pu.height-_0)*Ul,Vl*=Ul}switch(jo.scrollMode){case St.ScrollMode.Horizontal:Do.scrollToItem(Gs,{left:Vl,top:0}).then(function(){zl()});break;case St.ScrollMode.Vertical:default:Do.scrollToItem(Gs,{left:0,top:o0}).then(function(){zl()})}})}):Promise.resolve()},[]),Ru=ar.useCallback(function(xs){return Jo.markVisitedDestination(xs),r0(xs)},[]),Uu=ar.useCallback(function(){var xs=Jo.getNextDestination();return xs?r0(xs):Promise.resolve()},[]),ru=ar.useCallback(function(){var xs=Jo.getPreviousDestination();return xs?r0(xs):Promise.resolve()},[]),Yl=ar.useCallback(function(){return Do.scrollToNextItem(qs.current.pageIndex,eu)},[]),Jl=ar.useCallback(function(xs){return 0<=xs&&xs<Ks?Do.scrollToItem(xs,eu):Promise.resolve()},[]),Au=ar.useCallback(function(){return Do.scrollToPreviousItem(qs.current.pageIndex,eu)},[]),wu=ar.useCallback(function(xs){var Gs,co;(Gs=xs.name,co=Gs.split(/\./).pop(),co?co.toLowerCase():"").toLowerCase()==="pdf"&&new Promise(function(Zs){var Js=new FileReader;Js.readAsArrayBuffer(xs),Js.onload=function(){var Xs=new Uint8Array(Js.result);Zs(Xs)}}).then(function(Zs){eo(xs.name,Zs)})},[eo]),zu=ar.useCallback(function(xs){var Gs=xs===St.RotateDirection.Backward?-90:90,co=qs.current.rotation,Zs=co===360||co===-360?Gs:co+Gs;Dl.markNotRendered(),Sl(Zs),fu(cr(cr({},qs.current),{rotation:Zs})),Ms({direction:xs,doc:Pn,rotation:Zs})},[]),hu=ar.useCallback(function(xs,Gs){var co=Gs===St.RotateDirection.Backward?-90:90,Zs=qs.current.pagesRotation,Js=(Zs.has(xs)?Zs.get(xs):Gn)+co,Xs=Zs.set(xs,Js);$n(Xs),rn(function(jo){return!jo}),fu(cr(cr({},qs.current),{pagesRotation:Xs,rotatedPage:xs})),Us({direction:Gs,doc:Pn,pageIndex:xs,rotation:Js}),Dl.markRendering(xs),ku(xs)},[]),El=ar.useCallback(function(xs){fu(cr(cr({},qs.current),{scrollMode:xs})),$a(xs)},[]),n0=ar.useCallback(function(xs){fu(cr(cr({},qs.current),{viewMode:xs})),ms(xs)},[]),Rl=ar.useCallback(function(xs){var Gs=ko.current,co=qs.current.pageIndex;if(!(co<0||co>=Ks)){var Zs=Wn[co].pageHeight,Js=Wn[co].pageWidth,Xs=Gs?typeof xs=="string"?Ju(Gs,Zs,Js,xs,qs.current.viewMode,Ks):xs:1;Wo.current=typeof xs=="string"?xs:null,Xs!==qs.current.scale&&(Qu(function(jo){return jo+1}),Dl.markNotRendered(),Ao(Xs),Ls({doc:Pn,scale:Xs}),fu(cr(cr({},qs.current),{scale:Xs})))}},[]),iu=ar.useCallback(function(xs){Ro.enterFullScreenMode(xs)},[]),a0=ar.useCallback(function(){Ro.exitFullScreenMode()},[]);ar.useEffect(function(){fu(cr(cr({},qs.current),{fullScreenMode:Ro.fullScreenMode}))},[Ro.fullScreenMode]),ar.useEffect(function(){var xs={enterFullScreenMode:iu,exitFullScreenMode:a0,getPagesContainer:su,getViewerState:e0,jumpToDestination:Ru,jumpToNextDestination:Uu,jumpToPreviousDestination:ru,jumpToNextPage:Yl,jumpToPreviousPage:Au,jumpToPage:Jl,openFile:wu,rotate:zu,rotatePage:hu,setViewerState:fu,switchScrollMode:El,switchViewMode:n0,zoom:Rl};return Hn.forEach(function(Gs){Gs.install&&Gs.install(xs)}),function(){Hn.forEach(function(Gs){Gs.uninstall&&Gs.uninstall(xs)})}},[Ys]),ar.useEffect(function(){us({doc:Pn,file:cn}),Hn.forEach(function(xs){xs.onDocumentLoad&&xs.onDocumentLoad({doc:Pn,file:cn})})},[Ys]);var s0,Vu,Cu,Ou=Do.boundingClientRect;s0=function(){In&&Jl(In)},Vu=Ou.height>0&&Ou.width>0,Cu=ar.useRef(!1),mr(function(){Vu&&!Cu.current&&(Cu.current=!0,s0())},[s0,Vu]),mr(function(){var xs=qs.current.pageIndex;xs>-1&&bs!==Jn&&Do.scrollToItem(xs,eu).then(function(){Ro.fullScreenMode===St.FullScreenMode.EnteredCompletely&&(On||Dl.markNotRendered(),Po.current=-1)})},[Jn]),mr(function(){var xs=qs.current.pageIndex;xs>-1&&Bl!==Io&&Do.scrollToItem(xs,eu)},[Io]),mr(function(){yl!=0&&yl!=qs.current.scale&&Do.zoom(qs.current.scale/yl,qs.current.pageIndex).then(function(){Ro.fullScreenMode===St.FullScreenMode.EnteredCompletely&&(Fo.current=-1)})},[mo]),mr(function(){if(Is!==qs.current.viewMode){var xs=Do.startPage,Gs=Do.endPage,co=Do.virtualItems;Dl.markNotRendered(),Dl.setRange(xs,Gs);for(var Zs=function(Xs){var jo=co.find(function(zl){return zl.index===Xs});jo&&Dl.setVisibility(Xs,jo.visibility)},Js=xs;Js<=Gs;Js++)Zs(Js);Nu()}},[ys]),mr(function(){var xs=qs.current.pageIndex;xs>-1&&Is!==ys&&Do.scrollToItem(xs,eu)},[ys]),mr(function(){var xs=qs.current.pageIndex;xs>0&&xs===In&&Qo.current===In&&Wo.current&&(Qo.current=-1,Rl(Wo.current))},[To]),ar.useEffect(function(){Do.isSmoothScrolling||Ho.current!==null&&Ho.current===To||(Ho.current=To,Hs({currentPage:To,doc:Pn}))},[To,Do.isSmoothScrolling]),ar.useEffect(function(){Ro.fullScreenMode===St.FullScreenMode.Entering&&qs.current.scrollMode===St.ScrollMode.Page&&(Po.current=qs.current.pageIndex),Ro.fullScreenMode===St.FullScreenMode.EnteredCompletely&&qs.current.scrollMode===St.ScrollMode.Page&&On&&(Po.current=-1),Ro.fullScreenMode===St.FullScreenMode.EnteredCompletely&&Wo.current&&(Fo.current=qs.current.pageIndex,Rl(Wo.current))},[Ro.fullScreenMode]),ar.useEffect(function(){if(Ro.fullScreenMode!==St.FullScreenMode.Entering&&Ro.fullScreenMode!==St.FullScreenMode.Exitting&&!Do.isSmoothScrolling){var xs=Do.startPage,Gs=Do.endPage,co=Do.maxVisbilityIndex,Zs=Do.virtualItems,Js=co,Xs=Ro.fullScreenMode===St.FullScreenMode.Entered||Ro.fullScreenMode===St.FullScreenMode.EnteredCompletely;if(!(Xs&&Js!==Po.current&&Po.current>-1||Xs&&Js!==Fo.current&&Fo.current>-1)){Yo(Js),fu(cr(cr({},qs.current),{pageIndex:Js})),Dl.setRange(xs,Gs);for(var jo=function(Wu){var Pu=Zs.find(function(pu){return pu.index===Wu});Pu&&Dl.setVisibility(Wu,Pu.visibility)},zl=xs;zl<=Gs;zl++)jo(zl);Nu()}}},[Do.startPage,Do.endPage,Do.isSmoothScrolling,Do.maxVisbilityIndex,Ro.fullScreenMode,Fr,Io,mo]);var $u=ar.useCallback(function(xs){Dl.markRendered(xs),Nu()},[bu]),Nu=function(){var xs=Dl.getHighestPriorityPage();xs>-1&&Dl.isInRange(xs)&&(Dl.markRendering(xs),ku(xs))},i0=function(xs){var Gs=To-1,co=To+1;switch(xs){case"FirstPage":Jl(0);break;case"LastPage":Jl(Ks-1);break;case"NextPage":co<Ks&&Jl(co);break;case"PrevPage":Gs>=0&&Jl(Gs)}},Hu=ar.useCallback(function(){var xs=Do.virtualItems,Gs=[];switch(ys){case St.ViewMode.DualPage:Gs=Yn(xs,2);break;case St.ViewMode.DualPageWithCover:xs.length&&(Gs=xs[0].index===0?[[xs[0]]].concat(Yn(xs.slice(1),2)):Yn(xs,2));break;case St.ViewMode.SinglePage:default:Gs=Yn(xs,1)}var co=vo&&vo.core?vo.core.pageLabel:"Page {{pageIndex}}",Zs={attrs:{className:"rpv-core__inner-container","data-testid":"core__inner-container",ref:So,style:{height:"100%"}},children:ar.createElement(ar.Fragment,null),subSlot:{attrs:{"data-testid":"core__inner-pages",className:fr({"rpv-core__inner-pages":!0,"rpv-core__inner-pages--horizontal":Jn===St.ScrollMode.Horizontal,"rpv-core__inner-pages--rtl":wo,"rpv-core__inner-pages--single":Jn===St.ScrollMode.Page,"rpv-core__inner-pages--vertical":Jn===St.ScrollMode.Vertical,"rpv-core__inner-pages--wrapped":Jn===St.ScrollMode.Wrapped}),ref:ko,style:{height:"100%",position:"relative"}},children:ar.createElement("div",{"data-testid":"core__inner-current-page-".concat(To),style:Object.assign({"--scale-factor":mo},Do.getContainerStyles())},Gs.map(function(Js){return ar.createElement("div",{className:fr({"rpv-core__inner-page-container":!0,"rpv-core__inner-page-container--single":Jn===St.ScrollMode.Page}),style:Do.getItemContainerStyles(Js[0]),key:"".concat(Js[0].index,"-").concat(ys)},Js.map(function(Xs){var jo=ys===St.ViewMode.DualPageWithCover&&(Xs.index===0||Ks%2==0&&Xs.index===Ks-1);return ar.createElement("div",{"aria-label":co.replace("{{pageIndex}}","".concat(Xs.index+1)),className:fr({"rpv-core__inner-page":!0,"rpv-core__inner-page--dual-even":ys===St.ViewMode.DualPage&&Xs.index%2==0,"rpv-core__inner-page--dual-odd":ys===St.ViewMode.DualPage&&Xs.index%2==1,"rpv-core__inner-page--dual-cover":jo,"rpv-core__inner-page--dual-cover-even":ys===St.ViewMode.DualPageWithCover&&!jo&&Xs.index%2==0,"rpv-core__inner-page--dual-cover-odd":ys===St.ViewMode.DualPageWithCover&&!jo&&Xs.index%2==1,"rpv-core__inner-page--single":ys===St.ViewMode.SinglePage&&Jn===St.ScrollMode.Page}),role:"region",key:"".concat(Xs.index,"-").concat(ys),style:Object.assign({},Do.getItemStyles(Xs),_d.buildPageStyles({numPages:Ks,pageIndex:Xs.index,scrollMode:Jn,viewMode:ys}))},ar.createElement(cu,{doc:Pn,measureRef:Xs.measureRef,outlines:Ws,pageIndex:Xs.index,pageRotation:Tn.has(Xs.index)?Tn.get(Xs.index):0,pageSize:Wn[Xs.index],plugins:Hn,renderPage:as,renderQueueKey:bu,rotation:Io,scale:mo,shouldRender:yu===Xs.index,viewMode:ys,onExecuteNamedAction:i0,onJumpFromLinkAnnotation:L0,onJumpToDest:Ru,onRenderCompleted:$u,onRotatePage:hu}))}))}))}};return Hn.forEach(function(Js){Js.renderViewer&&(Zs=Js.renderViewer({containerRef:So,doc:Pn,pagesContainerRef:ko,pagesRotation:Tn,pageSizes:Wn,rotation:Io,slot:Zs,themeContext:bo,jumpToPage:Jl,openFile:wu,rotate:zu,rotatePage:hu,switchScrollMode:El,switchViewMode:n0,zoom:Rl}))}),Zs},[Hn,Do]),Tu=ar.useCallback(function(xs){return ar.createElement("div",cr({},xs.attrs,{style:xs.attrs&&xs.attrs.style?xs.attrs.style:{}}),xs.children,xs.subSlot&&Tu(xs.subSlot))},[]);return Tu(Hu())},Bu=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],N0=function(Xr){var cn=Xr.defaultScale,Rn=Xr.doc,Pn=Xr.render,On=Xr.scrollMode,In=Xr.viewMode,Gn=ar.useRef(),Mn=ar.useState({pageSizes:[],scale:0}),Fn=Mn[0],Wn=Mn[1];return ar.useLayoutEffect(function(){var Hn=Array(Rn.numPages).fill(0).map(function(as,ss){return new Promise(function(ts,ks){os(Rn,ss).then(function(ws){var us=ws.getViewport({scale:1});ts({pageHeight:us.height,pageWidth:us.width,rotation:us.rotation})})})});Promise.all(Hn).then(function(as){var ss=Gn.current;if(ss&&as.length!==0){var ts=as[0].pageWidth,ks=as[0].pageHeight,ws=ss.parentElement,us=(ws.clientWidth-45)/ts,eo=(ws.clientHeight-45)/ks,Hs=us;switch(On){case St.ScrollMode.Horizontal:Hs=Math.min(us,eo);break;case St.ScrollMode.Vertical:default:Hs=us}var Ms,Us,Ls=cn?typeof cn=="string"?Ju(ws,ks,ts,cn,In,Rn.numPages):cn:(Ms=Hs,(Us=Bu.findIndex(function(Ks){return Ks>=Ms}))===-1||Us===0?Ms:Bu[Us-1]);Wn({pageSizes:as,scale:Ls})}})},[Rn.loadingTask.docId]),Fn.pageSizes.length===0||Fn.scale===0?ar.createElement("div",{className:"rpv-core__page-size-calculator","data-testid":"core__page-size-calculating",ref:Gn},ar.createElement(vr,null)):Pn(Fn.pageSizes,Fn.scale)},Fl=function(){},b0=function(Xr){function cn(Rn,Pn){var On=Xr.call(this)||this;return On.verifyPassword=Rn,On.passwordStatus=Pn,On}return or(cn,Xr),cn}(Fl),T0=function(Xr){var cn=Xr.passwordStatus,Rn=Xr.renderProtectedView,Pn=Xr.verifyPassword,On=Xr.onDocumentAskPassword,In=ar.useContext(Yr).l10n,Gn=ar.useState(""),Mn=Gn[0],Fn=Gn[1],Wn=ar.useContext(dr).direction===St.TextDirection.RightToLeft,Hn=function(){return Pn(Mn)};return ar.useEffect(function(){On&&On({verifyPassword:Pn})},[]),Rn?Rn({passwordStatus:cn,verifyPassword:Pn}):ar.createElement("div",{className:"rpv-core__asking-password-wrapper"},ar.createElement("div",{className:fr({"rpv-core__asking-password":!0,"rpv-core__asking-password--rtl":Wn})},ar.createElement("div",{className:"rpv-core__asking-password-message"},cn===St.PasswordStatus.RequiredPassword&&In.core.askingPassword.requirePasswordToOpen,cn===St.PasswordStatus.WrongPassword&&In.core.wrongPassword.tryAgain),ar.createElement("div",{className:"rpv-core__asking-password-body"},ar.createElement("div",{className:fr({"rpv-core__asking-password-input":!0,"rpv-core__asking-password-input--ltr":!Wn,"rpv-core__asking-password-input--rtl":Wn})},ar.createElement(br,{testId:"core__asking-password-input",type:"password",value:Mn,onChange:Fn,onKeyDown:function(as){as.key==="Enter"&&Hn()}})),ar.createElement(gr,{onClick:Hn},In.core.askingPassword.submit))))},po=function(Xr){function cn(Rn){var Pn=Xr.call(this)||this;return Pn.doc=Rn,Pn}return or(cn,Xr),cn}(Fl),P0=function(Xr){function cn(Rn){var Pn=Xr.call(this)||this;return Pn.error=Rn,Pn}return or(cn,Xr),cn}(Fl),w0=function(Xr){function cn(Rn){var Pn=Xr.call(this)||this;return Pn.percentages=Rn,Pn}return or(cn,Xr),cn}(Fl),vu=function(Xr){var cn=Xr.characterMap,Rn=Xr.file,Pn=Xr.httpHeaders,On=Xr.render,In=Xr.renderError,Gn=Xr.renderLoader,Mn=Xr.renderProtectedView,Fn=Xr.transformGetDocumentParams,Wn=Xr.withCredentials,Hn=Xr.onDocumentAskPassword,as=ar.useContext(dr).direction===St.TextDirection.RightToLeft,ss=ar.useState(new w0(0)),ts=ss[0],ks=ss[1],ws=ar.useRef(""),us=nn();return ar.useEffect(function(){ws.current="",ks(new w0(0));var eo=new sr.PDFWorker({name:"PDFWorker_".concat(Date.now())}),Hs=Object.assign({httpHeaders:Pn,withCredentials:Wn,worker:eo},typeof Rn=="string"?{url:Rn}:{data:Rn},cn?{cMapUrl:cn.url,cMapPacked:cn.isCompressed}:{}),Ms=Fn?Fn(Hs):Hs,Us=sr.getDocument(Ms);return Us.onPassword=function(Ls,Ks){switch(Ks){case sr.PasswordResponses.NEED_PASSWORD:us.current&&ks(new b0(Ls,St.PasswordStatus.RequiredPassword));break;case sr.PasswordResponses.INCORRECT_PASSWORD:us.current&&ks(new b0(Ls,St.PasswordStatus.WrongPassword))}},Us.onProgress=function(Ls){var Ks=Ls.total>0?Math.min(100,100*Ls.loaded/Ls.total):100;us.current&&ws.current===""&&ks(new w0(Ks))},Us.promise.then(function(Ls){ws.current=Ls.loadingTask.docId,us.current&&ks(new po(Ls))},function(Ls){return us.current&&!eo.destroyed&&ks(new P0({message:Ls.message||"Cannot load document",name:Ls.name}))}),function(){Us.destroy(),eo.destroy()}},[Rn]),ts instanceof b0?ar.createElement(T0,{passwordStatus:ts.passwordStatus,renderProtectedView:Mn,verifyPassword:ts.verifyPassword,onDocumentAskPassword:Hn}):ts instanceof po?On(ts.doc):ts instanceof P0?In?In(ts.error):ar.createElement("div",{className:fr({"rpv-core__doc-error":!0,"rpv-core__doc-error--rtl":as})},ar.createElement("div",{className:"rpv-core__doc-error-text"},ts.error.message)):ar.createElement("div",{"data-testid":"core__doc-loading",className:fr({"rpv-core__doc-loading":!0,"rpv-core__doc-loading--rtl":as})},Gn?Gn(ts.percentages):ar.createElement(vr,null))},F0=function(Xr,cn){var Rn=ar.useMemo(function(){return Xr==="auto"?typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":Xr},[]),Pn=ar.useState(Rn),On=Pn[0],In=Pn[1],Gn=Qr(On);return ar.useEffect(function(){if(Xr==="auto"){var Mn=window.matchMedia("(prefers-color-scheme: dark)"),Fn=function(Wn){In(Wn.matches?"dark":"light")};return Mn.addEventListener("change",Fn),function(){return Mn.removeEventListener("change",Fn)}}},[]),ar.useEffect(function(){On!==Gn&&cn&&cn(On)},[On]),ar.useEffect(function(){Xr!==On&&In(Xr)},[Xr]),{currentTheme:On,setCurrentTheme:In}},D0=function(Xr){return{startPage:Xr.startPage-3,endPage:Xr.endPage+3}};St.Button=function(Xr){var cn=Xr.children,Rn=Xr.testId,Pn=Xr.onClick,On=ar.useContext(dr).direction===St.TextDirection.RightToLeft,In=Rn?{"data-testid":Rn}:{};return ar.createElement("button",cr({className:fr({"rpv-core__button":!0,"rpv-core__button--rtl":On}),type:"button",onClick:Pn},In),cn)},St.Icon=pr,St.LazyRender=function(Xr){var cn=Xr.attrs,Rn=Xr.children,Pn=Xr.testId,On=ar.useState(!1),In=On[0],Gn=On[1],Mn=Pn?cr(cr({},cn),{"data-testid":Pn}):cn,Fn=xr({once:!0,onVisibilityChanged:function(Wn){Wn.isVisible&&Gn(!0)}});return ar.createElement("div",cr({ref:Fn},Mn),In&&Rn)},St.LocalizationContext=Yr,St.Menu=function(Xr){var cn=Xr.children,Rn=ar.useRef(),Pn=ar.useRef([]),On=ar.useContext(dr).direction===St.TextDirection.RightToLeft,In=function(Mn){if(Rn.current)switch(Mn.key){case"Tab":Mn.preventDefault();break;case"ArrowDown":Mn.preventDefault(),Gn(function(Fn,Wn){return Wn+1});break;case"ArrowUp":Mn.preventDefault(),Gn(function(Fn,Wn){return Wn-1});break;case"End":Mn.preventDefault(),Gn(function(Fn,Wn){return Fn.length-1});break;case"Home":Mn.preventDefault(),Gn(function(Fn,Wn){return 0})}},Gn=function(Mn){if(Rn.current){var Fn=Pn.current,Wn=Fn.findIndex(function(as){return as.getAttribute("tabindex")==="0"}),Hn=Math.min(Fn.length-1,Math.max(0,Mn(Fn,Wn)));Wn>=0&&Wn<=Fn.length-1&&Fn[Wn].setAttribute("tabindex","-1"),Fn[Hn].setAttribute("tabindex","0"),Fn[Hn].focus()}};return mr(function(){var Mn=Rn.current;if(Mn){var Fn=function(Wn){var Hn=[];return Wn.querySelectorAll('.rpv-core__menu-item[role="menuitem"]').forEach(function(as){if(as instanceof HTMLElement){var ss=as.parentElement;(ss===Wn||window.getComputedStyle(ss).display!=="none")&&Hn.push(as)}}),Hn}(Mn);Pn.current=Fn}},[]),mr(function(){return document.addEventListener("keydown",In),function(){document.removeEventListener("keydown",In)}},[]),ar.createElement("div",{ref:Rn,"aria-orientation":"vertical",className:fr({"rpv-core__menu":!0,"rpv-core__menu--rtl":On}),role:"menu",tabIndex:0},cn)},St.MenuDivider=function(){return ar.createElement("div",{"aria-orientation":"horizontal",className:"rpv-core__menu-divider",role:"separator"})},St.MenuItem=function(Xr){var cn=Xr.checked,Rn=cn!==void 0&&cn,Pn=Xr.children,On=Xr.icon,In=On===void 0?null:On,Gn=Xr.isDisabled,Mn=Gn!==void 0&&Gn,Fn=Xr.testId,Wn=Xr.onClick,Hn=ar.useContext(dr).direction===St.TextDirection.RightToLeft,as=Fn?{"data-testid":Fn}:{};return ar.createElement("button",cr({className:fr({"rpv-core__menu-item":!0,"rpv-core__menu-item--disabled":Mn,"rpv-core__menu-item--ltr":!Hn,"rpv-core__menu-item--rtl":Hn}),role:"menuitem",tabIndex:-1,type:"button",onClick:Wn},as),ar.createElement("div",{className:fr({"rpv-core__menu-item-icon":!0,"rpv-core__menu-item-icon--ltr":!Hn,"rpv-core__menu-item-icon--rtl":Hn})},In),ar.createElement("div",{className:fr({"rpv-core__menu-item-label":!0,"rpv-core__menu-item-label--ltr":!Hn,"rpv-core__menu-item-label--rtl":Hn})},Pn),ar.createElement("div",{className:fr({"rpv-core__menu-item-check":!0,"rpv-core__menu-item-check--ltr":!Hn,"rpv-core__menu-item-check--rtl":Hn})},Rn&&ar.createElement(hr,null)))},St.MinimalButton=function(Xr){var cn=Xr.ariaLabel,Rn=cn===void 0?"":cn,Pn=Xr.ariaKeyShortcuts,On=Pn===void 0?"":Pn,In=Xr.children,Gn=Xr.isDisabled,Mn=Gn!==void 0&&Gn,Fn=Xr.isSelected,Wn=Fn!==void 0&&Fn,Hn=Xr.testId,as=Xr.onClick,ss=ar.useContext(dr).direction===St.TextDirection.RightToLeft,ts=Hn?{"data-testid":Hn}:{};return ar.createElement("button",cr({"aria-label":Rn},On&&{"aria-keyshortcuts":On},Mn&&{"aria-disabled":!0},{className:fr({"rpv-core__minimal-button":!0,"rpv-core__minimal-button--disabled":Mn,"rpv-core__minimal-button--rtl":ss,"rpv-core__minimal-button--selected":Wn}),type:"button",onClick:as},ts),In)},St.Modal=function(Xr){var cn=Xr.ariaControlsSuffix,Rn=Xr.closeOnClickOutside,Pn=Xr.closeOnEscape,On=Xr.content,In=Xr.isOpened,Gn=In!==void 0&&In,Mn=Xr.target,Fn=cn||"".concat(Rr());return ar.createElement(sn,{target:Mn?function(Wn,Hn){return ar.createElement("div",{"aria-expanded":Hn?"true":"false","aria-haspopup":"dialog","aria-controls":"rpv-core__modal-body-".concat(Fn)},Mn(Wn,Hn))}:null,content:function(Wn){return ar.createElement(Br,null,ar.createElement(Mr,{ariaControlsSuffix:Fn,closeOnClickOutside:Rn,closeOnEscape:Pn,onToggle:Wn},On(Wn)))},isOpened:Gn})},St.Popover=function(Xr){var cn=Xr.ariaHasPopup,Rn=cn===void 0?"dialog":cn,Pn=Xr.ariaControlsSuffix,On=Xr.closeOnClickOutside,In=Xr.closeOnEscape,Gn=Xr.content,Mn=Xr.lockScroll,Fn=Mn===void 0||Mn,Wn=Xr.offset,Hn=Xr.position,as=Xr.target,ss=Wr(!1),ts=ss.opened,ks=ss.toggle,ws=ar.useRef(),us=ar.useMemo(function(){return Pn||"".concat(Rr())},[]);return ar.createElement("div",{ref:ws,"aria-expanded":ts?"true":"false","aria-haspopup":Rn,"aria-controls":"rpv-core__popver-body-".concat(us)},as(ks,ts),ts&&ar.createElement(ar.Fragment,null,Fn&&ar.createElement(Sn,{closeOnEscape:In,onClose:ks}),ar.createElement(pn,{ariaControlsSuffix:us,closeOnClickOutside:On,offset:Wn,position:Hn,targetRef:ws,onClose:ks},Gn(ks))))},St.PrimaryButton=gr,St.ProgressBar=function(Xr){var cn=Xr.progress,Rn=ar.useContext(dr).direction===St.TextDirection.RightToLeft;return ar.createElement("div",{className:fr({"rpv-core__progress-bar":!0,"rpv-core__progress-bar--rtl":Rn})},ar.createElement("div",{className:"rpv-core__progress-bar-progress",style:{width:"".concat(cn,"%")}},cn,"%"))},St.Separator=function(){return ar.createElement("div",{className:"rpv-core__separator"})},St.Spinner=vr,St.Splitter=function(Xr){var cn=Xr.constrain,Rn=ar.useContext(dr).direction===St.TextDirection.RightToLeft,Pn=ar.useRef(),On=ar.useRef(),In=ar.useRef(),Gn=ar.useRef(0),Mn=ar.useRef(0),Fn=ar.useRef(0),Wn=ar.useRef(0),Hn={capture:!0},as=function(ts){var ks=Pn.current,ws=On.current,us=In.current;if(ks&&ws&&us){var eo=Wn.current,Hs=ts.clientX-Gn.current,Ms=Fn.current+(Rn?-Hs:Hs),Us=ks.parentElement.getBoundingClientRect().width,Ls=100*Ms/Us;if(ks.classList.add("rpv-core__splitter--resizing"),cn){var Ks=Us-Ms-eo;if(!cn({firstHalfPercentage:Ls,firstHalfSize:Ms,secondHalfPercentage:100*Ks/Us,secondHalfSize:Ks}))return}ws.style.width="".concat(Ls,"%"),document.body.classList.add("rpv-core__splitter-body--resizing"),ws.classList.add("rpv-core__splitter-sibling--resizing"),us.classList.add("rpv-core__splitter-sibling--resizing")}},ss=function(ts){var ks=Pn.current,ws=On.current,us=In.current;ks&&ws&&us&&(document.body.classList.remove("rpv-core__splitter-body--resizing"),ks.classList.remove("rpv-core__splitter--resizing"),ws.classList.remove("rpv-core__splitter-sibling--resizing"),us.classList.remove("rpv-core__splitter-sibling--resizing"),document.removeEventListener("mousemove",as,Hn),document.removeEventListener("mouseup",ss,Hn))};return ar.useEffect(function(){var ts=Pn.current;ts&&(Wn.current=ts.getBoundingClientRect().width,On.current=ts.previousElementSibling,In.current=ts.nextElementSibling)},[]),ar.createElement("div",{ref:Pn,className:"rpv-core__splitter",onMouseDown:function(ts){var ks=On.current;ks&&(Gn.current=ts.clientX,Mn.current=ts.clientY,Fn.current=ks.getBoundingClientRect().width,document.addEventListener("mousemove",as,Hn),document.addEventListener("mouseup",ss,Hn))}})},St.TextBox=br,St.ThemeContext=dr,St.Tooltip=function(Xr){var cn=Xr.ariaControlsSuffix,Rn=Xr.content,Pn=Xr.offset,On=Xr.position,In=Xr.target,Gn=Wr(!1),Mn=Gn.opened,Fn=Gn.toggle,Wn=ar.useRef(),Hn=ar.useRef(),as=ar.useMemo(function(){return cn||"".concat(Rr())},[]);Dr(function(){Wn.current&&document.activeElement&&Wn.current.contains(document.activeElement)&&ts()});var ss=function(){Fn(St.ToggleStatus.Open)},ts=function(){Fn(St.ToggleStatus.Close)};return ar.createElement(ar.Fragment,null,ar.createElement("div",{ref:Wn,"aria-describedby":"rpv-core__tooltip-body-".concat(as),onBlur:function(ks){ks.relatedTarget instanceof HTMLElement&&ks.currentTarget.parentElement&&ks.currentTarget.parentElement.contains(ks.relatedTarget)?Hn.current&&(Hn.current.style.display="none"):ts()},onFocus:ss,onMouseEnter:ss,onMouseLeave:ts},In),Mn&&ar.createElement(wn,{ariaControlsSuffix:as,contentRef:Hn,offset:Pn,position:On,targetRef:Wn},Rn()))},St.Viewer=function(Xr){var cn=Xr.characterMap,Rn=Xr.defaultScale,Pn=Xr.enableSmoothScroll,On=Pn===void 0||Pn,In=Xr.fileUrl,Gn=Xr.httpHeaders,Mn=Gn===void 0?{}:Gn,Fn=Xr.initialPage,Wn=Fn===void 0?0:Fn,Hn=Xr.pageLayout,as=Xr.initialRotation,ss=as===void 0?0:as,ts=Xr.localization,ks=Xr.plugins,ws=ks===void 0?[]:ks,us=Xr.renderError,eo=Xr.renderLoader,Hs=Xr.renderPage,Ms=Xr.renderProtectedView,Us=Xr.scrollMode,Ls=Us===void 0?St.ScrollMode.Vertical:Us,Ks=Xr.setRenderRange,Ys=Ks===void 0?D0:Ks,vo=Xr.transformGetDocumentParams,bo=Xr.theme,wo=bo===void 0?{direction:St.TextDirection.LeftToRight,theme:"light"}:bo,So=Xr.viewMode,ko=So===void 0?St.ViewMode.SinglePage:So,Vo=Xr.withCredentials,To=Vo!==void 0&&Vo,Yo=Xr.onDocumentAskPassword,Ho=Xr.onDocumentLoad,Jo=Ho===void 0?function(){}:Ho,Uo=Xr.onPageChange,Io=Uo===void 0?function(){}:Uo,Sl=Xr.onRotate,Bl=Sl===void 0?function(){}:Sl,Kl=Xr.onRotatePage,Fr=Kl===void 0?function(){}:Kl,rn=Xr.onSwitchTheme,Cn=rn===void 0?function(){}:rn,Tn=Xr.onZoom,$n=Tn===void 0?function(){}:Tn,qn=ar.useState({data:In,name:typeof In=="string"?In:"",shouldLoad:!1}),Jn=qn[0],$a=qn[1],bs=function(Po,Fo){$a({data:Fo,name:Po,shouldLoad:!0})},As=ar.useState(!1),ys=As[0],ms=As[1],Is=Qr(Jn);ar.useEffect(function(){var Po,Fo,Qo,Ro;Po=Is.data,Ro=typeof(Fo=In),(Qo=typeof Po)=="string"&&Ro==="string"&&Po===Fo||Qo==="object"&&Ro==="object"&&Po.length===Fo.length&&Po.every(function(au,yu){return au===Fo[yu]})||$a({data:In,name:typeof In=="string"?In:"",shouldLoad:ys})},[In,ys]);var Ws=xr({onVisibilityChanged:function(Po){ms(Po.isVisible),Po.isVisible&&$a(function(Fo){return Object.assign({},Fo,{shouldLoad:!0})})}}),ho=typeof wo=="string"?{direction:St.TextDirection.LeftToRight,theme:wo}:wo,mo=ar.useState(ts||tn),Ao=mo[0],yl=mo[1],qs={l10n:Ao,setL10n:yl},Wo=Object.assign({},{direction:ho.direction},F0(ho.theme||"light",Cn));return ar.useEffect(function(){ts&&yl(ts)},[ts]),ar.createElement(Yr.Provider,{value:qs},ar.createElement(dr.Provider,{value:Wo},ar.createElement("div",{ref:Ws,className:"rpv-core__viewer rpv-core__viewer--".concat(Wo.currentTheme),"data-testid":"core__viewer",style:{height:"100%",width:"100%"}},Jn.shouldLoad&&ar.createElement(vu,{characterMap:cn,file:Jn.data,httpHeaders:Mn,render:function(Po){return ar.createElement(N0,{defaultScale:Rn,doc:Po,render:function(Fo,Qo){return ar.createElement(Zu,{currentFile:{data:Jn.data,name:Jn.name},defaultScale:Rn,doc:Po,enableSmoothScroll:On,initialPage:Wn,initialRotation:ss,initialScale:Qo,pageLayout:Hn,pageSizes:Fo,plugins:ws,renderPage:Hs,scrollMode:Ls,setRenderRange:Ys,viewMode:ko,viewerState:{file:Jn,fullScreenMode:St.FullScreenMode.Normal,pageIndex:-1,pageHeight:Fo[0].pageHeight,pageWidth:Fo[0].pageWidth,pagesRotation:new Map,rotation:ss,scale:Qo,scrollMode:Ls,viewMode:ko},onDocumentLoad:Jo,onOpenFile:bs,onPageChange:Io,onRotate:Bl,onRotatePage:Fr,onZoom:$n})},scrollMode:Ls,viewMode:ko})},renderError:us,renderLoader:eo,renderProtectedView:Ms,transformGetDocumentParams:vo,withCredentials:To,onDocumentAskPassword:Yo}))))},St.Worker=function(Xr){var cn=Xr.children,Rn=Xr.workerUrl;return sr.GlobalWorkerOptions.workerSrc=Rn,ar.createElement(ar.Fragment,null,cn)},St.chunk=Yn,St.classNames=fr,St.createStore=function(Xr){var cn=Xr||{},Rn={},Pn=function(In,Gn){var Mn;cn=cr(cr({},cn),((Mn={})[In]=Gn,Mn)),(Rn[In]||[]).forEach(function(Fn){return Fn(cn[In])})},On=function(In){return cn[In]};return{subscribe:function(In,Gn){Rn[In]=(Rn[In]||[]).concat(Gn)},unsubscribe:function(In,Gn){Rn[In]=(Rn[In]||[]).filter(function(Mn){return Mn!==Gn})},update:function(In,Gn){Pn(In,Gn)},updateCurrentValue:function(In,Gn){var Mn=On(In);Mn!==void 0&&Pn(In,Gn(Mn))},get:function(In){return On(In)}}},St.getDestination=zs,St.getPage=os,St.isFullScreenEnabled=Pr,St.isMac=function(){return typeof window<"u"&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)},St.useDebounceCallback=Kr,St.useIntersectionObserver=xr,St.useIsMounted=nn,St.useIsomorphicLayoutEffect=mr,St.usePrevious=Qr,St.useRenderQueue=Jr})(core_min);/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib.exports=core_min;var libExports=lib.exports;const workerUrl="/assets/pdf.worker.min-DETttheg.js";function PdfViewer({fileUrl:St}){return jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-gray-900  w-full h-full overflow-hidden",onContextMenu:er=>er.preventDefault(),onMouseDown:er=>er.preventDefault(),style:{userSelect:"none"},children:jsxRuntimeExports.jsx(libExports.Worker,{workerUrl,children:jsxRuntimeExports.jsx(libExports.Viewer,{fileUrl:St})})})}function ProcesosPage(){const St=useDocumentPermissions("procesos"),{documents:er,processes:tr,processTypes:rr,loading:nr,error:ar,createDocument:sr,updateDocument:ir,deleteDocument:or,documentService:lr,fetchDocuments:cr,fetchProcesses:ur}=useDocumentCRUD(),{filters:dr,filteredDocuments:fr,updateFilter:mr,clearFilters:xr}=useDocumentFilters(er,tr,rr,St),{handleDownload:pr,handlePreview:hr,processExcelFile:gr}=useFileHandling(),[vr,br]=reactExports.useState({isFormOpen:!1,isEditFormOpen:!1,isViewOpen:!1,isConfirmDeleteOpen:!1,isDocumentViewerOpen:!1,isExcelViewerOpen:!1,isWordViewerOpen:!1}),[yr,Er]=reactExports.useState({editingDocument:null,viewingDocument:null,deletingDocument:null,currentDocumentUrl:"",currentDocumentTitle:"",excelData:{},excelSheets:[],currentSheet:"",currentExcelDocument:null,currentExcelType:null,currentWordDocument:null,currentWordType:null}),[jr,_r]=reactExports.useState(!1),[Cr,Or]=reactExports.useState(""),[Pr,Lr]=reactExports.useState(""),[Gr,Kr]=reactExports.useState(!1),nn=(Br,qr)=>{br(Wr=>({...Wr,[Br]:!0})),qr&&Er(Wr=>({...Wr,...qr}))},Qr=Br=>{br(qr=>({...qr,[Br]:!1})),Br==="isDocumentViewerOpen"&&(yr.currentDocumentUrl.startsWith("blob:")&&URL.revokeObjectURL(yr.currentDocumentUrl),Er(qr=>({...qr,currentDocumentUrl:"",currentDocumentTitle:""})))},zr=()=>{br({isFormOpen:!1,isEditFormOpen:!1,isViewOpen:!1,isConfirmDeleteOpen:!1,isDocumentViewerOpen:!1,isExcelViewerOpen:!1,isWordViewerOpen:!1}),Er({editingDocument:null,viewingDocument:null,deletingDocument:null,currentDocumentUrl:"",currentDocumentTitle:"",excelData:{},excelSheets:[],currentSheet:"",currentExcelDocument:null,currentExcelType:null,currentWordDocument:null,currentWordType:null})},Vr=async()=>{Kr(!0);try{await Promise.all([cr(),ur()]),Or("Datos actualizados correctamente")}catch{Lr("Error al actualizar los datos")}finally{Kr(!1)}},Jr=Br=>{nn("isViewOpen",{viewingDocument:Br})},tn=Br=>{St.canManage&&nn("isEditFormOpen",{editingDocument:Br})},Yr=Br=>{St.canManage&&nn("isConfirmDeleteOpen",{deletingDocument:Br})},Sr=async(Br,qr="oficial")=>{const Wr=qr==="oficial"?Br.archivo_oficial:Br.archivo_editable;if(!Wr){Or("No hay archivo disponible para visualizar");return}const sn=FileHandlingService.getFileExtension(Wr);try{if(sn==="pdf"){const un=await hr(Br.id,qr);nn("isDocumentViewerOpen",{currentDocumentUrl:un,currentDocumentTitle:`${Br.codigo_documento} v${Br.version} - ${Br.nombre_documento} (${qr})`})}else["xls","xlsx"].includes(sn)?await Rr(Br,qr):["doc","docx"].includes(sn)&&await Tr(Br,qr)}catch{Lr("Error al cargar el archivo")}},Rr=async(Br,qr)=>{_r(!0);try{const Wr=await lr.previewDocument(Br.id,qr),{data:sn,sheets:un}=await gr(Wr);nn("isExcelViewerOpen",{excelData:sn,excelSheets:un,currentSheet:un[0],currentExcelDocument:Br,currentExcelType:qr})}catch{Lr("Error al cargar el archivo Excel")}finally{_r(!1)}},Tr=async(Br,qr)=>{const Wr=`${Br.codigo_documento} v${Br.version} - ${Br.nombre_documento}`;nn("isWordViewerOpen",{currentDocumentTitle:Wr,currentWordDocument:Br,currentWordType:qr})},Dr=async Br=>{var qr,Wr;try{vr.isEditFormOpen&&yr.editingDocument?(await ir(yr.editingDocument.id,Br),Or("Documento actualizado exitosamente")):(await sr(Br),Or("Documento creado exitosamente")),zr()}catch(sn){throw new Error(((Wr=(qr=sn.response)==null?void 0:qr.data)==null?void 0:Wr.detail)||"Error al guardar el documento")}},Mr=async()=>{if(yr.deletingDocument)try{await or(yr.deletingDocument.id),Or("Documento eliminado exitosamente"),zr()}catch{Lr("Error al eliminar el documento")}};return nr?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-64",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):ar?jsxRuntimeExports.jsx("div",{className:"text-center py-8 text-red-600 dark:text-red-400",children:ar}):jsxRuntimeExports.jsxs("div",{className:"p-4 sm:p-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-4 sm:mb-0",children:[jsxRuntimeExports.jsx(HiOutlineDocumentText$1,{className:"w-8 h-8 text-blue-600 dark:text-blue-400 mr-3"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Sistema de Gestion Institucional"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:St.isAdmin?"Gestin completa de documentos del sistema de calidad":St.isGestor?"Consulta y descarga de documentos del sistema de calidad":"Consulta de documentos del sistema de calidad"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[jsxRuntimeExports.jsxs("button",{onClick:Vr,disabled:Gr,className:`
    group px-4 py-2 rounded-lg transition-all duration-200 flex items-center gap-2 justify-center
    ${Gr?"bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400 cursor-not-allowed":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 hover:scale-105 active:scale-95"}
  `,title:"Actualizar datos",children:[jsxRuntimeExports.jsx(HiRefresh,{size:16,className:`transition-transform duration-300 ${Gr?"animate-spin":"group-hover:rotate-180"}`}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:Gr?"Actualizando...":"Actualizar"})]}),St.canManage&&jsxRuntimeExports.jsxs("button",{onClick:()=>nn("isFormOpen"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 justify-center",children:[jsxRuntimeExports.jsx(FaUpload,{size:16}),"Subir Documento"]})]})]}),Cr&&jsxRuntimeExports.jsx("div",{className:"mb-4 p-3 bg-green-100 border border-green-400 text-green-700 rounded-lg dark:bg-green-900 dark:border-green-600 dark:text-green-200",children:Cr}),Pr&&jsxRuntimeExports.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded-lg dark:bg-red-900 dark:border-red-600 dark:text-red-200",children:Pr}),jsxRuntimeExports.jsx(DocumentFilters,{filters:dr,processes:tr,processTypes:rr,permissions:St,onUpdateFilter:mr,onClearFilters:xr}),jsxRuntimeExports.jsx(DocumentStats,{documents:er,filteredDocuments:fr,permissions:St}),jsxRuntimeExports.jsx(DocumentTable,{documents:fr,processes:tr,permissions:St,onView:Jr,onViewDocument:Sr,onDownload:pr,onEdit:tn,onDelete:Yr,loadingExcel:jr}),vr.isFormOpen&&jsxRuntimeExports.jsx(FormModal,{documents:er,processes:tr,documentService:lr,onSubmit:Dr,onCancel:()=>Qr("isFormOpen")}),vr.isEditFormOpen&&yr.editingDocument&&jsxRuntimeExports.jsx(FormModal,{isEdit:!0,document:yr.editingDocument,documents:er,processes:tr,documentService:lr,onSubmit:Dr,onCancel:()=>Qr("isEditFormOpen")}),vr.isViewOpen&&yr.viewingDocument&&jsxRuntimeExports.jsx(ViewModal,{document:yr.viewingDocument,processes:tr,permissions:St,documentService:lr,onClose:()=>Qr("isViewOpen")}),vr.isConfirmDeleteOpen&&yr.deletingDocument&&jsxRuntimeExports.jsx(ConfirmDeleteModal,{document:yr.deletingDocument,onConfirm:Mr,onCancel:()=>Qr("isConfirmDeleteOpen")}),vr.isDocumentViewerOpen&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-80 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-xl w-full max-w-6xl h-[90vh] flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-700",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:yr.currentDocumentTitle||"Vista previa del documento"}),jsxRuntimeExports.jsx("button",{onClick:()=>Qr("isDocumentViewerOpen"),className:"text-gray-400 hover:text-gray-600 dark:text-gray-300 dark:hover:text-gray-100",children:jsxRuntimeExports.jsx(FaTimes,{size:24})})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 p-4 overflow-hidden",children:jsxRuntimeExports.jsx(PdfViewer,{fileUrl:yr.currentDocumentUrl})})]})}),jsxRuntimeExports.jsx(ExcelViewer,{isOpen:vr.isExcelViewerOpen,excelData:yr.excelData,excelSheets:yr.excelSheets,currentSheet:yr.currentSheet,currentExcelDocument:yr.currentExcelDocument,currentExcelType:yr.currentExcelType,onSheetChange:Br=>Er(qr=>({...qr,currentSheet:Br})),onDownload:pr,onClose:()=>Qr("isExcelViewerOpen")}),jsxRuntimeExports.jsx(WordViewer,{isOpen:vr.isWordViewerOpen,currentDocumentTitle:yr.currentDocumentTitle,currentWordDocument:yr.currentWordDocument,currentWordType:yr.currentWordType,onDownload:pr,onClose:()=>Qr("isWordViewerOpen")})]})}function InformacionEmpresa(){const[St,er]=reactExports.useState(null),[tr,rr]=reactExports.useState({id:0,name:"",nit:"",legalRepresentative:"",phone:"",address:"",contactEmail:"",foundationDate:"",status:!0}),[nr,ar]=reactExports.useState(!0),[sr,ir]=reactExports.useState(!1),[or,lr]=reactExports.useState(""),[cr,ur]=reactExports.useState("");reactExports.useEffect(()=>{ar(!0),axiosInstance.get("/companies/companies/1").then(xr=>{er(xr.data),rr(xr.data)}).catch(()=>ur("Error al cargar la informacin de la empresa.")).finally(()=>ar(!1))},[]);const dr=xr=>{const{name:pr,value:hr,type:gr,checked:vr}=xr.target;rr({...tr,[pr]:gr==="checkbox"?vr:hr})},fr=()=>{const xr=/^[0-9\-]{6,}$/;if(!tr.nit||!xr.test(tr.nit))return ur("El NIT debe tener al menos 6 dgitos y solo nmeros o guiones."),!1;const pr=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return!tr.contactEmail||!pr.test(tr.contactEmail)?(ur("El correo electrnico no es vlido."),!1):!0},mr=xr=>{xr.preventDefault(),ur(""),lr(""),fr()&&(ir(!0),axiosInstance.put(`/companies/companies/${tr.id}/`,tr).then(pr=>{er(pr.data),rr(pr.data),lr("Informacin actualizada correctamente!")}).catch(()=>ur("Error al guardar la informacin.")).finally(()=>ir(!1)))};return nr?jsxRuntimeExports.jsx("div",{className:"text-center text-blue-600 dark:text-blue-300 py-8",children:"Cargando informacin de la empresa..."}):jsxRuntimeExports.jsxs("form",{className:"max-w-2xl mx-auto bg-white dark:bg-gray-900 rounded-xl shadow p-4 sm:p-8 flex flex-col gap-5",onSubmit:mr,children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-2 text-gray-900 dark:text-gray-100",children:"Informacin de la Empresa"}),cr&&jsxRuntimeExports.jsx("div",{className:"text-red-600 dark:text-red-400 text-center mb-2",children:cr}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block font-medium mb-1 text-gray-700 dark:text-gray-200",children:"Razn Social"}),jsxRuntimeExports.jsx("input",{type:"text",name:"name",value:tr.name,onChange:dr,className:"w-full rounded border px-3 py-2 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-gray-100 border-gray-300 dark:border-gray-700",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block font-medium mb-1 text-gray-700 dark:text-gray-200",children:"NIT"}),jsxRuntimeExports.jsx("input",{type:"text",name:"nit",value:tr.nit,onChange:dr,className:"w-full rounded border px-3 py-2 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-gray-100 border-gray-300 dark:border-gray-700",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block font-medium mb-1 text-gray-700 dark:text-gray-200",children:"Representante Legal"}),jsxRuntimeExports.jsx("input",{type:"text",name:"legalRepresentative",value:tr.legalRepresentative,onChange:dr,className:"w-full rounded border px-3 py-2 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-gray-100 border-gray-300 dark:border-gray-700",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block font-medium mb-1 text-gray-700 dark:text-gray-200",children:"Direccin"}),jsxRuntimeExports.jsx("input",{type:"text",name:"address",value:tr.address,onChange:dr,className:"w-full rounded border px-3 py-2 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-gray-100 border-gray-300 dark:border-gray-700",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block font-medium mb-1 text-gray-700 dark:text-gray-200",children:"Telfono"}),jsxRuntimeExports.jsx("input",{type:"text",name:"phone",value:tr.phone,onChange:dr,className:"w-full rounded border px-3 py-2 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-gray-100 border-gray-300 dark:border-gray-700",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block font-medium mb-1 text-gray-700 dark:text-gray-200",children:"Correo electrnico"}),jsxRuntimeExports.jsx("input",{type:"email",name:"contactEmail",value:tr.contactEmail,onChange:dr,className:"w-full rounded border px-3 py-2 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-gray-100 border-gray-300 dark:border-gray-700",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block font-medium mb-1 text-gray-700 dark:text-gray-200",children:"Fecha de Fundacin"}),jsxRuntimeExports.jsx("input",{type:"date",name:"foundationDate",value:tr.foundationDate?tr.foundationDate.slice(0,10):"",onChange:dr,className:"w-full rounded border px-3 py-2 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-gray-100 border-gray-300 dark:border-gray-700",required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"status",checked:!!tr.status,onChange:dr,className:"rounded border-gray-300 dark:border-gray-700 accent-blue-600 dark:accent-blue-400",id:"status"}),jsxRuntimeExports.jsx("label",{htmlFor:"status",className:"font-medium text-gray-700 dark:text-gray-200 select-none",children:"Empresa activa"})]})]}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:sr,className:"mt-4 px-6 py-2 rounded bg-blue-600 text-white font-semibold hover:bg-blue-700 transition disabled:opacity-60",children:sr?"Guardando...":"Guardar cambios"}),or&&jsxRuntimeExports.jsx("div",{className:"text-green-600 dark:text-green-400 text-center mt-2",children:or})]})}function FaEye(St){return GenIcon({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"}}]})(St)}function FaLaptopCode(St){return GenIcon({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M64 96c0-35.3 28.7-64 64-64H512c35.3 0 64 28.7 64 64V352H512V96H128V352H64V96zM0 403.2C0 392.6 8.6 384 19.2 384H620.8c10.6 0 19.2 8.6 19.2 19.2c0 42.4-34.4 76.8-76.8 76.8H76.8C34.4 480 0 445.6 0 403.2zM281 209l-31 31 31 31c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-48-48c-9.4-9.4-9.4-24.6 0-33.9l48-48c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9zM393 175l48 48c9.4 9.4 9.4 24.6 0 33.9l-48 48c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l31-31-31-31c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0z"}}]})(St)}function FaToggleOff(St){return GenIcon({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 128c70.7 0 128 57.3 128 128s-57.3 128-128 128H192c-70.7 0-128-57.3-128-128s57.3-128 128-128H384zM576 256c0-106-86-192-192-192H192C86 64 0 150 0 256S86 448 192 448H384c106 0 192-86 192-192zM192 352a96 96 0 1 0 0-192 96 96 0 1 0 0 192z"}}]})(St)}function FaToggleOn(St){return GenIcon({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M192 64C86 64 0 150 0 256S86 448 192 448H384c106 0 192-86 192-192s-86-192-192-192H192zm192 96a96 96 0 1 1 0 192 96 96 0 1 1 0-192z"}}]})(St)}function FaTrash(St){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z"}}]})(St)}function SedesEmpresa(){var Rr;const[St,er]=reactExports.useState([]),[tr,rr]=reactExports.useState([]),[nr,ar]=reactExports.useState(!0),[sr,ir]=reactExports.useState(null),[or,lr]=reactExports.useState(!1),[cr,ur]=reactExports.useState(!1),[dr,fr]=reactExports.useState(!1),[mr,xr]=reactExports.useState(null),[pr,hr]=reactExports.useState(null),[gr,vr]=reactExports.useState(!1),[br,yr]=reactExports.useState(null),[Er,jr]=reactExports.useState({name:"",habilitationCode:"",company:0,departament:"",city:"",address:"",habilitationDate:"",closingDate:"",status:!0}),[_r,Cr]=reactExports.useState(""),[Or,Pr]=reactExports.useState("");reactExports.useEffect(()=>{const Tr=async()=>{try{const Mr=await axiosInstance.get("/companies/headquarters/");er(Mr.data),ar(!1)}catch{ir("No se pudieron cargar las sedes"),ar(!1)}},Dr=async()=>{try{const Mr=await axiosInstance.get("/companies/companies/");console.log("Companies response:",Mr.data),Array.isArray(Mr.data)?rr(Mr.data):(console.error("Companies response is not an array:",Mr.data),rr([]))}catch(Mr){console.error("Error fetching companies:",Mr),ir("No se pudieron cargar las empresas"),rr([])}};Tr(),Dr()},[]);const Lr=Tr=>{const{name:Dr,value:Mr,type:Br}=Tr.target;jr(qr=>({...qr,[Dr]:Br==="checkbox"?Tr.target.checked:Mr}))},Gr=()=>!Er.name||!Er.habilitationCode||!Er.company||!Er.departament||!Er.city||!Er.address||!Er.habilitationDate?(Pr("Todos los campos obligatorios deben estar completos."),!1):!0,Kr=async Tr=>{if(Tr.preventDefault(),Pr(""),Cr(""),!!Gr())try{if(cr&&Er.id){const Dr=await axiosInstance.put(`/companies/headquarters/${Er.id}/`,Er);er(Mr=>Mr.map(Br=>Br.id===Dr.data.id?Dr.data:Br)),Cr("Sede actualizada exitosamente")}else{const Dr=await axiosInstance.post("/companies/headquarters/",Er);er(Mr=>[...Mr,Dr.data]),Cr("Sede creada exitosamente")}lr(!1),Yr()}catch{Pr("Error al guardar la sede.")}},nn=Tr=>{jr(Tr),ur(!0),lr(!0)},Qr=Tr=>{yr(Tr),vr(!0)},zr=Tr=>{xr(Tr),fr(!0)},Vr=async()=>{if(mr)try{await axiosInstance.delete(`/companies/headquarters/${mr}/`),er(Tr=>Tr.filter(Dr=>Dr.id!==mr)),Cr("Sede eliminada exitosamente")}catch{Pr("Error al eliminar la sede.")}finally{xr(null),fr(!1)}},Jr=(Tr,Dr)=>{hr({id:Tr,currentStatus:Dr}),fr(!0)},tn=async()=>{if(pr)try{const Tr=await axiosInstance.patch(`/companies/headquarters/${pr.id}/`,{status:!pr.currentStatus});er(Dr=>Dr.map(Mr=>Mr.id===pr.id?{...Mr,status:Tr.data.status}:Mr)),Cr(`Sede ${pr.currentStatus?"inactivada":"activada"} exitosamente`)}catch{Pr("Error al cambiar el estado de la sede.")}finally{hr(null),fr(!1)}},Yr=()=>{jr({name:"",habilitationCode:"",company:0,departament:"",city:"",address:"",habilitationDate:"",closingDate:"",status:!0}),ur(!1),lr(!1)},Sr=()=>{Yr(),lr(!0)};return nr?jsxRuntimeExports.jsx("div",{className:"text-center py-8 text-blue-600 dark:text-blue-300",children:"Cargando sedes..."}):sr?jsxRuntimeExports.jsx("div",{className:"text-center py-8 text-red-600 dark:text-red-400",children:sr}):jsxRuntimeExports.jsxs("div",{className:"p-4 sm:p-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-900 dark:text-gray-100",children:"Sedes"}),jsxRuntimeExports.jsx("button",{className:"mb-4 px-4 py-2 bg-blue-600 text-white hover:bg-blue-700 rounded-md",onClick:Sr,children:"Agregar Sede"})]}),_r&&jsxRuntimeExports.jsx("div",{className:"mb-4 text-green-600 dark:text-green-400",children:_r}),or&&jsxRuntimeExports.jsx("div",{className:"fixed z-50 inset-0 overflow-y-auto bg-black bg-opacity-60 flex items-center justify-center p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg p-6 shadow-xl w-full max-w-lg mx-auto my-4 sm:p-8",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl sm:text-2xl font-bold mb-6 text-center text-gray-900 dark:text-gray-100",children:[cr?"Editar":"Agregar"," Sede"]}),jsxRuntimeExports.jsxs("form",{onSubmit:Kr,className:"space-y-6",children:[Or&&jsxRuntimeExports.jsx("div",{className:"text-red-600 dark:text-red-400",children:Or}),jsxRuntimeExports.jsxs("div",{className:"grid gap-4 sm:gap-6 grid-cols-1 sm:grid-cols-2",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200",children:"Nombre"}),jsxRuntimeExports.jsx("input",{type:"text",name:"name",placeholder:"Nombre de la sede",value:Er.name||"",onChange:Lr,className:"mt-1 p-3 block w-full border border-gray-300 dark:border-gray-700 rounded-md shadow-sm bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-gray-100",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200",children:"Cdigo de habilitacin"}),jsxRuntimeExports.jsx("input",{type:"text",name:"habilitationCode",placeholder:"Cdigo de habilitacin de la sede",value:Er.habilitationCode||"",onChange:Lr,className:"mt-1 p-3 block w-full border border-gray-300 dark:border-gray-700 rounded-md shadow-sm bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-gray-100",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200",children:"Empresa"}),jsxRuntimeExports.jsxs("select",{name:"company",value:Er.company||"",onChange:Lr,className:"mt-1 p-3 block w-full border border-gray-300 dark:border-gray-700 rounded-md shadow-sm bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-gray-100",required:!0,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Seleccione una empresa"}),Array.isArray(tr)&&tr.map(Tr=>jsxRuntimeExports.jsx("option",{value:Tr.id,children:Tr.name},Tr.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200",children:"Departamento"}),jsxRuntimeExports.jsx("input",{type:"text",name:"departament",placeholder:"Departamento de la sede",value:Er.departament||"",onChange:Lr,className:"mt-1 p-3 block w-full border border-gray-300 dark:border-gray-700 rounded-md shadow-sm bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-gray-100",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200",children:"Ciudad"}),jsxRuntimeExports.jsx("input",{type:"text",name:"city",placeholder:"Ciudad de la sede",value:Er.city||"",onChange:Lr,className:"mt-1 p-3 block w-full border border-gray-300 dark:border-gray-700 rounded-md shadow-sm bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-gray-100",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200",children:"Direccin"}),jsxRuntimeExports.jsx("input",{type:"text",name:"address",placeholder:"Direccin de la sede",value:Er.address||"",onChange:Lr,className:"mt-1 p-3 block w-full border border-gray-300 dark:border-gray-700 rounded-md shadow-sm bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-gray-100",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200",children:"Fecha de habilitacin"}),jsxRuntimeExports.jsx("input",{type:"date",name:"habilitationDate",value:Er.habilitationDate||"",onChange:Lr,className:"mt-1 p-3 block w-full border border-gray-300 dark:border-gray-700 rounded-md shadow-sm bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-gray-100",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200",children:"Fecha de cierre"}),jsxRuntimeExports.jsx("input",{type:"date",name:"closingDate",value:Er.closingDate||"",onChange:Lr,className:"mt-1 p-3 block w-full border border-gray-300 dark:border-gray-700 rounded-md shadow-sm bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-gray-100"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200",children:"Estado"}),jsxRuntimeExports.jsxs("select",{name:"status",value:Er.status?"true":"false",onChange:Lr,className:"mt-1 p-3 block w-full border border-gray-300 dark:border-gray-700 rounded-md shadow-sm bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-gray-100",children:[jsxRuntimeExports.jsx("option",{value:"true",children:"Activo"}),jsxRuntimeExports.jsx("option",{value:"false",children:"Inactivo"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-center sm:justify-end space-x-4 mt-8",children:[jsxRuntimeExports.jsx("button",{type:"button",className:"px-4 py-2 sm:px-6 sm:py-3 bg-gray-300 dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-md hover:bg-gray-400 dark:hover:bg-gray-600 transition-colors",onClick:()=>lr(!1),children:"Cancelar"}),jsxRuntimeExports.jsx("button",{type:"submit",className:"px-4 py-2 sm:px-6 sm:py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:cr?"Actualizar":"Guardar"})]})]})]})}),gr&&br&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-70 p-4 transition-opacity duration-300 ease-out",children:jsxRuntimeExports.jsxs("div",{className:"relative w-full max-w-lg rounded-2xl bg-white dark:bg-gray-900 p-6 shadow-2xl sm:p-8 transform transition-all duration-300 scale-100 hover:scale-[1.01]",children:[jsxRuntimeExports.jsx("button",{className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors",onClick:()=>vr(!1),"aria-label":"Cerrar modal",children:jsxRuntimeExports.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100 mb-6 text-center tracking-tight",children:"Detalles de la Sede"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4 text-gray-700 dark:text-gray-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between border-b pb-2",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Nombre:"}),jsxRuntimeExports.jsx("span",{children:br.name||"N/A"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between border-b pb-2",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Cdigo de Habilitacin:"}),jsxRuntimeExports.jsx("span",{children:br.habilitationCode||"N/A"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between border-b pb-2",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Empresa:"}),jsxRuntimeExports.jsx("span",{children:((Rr=tr.find(Tr=>Tr.id===br.company))==null?void 0:Rr.name)||"N/A"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between border-b pb-2",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Departamento:"}),jsxRuntimeExports.jsx("span",{children:br.departament||"N/A"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between border-b pb-2",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Ciudad:"}),jsxRuntimeExports.jsx("span",{children:br.city||"N/A"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between border-b pb-2",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Direccin:"}),jsxRuntimeExports.jsx("span",{children:br.address||"N/A"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between border-b pb-2",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Fecha de Habilitacin:"}),jsxRuntimeExports.jsx("span",{children:br.habilitationDate||"N/A"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between border-b pb-2",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Fecha de Cierre:"}),jsxRuntimeExports.jsx("span",{children:br.closingDate||"N/A"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between border-b pb-2",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Estado:"}),jsxRuntimeExports.jsx("span",{children:br.status?"Activo":"Inactivo"})]})]}),jsxRuntimeExports.jsx("div",{className:"mt-8 flex justify-center",children:jsxRuntimeExports.jsx("button",{className:"px-6 py-2.5 bg-indigo-600 text-white font-medium rounded-lg hover:bg-indigo-700 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:ring-offset-2",onClick:()=>vr(!1),children:"Cerrar"})})]})}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"ID"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Nombre"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Cdigo"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Departamento"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Ciudad"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Direccin"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Habilitacin"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase",children:"Acciones"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700",children:St.map(Tr=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-900 dark:text-gray-100",children:Tr.id}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-900 dark:text-gray-100",children:Tr.name}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-900 dark:text-gray-100",children:Tr.habilitationCode}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-900 dark:text-gray-100",children:Tr.departament}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-900 dark:text-gray-100",children:Tr.city}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-900 dark:text-gray-100",children:Tr.address}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-900 dark:text-gray-100",children:Tr.habilitationDate}),jsxRuntimeExports.jsxs("td",{className:"px-6 py-4 text-sm text-gray-500 dark:text-gray-300 flex space-x-4",children:[jsxRuntimeExports.jsx("button",{className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",onClick:()=>nn(Tr),title:"Editar","aria-label":"Editar sede",children:jsxRuntimeExports.jsx(FaEdit,{size:20})}),jsxRuntimeExports.jsx("button",{className:"text-green-600 hover:text-green-800 dark:text-green-400 dark:hover:text-green-300",onClick:()=>Qr(Tr),title:"Ver","aria-label":"Ver sede",children:jsxRuntimeExports.jsx(FaEye,{size:20})}),jsxRuntimeExports.jsx("button",{className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",onClick:()=>zr(Tr.id),title:"Eliminar","aria-label":"Eliminar sede",children:jsxRuntimeExports.jsx(FaTrash,{size:20})}),jsxRuntimeExports.jsx("button",{className:Tr.status?"text-yellow-600 hover:text-yellow-800 dark:text-yellow-400 dark:hover:text-yellow-300":"text-green-600 hover:text-green-800 dark:text-green-400 dark:hover:text-green-300",onClick:()=>Jr(Tr.id,Tr.status),title:Tr.status?"Inactivar":"Activar","aria-label":Tr.status?"Inactivar sede":"Activar sede",children:Tr.status?jsxRuntimeExports.jsx(FaToggleOff,{size:20}):jsxRuntimeExports.jsx(FaToggleOn,{size:20})})]})]},Tr.id))})]})}),dr&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg p-6 shadow-xl w-full max-w-md mx-auto",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100",children:"Confirmar Accin"}),jsxRuntimeExports.jsx("p",{className:"mb-6 text-gray-700 dark:text-gray-200",children:mr?"Ests seguro de que deseas eliminar esta sede? Esta accin no se puede deshacer.":pr?`Ests seguro de que deseas ${pr.currentStatus?"inactivar":"activar"} esta sede?`:"Ests seguro de que deseas realizar esta accin?"}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-4",children:[jsxRuntimeExports.jsx("button",{className:"px-4 py-2 bg-gray-300 dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded hover:bg-gray-400 dark:hover:bg-gray-600",onClick:()=>{fr(!1),xr(null),hr(null)},children:"Cancelar"}),jsxRuntimeExports.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",onClick:()=>{mr&&Vr(),pr&&tn()},children:"Confirmar"})]})]})})]})}function AreasEmpresa(){var Rr;const[St,er]=reactExports.useState([]),[tr,rr]=reactExports.useState([]),[nr,ar]=reactExports.useState(!0),[sr,ir]=reactExports.useState(null),[or,lr]=reactExports.useState(!1),[cr,ur]=reactExports.useState(!1),[dr,fr]=reactExports.useState(!1),[mr,xr]=reactExports.useState(null),[pr,hr]=reactExports.useState(null),[gr,vr]=reactExports.useState(!1),[br,yr]=reactExports.useState(null),[Er,jr]=reactExports.useState(""),[_r,Cr]=reactExports.useState(""),[Or,Pr]=reactExports.useState({name:"",departmentCode:"",company:0,description:"",status:!0});reactExports.useEffect(()=>{const Tr=async()=>{try{const Mr=await axiosInstance.get("/companies/departments/");er(Mr.data),ar(!1)}catch{ir("No se pudieron cargar las reas"),ar(!1)}},Dr=async()=>{try{const Mr=await axiosInstance.get("/companies/companies/");rr(Mr.data)}catch{ir("No se pudieron cargar las empresas")}};Tr(),Dr()},[]);const Lr=Tr=>{const{name:Dr,value:Mr,type:Br}=Tr.target;Pr(qr=>({...qr,[Dr]:Br==="checkbox"?Tr.target.checked:Mr}))},Gr=()=>!Or.name||!Or.departmentCode||!Or.company||!Or.description?(Cr("Todos los campos obligatorios deben estar completos."),!1):!0,Kr=async Tr=>{if(Tr.preventDefault(),Cr(""),jr(""),!!Gr())try{if(or&&Or.id){const Dr=await axiosInstance.put(`/companies/departments/${Or.id}/`,Or);er(Mr=>Mr.map(Br=>Br.id===Dr.data.id?Dr.data:Br)),jr("rea actualizada exitosamente")}else{const Dr=await axiosInstance.post("/companies/departments/",Or);er(Mr=>[...Mr,Dr.data]),jr("rea creada exitosamente")}ur(!1),Yr()}catch{Cr("Error al guardar el rea.")}},nn=Tr=>{Pr(Tr),lr(!0),ur(!0)},Qr=Tr=>{yr(Tr),vr(!0)},zr=Tr=>{xr(Tr),fr(!0)},Vr=async()=>{if(mr)try{await axiosInstance.delete(`/companies/departments/${mr}/`),er(Tr=>Tr.filter(Dr=>Dr.id!==mr)),jr("rea eliminada exitosamente")}catch{Cr("Error al eliminar el rea.")}finally{xr(null),fr(!1)}},Jr=(Tr,Dr)=>{hr({id:Tr,currentStatus:Dr}),fr(!0)},tn=async()=>{if(pr)try{const Tr=await axiosInstance.patch(`/companies/departments/${pr.id}/`,{status:!pr.currentStatus});er(Dr=>Dr.map(Mr=>Mr.id===pr.id?{...Mr,status:Tr.data.status}:Mr)),jr(`rea ${pr.currentStatus?"inactivada":"activada"} exitosamente`)}catch{Cr("Error al cambiar el estado del rea.")}finally{hr(null),fr(!1)}},Yr=()=>{Pr({name:"",departmentCode:"",company:0,description:"",status:!0}),lr(!1),ur(!1)},Sr=()=>{Yr(),ur(!0)};return nr?jsxRuntimeExports.jsx("div",{className:"text-center py-8 text-blue-600 dark:text-blue-300",children:"Cargando reas..."}):sr?jsxRuntimeExports.jsx("div",{className:"text-center py-8 text-red-600 dark:text-red-400",children:sr}):jsxRuntimeExports.jsxs("div",{className:"p-4 sm:p-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-900 dark:text-gray-100",children:"reas"}),jsxRuntimeExports.jsx("button",{className:"mb-4 px-4 py-2 bg-blue-600 text-white hover:bg-blue-700 rounded-md",onClick:Sr,children:"Agregar rea"})]}),Er&&jsxRuntimeExports.jsx("div",{className:"mb-4 text-green-600 dark:text-green-400",children:Er}),cr&&jsxRuntimeExports.jsx("div",{className:"fixed z-50 inset-0 overflow-y-auto bg-black bg-opacity-60 flex items-center justify-center p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg p-6 shadow-xl w-full max-w-lg mx-auto my-4 sm:p-8",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl sm:text-2xl font-bold mb-6 text-center text-gray-900 dark:text-gray-100",children:[or?"Editar":"Agregar"," rea"]}),jsxRuntimeExports.jsxs("form",{onSubmit:Kr,className:"space-y-6",children:[_r&&jsxRuntimeExports.jsx("div",{className:"text-red-600 dark:text-red-400",children:_r}),jsxRuntimeExports.jsxs("div",{className:"grid gap-4 sm:gap-6 grid-cols-1 sm:grid-cols-2",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200",children:"Nombre del rea"}),jsxRuntimeExports.jsx("input",{type:"text",name:"name",placeholder:"Nombre",value:Or.name||"",onChange:Lr,className:"mt-1 p-3 block w-full border border-gray-300 dark:border-gray-700 rounded-md shadow-sm bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-gray-100",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200",children:"Cdigo de rea"}),jsxRuntimeExports.jsx("input",{type:"text",name:"departmentCode",placeholder:"Cdigo de rea",value:Or.departmentCode||"",onChange:Lr,className:"mt-1 p-3 block w-full border border-gray-300 dark:border-gray-700 rounded-md shadow-sm bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-gray-100",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200",children:"Empresa"}),jsxRuntimeExports.jsxs("select",{name:"company",value:Or.company||"",onChange:Lr,className:"mt-1 p-3 block w-full border border-gray-300 dark:border-gray-700 rounded-md shadow-sm bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-gray-100",required:!0,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Seleccione Empresa"}),tr.map(Tr=>jsxRuntimeExports.jsx("option",{value:Tr.id,children:Tr.name},Tr.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200",children:"Descripcin"}),jsxRuntimeExports.jsx("input",{type:"text",name:"description",placeholder:"Descripcin",value:Or.description||"",onChange:Lr,className:"mt-1 p-3 block w-full border border-gray-300 dark:border-gray-700 rounded-md shadow-sm bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-gray-100",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200",children:"Estado"}),jsxRuntimeExports.jsxs("select",{name:"status",value:Or.status?"true":"false",onChange:Lr,className:"mt-1 p-3 block w-full border border-gray-300 dark:border-gray-700 rounded-md shadow-sm bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-gray-100",required:!0,children:[jsxRuntimeExports.jsx("option",{value:"true",children:"Activo"}),jsxRuntimeExports.jsx("option",{value:"false",children:"Inactivo"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-center sm:justify-end space-x-4 mt-8",children:[jsxRuntimeExports.jsx("button",{type:"button",className:"px-4 py-2 sm:px-6 sm:py-3 bg-gray-300 dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-md hover:bg-gray-400 dark:hover:bg-gray-600 transition-colors",onClick:()=>ur(!1),children:"Cancelar"}),jsxRuntimeExports.jsx("button",{type:"submit",className:"px-4 py-2 sm:px-6 sm:py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:or?"Actualizar":"Guardar"})]})]})]})}),gr&&br&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-70 p-4 transition-opacity duration-300 ease-out",children:jsxRuntimeExports.jsxs("div",{className:"relative w-full max-w-lg rounded-2xl bg-white dark:bg-gray-900 p-6 shadow-2xl sm:p-8 transform transition-all duration-300 scale-100 hover:scale-[1.01]",children:[jsxRuntimeExports.jsx("button",{className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors",onClick:()=>vr(!1),"aria-label":"Cerrar modal",children:jsxRuntimeExports.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100 mb-6 text-center tracking-tight",children:"Detalles del rea"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4 text-gray-700 dark:text-gray-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between border-b pb-2",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Nombre:"}),jsxRuntimeExports.jsx("span",{children:br.name||"N/A"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between border-b pb-2",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Cdigo de rea:"}),jsxRuntimeExports.jsx("span",{children:br.departmentCode||"N/A"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between border-b pb-2",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Empresa:"}),jsxRuntimeExports.jsx("span",{children:((Rr=tr.find(Tr=>Tr.id===br.company))==null?void 0:Rr.name)||"N/A"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between border-b pb-2",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Descripcin:"}),jsxRuntimeExports.jsx("span",{children:br.description||"N/A"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between border-b pb-2",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Estado:"}),jsxRuntimeExports.jsx("span",{children:br.status?"Activo":"Inactivo"})]})]}),jsxRuntimeExports.jsx("div",{className:"mt-8 flex justify-center",children:jsxRuntimeExports.jsx("button",{className:"px-6 py-2.5 bg-indigo-600 text-white font-medium rounded-lg hover:bg-indigo-700 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:ring-offset-2",onClick:()=>vr(!1),children:"Cerrar"})})]})}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"ID"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Nombre"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Cdigo"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Descripcin"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Estado"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase",children:"Acciones"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700",children:St.map(Tr=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-900 dark:text-gray-100",children:Tr.id}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-900 dark:text-gray-100",children:Tr.name}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-900 dark:text-gray-100",children:Tr.departmentCode}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-900 dark:text-gray-100",children:Tr.description}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-900 dark:text-gray-100",children:Tr.status?"Activo":"Inactivo"}),jsxRuntimeExports.jsxs("td",{className:"px-6 py-4 text-sm text-gray-500 dark:text-gray-300 flex space-x-4",children:[jsxRuntimeExports.jsx("button",{className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",onClick:()=>nn(Tr),title:"Editar","aria-label":"Editar rea",children:jsxRuntimeExports.jsx(FaEdit,{size:20})}),jsxRuntimeExports.jsx("button",{className:"text-green-600 hover:text-green-800 dark:text-green-400 dark:hover:text-green-300",onClick:()=>Qr(Tr),title:"Ver","aria-label":"Ver rea",children:jsxRuntimeExports.jsx(FaEye,{size:20})}),jsxRuntimeExports.jsx("button",{className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",onClick:()=>zr(Tr.id),title:"Eliminar","aria-label":"Eliminar rea",children:jsxRuntimeExports.jsx(FaTrash,{size:20})}),jsxRuntimeExports.jsx("button",{className:Tr.status?"text-yellow-600 hover:text-yellow-800 dark:text-yellow-400 dark:hover:text-yellow-300":"text-green-600 hover:text-green-800 dark:text-green-400 dark:hover:text-green-300",onClick:()=>Jr(Tr.id,Tr.status),title:Tr.status?"Inactivar":"Activar","aria-label":Tr.status?"Inactivar rea":"Activar rea",children:Tr.status?jsxRuntimeExports.jsx(FaToggleOff,{size:20}):jsxRuntimeExports.jsx(FaToggleOn,{size:20})})]})]},Tr.id))})]})}),dr&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg p-6 shadow-xl w-full max-w-md mx-auto",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100",children:"Confirmar Accin"}),jsxRuntimeExports.jsx("p",{className:"mb-6 text-gray-700 dark:text-gray-200",children:mr?"Ests seguro de que deseas eliminar esta rea? Esta accin no se puede deshacer.":pr?`Ests seguro de que deseas ${pr.currentStatus?"inactivar":"activar"} esta rea?`:"Ests seguro de que deseas realizar esta accin?"}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-4",children:[jsxRuntimeExports.jsx("button",{className:"px-4 py-2 bg-gray-300 dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded hover:bg-gray-400 dark:hover:bg-gray-600",onClick:()=>{fr(!1),xr(null),hr(null)},children:"Cancelar"}),jsxRuntimeExports.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",onClick:()=>{mr&&Vr(),pr&&tn()},children:"Confirmar"})]})]})})]})}function TiposProceso(){const{user:St}=useAuthContext(),[er,tr]=reactExports.useState([]),[rr,nr]=reactExports.useState([]),[ar,sr]=reactExports.useState(!0),[ir,or]=reactExports.useState(null),[lr,cr]=reactExports.useState(!1),[ur,dr]=reactExports.useState(!1),[fr,mr]=reactExports.useState(!1),[xr,pr]=reactExports.useState(null),[hr,gr]=reactExports.useState(null),[vr,br]=reactExports.useState(!1),[yr,Er]=reactExports.useState(null),[jr,_r]=reactExports.useState(""),[Cr,Or]=reactExports.useState(""),[Pr,Lr]=reactExports.useState({name:"",description:"",company:0,status:!0,user:(St==null?void 0:St.id)||0});reactExports.useEffect(()=>{const Mr=async()=>{try{const qr=await axiosInstance.get("/companies/process_types/");console.log("Process types response:",qr.data),tr(Array.isArray(qr.data)?qr.data:[]),sr(!1)}catch(qr){console.error("Error fetching process types:",qr),or("No se pudieron cargar los tipos de proceso"),tr([]),sr(!1)}},Br=async()=>{try{const qr=await axiosInstance.get("/companies/companies/");console.log("Companies response:",qr.data),nr(Array.isArray(qr.data)?qr.data:[])}catch(qr){console.error("Error fetching companies:",qr),or("No se pudieron cargar las empresas"),nr([])}};Mr(),Br()},[]),reactExports.useEffect(()=>{St!=null&&St.id&&Lr(Mr=>({...Mr,user:St.id}))},[St]);const Gr=Mr=>{const{name:Br,value:qr,type:Wr}=Mr.target;Lr(sn=>({...sn,[Br]:Wr==="checkbox"?Mr.target.checked:qr}))},Kr=()=>!Pr.name||!Pr.description||!Pr.company?(Or("Todos los campos obligatorios deben estar completos."),!1):St!=null&&St.id?!0:(Or("Error: Usuario no autenticado."),!1),nn=async Mr=>{var Br,qr,Wr;if(Mr.preventDefault(),Or(""),_r(""),!!Kr())try{const sn={...Pr,user:St==null?void 0:St.id};if(lr&&Pr.id){const un={},Nr=er.find(en=>en.id===Pr.id);Nr&&(Object.keys(sn).forEach(en=>{const Zr=sn[en],Ir=Nr[en];Zr!==Ir&&Zr!==void 0&&Zr!==null&&Zr!==""&&(un[en]=Zr)}),un.user=St==null?void 0:St.id);const Ur=await axiosInstance.patch(`/companies/process_types/${Pr.id}/`,un);tr(en=>en.map(Zr=>Zr.id===Ur.data.id?Ur.data:Zr)),_r("Tipo de proceso actualizado exitosamente")}else{const un=await axiosInstance.post("/companies/process_types/",sn);tr(Nr=>[...Nr,un.data]),_r("Tipo de proceso creado exitosamente")}dr(!1),Sr()}catch(sn){console.error("Error saving process type:",(Br=sn.response)==null?void 0:Br.data),Or(((Wr=(qr=sn.response)==null?void 0:qr.data)==null?void 0:Wr.detail)||"Error al guardar el tipo de proceso.")}},Qr=Mr=>{Lr({...Mr,user:(St==null?void 0:St.id)||Mr.user}),cr(!0),dr(!0)},zr=Mr=>{Er(Mr),br(!0)},Vr=Mr=>{pr(Mr),mr(!0)},Jr=async()=>{if(xr)try{await axiosInstance.delete(`/companies/process_types/${xr}/`),tr(Mr=>Mr.filter(Br=>Br.id!==xr)),_r("Tipo de proceso eliminado exitosamente")}catch{Or("Error al eliminar el tipo de proceso.")}finally{pr(null),mr(!1)}},tn=(Mr,Br)=>{gr({id:Mr,currentStatus:Br}),mr(!0)},Yr=async()=>{if(hr)try{const Mr=await axiosInstance.patch(`/companies/process_types/${hr.id}/`,{status:!hr.currentStatus,user:St==null?void 0:St.id});tr(Br=>Br.map(qr=>qr.id===hr.id?{...qr,status:Mr.data.status}:qr)),_r(`Tipo de proceso ${hr.currentStatus?"inactivado":"activado"} exitosamente`)}catch{Or("Error al cambiar el estado del tipo de proceso.")}finally{gr(null),mr(!1)}},Sr=()=>{Lr({name:"",description:"",company:0,status:!0,user:(St==null?void 0:St.id)||0}),cr(!1),dr(!1),Or("")},Rr=()=>{Sr(),dr(!0)},Tr=Mr=>{const Br=rr.find(qr=>qr.id===Mr);return Br?Br.name:"N/A"},Dr=Mr=>`Usuario ${Mr}`;return ar?jsxRuntimeExports.jsxs("div",{className:"flex justify-center items-center h-64",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-blue-600 dark:text-blue-300",children:"Cargando tipos de proceso..."})]}):ir?jsxRuntimeExports.jsxs("div",{className:"text-center py-8 text-red-600 dark:text-red-400",children:[ir,jsxRuntimeExports.jsx("button",{onClick:()=>window.location.reload(),className:"block mx-auto mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Reintentar"})]}):jsxRuntimeExports.jsxs("div",{className:"p-4 sm:p-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Tipos de Proceso"}),jsxRuntimeExports.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white hover:bg-blue-700 rounded-md transition-colors",onClick:Rr,children:"Agregar Tipo de Proceso"})]}),jr&&jsxRuntimeExports.jsx("div",{className:"mb-4 p-3 bg-green-100 border border-green-400 text-green-700 rounded-lg dark:bg-green-900 dark:border-green-600 dark:text-green-200",children:jr}),Cr&&jsxRuntimeExports.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded-lg dark:bg-red-900 dark:border-red-600 dark:text-red-200",children:Cr}),ur&&jsxRuntimeExports.jsx("div",{className:"fixed z-50 inset-0 overflow-y-auto bg-black bg-opacity-60 flex items-center justify-center p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg p-6 shadow-xl w-full max-w-md mx-auto",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100",children:[lr?"Editar":"Crear"," Tipo de Proceso"]}),jsxRuntimeExports.jsxs("form",{onSubmit:nn,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200",children:"Nombre *"}),jsxRuntimeExports.jsx("input",{type:"text",name:"name",value:Pr.name||"",onChange:Gr,className:"mt-1 p-2 block w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200",children:"Descripcin *"}),jsxRuntimeExports.jsx("textarea",{name:"description",value:Pr.description||"",onChange:Gr,rows:3,className:"mt-1 p-2 block w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200",children:"Empresa *"}),jsxRuntimeExports.jsxs("select",{name:"company",value:Pr.company||"",onChange:Gr,className:"mt-1 p-2 block w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",required:!0,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Seleccione una empresa"}),Array.isArray(rr)&&rr.map(Mr=>jsxRuntimeExports.jsx("option",{value:Mr.id,children:Mr.name},Mr.id))]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"status",checked:Pr.status||!1,onChange:Gr,className:"mr-2"}),jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:"Activo"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>{Sr(),dr(!1)},className:"px-4 py-2 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded hover:bg-gray-400 dark:hover:bg-gray-500",children:"Cancelar"}),jsxRuntimeExports.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:lr?"Actualizar":"Crear"})]})]})]})}),vr&&yr&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-70 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg p-6 shadow-xl w-full max-w-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Detalles del Tipo de Proceso"}),jsxRuntimeExports.jsx("button",{onClick:()=>br(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:jsxRuntimeExports.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3 text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Nombre:"}),jsxRuntimeExports.jsx("span",{className:"text-gray-900 dark:text-gray-100",children:yr.name})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Descripcin:"}),jsxRuntimeExports.jsx("span",{className:"text-gray-900 dark:text-gray-100 text-right max-w-xs",children:yr.description})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Empresa:"}),jsxRuntimeExports.jsx("span",{className:"text-gray-900 dark:text-gray-100",children:Tr(yr.company)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Estado:"}),jsxRuntimeExports.jsx("span",{className:`px-2 py-1 rounded text-xs ${yr.status?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:yr.status?"Activo":"Inactivo"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Creado por:"}),jsxRuntimeExports.jsx("span",{className:"text-gray-900 dark:text-gray-100",children:Dr(yr.user)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Fecha de creacin:"}),jsxRuntimeExports.jsx("span",{className:"text-gray-900 dark:text-gray-100",children:new Date(yr.creationDate).toLocaleDateString("es-CO")})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"ltima actualizacin:"}),jsxRuntimeExports.jsx("span",{className:"text-gray-900 dark:text-gray-100",children:new Date(yr.updateDate).toLocaleDateString("es-CO")})]})]}),jsxRuntimeExports.jsx("div",{className:"mt-6 flex justify-end",children:jsxRuntimeExports.jsx("button",{onClick:()=>br(!1),className:"px-4 py-2 bg-gray-300 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-400 dark:hover:bg-gray-600",children:"Cerrar"})})]})}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Nombre"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Empresa"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Estado"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Fecha Creacin"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Acciones"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:er.map(Mr=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:Mr.name}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:Mr.description})]})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:Tr(Mr.company)}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Mr.status?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:Mr.status?"Activo":"Inactivo"})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:new Date(Mr.creationDate).toLocaleDateString("es-CO")}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>zr(Mr),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",title:"Ver detalles",children:jsxRuntimeExports.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.477 0 8.268 2.943 9.542 7-1.274 4.057-5.065 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),jsxRuntimeExports.jsx("button",{onClick:()=>Qr(Mr),className:"text-yellow-600 hover:text-yellow-900 dark:text-yellow-400 dark:hover:text-yellow-300",title:"Editar",children:jsxRuntimeExports.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),jsxRuntimeExports.jsx("button",{onClick:()=>tn(Mr.id,Mr.status),className:`${Mr.status?"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300":"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300"}`,title:Mr.status?"Desactivar":"Activar",children:jsxRuntimeExports.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:Mr.status?"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636m12.728 12.728L5.636 5.636":"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),jsxRuntimeExports.jsx("button",{onClick:()=>Vr(Mr.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",title:"Eliminar",children:jsxRuntimeExports.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},Mr.id))})]})}),er.length===0&&jsxRuntimeExports.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No se encontraron tipos de proceso."})]}),fr&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg p-6 shadow-xl w-full max-w-md",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100",children:hr?"Cambiar Estado":"Confirmar Eliminacin"}),jsxRuntimeExports.jsx("p",{className:"mb-6 text-gray-700 dark:text-gray-200",children:hr?`Ests seguro de que deseas ${hr.currentStatus?"desactivar":"activar"} este tipo de proceso?`:"Ests seguro de que deseas eliminar este tipo de proceso? Esta accin no se puede deshacer."}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>{mr(!1),pr(null),gr(null)},className:"px-4 py-2 bg-gray-300 dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded hover:bg-gray-400 dark:hover:bg-gray-600",children:"Cancelar"}),jsxRuntimeExports.jsx("button",{onClick:hr?Yr:Jr,className:`px-4 py-2 text-white rounded hover:opacity-90 ${hr?hr.currentStatus?"bg-red-600":"bg-green-600":"bg-red-600"}`,children:hr?hr.currentStatus?"Desactivar":"Activar":"Eliminar"})]})]})})]})}function Procesos(){const{user:St}=useAuthContext(),[er,tr]=reactExports.useState([]),[rr,nr]=reactExports.useState([]),[ar,sr]=reactExports.useState([]),[ir,or]=reactExports.useState(!0),[lr,cr]=reactExports.useState(null),[ur,dr]=reactExports.useState(!1),[fr,mr]=reactExports.useState(!1),[xr,pr]=reactExports.useState(!1),[hr,gr]=reactExports.useState(null),[vr,br]=reactExports.useState(null),[yr,Er]=reactExports.useState(!1),[jr,_r]=reactExports.useState(null),[Cr,Or]=reactExports.useState(""),[Pr,Lr]=reactExports.useState(""),[Gr,Kr]=reactExports.useState({name:"",description:"",code:"",version:"",status:!0,processType:0,department:0,user:(St==null?void 0:St.id)||0});reactExports.useEffect(()=>{const Wr=async()=>{try{const Nr=await axiosInstance.get("/companies/processes/");console.log("Processes response:",Nr.data),tr(Array.isArray(Nr.data)?Nr.data:[]),or(!1)}catch(Nr){console.error("Error fetching processes:",Nr),cr("No se pudieron cargar los procesos"),tr([]),or(!1)}},sn=async()=>{try{const Nr=await axiosInstance.get("/companies/process_types/");console.log("Process types response:",Nr.data),nr(Array.isArray(Nr.data)?Nr.data:[])}catch(Nr){console.error("Error fetching process types:",Nr),cr("No se pudieron cargar los tipos de proceso"),nr([])}},un=async()=>{try{const Nr=await axiosInstance.get("/companies/departments/");console.log("Departments response:",Nr.data),sr(Array.isArray(Nr.data)?Nr.data:[])}catch(Nr){console.error("Error fetching departments:",Nr),cr("No se pudieron cargar las reas"),sr([])}};Wr(),sn(),un()},[]),reactExports.useEffect(()=>{St!=null&&St.id&&Kr(Wr=>({...Wr,user:St.id}))},[St]);const nn=Wr=>{const{name:sn,value:un,type:Nr}=Wr.target;Kr(Ur=>({...Ur,[sn]:Nr==="checkbox"?Wr.target.checked:sn==="version"?Number(un):un}))},Qr=()=>!Gr.name||!Gr.description||!Gr.code||!Gr.version||!Gr.processType||!Gr.department?(Lr("Todos los campos obligatorios deben estar completos."),!1):St!=null&&St.id?!0:(Lr("Error: Usuario no autenticado."),!1),zr=async Wr=>{var sn,un,Nr;if(Wr.preventDefault(),Lr(""),Or(""),!!Qr())try{const Ur={...Gr,user:St==null?void 0:St.id};if(ur&&Gr.id){const en={},Zr=er.find(on=>on.id===Gr.id);Zr&&(Object.keys(Ur).forEach(on=>{const vn=Ur[on],yn=Zr[on];vn!==yn&&vn!==void 0&&vn!==null&&vn!==""&&(en[on]=vn)}),en.user=St==null?void 0:St.id);const Ir=await axiosInstance.patch(`/companies/processes/${Gr.id}/`,en);tr(on=>on.map(vn=>vn.id===Ir.data.id?Ir.data:vn)),Or("Proceso actualizado exitosamente")}else{const en=await axiosInstance.post("/companies/processes/",Ur);tr(Zr=>[...Zr,en.data]),Or("Proceso creado exitosamente")}mr(!1),Tr()}catch(Ur){console.error("Error saving process:",(sn=Ur.response)==null?void 0:sn.data),Lr(((Nr=(un=Ur.response)==null?void 0:un.data)==null?void 0:Nr.detail)||"Error al guardar el proceso.")}},Vr=Wr=>{Kr({...Wr,user:(St==null?void 0:St.id)||Wr.user}),dr(!0),mr(!0)},Jr=Wr=>{_r(Wr),Er(!0)},tn=Wr=>{gr(Wr),pr(!0)},Yr=async()=>{if(hr)try{await axiosInstance.delete(`/companies/processes/${hr}/`),tr(Wr=>Wr.filter(sn=>sn.id!==hr)),Or("Proceso eliminado exitosamente")}catch{Lr("Error al eliminar el proceso.")}finally{gr(null),pr(!1)}},Sr=(Wr,sn)=>{br({id:Wr,currentStatus:sn}),pr(!0)},Rr=async()=>{if(vr)try{const Wr=await axiosInstance.patch(`/companies/processes/${vr.id}/`,{status:!vr.currentStatus,user:St==null?void 0:St.id});tr(sn=>sn.map(un=>un.id===vr.id?{...un,status:Wr.data.status}:un)),Or(`Proceso ${vr.currentStatus?"inactivado":"activado"} exitosamente`)}catch{Lr("Error al cambiar el estado del proceso.")}finally{br(null),pr(!1)}},Tr=()=>{Kr({name:"",description:"",code:"",version:"",status:!0,processType:0,department:0,user:(St==null?void 0:St.id)||0}),dr(!1),mr(!1),Lr("")},Dr=()=>{Tr(),mr(!0)},Mr=Wr=>{const sn=rr.find(un=>un.id===Wr);return sn?sn.name:"N/A"},Br=Wr=>{const sn=ar.find(un=>un.id===Wr);return sn?sn.name:"N/A"},qr=Wr=>`Usuario ${Wr}`;return ir?jsxRuntimeExports.jsxs("div",{className:"flex justify-center items-center h-64",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-blue-600 dark:text-blue-300",children:"Cargando procesos..."})]}):lr?jsxRuntimeExports.jsxs("div",{className:"text-center py-8 text-red-600 dark:text-red-400",children:[lr,jsxRuntimeExports.jsx("button",{onClick:()=>window.location.reload(),className:"block mx-auto mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Reintentar"})]}):jsxRuntimeExports.jsxs("div",{className:"p-4 sm:p-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Procesos"}),jsxRuntimeExports.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white hover:bg-blue-700 rounded-md transition-colors",onClick:Dr,children:"Agregar Proceso"})]}),Cr&&jsxRuntimeExports.jsx("div",{className:"mb-4 p-3 bg-green-100 border border-green-400 text-green-700 rounded-lg dark:bg-green-900 dark:border-green-600 dark:text-green-200",children:Cr}),Pr&&jsxRuntimeExports.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded-lg dark:bg-red-900 dark:border-red-600 dark:text-red-200",children:Pr}),fr&&jsxRuntimeExports.jsx("div",{className:"fixed z-50 inset-0 overflow-y-auto bg-black bg-opacity-60 flex items-center justify-center p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg p-6 shadow-xl w-full max-w-2xl mx-auto",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100",children:[ur?"Editar":"Crear"," Proceso"]}),jsxRuntimeExports.jsxs("form",{onSubmit:zr,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200",children:"Nombre *"}),jsxRuntimeExports.jsx("input",{type:"text",name:"name",value:Gr.name||"",onChange:nn,className:"mt-1 p-2 block w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200",children:"Cdigo *"}),jsxRuntimeExports.jsx("input",{type:"text",name:"code",value:Gr.code||"",onChange:nn,className:"mt-1 p-2 block w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"sm:col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200",children:"Descripcin *"}),jsxRuntimeExports.jsx("textarea",{name:"description",value:Gr.description||"",onChange:nn,rows:3,className:"mt-1 p-2 block w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200",children:"Versin *"}),jsxRuntimeExports.jsx("input",{type:"text",name:"version",value:Gr.version||"",onChange:nn,className:"mt-1 p-2 block w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200",children:"Tipo de Proceso *"}),jsxRuntimeExports.jsxs("select",{name:"processType",value:Gr.processType||"",onChange:nn,className:"mt-1 p-2 block w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",required:!0,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Seleccione un tipo"}),Array.isArray(rr)&&rr.map(Wr=>jsxRuntimeExports.jsx("option",{value:Wr.id,children:Wr.name},Wr.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200",children:"Departamento *"}),jsxRuntimeExports.jsxs("select",{name:"department",value:Gr.department||"",onChange:nn,className:"mt-1 p-2 block w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",required:!0,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Seleccione un departamento"}),Array.isArray(ar)&&ar.map(Wr=>jsxRuntimeExports.jsx("option",{value:Wr.id,children:Wr.name},Wr.id))]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"status",checked:Gr.status||!1,onChange:nn,className:"mr-2"}),jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:"Activo"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>{Tr(),mr(!1)},className:"px-4 py-2 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded hover:bg-gray-400 dark:hover:bg-gray-500",children:"Cancelar"}),jsxRuntimeExports.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:ur?"Actualizar":"Crear"})]})]})]})}),yr&&jr&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-70 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg p-6 shadow-xl w-full max-w-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Detalles del Proceso"}),jsxRuntimeExports.jsx("button",{onClick:()=>Er(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:jsxRuntimeExports.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3 text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Nombre:"}),jsxRuntimeExports.jsx("span",{className:"text-gray-900 dark:text-gray-100",children:jr.name})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Cdigo:"}),jsxRuntimeExports.jsx("span",{className:"text-gray-900 dark:text-gray-100",children:jr.code})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Versin:"}),jsxRuntimeExports.jsx("span",{className:"text-gray-900 dark:text-gray-100",children:jr.version})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Descripcin:"}),jsxRuntimeExports.jsx("span",{className:"text-gray-900 dark:text-gray-100 text-right max-w-xs",children:jr.description})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Tipo:"}),jsxRuntimeExports.jsx("span",{className:"text-gray-900 dark:text-gray-100",children:Mr(jr.processType)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Departamento:"}),jsxRuntimeExports.jsx("span",{className:"text-gray-900 dark:text-gray-100",children:Br(jr.department)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Estado:"}),jsxRuntimeExports.jsx("span",{className:`px-2 py-1 rounded text-xs ${jr.status?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:jr.status?"Activo":"Inactivo"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Creado por:"}),jsxRuntimeExports.jsx("span",{className:"text-gray-900 dark:text-gray-100",children:qr(jr.user)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Fecha de creacin:"}),jsxRuntimeExports.jsx("span",{className:"text-gray-900 dark:text-gray-100",children:new Date(jr.creationDate).toLocaleDateString("es-CO")})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"ltima actualizacin:"}),jsxRuntimeExports.jsx("span",{className:"text-gray-900 dark:text-gray-100",children:new Date(jr.updateDate).toLocaleDateString("es-CO")})]})]}),jsxRuntimeExports.jsx("div",{className:"mt-6 flex justify-end",children:jsxRuntimeExports.jsx("button",{onClick:()=>Er(!1),className:"px-4 py-2 bg-gray-300 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-400 dark:hover:bg-gray-600",children:"Cerrar"})})]})}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Nombre"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Cdigo"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Tipo"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Departamento"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Estado"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Acciones"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:er.map(Wr=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:Wr.name}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["v",Wr.version]})]})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:Wr.code}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:Mr(Wr.processType)}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:Br(Wr.department)}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Wr.status?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:Wr.status?"Activo":"Inactivo"})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Jr(Wr),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",title:"Ver detalles",children:jsxRuntimeExports.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.477 0 8.268 2.943 9.542 7-1.274 4.057-5.065 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),jsxRuntimeExports.jsx("button",{onClick:()=>Vr(Wr),className:"text-yellow-600 hover:text-yellow-900 dark:text-yellow-400 dark:hover:text-yellow-300",title:"Editar",children:jsxRuntimeExports.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),jsxRuntimeExports.jsx("button",{onClick:()=>Sr(Wr.id,Wr.status),className:`${Wr.status?"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300":"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300"}`,title:Wr.status?"Desactivar":"Activar",children:jsxRuntimeExports.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:Wr.status?"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636m12.728 12.728L5.636 5.636":"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),jsxRuntimeExports.jsx("button",{onClick:()=>tn(Wr.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",title:"Eliminar",children:jsxRuntimeExports.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},Wr.id))})]})}),er.length===0&&jsxRuntimeExports.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No se encontraron procesos."})]}),xr&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg p-6 shadow-xl w-full max-w-md",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100",children:vr?"Cambiar Estado":"Confirmar Eliminacin"}),jsxRuntimeExports.jsx("p",{className:"mb-6 text-gray-700 dark:text-gray-200",children:vr?`Ests seguro de que deseas ${vr.currentStatus?"desactivar":"activar"} este proceso?`:"Ests seguro de que deseas eliminar este proceso? Esta accin no se puede deshacer."}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>{pr(!1),gr(null),br(null)},className:"px-4 py-2 bg-gray-300 dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded hover:bg-gray-400 dark:hover:bg-gray-600",children:"Cancelar"}),jsxRuntimeExports.jsx("button",{onClick:vr?Rr:Yr,className:`px-4 py-2 text-white rounded hover:opacity-90 ${vr?vr.currentStatus?"bg-red-600":"bg-green-600":"bg-red-600"}`,children:vr?vr.currentStatus?"Desactivar":"Activar":"Eliminar"})]})]})})]})}const TABS=[{label:"Empresa",value:"empresa"},{label:"Sedes",value:"sedes"},{label:"reas",value:"areas"},{label:"Tipos de Proceso",value:"tipos-proceso"},{label:"Procesos",value:"procesos"}];function AdministracionPage(){const[St,er]=reactExports.useState("empresa");return jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl shadow-lg p-8 min-h-[60vh]",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-6",children:"Administracin General"}),jsxRuntimeExports.jsx("div",{className:"flex gap-4 mb-8 border-b border-gray-200 dark:border-gray-700",children:TABS.map(tr=>jsxRuntimeExports.jsx("button",{onClick:()=>er(tr.value),className:`px-4 py-2 font-semibold border-b-2 transition ${St===tr.value?"border-blue-600 text-blue-600 dark:text-blue-300":"border-transparent text-gray-600 dark:text-gray-300 hover:text-blue-600"}`,children:tr.label},tr.value))}),jsxRuntimeExports.jsxs("div",{children:[St==="empresa"&&jsxRuntimeExports.jsx(InformacionEmpresa,{}),St==="sedes"&&jsxRuntimeExports.jsx(SedesEmpresa,{}),St==="areas"&&jsxRuntimeExports.jsx(AreasEmpresa,{}),St==="tipos-proceso"&&jsxRuntimeExports.jsx(TiposProceso,{}),St==="procesos"&&jsxRuntimeExports.jsx(Procesos,{})]})]})}class ContenidoCrudService{constructor(){_i(this,"repository");this.repository=new MenuRepository}async createContenido(er){var tr,rr;try{return{success:!0,data:await this.repository.createContenido(er),message:"Contenido creado exitosamente"}}catch(nr){return console.error("Error creating contenido:",nr),{success:!1,message:((rr=(tr=nr.response)==null?void 0:tr.data)==null?void 0:rr.message)||"Error al crear contenido"}}}async updateContenido(er){var tr,rr;try{return{success:!0,data:await this.repository.updateContenido(er),message:"Contenido actualizado exitosamente"}}catch(nr){return console.error("Error updating contenido:",nr),{success:!1,message:((rr=(tr=nr.response)==null?void 0:tr.data)==null?void 0:rr.message)||"Error al actualizar contenido"}}}async deleteContenido(er){var tr,rr;try{return await this.repository.deleteContenido(er),{success:!0,message:"Contenido eliminado exitosamente"}}catch(nr){return console.error("Error deleting contenido:",nr),{success:!1,message:((rr=(tr=nr.response)==null?void 0:tr.data)==null?void 0:rr.message)||"Error al eliminar contenido"}}}}class MenuPermissionService{static getPermissions(er=[],tr="menu"){const rr=er.filter(ur=>{var dr,fr;return((fr=(dr=ur==null?void 0:ur.app)==null?void 0:dr.name)==null?void 0:fr.toLowerCase())===tr.toLowerCase()}),nr=rr.some(ur=>(ur==null?void 0:ur.name)==="admin"),ar=rr.some(ur=>(ur==null?void 0:ur.name)==="eventos"),sr=rr.some(ur=>(ur==null?void 0:ur.name)==="felicitaciones"),ir=rr.some(ur=>(ur==null?void 0:ur.name)==="funcionarios"),or=rr.some(ur=>(ur==null?void 0:ur.name)==="noticias"),lr=rr.some(ur=>(ur==null?void 0:ur.name)==="reconocimientos");let cr="viewer";return nr?cr="admin":ar?cr="eventos":sr?cr="felicitaciones":ir?cr="funcionarios":or?cr="noticias":lr&&(cr="reconocimientos"),{isAdmin:nr,canViewContent:!0,canManageEventos:nr||ar,canManageFelicitaciones:nr||sr,canManageFuncionarios:nr||ir,canManageNoticias:nr||or,canManageReconocimientos:nr||lr,canCreate:nr||ar||sr||ir||or||lr,canEdit:nr||ar||sr||ir||or||lr,canDelete:nr||ar||sr||ir||or||lr,userRole:cr,hasSpecificPageAccess:ur=>{if(nr)return!0;switch(ur){case"eventos":return ar;case"felicitaciones":return sr;case"funcionarios":return ir;case"noticias":return or;case"reconocimientos":return lr;default:return!1}}}}static getPermissionMessage(er,tr){var nr;return((nr={viewer:{create:"No tienes permisos para crear contenido. Contacta al administrador.",edit:"No tienes permisos para editar contenido. Contacta al administrador.",delete:"No tienes permisos para eliminar contenido. Contacta al administrador.",access:"Solo puedes visualizar el contenido."},eventos:{create:"Solo puedes crear eventos.",edit:"Solo puedes editar eventos.",delete:"Solo puedes eliminar eventos.",access:"Tienes acceso completo a la gestin de eventos."},felicitaciones:{create:"Solo puedes crear felicitaciones.",edit:"Solo puedes editar felicitaciones.",delete:"Solo puedes eliminar felicitaciones.",access:"Tienes acceso completo a la gestin de felicitaciones."},funcionarios:{create:"Solo puedes crear funcionarios.",edit:"Solo puedes editar funcionarios.",delete:"Solo puedes eliminar funcionarios.",access:"Tienes acceso completo a la gestin de funcionarios."},noticias:{create:"Solo puedes crear noticias.",edit:"Solo puedes editar noticias.",delete:"Solo puedes eliminar noticias.",access:"Tienes acceso completo a la gestin de noticias."},reconocimientos:{create:"Solo puedes crear reconocimientos.",edit:"Solo puedes editar reconocimientos.",delete:"Solo puedes eliminar reconocimientos.",access:"Tienes acceso completo a la gestin de reconocimientos."},admin:{create:"Tienes acceso completo para crear cualquier contenido.",edit:"Tienes acceso completo para editar cualquier contenido.",delete:"Tienes acceso completo para eliminar cualquier contenido.",access:"Tienes acceso total al sistema."}}[er])==null?void 0:nr[tr])||"Permisos no definidos."}}const useMenuPermissions=(St="menu")=>{const{roles:er}=useAuthContext();return reactExports.useMemo(()=>{const tr=er.map(rr=>typeof rr=="string"?{name:rr}:rr);return MenuPermissionService.getPermissions(tr,St)},[er,St])};function CrudModal$2({isOpen:St,onClose:er,title:tr,children:rr,onSubmit:nr,loading:ar=!1,submitText:sr="Guardar",submitButtonColor:ir="blue",showFooter:or=!0}){const[lr,cr]=reactExports.useState(!1);if(reactExports.useEffect(()=>(St?(cr(!0),document.body.style.overflow="hidden"):(cr(!1),document.body.style.overflow="unset"),()=>{document.body.style.overflow="unset"}),[St]),!St)return null;const ur=()=>{switch(ir){case"red":return"bg-red-600 hover:bg-red-700 focus:ring-red-500";case"green":return"bg-green-600 hover:bg-green-700 focus:ring-green-500";default:return"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500"}},dr=()=>{const fr=document.querySelector("#crud-form");fr?fr.requestSubmit():nr&&nr()};return jsxRuntimeExports.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:er}),jsxRuntimeExports.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:jsxRuntimeExports.jsxs("div",{className:`
            relative w-full max-w-2xl bg-white dark:bg-gray-800 rounded-xl shadow-xl 
            transform transition-all duration-200
            ${lr?"scale-100 opacity-100":"scale-95 opacity-0"}
          `,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:tr}),jsxRuntimeExports.jsx("button",{onClick:er,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",disabled:ar,children:jsxRuntimeExports.jsx(HiXMark,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})})]}),jsxRuntimeExports.jsxs("div",{className:"p-6 max-h-[70vh] overflow-y-auto",children:[" ",rr]}),or&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-gray-200 dark:border-gray-700",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:er,disabled:ar,className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors disabled:opacity-50",children:"Cancelar"}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:dr,disabled:ar,className:`
                  px-4 py-2 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed
                  flex items-center gap-2 ${ur()}
                `,children:[ar&&jsxRuntimeExports.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),sr]})]})]})})]})}function DeleteConfirmModal$2({isOpen:St,onClose:er,onConfirm:tr,loading:rr=!1,title:nr,message:ar,itemName:sr}){return jsxRuntimeExports.jsx(CrudModal$2,{isOpen:St,onClose:er,title:nr,onSubmit:tr,loading:rr,submitText:"Eliminar",submitButtonColor:"red",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"mx-auto flex items-center justify-center w-12 h-12 rounded-full bg-red-100 dark:bg-red-900/30 mb-4",children:jsxRuntimeExports.jsx(HiExclamationTriangle,{className:"w-6 h-6 text-red-600 dark:text-red-400"})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:nr}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:ar}),sr&&jsxRuntimeExports.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:sr})})]})})}function ContenidoForm({contenido:St,onSubmit:er,loading:tr=!1}){const[rr,nr]=reactExports.useState({titulo:"",fecha:"",contenido:"",enlace:"",urgente:!1,tipo:"noticia"}),[ar,sr]=reactExports.useState(null),[ir,or]=reactExports.useState(null),[lr,cr]=reactExports.useState({});reactExports.useEffect(()=>{St?(nr({titulo:St.titulo,fecha:St.fecha,contenido:St.contenido,enlace:St.enlace||"",urgente:St.urgente,tipo:St.tipo}),St.imagen&&or(St.imagen)):(nr({titulo:"",fecha:new Date().toISOString().split("T")[0],contenido:"",enlace:"",urgente:!1,tipo:"noticia"}),or(null),sr(null)),cr({})},[St]);const ur=pr=>{var gr;const hr=(gr=pr.target.files)==null?void 0:gr[0];if(hr){if(!hr.type.startsWith("image/")){cr(br=>({...br,imagen:"Debe seleccionar un archivo de imagen"}));return}if(hr.size>5*1024*1024){cr(br=>({...br,imagen:"La imagen no debe exceder 5MB"}));return}sr(hr);const vr=new FileReader;vr.onload=br=>{var yr;or((yr=br.target)==null?void 0:yr.result)},vr.readAsDataURL(hr),lr.imagen&&cr(br=>({...br,imagen:""}))}},dr=()=>{sr(null),or(null);const pr=document.getElementById("imagen-input");pr&&(pr.value="")},fr=()=>{const pr={};return rr.titulo.trim()||(pr.titulo="Ttulo es requerido"),rr.fecha||(pr.fecha="Fecha es requerida"),rr.contenido.trim()||(pr.contenido="Contenido es requerido"),cr(pr),Object.keys(pr).length===0},mr=async pr=>{if(pr.preventDefault(),!fr())return;const hr=St?{id:St.id,...rr,imagen:ar}:{...rr,imagen:ar};await er(hr)},xr=(pr,hr)=>{nr(gr=>({...gr,[pr]:hr})),lr[pr]&&cr(gr=>({...gr,[pr]:""}))};return jsxRuntimeExports.jsxs("form",{id:"crud-form",onSubmit:mr,className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[jsxRuntimeExports.jsx(HiNewspaper,{className:"w-4 h-4 inline mr-2"}),"Ttulo"]}),jsxRuntimeExports.jsx("input",{type:"text",value:rr.titulo,onChange:pr=>xr("titulo",pr.target.value),className:`
            w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100
            ${lr.titulo?"border-red-500":"border-gray-300 dark:border-gray-600"}
            focus:ring-2 focus:ring-blue-500 focus:border-blue-500
          `,disabled:tr}),lr.titulo&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:lr.titulo})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[jsxRuntimeExports.jsx(HiCalendarDays,{className:"w-4 h-4 inline mr-2"}),"Fecha"]}),jsxRuntimeExports.jsx("input",{type:"date",value:rr.fecha,onChange:pr=>xr("fecha",pr.target.value),className:`
              w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100
              ${lr.fecha?"border-red-500":"border-gray-300 dark:border-gray-600"}
              focus:ring-2 focus:ring-blue-500 focus:border-blue-500
            `,disabled:tr}),lr.fecha&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:lr.fecha})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tipo de contenido"}),jsxRuntimeExports.jsxs("select",{value:rr.tipo,onChange:pr=>xr("tipo",pr.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:tr,children:[jsxRuntimeExports.jsx("option",{value:"noticia",children:"Noticia"}),jsxRuntimeExports.jsx("option",{value:"comunicado",children:"Comunicado"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Contenido"}),jsxRuntimeExports.jsx("textarea",{value:rr.contenido,onChange:pr=>xr("contenido",pr.target.value),rows:6,className:`
            w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100
            ${lr.contenido?"border-red-500":"border-gray-300 dark:border-gray-600"}
            focus:ring-2 focus:ring-blue-500 focus:border-blue-500
          `,disabled:tr}),lr.contenido&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:lr.contenido})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[jsxRuntimeExports.jsx(HiGlobeAlt,{className:"w-4 h-4 inline mr-2"}),"Enlace externo (opcional)"]}),jsxRuntimeExports.jsx("input",{type:"url",value:rr.enlace,onChange:pr=>xr("enlace",pr.target.value),placeholder:"https://...",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:tr})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Imagen (opcional)"}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx("input",{id:"imagen-input",type:"file",accept:"image/*",onChange:ur,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:tr}),lr.imagen&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:lr.imagen}),ir&&jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("img",{src:ir,alt:"Preview",className:"max-w-full h-48 object-cover rounded-lg border border-gray-300 dark:border-gray-600"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:dr,className:"absolute top-2 right-2 bg-red-500 hover:bg-red-600 text-white rounded-full p-1 shadow-lg transition-colors",disabled:tr,children:jsxRuntimeExports.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Formatos soportados: JPG, PNG, GIF. Tamao mximo: 5MB"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("input",{id:"urgente",type:"checkbox",checked:rr.urgente,onChange:pr=>xr("urgente",pr.target.checked),className:"w-4 h-4 text-red-600 bg-gray-100 border-gray-300 rounded focus:ring-red-500 dark:focus:ring-red-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600",disabled:tr}),jsxRuntimeExports.jsx("label",{htmlFor:"urgente",className:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300",children:"Marcar como urgente"})]})]})}function NoticiasPage(){const{id:St}=useParams(),[er,tr]=reactExports.useState([]),[rr,nr]=reactExports.useState(null),[ar,sr]=reactExports.useState([]),[ir,or]=reactExports.useState(!0),[lr,cr]=reactExports.useState(null),[ur,dr]=reactExports.useState(""),[fr,mr]=reactExports.useState(""),[xr,pr]=reactExports.useState(!1),[hr,gr]=reactExports.useState(!1),[vr,br]=reactExports.useState(!1),[yr,Er]=reactExports.useState(!1),[jr,_r]=reactExports.useState(null),[Cr,Or]=reactExports.useState(!1),Pr=new ContenidoService,Lr=new ContenidoCrudService,Gr=useMenuPermissions("menu");reactExports.useEffect(()=>{St?nn(parseInt(St)):Kr()},[St]),reactExports.useEffect(()=>{let Br=er;ur&&(Br=Br.filter(qr=>qr.titulo.toLowerCase().includes(ur.toLowerCase())||qr.contenido.toLowerCase().includes(ur.toLowerCase()))),fr&&(Br=Br.filter(qr=>qr.tipo===fr)),xr&&(Br=Br.filter(qr=>qr.urgente)),sr(Br)},[er,ur,fr,xr]);const Kr=async()=>{try{or(!0);const Br=await Pr.getAllContenidos();tr(Br),sr(Br)}catch(Br){cr(Br.message)}finally{or(!1)}},nn=async Br=>{try{or(!0);const qr=await Pr.getContenidoById(Br);nr(qr)}catch(qr){cr(qr.message)}finally{or(!1)}},Qr=async Br=>{Or(!0);let qr;"id"in Br?(qr=await Lr.updateContenido(Br),qr.success&&(br(!1),_r(null),Kr())):(qr=await Lr.createContenido(Br),qr.success&&(gr(!1),Kr())),qr.success||console.error(qr.message),Or(!1)},zr=async()=>{if(!jr)return;Or(!0);const Br=await Lr.deleteContenido(jr.id);Br.success?(Er(!1),_r(null),Kr()):console.error(Br.message),Or(!1)},Vr=Br=>{_r(Br),br(!0)},Jr=Br=>{_r(Br),Er(!0)},tn=Br=>formatDisplayDate(Br,{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}),Yr=Br=>Br==="comunicado"?HiSpeakerphone:HiNewspaper,Sr=(Br,qr)=>qr?"from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/30 border-red-200/50 dark:border-red-700/50":Br==="comunicado"?"from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/30 border-blue-200/50 dark:border-blue-700/50":"from-emerald-50 to-emerald-100 dark:from-emerald-900/20 dark:to-emerald-800/30 border-emerald-200/50 dark:border-emerald-700/50",Rr=(Br,qr)=>qr?"bg-gradient-to-br from-red-500 to-red-600":Br==="comunicado"?"bg-gradient-to-br from-blue-500 to-blue-600":"bg-gradient-to-br from-emerald-500 to-emerald-600",Tr=()=>{dr(""),mr(""),pr(!1)};if(ir)return jsxRuntimeExports.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50 via-white to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900"}),jsxRuntimeExports.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-gradient-to-br from-blue-400/10 to-purple-400/10 rounded-full blur-3xl"}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-gradient-to-tr from-emerald-400/10 to-blue-400/10 rounded-full blur-3xl"}),jsxRuntimeExports.jsx("div",{className:"relative p-6",children:jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto",children:jsxRuntimeExports.jsxs("div",{className:"animate-pulse space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-3xl shadow-xl border border-white/20 dark:border-gray-700/50 p-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-gray-200 dark:bg-gray-700 rounded-2xl"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-80"}),jsxRuntimeExports.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-96"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[jsxRuntimeExports.jsx("div",{className:"h-24 bg-gray-200 dark:bg-gray-700 rounded-2xl"}),jsxRuntimeExports.jsx("div",{className:"h-24 bg-gray-200 dark:bg-gray-700 rounded-2xl"}),jsxRuntimeExports.jsx("div",{className:"h-24 bg-gray-200 dark:bg-gray-700 rounded-2xl"})]}),jsxRuntimeExports.jsx("div",{className:"h-16 bg-gray-200 dark:bg-gray-700 rounded-xl"})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[...Array(6)].map((Br,qr)=>jsxRuntimeExports.jsx("div",{className:"h-80 bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-2xl border border-white/20 dark:border-gray-700/50"},qr))})]})})})]});if(lr)return jsxRuntimeExports.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-50 via-white to-red-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900"}),jsxRuntimeExports.jsx("div",{className:"relative p-6 flex items-center justify-center min-h-screen",children:jsxRuntimeExports.jsxs("div",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-3xl shadow-xl border border-white/20 dark:border-gray-700/50 p-12 text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-20 h-20 bg-red-100 dark:bg-red-900/50 rounded-2xl mx-auto mb-6 flex items-center justify-center",children:jsxRuntimeExports.jsx(HiExclamationCircle,{className:"w-10 h-10 text-red-600 dark:text-red-400"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-red-900 dark:text-red-100 mb-2",children:"Error al cargar noticias"}),jsxRuntimeExports.jsx("p",{className:"text-red-600 dark:text-red-400",children:lr})]})})]});if(St&&rr){const Br=Yr(rr.tipo),qr=rr.urgente;return jsxRuntimeExports.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-blue-50 via-white to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 transition-all duration-1000"}),jsxRuntimeExports.jsx("div",{className:"fixed top-0 right-0 w-96 h-96 bg-gradient-to-br from-blue-400/10 to-purple-400/10 rounded-full blur-3xl animate-pulse"}),jsxRuntimeExports.jsx("div",{className:"fixed bottom-0 left-0 w-64 h-64 bg-gradient-to-tr from-emerald-400/10 to-blue-400/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}}),jsxRuntimeExports.jsx("div",{className:"relative z-10 p-6",children:jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto",children:[jsxRuntimeExports.jsxs(Link,{to:"/noticias",className:"group inline-flex items-center gap-2 text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 mb-6 font-medium transition-colors",children:[jsxRuntimeExports.jsx(HiArrowLeft,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform duration-300"}),"Volver a noticias"]}),jsxRuntimeExports.jsxs("div",{className:`
              relative overflow-hidden rounded-3xl border-2 shadow-2xl
              bg-gradient-to-br ${Sr(rr.tipo,qr)}
            `,children:[qr&&jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-4 right-4 w-4 h-4 bg-red-400 rounded-full animate-ping"}),jsxRuntimeExports.jsx("div",{className:"absolute top-8 right-8 w-3 h-3 bg-yellow-400 rounded-full animate-pulse",style:{animationDelay:"0.5s"}}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-8 left-8 w-3 h-3 bg-red-400 rounded-full animate-bounce",style:{animationDelay:"1s"}})]}),jsxRuntimeExports.jsxs("div",{className:"relative p-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-6 mb-8",children:[jsxRuntimeExports.jsx("div",{className:`
                    flex-shrink-0 p-4 rounded-2xl shadow-xl
                    ${Rr(rr.tipo,qr)}
                  `,children:jsxRuntimeExports.jsx(Br,{className:"w-10 h-10 text-white"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-4 flex-wrap",children:[jsxRuntimeExports.jsx("span",{className:`
                        px-4 py-2 text-sm font-bold rounded-full shadow-lg
                        ${qr?"bg-gradient-to-r from-red-500 to-red-600 text-white animate-pulse":rr.tipo==="comunicado"?"bg-gradient-to-r from-blue-500 to-blue-600 text-white":"bg-gradient-to-r from-emerald-500 to-emerald-600 text-white"}
                      `,children:rr.tipo==="comunicado"?"Comunicado Oficial":"Noticia"}),qr&&jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2 px-4 py-2 text-sm font-bold bg-gradient-to-r from-red-600 to-red-700 text-white rounded-full animate-bounce shadow-lg",children:[jsxRuntimeExports.jsx(HiBolt,{className:"w-4 h-4"}),"URGENTE"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400 bg-white/50 dark:bg-gray-800/50 px-3 py-2 rounded-full",children:[jsxRuntimeExports.jsx(HiCalendar,{className:"w-4 h-4"}),tn(rr.fecha)]})]}),jsxRuntimeExports.jsx("h1",{className:`
                      text-4xl font-bold mb-4 leading-tight
                      ${qr?"text-red-900 dark:text-red-100":"text-gray-900 dark:text-gray-100"}
                    `,children:rr.titulo})]})]}),jsxRuntimeExports.jsx("div",{className:`
                  relative p-8 rounded-2xl mb-8 shadow-lg border-2
                  ${qr?"bg-red-50/80 dark:bg-red-900/20 border-red-200 dark:border-red-700/50":"bg-white/80 dark:bg-gray-800/50 border-gray-200/50 dark:border-gray-600/50"}
                `,children:jsxRuntimeExports.jsx("div",{className:"prose dark:prose-invert max-w-none",children:jsxRuntimeExports.jsx("div",{className:`
                      text-lg leading-relaxed whitespace-pre-wrap
                      ${qr?"text-red-900 dark:text-red-100":"text-gray-800 dark:text-gray-200"}
                    `,children:rr.contenido})})}),rr.imagen&&jsxRuntimeExports.jsx("div",{className:"mb-8",children:jsxRuntimeExports.jsxs("div",{className:`
                      relative rounded-2xl overflow-hidden shadow-lg border-2
                      ${qr?"border-red-200 dark:border-red-700/50":"border-gray-200/50 dark:border-gray-600/50"}
                    `,children:[jsxRuntimeExports.jsx("img",{src:rr.imagen,alt:rr.titulo,className:"w-full h-auto object-cover transition-transform duration-300 hover:scale-105",style:{maxHeight:"500px"}}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 hover:opacity-100 transition-opacity duration-300"})]})}),rr.enlace&&jsxRuntimeExports.jsx("div",{className:"text-center mb-8",children:jsxRuntimeExports.jsxs("a",{href:rr.enlace,target:"_blank",rel:"noopener noreferrer",className:`
                        group inline-flex items-center gap-3 px-8 py-4 font-semibold rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105
                        ${qr?"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800":rr.tipo==="comunicado"?"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800":"bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-700 hover:to-emerald-800"} text-white
                      `,children:[jsxRuntimeExports.jsx(HiEye,{className:"w-5 h-5"}),"Ver enlace externo",jsxRuntimeExports.jsx(HiSparkles,{className:"w-5 h-5 group-hover:rotate-12 transition-transform duration-300"})]})})]})]})]})})]})}const Dr=[...new Set(er.map(Br=>Br.tipo))],Mr=er.filter(Br=>Br.urgente).length;return jsxRuntimeExports.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-blue-50 via-white to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 transition-all duration-1000"}),jsxRuntimeExports.jsx("div",{className:"fixed top-0 right-0 w-96 h-96 bg-gradient-to-br from-blue-400/10 to-purple-400/10 rounded-full blur-3xl animate-pulse"}),jsxRuntimeExports.jsx("div",{className:"fixed bottom-0 left-0 w-64 h-64 bg-gradient-to-tr from-emerald-400/10 to-blue-400/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}}),jsxRuntimeExports.jsx("div",{className:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-32 h-32 bg-gradient-to-br from-purple-400/5 to-pink-400/5 rounded-full blur-2xl animate-pulse",style:{animationDelay:"4s"}}),jsxRuntimeExports.jsx("div",{className:"relative z-10 p-6",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[jsxRuntimeExports.jsxs("div",{className:"relative overflow-hidden group",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-100/50 to-indigo-100/50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-3xl transition-all duration-500 group-hover:from-blue-200/50 group-hover:to-indigo-200/50 dark:group-hover:from-blue-800/30 dark:group-hover:to-indigo-800/30"}),jsxRuntimeExports.jsxs("div",{className:"relative bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-3xl shadow-xl border border-white/20 dark:border-gray-700/50 p-8 transition-all duration-300 hover:shadow-2xl",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"p-4 bg-gradient-to-br from-blue-500 to-purple-600 rounded-3xl shadow-xl",children:jsxRuntimeExports.jsx(HiSpeakerphone,{className:"w-10 h-10 text-white"})}),jsxRuntimeExports.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-emerald-400 rounded-full animate-bounce flex items-center justify-center",children:jsxRuntimeExports.jsx(HiSparkles,{className:"w-3 h-3 text-emerald-800"})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-900 via-purple-800 to-blue-700 dark:from-blue-100 dark:via-purple-200 dark:to-blue-300 bg-clip-text text-transparent mb-2",children:"Noticias y Comunicados"}),jsxRuntimeExports.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:"Mantente informado con todas las actualizaciones y comunicaciones oficiales"})]})]}),Gr.canCreate&&jsxRuntimeExports.jsxs("button",{onClick:()=>gr(!0),className:"group/btn relative overflow-hidden flex items-center gap-3 px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 to-purple-500 opacity-0 group-hover/btn:opacity-100 transition-opacity duration-300"}),jsxRuntimeExports.jsx(HiPlus,{className:"w-5 h-5 relative z-10 group-hover/btn:rotate-90 transition-transform duration-300"}),jsxRuntimeExports.jsx("span",{className:"relative z-10",children:"Nuevo contenido"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6 mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/30 border-2 border-blue-200/50 dark:border-blue-700/50 p-6 transition-all duration-300 hover:shadow-lg hover:scale-[1.02]",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-400/5 to-blue-400/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),jsxRuntimeExports.jsxs("div",{className:"relative flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl shadow-lg mr-4",children:jsxRuntimeExports.jsx(HiNewspaper,{className:"w-8 h-8 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400 font-semibold mb-1",children:"Total Contenidos"}),jsxRuntimeExports.jsx("p",{className:"text-3xl font-bold text-blue-700 dark:text-blue-300",children:er.length})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/30 border-2 border-red-200/50 dark:border-red-700/50 p-6 transition-all duration-300 hover:shadow-lg hover:scale-[1.02]",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-400/5 to-red-400/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),jsxRuntimeExports.jsxs("div",{className:"relative flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"p-3 bg-gradient-to-br from-red-500 to-red-600 rounded-xl shadow-lg mr-4",children:jsxRuntimeExports.jsx(HiBolt,{className:"w-8 h-8 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 font-semibold mb-1",children:"Contenidos Urgentes"}),jsxRuntimeExports.jsx("p",{className:"text-3xl font-bold text-red-700 dark:text-red-300",children:Mr})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-emerald-50 to-emerald-100 dark:from-emerald-900/20 dark:to-emerald-800/30 border-2 border-emerald-200/50 dark:border-emerald-700/50 p-6 transition-all duration-300 hover:shadow-lg hover:scale-[1.02]",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-400/5 to-emerald-400/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),jsxRuntimeExports.jsxs("div",{className:"relative flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"p-3 bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-xl shadow-lg mr-4",children:jsxRuntimeExports.jsx(HiSpeakerphone,{className:"w-8 h-8 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-emerald-600 dark:text-emerald-400 font-semibold mb-1",children:"Tipos de Contenido"}),jsxRuntimeExports.jsx("p",{className:"text-3xl font-bold text-emerald-700 dark:text-emerald-300",children:Dr.length})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-700 rounded-2xl"}),jsxRuntimeExports.jsx("div",{className:"relative bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-2xl border border-gray-200/50 dark:border-gray-600/50 p-6",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(HiMagnifyingGlass,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Buscar contenidos...",value:ur,onChange:Br=>dr(Br.target.value),className:"pl-12 pr-6 py-3 w-full border-2 border-gray-200 dark:border-gray-600 rounded-xl bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-blue-500 dark:focus:border-blue-400 transition-all duration-300"})]}),jsxRuntimeExports.jsxs("select",{value:fr,onChange:Br=>mr(Br.target.value),className:"px-4 py-3 border-2 border-gray-200 dark:border-gray-600 rounded-xl bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-blue-500 dark:focus:border-blue-400 transition-all duration-300",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Todos los tipos"}),Dr.map(Br=>jsxRuntimeExports.jsx("option",{value:Br,children:Br==="comunicado"?"Comunicados":"Noticias"},Br))]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-3 px-4 py-3 bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-2 border-gray-200 dark:border-gray-600 rounded-xl cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-600/80 transition-all duration-300",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:xr,onChange:Br=>pr(Br.target.checked),className:"w-4 h-4 text-red-600 bg-gray-100 border-gray-300 rounded focus:ring-red-500 focus:ring-2"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Solo urgentes"})]}),jsxRuntimeExports.jsx("button",{onClick:Tr,className:"px-6 py-3 bg-gradient-to-r from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-600 text-gray-700 dark:text-gray-300 font-medium rounded-xl hover:from-gray-200 hover:to-gray-300 dark:hover:from-gray-600 dark:hover:to-gray-500 transition-all duration-300 hover:scale-105 shadow-sm hover:shadow-md",children:"Limpiar filtros"}),jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center px-4 py-3 bg-gradient-to-r from-blue-100 to-indigo-100 dark:from-blue-900/50 dark:to-indigo-900/50 rounded-xl border border-blue-200 dark:border-blue-700",children:jsxRuntimeExports.jsxs("span",{className:"text-sm font-semibold text-blue-700 dark:text-blue-300",children:[ar.length," resultado",ar.length!==1?"s":""]})})]})})]})]})]}),ar.length===0?jsxRuntimeExports.jsxs("div",{className:"relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-700 rounded-3xl"}),jsxRuntimeExports.jsxs("div",{className:"relative bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-3xl shadow-xl border border-white/20 dark:border-gray-700/50 p-16 text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-blue-100 to-purple-200 dark:from-blue-900/50 dark:to-purple-800/50 rounded-3xl mx-auto mb-8 flex items-center justify-center",children:jsxRuntimeExports.jsx(HiSpeakerphone,{className:"w-16 h-16 text-blue-500 dark:text-blue-400"})}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:er.length===0?"No hay contenidos disponibles":"No se encontraron contenidos"}),jsxRuntimeExports.jsx("p",{className:"text-lg text-gray-500 dark:text-gray-400 max-w-md mx-auto",children:er.length===0?"An no hay noticias o comunicados publicados. Empieza creando el primer contenido!":"Intenta ajustar los filtros de bsqueda para encontrar el contenido que buscas."})]})]}):jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:ar.map((Br,qr)=>{const Wr=Yr(Br.tipo),sn=Br.urgente;return jsxRuntimeExports.jsxs("div",{className:`
                      group relative overflow-hidden rounded-3xl transition-all duration-500 hover:shadow-2xl hover:scale-[1.02] cursor-pointer border-2
                      ${qr===0&&ar.length>1?"lg:col-span-2":""}
                      bg-gradient-to-br ${Sr(Br.tipo,sn)}
                    `,children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 transform -skew-x-12"}),jsxRuntimeExports.jsx("div",{className:`absolute left-0 top-0 w-2 h-full transition-all duration-300 group-hover:w-4 ${sn?"bg-red-500":Br.tipo==="comunicado"?"bg-blue-500":"bg-emerald-500"}`}),sn&&jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-4 right-4 w-3 h-3 bg-red-400 rounded-full animate-ping"}),jsxRuntimeExports.jsx("div",{className:"absolute top-6 right-8 w-2 h-2 bg-yellow-400 rounded-full animate-pulse",style:{animationDelay:"0.5s"}}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-6 left-8 w-2 h-2 bg-red-400 rounded-full animate-bounce",style:{animationDelay:"1s"}})]}),jsxRuntimeExports.jsx("div",{className:"relative p-8",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-6",children:[jsxRuntimeExports.jsx("div",{className:`
                          flex-shrink-0 p-4 rounded-2xl shadow-xl
                          ${Rr(Br.tipo,sn)}
                        `,children:jsxRuntimeExports.jsx(Wr,{className:"w-8 h-8 text-white"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-4 flex-wrap",children:[jsxRuntimeExports.jsx("span",{className:`
                              px-4 py-2 text-sm font-bold rounded-full shadow-md
                              ${sn?"bg-gradient-to-r from-red-500 to-red-600 text-white animate-pulse":Br.tipo==="comunicado"?"bg-gradient-to-r from-blue-500 to-blue-600 text-white":"bg-gradient-to-r from-emerald-500 to-emerald-600 text-white"}
                            `,children:Br.tipo==="comunicado"?"Comunicado":"Noticia"}),sn&&jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2 px-4 py-2 text-sm font-bold bg-gradient-to-r from-red-600 to-red-700 text-white rounded-full animate-bounce shadow-lg",children:[jsxRuntimeExports.jsx(HiBolt,{className:"w-4 h-4"}),"URGENTE"]}),Br.imagen&&jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2 px-3 py-1.5 text-xs font-medium bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-full shadow-md",children:[jsxRuntimeExports.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})}),"Con imagen"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400",children:[jsxRuntimeExports.jsx(HiCalendar,{className:"w-4 h-4"}),tn(Br.fecha)]})]}),jsxRuntimeExports.jsx("h2",{className:`
                            font-bold mb-4 transition-colors duration-300 line-clamp-2
                            ${qr===0&&ar.length>1?"text-2xl":"text-xl"}
                            ${sn?"text-red-800 dark:text-red-200":"text-gray-900 dark:text-gray-100 group-hover:text-blue-600 dark:group-hover:text-blue-400"}
                          `,children:Br.titulo}),jsxRuntimeExports.jsx("div",{className:`
                            p-6 rounded-2xl mb-6 transition-all duration-300 group-hover:shadow-md
                            ${sn?"bg-red-50 dark:bg-red-900/30 border-2 border-red-200 dark:border-red-700":"bg-white/80 dark:bg-gray-800/50 border-2 border-gray-200/50 dark:border-gray-600/50"}
                          `,children:jsxRuntimeExports.jsx("p",{className:`
                              leading-relaxed
                              ${qr===0&&ar.length>1?"line-clamp-4":"line-clamp-3"}
                              ${sn?"text-red-800 dark:text-red-200":"text-gray-700 dark:text-gray-300"}
                            `,children:Br.contenido})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsxs(Link,{to:`/noticias/${Br.id}`,className:"group/view flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-100 to-blue-200 dark:from-blue-900/50 dark:to-blue-800/50 text-blue-700 dark:text-blue-300 font-medium rounded-xl hover:from-blue-200 hover:to-blue-300 dark:hover:from-blue-800/70 dark:hover:to-blue-700/70 transition-all duration-300 hover:scale-105 shadow-sm hover:shadow-md",children:[jsxRuntimeExports.jsx(HiEye,{className:"w-4 h-4 group-hover/view:scale-110 transition-transform duration-300"}),"Leer ms"]}),Br.enlace&&jsxRuntimeExports.jsx("a",{href:Br.enlace,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors duration-300 underline decoration-dotted hover:decoration-solid",children:"Enlace externo"})]}),(Gr.canEdit||Gr.canDelete)&&jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[Gr.canEdit&&jsxRuntimeExports.jsxs("button",{onClick:un=>{un.stopPropagation(),Vr(Br)},className:"group/edit flex items-center gap-2 px-3 py-2 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-medium rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[jsxRuntimeExports.jsx(HiPencil,{className:"w-4 h-4 group-hover/edit:rotate-12 transition-transform duration-300"}),"Editar"]}),Gr.canDelete&&jsxRuntimeExports.jsxs("button",{onClick:un=>{un.stopPropagation(),Jr(Br)},className:"group/delete flex items-center gap-2 px-3 py-2 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white font-medium rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[jsxRuntimeExports.jsx(HiTrash,{className:"w-4 h-4 group-hover/delete:scale-110 transition-transform duration-300"}),"Eliminar"]})]})]})]})]})})]},Br.id)})})]})}),jsxRuntimeExports.jsx(CrudModal$2,{isOpen:hr,onClose:()=>gr(!1),title:"Crear Contenido",loading:Cr,submitText:"Crear",children:jsxRuntimeExports.jsx(ContenidoForm,{onSubmit:Qr,loading:Cr})}),jsxRuntimeExports.jsx(CrudModal$2,{isOpen:vr,onClose:()=>{br(!1),_r(null)},title:"Editar Contenido",loading:Cr,submitText:"Actualizar",children:jsxRuntimeExports.jsx(ContenidoForm,{contenido:jr,onSubmit:Qr,loading:Cr})}),jsxRuntimeExports.jsx(DeleteConfirmModal$2,{isOpen:yr,onClose:()=>{Er(!1),_r(null)},onConfirm:zr,loading:Cr,title:"Eliminar Contenido",message:"Ests seguro de que deseas eliminar este contenido? Esta accin no se puede deshacer.",itemName:jr?jr.titulo:""})]})}class EventoCrudService{constructor(){_i(this,"repository");this.repository=new MenuRepository}async createEvento(er){var tr,rr;try{return{success:!0,data:await this.repository.createEvento(er),message:"Evento creado exitosamente"}}catch(nr){return console.error("Error creating evento:",nr),{success:!1,message:((rr=(tr=nr.response)==null?void 0:tr.data)==null?void 0:rr.message)||"Error al crear evento"}}}async updateEvento(er){var tr,rr;try{return{success:!0,data:await this.repository.updateEvento(er),message:"Evento actualizado exitosamente"}}catch(nr){return console.error("Error updating evento:",nr),{success:!1,message:((rr=(tr=nr.response)==null?void 0:tr.data)==null?void 0:rr.message)||"Error al actualizar evento"}}}async deleteEvento(er){var tr,rr;try{return await this.repository.deleteEvento(er),{success:!0,message:"Evento eliminado exitosamente"}}catch(nr){return console.error("Error deleting evento:",nr),{success:!1,message:((rr=(tr=nr.response)==null?void 0:tr.data)==null?void 0:rr.message)||"Error al eliminar evento"}}}}function EventoForm({evento:St,onSubmit:er,loading:tr=!1}){const[rr,nr]=reactExports.useState({titulo:"",fecha:"",hora:"",detalles:"",es_virtual:!1,enlace:"",lugar:"",importante:!1}),[ar,sr]=reactExports.useState({});reactExports.useEffect(()=>{nr(St?{titulo:St.titulo,fecha:formatDateToInput(St.fecha),hora:St.hora,detalles:St.detalles,es_virtual:St.es_virtual,enlace:St.enlace||"",lugar:St.lugar||"",importante:St.importante}:{titulo:"",fecha:getCurrentLocalDate(),hora:"",detalles:"",es_virtual:!1,enlace:"",lugar:"",importante:!1}),sr({})},[St]);const ir=()=>{const cr={};return rr.titulo.trim()||(cr.titulo="Ttulo es requerido"),rr.fecha||(cr.fecha="Fecha es requerida"),rr.hora||(cr.hora="Hora es requerida"),rr.detalles.trim()||(cr.detalles="Detalles son requeridos"),!rr.es_virtual&&!rr.lugar.trim()&&(cr.lugar="Lugar es requerido para eventos presenciales"),sr(cr),Object.keys(cr).length===0},or=async cr=>{if(cr.preventDefault(),!ir())return;const ur=St?{id:St.id,...rr}:rr;await er(ur)},lr=(cr,ur)=>{nr(dr=>({...dr,[cr]:ur})),ar[cr]&&sr(dr=>({...dr,[cr]:""}))};return jsxRuntimeExports.jsxs("form",{id:"crud-form",onSubmit:or,className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[jsxRuntimeExports.jsx(HiCalendarDays,{className:"w-4 h-4 inline mr-2"}),"Ttulo del evento"]}),jsxRuntimeExports.jsx("input",{type:"text",value:rr.titulo,onChange:cr=>lr("titulo",cr.target.value),className:`
            w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100
            ${ar.titulo?"border-red-500":"border-gray-300 dark:border-gray-600"}
            focus:ring-2 focus:ring-blue-500 focus:border-blue-500
          `,disabled:tr}),ar.titulo&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:ar.titulo})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[jsxRuntimeExports.jsx(HiCalendarDays,{className:"w-4 h-4 inline mr-2"}),"Fecha"]}),jsxRuntimeExports.jsx("input",{type:"date",value:rr.fecha,onChange:cr=>lr("fecha",cr.target.value),className:`
              w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100
              ${ar.fecha?"border-red-500":"border-gray-300 dark:border-gray-600"}
              focus:ring-2 focus:ring-blue-500 focus:border-blue-500
            `,disabled:tr}),ar.fecha&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:ar.fecha})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[jsxRuntimeExports.jsx(HiClock,{className:"w-4 h-4 inline mr-2"}),"Hora"]}),jsxRuntimeExports.jsx("input",{type:"time",value:rr.hora,onChange:cr=>lr("hora",cr.target.value),className:`
              w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100
              ${ar.hora?"border-red-500":"border-gray-300 dark:border-gray-600"}
              focus:ring-2 focus:ring-blue-500 focus:border-blue-500
            `,disabled:tr}),ar.hora&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:ar.hora})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Detalles del evento"}),jsxRuntimeExports.jsx("textarea",{value:rr.detalles,onChange:cr=>lr("detalles",cr.target.value),rows:4,className:`
            w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100
            ${ar.detalles?"border-red-500":"border-gray-300 dark:border-gray-600"}
            focus:ring-2 focus:ring-blue-500 focus:border-blue-500
          `,disabled:tr}),ar.detalles&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:ar.detalles})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("input",{id:"es_virtual",type:"checkbox",checked:rr.es_virtual,onChange:cr=>lr("es_virtual",cr.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600",disabled:tr}),jsxRuntimeExports.jsxs("label",{htmlFor:"es_virtual",className:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300",children:[jsxRuntimeExports.jsx(HiGlobeAlt,{className:"w-4 h-4 inline mr-1"}),"Evento virtual"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("input",{id:"importante",type:"checkbox",checked:rr.importante,onChange:cr=>lr("importante",cr.target.checked),className:"w-4 h-4 text-amber-600 bg-gray-100 border-gray-300 rounded focus:ring-amber-500 dark:focus:ring-amber-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600",disabled:tr}),jsxRuntimeExports.jsx("label",{htmlFor:"importante",className:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300",children:"Evento importante"})]})]}),rr.es_virtual?jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[jsxRuntimeExports.jsx(HiGlobeAlt,{className:"w-4 h-4 inline mr-2"}),"Enlace del evento virtual"]}),jsxRuntimeExports.jsx("input",{type:"url",value:rr.enlace,onChange:cr=>lr("enlace",cr.target.value),placeholder:"https://...",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:tr})]}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[jsxRuntimeExports.jsx(HiMapPin,{className:"w-4 h-4 inline mr-2"}),"Lugar del evento"]}),jsxRuntimeExports.jsx("input",{type:"text",value:rr.lugar,onChange:cr=>lr("lugar",cr.target.value),className:`
              w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100
              ${ar.lugar?"border-red-500":"border-gray-300 dark:border-gray-600"}
              focus:ring-2 focus:ring-blue-500 focus:border-blue-500
            `,disabled:tr}),ar.lugar&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:ar.lugar})]})]})}function EventosPage(){const{id:St}=useParams(),[er,tr]=reactExports.useState([]),[rr,nr]=reactExports.useState(null),[ar,sr]=reactExports.useState([]),[ir,or]=reactExports.useState(!0),[lr,cr]=reactExports.useState(null),[ur,dr]=reactExports.useState(""),[fr,mr]=reactExports.useState(!1),[xr,pr]=reactExports.useState(!1),[hr,gr]=reactExports.useState(!1),[vr,br]=reactExports.useState(!1),[yr,Er]=reactExports.useState(!1),[jr,_r]=reactExports.useState(null),[Cr,Or]=reactExports.useState(!1),Pr=new EventoService,Lr=new EventoCrudService,Gr=useMenuPermissions("menu");reactExports.useEffect(()=>{St?nn(parseInt(St)):Kr()},[St]),reactExports.useEffect(()=>{const Dr=Pr.filterEventos(er,ur,fr,xr);sr(Dr)},[er,ur,fr,xr]);const Kr=async()=>{try{or(!0);const Dr=await Pr.getAllEventos();tr(Dr),sr(Dr)}catch(Dr){cr(Dr.message)}finally{or(!1)}},nn=async Dr=>{try{or(!0);const Mr=await Pr.getEventoById(Dr);nr(Mr)}catch(Mr){cr(Mr.message)}finally{or(!1)}},Qr=async Dr=>{Or(!0);let Mr;"id"in Dr?(Mr=await Lr.updateEvento(Dr),Mr.success&&(br(!1),_r(null),Kr())):(Mr=await Lr.createEvento(Dr),Mr.success&&(gr(!1),Kr())),Mr.success||console.error(Mr.message),Or(!1)},zr=async()=>{if(!jr)return;Or(!0);const Dr=await Lr.deleteEvento(jr.id);Dr.success?(Er(!1),_r(null),Kr()):console.error(Dr.message),Or(!1)},Vr=Dr=>{_r(Dr),br(!0)},Jr=Dr=>{_r(Dr),Er(!0)},tn=Dr=>formatDisplayDate(Dr,{weekday:"long",year:"numeric",month:"long",day:"numeric"}),Yr=Dr=>new Date(`2000-01-01T${Dr}`).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"}),Sr=Dr=>getDaysUntilDate(Dr),Rr=(Dr,Mr)=>Dr?{bg:"from-amber-50 to-orange-100 dark:from-amber-900/20 dark:to-orange-800/30 border-amber-200/50 dark:border-amber-700/50",icon:"text-amber-600 dark:text-amber-400",iconBg:"bg-gradient-to-br from-amber-400 to-orange-500",accent:"bg-amber-500"}:Mr<=1?{bg:"from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/30 border-red-200/50 dark:border-red-700/50",icon:"text-red-600 dark:text-red-400",iconBg:"bg-gradient-to-br from-red-500 to-red-600",accent:"bg-red-500"}:Mr<=7?{bg:"from-orange-50 to-orange-100 dark:from-orange-900/20 dark:to-orange-800/30 border-orange-200/50 dark:border-orange-700/50",icon:"text-orange-600 dark:text-orange-400",iconBg:"bg-gradient-to-br from-orange-500 to-orange-600",accent:"bg-orange-500"}:{bg:"from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/30 border-blue-200/50 dark:border-blue-700/50",icon:"text-blue-600 dark:text-blue-400",iconBg:"bg-gradient-to-br from-blue-500 to-blue-600",accent:"bg-blue-500"},Tr=()=>{dr(""),mr(!1),pr(!1)};if(ir)return jsxRuntimeExports.jsxs("div",{className:"relative overflow-hidden min-h-screen",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-50 via-white to-pink-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900"}),jsxRuntimeExports.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-gradient-to-br from-purple-400/10 to-pink-400/10 rounded-full blur-3xl"}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 right-0 w-80 h-80 bg-gradient-to-tr from-blue-400/10 to-purple-400/10 rounded-full blur-3xl"}),jsxRuntimeExports.jsx("div",{className:"relative p-6",children:jsxRuntimeExports.jsxs("div",{className:"animate-pulse",children:[jsxRuntimeExports.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded mb-6"}),jsxRuntimeExports.jsx("div",{className:"space-y-4",children:[...Array(5)].map((Dr,Mr)=>jsxRuntimeExports.jsx("div",{className:"h-32 bg-gray-200 dark:bg-gray-700 rounded-2xl"},Mr))})]})})]});if(lr)return jsxRuntimeExports.jsxs("div",{className:"relative overflow-hidden min-h-screen",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-50 via-white to-red-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900"}),jsxRuntimeExports.jsx("div",{className:"relative p-6",children:jsxRuntimeExports.jsx("div",{className:"max-w-4xl mx-auto",children:jsxRuntimeExports.jsx("div",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-3xl shadow-xl border border-white/20 dark:border-gray-700/50 p-8",children:jsxRuntimeExports.jsxs("div",{className:"text-center text-red-600 dark:text-red-400",children:[jsxRuntimeExports.jsx(HiExclamationTriangle,{className:"w-12 h-12 mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-lg font-medium",children:lr})]})})})})]});if(St&&rr){const Dr=Sr(rr.fecha),Mr=Rr(rr.importante,Dr);return jsxRuntimeExports.jsxs("div",{className:"relative overflow-hidden min-h-screen",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-50 via-white to-pink-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900"}),jsxRuntimeExports.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-gradient-to-br from-purple-400/10 to-pink-400/10 rounded-full blur-3xl"}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 right-0 w-80 h-80 bg-gradient-to-tr from-blue-400/10 to-purple-400/10 rounded-full blur-3xl"}),jsxRuntimeExports.jsx("div",{className:"relative p-6",children:jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto",children:[jsxRuntimeExports.jsxs(Link,{to:"/eventos",className:"group inline-flex items-center gap-2 text-purple-600 dark:text-purple-400 hover:text-purple-700 dark:hover:text-purple-300 mb-6 font-medium transition-colors",children:[jsxRuntimeExports.jsx(HiArrowLeft,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform duration-300"}),"Volver a eventos"]}),jsxRuntimeExports.jsx("div",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-3xl shadow-xl border border-white/20 dark:border-gray-700/50 overflow-hidden",children:jsxRuntimeExports.jsxs("div",{className:"p-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-6 mb-8",children:[jsxRuntimeExports.jsx("div",{className:`flex-shrink-0 p-4 rounded-2xl shadow-lg ${Mr.iconBg}`,children:jsxRuntimeExports.jsx(HiCalendarDays,{className:"w-8 h-8 text-white"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[rr.importante&&jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1 px-3 py-1 text-xs font-bold bg-gradient-to-r from-amber-500 to-orange-500 text-white rounded-full shadow-md",children:[jsxRuntimeExports.jsx(HiStar,{className:"w-3 h-3"}),"IMPORTANTE"]}),Dr<=1&&jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1 px-3 py-1 text-xs font-bold bg-gradient-to-r from-red-500 to-red-600 text-white rounded-full shadow-md animate-pulse",children:[jsxRuntimeExports.jsx(HiFire,{className:"w-3 h-3"}),Dr===0?"HOY":"MAANA"]}),jsxRuntimeExports.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full shadow-sm ${rr.es_virtual?"bg-gradient-to-r from-blue-500 to-blue-600 text-white":"bg-gradient-to-r from-green-500 to-green-600 text-white"}`,children:rr.es_virtual?"Virtual":"Presencial"})]}),jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:rr.titulo})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[jsxRuntimeExports.jsx("div",{className:"bg-purple-50 dark:bg-purple-900/30 rounded-2xl p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-800 rounded-lg",children:jsxRuntimeExports.jsx(HiCalendarDays,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-purple-600 dark:text-purple-400 font-medium",children:"Fecha"}),jsxRuntimeExports.jsx("p",{className:"text-lg font-bold text-purple-800 dark:text-purple-200",children:tn(rr.fecha)})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/30 rounded-2xl p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-800 rounded-lg",children:jsxRuntimeExports.jsx(HiClock,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400 font-medium",children:"Hora"}),jsxRuntimeExports.jsx("p",{className:"text-lg font-bold text-blue-800 dark:text-blue-200",children:Yr(rr.hora)})]})]})}),jsxRuntimeExports.jsx("div",{className:`rounded-2xl p-4 ${rr.es_virtual?"bg-green-50 dark:bg-green-900/30":"bg-orange-50 dark:bg-orange-900/30"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:`p-2 rounded-lg ${rr.es_virtual?"bg-green-100 dark:bg-green-800":"bg-orange-100 dark:bg-orange-800"}`,children:rr.es_virtual?jsxRuntimeExports.jsx(HiGlobeAlt,{className:"w-5 h-5 text-green-600 dark:text-green-400"}):jsxRuntimeExports.jsx(HiMapPin,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:`text-sm font-medium ${rr.es_virtual?"text-green-600 dark:text-green-400":"text-orange-600 dark:text-orange-400"}`,children:rr.es_virtual?"Modalidad":"Lugar"}),jsxRuntimeExports.jsx("p",{className:`text-lg font-bold ${rr.es_virtual?"text-green-800 dark:text-green-200":"text-orange-800 dark:text-orange-200"}`,children:rr.es_virtual?"Virtual":rr.lugar||"Por definir"})]})]})})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-2xl p-6 mb-8",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Detalles del evento"}),jsxRuntimeExports.jsx("div",{className:"prose dark:prose-invert max-w-none",children:jsxRuntimeExports.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:rr.detalles})})]}),rr.enlace&&jsxRuntimeExports.jsx("div",{className:"text-center",children:jsxRuntimeExports.jsxs("a",{href:rr.enlace,target:"_blank",rel:"noopener noreferrer",className:"group inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-medium rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[rr.es_virtual?"Unirse al evento":"Ms informacin",jsxRuntimeExports.jsx(HiArrowRight,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform duration-300"})]})})]})})]})})]})}return jsxRuntimeExports.jsxs("div",{className:"relative overflow-hidden min-h-screen",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-50 via-white to-pink-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900"}),jsxRuntimeExports.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-gradient-to-br from-purple-400/10 to-pink-400/10 rounded-full blur-3xl"}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 right-0 w-80 h-80 bg-gradient-to-tr from-blue-400/10 to-purple-400/10 rounded-full blur-3xl"}),jsxRuntimeExports.jsxs("div",{className:"relative p-6",children:[jsxRuntimeExports.jsxs("div",{className:"mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-pink-600 rounded-2xl shadow-lg",children:jsxRuntimeExports.jsx(HiCalendarDays,{className:"w-7 h-7 text-white"})}),jsxRuntimeExports.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-pink-400 rounded-full animate-pulse"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 dark:from-gray-100 dark:to-gray-300 bg-clip-text text-transparent",children:"Eventos y Actividades"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:"Mantente informado sobre las prximas actividades institucionales"})]})]}),Gr.canCreate&&jsxRuntimeExports.jsxs("button",{onClick:()=>gr(!0),className:"group flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-medium rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[jsxRuntimeExports.jsx(HiPlus,{className:"w-5 h-5"}),"Crear evento"]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4 mb-6",children:[jsxRuntimeExports.jsx("div",{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm border border-white/20 dark:border-gray-700/50 rounded-2xl p-4 shadow-lg",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx(HiCalendarDays,{className:"w-8 h-8 text-purple-600 dark:text-purple-400 mr-3"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-purple-600 dark:text-purple-400 font-medium",children:"Total Eventos"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-purple-700 dark:text-purple-300",children:er.length})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm border border-white/20 dark:border-gray-700/50 rounded-2xl p-4 shadow-lg",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx(HiStar,{className:"w-8 h-8 text-amber-600 dark:text-amber-400 mr-3"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-amber-600 dark:text-amber-400 font-medium",children:"Importantes"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-amber-700 dark:text-amber-300",children:er.filter(Dr=>Dr.importante).length})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm border border-white/20 dark:border-gray-700/50 rounded-2xl p-4 shadow-lg",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx(HiGlobeAlt,{className:"w-8 h-8 text-blue-600 dark:text-blue-400 mr-3"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400 font-medium",children:"Virtuales"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-blue-700 dark:text-blue-300",children:er.filter(Dr=>Dr.es_virtual).length})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm border border-white/20 dark:border-gray-700/50 rounded-2xl p-4 shadow-lg",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx(HiMapPin,{className:"w-8 h-8 text-green-600 dark:text-green-400 mr-3"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:"Presenciales"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-green-700 dark:text-green-300",children:er.filter(Dr=>!Dr.es_virtual).length})]})]})})]}),jsxRuntimeExports.jsx("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-xl rounded-2xl shadow-lg border border-white/20 dark:border-gray-700/50 p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 relative",children:[jsxRuntimeExports.jsx(HiMagnifyingGlass,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Buscar eventos...",value:ur,onChange:Dr=>dr(Dr.target.value),className:"pl-10 pr-4 py-3 w-full border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-purple-500 dark:focus:ring-purple-400 focus:border-purple-500 dark:focus:border-purple-400 transition-colors"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4 items-center",children:[jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:fr,onChange:Dr=>mr(Dr.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Solo virtuales"})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:xr,onChange:Dr=>pr(Dr.target.checked),className:"w-4 h-4 text-amber-600 bg-gray-100 border-gray-300 rounded focus:ring-amber-500 dark:focus:ring-amber-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Solo importantes"})]}),jsxRuntimeExports.jsx("button",{onClick:Tr,className:"px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-xl hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors font-medium",children:"Limpiar"})]})]})})]}),ar.length===0?jsxRuntimeExports.jsx("div",{className:"text-center py-16",children:jsxRuntimeExports.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-xl rounded-3xl shadow-xl border border-white/20 dark:border-gray-700/50 p-12 max-w-md mx-auto",children:[jsxRuntimeExports.jsx(HiCalendarDays,{className:"w-20 h-20 text-gray-400 mx-auto mb-6"}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-3",children:"No se encontraron eventos"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:er.length===0?"An no hay eventos programados.":"Intenta ajustar los filtros de bsqueda."})]})}):jsxRuntimeExports.jsx("div",{className:"space-y-6",children:ar.map(Dr=>{const Mr=Sr(Dr.fecha),Br=Rr(Dr.importante,Mr);return jsxRuntimeExports.jsxs("div",{className:`
                    group relative overflow-hidden rounded-2xl border-2 transition-all duration-300 hover:shadow-xl hover:scale-[1.02] cursor-pointer
                    bg-gradient-to-br ${Br.bg}
                  `,children:[jsxRuntimeExports.jsx("div",{className:`absolute left-0 top-0 w-1 h-full ${Br.accent} transition-all duration-300 group-hover:w-2`}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 transform -skew-x-12"}),jsxRuntimeExports.jsx("div",{className:"relative p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4",children:[jsxRuntimeExports.jsx("div",{className:`flex-shrink-0 p-3 rounded-xl shadow-lg ${Br.iconBg}`,children:jsxRuntimeExports.jsx(HiCalendarDays,{className:"w-6 h-6 text-white"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-3 flex-wrap",children:[Dr.importante&&jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1 px-3 py-1 text-xs font-bold bg-gradient-to-r from-amber-500 to-orange-500 text-white rounded-full shadow-md animate-pulse",children:[jsxRuntimeExports.jsx(HiStar,{className:"w-3 h-3"}),"IMPORTANTE"]}),Mr<=1&&jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1 px-3 py-1 text-xs font-bold bg-gradient-to-r from-red-500 to-red-600 text-white rounded-full shadow-md animate-bounce",children:[jsxRuntimeExports.jsx(HiFire,{className:"w-3 h-3"}),Mr===0?"HOY":"MAANA"]}),Mr>1&&Mr<=7&&jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1 px-3 py-1 text-xs font-medium bg-gradient-to-r from-orange-400 to-orange-500 text-white rounded-full shadow-sm",children:[jsxRuntimeExports.jsx(HiSparkles,{className:"w-3 h-3"}),"En ",Mr," das"]}),jsxRuntimeExports.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full shadow-sm ${Dr.es_virtual?"bg-gradient-to-r from-blue-500 to-blue-600 text-white":"bg-gradient-to-r from-green-500 to-green-600 text-white"}`,children:Dr.es_virtual?"Virtual":"Presencial"})]}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-3 line-clamp-2 group-hover:text-purple-600 dark:group-hover:text-purple-400 transition-colors duration-300",children:Dr.titulo}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4 line-clamp-2 leading-relaxed",children:Dr.detalles}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-3 mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[jsxRuntimeExports.jsx("div",{className:"p-1.5 bg-purple-100 dark:bg-purple-900/50 rounded-lg",children:jsxRuntimeExports.jsx(HiCalendarDays,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"})}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:tn(Dr.fecha)})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[jsxRuntimeExports.jsx("div",{className:"p-1.5 bg-blue-100 dark:bg-blue-900/50 rounded-lg",children:jsxRuntimeExports.jsx(HiClock,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:Yr(Dr.hora)})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400 col-span-2 lg:col-span-1",children:[jsxRuntimeExports.jsx("div",{className:`p-1.5 rounded-lg ${Dr.es_virtual?"bg-green-100 dark:bg-green-900/50":"bg-orange-100 dark:bg-orange-900/50"}`,children:Dr.es_virtual?jsxRuntimeExports.jsx(HiGlobeAlt,{className:"w-4 h-4 text-green-600 dark:text-green-400"}):jsxRuntimeExports.jsx(HiMapPin,{className:"w-4 h-4 text-orange-600 dark:text-orange-400"})}),jsxRuntimeExports.jsx("span",{className:"font-medium truncate",children:Dr.es_virtual?"Virtual":Dr.lugar||"Presencial"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs(Link,{to:`/eventos/${Dr.id}`,className:"group/link flex items-center gap-2 text-sm font-semibold text-purple-600 dark:text-purple-400 hover:text-purple-700 dark:hover:text-purple-300 transition-colors duration-300",children:["Ver detalles",jsxRuntimeExports.jsx(HiArrowRight,{className:"w-3 h-3 group-hover/link:translate-x-1 transition-transform duration-300"})]}),Gr.canEdit&&jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>Vr(Dr),className:"flex items-center gap-1 px-3 py-1.5 bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 rounded-lg hover:bg-blue-200 dark:hover:bg-blue-800 transition-colors text-sm",children:[jsxRuntimeExports.jsx(HiPencil,{className:"w-4 h-4"}),"Editar"]}),Gr.canDelete&&jsxRuntimeExports.jsxs("button",{onClick:()=>Jr(Dr),className:"flex items-center gap-1 px-3 py-1.5 bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300 rounded-lg hover:bg-red-200 dark:hover:bg-red-800 transition-colors text-sm",children:[jsxRuntimeExports.jsx(HiTrash,{className:"w-4 h-4"}),"Eliminar"]})]}),Dr.enlace&&jsxRuntimeExports.jsx("a",{href:Dr.enlace,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-medium text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 transition-colors duration-300 underline decoration-dotted",children:Dr.es_virtual?"Unirse":"Ms info"})]})]})]})})]},Dr.id)})})]}),jsxRuntimeExports.jsx(CrudModal$2,{isOpen:hr,onClose:()=>gr(!1),title:"Crear Evento",loading:Cr,submitText:"Crear",children:jsxRuntimeExports.jsx(EventoForm,{onSubmit:Qr,loading:Cr})}),jsxRuntimeExports.jsx(CrudModal$2,{isOpen:vr,onClose:()=>{br(!1),_r(null)},title:"Editar Evento",loading:Cr,submitText:"Actualizar",children:jsxRuntimeExports.jsx(EventoForm,{evento:jr,onSubmit:Qr,loading:Cr})}),jsxRuntimeExports.jsx(DeleteConfirmModal$2,{isOpen:yr,onClose:()=>{Er(!1),_r(null)},onConfirm:zr,loading:Cr,title:"Eliminar Evento",message:"Ests seguro de que deseas eliminar este evento? Esta accin no se puede deshacer.",itemName:jr?jr.titulo:""})]})}class FuncionarioService{constructor(){_i(this,"repository");this.repository=new MenuRepository}async getAllFuncionarios(){try{return await this.repository.getFuncionarios()}catch(er){throw console.error("Error getting funcionarios:",er),new Error("No se pudieron cargar los funcionarios")}}async getFuncionarioById(er){try{return await this.repository.getFuncionario(er)}catch(tr){throw console.error("Error getting funcionario:",tr),new Error("No se pudo cargar el funcionario")}}async getFuncionariosBySede(er){try{return await this.repository.getFuncionariosBySede(er)}catch(tr){throw console.error("Error getting funcionarios by sede:",tr),new Error("No se pudieron cargar los funcionarios de la sede")}}async getFuncionariosByCargo(er){try{return await this.repository.getFuncionariosByCargo(er)}catch(tr){throw console.error("Error getting funcionarios by cargo:",tr),new Error("No se pudieron cargar los funcionarios del cargo")}}async getHeadquarters(){try{return await this.repository.getHeadquarters()}catch(er){throw console.error("Error getting headquarters:",er),new Error("No se pudieron cargar las sedes")}}searchFuncionarios(er,tr){const rr=tr.toLowerCase();return er.filter(nr=>nr.nombres.toLowerCase().includes(rr)||nr.apellidos.toLowerCase().includes(rr)||nr.cargo.toLowerCase().includes(rr)||nr.correo.toLowerCase().includes(rr)||nr.sede.name.toLowerCase().includes(rr)||nr.sede.city.toLowerCase().includes(rr))}getUniqueValues(er,tr){return tr==="sede"?Array.from(new Set(er.map(rr=>rr.sede.name))).sort():Array.from(new Set(er.map(rr=>rr[tr]))).sort()}getUniqueSedes(er){const tr=new Map;return er.forEach(rr=>{tr.set(rr.sede.id,rr.sede)}),Array.from(tr.values()).sort((rr,nr)=>rr.name.localeCompare(nr.name))}}class FuncionarioCrudService{constructor(){_i(this,"repository");this.repository=new MenuRepository}async createFuncionario(er){var tr,rr,nr;try{return{success:!0,data:await this.repository.createFuncionario(er),message:"Funcionario creado exitosamente"}}catch(ar){return{success:!1,message:(tr=ar.response)!=null&&tr.data?JSON.stringify(ar.response.data):((nr=(rr=ar.response)==null?void 0:rr.data)==null?void 0:nr.message)||"Error al crear funcionario"}}}async updateFuncionario(er){var tr,rr;try{return{success:!0,data:await this.repository.updateFuncionario(er),message:"Funcionario actualizado exitosamente"}}catch(nr){return console.error("Error updating funcionario:",nr),{success:!1,message:((rr=(tr=nr.response)==null?void 0:tr.data)==null?void 0:rr.message)||"Error al actualizar funcionario"}}}async deleteFuncionario(er){var tr,rr;try{return await this.repository.deleteFuncionario(er),{success:!0,message:"Funcionario eliminado exitosamente"}}catch(nr){return console.error("Error deleting funcionario:",nr),{success:!1,message:((rr=(tr=nr.response)==null?void 0:tr.data)==null?void 0:rr.message)||"Error al eliminar funcionario"}}}}class ReconocimientoCrudService{constructor(){_i(this,"repository");this.repository=new MenuRepository}async createReconocimiento(er){var tr;try{return{success:!0,data:await this.repository.createReconocimiento(er),message:"Reconocimiento creado exitosamente"}}catch(rr){console.error("Error creating reconocimiento:",rr);let nr="Error al crear reconocimiento";return(tr=rr.response)!=null&&tr.data&&(console.error("Error response data:",rr.response.data),typeof rr.response.data=="object"?nr=`Errores de validacin:
${Object.entries(rr.response.data).map(([sr,ir])=>`${sr}: ${Array.isArray(ir)?ir.join(", "):ir}`).join(`
`)}`:nr=rr.response.data.message||rr.response.data),{success:!1,message:nr}}}async updateReconocimiento(er){var tr,rr;try{return{success:!0,data:await this.repository.updateReconocimiento(er),message:"Reconocimiento actualizado exitosamente"}}catch(nr){return console.error("Error updating reconocimiento:",nr),{success:!1,message:((rr=(tr=nr.response)==null?void 0:tr.data)==null?void 0:rr.message)||"Error al actualizar reconocimiento"}}}async deleteReconocimiento(er){var tr,rr;try{return await this.repository.deleteReconocimiento(er),{success:!0,message:"Reconocimiento eliminado exitosamente"}}catch(nr){return console.error("Error deleting reconocimiento:",nr),{success:!1,message:((rr=(tr=nr.response)==null?void 0:tr.data)==null?void 0:rr.message)||"Error al eliminar reconocimiento"}}}}class FelicitacionCrudService{constructor(){_i(this,"repository");this.repository=new MenuRepository}async createFelicitacion(er){var tr,rr;try{return{success:!0,data:await this.repository.createFelicitacion(er),message:"Felicitacin creada exitosamente"}}catch(nr){return console.error("Error creating felicitacion:",nr),{success:!1,message:((rr=(tr=nr.response)==null?void 0:tr.data)==null?void 0:rr.message)||"Error al crear felicitacin"}}}async updateFelicitacion(er){var tr,rr;try{return{success:!0,data:await this.repository.updateFelicitacion(er),message:"Felicitacin actualizada exitosamente"}}catch(nr){return console.error("Error updating felicitacion:",nr),{success:!1,message:((rr=(tr=nr.response)==null?void 0:tr.data)==null?void 0:rr.message)||"Error al actualizar felicitacin"}}}async deleteFelicitacion(er){var tr,rr;try{return await this.repository.deleteFelicitacion(er),{success:!0,message:"Felicitacin eliminada exitosamente"}}catch(nr){return console.error("Error deleting felicitacion:",nr),{success:!1,message:((rr=(tr=nr.response)==null?void 0:tr.data)==null?void 0:rr.message)||"Error al eliminar felicitacin"}}}async getAllFelicitaciones(){try{return await MenuApiService.getAllFelicitaciones()}catch(er){throw console.error("Error al obtener felicitaciones:",er),er}}}function FuncionarioForm({funcionario:St,onSubmit:er,loading:tr=!1}){const[rr,nr]=reactExports.useState({documento:"",nombres:"",apellidos:"",fecha_nacimiento:"",cargo:"",sede:0,telefono:"",correo:"",foto:null}),[ar,sr]=reactExports.useState({}),[ir,or]=reactExports.useState([]),[lr,cr]=reactExports.useState(!0),ur=new FuncionarioService;reactExports.useEffect(()=>{(async()=>{try{cr(!0);const pr=await ur.getHeadquarters();or(pr)}catch(pr){console.error("Error loading sedes:",pr)}finally{cr(!1)}})()},[]),reactExports.useEffect(()=>{nr(St?{documento:St.documento,nombres:St.nombres,apellidos:St.apellidos,fecha_nacimiento:formatDateToInput(St.fecha_nacimiento),cargo:St.cargo,sede:St.sede.id,telefono:St.telefono,correo:St.correo,foto:null}:{documento:"",nombres:"",apellidos:"",fecha_nacimiento:getCurrentLocalDate(),cargo:"",sede:0,telefono:"",correo:"",foto:null}),sr({})},[St]);const dr=()=>{const xr={};return rr.documento.trim()||(xr.documento="Documento es requerido"),rr.nombres.trim()||(xr.nombres="Nombres son requeridos"),rr.apellidos.trim()||(xr.apellidos="Apellidos son requeridos"),rr.fecha_nacimiento||(xr.fecha_nacimiento="Fecha de nacimiento es requerida"),rr.cargo.trim()||(xr.cargo="Cargo es requerido"),(!rr.sede||rr.sede===0)&&(xr.sede="Sede es requerida"),rr.telefono.trim()||(xr.telefono="Telfono es requerido"),rr.correo.trim()?/\S+@\S+\.\S+/.test(rr.correo)||(xr.correo="Correo invlido"):xr.correo="Correo es requerido",sr(xr),Object.keys(xr).length===0},fr=async xr=>{if(xr.preventDefault(),!dr())return;const pr=St?{id:St.id,...rr}:rr;await er(pr)},mr=(xr,pr)=>{nr(hr=>({...hr,[xr]:pr})),ar[xr]&&sr(hr=>({...hr,[xr]:""}))};return jsxRuntimeExports.jsxs("form",{id:"crud-form",onSubmit:fr,className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[jsxRuntimeExports.jsx(HiIdentification,{className:"w-4 h-4 inline mr-2"}),"Documento"]}),jsxRuntimeExports.jsx("input",{type:"text",value:rr.documento,onChange:xr=>mr("documento",xr.target.value),className:`
              w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100
              ${ar.documento?"border-red-500":"border-gray-300 dark:border-gray-600"}
              focus:ring-2 focus:ring-blue-500 focus:border-blue-500
            `,disabled:tr}),ar.documento&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:ar.documento})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[jsxRuntimeExports.jsx(HiUser,{className:"w-4 h-4 inline mr-2"}),"Nombres"]}),jsxRuntimeExports.jsx("input",{type:"text",value:rr.nombres,onChange:xr=>mr("nombres",xr.target.value),className:`
              w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100
              ${ar.nombres?"border-red-500":"border-gray-300 dark:border-gray-600"}
              focus:ring-2 focus:ring-blue-500 focus:border-blue-500
            `,disabled:tr}),ar.nombres&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:ar.nombres})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[jsxRuntimeExports.jsx(HiUser,{className:"w-4 h-4 inline mr-2"}),"Apellidos"]}),jsxRuntimeExports.jsx("input",{type:"text",value:rr.apellidos,onChange:xr=>mr("apellidos",xr.target.value),className:`
              w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100
              ${ar.apellidos?"border-red-500":"border-gray-300 dark:border-gray-600"}
              focus:ring-2 focus:ring-blue-500 focus:border-blue-500
            `,disabled:tr}),ar.apellidos&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:ar.apellidos})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[jsxRuntimeExports.jsx(HiCalendar,{className:"w-4 h-4 inline mr-2"}),"Fecha de nacimiento"]}),jsxRuntimeExports.jsx("input",{type:"date",value:rr.fecha_nacimiento,onChange:xr=>mr("fecha_nacimiento",xr.target.value),className:`
              w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100
              ${ar.fecha_nacimiento?"border-red-500":"border-gray-300 dark:border-gray-600"}
              focus:ring-2 focus:ring-blue-500 focus:border-blue-500
            `,disabled:tr}),ar.fecha_nacimiento&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:ar.fecha_nacimiento})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[jsxRuntimeExports.jsx(HiOfficeBuilding,{className:"w-4 h-4 inline mr-2"}),"Cargo"]}),jsxRuntimeExports.jsx("input",{type:"text",value:rr.cargo,onChange:xr=>mr("cargo",xr.target.value),className:`
              w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100
              ${ar.cargo?"border-red-500":"border-gray-300 dark:border-gray-600"}
              focus:ring-2 focus:ring-blue-500 focus:border-blue-500
            `,disabled:tr}),ar.cargo&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:ar.cargo})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[jsxRuntimeExports.jsx(HiOfficeBuilding,{className:"w-4 h-4 inline mr-2"}),"Sede"]}),jsxRuntimeExports.jsxs("select",{value:rr.sede,onChange:xr=>mr("sede",parseInt(xr.target.value)||0),className:`
              w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100
              ${ar.sede?"border-red-500":"border-gray-300 dark:border-gray-600"}
              focus:ring-2 focus:ring-blue-500 focus:border-blue-500
            `,disabled:tr||lr,children:[jsxRuntimeExports.jsx("option",{value:0,children:"Seleccionar sede..."}),ir.map(xr=>jsxRuntimeExports.jsxs("option",{value:xr.id,children:[xr.name," - ",xr.city]},xr.id))]}),ar.sede&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:ar.sede}),lr&&jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Cargando sedes..."})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[jsxRuntimeExports.jsx(HiPhone,{className:"w-4 h-4 inline mr-2"}),"Telfono"]}),jsxRuntimeExports.jsx("input",{type:"tel",value:rr.telefono,onChange:xr=>mr("telefono",xr.target.value),className:`
              w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100
              ${ar.telefono?"border-red-500":"border-gray-300 dark:border-gray-600"}
              focus:ring-2 focus:ring-blue-500 focus:border-blue-500
            `,disabled:tr}),ar.telefono&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:ar.telefono})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[jsxRuntimeExports.jsx(HiMail,{className:"w-4 h-4 inline mr-2"}),"Correo electrnico"]}),jsxRuntimeExports.jsx("input",{type:"email",value:rr.correo,onChange:xr=>mr("correo",xr.target.value),className:`
              w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100
              ${ar.correo?"border-red-500":"border-gray-300 dark:border-gray-600"}
              focus:ring-2 focus:ring-blue-500 focus:border-blue-500
            `,disabled:tr}),ar.correo&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:ar.correo})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Foto de perfil"}),jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",onChange:xr=>{var pr;return mr("foto",((pr=xr.target.files)==null?void 0:pr[0])||null)},className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100",disabled:tr})]})]})}const TIPOS_RECONOCIMIENTO=["Excelencia en el servicio","Liderazgo","Trabajo en equipo","Innovacin","Compromiso institucional","Responsabilidad social","Otro"];function ReconocimientoForm({reconocimiento:St,funcionarioPreseleccionado:er,funcionarios:tr,onSubmit:rr,loading:nr=!1}){const[ar,sr]=reactExports.useState({funcionario:0,titulo:"",descripcion:"",fecha:"",tipo:"",publicar:!0}),[ir,or]=reactExports.useState({});reactExports.useEffect(()=>{sr(St?{funcionario:St.funcionario.id,titulo:St.titulo,descripcion:St.descripcion,fecha:formatDateToInput(St.fecha),tipo:St.tipo||"",publicar:St.publicar}:{funcionario:(er==null?void 0:er.id)||0,titulo:"",descripcion:"",fecha:getCurrentLocalDate(),tipo:"",publicar:!0}),or({})},[St,er]);const lr=()=>{const dr={};return(!ar.funcionario||ar.funcionario===0)&&(dr.funcionario="Funcionario es requerido"),ar.titulo.trim()||(dr.titulo="Ttulo es requerido"),ar.descripcion.trim()||(dr.descripcion="Descripcin es requerida"),ar.fecha||(dr.fecha="Fecha es requerida"),or(dr),Object.keys(dr).length===0},cr=async dr=>{if(dr.preventDefault(),!lr())return;console.log("Datos del formulario de reconocimiento:",ar);const fr=St?{id:St.id,...ar}:ar;console.log("Datos finales a enviar:",fr),await rr(fr)},ur=(dr,fr)=>{sr(mr=>({...mr,[dr]:fr})),ir[dr]&&or(mr=>({...mr,[dr]:""}))};return jsxRuntimeExports.jsxs("form",{id:"crud-form",onSubmit:cr,className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[jsxRuntimeExports.jsx(HiUser,{className:"w-4 h-4 inline mr-2"}),"Funcionario"]}),jsxRuntimeExports.jsxs("select",{value:ar.funcionario,onChange:dr=>ur("funcionario",parseInt(dr.target.value)||0),disabled:!!er||nr,className:`
            w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100
            ${ir.funcionario?"border-red-500":"border-gray-300 dark:border-gray-600"}
            ${er?"bg-gray-100 dark:bg-gray-600":""}
            focus:ring-2 focus:ring-blue-500 focus:border-blue-500
          `,children:[jsxRuntimeExports.jsx("option",{value:0,children:"Seleccionar funcionario..."}),tr.map(dr=>jsxRuntimeExports.jsxs("option",{value:dr.id,children:[dr.nombres," ",dr.apellidos," - ",dr.cargo]},dr.id))]}),ir.funcionario&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:ir.funcionario})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[jsxRuntimeExports.jsx(HiStar,{className:"w-4 h-4 inline mr-2"}),"Ttulo del reconocimiento"]}),jsxRuntimeExports.jsx("input",{type:"text",value:ar.titulo,onChange:dr=>ur("titulo",dr.target.value),className:`
              w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100
              ${ir.titulo?"border-red-500":"border-gray-300 dark:border-gray-600"}
              focus:ring-2 focus:ring-blue-500 focus:border-blue-500
            `,disabled:nr}),ir.titulo&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:ir.titulo})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[jsxRuntimeExports.jsx(HiCalendarDays,{className:"w-4 h-4 inline mr-2"}),"Fecha"]}),jsxRuntimeExports.jsx("input",{type:"date",value:ar.fecha,onChange:dr=>ur("fecha",dr.target.value),className:`
              w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100
              ${ir.fecha?"border-red-500":"border-gray-300 dark:border-gray-600"}
              focus:ring-2 focus:ring-blue-500 focus:border-blue-500
            `,disabled:nr}),ir.fecha&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:ir.fecha})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tipo de reconocimiento"}),jsxRuntimeExports.jsxs("select",{value:ar.tipo,onChange:dr=>ur("tipo",dr.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:nr,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Seleccionar tipo..."}),TIPOS_RECONOCIMIENTO.map(dr=>jsxRuntimeExports.jsx("option",{value:dr,children:dr},dr))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Descripcin del reconocimiento"}),jsxRuntimeExports.jsx("textarea",{value:ar.descripcion,onChange:dr=>ur("descripcion",dr.target.value),rows:4,className:`
            w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100
            ${ir.descripcion?"border-red-500":"border-gray-300 dark:border-gray-600"}
            focus:ring-2 focus:ring-blue-500 focus:border-blue-500
          `,disabled:nr}),ir.descripcion&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:ir.descripcion})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("input",{id:"publicar",type:"checkbox",checked:ar.publicar,onChange:dr=>ur("publicar",dr.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600",disabled:nr}),jsxRuntimeExports.jsx("label",{htmlFor:"publicar",className:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300",children:"Publicar en el tablero de reconocimientos"})]})]})}const MENSAJES_PREDEFINIDOS=[" Feliz cumpleaos! Esperamos que tengas un da maravilloso lleno de alegra y bendiciones."," En tu da especial, te deseamos mucha felicidad, salud y xitos. Feliz cumpleaos!"," Que este nuevo ao de vida est lleno de nuevas oportunidades y grandes logros. Feliz cumpleaos!"," Celebramos contigo tu cumpleaos y agradecemos tu dedicacin y compromiso con la institucin."," Feliz cumpleaos! Que todos tus deseos se hagan realidad en este nuevo ao de vida."];function FelicitacionForm({felicitacion:St,funcionarioPreseleccionado:er,funcionarios:tr,onSubmit:rr,loading:nr=!1}){const[ar,sr]=reactExports.useState({funcionario:0,mensaje:""}),[ir,or]=reactExports.useState({});reactExports.useEffect(()=>{sr(St?{funcionario:St.funcionario.id,mensaje:St.mensaje}:{funcionario:(er==null?void 0:er.id)||0,mensaje:MENSAJES_PREDEFINIDOS[0]}),or({})},[St,er]);const lr=()=>{const fr={};return(!ar.funcionario||ar.funcionario===0)&&(fr.funcionario="Funcionario es requerido"),ar.mensaje.trim()||(fr.mensaje="Mensaje es requerido"),or(fr),Object.keys(fr).length===0},cr=async fr=>{if(fr.preventDefault(),!lr())return;const mr=St?{id:St.id,...ar}:ar;await rr(mr)},ur=(fr,mr)=>{sr(xr=>({...xr,[fr]:mr})),ir[fr]&&or(xr=>({...xr,[fr]:""}))},dr=fr=>{ur("mensaje",fr)};return jsxRuntimeExports.jsxs("form",{id:"crud-form",onSubmit:cr,className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[jsxRuntimeExports.jsx(HiUser,{className:"w-4 h-4 inline mr-2"}),"Funcionario"]}),jsxRuntimeExports.jsxs("select",{value:ar.funcionario,onChange:fr=>ur("funcionario",parseInt(fr.target.value)||0),disabled:!!er||nr,className:`
            w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100
            ${ir.funcionario?"border-red-500":"border-gray-300 dark:border-gray-600"}
            ${er?"bg-gray-100 dark:bg-gray-600":""}
            focus:ring-2 focus:ring-blue-500 focus:border-blue-500
          `,children:[jsxRuntimeExports.jsx("option",{value:0,children:"Seleccionar funcionario..."}),tr.map(fr=>jsxRuntimeExports.jsxs("option",{value:fr.id,children:[fr.nombres," ",fr.apellidos," - ",fr.cargo]},fr.id))]}),ir.funcionario&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:ir.funcionario})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[jsxRuntimeExports.jsx(HiGift,{className:"w-4 h-4 inline mr-2"}),"Mensajes predefinidos"]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 gap-2",children:MENSAJES_PREDEFINIDOS.map((fr,mr)=>jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>dr(fr),className:`
                text-left p-3 rounded-lg border transition-colors text-sm
                ${ar.mensaje===fr?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500 bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600"}
              `,disabled:nr,children:fr},mr))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Mensaje de felicitacin"}),jsxRuntimeExports.jsx("textarea",{value:ar.mensaje,onChange:fr=>ur("mensaje",fr.target.value),rows:4,placeholder:"Escribe un mensaje personalizado para el cumpleaos...",className:`
            w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100
            ${ir.mensaje?"border-red-500":"border-gray-300 dark:border-gray-600"}
            focus:ring-2 focus:ring-blue-500 focus:border-blue-500
          `,disabled:nr}),ir.mensaje&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:ir.mensaje})]})]})}function FuncionariosPage(){const[St,er]=reactExports.useState([]),[tr,rr]=reactExports.useState([]),[nr,ar]=reactExports.useState(!0),[sr,ir]=reactExports.useState(null),[or,lr]=reactExports.useState(""),[cr,ur]=reactExports.useState(0),[dr,fr]=reactExports.useState(""),[mr,xr]=reactExports.useState(!1),[pr,hr]=reactExports.useState(!1),[gr,vr]=reactExports.useState(!1),[br,yr]=reactExports.useState(null),[Er,jr]=reactExports.useState(!1),[_r,Cr]=reactExports.useState(!1),[Or,Pr]=reactExports.useState(!1),[Lr,Gr]=reactExports.useState(!1),[Kr,nn]=reactExports.useState(null),[Qr,zr]=reactExports.useState(null),[Vr,Jr]=reactExports.useState(!1),[tn,Yr]=reactExports.useState(!1),[Sr,Rr]=reactExports.useState(!1),[Tr,Dr]=reactExports.useState(null),[Mr,Br]=reactExports.useState(null),[qr,Wr]=reactExports.useState([]),sn=new FuncionarioService,un=new FuncionarioCrudService,Nr=new ReconocimientoCrudService,Ur=new FelicitacionCrudService,en=useMenuPermissions("menu");reactExports.useEffect(()=>{(async()=>{await Ir(),await Zr()})()},[]),reactExports.useEffect(()=>{let _n=St;or&&(_n=sn.searchFuncionarios(_n,or)),cr&&cr!==0&&(_n=_n.filter(Ln=>Ln.sede.id===cr)),dr&&(_n=_n.filter(Ln=>Ln.cargo===dr)),rr(_n)},[St,or,cr,dr,sn]);const Zr=async()=>{try{const _n=await Ur.getAllFelicitaciones();Wr(_n)}catch(_n){console.error("Error al cargar felicitaciones:",_n)}},Ir=async()=>{try{ar(!0);const _n=await sn.getAllFuncionarios();er(_n),rr(_n)}catch(_n){ir(_n.message)}finally{ar(!1)}},on=async _n=>{jr(!0);let Ln;"id"in _n?(Ln=await Nr.updateReconocimiento(_n),Ln.success&&(Pr(!1),nn(null),zr(null))):(Ln=await Nr.createReconocimiento(_n),Ln.success&&(Cr(!1),zr(null))),Ln.success||console.error("Error en reconocimiento:",Ln.message),jr(!1)},vn=async()=>{if(!Kr)return;jr(!0);const _n=await Nr.deleteReconocimiento(Kr.id);_n.success?(Gr(!1),nn(null)):console.error(_n.message),jr(!1)},yn=async _n=>{if(jr(!0),"id"in _n){const Ln=await Ur.updateFelicitacion(_n);Ln.success?(Yr(!1),Dr(null),Br(null),await Zr()):console.error("Error al actualizar felicitacin:",Ln.message)}else console.error("Error: Solo se permiten actualizaciones de felicitaciones");jr(!1)},Dn=async()=>{if(!Tr)return;jr(!0);const _n=await Ur.deleteFelicitacion(Tr.id);_n.success?(Rr(!1),Dr(null),await Zr()):console.error(_n.message),jr(!1)},pn=_n=>{zr(_n),Cr(!0)},Sn=async _n=>{const Ln=qr.find(cs=>cs.funcionario.id===_n.id);if(Ln)Dr(Ln),Br(_n),Yr(!0);else{console.warn("Felicitacin no encontrada, recargando datos..."),await Zr();const cs=qr.find(Ts=>Ts.funcionario.id===_n.id);cs?(Dr(cs),Br(_n),Yr(!0)):console.error("No se encontr la felicitacin automtica para este funcionario")}},wn=_n=>"Editar mensaje de felicitacin",Vn=_n=>qr.some(Ln=>Ln.funcionario.id===_n.id),Yn=async _n=>{jr(!0);let Ln;"id"in _n?(Ln=await un.updateFuncionario(_n),Ln.success&&(hr(!1),yr(null),await Ir())):(Ln=await un.createFuncionario(_n),Ln.success&&(xr(!1),await Ir(),await Zr())),Ln.success||console.error("Error en funcionario:",Ln.message),jr(!1)},ns=async()=>{if(!br)return;jr(!0);const _n=await un.deleteFuncionario(br.id);_n.success?(vr(!1),yr(null),Ir()):console.error(_n.message),jr(!1)},ls=_n=>{yr(_n),hr(!0)},vs=_n=>{yr(_n),vr(!0)},Ss=_n=>_n?_n.startsWith("http")?_n:`http://152.200.161.234:8081/${_n}`:null,ps=_n=>formatBirthdayDate(_n),os=()=>{lr(""),ur(0),fr("")};if(nr)return jsxRuntimeExports.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50 via-white to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900"}),jsxRuntimeExports.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-gradient-to-br from-blue-400/10 to-indigo-400/10 rounded-full blur-3xl"}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-gradient-to-tr from-purple-400/10 to-blue-400/10 rounded-full blur-3xl"}),jsxRuntimeExports.jsx("div",{className:"relative p-6",children:jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto",children:jsxRuntimeExports.jsxs("div",{className:"animate-pulse space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-3xl shadow-xl border border-white/20 dark:border-gray-700/50 p-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-gray-200 dark:bg-gray-700 rounded-2xl"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-80"}),jsxRuntimeExports.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-96"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[jsxRuntimeExports.jsx("div",{className:"h-24 bg-gray-200 dark:bg-gray-700 rounded-2xl"}),jsxRuntimeExports.jsx("div",{className:"h-24 bg-gray-200 dark:bg-gray-700 rounded-2xl"}),jsxRuntimeExports.jsx("div",{className:"h-24 bg-gray-200 dark:bg-gray-700 rounded-2xl"})]}),jsxRuntimeExports.jsx("div",{className:"h-16 bg-gray-200 dark:bg-gray-700 rounded-xl"})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[...Array(8)].map((_n,Ln)=>jsxRuntimeExports.jsx("div",{className:"h-80 bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-2xl border border-white/20 dark:border-gray-700/50"},Ln))})]})})})]});if(sr)return jsxRuntimeExports.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-50 via-white to-red-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900"}),jsxRuntimeExports.jsx("div",{className:"relative p-6 flex items-center justify-center min-h-screen",children:jsxRuntimeExports.jsxs("div",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-3xl shadow-xl border border-white/20 dark:border-gray-700/50 p-12 text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-20 h-20 bg-red-100 dark:bg-red-900/50 rounded-2xl mx-auto mb-6 flex items-center justify-center",children:jsxRuntimeExports.jsx(HiUsers,{className:"w-10 h-10 text-red-600 dark:text-red-400"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-red-900 dark:text-red-100 mb-2",children:"Error al cargar funcionarios"}),jsxRuntimeExports.jsx("p",{className:"text-red-600 dark:text-red-400",children:sr})]})})]});const zs=sn.getUniqueSedes(St),Bn=sn.getUniqueValues(St,"cargo");return jsxRuntimeExports.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-blue-50 via-white to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 transition-all duration-1000"}),jsxRuntimeExports.jsx("div",{className:"fixed top-0 right-0 w-96 h-96 bg-gradient-to-br from-blue-400/10 to-indigo-400/10 rounded-full blur-3xl animate-pulse"}),jsxRuntimeExports.jsx("div",{className:"fixed bottom-0 left-0 w-64 h-64 bg-gradient-to-tr from-purple-400/10 to-blue-400/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}}),jsxRuntimeExports.jsx("div",{className:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-32 h-32 bg-gradient-to-br from-green-400/5 to-blue-400/5 rounded-full blur-2xl animate-pulse",style:{animationDelay:"4s"}}),jsxRuntimeExports.jsx("div",{className:"relative z-10 p-6",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[jsxRuntimeExports.jsxs("div",{className:"relative overflow-hidden group",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-100/50 to-indigo-100/50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-3xl transition-all duration-500 group-hover:from-blue-200/50 group-hover:to-indigo-200/50 dark:group-hover:from-blue-800/30 dark:group-hover:to-indigo-800/30"}),jsxRuntimeExports.jsxs("div",{className:"relative bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-3xl shadow-xl border border-white/20 dark:border-gray-700/50 p-8 transition-all duration-300 hover:shadow-2xl",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"p-4 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-3xl shadow-xl",children:jsxRuntimeExports.jsx(HiUsers,{className:"w-10 h-10 text-white"})}),jsxRuntimeExports.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-green-400 rounded-full animate-bounce flex items-center justify-center",children:jsxRuntimeExports.jsx(HiSparkles,{className:"w-3 h-3 text-green-800"})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-900 via-indigo-800 to-blue-700 dark:from-blue-100 dark:via-indigo-200 dark:to-blue-300 bg-clip-text text-transparent mb-2",children:"Directorio de Funcionarios"}),jsxRuntimeExports.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:"Encuentra la informacin de contacto de todos los miembros del equipo"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[en.canCreate&&jsxRuntimeExports.jsxs("button",{onClick:()=>Cr(!0),className:"group/btn relative overflow-hidden flex items-center gap-3 px-6 py-3 bg-gradient-to-r from-yellow-600 to-orange-600 hover:from-yellow-700 hover:to-orange-700 text-white font-semibold rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-500 to-orange-500 opacity-0 group-hover/btn:opacity-100 transition-opacity duration-300"}),jsxRuntimeExports.jsx(HiStar,{className:"w-5 h-5 relative z-10 group-hover/btn:rotate-12 transition-transform duration-300"}),jsxRuntimeExports.jsx("span",{className:"relative z-10",children:"Reconocimiento"})]}),en.canCreate&&jsxRuntimeExports.jsxs("button",{onClick:()=>xr(!0),className:"group/btn relative overflow-hidden flex items-center gap-3 px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-semibold rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 to-indigo-500 opacity-0 group-hover/btn:opacity-100 transition-opacity duration-300"}),jsxRuntimeExports.jsx(HiPlus,{className:"w-5 h-5 relative z-10 group-hover/btn:rotate-90 transition-transform duration-300"}),jsxRuntimeExports.jsx("span",{className:"relative z-10",children:"Nuevo funcionario"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6 mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/30 border-2 border-blue-200/50 dark:border-blue-700/50 p-6 transition-all duration-300 hover:shadow-lg hover:scale-[1.02]",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-400/5 to-blue-400/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),jsxRuntimeExports.jsxs("div",{className:"relative flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl shadow-lg mr-4",children:jsxRuntimeExports.jsx(HiUsers,{className:"w-8 h-8 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400 font-semibold mb-1",children:"Total Funcionarios"}),jsxRuntimeExports.jsx("p",{className:"text-3xl font-bold text-blue-700 dark:text-blue-300",children:St.length})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/30 border-2 border-green-200/50 dark:border-green-700/50 p-6 transition-all duration-300 hover:shadow-lg hover:scale-[1.02]",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-400/5 to-green-400/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),jsxRuntimeExports.jsxs("div",{className:"relative flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"p-3 bg-gradient-to-br from-green-500 to-green-600 rounded-xl shadow-lg mr-4",children:jsxRuntimeExports.jsx(HiOfficeBuilding,{className:"w-8 h-8 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-green-600 dark:text-green-400 font-semibold mb-1",children:"Sedes Activas"}),jsxRuntimeExports.jsx("p",{className:"text-3xl font-bold text-green-700 dark:text-green-300",children:zs.length})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/30 border-2 border-purple-200/50 dark:border-purple-700/50 p-6 transition-all duration-300 hover:shadow-lg hover:scale-[1.02]",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-400/5 to-purple-400/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),jsxRuntimeExports.jsxs("div",{className:"relative flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl shadow-lg mr-4",children:jsxRuntimeExports.jsx(HiAcademicCap,{className:"w-8 h-8 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-purple-600 dark:text-purple-400 font-semibold mb-1",children:"Cargos Diferentes"}),jsxRuntimeExports.jsx("p",{className:"text-3xl font-bold text-purple-700 dark:text-purple-300",children:Bn.length})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-700 rounded-2xl"}),jsxRuntimeExports.jsx("div",{className:"relative bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-2xl border border-gray-200/50 dark:border-gray-600/50 p-6",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(HiMagnifyingGlass,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Buscar funcionarios...",value:or,onChange:_n=>lr(_n.target.value),className:"pl-12 pr-6 py-3 w-full border-2 border-gray-200 dark:border-gray-600 rounded-xl bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-blue-500 dark:focus:border-blue-400 transition-all duration-300"})]}),jsxRuntimeExports.jsxs("select",{value:cr,onChange:_n=>ur(parseInt(_n.target.value)||0),className:"px-4 py-3 border-2 border-gray-200 dark:border-gray-600 rounded-xl bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-blue-500 dark:focus:border-blue-400 transition-all duration-300",children:[jsxRuntimeExports.jsx("option",{value:0,children:"Todas las sedes"}),zs.map(_n=>jsxRuntimeExports.jsxs("option",{value:_n.id,children:[_n.name," - ",_n.city]},_n.id))]}),jsxRuntimeExports.jsxs("select",{value:dr,onChange:_n=>fr(_n.target.value),className:"px-4 py-3 border-2 border-gray-200 dark:border-gray-600 rounded-xl bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-blue-500 dark:focus:border-blue-400 transition-all duration-300",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Todos los cargos"}),Bn.map(_n=>jsxRuntimeExports.jsx("option",{value:_n,children:_n},_n))]}),jsxRuntimeExports.jsx("button",{onClick:os,className:"px-6 py-3 bg-gradient-to-r from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-600 text-gray-700 dark:text-gray-300 font-medium rounded-xl hover:from-gray-200 hover:to-gray-300 dark:hover:from-gray-600 dark:hover:to-gray-500 transition-all duration-300 hover:scale-105 shadow-sm hover:shadow-md",children:"Limpiar filtros"})]})})]})]})]}),tr.length===0?jsxRuntimeExports.jsxs("div",{className:"relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-700 rounded-3xl"}),jsxRuntimeExports.jsxs("div",{className:"relative bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-3xl shadow-xl border border-white/20 dark:border-gray-700/50 p-16 text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-blue-100 to-indigo-200 dark:from-blue-900/50 dark:to-indigo-800/50 rounded-3xl mx-auto mb-8 flex items-center justify-center",children:jsxRuntimeExports.jsx(HiUsers,{className:"w-16 h-16 text-blue-500 dark:text-blue-400"})}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:St.length===0?"No hay funcionarios registrados":"No se encontraron funcionarios"}),jsxRuntimeExports.jsx("p",{className:"text-lg text-gray-500 dark:text-gray-400 max-w-md mx-auto",children:St.length===0?"An no hay funcionarios registrados en el sistema. Empieza agregando el primer funcionario!":"Intenta ajustar los filtros de bsqueda para encontrar los funcionarios que buscas."})]})]}):jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-4",children:tr.map(_n=>{const Ln=Ss(_n.foto);return jsxRuntimeExports.jsxs("div",{className:"group relative overflow-hidden rounded-2xl transition-all duration-300 hover:shadow-xl hover:scale-[1.02] bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 shadow-sm",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 transform -skew-x-12"}),jsxRuntimeExports.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-blue-400 to-indigo-500 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),jsxRuntimeExports.jsxs("div",{className:"relative p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex-shrink-0",children:[Ln?jsxRuntimeExports.jsx("img",{src:Ln,alt:`${_n.nombres} ${_n.apellidos}`,className:"w-12 h-12 rounded-xl object-cover border-2 border-blue-200 dark:border-blue-600 shadow-sm transition-all duration-300 group-hover:scale-105",onError:cs=>{var Ts;cs.currentTarget.style.display="none",(Ts=cs.currentTarget.nextElementSibling)==null||Ts.classList.remove("hidden")}}):null,jsxRuntimeExports.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center border-2 border-blue-200 dark:border-blue-600 shadow-sm bg-blue-50 dark:bg-blue-900/50 transition-all duration-300 group-hover:scale-105 ${Ln?"hidden":""}`,children:jsxRuntimeExports.jsx(HiUserCircle,{className:"w-8 h-8 text-blue-500 dark:text-blue-400"})}),jsxRuntimeExports.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-4 h-4 bg-green-400 border-2 border-white dark:border-gray-900 rounded-full shadow-sm"})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsxs("h3",{className:"text-sm font-bold text-gray-900 dark:text-gray-100 truncate group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors duration-300",children:[_n.nombres," ",_n.apellidos]}),jsxRuntimeExports.jsx("span",{className:"inline-block px-2 py-1 text-xs font-medium bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 rounded-md",children:_n.cargo})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 text-xs",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[jsxRuntimeExports.jsx(HiOfficeBuilding,{className:"w-3 h-3 text-blue-500 flex-shrink-0"}),jsxRuntimeExports.jsx("span",{className:"truncate",children:_n.sede.name})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[jsxRuntimeExports.jsx(HiPhone,{className:"w-3 h-3 text-green-500 flex-shrink-0"}),jsxRuntimeExports.jsx("span",{className:"truncate",children:_n.telefono})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[jsxRuntimeExports.jsx(HiMail,{className:"w-3 h-3 text-purple-500 flex-shrink-0"}),jsxRuntimeExports.jsx("span",{className:"truncate",children:_n.correo})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-gray-500 dark:text-gray-400 pt-1 border-t border-gray-100 dark:border-gray-800",children:[jsxRuntimeExports.jsx(HiGift,{className:"w-3 h-3 text-pink-500 flex-shrink-0"}),jsxRuntimeExports.jsx("span",{className:"text-xs",children:ps(_n.fecha_nacimiento)})]})]}),(en.canEdit||en.canDelete)&&jsxRuntimeExports.jsxs("div",{className:"flex gap-1 mt-3 pt-3 border-t border-gray-100 dark:border-gray-800",children:[en.canEdit&&jsxRuntimeExports.jsxs("button",{onClick:()=>ls(_n),className:"group/edit flex-1 flex items-center justify-center gap-1 px-2 py-1.5 bg-blue-500 hover:bg-blue-600 text-white font-medium rounded-lg shadow-sm hover:shadow-md transition-all duration-300 hover:scale-105",title:"Editar funcionario",children:[jsxRuntimeExports.jsx(HiPencil,{className:"w-3 h-3 group-hover/edit:rotate-12 transition-transform duration-300"}),jsxRuntimeExports.jsx("span",{className:"text-xs",children:"Editar"})]}),en.canDelete&&jsxRuntimeExports.jsx("button",{onClick:()=>vs(_n),className:"group/delete flex items-center justify-center px-2 py-1.5 bg-red-500 hover:bg-red-600 text-white font-medium rounded-lg shadow-sm hover:shadow-md transition-all duration-300 hover:scale-105",title:"Eliminar funcionario",children:jsxRuntimeExports.jsx(HiTrash,{className:"w-3 h-3 group-hover/delete:scale-110 transition-transform duration-300"})})]}),en.canCreate&&jsxRuntimeExports.jsxs("div",{className:"flex gap-1 mt-2",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>pn(_n),className:"group/star flex-1 flex items-center justify-center gap-1 px-2 py-1.5 bg-yellow-500 hover:bg-yellow-600 text-white font-medium rounded-lg shadow-sm hover:shadow-md transition-all duration-300 hover:scale-105",title:"Crear reconocimiento",children:[jsxRuntimeExports.jsx(HiStar,{className:"w-3 h-3 group-hover/star:rotate-12 transition-transform duration-300"}),jsxRuntimeExports.jsx("span",{className:"text-xs",children:"Reconocer"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>Sn(_n),className:`group/gift flex-1 flex items-center justify-center gap-1 px-2 py-1.5 bg-gradient-to-r from-pink-500 to-rose-500 hover:from-pink-600 hover:to-rose-600 text-white font-medium rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 ${Vn(_n)?"bg-blue-500 hover:bg-blue-600":"bg-gray-400 cursor-not-allowed"}`,title:wn(),disabled:!Vn(_n),children:[jsxRuntimeExports.jsx(HiGift,{className:"w-4 h-4 group-hover/gift:scale-110 transition-transform duration-300"}),"Felicitar"]})]})]})]},_n.id)})})]})}),jsxRuntimeExports.jsx(CrudModal$2,{isOpen:mr,onClose:()=>xr(!1),title:"Crear Funcionario",loading:Er,submitText:"Crear",children:jsxRuntimeExports.jsx(FuncionarioForm,{onSubmit:Yn,loading:Er})}),jsxRuntimeExports.jsx(CrudModal$2,{isOpen:pr,onClose:()=>{hr(!1),yr(null)},title:"Editar Funcionario",loading:Er,submitText:"Actualizar",children:jsxRuntimeExports.jsx(FuncionarioForm,{funcionario:br,onSubmit:Yn,loading:Er})}),jsxRuntimeExports.jsx(DeleteConfirmModal$2,{isOpen:gr,onClose:()=>{vr(!1),yr(null)},onConfirm:ns,loading:Er,title:"Eliminar Funcionario",message:"Ests seguro de que deseas eliminar este funcionario? Esta accin no se puede deshacer.",itemName:br?`${br.nombres} ${br.apellidos}`:""}),jsxRuntimeExports.jsx(CrudModal$2,{isOpen:_r,onClose:()=>{Cr(!1),zr(null)},title:Qr?`Crear Reconocimiento - ${Qr.nombres} ${Qr.apellidos}`:"Crear Reconocimiento",loading:Er,submitText:"Crear Reconocimiento",children:jsxRuntimeExports.jsx(ReconocimientoForm,{funcionarioPreseleccionado:Qr,funcionarios:St,onSubmit:on,loading:Er})}),jsxRuntimeExports.jsx(CrudModal$2,{isOpen:Or,onClose:()=>{Pr(!1),nn(null),zr(null)},title:"Editar Reconocimiento",loading:Er,submitText:"Actualizar",children:jsxRuntimeExports.jsx(ReconocimientoForm,{reconocimiento:Kr,funcionarios:St,onSubmit:on,loading:Er})}),jsxRuntimeExports.jsx(DeleteConfirmModal$2,{isOpen:Lr,onClose:()=>{Gr(!1),nn(null)},onConfirm:vn,loading:Er,title:"Eliminar Reconocimiento",message:"Ests seguro de que deseas eliminar este reconocimiento? Esta accin no se puede deshacer.",itemName:Kr?Kr.titulo:""}),jsxRuntimeExports.jsx(CrudModal$2,{isOpen:tn,onClose:()=>{Yr(!1),Dr(null),Br(null)},title:"Editar Mensaje de Felicitacin",loading:Er,submitText:"Actualizar Mensaje",children:jsxRuntimeExports.jsx(FelicitacionForm,{felicitacion:Tr,funcionarios:St,onSubmit:yn,loading:Er})}),jsxRuntimeExports.jsx(DeleteConfirmModal$2,{isOpen:Sr,onClose:()=>{Rr(!1),Dr(null)},onConfirm:Dn,loading:Er,title:"Eliminar Felicitacin",message:"Ests seguro de que deseas eliminar esta felicitacin? Esta accin no se puede deshacer.",itemName:Tr?"Felicitacin de cumpleaos":""})]})}function ReconocimientosPage(){const[St,er]=reactExports.useState([]),[tr,rr]=reactExports.useState([]),[nr,ar]=reactExports.useState([]),[sr,ir]=reactExports.useState(!0),[or,lr]=reactExports.useState(null),[cr,ur]=reactExports.useState(""),[dr,fr]=reactExports.useState(""),[mr,xr]=reactExports.useState(""),[pr,hr]=reactExports.useState(!1),[gr,vr]=reactExports.useState(!1),[br,yr]=reactExports.useState(!1),[Er,jr]=reactExports.useState(null),[_r,Cr]=reactExports.useState(!1),Or=new MenuRepository,Pr=new ReconocimientoCrudService,Lr=new FuncionarioService,Gr=useMenuPermissions("menu");reactExports.useEffect(()=>{Kr()},[]),reactExports.useEffect(()=>{let Sr=St;if(cr&&(Sr=Sr.filter(Rr=>Rr.titulo.toLowerCase().includes(cr.toLowerCase())||Rr.descripcion.toLowerCase().includes(cr.toLowerCase())||`${Rr.funcionario.nombres} ${Rr.funcionario.apellidos}`.toLowerCase().includes(cr.toLowerCase()))),dr&&(Sr=Sr.filter(Rr=>Rr.tipo===dr)),mr!==""){const Rr=mr==="true";Sr=Sr.filter(Tr=>Tr.publicar===Rr)}ar(Sr)},[St,cr,dr,mr]);const Kr=async()=>{try{ir(!0);const[Sr,Rr]=await Promise.all([Or.getAllReconocimientos(),Lr.getAllFuncionarios()]);er(Sr),ar(Sr),rr(Rr)}catch(Sr){lr(Sr.message)}finally{ir(!1)}},nn=async Sr=>{Cr(!0);let Rr;"id"in Sr?(Rr=await Pr.updateReconocimiento(Sr),Rr.success&&(vr(!1),jr(null),Kr())):(Rr=await Pr.createReconocimiento(Sr),Rr.success&&(hr(!1),Kr())),Rr.success||console.error(Rr.message),Cr(!1)},Qr=async()=>{if(!Er)return;Cr(!0);const Sr=await Pr.deleteReconocimiento(Er.id);Sr.success?(yr(!1),jr(null),Kr()):console.error(Sr.message),Cr(!1)},zr=Sr=>{jr(Sr),vr(!0)},Vr=Sr=>{jr(Sr),yr(!0)},Jr=Sr=>Sr?Sr.startsWith("http")?Sr:`http://152.200.161.234:8081/${Sr}`:null,tn=()=>{ur(""),fr(""),xr("")},Yr=[...new Set(St.map(Sr=>Sr.tipo).filter(Boolean))];return sr?jsxRuntimeExports.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-yellow-50 via-white to-orange-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900"}),jsxRuntimeExports.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-gradient-to-br from-yellow-400/10 to-orange-400/10 rounded-full blur-3xl"}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-gradient-to-tr from-orange-400/10 to-yellow-400/10 rounded-full blur-3xl"}),jsxRuntimeExports.jsx("div",{className:"relative p-6",children:jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto",children:jsxRuntimeExports.jsxs("div",{className:"animate-pulse space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-3xl shadow-xl border border-white/20 dark:border-gray-700/50 p-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-gray-200 dark:bg-gray-700 rounded-2xl"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-80"}),jsxRuntimeExports.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-96"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[jsxRuntimeExports.jsx("div",{className:"h-24 bg-gray-200 dark:bg-gray-700 rounded-2xl"}),jsxRuntimeExports.jsx("div",{className:"h-24 bg-gray-200 dark:bg-gray-700 rounded-2xl"}),jsxRuntimeExports.jsx("div",{className:"h-24 bg-gray-200 dark:bg-gray-700 rounded-2xl"})]}),jsxRuntimeExports.jsx("div",{className:"h-16 bg-gray-200 dark:bg-gray-700 rounded-xl"})]}),jsxRuntimeExports.jsx("div",{className:"space-y-4",children:[...Array(6)].map((Sr,Rr)=>jsxRuntimeExports.jsx("div",{className:"h-32 bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-2xl border border-white/20 dark:border-gray-700/50"},Rr))})]})})})]}):or?jsxRuntimeExports.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-50 via-white to-red-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900"}),jsxRuntimeExports.jsx("div",{className:"relative p-6 flex items-center justify-center min-h-screen",children:jsxRuntimeExports.jsxs("div",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-3xl shadow-xl border border-white/20 dark:border-gray-700/50 p-12 text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-20 h-20 bg-red-100 dark:bg-red-900/50 rounded-2xl mx-auto mb-6 flex items-center justify-center",children:jsxRuntimeExports.jsx(HiExclamationCircle,{className:"w-10 h-10 text-red-600 dark:text-red-400"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-red-900 dark:text-red-100 mb-2",children:"Error al cargar reconocimientos"}),jsxRuntimeExports.jsx("p",{className:"text-red-600 dark:text-red-400",children:or})]})})]}):jsxRuntimeExports.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-yellow-50 via-white to-orange-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 transition-all duration-1000"}),jsxRuntimeExports.jsx("div",{className:"fixed top-0 right-0 w-96 h-96 bg-gradient-to-br from-yellow-400/10 to-orange-400/10 rounded-full blur-3xl animate-pulse"}),jsxRuntimeExports.jsx("div",{className:"fixed bottom-0 left-0 w-64 h-64 bg-gradient-to-tr from-orange-400/10 to-yellow-400/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}}),jsxRuntimeExports.jsx("div",{className:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-32 h-32 bg-gradient-to-br from-yellow-400/5 to-orange-400/5 rounded-full blur-2xl animate-pulse",style:{animationDelay:"4s"}}),jsxRuntimeExports.jsx("div",{className:"relative z-10 p-6",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[jsxRuntimeExports.jsxs("div",{className:"relative overflow-hidden group",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-yellow-100/50 to-orange-100/50 dark:from-yellow-900/20 dark:to-orange-900/20 rounded-3xl transition-all duration-500 group-hover:from-yellow-200/50 group-hover:to-orange-200/50 dark:group-hover:from-yellow-800/30 dark:group-hover:to-orange-800/30"}),jsxRuntimeExports.jsxs("div",{className:"relative bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-3xl shadow-xl border border-white/20 dark:border-gray-700/50 p-8 transition-all duration-300 hover:shadow-2xl",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"p-4 bg-gradient-to-br from-yellow-500 to-orange-600 rounded-3xl shadow-xl",children:jsxRuntimeExports.jsx(HiStar,{className:"w-10 h-10 text-white"})}),jsxRuntimeExports.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-orange-400 rounded-full animate-bounce flex items-center justify-center",children:jsxRuntimeExports.jsx(HiSparkles,{className:"w-3 h-3 text-orange-800"})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-yellow-900 via-orange-800 to-yellow-700 dark:from-yellow-100 dark:via-orange-200 dark:to-yellow-300 bg-clip-text text-transparent mb-2",children:"Gestin de Reconocimientos"}),jsxRuntimeExports.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:"Celebra y reconoce los logros excepcionales de nuestro equipo"})]})]}),Gr.canCreate&&jsxRuntimeExports.jsxs("button",{onClick:()=>hr(!0),className:"group/btn relative overflow-hidden flex items-center gap-3 px-6 py-3 bg-gradient-to-r from-yellow-600 to-orange-600 hover:from-yellow-700 hover:to-orange-700 text-white font-semibold rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-500 to-orange-500 opacity-0 group-hover/btn:opacity-100 transition-opacity duration-300"}),jsxRuntimeExports.jsx(HiPlus,{className:"w-5 h-5 relative z-10 group-hover/btn:rotate-90 transition-transform duration-300"}),jsxRuntimeExports.jsx("span",{className:"relative z-10",children:"Nuevo reconocimiento"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6 mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-yellow-50 to-yellow-100 dark:from-yellow-900/20 dark:to-yellow-800/30 border-2 border-yellow-200/50 dark:border-yellow-700/50 p-6 transition-all duration-300 hover:shadow-lg hover:scale-[1.02]",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-yellow-400/5 to-yellow-400/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),jsxRuntimeExports.jsxs("div",{className:"relative flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"p-3 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-xl shadow-lg mr-4",children:jsxRuntimeExports.jsx(HiStar,{className:"w-8 h-8 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-yellow-600 dark:text-yellow-400 font-semibold mb-1",children:"Total Reconocimientos"}),jsxRuntimeExports.jsx("p",{className:"text-3xl font-bold text-yellow-700 dark:text-yellow-300",children:St.length})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/30 border-2 border-green-200/50 dark:border-green-700/50 p-6 transition-all duration-300 hover:shadow-lg hover:scale-[1.02]",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-400/5 to-green-400/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),jsxRuntimeExports.jsxs("div",{className:"relative flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"p-3 bg-gradient-to-br from-green-500 to-green-600 rounded-xl shadow-lg mr-4",children:jsxRuntimeExports.jsx(HiEye,{className:"w-8 h-8 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-green-600 dark:text-green-400 font-semibold mb-1",children:"Publicados"}),jsxRuntimeExports.jsx("p",{className:"text-3xl font-bold text-green-700 dark:text-green-300",children:St.filter(Sr=>Sr.publicar).length})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/30 border-2 border-blue-200/50 dark:border-blue-700/50 p-6 transition-all duration-300 hover:shadow-lg hover:scale-[1.02]",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-400/5 to-blue-400/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),jsxRuntimeExports.jsxs("div",{className:"relative flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl shadow-lg mr-4",children:jsxRuntimeExports.jsx(HiTrophy,{className:"w-8 h-8 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400 font-semibold mb-1",children:"Funcionarios Reconocidos"}),jsxRuntimeExports.jsx("p",{className:"text-3xl font-bold text-blue-700 dark:text-blue-300",children:new Set(St.map(Sr=>Sr.funcionario.id)).size})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-700 rounded-2xl"}),jsxRuntimeExports.jsx("div",{className:"relative bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-2xl border border-gray-200/50 dark:border-gray-600/50 p-6",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(HiMagnifyingGlass,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Buscar reconocimientos...",value:cr,onChange:Sr=>ur(Sr.target.value),className:"pl-12 pr-6 py-3 w-full border-2 border-gray-200 dark:border-gray-600 rounded-xl bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-yellow-500 dark:focus:ring-yellow-400 focus:border-yellow-500 dark:focus:border-yellow-400 transition-all duration-300"})]}),jsxRuntimeExports.jsxs("select",{value:dr,onChange:Sr=>fr(Sr.target.value),className:"px-4 py-3 border-2 border-gray-200 dark:border-gray-600 rounded-xl bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-yellow-500 dark:focus:ring-yellow-400 focus:border-yellow-500 dark:focus:border-yellow-400 transition-all duration-300",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Todos los tipos"}),Yr.map(Sr=>jsxRuntimeExports.jsx("option",{value:Sr,children:Sr},Sr))]}),jsxRuntimeExports.jsxs("select",{value:mr,onChange:Sr=>xr(Sr.target.value),className:"px-4 py-3 border-2 border-gray-200 dark:border-gray-600 rounded-xl bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-yellow-500 dark:focus:ring-yellow-400 focus:border-yellow-500 dark:focus:border-yellow-400 transition-all duration-300",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Estado de publicacin"}),jsxRuntimeExports.jsx("option",{value:"true",children:"Publicados"}),jsxRuntimeExports.jsx("option",{value:"false",children:"No publicados"})]}),jsxRuntimeExports.jsx("button",{onClick:tn,className:"px-6 py-3 bg-gradient-to-r from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-600 text-gray-700 dark:text-gray-300 font-medium rounded-xl hover:from-gray-200 hover:to-gray-300 dark:hover:from-gray-600 dark:hover:to-gray-500 transition-all duration-300 hover:scale-105 shadow-sm hover:shadow-md",children:"Limpiar filtros"}),jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center px-4 py-3 bg-gradient-to-r from-yellow-100 to-orange-100 dark:from-yellow-900/50 dark:to-orange-900/50 rounded-xl border border-yellow-200 dark:border-yellow-700",children:jsxRuntimeExports.jsxs("span",{className:"text-sm font-semibold text-yellow-700 dark:text-yellow-300",children:[nr.length," resultado",nr.length!==1?"s":""]})})]})})]})]})]}),nr.length===0?jsxRuntimeExports.jsxs("div",{className:"relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-700 rounded-3xl"}),jsxRuntimeExports.jsxs("div",{className:"relative bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-3xl shadow-xl border border-white/20 dark:border-gray-700/50 p-16 text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-yellow-100 to-orange-200 dark:from-yellow-900/50 dark:to-orange-800/50 rounded-3xl mx-auto mb-8 flex items-center justify-center",children:jsxRuntimeExports.jsx(HiStar,{className:"w-16 h-16 text-yellow-500 dark:text-yellow-400"})}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:St.length===0?"No hay reconocimientos registrados":"No se encontraron reconocimientos"}),jsxRuntimeExports.jsx("p",{className:"text-lg text-gray-500 dark:text-gray-400 max-w-md mx-auto",children:St.length===0?"An no hay reconocimientos creados. Empieza reconociendo los logros del equipo!":"Intenta ajustar los filtros de bsqueda para encontrar los reconocimientos que buscas."})]})]}):jsxRuntimeExports.jsx("div",{className:"space-y-6",children:nr.map(Sr=>{const Rr=Sr.funcionario,Tr=Jr(Rr.foto);return jsxRuntimeExports.jsxs("div",{className:"group relative overflow-hidden rounded-3xl transition-all duration-500 hover:shadow-2xl hover:scale-[1.02] bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl border-2 border-white/20 dark:border-gray-700/50 shadow-xl",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 transform -skew-x-12"}),jsxRuntimeExports.jsx("div",{className:"absolute left-0 top-0 w-2 h-full bg-gradient-to-b from-yellow-500 to-orange-600 transition-all duration-300 group-hover:w-4"}),Sr.publicar&&jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-4 right-4 w-3 h-3 bg-yellow-400 rounded-full animate-ping"}),jsxRuntimeExports.jsx("div",{className:"absolute top-8 right-8 w-2 h-2 bg-orange-400 rounded-full animate-pulse",style:{animationDelay:"0.5s"}}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-8 left-8 w-2 h-2 bg-yellow-400 rounded-full animate-bounce",style:{animationDelay:"1s"}})]}),jsxRuntimeExports.jsx("div",{className:"relative p-8",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex-shrink-0 relative",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[Tr?jsxRuntimeExports.jsx("img",{src:Tr,alt:`${Rr.nombres} ${Rr.apellidos}`,className:"w-20 h-20 rounded-2xl object-cover border-4 border-yellow-200 dark:border-yellow-600 shadow-lg transition-all duration-300 group-hover:scale-110 group-hover:rotate-3",onError:Dr=>{var Mr;Dr.currentTarget.style.display="none",(Mr=Dr.currentTarget.nextElementSibling)==null||Mr.classList.remove("hidden")}}):null,jsxRuntimeExports.jsx("div",{className:`w-20 h-20 rounded-2xl flex items-center justify-center border-4 border-yellow-200 dark:border-yellow-600 shadow-lg bg-yellow-100 dark:bg-yellow-900 transition-all duration-300 group-hover:scale-110 ${Tr?"hidden":""}`,children:jsxRuntimeExports.jsx(HiUserCircle,{className:"w-12 h-12 text-yellow-500 dark:text-yellow-400"})})]}),jsxRuntimeExports.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full shadow-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(HiStar,{className:"w-5 h-5 text-white"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2 group-hover:text-yellow-600 dark:group-hover:text-yellow-400 transition-colors duration-300",children:Sr.titulo}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-100 to-indigo-100 dark:from-blue-900/50 dark:to-indigo-900/50 rounded-xl",children:[jsxRuntimeExports.jsx(HiUser,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),jsxRuntimeExports.jsxs("span",{className:"text-sm font-semibold text-blue-700 dark:text-blue-300",children:[Rr.nombres," ",Rr.apellidos]})]}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-800 px-3 py-1 rounded-full",children:Rr.cargo})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[Sr.publicar?jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold bg-gradient-to-r from-green-100 to-green-200 dark:from-green-900/50 dark:to-green-800/50 text-green-700 dark:text-green-300 shadow-sm",children:[jsxRuntimeExports.jsx(HiEye,{className:"w-4 h-4 mr-1"}),"Publicado"]}):jsxRuntimeExports.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold bg-gradient-to-r from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-700 text-gray-700 dark:text-gray-300 shadow-sm",children:"Borrador"}),Sr.tipo&&jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold bg-gradient-to-r from-yellow-100 to-orange-100 dark:from-yellow-900/50 dark:to-orange-900/50 text-yellow-700 dark:text-yellow-300 shadow-sm",children:[jsxRuntimeExports.jsx(HiTrophy,{className:"w-4 h-4 mr-1"}),Sr.tipo]})]})]}),jsxRuntimeExports.jsx("div",{className:"p-6 rounded-2xl mb-6 bg-gradient-to-br from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20 border-2 border-yellow-200/50 dark:border-yellow-700/50 transition-all duration-300 group-hover:shadow-md",children:jsxRuntimeExports.jsx("p",{className:"text-gray-800 dark:text-gray-200 leading-relaxed",children:Sr.descripcion})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400",children:[jsxRuntimeExports.jsx(HiCalendarDays,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:formatDisplayDate(Sr.fecha)})]}),(Gr.canEdit||Gr.canDelete)&&jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[Gr.canEdit&&jsxRuntimeExports.jsxs("button",{onClick:()=>zr(Sr),className:"group/edit flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-medium rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[jsxRuntimeExports.jsx(HiPencil,{className:"w-4 h-4 group-hover/edit:rotate-12 transition-transform duration-300"}),"Editar"]}),Gr.canDelete&&jsxRuntimeExports.jsxs("button",{onClick:()=>Vr(Sr),className:"group/delete flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white font-medium rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[jsxRuntimeExports.jsx(HiTrash,{className:"w-4 h-4 group-hover/delete:scale-110 transition-transform duration-300"}),"Eliminar"]})]})]})]})]})})]},Sr.id)})})]})}),jsxRuntimeExports.jsx(CrudModal$2,{isOpen:pr,onClose:()=>hr(!1),title:"Crear Reconocimiento",loading:_r,submitText:"Crear",children:jsxRuntimeExports.jsx(ReconocimientoForm,{funcionarios:tr,onSubmit:nn,loading:_r})}),jsxRuntimeExports.jsx(CrudModal$2,{isOpen:gr,onClose:()=>{vr(!1),jr(null)},title:"Editar Reconocimiento",loading:_r,submitText:"Actualizar",children:jsxRuntimeExports.jsx(ReconocimientoForm,{reconocimiento:Er,funcionarios:tr,onSubmit:nn,loading:_r})}),jsxRuntimeExports.jsx(DeleteConfirmModal$2,{isOpen:br,onClose:()=>{yr(!1),jr(null)},onConfirm:Qr,loading:_r,title:"Eliminar Reconocimiento",message:"Ests seguro de que deseas eliminar este reconocimiento? Esta accin no se puede deshacer.",itemName:Er?Er.titulo:""})]})}function FelicitacionesPage(){const[St,er]=reactExports.useState([]),[tr,rr]=reactExports.useState([]),[nr,ar]=reactExports.useState([]),[sr,ir]=reactExports.useState(!0),[or,lr]=reactExports.useState(null),[cr,ur]=reactExports.useState(""),[dr,fr]=reactExports.useState(!1),[mr,xr]=reactExports.useState(!1),[pr,hr]=reactExports.useState(!1),[gr,vr]=reactExports.useState(null),[br,yr]=reactExports.useState(!1),Er=new MenuRepository,jr=new FelicitacionCrudService,_r=new FuncionarioService,Cr=useMenuPermissions("menu");reactExports.useEffect(()=>{Or()},[]),reactExports.useEffect(()=>{let zr=St;cr&&(zr=zr.filter(Vr=>Vr.mensaje.toLowerCase().includes(cr.toLowerCase())||`${Vr.funcionario.nombres} ${Vr.funcionario.apellidos}`.toLowerCase().includes(cr.toLowerCase()))),ar(zr)},[St,cr]);const Or=async()=>{try{ir(!0);const[zr,Vr]=await Promise.all([Er.getAllFelicitaciones(),_r.getAllFuncionarios()]);er(zr),ar(zr),rr(Vr)}catch(zr){lr(zr.message)}finally{ir(!1)}},Pr=async zr=>{yr(!0);let Vr;"id"in zr?(Vr=await jr.updateFelicitacion(zr),Vr.success&&(xr(!1),vr(null),Or())):(Vr=await jr.createFelicitacion(zr),Vr.success&&(fr(!1),Or())),Vr.success||console.error(Vr.message),yr(!1)},Lr=async()=>{if(!gr)return;yr(!0);const zr=await jr.deleteFelicitacion(gr.id);zr.success?(hr(!1),vr(null),Or()):console.error(zr.message),yr(!1)},Gr=zr=>{vr(zr),xr(!0)},Kr=zr=>{vr(zr),hr(!0)},nn=zr=>zr?zr.startsWith("http")?zr:`http://152.200.161.234:8081/${zr}`:null,Qr=zr=>{const Vr=new Date,Jr=new Date(zr);Jr.setFullYear(Vr.getFullYear());const tn=Vr.toDateString(),Yr=Jr.toDateString();return tn===Yr};return sr?jsxRuntimeExports.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-pink-50 via-white to-rose-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900"}),jsxRuntimeExports.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-gradient-to-br from-pink-400/10 to-rose-400/10 rounded-full blur-3xl"}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-gradient-to-tr from-yellow-400/10 to-pink-400/10 rounded-full blur-3xl"}),jsxRuntimeExports.jsx("div",{className:"relative p-6",children:jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto",children:jsxRuntimeExports.jsxs("div",{className:"animate-pulse space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-3xl shadow-xl border border-white/20 dark:border-gray-700/50 p-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-gray-200 dark:bg-gray-700 rounded-2xl"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-80"}),jsxRuntimeExports.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-96"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:[jsxRuntimeExports.jsx("div",{className:"h-24 bg-gray-200 dark:bg-gray-700 rounded-2xl"}),jsxRuntimeExports.jsx("div",{className:"h-24 bg-gray-200 dark:bg-gray-700 rounded-2xl"})]}),jsxRuntimeExports.jsx("div",{className:"h-12 bg-gray-200 dark:bg-gray-700 rounded-xl"})]}),jsxRuntimeExports.jsx("div",{className:"space-y-4",children:[...Array(5)].map((zr,Vr)=>jsxRuntimeExports.jsx("div",{className:"h-32 bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-2xl border border-white/20 dark:border-gray-700/50"},Vr))})]})})})]}):or?jsxRuntimeExports.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-50 via-white to-red-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900"}),jsxRuntimeExports.jsx("div",{className:"relative p-6 flex items-center justify-center min-h-screen",children:jsxRuntimeExports.jsxs("div",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-3xl shadow-xl border border-white/20 dark:border-gray-700/50 p-12 text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-20 h-20 bg-red-100 dark:bg-red-900/50 rounded-2xl mx-auto mb-6 flex items-center justify-center",children:jsxRuntimeExports.jsx(HiGift,{className:"w-10 h-10 text-red-600 dark:text-red-400"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-red-900 dark:text-red-100 mb-2",children:"Error al cargar felicitaciones"}),jsxRuntimeExports.jsx("p",{className:"text-red-600 dark:text-red-400",children:or})]})})]}):jsxRuntimeExports.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-pink-50 via-white to-rose-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 transition-all duration-1000"}),jsxRuntimeExports.jsx("div",{className:"fixed top-0 right-0 w-96 h-96 bg-gradient-to-br from-pink-400/10 to-rose-400/10 rounded-full blur-3xl animate-pulse"}),jsxRuntimeExports.jsx("div",{className:"fixed bottom-0 left-0 w-64 h-64 bg-gradient-to-tr from-yellow-400/10 to-pink-400/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}}),jsxRuntimeExports.jsx("div",{className:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-32 h-32 bg-gradient-to-br from-purple-400/5 to-pink-400/5 rounded-full blur-2xl animate-pulse",style:{animationDelay:"4s"}}),jsxRuntimeExports.jsx("div",{className:"relative z-10 p-6",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[jsxRuntimeExports.jsxs("div",{className:"relative overflow-hidden group",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-pink-100/50 to-rose-100/50 dark:from-pink-900/20 dark:to-rose-900/20 rounded-3xl transition-all duration-500 group-hover:from-pink-200/50 group-hover:to-rose-200/50 dark:group-hover:from-pink-800/30 dark:group-hover:to-rose-800/30"}),jsxRuntimeExports.jsxs("div",{className:"relative bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-3xl shadow-xl border border-white/20 dark:border-gray-700/50 p-8 transition-all duration-300 hover:shadow-2xl",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"p-4 bg-gradient-to-br from-pink-500 to-rose-600 rounded-3xl shadow-xl",children:jsxRuntimeExports.jsx(HiGift,{className:"w-10 h-10 text-white"})}),jsxRuntimeExports.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-yellow-400 rounded-full animate-bounce flex items-center justify-center",children:jsxRuntimeExports.jsx(HiSparkles,{className:"w-3 h-3 text-yellow-800"})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-pink-900 via-rose-800 to-pink-700 dark:from-pink-100 dark:via-rose-200 dark:to-pink-300 bg-clip-text text-transparent mb-2",children:"Gestin de Felicitaciones"}),jsxRuntimeExports.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:"Administra las felicitaciones de cumpleaos del personal"})]})]}),Cr.canCreate&&jsxRuntimeExports.jsxs("button",{onClick:()=>fr(!0),className:"group/btn relative overflow-hidden flex items-center gap-3 px-6 py-3 bg-gradient-to-r from-pink-600 to-rose-600 hover:from-pink-700 hover:to-rose-700 text-white font-semibold rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-pink-500 to-rose-500 opacity-0 group-hover/btn:opacity-100 transition-opacity duration-300"}),jsxRuntimeExports.jsx(HiPlus,{className:"w-5 h-5 relative z-10 group-hover/btn:rotate-90 transition-transform duration-300"}),jsxRuntimeExports.jsx("span",{className:"relative z-10",children:"Nueva felicitacin"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-pink-50 to-rose-100 dark:from-pink-900/20 dark:to-rose-800/30 border-2 border-pink-200/50 dark:border-pink-700/50 p-6 transition-all duration-300 hover:shadow-lg hover:scale-[1.02]",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-pink-400/5 to-rose-400/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),jsxRuntimeExports.jsxs("div",{className:"relative flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"p-3 bg-gradient-to-br from-pink-500 to-rose-600 rounded-xl shadow-lg mr-4",children:jsxRuntimeExports.jsx(HiGift,{className:"w-8 h-8 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-pink-600 dark:text-pink-400 font-semibold mb-1",children:"Total Felicitaciones"}),jsxRuntimeExports.jsx("p",{className:"text-3xl font-bold text-pink-700 dark:text-pink-300",children:St.length})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/30 border-2 border-blue-200/50 dark:border-blue-700/50 p-6 transition-all duration-300 hover:shadow-lg hover:scale-[1.02]",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-400/5 to-blue-400/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),jsxRuntimeExports.jsxs("div",{className:"relative flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl shadow-lg mr-4",children:jsxRuntimeExports.jsx(HiUser,{className:"w-8 h-8 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400 font-semibold mb-1",children:"Funcionarios Felicitados"}),jsxRuntimeExports.jsx("p",{className:"text-3xl font-bold text-blue-700 dark:text-blue-300",children:new Set(St.map(zr=>zr.funcionario.id)).size})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-700 rounded-2xl"}),jsxRuntimeExports.jsx("div",{className:"relative bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-2xl border border-gray-200/50 dark:border-gray-600/50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(HiMagnifyingGlass,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Buscar felicitaciones por nombre o mensaje...",value:cr,onChange:zr=>ur(zr.target.value),className:"pl-12 pr-6 py-4 w-full border-2 border-gray-200 dark:border-gray-600 rounded-xl bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-pink-500 dark:focus:ring-pink-400 focus:border-pink-500 dark:focus:border-pink-400 transition-all duration-300 text-lg"})]})})]})]})]}),nr.length===0?jsxRuntimeExports.jsxs("div",{className:"relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-700 rounded-3xl"}),jsxRuntimeExports.jsxs("div",{className:"relative bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-3xl shadow-xl border border-white/20 dark:border-gray-700/50 p-16 text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-pink-100 to-rose-200 dark:from-pink-900/50 dark:to-rose-800/50 rounded-3xl mx-auto mb-8 flex items-center justify-center",children:jsxRuntimeExports.jsx(HiGift,{className:"w-16 h-16 text-pink-500 dark:text-pink-400"})}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:St.length===0?"No hay felicitaciones creadas":"No se encontraron felicitaciones"}),jsxRuntimeExports.jsx("p",{className:"text-lg text-gray-500 dark:text-gray-400 max-w-md mx-auto",children:St.length===0?"An no hay felicitaciones de cumpleaos creadas. Empieza creando la primera!":"Intenta ajustar el trmino de bsqueda para encontrar las felicitaciones que buscas."})]})]}):jsxRuntimeExports.jsx("div",{className:"space-y-6",children:nr.map(zr=>{const Vr=zr.funcionario,Jr=nn(Vr.foto),tn=Qr(Vr.fecha_nacimiento);return jsxRuntimeExports.jsxs("div",{className:`
                                            group relative overflow-hidden rounded-3xl transition-all duration-500 hover:shadow-2xl hover:scale-[1.02] cursor-pointer
                                            ${tn?"bg-gradient-to-br from-yellow-50 to-yellow-100 dark:from-yellow-900/20 dark:to-yellow-800/30 border-2 border-yellow-300 dark:border-yellow-600 animate-pulse shadow-lg shadow-yellow-200/50 dark:shadow-yellow-900/50":"bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl border-2 border-white/20 dark:border-gray-700/50 shadow-xl"}
                                        `,children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 transform -skew-x-12"}),jsxRuntimeExports.jsx("div",{className:`absolute left-0 top-0 w-2 h-full transition-all duration-300 group-hover:w-4 ${tn?"bg-yellow-500":"bg-gradient-to-b from-pink-500 to-rose-600"}`}),tn&&jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-4 left-8 w-3 h-3 bg-yellow-400 rounded-full animate-bounce"}),jsxRuntimeExports.jsx("div",{className:"absolute top-8 right-12 w-2 h-2 bg-pink-400 rounded-full animate-bounce",style:{animationDelay:"0.5s"}}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-8 left-12 w-2 h-2 bg-blue-400 rounded-full animate-bounce",style:{animationDelay:"1s"}}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-4 right-8 w-3 h-3 bg-green-400 rounded-full animate-bounce",style:{animationDelay:"1.5s"}})]}),jsxRuntimeExports.jsx("div",{className:"relative p-8",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex-shrink-0",children:[Jr?jsxRuntimeExports.jsx("img",{src:Jr,alt:`${Vr.nombres} ${Vr.apellidos}`,className:`
                                                                w-20 h-20 rounded-2xl object-cover border-4 shadow-lg transition-all duration-300 group-hover:scale-110 group-hover:rotate-3
                                                                ${tn?"border-yellow-400 shadow-yellow-200 dark:border-yellow-500 dark:shadow-yellow-800":"border-pink-300 dark:border-pink-600 shadow-pink-200/50 dark:shadow-pink-900/50"}
                                                            `,onError:Yr=>{var Sr;Yr.currentTarget.style.display="none",(Sr=Yr.currentTarget.nextElementSibling)==null||Sr.classList.remove("hidden")}}):null,jsxRuntimeExports.jsx("div",{className:`w-20 h-20 rounded-2xl flex items-center justify-center border-4 shadow-lg transition-all duration-300 group-hover:scale-110 ${Jr?"hidden":""} ${tn?"bg-yellow-100 dark:bg-yellow-900 border-yellow-400":"bg-pink-100 dark:bg-pink-900 border-pink-300"}`,children:jsxRuntimeExports.jsx(HiUser,{className:`w-10 h-10 ${tn?"text-yellow-600 dark:text-yellow-400":"text-pink-600 dark:text-pink-400"}`})}),tn&&jsxRuntimeExports.jsx("div",{className:"absolute -top-2 -right-2 p-2 bg-gradient-to-br from-yellow-400 to-yellow-500 rounded-xl shadow-lg animate-bounce",children:jsxRuntimeExports.jsx(HiCake,{className:"w-5 h-5 text-white"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[tn&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2 px-4 py-2 text-sm font-bold bg-gradient-to-r from-yellow-500 to-orange-500 text-white rounded-full shadow-lg animate-pulse",children:[jsxRuntimeExports.jsx(HiSparkles,{className:"w-4 h-4"}),"FELIZ CUMPLEAOS!"]}),jsxRuntimeExports.jsx("div",{className:"animate-bounce text-3xl",children:""})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between mb-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:`
                                                                text-2xl font-bold mb-2 transition-colors duration-300
                                                                ${tn?"text-yellow-800 dark:text-yellow-200 group-hover:text-yellow-900 dark:group-hover:text-yellow-100":"text-gray-900 dark:text-gray-100 group-hover:text-pink-600 dark:group-hover:text-pink-400"}
                                                            `,children:[Vr.nombres," ",Vr.apellidos]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[jsxRuntimeExports.jsx("span",{className:`
                                                                    px-3 py-1 text-sm font-semibold rounded-xl
                                                                    ${tn?"bg-yellow-200 dark:bg-yellow-800 text-yellow-800 dark:text-yellow-200":"bg-pink-100 dark:bg-pink-900 text-pink-700 dark:text-pink-300"}
                                                                `,children:Vr.cargo}),jsxRuntimeExports.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:""}),jsxRuntimeExports.jsx("span",{className:"text-gray-600 dark:text-gray-400 font-medium",children:Vr.sede.name})]})]}),jsxRuntimeExports.jsxs("div",{className:`
                                                            flex items-center gap-2 px-4 py-2 rounded-xl font-medium
                                                            ${tn?"bg-yellow-100 dark:bg-yellow-900/50 text-yellow-600 dark:text-yellow-400":"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400"}
                                                        `,children:[jsxRuntimeExports.jsx(HiCalendarDays,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:formatBirthdayDate(Vr.fecha_nacimiento)}),tn&&jsxRuntimeExports.jsx("span",{className:"ml-2",children:""})]})]}),jsxRuntimeExports.jsxs("div",{className:`
                                                        relative p-6 rounded-2xl mb-6 transition-all duration-300 group-hover:shadow-md
                                                        ${tn?"bg-gradient-to-br from-yellow-100 to-yellow-50 dark:from-yellow-900/50 dark:to-yellow-800/30 border-2 border-yellow-200 dark:border-yellow-700":"bg-gradient-to-br from-pink-50 to-rose-50 dark:from-pink-900/30 dark:to-rose-800/20 border-2 border-pink-200/50 dark:border-pink-700/50"}
                                                    `,children:[jsxRuntimeExports.jsx("div",{className:"absolute top-4 left-4",children:jsxRuntimeExports.jsx(HiHeart,{className:`w-5 h-5 ${tn?"text-yellow-500":"text-pink-500"}`})}),jsxRuntimeExports.jsxs("blockquote",{className:`
                                                            text-lg italic leading-relaxed pl-8
                                                            ${tn?"text-yellow-800 dark:text-yellow-200":"text-pink-800 dark:text-pink-200"}
                                                        `,children:['"',zr.mensaje,'"']})]}),(Cr.canEdit||Cr.canDelete)&&jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[Cr.canEdit&&jsxRuntimeExports.jsxs("button",{onClick:()=>Gr(zr),className:"group/edit flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-medium rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[jsxRuntimeExports.jsx(HiPencil,{className:"w-4 h-4 group-hover/edit:rotate-12 transition-transform duration-300"}),"Editar"]}),Cr.canDelete&&jsxRuntimeExports.jsxs("button",{onClick:()=>Kr(zr),className:"group/delete flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white font-medium rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[jsxRuntimeExports.jsx(HiTrash,{className:"w-4 h-4 group-hover/delete:scale-110 transition-transform duration-300"}),"Eliminar"]})]})]})]})})]},zr.id)})})]})}),jsxRuntimeExports.jsx(CrudModal$2,{isOpen:dr,onClose:()=>fr(!1),title:"Crear Felicitacin",loading:br,submitText:"Crear",children:jsxRuntimeExports.jsx(FelicitacionForm,{funcionarios:tr,onSubmit:Pr,loading:br})}),jsxRuntimeExports.jsx(CrudModal$2,{isOpen:mr,onClose:()=>{xr(!1),vr(null)},title:"Editar Felicitacin",loading:br,submitText:"Actualizar",children:jsxRuntimeExports.jsx(FelicitacionForm,{felicitacion:gr,funcionarios:tr,onSubmit:Pr,loading:br})}),jsxRuntimeExports.jsx(DeleteConfirmModal$2,{isOpen:pr,onClose:()=>{hr(!1),vr(null)},onConfirm:Lr,loading:br,title:"Eliminar Felicitacin",message:"Ests seguro de que deseas eliminar esta felicitacin? Esta accin no se puede deshacer.",itemName:gr?`Felicitacin para ${gr.funcionario.nombres} ${gr.funcionario.apellidos}`:""})]})}class ResultsApiService{constructor(){_i(this,"baseUrl","/indicators")}async getResults(){try{const er=await axiosInstance.get(`${this.baseUrl}/results/`);return console.log(" Results obtained:",er.data),Array.isArray(er.data)?er.data:er.data&&Array.isArray(er.data.results)?er.data.results:(console.warn(" La respuesta no es un array:",er.data),[])}catch(er){throw console.error(" Error fetching results:",er),new Error("Error loading results")}}async getResultsWithDetails(){try{const er=await axiosInstance.get(`${this.baseUrl}/results/detailed/`);if(console.log(" Detailed results obtained:",er.data),er.data&&Array.isArray(er.data.results)){const tr=er.data.results.map(rr=>{var or,lr,cr,ur,dr,fr,mr,xr,pr,hr,gr,vr,br,yr;console.log(" Transformando item:",{id:rr.id,calculatedValue:rr.calculatedValue,target:(or=rr.indicator)==null?void 0:or.target,targetType:typeof((lr=rr.indicator)==null?void 0:lr.target),indicatorName:(cr=rr.indicator)==null?void 0:cr.name,headquarterName:(ur=rr.headquarters)==null?void 0:ur.name});const nr=parseFloat(rr.calculatedValue)||0,ar=parseFloat((dr=rr.indicator)==null?void 0:dr.target)||0,sr=parseFloat(rr.numerator)||0,ir=parseFloat(rr.denominator)||0;return console.log(" Valores convertidos:",{calculatedValue:nr,target:ar,numerator:sr,denominator:ir}),{id:rr.id,numerator:sr,denominator:ir,calculatedValue:nr,creationDate:rr.creationDate,updateDate:rr.updateDate,year:rr.year,month:rr.month,quarter:rr.quarter,semester:rr.semester,headquarters:((fr=rr.headquarters)==null?void 0:fr.id)||rr.headquarters,indicator:((mr=rr.indicator)==null?void 0:mr.id)||rr.indicator,user:((xr=rr.user)==null?void 0:xr.id)||rr.user,headquarterName:((pr=rr.headquarters)==null?void 0:pr.name)||"Sin sede",indicatorName:((hr=rr.indicator)==null?void 0:hr.name)||"Sin nombre",indicatorCode:((gr=rr.indicator)==null?void 0:gr.code)||"Sin cdigo",measurementUnit:((vr=rr.indicator)==null?void 0:vr.measurementUnit)||"",measurementFrequency:((br=rr.indicator)==null?void 0:br.measurementFrequency)||"",target:ar,calculationMethod:((yr=rr.indicator)==null?void 0:yr.calculationMethod)||""}});return console.log(" Datos transformados correctamente:",tr.length,"elementos"),console.log(" Primer elemento transformado:",tr[0]),tr}else return Array.isArray(er.data)?er.data:(console.warn(" Estructura de respuesta inesperada:",er.data),[])}catch(er){throw console.error(" Error fetching detailed results:",er),new Error("Error loading detailed results")}}async getResultById(er){try{const tr=await axiosInstance.get(`${this.baseUrl}/results/${er}/`);return console.log(" Result obtained:",tr.data),tr.data}catch(tr){throw console.error(` Error fetching result ${er}:`,tr),new Error(`Error loading result with ID ${er}`)}}async createResult(er){var tr;try{if(console.log(" Creating result:",er),!er.headquarters||er.headquarters===0)throw new Error("Debe seleccionar una sede vlida");if(!er.indicator||er.indicator===0)throw new Error("Debe seleccionar un indicador vlido");if(!er.user||er.user===0)throw new Error("Usuario requerido");const rr=await axiosInstance.post(`${this.baseUrl}/results/`,er);return console.log(" Result created:",rr.data),rr.data}catch(rr){if(console.error(" Error creating result:",rr),(tr=rr.response)!=null&&tr.data){const nr=rr.response.data;if(typeof nr=="object"){const ar=Object.entries(nr).map(([sr,ir])=>`${sr}: ${Array.isArray(ir)?ir.join(", "):ir}`).join(`
`);throw new Error(`Validation errors:
${ar}`)}}throw new Error(rr.message||"Error creating result")}}async updateResult(er){var tr;try{console.log(" Updating result:",er);const rr=await axiosInstance.put(`${this.baseUrl}/results/${er.id}/`,er);return console.log(" Result updated:",rr.data),rr.data}catch(rr){if(console.error(" Error updating result:",rr),(tr=rr.response)!=null&&tr.data){const nr=rr.response.data;if(typeof nr=="object"){const ar=Object.entries(nr).map(([sr,ir])=>`${sr}: ${Array.isArray(ir)?ir.join(", "):ir}`).join(`
`);throw new Error(`Validation errors:
${ar}`)}}throw new Error(rr.message||"Error updating result")}}async deleteResult(er){var tr,rr;try{await axiosInstance.delete(`${this.baseUrl}/results/${er}/`),console.log(` Result ${er} deleted successfully`)}catch(nr){throw console.error(` Error deleting result ${er}:`,nr),new Error(`Error deleting result: ${((rr=(tr=nr.response)==null?void 0:tr.data)==null?void 0:rr.detail)||nr.message}`)}}async getResultsByIndicator(er){try{const tr=await axiosInstance.get(`${this.baseUrl}/results/?indicator=${er}`);return console.log(" Results by indicator obtained:",tr.data),Array.isArray(tr.data)?tr.data:tr.data&&Array.isArray(tr.data.results)?tr.data.results:[]}catch(tr){throw console.error(` Error fetching results for indicator ${er}:`,tr),new Error(`Error loading results for indicator ${er}`)}}async getResultsByHeadquarters(er){try{const tr=await axiosInstance.get(`${this.baseUrl}/results/?headquarters=${er}`);return console.log(" Results by headquarters obtained:",tr.data),Array.isArray(tr.data)?tr.data:tr.data&&Array.isArray(tr.data.results)?tr.data.results:[]}catch(tr){throw console.error(` Error fetching results for headquarters ${er}:`,tr),new Error(`Error loading results for headquarters ${er}`)}}async getIndicators(){var er;try{const tr=await axiosInstance.get(`${this.baseUrl}/indicators/`);return console.log(" Indicators obtained:",tr.data),(Array.isArray(tr.data)?tr.data:((er=tr.data)==null?void 0:er.results)||[]).map(nr=>({id:nr.id,name:nr.name,code:nr.code,measurementFrequency:nr.measurementFrequency}))}catch(tr){throw console.error(" Error fetching indicators:",tr),new Error("Error loading indicators")}}async getHeadquarters(){var er;try{const tr=await axiosInstance.get("/companies/headquarters/");return console.log(" Headquarters obtained:",tr.data),(Array.isArray(tr.data)?tr.data:((er=tr.data)==null?void 0:er.results)||[]).map(nr=>({id:nr.id,name:nr.name}))}catch(tr){throw console.error(" Error fetching headquarters:",tr),new Error("Error loading headquarters")}}}class ApiResultRepository{constructor(){_i(this,"apiService");this.apiService=new ResultsApiService}async getAll(){return await this.apiService.getResults()}async getAllWithDetails(){return await this.apiService.getResultsWithDetails()}async getById(er){try{return await this.apiService.getResultById(er)}catch(tr){return console.error(`Error fetching result ${er}:`,tr),null}}async create(er){return await this.apiService.createResult(er)}async update(er){return await this.apiService.updateResult(er)}async delete(er){return await this.apiService.deleteResult(er)}async getByIndicator(er){return await this.apiService.getResultsByIndicator(er)}async getByHeadquarters(er){return await this.apiService.getResultsByHeadquarters(er)}async getIndicators(){return await this.apiService.getIndicators()}async getHeadquarters(){return await this.apiService.getHeadquarters()}}class GetResultsUseCase{constructor(er){_i(this,"resultRepository");this.resultRepository=er}async execute(){return await this.resultRepository.getAll()}async executeWithDetails(){return await this.resultRepository.getAllWithDetails()}}class CreateResultUseCase{constructor(er){_i(this,"resultRepository");this.resultRepository=er}async execute(er){if(!er.headquarters||er.headquarters<=0)throw new Error("Debe seleccionar una sede");if(!er.indicator||er.indicator<=0)throw new Error("Debe seleccionar un indicador");if(er.numerator<0)throw new Error("El numerador no puede ser negativo");if(er.denominator<=0)throw new Error("El denominador debe ser mayor que cero");if(!er.year||er.year<2020||er.year>2030)throw new Error("El ao debe estar entre 2020 y 2030");return await this.resultRepository.create(er)}}class ResultService{constructor(){_i(this,"repository");_i(this,"getResultsUseCase");_i(this,"createResultUseCase");this.repository=new ApiResultRepository,this.getResultsUseCase=new GetResultsUseCase(this.repository),this.createResultUseCase=new CreateResultUseCase(this.repository)}async getAllResults(){return await this.getResultsUseCase.execute()}async getAllResultsWithDetails(){return await this.getResultsUseCase.executeWithDetails()}async createResult(er){return await this.createResultUseCase.execute(er)}async updateResult(er){return await this.repository.update(er)}async deleteResult(er){await this.repository.delete(er)}async getResultsByIndicator(er){return await this.repository.getByIndicator(er)}async getResultsByHeadquarters(er){return await this.repository.getByHeadquarters(er)}async getIndicators(){return await this.repository.getIndicators()}async getHeadquarters(){return await this.repository.getHeadquarters()}}const useResultsData=()=>{const[St,er]=reactExports.useState([]),[tr,rr]=reactExports.useState(!0),[nr,ar]=reactExports.useState(null),sr=new ResultService,{notifyError:ir}=useNotifications(),or=async()=>{try{rr(!0),ar(null),console.log(" Cargando datos para dashboard...");const lr=await sr.getAllResultsWithDetails();console.log(" Resultados cargados para dashboard:",lr.length),console.log(" Primer resultado:",lr[0]),Array.isArray(lr)?(er(lr),console.log(" Datos establecidos correctamente como array")):(console.warn(" Los resultados no son un array:",lr),er([]),ar("Los datos recibidos no tienen el formato esperado"))}catch(lr){console.error(" Error al cargar datos del dashboard:",lr);const cr=lr.message||"Error al cargar los datos de resultados";ar(cr),er([]),ir(cr)}finally{rr(!1)}};return reactExports.useEffect(()=>{or()},[]),{data:St,loading:tr,error:nr,refetch:or}},FilterSelect=({label:St,options:er,value:tr,onChange:rr})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:St}),jsxRuntimeExports.jsxs("select",{value:tr,onChange:nr=>rr(nr.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Todos"}),er.map(nr=>jsxRuntimeExports.jsx("option",{value:nr,children:nr},nr))]})]});var get$2={},isUnsafeProperty={};(function(St){Object.defineProperty(St,Symbol.toStringTag,{value:"Module"});function er(tr){return tr==="__proto__"}St.isUnsafeProperty=er})(isUnsafeProperty);var isDeepKey={};(function(St){Object.defineProperty(St,Symbol.toStringTag,{value:"Module"});function er(tr){switch(typeof tr){case"number":case"symbol":return!1;case"string":return tr.includes(".")||tr.includes("[")||tr.includes("]")}}St.isDeepKey=er})(isDeepKey);var toKey={};(function(St){Object.defineProperty(St,Symbol.toStringTag,{value:"Module"});function er(tr){var rr;return typeof tr=="string"||typeof tr=="symbol"?tr:Object.is((rr=tr==null?void 0:tr.valueOf)==null?void 0:rr.call(tr),-0)?"-0":String(tr)}St.toKey=er})(toKey);var toPath={};(function(St){Object.defineProperty(St,Symbol.toStringTag,{value:"Module"});function er(tr){const rr=[],nr=tr.length;if(nr===0)return rr;let ar=0,sr="",ir="",or=!1;for(tr.charCodeAt(0)===46&&(rr.push(""),ar++);ar<nr;){const lr=tr[ar];ir?lr==="\\"&&ar+1<nr?(ar++,sr+=tr[ar]):lr===ir?ir="":sr+=lr:or?lr==='"'||lr==="'"?ir=lr:lr==="]"?(or=!1,rr.push(sr),sr=""):sr+=lr:lr==="["?(or=!0,sr&&(rr.push(sr),sr="")):lr==="."?sr&&(rr.push(sr),sr=""):sr+=lr,ar++}return sr&&rr.push(sr),rr}St.toPath=er})(toPath);(function(St){Object.defineProperty(St,Symbol.toStringTag,{value:"Module"});const er=isUnsafeProperty,tr=isDeepKey,rr=toKey,nr=toPath;function ar(ir,or,lr){if(ir==null)return lr;switch(typeof or){case"string":{if(er.isUnsafeProperty(or))return lr;const cr=ir[or];return cr===void 0?tr.isDeepKey(or)?ar(ir,nr.toPath(or),lr):lr:cr}case"number":case"symbol":{typeof or=="number"&&(or=rr.toKey(or));const cr=ir[or];return cr===void 0?lr:cr}default:{if(Array.isArray(or))return sr(ir,or,lr);if(Object.is(or==null?void 0:or.valueOf(),-0)?or="-0":or=String(or),er.isUnsafeProperty(or))return lr;const cr=ir[or];return cr===void 0?lr:cr}}}function sr(ir,or,lr){if(or.length===0)return lr;let cr=ir;for(let ur=0;ur<or.length;ur++){if(cr==null||er.isUnsafeProperty(or[ur]))return lr;cr=cr[or[ur]]}return cr===void 0?lr:cr}St.get=ar})(get$2);var get=get$2.get;const get$1=getDefaultExportFromCjs(get);var reactIs={exports:{}},reactIs_production={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var REACT_ELEMENT_TYPE=Symbol.for("react.transitional.element"),REACT_PORTAL_TYPE=Symbol.for("react.portal"),REACT_FRAGMENT_TYPE=Symbol.for("react.fragment"),REACT_STRICT_MODE_TYPE=Symbol.for("react.strict_mode"),REACT_PROFILER_TYPE=Symbol.for("react.profiler"),REACT_CONSUMER_TYPE=Symbol.for("react.consumer"),REACT_CONTEXT_TYPE=Symbol.for("react.context"),REACT_FORWARD_REF_TYPE=Symbol.for("react.forward_ref"),REACT_SUSPENSE_TYPE=Symbol.for("react.suspense"),REACT_SUSPENSE_LIST_TYPE=Symbol.for("react.suspense_list"),REACT_MEMO_TYPE=Symbol.for("react.memo"),REACT_LAZY_TYPE=Symbol.for("react.lazy"),REACT_VIEW_TRANSITION_TYPE=Symbol.for("react.view_transition"),REACT_CLIENT_REFERENCE=Symbol.for("react.client.reference");function typeOf(St){if(typeof St=="object"&&St!==null){var er=St.$$typeof;switch(er){case REACT_ELEMENT_TYPE:switch(St=St.type,St){case REACT_FRAGMENT_TYPE:case REACT_PROFILER_TYPE:case REACT_STRICT_MODE_TYPE:case REACT_SUSPENSE_TYPE:case REACT_SUSPENSE_LIST_TYPE:case REACT_VIEW_TRANSITION_TYPE:return St;default:switch(St=St&&St.$$typeof,St){case REACT_CONTEXT_TYPE:case REACT_FORWARD_REF_TYPE:case REACT_LAZY_TYPE:case REACT_MEMO_TYPE:return St;case REACT_CONSUMER_TYPE:return St;default:return er}}case REACT_PORTAL_TYPE:return er}}}reactIs_production.ContextConsumer=REACT_CONSUMER_TYPE;reactIs_production.ContextProvider=REACT_CONTEXT_TYPE;reactIs_production.Element=REACT_ELEMENT_TYPE;reactIs_production.ForwardRef=REACT_FORWARD_REF_TYPE;reactIs_production.Fragment=REACT_FRAGMENT_TYPE;reactIs_production.Lazy=REACT_LAZY_TYPE;reactIs_production.Memo=REACT_MEMO_TYPE;reactIs_production.Portal=REACT_PORTAL_TYPE;reactIs_production.Profiler=REACT_PROFILER_TYPE;reactIs_production.StrictMode=REACT_STRICT_MODE_TYPE;reactIs_production.Suspense=REACT_SUSPENSE_TYPE;reactIs_production.SuspenseList=REACT_SUSPENSE_LIST_TYPE;reactIs_production.isContextConsumer=function(St){return typeOf(St)===REACT_CONSUMER_TYPE};reactIs_production.isContextProvider=function(St){return typeOf(St)===REACT_CONTEXT_TYPE};reactIs_production.isElement=function(St){return typeof St=="object"&&St!==null&&St.$$typeof===REACT_ELEMENT_TYPE};reactIs_production.isForwardRef=function(St){return typeOf(St)===REACT_FORWARD_REF_TYPE};reactIs_production.isFragment=function(St){return typeOf(St)===REACT_FRAGMENT_TYPE};reactIs_production.isLazy=function(St){return typeOf(St)===REACT_LAZY_TYPE};reactIs_production.isMemo=function(St){return typeOf(St)===REACT_MEMO_TYPE};reactIs_production.isPortal=function(St){return typeOf(St)===REACT_PORTAL_TYPE};reactIs_production.isProfiler=function(St){return typeOf(St)===REACT_PROFILER_TYPE};reactIs_production.isStrictMode=function(St){return typeOf(St)===REACT_STRICT_MODE_TYPE};reactIs_production.isSuspense=function(St){return typeOf(St)===REACT_SUSPENSE_TYPE};reactIs_production.isSuspenseList=function(St){return typeOf(St)===REACT_SUSPENSE_LIST_TYPE};reactIs_production.isValidElementType=function(St){return typeof St=="string"||typeof St=="function"||St===REACT_FRAGMENT_TYPE||St===REACT_PROFILER_TYPE||St===REACT_STRICT_MODE_TYPE||St===REACT_SUSPENSE_TYPE||St===REACT_SUSPENSE_LIST_TYPE||typeof St=="object"&&St!==null&&(St.$$typeof===REACT_LAZY_TYPE||St.$$typeof===REACT_MEMO_TYPE||St.$$typeof===REACT_CONTEXT_TYPE||St.$$typeof===REACT_CONSUMER_TYPE||St.$$typeof===REACT_FORWARD_REF_TYPE||St.$$typeof===REACT_CLIENT_REFERENCE||St.getModuleId!==void 0)};reactIs_production.typeOf=typeOf;reactIs.exports=reactIs_production;var reactIsExports=reactIs.exports,mathSign=St=>St===0?0:St>0?1:-1,isNan=St=>typeof St=="number"&&St!=+St,isPercent=St=>typeof St=="string"&&St.indexOf("%")===St.length-1,isNumber=St=>(typeof St=="number"||St instanceof Number)&&!isNan(St),isNumOrStr=St=>isNumber(St)||typeof St=="string",idCounter=0,uniqueId=St=>{var er=++idCounter;return"".concat(St||"").concat(er)},getPercentValue=function St(er,tr){var rr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,nr=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!isNumber(er)&&typeof er!="string")return rr;var ar;if(isPercent(er)){if(tr==null)return rr;var sr=er.indexOf("%");ar=tr*parseFloat(er.slice(0,sr))/100}else ar=+er;return isNan(ar)&&(ar=rr),nr&&tr!=null&&ar>tr&&(ar=tr),ar},hasDuplicate=St=>{if(!Array.isArray(St))return!1;for(var er=St.length,tr={},rr=0;rr<er;rr++)if(!tr[St[rr]])tr[St[rr]]=!0;else return!0;return!1},interpolateNumber$1=(St,er)=>isNumber(St)&&isNumber(er)?tr=>St+tr*(er-St):()=>er;function findEntryInArray(St,er,tr){if(!(!St||!St.length))return St.find(rr=>rr&&(typeof er=="function"?er(rr):get$1(rr,er))===tr)}var isNullish=St=>St===null||typeof St>"u",upperFirst=St=>isNullish(St)?St:"".concat(St.charAt(0).toUpperCase()).concat(St.slice(1)),SVGContainerPropKeys=["viewBox","children"],SVGElementPropKeys=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],PolyElementKeys=["points","pathLength"],FilteredElementKeyMap={svg:SVGContainerPropKeys,polygon:PolyElementKeys,polyline:PolyElementKeys},EventKeys=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],adaptEventHandlers=(St,er)=>{if(!St||typeof St=="function"||typeof St=="boolean")return null;var tr=St;if(reactExports.isValidElement(St)&&(tr=St.props),typeof tr!="object"&&typeof tr!="function")return null;var rr={};return Object.keys(tr).forEach(nr=>{EventKeys.includes(nr)&&(rr[nr]=ar=>tr[nr](tr,ar))}),rr},getEventHandlerOfChild=(St,er,tr)=>rr=>(St(er,tr,rr),null),adaptEventsOfChild=(St,er,tr)=>{if(St===null||typeof St!="object"&&typeof St!="function")return null;var rr=null;return Object.keys(St).forEach(nr=>{var ar=St[nr];EventKeys.includes(nr)&&typeof ar=="function"&&(rr||(rr={}),rr[nr]=getEventHandlerOfChild(ar,er,tr))}),rr},getDisplayName=St=>typeof St=="string"?St:St?St.displayName||St.name||"Component":"",lastChildren=null,lastResult=null,toArray$1=St=>{if(St===lastChildren&&Array.isArray(lastResult))return lastResult;var er=[];return reactExports.Children.forEach(St,tr=>{isNullish(tr)||(reactIsExports.isFragment(tr)?er=er.concat(toArray$1(tr.props.children)):er.push(tr))}),lastResult=er,lastChildren=St,er};function findAllByType(St,er){var tr=[],rr=[];return Array.isArray(er)?rr=er.map(nr=>getDisplayName(nr)):rr=[getDisplayName(er)],toArray$1(St).forEach(nr=>{var ar=get$1(nr,"type.displayName")||get$1(nr,"type.name");rr.indexOf(ar)!==-1&&tr.push(nr)}),tr}var isClipDot=St=>St&&typeof St=="object"&&"clipDot"in St?!!St.clipDot:!0,isValidSpreadableProp=(St,er,tr,rr)=>{var nr,ar=(nr=rr&&(FilteredElementKeyMap==null?void 0:FilteredElementKeyMap[rr]))!==null&&nr!==void 0?nr:[];return er.startsWith("data-")||typeof St!="function"&&(rr&&ar.includes(er)||SVGElementPropKeys.includes(er))||tr&&EventKeys.includes(er)},filterProps=(St,er,tr)=>{if(!St||typeof St=="function"||typeof St=="boolean")return null;var rr=St;if(reactExports.isValidElement(St)&&(rr=St.props),typeof rr!="object"&&typeof rr!="function")return null;var nr={};return Object.keys(rr).forEach(ar=>{var sr;isValidSpreadableProp((sr=rr)===null||sr===void 0?void 0:sr[ar],ar,er,tr)&&(nr[ar]=rr[ar])}),nr},_excluded$m=["children","width","height","viewBox","className","style","title","desc"];function _extends$r(){return _extends$r=Object.assign?Object.assign.bind():function(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(St[rr]=tr[rr])}return St},_extends$r.apply(null,arguments)}function _objectWithoutProperties$m(St,er){if(St==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$m(St,er);if(Object.getOwnPropertySymbols){var ar=Object.getOwnPropertySymbols(St);for(rr=0;rr<ar.length;rr++)tr=ar[rr],er.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(St,tr)&&(nr[tr]=St[tr])}return nr}function _objectWithoutPropertiesLoose$m(St,er){if(St==null)return{};var tr={};for(var rr in St)if({}.hasOwnProperty.call(St,rr)){if(er.indexOf(rr)!==-1)continue;tr[rr]=St[rr]}return tr}var Surface=reactExports.forwardRef((St,er)=>{var{children:tr,width:rr,height:nr,viewBox:ar,className:sr,style:ir,title:or,desc:lr}=St,cr=_objectWithoutProperties$m(St,_excluded$m),ur=ar||{width:rr,height:nr,x:0,y:0},dr=clsx("recharts-surface",sr);return reactExports.createElement("svg",_extends$r({},filterProps(cr,!0,"svg"),{className:dr,width:rr,height:nr,style:ir,viewBox:"".concat(ur.x," ").concat(ur.y," ").concat(ur.width," ").concat(ur.height),ref:er}),reactExports.createElement("title",null,or),reactExports.createElement("desc",null,lr),tr)}),_excluded$l=["children","className"];function _extends$q(){return _extends$q=Object.assign?Object.assign.bind():function(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(St[rr]=tr[rr])}return St},_extends$q.apply(null,arguments)}function _objectWithoutProperties$l(St,er){if(St==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$l(St,er);if(Object.getOwnPropertySymbols){var ar=Object.getOwnPropertySymbols(St);for(rr=0;rr<ar.length;rr++)tr=ar[rr],er.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(St,tr)&&(nr[tr]=St[tr])}return nr}function _objectWithoutPropertiesLoose$l(St,er){if(St==null)return{};var tr={};for(var rr in St)if({}.hasOwnProperty.call(St,rr)){if(er.indexOf(rr)!==-1)continue;tr[rr]=St[rr]}return tr}var Layer=reactExports.forwardRef((St,er)=>{var{children:tr,className:rr}=St,nr=_objectWithoutProperties$l(St,_excluded$l),ar=clsx("recharts-layer",rr);return reactExports.createElement("g",_extends$q({className:ar},filterProps(nr,!0),{ref:er}),tr)}),LegendPortalContext=reactExports.createContext(null),useLegendPortal=()=>reactExports.useContext(LegendPortalContext);function constant$1(St){return function(){return St}}const cos=Math.cos,sin=Math.sin,sqrt$1=Math.sqrt,pi$1=Math.PI,tau$1=2*pi$1,pi=Math.PI,tau=2*pi,epsilon=1e-6,tauEpsilon=tau-epsilon;function append(St){this._+=St[0];for(let er=1,tr=St.length;er<tr;++er)this._+=arguments[er]+St[er]}function appendRound(St){let er=Math.floor(St);if(!(er>=0))throw new Error(`invalid digits: ${St}`);if(er>15)return append;const tr=10**er;return function(rr){this._+=rr[0];for(let nr=1,ar=rr.length;nr<ar;++nr)this._+=Math.round(arguments[nr]*tr)/tr+rr[nr]}}class Path{constructor(er){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=er==null?append:appendRound(er)}moveTo(er,tr){this._append`M${this._x0=this._x1=+er},${this._y0=this._y1=+tr}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(er,tr){this._append`L${this._x1=+er},${this._y1=+tr}`}quadraticCurveTo(er,tr,rr,nr){this._append`Q${+er},${+tr},${this._x1=+rr},${this._y1=+nr}`}bezierCurveTo(er,tr,rr,nr,ar,sr){this._append`C${+er},${+tr},${+rr},${+nr},${this._x1=+ar},${this._y1=+sr}`}arcTo(er,tr,rr,nr,ar){if(er=+er,tr=+tr,rr=+rr,nr=+nr,ar=+ar,ar<0)throw new Error(`negative radius: ${ar}`);let sr=this._x1,ir=this._y1,or=rr-er,lr=nr-tr,cr=sr-er,ur=ir-tr,dr=cr*cr+ur*ur;if(this._x1===null)this._append`M${this._x1=er},${this._y1=tr}`;else if(dr>epsilon)if(!(Math.abs(ur*or-lr*cr)>epsilon)||!ar)this._append`L${this._x1=er},${this._y1=tr}`;else{let fr=rr-sr,mr=nr-ir,xr=or*or+lr*lr,pr=fr*fr+mr*mr,hr=Math.sqrt(xr),gr=Math.sqrt(dr),vr=ar*Math.tan((pi-Math.acos((xr+dr-pr)/(2*hr*gr)))/2),br=vr/gr,yr=vr/hr;Math.abs(br-1)>epsilon&&this._append`L${er+br*cr},${tr+br*ur}`,this._append`A${ar},${ar},0,0,${+(ur*fr>cr*mr)},${this._x1=er+yr*or},${this._y1=tr+yr*lr}`}}arc(er,tr,rr,nr,ar,sr){if(er=+er,tr=+tr,rr=+rr,sr=!!sr,rr<0)throw new Error(`negative radius: ${rr}`);let ir=rr*Math.cos(nr),or=rr*Math.sin(nr),lr=er+ir,cr=tr+or,ur=1^sr,dr=sr?nr-ar:ar-nr;this._x1===null?this._append`M${lr},${cr}`:(Math.abs(this._x1-lr)>epsilon||Math.abs(this._y1-cr)>epsilon)&&this._append`L${lr},${cr}`,rr&&(dr<0&&(dr=dr%tau+tau),dr>tauEpsilon?this._append`A${rr},${rr},0,1,${ur},${er-ir},${tr-or}A${rr},${rr},0,1,${ur},${this._x1=lr},${this._y1=cr}`:dr>epsilon&&this._append`A${rr},${rr},0,${+(dr>=pi)},${ur},${this._x1=er+rr*Math.cos(ar)},${this._y1=tr+rr*Math.sin(ar)}`)}rect(er,tr,rr,nr){this._append`M${this._x0=this._x1=+er},${this._y0=this._y1=+tr}h${rr=+rr}v${+nr}h${-rr}Z`}toString(){return this._}}function withPath(St){let er=3;return St.digits=function(tr){if(!arguments.length)return er;if(tr==null)er=null;else{const rr=Math.floor(tr);if(!(rr>=0))throw new RangeError(`invalid digits: ${tr}`);er=rr}return St},()=>new Path(er)}function array(St){return typeof St=="object"&&"length"in St?St:Array.from(St)}function Linear(St){this._context=St}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(St,er){switch(St=+St,er=+er,this._point){case 0:this._point=1,this._line?this._context.lineTo(St,er):this._context.moveTo(St,er);break;case 1:this._point=2;default:this._context.lineTo(St,er);break}}};function curveLinear(St){return new Linear(St)}function x$5(St){return St[0]}function y$7(St){return St[1]}function shapeLine(St,er){var tr=constant$1(!0),rr=null,nr=curveLinear,ar=null,sr=withPath(ir);St=typeof St=="function"?St:St===void 0?x$5:constant$1(St),er=typeof er=="function"?er:er===void 0?y$7:constant$1(er);function ir(or){var lr,cr=(or=array(or)).length,ur,dr=!1,fr;for(rr==null&&(ar=nr(fr=sr())),lr=0;lr<=cr;++lr)!(lr<cr&&tr(ur=or[lr],lr,or))===dr&&((dr=!dr)?ar.lineStart():ar.lineEnd()),dr&&ar.point(+St(ur,lr,or),+er(ur,lr,or));if(fr)return ar=null,fr+""||null}return ir.x=function(or){return arguments.length?(St=typeof or=="function"?or:constant$1(+or),ir):St},ir.y=function(or){return arguments.length?(er=typeof or=="function"?or:constant$1(+or),ir):er},ir.defined=function(or){return arguments.length?(tr=typeof or=="function"?or:constant$1(!!or),ir):tr},ir.curve=function(or){return arguments.length?(nr=or,rr!=null&&(ar=nr(rr)),ir):nr},ir.context=function(or){return arguments.length?(or==null?rr=ar=null:ar=nr(rr=or),ir):rr},ir}function shapeArea(St,er,tr){var rr=null,nr=constant$1(!0),ar=null,sr=curveLinear,ir=null,or=withPath(lr);St=typeof St=="function"?St:St===void 0?x$5:constant$1(+St),er=typeof er=="function"?er:constant$1(er===void 0?0:+er),tr=typeof tr=="function"?tr:tr===void 0?y$7:constant$1(+tr);function lr(ur){var dr,fr,mr,xr=(ur=array(ur)).length,pr,hr=!1,gr,vr=new Array(xr),br=new Array(xr);for(ar==null&&(ir=sr(gr=or())),dr=0;dr<=xr;++dr){if(!(dr<xr&&nr(pr=ur[dr],dr,ur))===hr)if(hr=!hr)fr=dr,ir.areaStart(),ir.lineStart();else{for(ir.lineEnd(),ir.lineStart(),mr=dr-1;mr>=fr;--mr)ir.point(vr[mr],br[mr]);ir.lineEnd(),ir.areaEnd()}hr&&(vr[dr]=+St(pr,dr,ur),br[dr]=+er(pr,dr,ur),ir.point(rr?+rr(pr,dr,ur):vr[dr],tr?+tr(pr,dr,ur):br[dr]))}if(gr)return ir=null,gr+""||null}function cr(){return shapeLine().defined(nr).curve(sr).context(ar)}return lr.x=function(ur){return arguments.length?(St=typeof ur=="function"?ur:constant$1(+ur),rr=null,lr):St},lr.x0=function(ur){return arguments.length?(St=typeof ur=="function"?ur:constant$1(+ur),lr):St},lr.x1=function(ur){return arguments.length?(rr=ur==null?null:typeof ur=="function"?ur:constant$1(+ur),lr):rr},lr.y=function(ur){return arguments.length?(er=typeof ur=="function"?ur:constant$1(+ur),tr=null,lr):er},lr.y0=function(ur){return arguments.length?(er=typeof ur=="function"?ur:constant$1(+ur),lr):er},lr.y1=function(ur){return arguments.length?(tr=ur==null?null:typeof ur=="function"?ur:constant$1(+ur),lr):tr},lr.lineX0=lr.lineY0=function(){return cr().x(St).y(er)},lr.lineY1=function(){return cr().x(St).y(tr)},lr.lineX1=function(){return cr().x(rr).y(er)},lr.defined=function(ur){return arguments.length?(nr=typeof ur=="function"?ur:constant$1(!!ur),lr):nr},lr.curve=function(ur){return arguments.length?(sr=ur,ar!=null&&(ir=sr(ar)),lr):sr},lr.context=function(ur){return arguments.length?(ur==null?ar=ir=null:ir=sr(ar=ur),lr):ar},lr}class Bump{constructor(er,tr){this._context=er,this._x=tr}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(er,tr){switch(er=+er,tr=+tr,this._point){case 0:{this._point=1,this._line?this._context.lineTo(er,tr):this._context.moveTo(er,tr);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+er)/2,this._y0,this._x0,tr,er,tr):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+tr)/2,er,this._y0,er,tr);break}}this._x0=er,this._y0=tr}}function bumpX(St){return new Bump(St,!0)}function bumpY(St){return new Bump(St,!1)}const symbolCircle={draw(St,er){const tr=sqrt$1(er/pi$1);St.moveTo(tr,0),St.arc(0,0,tr,0,tau$1)}},symbolCross={draw(St,er){const tr=sqrt$1(er/5)/2;St.moveTo(-3*tr,-tr),St.lineTo(-tr,-tr),St.lineTo(-tr,-3*tr),St.lineTo(tr,-3*tr),St.lineTo(tr,-tr),St.lineTo(3*tr,-tr),St.lineTo(3*tr,tr),St.lineTo(tr,tr),St.lineTo(tr,3*tr),St.lineTo(-tr,3*tr),St.lineTo(-tr,tr),St.lineTo(-3*tr,tr),St.closePath()}},tan30=sqrt$1(1/3),tan30_2=tan30*2,symbolDiamond={draw(St,er){const tr=sqrt$1(er/tan30_2),rr=tr*tan30;St.moveTo(0,-tr),St.lineTo(rr,0),St.lineTo(0,tr),St.lineTo(-rr,0),St.closePath()}},symbolSquare={draw(St,er){const tr=sqrt$1(er),rr=-tr/2;St.rect(rr,rr,tr,tr)}},ka=.8908130915292852,kr=sin(pi$1/10)/sin(7*pi$1/10),kx=sin(tau$1/10)*kr,ky=-cos(tau$1/10)*kr,symbolStar={draw(St,er){const tr=sqrt$1(er*ka),rr=kx*tr,nr=ky*tr;St.moveTo(0,-tr),St.lineTo(rr,nr);for(let ar=1;ar<5;++ar){const sr=tau$1*ar/5,ir=cos(sr),or=sin(sr);St.lineTo(or*tr,-ir*tr),St.lineTo(ir*rr-or*nr,or*rr+ir*nr)}St.closePath()}},sqrt3=sqrt$1(3),symbolTriangle={draw(St,er){const tr=-sqrt$1(er/(sqrt3*3));St.moveTo(0,tr*2),St.lineTo(-sqrt3*tr,-tr),St.lineTo(sqrt3*tr,-tr),St.closePath()}},c$5=-.5,s$8=sqrt$1(3)/2,k$4=1/sqrt$1(12),a$e=(k$4/2+1)*3,symbolWye={draw(St,er){const tr=sqrt$1(er/a$e),rr=tr/2,nr=tr*k$4,ar=rr,sr=tr*k$4+tr,ir=-ar,or=sr;St.moveTo(rr,nr),St.lineTo(ar,sr),St.lineTo(ir,or),St.lineTo(c$5*rr-s$8*nr,s$8*rr+c$5*nr),St.lineTo(c$5*ar-s$8*sr,s$8*ar+c$5*sr),St.lineTo(c$5*ir-s$8*or,s$8*ir+c$5*or),St.lineTo(c$5*rr+s$8*nr,c$5*nr-s$8*rr),St.lineTo(c$5*ar+s$8*sr,c$5*sr-s$8*ar),St.lineTo(c$5*ir+s$8*or,c$5*or-s$8*ir),St.closePath()}};function Symbol$1(St,er){let tr=null,rr=withPath(nr);St=typeof St=="function"?St:constant$1(St||symbolCircle),er=typeof er=="function"?er:constant$1(er===void 0?64:+er);function nr(){let ar;if(tr||(tr=ar=rr()),St.apply(this,arguments).draw(tr,+er.apply(this,arguments)),ar)return tr=null,ar+""||null}return nr.type=function(ar){return arguments.length?(St=typeof ar=="function"?ar:constant$1(ar),nr):St},nr.size=function(ar){return arguments.length?(er=typeof ar=="function"?ar:constant$1(+ar),nr):er},nr.context=function(ar){return arguments.length?(tr=ar??null,nr):tr},nr}function noop$6(){}function point$2(St,er,tr){St._context.bezierCurveTo((2*St._x0+St._x1)/3,(2*St._y0+St._y1)/3,(St._x0+2*St._x1)/3,(St._y0+2*St._y1)/3,(St._x0+4*St._x1+er)/6,(St._y0+4*St._y1+tr)/6)}function Basis(St){this._context=St}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(St,er){switch(St=+St,er=+er,this._point){case 0:this._point=1,this._line?this._context.lineTo(St,er):this._context.moveTo(St,er);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$2(this,St,er);break}this._x0=this._x1,this._x1=St,this._y0=this._y1,this._y1=er}};function curveBasis(St){return new Basis(St)}function BasisClosed(St){this._context=St}BasisClosed.prototype={areaStart:noop$6,areaEnd:noop$6,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(St,er){switch(St=+St,er=+er,this._point){case 0:this._point=1,this._x2=St,this._y2=er;break;case 1:this._point=2,this._x3=St,this._y3=er;break;case 2:this._point=3,this._x4=St,this._y4=er,this._context.moveTo((this._x0+4*this._x1+St)/6,(this._y0+4*this._y1+er)/6);break;default:point$2(this,St,er);break}this._x0=this._x1,this._x1=St,this._y0=this._y1,this._y1=er}};function curveBasisClosed(St){return new BasisClosed(St)}function BasisOpen(St){this._context=St}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(St,er){switch(St=+St,er=+er,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var tr=(this._x0+4*this._x1+St)/6,rr=(this._y0+4*this._y1+er)/6;this._line?this._context.lineTo(tr,rr):this._context.moveTo(tr,rr);break;case 3:this._point=4;default:point$2(this,St,er);break}this._x0=this._x1,this._x1=St,this._y0=this._y1,this._y1=er}};function curveBasisOpen(St){return new BasisOpen(St)}function LinearClosed(St){this._context=St}LinearClosed.prototype={areaStart:noop$6,areaEnd:noop$6,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(St,er){St=+St,er=+er,this._point?this._context.lineTo(St,er):(this._point=1,this._context.moveTo(St,er))}};function curveLinearClosed(St){return new LinearClosed(St)}function sign(St){return St<0?-1:1}function slope3(St,er,tr){var rr=St._x1-St._x0,nr=er-St._x1,ar=(St._y1-St._y0)/(rr||nr<0&&-0),sr=(tr-St._y1)/(nr||rr<0&&-0),ir=(ar*nr+sr*rr)/(rr+nr);return(sign(ar)+sign(sr))*Math.min(Math.abs(ar),Math.abs(sr),.5*Math.abs(ir))||0}function slope2(St,er){var tr=St._x1-St._x0;return tr?(3*(St._y1-St._y0)/tr-er)/2:er}function point$1(St,er,tr){var rr=St._x0,nr=St._y0,ar=St._x1,sr=St._y1,ir=(ar-rr)/3;St._context.bezierCurveTo(rr+ir,nr+ir*er,ar-ir,sr-ir*tr,ar,sr)}function MonotoneX(St){this._context=St}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$1(this,this._t0,slope2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(St,er){var tr=NaN;if(St=+St,er=+er,!(St===this._x1&&er===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(St,er):this._context.moveTo(St,er);break;case 1:this._point=2;break;case 2:this._point=3,point$1(this,slope2(this,tr=slope3(this,St,er)),tr);break;default:point$1(this,this._t0,tr=slope3(this,St,er));break}this._x0=this._x1,this._x1=St,this._y0=this._y1,this._y1=er,this._t0=tr}}};function MonotoneY(St){this._context=new ReflectContext(St)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(St,er){MonotoneX.prototype.point.call(this,er,St)};function ReflectContext(St){this._context=St}ReflectContext.prototype={moveTo:function(St,er){this._context.moveTo(er,St)},closePath:function(){this._context.closePath()},lineTo:function(St,er){this._context.lineTo(er,St)},bezierCurveTo:function(St,er,tr,rr,nr,ar){this._context.bezierCurveTo(er,St,rr,tr,ar,nr)}};function monotoneX(St){return new MonotoneX(St)}function monotoneY(St){return new MonotoneY(St)}function Natural(St){this._context=St}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var St=this._x,er=this._y,tr=St.length;if(tr)if(this._line?this._context.lineTo(St[0],er[0]):this._context.moveTo(St[0],er[0]),tr===2)this._context.lineTo(St[1],er[1]);else for(var rr=controlPoints(St),nr=controlPoints(er),ar=0,sr=1;sr<tr;++ar,++sr)this._context.bezierCurveTo(rr[0][ar],nr[0][ar],rr[1][ar],nr[1][ar],St[sr],er[sr]);(this._line||this._line!==0&&tr===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(St,er){this._x.push(+St),this._y.push(+er)}};function controlPoints(St){var er,tr=St.length-1,rr,nr=new Array(tr),ar=new Array(tr),sr=new Array(tr);for(nr[0]=0,ar[0]=2,sr[0]=St[0]+2*St[1],er=1;er<tr-1;++er)nr[er]=1,ar[er]=4,sr[er]=4*St[er]+2*St[er+1];for(nr[tr-1]=2,ar[tr-1]=7,sr[tr-1]=8*St[tr-1]+St[tr],er=1;er<tr;++er)rr=nr[er]/ar[er-1],ar[er]-=rr,sr[er]-=rr*sr[er-1];for(nr[tr-1]=sr[tr-1]/ar[tr-1],er=tr-2;er>=0;--er)nr[er]=(sr[er]-nr[er+1])/ar[er];for(ar[tr-1]=(St[tr]+nr[tr-1])/2,er=0;er<tr-1;++er)ar[er]=2*St[er+1]-nr[er+1];return[nr,ar]}function curveNatural(St){return new Natural(St)}function Step(St,er){this._context=St,this._t=er}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(St,er){switch(St=+St,er=+er,this._point){case 0:this._point=1,this._line?this._context.lineTo(St,er):this._context.moveTo(St,er);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,er),this._context.lineTo(St,er);else{var tr=this._x*(1-this._t)+St*this._t;this._context.lineTo(tr,this._y),this._context.lineTo(tr,er)}break}}this._x=St,this._y=er}};function curveStep(St){return new Step(St,.5)}function stepBefore(St){return new Step(St,0)}function stepAfter(St){return new Step(St,1)}function stackOffsetNone(St,er){if((sr=St.length)>1)for(var tr=1,rr,nr,ar=St[er[0]],sr,ir=ar.length;tr<sr;++tr)for(nr=ar,ar=St[er[tr]],rr=0;rr<ir;++rr)ar[rr][1]+=ar[rr][0]=isNaN(nr[rr][1])?nr[rr][0]:nr[rr][1]}function stackOrderNone(St){for(var er=St.length,tr=new Array(er);--er>=0;)tr[er]=er;return tr}function stackValue(St,er){return St[er]}function stackSeries(St){const er=[];return er.key=St,er}function shapeStack(){var St=constant$1([]),er=stackOrderNone,tr=stackOffsetNone,rr=stackValue;function nr(ar){var sr=Array.from(St.apply(this,arguments),stackSeries),ir,or=sr.length,lr=-1,cr;for(const ur of ar)for(ir=0,++lr;ir<or;++ir)(sr[ir][lr]=[0,+rr(ur,sr[ir].key,lr,ar)]).data=ur;for(ir=0,cr=array(er(sr));ir<or;++ir)sr[cr[ir]].index=ir;return tr(sr,cr),sr}return nr.keys=function(ar){return arguments.length?(St=typeof ar=="function"?ar:constant$1(Array.from(ar)),nr):St},nr.value=function(ar){return arguments.length?(rr=typeof ar=="function"?ar:constant$1(+ar),nr):rr},nr.order=function(ar){return arguments.length?(er=ar==null?stackOrderNone:typeof ar=="function"?ar:constant$1(Array.from(ar)),nr):er},nr.offset=function(ar){return arguments.length?(tr=ar??stackOffsetNone,nr):tr},nr}function stackOffsetExpand(St,er){if((rr=St.length)>0){for(var tr,rr,nr=0,ar=St[0].length,sr;nr<ar;++nr){for(sr=tr=0;tr<rr;++tr)sr+=St[tr][nr][1]||0;if(sr)for(tr=0;tr<rr;++tr)St[tr][nr][1]/=sr}stackOffsetNone(St,er)}}function stackOffsetSilhouette(St,er){if((nr=St.length)>0){for(var tr=0,rr=St[er[0]],nr,ar=rr.length;tr<ar;++tr){for(var sr=0,ir=0;sr<nr;++sr)ir+=St[sr][tr][1]||0;rr[tr][1]+=rr[tr][0]=-ir/2}stackOffsetNone(St,er)}}function stackOffsetWiggle(St,er){if(!(!((sr=St.length)>0)||!((ar=(nr=St[er[0]]).length)>0))){for(var tr=0,rr=1,nr,ar,sr;rr<ar;++rr){for(var ir=0,or=0,lr=0;ir<sr;++ir){for(var cr=St[er[ir]],ur=cr[rr][1]||0,dr=cr[rr-1][1]||0,fr=(ur-dr)/2,mr=0;mr<ir;++mr){var xr=St[er[mr]],pr=xr[rr][1]||0,hr=xr[rr-1][1]||0;fr+=pr-hr}or+=ur,lr+=fr*ur}nr[rr-1][1]+=nr[rr-1][0]=tr,or&&(tr-=lr/or)}nr[rr-1][1]+=nr[rr-1][0]=tr,stackOffsetNone(St,er)}}var _excluded$k=["type","size","sizeType"];function _extends$p(){return _extends$p=Object.assign?Object.assign.bind():function(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(St[rr]=tr[rr])}return St},_extends$p.apply(null,arguments)}function ownKeys$A(St,er){var tr=Object.keys(St);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(St);er&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(St,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$A(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$A(Object(tr),!0).forEach(function(rr){_defineProperty$E(St,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(St,Object.getOwnPropertyDescriptors(tr)):ownKeys$A(Object(tr)).forEach(function(rr){Object.defineProperty(St,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return St}function _defineProperty$E(St,er,tr){return(er=_toPropertyKey$E(er))in St?Object.defineProperty(St,er,{value:tr,enumerable:!0,configurable:!0,writable:!0}):St[er]=tr,St}function _toPropertyKey$E(St){var er=_toPrimitive$E(St,"string");return typeof er=="symbol"?er:er+""}function _toPrimitive$E(St,er){if(typeof St!="object"||!St)return St;var tr=St[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(St,er);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(St)}function _objectWithoutProperties$k(St,er){if(St==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$k(St,er);if(Object.getOwnPropertySymbols){var ar=Object.getOwnPropertySymbols(St);for(rr=0;rr<ar.length;rr++)tr=ar[rr],er.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(St,tr)&&(nr[tr]=St[tr])}return nr}function _objectWithoutPropertiesLoose$k(St,er){if(St==null)return{};var tr={};for(var rr in St)if({}.hasOwnProperty.call(St,rr)){if(er.indexOf(rr)!==-1)continue;tr[rr]=St[rr]}return tr}var symbolFactories={symbolCircle,symbolCross,symbolDiamond,symbolSquare,symbolStar,symbolTriangle,symbolWye},RADIAN$1=Math.PI/180,getSymbolFactory=St=>{var er="symbol".concat(upperFirst(St));return symbolFactories[er]||symbolCircle},calculateAreaSize=(St,er,tr)=>{if(er==="area")return St;switch(tr){case"cross":return 5*St*St/9;case"diamond":return .5*St*St/Math.sqrt(3);case"square":return St*St;case"star":{var rr=18*RADIAN$1;return 1.25*St*St*(Math.tan(rr)-Math.tan(rr*2)*Math.tan(rr)**2)}case"triangle":return Math.sqrt(3)*St*St/4;case"wye":return(21-10*Math.sqrt(3))*St*St/8;default:return Math.PI*St*St/4}},registerSymbol=(St,er)=>{symbolFactories["symbol".concat(upperFirst(St))]=er},Symbols=St=>{var{type:er="circle",size:tr=64,sizeType:rr="area"}=St,nr=_objectWithoutProperties$k(St,_excluded$k),ar=_objectSpread$A(_objectSpread$A({},nr),{},{type:er,size:tr,sizeType:rr}),sr=()=>{var ur=getSymbolFactory(er),dr=Symbol$1().type(ur).size(calculateAreaSize(tr,rr,er));return dr()},{className:ir,cx:or,cy:lr}=ar,cr=filterProps(ar,!0);return or===+or&&lr===+lr&&tr===+tr?reactExports.createElement("path",_extends$p({},cr,{className:clsx("recharts-symbols",ir),transform:"translate(".concat(or,", ").concat(lr,")"),d:sr()})):null};Symbols.registerSymbol=registerSymbol;function _extends$o(){return _extends$o=Object.assign?Object.assign.bind():function(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(St[rr]=tr[rr])}return St},_extends$o.apply(null,arguments)}function ownKeys$z(St,er){var tr=Object.keys(St);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(St);er&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(St,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$z(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$z(Object(tr),!0).forEach(function(rr){_defineProperty$D(St,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(St,Object.getOwnPropertyDescriptors(tr)):ownKeys$z(Object(tr)).forEach(function(rr){Object.defineProperty(St,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return St}function _defineProperty$D(St,er,tr){return(er=_toPropertyKey$D(er))in St?Object.defineProperty(St,er,{value:tr,enumerable:!0,configurable:!0,writable:!0}):St[er]=tr,St}function _toPropertyKey$D(St){var er=_toPrimitive$D(St,"string");return typeof er=="symbol"?er:er+""}function _toPrimitive$D(St,er){if(typeof St!="object"||!St)return St;var tr=St[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(St,er);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(St)}var SIZE=32;class DefaultLegendContent extends reactExports.PureComponent{renderIcon(er,tr){var{inactiveColor:rr}=this.props,nr=SIZE/2,ar=SIZE/6,sr=SIZE/3,ir=er.inactive?rr:er.color,or=tr??er.type;if(or==="none")return null;if(or==="plainline")return reactExports.createElement("line",{strokeWidth:4,fill:"none",stroke:ir,strokeDasharray:er.payload.strokeDasharray,x1:0,y1:nr,x2:SIZE,y2:nr,className:"recharts-legend-icon"});if(or==="line")return reactExports.createElement("path",{strokeWidth:4,fill:"none",stroke:ir,d:"M0,".concat(nr,"h").concat(sr,`
            A`).concat(ar,",").concat(ar,",0,1,1,").concat(2*sr,",").concat(nr,`
            H`).concat(SIZE,"M").concat(2*sr,",").concat(nr,`
            A`).concat(ar,",").concat(ar,",0,1,1,").concat(sr,",").concat(nr),className:"recharts-legend-icon"});if(or==="rect")return reactExports.createElement("path",{stroke:"none",fill:ir,d:"M0,".concat(SIZE/8,"h").concat(SIZE,"v").concat(SIZE*3/4,"h").concat(-SIZE,"z"),className:"recharts-legend-icon"});if(reactExports.isValidElement(er.legendIcon)){var lr=_objectSpread$z({},er);return delete lr.legendIcon,reactExports.cloneElement(er.legendIcon,lr)}return reactExports.createElement(Symbols,{fill:ir,cx:nr,cy:nr,size:SIZE,sizeType:"diameter",type:or})}renderItems(){var{payload:er,iconSize:tr,layout:rr,formatter:nr,inactiveColor:ar,iconType:sr}=this.props,ir={x:0,y:0,width:SIZE,height:SIZE},or={display:rr==="horizontal"?"inline-block":"block",marginRight:10},lr={display:"inline-block",verticalAlign:"middle",marginRight:4};return er.map((cr,ur)=>{var dr=cr.formatter||nr,fr=clsx({"recharts-legend-item":!0,["legend-item-".concat(ur)]:!0,inactive:cr.inactive});if(cr.type==="none")return null;var mr=cr.inactive?ar:cr.color,xr=dr?dr(cr.value,cr,ur):cr.value;return reactExports.createElement("li",_extends$o({className:fr,style:or,key:"legend-item-".concat(ur)},adaptEventsOfChild(this.props,cr,ur)),reactExports.createElement(Surface,{width:tr,height:tr,viewBox:ir,style:lr,"aria-label":"".concat(xr," legend icon")},this.renderIcon(cr,sr)),reactExports.createElement("span",{className:"recharts-legend-item-text",style:{color:mr}},xr))})}render(){var{payload:er,layout:tr,align:rr}=this.props;if(!er||!er.length)return null;var nr={padding:0,margin:0,textAlign:tr==="horizontal"?rr:"left"};return reactExports.createElement("ul",{className:"recharts-default-legend",style:nr},this.renderItems())}}_defineProperty$D(DefaultLegendContent,"displayName","Legend");_defineProperty$D(DefaultLegendContent,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var uniqBy$3={},uniqBy$2={};(function(St){Object.defineProperty(St,Symbol.toStringTag,{value:"Module"});function er(tr,rr){const nr=new Map;for(let ar=0;ar<tr.length;ar++){const sr=tr[ar],ir=rr(sr);nr.has(ir)||nr.set(ir,sr)}return Array.from(nr.values())}St.uniqBy=er})(uniqBy$2);var identity$4={};(function(St){Object.defineProperty(St,Symbol.toStringTag,{value:"Module"});function er(tr){return tr}St.identity=er})(identity$4);var isArrayLikeObject={},isArrayLike={},isLength={};(function(St){Object.defineProperty(St,Symbol.toStringTag,{value:"Module"});function er(tr){return Number.isSafeInteger(tr)&&tr>=0}St.isLength=er})(isLength);(function(St){Object.defineProperty(St,Symbol.toStringTag,{value:"Module"});const er=isLength;function tr(rr){return rr!=null&&typeof rr!="function"&&er.isLength(rr.length)}St.isArrayLike=tr})(isArrayLike);var isObjectLike={};(function(St){Object.defineProperty(St,Symbol.toStringTag,{value:"Module"});function er(tr){return typeof tr=="object"&&tr!==null}St.isObjectLike=er})(isObjectLike);(function(St){Object.defineProperty(St,Symbol.toStringTag,{value:"Module"});const er=isArrayLike,tr=isObjectLike;function rr(nr){return tr.isObjectLike(nr)&&er.isArrayLike(nr)}St.isArrayLikeObject=rr})(isArrayLikeObject);var iteratee={},property={};(function(St){Object.defineProperty(St,Symbol.toStringTag,{value:"Module"});const er=get$2;function tr(rr){return function(nr){return er.get(nr,rr)}}St.property=tr})(property);var matches={},isMatch={},isMatchWith={},isObject={};(function(St){Object.defineProperty(St,Symbol.toStringTag,{value:"Module"});function er(tr){return tr!==null&&(typeof tr=="object"||typeof tr=="function")}St.isObject=er})(isObject);var isPrimitive={};(function(St){Object.defineProperty(St,Symbol.toStringTag,{value:"Module"});function er(tr){return tr==null||typeof tr!="object"&&typeof tr!="function"}St.isPrimitive=er})(isPrimitive);var eq={};(function(St){Object.defineProperty(St,Symbol.toStringTag,{value:"Module"});function er(tr,rr){return tr===rr||Number.isNaN(tr)&&Number.isNaN(rr)}St.eq=er})(eq);var hasRequiredIsMatchWith;function requireIsMatchWith(){return hasRequiredIsMatchWith||(hasRequiredIsMatchWith=1,function(St){Object.defineProperty(St,Symbol.toStringTag,{value:"Module"});const er=requireIsMatch(),tr=isObject,rr=isPrimitive,nr=eq;function ar(ur,dr,fr){return typeof fr!="function"?er.isMatch(ur,dr):sr(ur,dr,function mr(xr,pr,hr,gr,vr,br){const yr=fr(xr,pr,hr,gr,vr,br);return yr!==void 0?!!yr:sr(xr,pr,mr,br)},new Map)}function sr(ur,dr,fr,mr){if(dr===ur)return!0;switch(typeof dr){case"object":return ir(ur,dr,fr,mr);case"function":return Object.keys(dr).length>0?sr(ur,{...dr},fr,mr):nr.eq(ur,dr);default:return tr.isObject(ur)?typeof dr=="string"?dr==="":!0:nr.eq(ur,dr)}}function ir(ur,dr,fr,mr){if(dr==null)return!0;if(Array.isArray(dr))return lr(ur,dr,fr,mr);if(dr instanceof Map)return or(ur,dr,fr,mr);if(dr instanceof Set)return cr(ur,dr,fr,mr);const xr=Object.keys(dr);if(ur==null)return xr.length===0;if(xr.length===0)return!0;if(mr&&mr.has(dr))return mr.get(dr)===ur;mr&&mr.set(dr,ur);try{for(let pr=0;pr<xr.length;pr++){const hr=xr[pr];if(!rr.isPrimitive(ur)&&!(hr in ur)||dr[hr]===void 0&&ur[hr]!==void 0||dr[hr]===null&&ur[hr]!==null||!fr(ur[hr],dr[hr],hr,ur,dr,mr))return!1}return!0}finally{mr&&mr.delete(dr)}}function or(ur,dr,fr,mr){if(dr.size===0)return!0;if(!(ur instanceof Map))return!1;for(const[xr,pr]of dr.entries()){const hr=ur.get(xr);if(fr(hr,pr,xr,ur,dr,mr)===!1)return!1}return!0}function lr(ur,dr,fr,mr){if(dr.length===0)return!0;if(!Array.isArray(ur))return!1;const xr=new Set;for(let pr=0;pr<dr.length;pr++){const hr=dr[pr];let gr=!1;for(let vr=0;vr<ur.length;vr++){if(xr.has(vr))continue;const br=ur[vr];let yr=!1;if(fr(br,hr,pr,ur,dr,mr)&&(yr=!0),yr){xr.add(vr),gr=!0;break}}if(!gr)return!1}return!0}function cr(ur,dr,fr,mr){return dr.size===0?!0:ur instanceof Set?lr([...ur],[...dr],fr,mr):!1}St.isMatchWith=ar,St.isSetMatch=cr}(isMatchWith)),isMatchWith}var hasRequiredIsMatch;function requireIsMatch(){return hasRequiredIsMatch||(hasRequiredIsMatch=1,function(St){Object.defineProperty(St,Symbol.toStringTag,{value:"Module"});const er=requireIsMatchWith();function tr(rr,nr){return er.isMatchWith(rr,nr,()=>{})}St.isMatch=tr}(isMatch)),isMatch}var cloneDeep$1={},cloneDeepWith$1={},getSymbols={};(function(St){Object.defineProperty(St,Symbol.toStringTag,{value:"Module"});function er(tr){return Object.getOwnPropertySymbols(tr).filter(rr=>Object.prototype.propertyIsEnumerable.call(tr,rr))}St.getSymbols=er})(getSymbols);var getTag={};(function(St){Object.defineProperty(St,Symbol.toStringTag,{value:"Module"});function er(tr){return tr==null?tr===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(tr)}St.getTag=er})(getTag);var tags={};(function(St){Object.defineProperty(St,Symbol.toStringTag,{value:"Module"});const er="[object RegExp]",tr="[object String]",rr="[object Number]",nr="[object Boolean]",ar="[object Arguments]",sr="[object Symbol]",ir="[object Date]",or="[object Map]",lr="[object Set]",cr="[object Array]",ur="[object Function]",dr="[object ArrayBuffer]",fr="[object Object]",mr="[object Error]",xr="[object DataView]",pr="[object Uint8Array]",hr="[object Uint8ClampedArray]",gr="[object Uint16Array]",vr="[object Uint32Array]",br="[object BigUint64Array]",yr="[object Int8Array]",Er="[object Int16Array]",jr="[object Int32Array]",_r="[object BigInt64Array]",Cr="[object Float32Array]",Or="[object Float64Array]";St.argumentsTag=ar,St.arrayBufferTag=dr,St.arrayTag=cr,St.bigInt64ArrayTag=_r,St.bigUint64ArrayTag=br,St.booleanTag=nr,St.dataViewTag=xr,St.dateTag=ir,St.errorTag=mr,St.float32ArrayTag=Cr,St.float64ArrayTag=Or,St.functionTag=ur,St.int16ArrayTag=Er,St.int32ArrayTag=jr,St.int8ArrayTag=yr,St.mapTag=or,St.numberTag=rr,St.objectTag=fr,St.regexpTag=er,St.setTag=lr,St.stringTag=tr,St.symbolTag=sr,St.uint16ArrayTag=gr,St.uint32ArrayTag=vr,St.uint8ArrayTag=pr,St.uint8ClampedArrayTag=hr})(tags);var isTypedArray={};(function(St){Object.defineProperty(St,Symbol.toStringTag,{value:"Module"});function er(tr){return ArrayBuffer.isView(tr)&&!(tr instanceof DataView)}St.isTypedArray=er})(isTypedArray);(function(St){Object.defineProperty(St,Symbol.toStringTag,{value:"Module"});const er=getSymbols,tr=getTag,rr=tags,nr=isPrimitive,ar=isTypedArray;function sr(cr,ur){return ir(cr,void 0,cr,new Map,ur)}function ir(cr,ur,dr,fr=new Map,mr=void 0){const xr=mr==null?void 0:mr(cr,ur,dr,fr);if(xr!=null)return xr;if(nr.isPrimitive(cr))return cr;if(fr.has(cr))return fr.get(cr);if(Array.isArray(cr)){const pr=new Array(cr.length);fr.set(cr,pr);for(let hr=0;hr<cr.length;hr++)pr[hr]=ir(cr[hr],hr,dr,fr,mr);return Object.hasOwn(cr,"index")&&(pr.index=cr.index),Object.hasOwn(cr,"input")&&(pr.input=cr.input),pr}if(cr instanceof Date)return new Date(cr.getTime());if(cr instanceof RegExp){const pr=new RegExp(cr.source,cr.flags);return pr.lastIndex=cr.lastIndex,pr}if(cr instanceof Map){const pr=new Map;fr.set(cr,pr);for(const[hr,gr]of cr)pr.set(hr,ir(gr,hr,dr,fr,mr));return pr}if(cr instanceof Set){const pr=new Set;fr.set(cr,pr);for(const hr of cr)pr.add(ir(hr,void 0,dr,fr,mr));return pr}if(typeof Buffer<"u"&&Buffer.isBuffer(cr))return cr.subarray();if(ar.isTypedArray(cr)){const pr=new(Object.getPrototypeOf(cr)).constructor(cr.length);fr.set(cr,pr);for(let hr=0;hr<cr.length;hr++)pr[hr]=ir(cr[hr],hr,dr,fr,mr);return pr}if(cr instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&cr instanceof SharedArrayBuffer)return cr.slice(0);if(cr instanceof DataView){const pr=new DataView(cr.buffer.slice(0),cr.byteOffset,cr.byteLength);return fr.set(cr,pr),or(pr,cr,dr,fr,mr),pr}if(typeof File<"u"&&cr instanceof File){const pr=new File([cr],cr.name,{type:cr.type});return fr.set(cr,pr),or(pr,cr,dr,fr,mr),pr}if(cr instanceof Blob){const pr=new Blob([cr],{type:cr.type});return fr.set(cr,pr),or(pr,cr,dr,fr,mr),pr}if(cr instanceof Error){const pr=new cr.constructor;return fr.set(cr,pr),pr.message=cr.message,pr.name=cr.name,pr.stack=cr.stack,pr.cause=cr.cause,or(pr,cr,dr,fr,mr),pr}if(typeof cr=="object"&&lr(cr)){const pr=Object.create(Object.getPrototypeOf(cr));return fr.set(cr,pr),or(pr,cr,dr,fr,mr),pr}return cr}function or(cr,ur,dr=cr,fr,mr){const xr=[...Object.keys(ur),...er.getSymbols(ur)];for(let pr=0;pr<xr.length;pr++){const hr=xr[pr],gr=Object.getOwnPropertyDescriptor(cr,hr);(gr==null||gr.writable)&&(cr[hr]=ir(ur[hr],hr,dr,fr,mr))}}function lr(cr){switch(tr.getTag(cr)){case rr.argumentsTag:case rr.arrayTag:case rr.arrayBufferTag:case rr.dataViewTag:case rr.booleanTag:case rr.dateTag:case rr.float32ArrayTag:case rr.float64ArrayTag:case rr.int8ArrayTag:case rr.int16ArrayTag:case rr.int32ArrayTag:case rr.mapTag:case rr.numberTag:case rr.objectTag:case rr.regexpTag:case rr.setTag:case rr.stringTag:case rr.symbolTag:case rr.uint8ArrayTag:case rr.uint8ClampedArrayTag:case rr.uint16ArrayTag:case rr.uint32ArrayTag:return!0;default:return!1}}St.cloneDeepWith=sr,St.cloneDeepWithImpl=ir,St.copyProperties=or})(cloneDeepWith$1);(function(St){Object.defineProperty(St,Symbol.toStringTag,{value:"Module"});const er=cloneDeepWith$1;function tr(rr){return er.cloneDeepWithImpl(rr,void 0,rr,new Map,void 0)}St.cloneDeep=tr})(cloneDeep$1);(function(St){Object.defineProperty(St,Symbol.toStringTag,{value:"Module"});const er=requireIsMatch(),tr=cloneDeep$1;function rr(nr){return nr=tr.cloneDeep(nr),ar=>er.isMatch(ar,nr)}St.matches=rr})(matches);var matchesProperty={},cloneDeep={},cloneDeepWith={};(function(St){Object.defineProperty(St,Symbol.toStringTag,{value:"Module"});const er=cloneDeepWith$1,tr=tags;function rr(nr,ar){return er.cloneDeepWith(nr,(sr,ir,or,lr)=>{const cr=ar==null?void 0:ar(sr,ir,or,lr);if(cr!=null)return cr;if(typeof nr=="object")switch(Object.prototype.toString.call(nr)){case tr.numberTag:case tr.stringTag:case tr.booleanTag:{const ur=new nr.constructor(nr==null?void 0:nr.valueOf());return er.copyProperties(ur,nr),ur}case tr.argumentsTag:{const ur={};return er.copyProperties(ur,nr),ur.length=nr.length,ur[Symbol.iterator]=nr[Symbol.iterator],ur}default:return}})}St.cloneDeepWith=rr})(cloneDeepWith);(function(St){Object.defineProperty(St,Symbol.toStringTag,{value:"Module"});const er=cloneDeepWith;function tr(rr){return er.cloneDeepWith(rr)}St.cloneDeep=tr})(cloneDeep);var has$1={},isIndex={};(function(St){Object.defineProperty(St,Symbol.toStringTag,{value:"Module"});const er=/^(?:0|[1-9]\d*)$/;function tr(rr,nr=Number.MAX_SAFE_INTEGER){switch(typeof rr){case"number":return Number.isInteger(rr)&&rr>=0&&rr<nr;case"symbol":return!1;case"string":return er.test(rr)}}St.isIndex=tr})(isIndex);var isArguments={};(function(St){Object.defineProperty(St,Symbol.toStringTag,{value:"Module"});const er=getTag;function tr(rr){return rr!==null&&typeof rr=="object"&&er.getTag(rr)==="[object Arguments]"}St.isArguments=tr})(isArguments);(function(St){Object.defineProperty(St,Symbol.toStringTag,{value:"Module"});const er=isDeepKey,tr=isIndex,rr=isArguments,nr=toPath;function ar(sr,ir){let or;if(Array.isArray(ir)?or=ir:typeof ir=="string"&&er.isDeepKey(ir)&&(sr==null?void 0:sr[ir])==null?or=nr.toPath(ir):or=[ir],or.length===0)return!1;let lr=sr;for(let cr=0;cr<or.length;cr++){const ur=or[cr];if((lr==null||!Object.hasOwn(lr,ur))&&!((Array.isArray(lr)||rr.isArguments(lr))&&tr.isIndex(ur)&&ur<lr.length))return!1;lr=lr[ur]}return!0}St.has=ar})(has$1);(function(St){Object.defineProperty(St,Symbol.toStringTag,{value:"Module"});const er=requireIsMatch(),tr=toKey,rr=cloneDeep,nr=get$2,ar=has$1;function sr(ir,or){switch(typeof ir){case"object":{Object.is(ir==null?void 0:ir.valueOf(),-0)&&(ir="-0");break}case"number":{ir=tr.toKey(ir);break}}return or=rr.cloneDeep(or),function(lr){const cr=nr.get(lr,ir);return cr===void 0?ar.has(lr,ir):or===void 0?cr===void 0:er.isMatch(cr,or)}}St.matchesProperty=sr})(matchesProperty);(function(St){Object.defineProperty(St,Symbol.toStringTag,{value:"Module"});const er=identity$4,tr=property,rr=matches,nr=matchesProperty;function ar(sr){if(sr==null)return er.identity;switch(typeof sr){case"function":return sr;case"object":return Array.isArray(sr)&&sr.length===2?nr.matchesProperty(sr[0],sr[1]):rr.matches(sr);case"string":case"symbol":case"number":return tr.property(sr)}}St.iteratee=ar})(iteratee);(function(St){Object.defineProperty(St,Symbol.toStringTag,{value:"Module"});const er=uniqBy$2,tr=identity$4,rr=isArrayLikeObject,nr=iteratee;function ar(sr,ir=tr.identity){return rr.isArrayLikeObject(sr)?er.uniqBy(Array.from(sr),nr.iteratee(ir)):[]}St.uniqBy=ar})(uniqBy$3);var uniqBy=uniqBy$3.uniqBy;const uniqBy$1=getDefaultExportFromCjs(uniqBy);function getUniqPayload(St,er,tr){return er===!0?uniqBy$1(St,tr):typeof er=="function"?uniqBy$1(St,er):St}var withSelector$1={exports:{}},withSelector_production={},shim$2={exports:{}},useSyncExternalStoreShim_production={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React$2=reactExports;function is$3(St,er){return St===er&&(St!==0||1/St===1/er)||St!==St&&er!==er}var objectIs$2=typeof Object.is=="function"?Object.is:is$3,useState=React$2.useState,useEffect$2=React$2.useEffect,useLayoutEffect=React$2.useLayoutEffect,useDebugValue$2=React$2.useDebugValue;function useSyncExternalStore$2(St,er){var tr=er(),rr=useState({inst:{value:tr,getSnapshot:er}}),nr=rr[0].inst,ar=rr[1];return useLayoutEffect(function(){nr.value=tr,nr.getSnapshot=er,checkIfSnapshotChanged(nr)&&ar({inst:nr})},[St,tr,er]),useEffect$2(function(){return checkIfSnapshotChanged(nr)&&ar({inst:nr}),St(function(){checkIfSnapshotChanged(nr)&&ar({inst:nr})})},[St]),useDebugValue$2(tr),tr}function checkIfSnapshotChanged(St){var er=St.getSnapshot;St=St.value;try{var tr=er();return!objectIs$2(St,tr)}catch{return!0}}function useSyncExternalStore$1$1(St,er){return er()}var shim$1=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?useSyncExternalStore$1$1:useSyncExternalStore$2;useSyncExternalStoreShim_production.useSyncExternalStore=React$2.useSyncExternalStore!==void 0?React$2.useSyncExternalStore:shim$1;shim$2.exports=useSyncExternalStoreShim_production;var shimExports=shim$2.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React$1=reactExports,shim=shimExports;function is$2(St,er){return St===er&&(St!==0||1/St===1/er)||St!==St&&er!==er}var objectIs$1=typeof Object.is=="function"?Object.is:is$2,useSyncExternalStore$1=shim.useSyncExternalStore,useRef$1=React$1.useRef,useEffect$1=React$1.useEffect,useMemo$1=React$1.useMemo,useDebugValue$1=React$1.useDebugValue;withSelector_production.useSyncExternalStoreWithSelector=function(St,er,tr,rr,nr){var ar=useRef$1(null);if(ar.current===null){var sr={hasValue:!1,value:null};ar.current=sr}else sr=ar.current;ar=useMemo$1(function(){function or(fr){if(!lr){if(lr=!0,cr=fr,fr=rr(fr),nr!==void 0&&sr.hasValue){var mr=sr.value;if(nr(mr,fr))return ur=mr}return ur=fr}if(mr=ur,objectIs$1(cr,fr))return mr;var xr=rr(fr);return nr!==void 0&&nr(mr,xr)?(cr=fr,mr):(cr=fr,ur=xr)}var lr=!1,cr,ur,dr=tr===void 0?null:tr;return[function(){return or(er())},dr===null?void 0:function(){return or(dr())}]},[er,tr,rr,nr]);var ir=useSyncExternalStore$1(St,ar[0],ar[1]);return useEffect$1(function(){sr.hasValue=!0,sr.value=ir},[ir]),useDebugValue$1(ir),ir};withSelector$1.exports=withSelector_production;var withSelectorExports$1=withSelector$1.exports,RechartsReduxContext=reactExports.createContext(null),noopDispatch=St=>St,useAppDispatch=()=>{var St=reactExports.useContext(RechartsReduxContext);return St?St.store.dispatch:noopDispatch},noop$5=()=>{},addNestedSubNoop=()=>noop$5,refEquality=(St,er)=>St===er;function useAppSelector(St){var er=reactExports.useContext(RechartsReduxContext);return withSelectorExports$1.useSyncExternalStoreWithSelector(er?er.subscription.addNestedSub:addNestedSubNoop,er?er.store.getState:noop$5,er?er.store.getState:noop$5,er?St:noop$5,refEquality)}function assertIsFunction(St,er=`expected a function, instead received ${typeof St}`){if(typeof St!="function")throw new TypeError(er)}function assertIsObject(St,er=`expected an object, instead received ${typeof St}`){if(typeof St!="object")throw new TypeError(er)}function assertIsArrayOfFunctions(St,er="expected all items to be functions, instead received the following types: "){if(!St.every(tr=>typeof tr=="function")){const tr=St.map(rr=>typeof rr=="function"?`function ${rr.name||"unnamed"}()`:typeof rr).join(", ");throw new TypeError(`${er}[${tr}]`)}}var ensureIsArray=St=>Array.isArray(St)?St:[St];function getDependencies(St){const er=Array.isArray(St[0])?St[0]:St;return assertIsArrayOfFunctions(er,"createSelector expects all input-selectors to be functions, but received the following types: "),er}function collectInputSelectorResults(St,er){const tr=[],{length:rr}=St;for(let nr=0;nr<rr;nr++)tr.push(St[nr].apply(null,er));return tr}var StrongRef=class{constructor(St){this.value=St}deref(){return this.value}},Ref=typeof WeakRef<"u"?WeakRef:StrongRef,UNTERMINATED=0,TERMINATED=1;function createCacheNode(){return{s:UNTERMINATED,v:void 0,o:null,p:null}}function weakMapMemoize(St,er={}){let tr=createCacheNode();const{resultEqualityCheck:rr}=er;let nr,ar=0;function sr(){var ur;let ir=tr;const{length:or}=arguments;for(let dr=0,fr=or;dr<fr;dr++){const mr=arguments[dr];if(typeof mr=="function"||typeof mr=="object"&&mr!==null){let xr=ir.o;xr===null&&(ir.o=xr=new WeakMap);const pr=xr.get(mr);pr===void 0?(ir=createCacheNode(),xr.set(mr,ir)):ir=pr}else{let xr=ir.p;xr===null&&(ir.p=xr=new Map);const pr=xr.get(mr);pr===void 0?(ir=createCacheNode(),xr.set(mr,ir)):ir=pr}}const lr=ir;let cr;if(ir.s===TERMINATED)cr=ir.v;else if(cr=St.apply(null,arguments),ar++,rr){const dr=((ur=nr==null?void 0:nr.deref)==null?void 0:ur.call(nr))??nr;dr!=null&&rr(dr,cr)&&(cr=dr,ar!==0&&ar--),nr=typeof cr=="object"&&cr!==null||typeof cr=="function"?new Ref(cr):cr}return lr.s=TERMINATED,lr.v=cr,cr}return sr.clearCache=()=>{tr=createCacheNode(),sr.resetResultsCount()},sr.resultsCount=()=>ar,sr.resetResultsCount=()=>{ar=0},sr}function createSelectorCreator(St,...er){const tr=typeof St=="function"?{memoize:St,memoizeOptions:er}:St,rr=(...nr)=>{let ar=0,sr=0,ir,or={},lr=nr.pop();typeof lr=="object"&&(or=lr,lr=nr.pop()),assertIsFunction(lr,`createSelector expects an output function after the inputs, but received: [${typeof lr}]`);const cr={...tr,...or},{memoize:ur,memoizeOptions:dr=[],argsMemoize:fr=weakMapMemoize,argsMemoizeOptions:mr=[]}=cr,xr=ensureIsArray(dr),pr=ensureIsArray(mr),hr=getDependencies(nr),gr=ur(function(){return ar++,lr.apply(null,arguments)},...xr),vr=fr(function(){sr++;const yr=collectInputSelectorResults(hr,arguments);return ir=gr.apply(null,yr),ir},...pr);return Object.assign(vr,{resultFunc:lr,memoizedResultFunc:gr,dependencies:hr,dependencyRecomputations:()=>sr,resetDependencyRecomputations:()=>{sr=0},lastResult:()=>ir,recomputations:()=>ar,resetRecomputations:()=>{ar=0},memoize:ur,argsMemoize:fr})};return Object.assign(rr,{withTypes:()=>rr}),rr}var createSelector=createSelectorCreator(weakMapMemoize),createStructuredSelector=Object.assign((St,er=createSelector)=>{assertIsObject(St,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof St}`);const tr=Object.keys(St),rr=tr.map(ar=>St[ar]);return er(rr,(...ar)=>ar.reduce((sr,ir,or)=>(sr[tr[or]]=ir,sr),{}))},{withTypes:()=>createStructuredSelector}),sortBy$2={},orderBy={},compareValues={};(function(St){Object.defineProperty(St,Symbol.toStringTag,{value:"Module"});function er(rr){return typeof rr=="symbol"?1:rr===null?2:rr===void 0?3:rr!==rr?4:0}const tr=(rr,nr,ar)=>{if(rr!==nr){const sr=er(rr),ir=er(nr);if(sr===ir&&sr===0){if(rr<nr)return ar==="desc"?1:-1;if(rr>nr)return ar==="desc"?-1:1}return ar==="desc"?ir-sr:sr-ir}return 0};St.compareValues=tr})(compareValues);var isKey={},isSymbol={};(function(St){Object.defineProperty(St,Symbol.toStringTag,{value:"Module"});function er(tr){return typeof tr=="symbol"||tr instanceof Symbol}St.isSymbol=er})(isSymbol);(function(St){Object.defineProperty(St,Symbol.toStringTag,{value:"Module"});const er=isSymbol,tr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rr=/^\w*$/;function nr(ar,sr){return Array.isArray(ar)?!1:typeof ar=="number"||typeof ar=="boolean"||ar==null||er.isSymbol(ar)?!0:typeof ar=="string"&&(rr.test(ar)||!tr.test(ar))||sr!=null&&Object.hasOwn(sr,ar)}St.isKey=nr})(isKey);(function(St){Object.defineProperty(St,Symbol.toStringTag,{value:"Module"});const er=compareValues,tr=isKey,rr=toPath;function nr(ar,sr,ir,or){if(ar==null)return[];ir=or?void 0:ir,Array.isArray(ar)||(ar=Object.values(ar)),Array.isArray(sr)||(sr=sr==null?[null]:[sr]),sr.length===0&&(sr=[null]),Array.isArray(ir)||(ir=ir==null?[]:[ir]),ir=ir.map(fr=>String(fr));const lr=(fr,mr)=>{let xr=fr;for(let pr=0;pr<mr.length&&xr!=null;++pr)xr=xr[mr[pr]];return xr},cr=(fr,mr)=>mr==null||fr==null?mr:typeof fr=="object"&&"key"in fr?Object.hasOwn(mr,fr.key)?mr[fr.key]:lr(mr,fr.path):typeof fr=="function"?fr(mr):Array.isArray(fr)?lr(mr,fr):typeof mr=="object"?mr[fr]:mr,ur=sr.map(fr=>(Array.isArray(fr)&&fr.length===1&&(fr=fr[0]),fr==null||typeof fr=="function"||Array.isArray(fr)||tr.isKey(fr)?fr:{key:fr,path:rr.toPath(fr)}));return ar.map(fr=>({original:fr,criteria:ur.map(mr=>cr(mr,fr))})).slice().sort((fr,mr)=>{for(let xr=0;xr<ur.length;xr++){const pr=er.compareValues(fr.criteria[xr],mr.criteria[xr],ir[xr]);if(pr!==0)return pr}return 0}).map(fr=>fr.original)}St.orderBy=nr})(orderBy);var flatten={};(function(St){Object.defineProperty(St,Symbol.toStringTag,{value:"Module"});function er(tr,rr=1){const nr=[],ar=Math.floor(rr),sr=(ir,or)=>{for(let lr=0;lr<ir.length;lr++){const cr=ir[lr];Array.isArray(cr)&&or<ar?sr(cr,or+1):nr.push(cr)}};return sr(tr,0),nr}St.flatten=er})(flatten);var isIterateeCall={};(function(St){Object.defineProperty(St,Symbol.toStringTag,{value:"Module"});const er=isIndex,tr=isArrayLike,rr=isObject,nr=eq;function ar(sr,ir,or){return rr.isObject(or)&&(typeof ir=="number"&&tr.isArrayLike(or)&&er.isIndex(ir)&&ir<or.length||typeof ir=="string"&&ir in or)?nr.eq(or[ir],sr):!1}St.isIterateeCall=ar})(isIterateeCall);(function(St){Object.defineProperty(St,Symbol.toStringTag,{value:"Module"});const er=orderBy,tr=flatten,rr=isIterateeCall;function nr(ar,...sr){const ir=sr.length;return ir>1&&rr.isIterateeCall(ar,sr[0],sr[1])?sr=[]:ir>2&&rr.isIterateeCall(sr[0],sr[1],sr[2])&&(sr=[sr[0]]),er.orderBy(ar,tr.flatten(sr),["asc"])}St.sortBy=nr})(sortBy$2);var sortBy=sortBy$2.sortBy;const sortBy$1=getDefaultExportFromCjs(sortBy);var selectLegendSettings=St=>St.legend.settings,selectLegendSize=St=>St.legend.size,selectAllLegendPayload2DArray=St=>St.legend.payload,selectLegendPayload=createSelector([selectAllLegendPayload2DArray,selectLegendSettings],(St,er)=>{var{itemSorter:tr}=er,rr=St.flat(1);return tr?sortBy$1(rr,tr):rr});function useLegendPayload(){return useAppSelector(selectLegendPayload)}var EPS$1=1;function useElementOffset(){var St=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[er,tr]=reactExports.useState({height:0,left:0,top:0,width:0}),rr=reactExports.useCallback(nr=>{if(nr!=null){var ar=nr.getBoundingClientRect(),sr={height:ar.height,left:ar.left,top:ar.top,width:ar.width};(Math.abs(sr.height-er.height)>EPS$1||Math.abs(sr.left-er.left)>EPS$1||Math.abs(sr.top-er.top)>EPS$1||Math.abs(sr.width-er.width)>EPS$1)&&tr({height:sr.height,left:sr.left,top:sr.top,width:sr.width})}},[er.width,er.height,er.top,er.left,...St]);return[er,rr]}function formatProdErrorMessage$1(St){return`Minified Redux error #${St}; visit https://redux.js.org/Errors?code=${St} for the full message or use the non-minified dev environment for full errors. `}var $$observable=typeof Symbol=="function"&&Symbol.observable||"@@observable",symbol_observable_default=$$observable,randomString=()=>Math.random().toString(36).substring(7).split("").join("."),ActionTypes={INIT:`@@redux/INIT${randomString()}`,REPLACE:`@@redux/REPLACE${randomString()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${randomString()}`},actionTypes_default=ActionTypes;function isPlainObject$5(St){if(typeof St!="object"||St===null)return!1;let er=St;for(;Object.getPrototypeOf(er)!==null;)er=Object.getPrototypeOf(er);return Object.getPrototypeOf(St)===er||Object.getPrototypeOf(St)===null}function createStore(St,er,tr){if(typeof St!="function")throw new Error(formatProdErrorMessage$1(2));if(typeof er=="function"&&typeof tr=="function"||typeof tr=="function"&&typeof arguments[3]=="function")throw new Error(formatProdErrorMessage$1(0));if(typeof er=="function"&&typeof tr>"u"&&(tr=er,er=void 0),typeof tr<"u"){if(typeof tr!="function")throw new Error(formatProdErrorMessage$1(1));return tr(createStore)(St,er)}let rr=St,nr=er,ar=new Map,sr=ar,ir=0,or=!1;function lr(){sr===ar&&(sr=new Map,ar.forEach((pr,hr)=>{sr.set(hr,pr)}))}function cr(){if(or)throw new Error(formatProdErrorMessage$1(3));return nr}function ur(pr){if(typeof pr!="function")throw new Error(formatProdErrorMessage$1(4));if(or)throw new Error(formatProdErrorMessage$1(5));let hr=!0;lr();const gr=ir++;return sr.set(gr,pr),function(){if(hr){if(or)throw new Error(formatProdErrorMessage$1(6));hr=!1,lr(),sr.delete(gr),ar=null}}}function dr(pr){if(!isPlainObject$5(pr))throw new Error(formatProdErrorMessage$1(7));if(typeof pr.type>"u")throw new Error(formatProdErrorMessage$1(8));if(typeof pr.type!="string")throw new Error(formatProdErrorMessage$1(17));if(or)throw new Error(formatProdErrorMessage$1(9));try{or=!0,nr=rr(nr,pr)}finally{or=!1}return(ar=sr).forEach(gr=>{gr()}),pr}function fr(pr){if(typeof pr!="function")throw new Error(formatProdErrorMessage$1(10));rr=pr,dr({type:actionTypes_default.REPLACE})}function mr(){const pr=ur;return{subscribe(hr){if(typeof hr!="object"||hr===null)throw new Error(formatProdErrorMessage$1(11));function gr(){const br=hr;br.next&&br.next(cr())}return gr(),{unsubscribe:pr(gr)}},[symbol_observable_default](){return this}}}return dr({type:actionTypes_default.INIT}),{dispatch:dr,subscribe:ur,getState:cr,replaceReducer:fr,[symbol_observable_default]:mr}}function assertReducerShape(St){Object.keys(St).forEach(er=>{const tr=St[er];if(typeof tr(void 0,{type:actionTypes_default.INIT})>"u")throw new Error(formatProdErrorMessage$1(12));if(typeof tr(void 0,{type:actionTypes_default.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(formatProdErrorMessage$1(13))})}function combineReducers(St){const er=Object.keys(St),tr={};for(let ar=0;ar<er.length;ar++){const sr=er[ar];typeof St[sr]=="function"&&(tr[sr]=St[sr])}const rr=Object.keys(tr);let nr;try{assertReducerShape(tr)}catch(ar){nr=ar}return function(sr={},ir){if(nr)throw nr;let or=!1;const lr={};for(let cr=0;cr<rr.length;cr++){const ur=rr[cr],dr=tr[ur],fr=sr[ur],mr=dr(fr,ir);if(typeof mr>"u")throw ir&&ir.type,new Error(formatProdErrorMessage$1(14));lr[ur]=mr,or=or||mr!==fr}return or=or||rr.length!==Object.keys(sr).length,or?lr:sr}}function compose$1(...St){return St.length===0?er=>er:St.length===1?St[0]:St.reduce((er,tr)=>(...rr)=>er(tr(...rr)))}function applyMiddleware(...St){return er=>(tr,rr)=>{const nr=er(tr,rr);let ar=()=>{throw new Error(formatProdErrorMessage$1(15))};const sr={getState:nr.getState,dispatch:(or,...lr)=>ar(or,...lr)},ir=St.map(or=>or(sr));return ar=compose$1(...ir)(nr.dispatch),{...nr,dispatch:ar}}}function isAction(St){return isPlainObject$5(St)&&"type"in St&&typeof St.type=="string"}var NOTHING=Symbol.for("immer-nothing"),DRAFTABLE=Symbol.for("immer-draftable"),DRAFT_STATE=Symbol.for("immer-state");function die(St,...er){throw new Error(`[Immer] minified error nr: ${St}. Full error at: https://bit.ly/3cXEKWf`)}var getPrototypeOf=Object.getPrototypeOf;function isDraft(St){return!!St&&!!St[DRAFT_STATE]}function isDraftable(St){var er;return St?isPlainObject$4(St)||Array.isArray(St)||!!St[DRAFTABLE]||!!((er=St.constructor)!=null&&er[DRAFTABLE])||isMap(St)||isSet(St):!1}var objectCtorString=Object.prototype.constructor.toString();function isPlainObject$4(St){if(!St||typeof St!="object")return!1;const er=getPrototypeOf(St);if(er===null)return!0;const tr=Object.hasOwnProperty.call(er,"constructor")&&er.constructor;return tr===Object?!0:typeof tr=="function"&&Function.toString.call(tr)===objectCtorString}function each(St,er){getArchtype(St)===0?Reflect.ownKeys(St).forEach(tr=>{er(tr,St[tr],St)}):St.forEach((tr,rr)=>er(rr,tr,St))}function getArchtype(St){const er=St[DRAFT_STATE];return er?er.type_:Array.isArray(St)?1:isMap(St)?2:isSet(St)?3:0}function has(St,er){return getArchtype(St)===2?St.has(er):Object.prototype.hasOwnProperty.call(St,er)}function set(St,er,tr){const rr=getArchtype(St);rr===2?St.set(er,tr):rr===3?St.add(tr):St[er]=tr}function is$1(St,er){return St===er?St!==0||1/St===1/er:St!==St&&er!==er}function isMap(St){return St instanceof Map}function isSet(St){return St instanceof Set}function latest(St){return St.copy_||St.base_}function shallowCopy(St,er){if(isMap(St))return new Map(St);if(isSet(St))return new Set(St);if(Array.isArray(St))return Array.prototype.slice.call(St);const tr=isPlainObject$4(St);if(er===!0||er==="class_only"&&!tr){const rr=Object.getOwnPropertyDescriptors(St);delete rr[DRAFT_STATE];let nr=Reflect.ownKeys(rr);for(let ar=0;ar<nr.length;ar++){const sr=nr[ar],ir=rr[sr];ir.writable===!1&&(ir.writable=!0,ir.configurable=!0),(ir.get||ir.set)&&(rr[sr]={configurable:!0,writable:!0,enumerable:ir.enumerable,value:St[sr]})}return Object.create(getPrototypeOf(St),rr)}else{const rr=getPrototypeOf(St);if(rr!==null&&tr)return{...St};const nr=Object.create(rr);return Object.assign(nr,St)}}function freeze(St,er=!1){return isFrozen(St)||isDraft(St)||!isDraftable(St)||(getArchtype(St)>1&&(St.set=St.add=St.clear=St.delete=dontMutateFrozenCollections),Object.freeze(St),er&&Object.entries(St).forEach(([tr,rr])=>freeze(rr,!0))),St}function dontMutateFrozenCollections(){die(2)}function isFrozen(St){return Object.isFrozen(St)}var plugins={};function getPlugin(St){const er=plugins[St];return er||die(0,St),er}var currentScope;function getCurrentScope(){return currentScope}function createScope(St,er){return{drafts_:[],parent_:St,immer_:er,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function usePatchesInScope(St,er){er&&(getPlugin("Patches"),St.patches_=[],St.inversePatches_=[],St.patchListener_=er)}function revokeScope(St){leaveScope(St),St.drafts_.forEach(revokeDraft),St.drafts_=null}function leaveScope(St){St===currentScope&&(currentScope=St.parent_)}function enterScope(St){return currentScope=createScope(currentScope,St)}function revokeDraft(St){const er=St[DRAFT_STATE];er.type_===0||er.type_===1?er.revoke_():er.revoked_=!0}function processResult(St,er){er.unfinalizedDrafts_=er.drafts_.length;const tr=er.drafts_[0];return St!==void 0&&St!==tr?(tr[DRAFT_STATE].modified_&&(revokeScope(er),die(4)),isDraftable(St)&&(St=finalize(er,St),er.parent_||maybeFreeze(er,St)),er.patches_&&getPlugin("Patches").generateReplacementPatches_(tr[DRAFT_STATE].base_,St,er.patches_,er.inversePatches_)):St=finalize(er,tr,[]),revokeScope(er),er.patches_&&er.patchListener_(er.patches_,er.inversePatches_),St!==NOTHING?St:void 0}function finalize(St,er,tr){if(isFrozen(er))return er;const rr=er[DRAFT_STATE];if(!rr)return each(er,(nr,ar)=>finalizeProperty(St,rr,er,nr,ar,tr)),er;if(rr.scope_!==St)return er;if(!rr.modified_)return maybeFreeze(St,rr.base_,!0),rr.base_;if(!rr.finalized_){rr.finalized_=!0,rr.scope_.unfinalizedDrafts_--;const nr=rr.copy_;let ar=nr,sr=!1;rr.type_===3&&(ar=new Set(nr),nr.clear(),sr=!0),each(ar,(ir,or)=>finalizeProperty(St,rr,nr,ir,or,tr,sr)),maybeFreeze(St,nr,!1),tr&&St.patches_&&getPlugin("Patches").generatePatches_(rr,tr,St.patches_,St.inversePatches_)}return rr.copy_}function finalizeProperty(St,er,tr,rr,nr,ar,sr){if(isDraft(nr)){const ir=ar&&er&&er.type_!==3&&!has(er.assigned_,rr)?ar.concat(rr):void 0,or=finalize(St,nr,ir);if(set(tr,rr,or),isDraft(or))St.canAutoFreeze_=!1;else return}else sr&&tr.add(nr);if(isDraftable(nr)&&!isFrozen(nr)){if(!St.immer_.autoFreeze_&&St.unfinalizedDrafts_<1)return;finalize(St,nr),(!er||!er.scope_.parent_)&&typeof rr!="symbol"&&Object.prototype.propertyIsEnumerable.call(tr,rr)&&maybeFreeze(St,nr)}}function maybeFreeze(St,er,tr=!1){!St.parent_&&St.immer_.autoFreeze_&&St.canAutoFreeze_&&freeze(er,tr)}function createProxyProxy(St,er){const tr=Array.isArray(St),rr={type_:tr?1:0,scope_:er?er.scope_:getCurrentScope(),modified_:!1,finalized_:!1,assigned_:{},parent_:er,base_:St,draft_:null,copy_:null,revoke_:null,isManual_:!1};let nr=rr,ar=objectTraps;tr&&(nr=[rr],ar=arrayTraps);const{revoke:sr,proxy:ir}=Proxy.revocable(nr,ar);return rr.draft_=ir,rr.revoke_=sr,ir}var objectTraps={get(St,er){if(er===DRAFT_STATE)return St;const tr=latest(St);if(!has(tr,er))return readPropFromProto(St,tr,er);const rr=tr[er];return St.finalized_||!isDraftable(rr)?rr:rr===peek(St.base_,er)?(prepareCopy(St),St.copy_[er]=createProxy(rr,St)):rr},has(St,er){return er in latest(St)},ownKeys(St){return Reflect.ownKeys(latest(St))},set(St,er,tr){const rr=getDescriptorFromProto(latest(St),er);if(rr!=null&&rr.set)return rr.set.call(St.draft_,tr),!0;if(!St.modified_){const nr=peek(latest(St),er),ar=nr==null?void 0:nr[DRAFT_STATE];if(ar&&ar.base_===tr)return St.copy_[er]=tr,St.assigned_[er]=!1,!0;if(is$1(tr,nr)&&(tr!==void 0||has(St.base_,er)))return!0;prepareCopy(St),markChanged(St)}return St.copy_[er]===tr&&(tr!==void 0||er in St.copy_)||Number.isNaN(tr)&&Number.isNaN(St.copy_[er])||(St.copy_[er]=tr,St.assigned_[er]=!0),!0},deleteProperty(St,er){return peek(St.base_,er)!==void 0||er in St.base_?(St.assigned_[er]=!1,prepareCopy(St),markChanged(St)):delete St.assigned_[er],St.copy_&&delete St.copy_[er],!0},getOwnPropertyDescriptor(St,er){const tr=latest(St),rr=Reflect.getOwnPropertyDescriptor(tr,er);return rr&&{writable:!0,configurable:St.type_!==1||er!=="length",enumerable:rr.enumerable,value:tr[er]}},defineProperty(){die(11)},getPrototypeOf(St){return getPrototypeOf(St.base_)},setPrototypeOf(){die(12)}},arrayTraps={};each(objectTraps,(St,er)=>{arrayTraps[St]=function(){return arguments[0]=arguments[0][0],er.apply(this,arguments)}});arrayTraps.deleteProperty=function(St,er){return arrayTraps.set.call(this,St,er,void 0)};arrayTraps.set=function(St,er,tr){return objectTraps.set.call(this,St[0],er,tr,St[0])};function peek(St,er){const tr=St[DRAFT_STATE];return(tr?latest(tr):St)[er]}function readPropFromProto(St,er,tr){var nr;const rr=getDescriptorFromProto(er,tr);return rr?"value"in rr?rr.value:(nr=rr.get)==null?void 0:nr.call(St.draft_):void 0}function getDescriptorFromProto(St,er){if(!(er in St))return;let tr=getPrototypeOf(St);for(;tr;){const rr=Object.getOwnPropertyDescriptor(tr,er);if(rr)return rr;tr=getPrototypeOf(tr)}}function markChanged(St){St.modified_||(St.modified_=!0,St.parent_&&markChanged(St.parent_))}function prepareCopy(St){St.copy_||(St.copy_=shallowCopy(St.base_,St.scope_.immer_.useStrictShallowCopy_))}var Immer2=class{constructor(St){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(er,tr,rr)=>{if(typeof er=="function"&&typeof tr!="function"){const ar=tr;tr=er;const sr=this;return function(or=ar,...lr){return sr.produce(or,cr=>tr.call(this,cr,...lr))}}typeof tr!="function"&&die(6),rr!==void 0&&typeof rr!="function"&&die(7);let nr;if(isDraftable(er)){const ar=enterScope(this),sr=createProxy(er,void 0);let ir=!0;try{nr=tr(sr),ir=!1}finally{ir?revokeScope(ar):leaveScope(ar)}return usePatchesInScope(ar,rr),processResult(nr,ar)}else if(!er||typeof er!="object"){if(nr=tr(er),nr===void 0&&(nr=er),nr===NOTHING&&(nr=void 0),this.autoFreeze_&&freeze(nr,!0),rr){const ar=[],sr=[];getPlugin("Patches").generateReplacementPatches_(er,nr,ar,sr),rr(ar,sr)}return nr}else die(1,er)},this.produceWithPatches=(er,tr)=>{if(typeof er=="function")return(sr,...ir)=>this.produceWithPatches(sr,or=>er(or,...ir));let rr,nr;return[this.produce(er,tr,(sr,ir)=>{rr=sr,nr=ir}),rr,nr]},typeof(St==null?void 0:St.autoFreeze)=="boolean"&&this.setAutoFreeze(St.autoFreeze),typeof(St==null?void 0:St.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(St.useStrictShallowCopy)}createDraft(St){isDraftable(St)||die(8),isDraft(St)&&(St=current(St));const er=enterScope(this),tr=createProxy(St,void 0);return tr[DRAFT_STATE].isManual_=!0,leaveScope(er),tr}finishDraft(St,er){const tr=St&&St[DRAFT_STATE];(!tr||!tr.isManual_)&&die(9);const{scope_:rr}=tr;return usePatchesInScope(rr,er),processResult(void 0,rr)}setAutoFreeze(St){this.autoFreeze_=St}setUseStrictShallowCopy(St){this.useStrictShallowCopy_=St}applyPatches(St,er){let tr;for(tr=er.length-1;tr>=0;tr--){const nr=er[tr];if(nr.path.length===0&&nr.op==="replace"){St=nr.value;break}}tr>-1&&(er=er.slice(tr+1));const rr=getPlugin("Patches").applyPatches_;return isDraft(St)?rr(St,er):this.produce(St,nr=>rr(nr,er))}};function createProxy(St,er){const tr=isMap(St)?getPlugin("MapSet").proxyMap_(St,er):isSet(St)?getPlugin("MapSet").proxySet_(St,er):createProxyProxy(St,er);return(er?er.scope_:getCurrentScope()).drafts_.push(tr),tr}function current(St){return isDraft(St)||die(10,St),currentImpl(St)}function currentImpl(St){if(!isDraftable(St)||isFrozen(St))return St;const er=St[DRAFT_STATE];let tr;if(er){if(!er.modified_)return er.base_;er.finalized_=!0,tr=shallowCopy(St,er.scope_.immer_.useStrictShallowCopy_)}else tr=shallowCopy(St,!0);return each(tr,(rr,nr)=>{set(tr,rr,currentImpl(nr))}),er&&(er.finalized_=!1),tr}var immer=new Immer2,produce=immer.produce;immer.produceWithPatches.bind(immer);immer.setAutoFreeze.bind(immer);immer.setUseStrictShallowCopy.bind(immer);immer.applyPatches.bind(immer);immer.createDraft.bind(immer);immer.finishDraft.bind(immer);function castDraft(St){return St}function createThunkMiddleware(St){return({dispatch:tr,getState:rr})=>nr=>ar=>typeof ar=="function"?ar(tr,rr,St):nr(ar)}var thunk=createThunkMiddleware(),withExtraArgument=createThunkMiddleware,composeWithDevTools=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?compose$1:compose$1.apply(null,arguments)};function createAction(St,er){function tr(...rr){if(er){let nr=er(...rr);if(!nr)throw new Error(formatProdErrorMessage(0));return{type:St,payload:nr.payload,..."meta"in nr&&{meta:nr.meta},..."error"in nr&&{error:nr.error}}}return{type:St,payload:rr[0]}}return tr.toString=()=>`${St}`,tr.type=St,tr.match=rr=>isAction(rr)&&rr.type===St,tr}var Tuple=class _f extends Array{constructor(...er){super(...er),Object.setPrototypeOf(this,_f.prototype)}static get[Symbol.species](){return _f}concat(...er){return super.concat.apply(this,er)}prepend(...er){return er.length===1&&Array.isArray(er[0])?new _f(...er[0].concat(this)):new _f(...er.concat(this))}};function freezeDraftable(St){return isDraftable(St)?produce(St,()=>{}):St}function getOrInsertComputed(St,er,tr){return St.has(er)?St.get(er):St.set(er,tr(er)).get(er)}function isBoolean(St){return typeof St=="boolean"}var buildGetDefaultMiddleware=()=>function(er){const{thunk:tr=!0,immutableCheck:rr=!0,serializableCheck:nr=!0,actionCreatorCheck:ar=!0}=er??{};let sr=new Tuple;return tr&&(isBoolean(tr)?sr.push(thunk):sr.push(withExtraArgument(tr.extraArgument))),sr},SHOULD_AUTOBATCH="RTK_autoBatch",createQueueWithTimer=St=>er=>{setTimeout(er,St)},autoBatchEnhancer=(St={type:"raf"})=>er=>(...tr)=>{const rr=er(...tr);let nr=!0,ar=!1,sr=!1;const ir=new Set,or=St.type==="tick"?queueMicrotask:St.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:createQueueWithTimer(10):St.type==="callback"?St.queueNotification:createQueueWithTimer(St.timeout),lr=()=>{sr=!1,ar&&(ar=!1,ir.forEach(cr=>cr()))};return Object.assign({},rr,{subscribe(cr){const ur=()=>nr&&cr(),dr=rr.subscribe(ur);return ir.add(cr),()=>{dr(),ir.delete(cr)}},dispatch(cr){var ur;try{return nr=!((ur=cr==null?void 0:cr.meta)!=null&&ur[SHOULD_AUTOBATCH]),ar=!nr,ar&&(sr||(sr=!0,or(lr))),rr.dispatch(cr)}finally{nr=!0}}})},buildGetDefaultEnhancers=St=>function(tr){const{autoBatch:rr=!0}=tr??{};let nr=new Tuple(St);return rr&&nr.push(autoBatchEnhancer(typeof rr=="object"?rr:void 0)),nr};function configureStore(St){const er=buildGetDefaultMiddleware(),{reducer:tr=void 0,middleware:rr,devTools:nr=!0,preloadedState:ar=void 0,enhancers:sr=void 0}=St||{};let ir;if(typeof tr=="function")ir=tr;else if(isPlainObject$5(tr))ir=combineReducers(tr);else throw new Error(formatProdErrorMessage(1));let or;typeof rr=="function"?or=rr(er):or=er();let lr=compose$1;nr&&(lr=composeWithDevTools({trace:!1,...typeof nr=="object"&&nr}));const cr=applyMiddleware(...or),ur=buildGetDefaultEnhancers(cr);let dr=typeof sr=="function"?sr(ur):ur();const fr=lr(...dr);return createStore(ir,ar,fr)}function executeReducerBuilderCallback(St){const er={},tr=[];let rr;const nr={addCase(ar,sr){const ir=typeof ar=="string"?ar:ar.type;if(!ir)throw new Error(formatProdErrorMessage(28));if(ir in er)throw new Error(formatProdErrorMessage(29));return er[ir]=sr,nr},addMatcher(ar,sr){return tr.push({matcher:ar,reducer:sr}),nr},addDefaultCase(ar){return rr=ar,nr}};return St(nr),[er,tr,rr]}function isStateFunction(St){return typeof St=="function"}function createReducer(St,er){let[tr,rr,nr]=executeReducerBuilderCallback(er),ar;if(isStateFunction(St))ar=()=>freezeDraftable(St());else{const ir=freezeDraftable(St);ar=()=>ir}function sr(ir=ar(),or){let lr=[tr[or.type],...rr.filter(({matcher:cr})=>cr(or)).map(({reducer:cr})=>cr)];return lr.filter(cr=>!!cr).length===0&&(lr=[nr]),lr.reduce((cr,ur)=>{if(ur)if(isDraft(cr)){const fr=ur(cr,or);return fr===void 0?cr:fr}else{if(isDraftable(cr))return produce(cr,dr=>ur(dr,or));{const dr=ur(cr,or);if(dr===void 0){if(cr===null)return cr;throw Error("A case reducer on a non-draftable value must not return undefined")}return dr}}return cr},ir)}return sr.getInitialState=ar,sr}var urlAlphabet="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",nanoid=(St=21)=>{let er="",tr=St;for(;tr--;)er+=urlAlphabet[Math.random()*64|0];return er},asyncThunkSymbol=Symbol.for("rtk-slice-createasyncthunk");function getType(St,er){return`${St}/${er}`}function buildCreateSlice({creators:St}={}){var tr;const er=(tr=St==null?void 0:St.asyncThunk)==null?void 0:tr[asyncThunkSymbol];return function(nr){const{name:ar,reducerPath:sr=ar}=nr;if(!ar)throw new Error(formatProdErrorMessage(11));const ir=(typeof nr.reducers=="function"?nr.reducers(buildReducerCreators()):nr.reducers)||{},or=Object.keys(ir),lr={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},cr={addCase(br,yr){const Er=typeof br=="string"?br:br.type;if(!Er)throw new Error(formatProdErrorMessage(12));if(Er in lr.sliceCaseReducersByType)throw new Error(formatProdErrorMessage(13));return lr.sliceCaseReducersByType[Er]=yr,cr},addMatcher(br,yr){return lr.sliceMatchers.push({matcher:br,reducer:yr}),cr},exposeAction(br,yr){return lr.actionCreators[br]=yr,cr},exposeCaseReducer(br,yr){return lr.sliceCaseReducersByName[br]=yr,cr}};or.forEach(br=>{const yr=ir[br],Er={reducerName:br,type:getType(ar,br),createNotation:typeof nr.reducers=="function"};isAsyncThunkSliceReducerDefinition(yr)?handleThunkCaseReducerDefinition(Er,yr,cr,er):handleNormalReducerDefinition(Er,yr,cr)});function ur(){const[br={},yr=[],Er=void 0]=typeof nr.extraReducers=="function"?executeReducerBuilderCallback(nr.extraReducers):[nr.extraReducers],jr={...br,...lr.sliceCaseReducersByType};return createReducer(nr.initialState,_r=>{for(let Cr in jr)_r.addCase(Cr,jr[Cr]);for(let Cr of lr.sliceMatchers)_r.addMatcher(Cr.matcher,Cr.reducer);for(let Cr of yr)_r.addMatcher(Cr.matcher,Cr.reducer);Er&&_r.addDefaultCase(Er)})}const dr=br=>br,fr=new Map,mr=new WeakMap;let xr;function pr(br,yr){return xr||(xr=ur()),xr(br,yr)}function hr(){return xr||(xr=ur()),xr.getInitialState()}function gr(br,yr=!1){function Er(_r){let Cr=_r[br];return typeof Cr>"u"&&yr&&(Cr=getOrInsertComputed(mr,Er,hr)),Cr}function jr(_r=dr){const Cr=getOrInsertComputed(fr,yr,()=>new WeakMap);return getOrInsertComputed(Cr,_r,()=>{const Or={};for(const[Pr,Lr]of Object.entries(nr.selectors??{}))Or[Pr]=wrapSelector(Lr,_r,()=>getOrInsertComputed(mr,_r,hr),yr);return Or})}return{reducerPath:br,getSelectors:jr,get selectors(){return jr(Er)},selectSlice:Er}}const vr={name:ar,reducer:pr,actions:lr.actionCreators,caseReducers:lr.sliceCaseReducersByName,getInitialState:hr,...gr(sr),injectInto(br,{reducerPath:yr,...Er}={}){const jr=yr??sr;return br.inject({reducerPath:jr,reducer:pr},Er),{...vr,...gr(jr,!0)}}};return vr}}function wrapSelector(St,er,tr,rr){function nr(ar,...sr){let ir=er(ar);return typeof ir>"u"&&rr&&(ir=tr()),St(ir,...sr)}return nr.unwrapped=St,nr}var createSlice=buildCreateSlice();function buildReducerCreators(){function St(er,tr){return{_reducerDefinitionType:"asyncThunk",payloadCreator:er,...tr}}return St.withTypes=()=>St,{reducer(er){return Object.assign({[er.name](...tr){return er(...tr)}}[er.name],{_reducerDefinitionType:"reducer"})},preparedReducer(er,tr){return{_reducerDefinitionType:"reducerWithPrepare",prepare:er,reducer:tr}},asyncThunk:St}}function handleNormalReducerDefinition({type:St,reducerName:er,createNotation:tr},rr,nr){let ar,sr;if("reducer"in rr){if(tr&&!isCaseReducerWithPrepareDefinition(rr))throw new Error(formatProdErrorMessage(17));ar=rr.reducer,sr=rr.prepare}else ar=rr;nr.addCase(St,ar).exposeCaseReducer(er,ar).exposeAction(er,sr?createAction(St,sr):createAction(St))}function isAsyncThunkSliceReducerDefinition(St){return St._reducerDefinitionType==="asyncThunk"}function isCaseReducerWithPrepareDefinition(St){return St._reducerDefinitionType==="reducerWithPrepare"}function handleThunkCaseReducerDefinition({type:St,reducerName:er},tr,rr,nr){if(!nr)throw new Error(formatProdErrorMessage(18));const{payloadCreator:ar,fulfilled:sr,pending:ir,rejected:or,settled:lr,options:cr}=tr,ur=nr(St,ar,cr);rr.exposeAction(er,ur),sr&&rr.addCase(ur.fulfilled,sr),ir&&rr.addCase(ur.pending,ir),or&&rr.addCase(ur.rejected,or),lr&&rr.addMatcher(ur.settled,lr),rr.exposeCaseReducer(er,{fulfilled:sr||noop$4,pending:ir||noop$4,rejected:or||noop$4,settled:lr||noop$4})}function noop$4(){}var task="task",listener="listener",completed="completed",cancelled="cancelled",taskCancelled=`task-${cancelled}`,taskCompleted=`task-${completed}`,listenerCancelled=`${listener}-${cancelled}`,listenerCompleted=`${listener}-${completed}`,TaskAbortError=class{constructor(St){_i(this,"name","TaskAbortError");_i(this,"message");this.code=St,this.message=`${task} ${cancelled} (reason: ${St})`}},assertFunction=(St,er)=>{if(typeof St!="function")throw new TypeError(formatProdErrorMessage(32))},noop2=()=>{},catchRejection=(St,er=noop2)=>(St.catch(er),St),addAbortSignalListener=(St,er)=>(St.addEventListener("abort",er,{once:!0}),()=>St.removeEventListener("abort",er)),abortControllerWithReason=(St,er)=>{const tr=St.signal;tr.aborted||("reason"in tr||Object.defineProperty(tr,"reason",{enumerable:!0,value:er,configurable:!0,writable:!0}),St.abort(er))},validateActive=St=>{if(St.aborted){const{reason:er}=St;throw new TaskAbortError(er)}};function raceWithSignal(St,er){let tr=noop2;return new Promise((rr,nr)=>{const ar=()=>nr(new TaskAbortError(St.reason));if(St.aborted){ar();return}tr=addAbortSignalListener(St,ar),er.finally(()=>tr()).then(rr,nr)}).finally(()=>{tr=noop2})}var runTask=async(St,er)=>{try{return await Promise.resolve(),{status:"ok",value:await St()}}catch(tr){return{status:tr instanceof TaskAbortError?"cancelled":"rejected",error:tr}}finally{er==null||er()}},createPause=St=>er=>catchRejection(raceWithSignal(St,er).then(tr=>(validateActive(St),tr))),createDelay=St=>{const er=createPause(St);return tr=>er(new Promise(rr=>setTimeout(rr,tr)))},{assign:assign$1}=Object,INTERNAL_NIL_TOKEN={},alm="listenerMiddleware",createFork=(St,er)=>{const tr=rr=>addAbortSignalListener(St,()=>abortControllerWithReason(rr,St.reason));return(rr,nr)=>{assertFunction(rr);const ar=new AbortController;tr(ar);const sr=runTask(async()=>{validateActive(St),validateActive(ar.signal);const ir=await rr({pause:createPause(ar.signal),delay:createDelay(ar.signal),signal:ar.signal});return validateActive(ar.signal),ir},()=>abortControllerWithReason(ar,taskCompleted));return nr!=null&&nr.autoJoin&&er.push(sr.catch(noop2)),{result:createPause(St)(sr),cancel(){abortControllerWithReason(ar,taskCancelled)}}}},createTakePattern=(St,er)=>{const tr=async(rr,nr)=>{validateActive(er);let ar=()=>{};const ir=[new Promise((or,lr)=>{let cr=St({predicate:rr,effect:(ur,dr)=>{dr.unsubscribe(),or([ur,dr.getState(),dr.getOriginalState()])}});ar=()=>{cr(),lr()}})];nr!=null&&ir.push(new Promise(or=>setTimeout(or,nr,null)));try{const or=await raceWithSignal(er,Promise.race(ir));return validateActive(er),or}finally{ar()}};return(rr,nr)=>catchRejection(tr(rr,nr))},getListenerEntryPropsFrom=St=>{let{type:er,actionCreator:tr,matcher:rr,predicate:nr,effect:ar}=St;if(er)nr=createAction(er).match;else if(tr)er=tr.type,nr=tr.match;else if(rr)nr=rr;else if(!nr)throw new Error(formatProdErrorMessage(21));return assertFunction(ar),{predicate:nr,type:er,effect:ar}},createListenerEntry=assign$1(St=>{const{type:er,predicate:tr,effect:rr}=getListenerEntryPropsFrom(St);return{id:nanoid(),effect:rr,type:er,predicate:tr,pending:new Set,unsubscribe:()=>{throw new Error(formatProdErrorMessage(22))}}},{withTypes:()=>createListenerEntry}),findListenerEntry=(St,er)=>{const{type:tr,effect:rr,predicate:nr}=getListenerEntryPropsFrom(er);return Array.from(St.values()).find(ar=>(typeof tr=="string"?ar.type===tr:ar.predicate===nr)&&ar.effect===rr)},cancelActiveListeners=St=>{St.pending.forEach(er=>{abortControllerWithReason(er,listenerCancelled)})},createClearListenerMiddleware=St=>()=>{St.forEach(cancelActiveListeners),St.clear()},safelyNotifyError=(St,er,tr)=>{try{St(er,tr)}catch(rr){setTimeout(()=>{throw rr},0)}},addListener=assign$1(createAction(`${alm}/add`),{withTypes:()=>addListener}),clearAllListeners=createAction(`${alm}/removeAll`),removeListener=assign$1(createAction(`${alm}/remove`),{withTypes:()=>removeListener}),defaultErrorHandler=(...St)=>{console.error(`${alm}/error`,...St)},createListenerMiddleware=(St={})=>{const er=new Map,{extra:tr,onError:rr=defaultErrorHandler}=St;assertFunction(rr);const nr=cr=>(cr.unsubscribe=()=>er.delete(cr.id),er.set(cr.id,cr),ur=>{cr.unsubscribe(),ur!=null&&ur.cancelActive&&cancelActiveListeners(cr)}),ar=cr=>{const ur=findListenerEntry(er,cr)??createListenerEntry(cr);return nr(ur)};assign$1(ar,{withTypes:()=>ar});const sr=cr=>{const ur=findListenerEntry(er,cr);return ur&&(ur.unsubscribe(),cr.cancelActive&&cancelActiveListeners(ur)),!!ur};assign$1(sr,{withTypes:()=>sr});const ir=async(cr,ur,dr,fr)=>{const mr=new AbortController,xr=createTakePattern(ar,mr.signal),pr=[];try{cr.pending.add(mr),await Promise.resolve(cr.effect(ur,assign$1({},dr,{getOriginalState:fr,condition:(hr,gr)=>xr(hr,gr).then(Boolean),take:xr,delay:createDelay(mr.signal),pause:createPause(mr.signal),extra:tr,signal:mr.signal,fork:createFork(mr.signal,pr),unsubscribe:cr.unsubscribe,subscribe:()=>{er.set(cr.id,cr)},cancelActiveListeners:()=>{cr.pending.forEach((hr,gr,vr)=>{hr!==mr&&(abortControllerWithReason(hr,listenerCancelled),vr.delete(hr))})},cancel:()=>{abortControllerWithReason(mr,listenerCancelled),cr.pending.delete(mr)},throwIfCancelled:()=>{validateActive(mr.signal)}})))}catch(hr){hr instanceof TaskAbortError||safelyNotifyError(rr,hr,{raisedBy:"effect"})}finally{await Promise.all(pr),abortControllerWithReason(mr,listenerCompleted),cr.pending.delete(mr)}},or=createClearListenerMiddleware(er);return{middleware:cr=>ur=>dr=>{if(!isAction(dr))return ur(dr);if(addListener.match(dr))return ar(dr.payload);if(clearAllListeners.match(dr)){or();return}if(removeListener.match(dr))return sr(dr.payload);let fr=cr.getState();const mr=()=>{if(fr===INTERNAL_NIL_TOKEN)throw new Error(formatProdErrorMessage(23));return fr};let xr;try{if(xr=ur(dr),er.size>0){const pr=cr.getState(),hr=Array.from(er.values());for(const gr of hr){let vr=!1;try{vr=gr.predicate(dr,pr,fr)}catch(br){vr=!1,safelyNotifyError(rr,br,{raisedBy:"predicate"})}vr&&ir(gr,dr,cr,mr)}}}finally{fr=INTERNAL_NIL_TOKEN}return xr},startListening:ar,stopListening:sr,clearListeners:or}};function formatProdErrorMessage(St){return`Minified Redux Toolkit error #${St}; visit https://redux-toolkit.js.org/Errors?code=${St} for the full message or use the non-minified dev environment for full errors. `}var initialState$9={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},chartLayoutSlice=createSlice({name:"chartLayout",initialState:initialState$9,reducers:{setLayout(St,er){St.layoutType=er.payload},setChartSize(St,er){St.width=er.payload.width,St.height=er.payload.height},setMargin(St,er){St.margin.top=er.payload.top,St.margin.right=er.payload.right,St.margin.bottom=er.payload.bottom,St.margin.left=er.payload.left},setScale(St,er){St.scale=er.payload}}}),{setMargin,setLayout,setChartSize,setScale}=chartLayoutSlice.actions,chartLayoutReducer=chartLayoutSlice.reducer;function ownKeys$y(St,er){var tr=Object.keys(St);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(St);er&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(St,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$y(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$y(Object(tr),!0).forEach(function(rr){_defineProperty$C(St,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(St,Object.getOwnPropertyDescriptors(tr)):ownKeys$y(Object(tr)).forEach(function(rr){Object.defineProperty(St,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return St}function _defineProperty$C(St,er,tr){return(er=_toPropertyKey$C(er))in St?Object.defineProperty(St,er,{value:tr,enumerable:!0,configurable:!0,writable:!0}):St[er]=tr,St}function _toPropertyKey$C(St){var er=_toPrimitive$C(St,"string");return typeof er=="symbol"?er:er+""}function _toPrimitive$C(St,er){if(typeof St!="object"||!St)return St;var tr=St[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(St,er);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(St)}var RADIAN=Math.PI/180,radianToDegree=St=>St*180/Math.PI,polarToCartesian=(St,er,tr,rr)=>({x:St+Math.cos(-RADIAN*rr)*tr,y:er+Math.sin(-RADIAN*rr)*tr}),getMaxRadius=function St(er,tr){var rr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(er-(rr.left||0)-(rr.right||0)),Math.abs(tr-(rr.top||0)-(rr.bottom||0)))/2},distanceBetweenPoints=(St,er)=>{var{x:tr,y:rr}=St,{x:nr,y:ar}=er;return Math.sqrt((tr-nr)**2+(rr-ar)**2)},getAngleOfPoint=(St,er)=>{var{x:tr,y:rr}=St,{cx:nr,cy:ar}=er,sr=distanceBetweenPoints({x:tr,y:rr},{x:nr,y:ar});if(sr<=0)return{radius:sr,angle:0};var ir=(tr-nr)/sr,or=Math.acos(ir);return rr>ar&&(or=2*Math.PI-or),{radius:sr,angle:radianToDegree(or),angleInRadian:or}},formatAngleOfSector=St=>{var{startAngle:er,endAngle:tr}=St,rr=Math.floor(er/360),nr=Math.floor(tr/360),ar=Math.min(rr,nr);return{startAngle:er-ar*360,endAngle:tr-ar*360}},reverseFormatAngleOfSector=(St,er)=>{var{startAngle:tr,endAngle:rr}=er,nr=Math.floor(tr/360),ar=Math.floor(rr/360),sr=Math.min(nr,ar);return St+sr*360},inRangeOfSector=(St,er)=>{var{x:tr,y:rr}=St,{radius:nr,angle:ar}=getAngleOfPoint({x:tr,y:rr},er),{innerRadius:sr,outerRadius:ir}=er;if(nr<sr||nr>ir||nr===0)return null;var{startAngle:or,endAngle:lr}=formatAngleOfSector(er),cr=ar,ur;if(or<=lr){for(;cr>lr;)cr-=360;for(;cr<or;)cr+=360;ur=cr>=or&&cr<=lr}else{for(;cr>or;)cr-=360;for(;cr<lr;)cr+=360;ur=cr>=lr&&cr<=or}return ur?_objectSpread$y(_objectSpread$y({},er),{},{radius:nr,angle:reverseFormatAngleOfSector(cr,er)}):null};function ownKeys$x(St,er){var tr=Object.keys(St);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(St);er&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(St,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$x(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$x(Object(tr),!0).forEach(function(rr){_defineProperty$B(St,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(St,Object.getOwnPropertyDescriptors(tr)):ownKeys$x(Object(tr)).forEach(function(rr){Object.defineProperty(St,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return St}function _defineProperty$B(St,er,tr){return(er=_toPropertyKey$B(er))in St?Object.defineProperty(St,er,{value:tr,enumerable:!0,configurable:!0,writable:!0}):St[er]=tr,St}function _toPropertyKey$B(St){var er=_toPrimitive$B(St,"string");return typeof er=="symbol"?er:er+""}function _toPrimitive$B(St,er){if(typeof St!="object"||!St)return St;var tr=St[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(St,er);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(St)}function getValueByDataKey(St,er,tr){return isNullish(St)||isNullish(er)?tr:isNumOrStr(er)?get$1(St,er,tr):typeof er=="function"?er(St):tr}var calculateActiveTickIndex=(St,er,tr,rr,nr)=>{var ar,sr=-1,ir=(ar=er==null?void 0:er.length)!==null&&ar!==void 0?ar:0;if(ir<=1||St==null)return 0;if(rr==="angleAxis"&&nr!=null&&Math.abs(Math.abs(nr[1]-nr[0])-360)<=1e-6)for(var or=0;or<ir;or++){var lr=or>0?tr[or-1].coordinate:tr[ir-1].coordinate,cr=tr[or].coordinate,ur=or>=ir-1?tr[0].coordinate:tr[or+1].coordinate,dr=void 0;if(mathSign(cr-lr)!==mathSign(ur-cr)){var fr=[];if(mathSign(ur-cr)===mathSign(nr[1]-nr[0])){dr=ur;var mr=cr+nr[1]-nr[0];fr[0]=Math.min(mr,(mr+lr)/2),fr[1]=Math.max(mr,(mr+lr)/2)}else{dr=lr;var xr=ur+nr[1]-nr[0];fr[0]=Math.min(cr,(xr+cr)/2),fr[1]=Math.max(cr,(xr+cr)/2)}var pr=[Math.min(cr,(dr+cr)/2),Math.max(cr,(dr+cr)/2)];if(St>pr[0]&&St<=pr[1]||St>=fr[0]&&St<=fr[1]){({index:sr}=tr[or]);break}}else{var hr=Math.min(lr,ur),gr=Math.max(lr,ur);if(St>(hr+cr)/2&&St<=(gr+cr)/2){({index:sr}=tr[or]);break}}}else if(er){for(var vr=0;vr<ir;vr++)if(vr===0&&St<=(er[vr].coordinate+er[vr+1].coordinate)/2||vr>0&&vr<ir-1&&St>(er[vr].coordinate+er[vr-1].coordinate)/2&&St<=(er[vr].coordinate+er[vr+1].coordinate)/2||vr===ir-1&&St>(er[vr].coordinate+er[vr-1].coordinate)/2){({index:sr}=er[vr]);break}}return sr},appendOffsetOfLegend=(St,er,tr)=>{if(er&&tr){var{width:rr,height:nr}=tr,{align:ar,verticalAlign:sr,layout:ir}=er;if((ir==="vertical"||ir==="horizontal"&&sr==="middle")&&ar!=="center"&&isNumber(St[ar]))return _objectSpread$x(_objectSpread$x({},St),{},{[ar]:St[ar]+(rr||0)});if((ir==="horizontal"||ir==="vertical"&&ar==="center")&&sr!=="middle"&&isNumber(St[sr]))return _objectSpread$x(_objectSpread$x({},St),{},{[sr]:St[sr]+(nr||0)})}return St},isCategoricalAxis=(St,er)=>St==="horizontal"&&er==="xAxis"||St==="vertical"&&er==="yAxis"||St==="centric"&&er==="angleAxis"||St==="radial"&&er==="radiusAxis",EPS=1e-4,checkDomainOfScale=St=>{var er=St.domain();if(!(!er||er.length<=2)){var tr=er.length,rr=St.range(),nr=Math.min(rr[0],rr[1])-EPS,ar=Math.max(rr[0],rr[1])+EPS,sr=St(er[0]),ir=St(er[tr-1]);(sr<nr||sr>ar||ir<nr||ir>ar)&&St.domain([er[0],er[tr-1]])}},truncateByDomain=(St,er)=>{if(!er||er.length!==2||!isNumber(er[0])||!isNumber(er[1]))return St;var tr=Math.min(er[0],er[1]),rr=Math.max(er[0],er[1]),nr=[St[0],St[1]];return(!isNumber(St[0])||St[0]<tr)&&(nr[0]=tr),(!isNumber(St[1])||St[1]>rr)&&(nr[1]=rr),nr[0]>rr&&(nr[0]=rr),nr[1]<tr&&(nr[1]=tr),nr},offsetSign=St=>{var er=St.length;if(!(er<=0))for(var tr=0,rr=St[0].length;tr<rr;++tr)for(var nr=0,ar=0,sr=0;sr<er;++sr){var ir=isNan(St[sr][tr][1])?St[sr][tr][0]:St[sr][tr][1];ir>=0?(St[sr][tr][0]=nr,St[sr][tr][1]=nr+ir,nr=St[sr][tr][1]):(St[sr][tr][0]=ar,St[sr][tr][1]=ar+ir,ar=St[sr][tr][1])}},offsetPositive=St=>{var er=St.length;if(!(er<=0))for(var tr=0,rr=St[0].length;tr<rr;++tr)for(var nr=0,ar=0;ar<er;++ar){var sr=isNan(St[ar][tr][1])?St[ar][tr][0]:St[ar][tr][1];sr>=0?(St[ar][tr][0]=nr,St[ar][tr][1]=nr+sr,nr=St[ar][tr][1]):(St[ar][tr][0]=0,St[ar][tr][1]=0)}},STACK_OFFSET_MAP={sign:offsetSign,expand:stackOffsetExpand,none:stackOffsetNone,silhouette:stackOffsetSilhouette,wiggle:stackOffsetWiggle,positive:offsetPositive},getStackedData=(St,er,tr)=>{var rr=STACK_OFFSET_MAP[tr],nr=shapeStack().keys(er).value((ar,sr)=>+getValueByDataKey(ar,sr,0)).order(stackOrderNone).offset(rr);return nr(St)};function getNormalizedStackId(St){return St==null?void 0:String(St)}function getCateCoordinateOfLine(St){var{axis:er,ticks:tr,bandSize:rr,entry:nr,index:ar,dataKey:sr}=St;if(er.type==="category"){if(!er.allowDuplicatedCategory&&er.dataKey&&!isNullish(nr[er.dataKey])){var ir=findEntryInArray(tr,"value",nr[er.dataKey]);if(ir)return ir.coordinate+rr/2}return tr[ar]?tr[ar].coordinate+rr/2:null}var or=getValueByDataKey(nr,isNullish(sr)?er.dataKey:sr);return isNullish(or)?null:er.scale(or)}var getCateCoordinateOfBar=St=>{var{axis:er,ticks:tr,offset:rr,bandSize:nr,entry:ar,index:sr}=St;if(er.type==="category")return tr[sr]?tr[sr].coordinate+rr:null;var ir=getValueByDataKey(ar,er.dataKey,er.scale.domain()[sr]);return isNullish(ir)?null:er.scale(ir)-nr/2+rr},getBaseValueOfBar=St=>{var{numericAxis:er}=St,tr=er.scale.domain();if(er.type==="number"){var rr=Math.min(tr[0],tr[1]),nr=Math.max(tr[0],tr[1]);return rr<=0&&nr>=0?0:nr<0?nr:rr}return tr[0]},getDomainOfSingle=St=>{var er=St.flat(2).filter(isNumber);return[Math.min(...er),Math.max(...er)]},makeDomainFinite=St=>[St[0]===1/0?0:St[0],St[1]===-1/0?0:St[1]],getDomainOfStackGroups=(St,er,tr)=>{if(St!=null)return makeDomainFinite(Object.keys(St).reduce((rr,nr)=>{var ar=St[nr],{stackedData:sr}=ar,ir=sr.reduce((or,lr)=>{var cr=getDomainOfSingle(lr.slice(er,tr+1));return[Math.min(or[0],cr[0]),Math.max(or[1],cr[1])]},[1/0,-1/0]);return[Math.min(ir[0],rr[0]),Math.max(ir[1],rr[1])]},[1/0,-1/0]))},MIN_VALUE_REG=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,MAX_VALUE_REG=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,getBandSizeOfAxis=(St,er,tr)=>{if(St&&St.scale&&St.scale.bandwidth){var rr=St.scale.bandwidth();if(!tr||rr>0)return rr}if(St&&er&&er.length>=2){for(var nr=sortBy$1(er,cr=>cr.coordinate),ar=1/0,sr=1,ir=nr.length;sr<ir;sr++){var or=nr[sr],lr=nr[sr-1];ar=Math.min((or.coordinate||0)-(lr.coordinate||0),ar)}return ar===1/0?0:ar}return tr?void 0:0};function getTooltipEntry(St){var{tooltipEntrySettings:er,dataKey:tr,payload:rr,value:nr,name:ar}=St;return _objectSpread$x(_objectSpread$x({},er),{},{dataKey:tr,payload:rr,value:nr,name:ar})}function getTooltipNameProp(St,er){if(St)return String(St);if(typeof er=="string")return er}function inRange(St,er,tr,rr,nr){if(tr==="horizontal"||tr==="vertical"){var ar=St>=nr.left&&St<=nr.left+nr.width&&er>=nr.top&&er<=nr.top+nr.height;return ar?{x:St,y:er}:null}return rr?inRangeOfSector({x:St,y:er},rr):null}var getActiveCoordinate=(St,er,tr,rr)=>{var nr=er.find(lr=>lr&&lr.index===tr);if(nr){if(St==="horizontal")return{x:nr.coordinate,y:rr.y};if(St==="vertical")return{x:rr.x,y:nr.coordinate};if(St==="centric"){var ar=nr.coordinate,{radius:sr}=rr;return _objectSpread$x(_objectSpread$x(_objectSpread$x({},rr),polarToCartesian(rr.cx,rr.cy,sr,ar)),{},{angle:ar,radius:sr})}var ir=nr.coordinate,{angle:or}=rr;return _objectSpread$x(_objectSpread$x(_objectSpread$x({},rr),polarToCartesian(rr.cx,rr.cy,ir,or)),{},{angle:or,radius:ir})}return{x:0,y:0}},calculateTooltipPos=(St,er)=>er==="horizontal"?St.x:er==="vertical"?St.y:er==="centric"?St.angle:St.radius,selectChartWidth=St=>St.layout.width,selectChartHeight=St=>St.layout.height,selectContainerScale=St=>St.layout.scale,selectMargin=St=>St.layout.margin,selectAllXAxes=createSelector(St=>St.cartesianAxis.xAxis,St=>Object.values(St)),selectAllYAxes=createSelector(St=>St.cartesianAxis.yAxis,St=>Object.values(St)),DATA_ITEM_INDEX_ATTRIBUTE_NAME="data-recharts-item-index",DATA_ITEM_DATAKEY_ATTRIBUTE_NAME="data-recharts-item-data-key",DEFAULT_Y_AXIS_WIDTH=60;function ownKeys$w(St,er){var tr=Object.keys(St);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(St);er&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(St,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$w(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$w(Object(tr),!0).forEach(function(rr){_defineProperty$A(St,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(St,Object.getOwnPropertyDescriptors(tr)):ownKeys$w(Object(tr)).forEach(function(rr){Object.defineProperty(St,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return St}function _defineProperty$A(St,er,tr){return(er=_toPropertyKey$A(er))in St?Object.defineProperty(St,er,{value:tr,enumerable:!0,configurable:!0,writable:!0}):St[er]=tr,St}function _toPropertyKey$A(St){var er=_toPrimitive$A(St,"string");return typeof er=="symbol"?er:er+""}function _toPrimitive$A(St,er){if(typeof St!="object"||!St)return St;var tr=St[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(St,er);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(St)}var selectBrushHeight=St=>St.brush.height,selectChartOffsetInternal=createSelector([selectChartWidth,selectChartHeight,selectMargin,selectBrushHeight,selectAllXAxes,selectAllYAxes,selectLegendSettings,selectLegendSize],(St,er,tr,rr,nr,ar,sr,ir)=>{var or=ar.reduce((mr,xr)=>{var{orientation:pr}=xr;if(!xr.mirror&&!xr.hide){var hr=typeof xr.width=="number"?xr.width:DEFAULT_Y_AXIS_WIDTH;return _objectSpread$w(_objectSpread$w({},mr),{},{[pr]:mr[pr]+hr})}return mr},{left:tr.left||0,right:tr.right||0}),lr=nr.reduce((mr,xr)=>{var{orientation:pr}=xr;return!xr.mirror&&!xr.hide?_objectSpread$w(_objectSpread$w({},mr),{},{[pr]:get$1(mr,"".concat(pr))+xr.height}):mr},{top:tr.top||0,bottom:tr.bottom||0}),cr=_objectSpread$w(_objectSpread$w({},lr),or),ur=cr.bottom;cr.bottom+=rr,cr=appendOffsetOfLegend(cr,sr,ir);var dr=St-cr.left-cr.right,fr=er-cr.top-cr.bottom;return _objectSpread$w(_objectSpread$w({brushBottom:ur},cr),{},{width:Math.max(dr,0),height:Math.max(fr,0)})}),selectChartViewBox=createSelector(selectChartOffsetInternal,St=>({x:St.left,y:St.top,width:St.width,height:St.height})),selectAxisViewBox=createSelector(selectChartWidth,selectChartHeight,(St,er)=>({x:0,y:0,width:St,height:er})),PanoramaContext=reactExports.createContext(null),useIsPanorama=()=>reactExports.useContext(PanoramaContext)!=null,selectBrushSettings=St=>St.brush,selectBrushDimensions=createSelector([selectBrushSettings,selectChartOffsetInternal,selectMargin],(St,er,tr)=>({height:St.height,x:isNumber(St.x)?St.x:er.left,y:isNumber(St.y)?St.y:er.top+er.height+er.brushBottom-((tr==null?void 0:tr.bottom)||0),width:isNumber(St.width)?St.width:er.width})),useViewBox=()=>{var St,er=useIsPanorama(),tr=useAppSelector(selectChartViewBox),rr=useAppSelector(selectBrushDimensions),nr=(St=useAppSelector(selectBrushSettings))===null||St===void 0?void 0:St.padding;return!er||!rr||!nr?tr:{width:rr.width-nr.left-nr.right,height:rr.height-nr.top-nr.bottom,x:nr.left,y:nr.top}},manyComponentsThrowErrorsIfOffsetIsUndefined={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},useOffsetInternal=()=>{var St;return(St=useAppSelector(selectChartOffsetInternal))!==null&&St!==void 0?St:manyComponentsThrowErrorsIfOffsetIsUndefined},useChartWidth=()=>useAppSelector(selectChartWidth),useChartHeight=()=>useAppSelector(selectChartHeight),manyComponentsThrowErrorsIfMarginIsUndefined={top:0,right:0,bottom:0,left:0},useMargin=()=>{var St;return(St=useAppSelector(er=>er.layout.margin))!==null&&St!==void 0?St:manyComponentsThrowErrorsIfMarginIsUndefined},selectChartLayout=St=>St.layout.layoutType,useChartLayout=()=>useAppSelector(selectChartLayout),initialState$8={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},legendSlice=createSlice({name:"legend",initialState:initialState$8,reducers:{setLegendSize(St,er){St.size.width=er.payload.width,St.size.height=er.payload.height},setLegendSettings(St,er){St.settings.align=er.payload.align,St.settings.layout=er.payload.layout,St.settings.verticalAlign=er.payload.verticalAlign,St.settings.itemSorter=er.payload.itemSorter},addLegendPayload(St,er){St.payload.push(er.payload)},removeLegendPayload(St,er){var tr=current(St).payload.indexOf(er.payload);tr>-1&&St.payload.splice(tr,1)}}}),{setLegendSize,setLegendSettings,addLegendPayload,removeLegendPayload}=legendSlice.actions,legendReducer=legendSlice.reducer,_excluded$j=["contextPayload"];function _extends$n(){return _extends$n=Object.assign?Object.assign.bind():function(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(St[rr]=tr[rr])}return St},_extends$n.apply(null,arguments)}function ownKeys$v(St,er){var tr=Object.keys(St);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(St);er&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(St,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$v(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$v(Object(tr),!0).forEach(function(rr){_defineProperty$z(St,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(St,Object.getOwnPropertyDescriptors(tr)):ownKeys$v(Object(tr)).forEach(function(rr){Object.defineProperty(St,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return St}function _defineProperty$z(St,er,tr){return(er=_toPropertyKey$z(er))in St?Object.defineProperty(St,er,{value:tr,enumerable:!0,configurable:!0,writable:!0}):St[er]=tr,St}function _toPropertyKey$z(St){var er=_toPrimitive$z(St,"string");return typeof er=="symbol"?er:er+""}function _toPrimitive$z(St,er){if(typeof St!="object"||!St)return St;var tr=St[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(St,er);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(St)}function _objectWithoutProperties$j(St,er){if(St==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$j(St,er);if(Object.getOwnPropertySymbols){var ar=Object.getOwnPropertySymbols(St);for(rr=0;rr<ar.length;rr++)tr=ar[rr],er.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(St,tr)&&(nr[tr]=St[tr])}return nr}function _objectWithoutPropertiesLoose$j(St,er){if(St==null)return{};var tr={};for(var rr in St)if({}.hasOwnProperty.call(St,rr)){if(er.indexOf(rr)!==-1)continue;tr[rr]=St[rr]}return tr}function defaultUniqBy$1(St){return St.value}function LegendContent(St){var{contextPayload:er}=St,tr=_objectWithoutProperties$j(St,_excluded$j),rr=getUniqPayload(er,St.payloadUniqBy,defaultUniqBy$1),nr=_objectSpread$v(_objectSpread$v({},tr),{},{payload:rr});return reactExports.isValidElement(St.content)?reactExports.cloneElement(St.content,nr):typeof St.content=="function"?reactExports.createElement(St.content,nr):reactExports.createElement(DefaultLegendContent,nr)}function getDefaultPosition(St,er,tr,rr,nr,ar){var{layout:sr,align:ir,verticalAlign:or}=er,lr,cr;return(!St||(St.left===void 0||St.left===null)&&(St.right===void 0||St.right===null))&&(ir==="center"&&sr==="vertical"?lr={left:((rr||0)-ar.width)/2}:lr=ir==="right"?{right:tr&&tr.right||0}:{left:tr&&tr.left||0}),(!St||(St.top===void 0||St.top===null)&&(St.bottom===void 0||St.bottom===null))&&(or==="middle"?cr={top:((nr||0)-ar.height)/2}:cr=or==="bottom"?{bottom:tr&&tr.bottom||0}:{top:tr&&tr.top||0}),_objectSpread$v(_objectSpread$v({},lr),cr)}function LegendSettingsDispatcher(St){var er=useAppDispatch();return reactExports.useEffect(()=>{er(setLegendSettings(St))},[er,St]),null}function LegendSizeDispatcher(St){var er=useAppDispatch();return reactExports.useEffect(()=>(er(setLegendSize(St)),()=>{er(setLegendSize({width:0,height:0}))}),[er,St]),null}function LegendWrapper(St){var er=useLegendPayload(),tr=useLegendPortal(),rr=useMargin(),{width:nr,height:ar,wrapperStyle:sr,portal:ir}=St,[or,lr]=useElementOffset([er]),cr=useChartWidth(),ur=useChartHeight(),dr=cr-(rr.left||0)-(rr.right||0),fr=Legend.getWidthOrHeight(St.layout,ar,nr,dr),mr=ir?sr:_objectSpread$v(_objectSpread$v({position:"absolute",width:(fr==null?void 0:fr.width)||nr||"auto",height:(fr==null?void 0:fr.height)||ar||"auto"},getDefaultPosition(sr,St,rr,cr,ur,or)),sr),xr=ir??tr;if(xr==null)return null;var pr=reactExports.createElement("div",{className:"recharts-legend-wrapper",style:mr,ref:lr},reactExports.createElement(LegendSettingsDispatcher,{layout:St.layout,align:St.align,verticalAlign:St.verticalAlign,itemSorter:St.itemSorter}),reactExports.createElement(LegendSizeDispatcher,{width:or.width,height:or.height}),reactExports.createElement(LegendContent,_extends$n({},St,fr,{margin:rr,chartWidth:cr,chartHeight:ur,contextPayload:er})));return reactDomExports.createPortal(pr,xr)}class Legend extends reactExports.PureComponent{static getWidthOrHeight(er,tr,rr,nr){return er==="vertical"&&isNumber(tr)?{height:tr}:er==="horizontal"?{width:rr||nr}:null}render(){return reactExports.createElement(LegendWrapper,this.props)}}_defineProperty$z(Legend,"displayName","Legend");_defineProperty$z(Legend,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function _extends$m(){return _extends$m=Object.assign?Object.assign.bind():function(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(St[rr]=tr[rr])}return St},_extends$m.apply(null,arguments)}function ownKeys$u(St,er){var tr=Object.keys(St);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(St);er&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(St,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$u(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$u(Object(tr),!0).forEach(function(rr){_defineProperty$y(St,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(St,Object.getOwnPropertyDescriptors(tr)):ownKeys$u(Object(tr)).forEach(function(rr){Object.defineProperty(St,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return St}function _defineProperty$y(St,er,tr){return(er=_toPropertyKey$y(er))in St?Object.defineProperty(St,er,{value:tr,enumerable:!0,configurable:!0,writable:!0}):St[er]=tr,St}function _toPropertyKey$y(St){var er=_toPrimitive$y(St,"string");return typeof er=="symbol"?er:er+""}function _toPrimitive$y(St,er){if(typeof St!="object"||!St)return St;var tr=St[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(St,er);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(St)}function defaultFormatter(St){return Array.isArray(St)&&isNumOrStr(St[0])&&isNumOrStr(St[1])?St.join(" ~ "):St}var DefaultTooltipContent=St=>{var{separator:er=" : ",contentStyle:tr={},itemStyle:rr={},labelStyle:nr={},payload:ar,formatter:sr,itemSorter:ir,wrapperClassName:or,labelClassName:lr,label:cr,labelFormatter:ur,accessibilityLayer:dr=!1}=St,fr=()=>{if(ar&&ar.length){var yr={padding:0,margin:0},Er=(ir?sortBy$1(ar,ir):ar).map((jr,_r)=>{if(jr.type==="none")return null;var Cr=jr.formatter||sr||defaultFormatter,{value:Or,name:Pr}=jr,Lr=Or,Gr=Pr;if(Cr){var Kr=Cr(Or,Pr,jr,_r,ar);if(Array.isArray(Kr))[Lr,Gr]=Kr;else if(Kr!=null)Lr=Kr;else return null}var nn=_objectSpread$u({display:"block",paddingTop:4,paddingBottom:4,color:jr.color||"#000"},rr);return reactExports.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(_r),style:nn},isNumOrStr(Gr)?reactExports.createElement("span",{className:"recharts-tooltip-item-name"},Gr):null,isNumOrStr(Gr)?reactExports.createElement("span",{className:"recharts-tooltip-item-separator"},er):null,reactExports.createElement("span",{className:"recharts-tooltip-item-value"},Lr),reactExports.createElement("span",{className:"recharts-tooltip-item-unit"},jr.unit||""))});return reactExports.createElement("ul",{className:"recharts-tooltip-item-list",style:yr},Er)}return null},mr=_objectSpread$u({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},tr),xr=_objectSpread$u({margin:0},nr),pr=!isNullish(cr),hr=pr?cr:"",gr=clsx("recharts-default-tooltip",or),vr=clsx("recharts-tooltip-label",lr);pr&&ur&&ar!==void 0&&ar!==null&&(hr=ur(cr,ar));var br=dr?{role:"status","aria-live":"assertive"}:{};return reactExports.createElement("div",_extends$m({className:gr,style:mr},br),reactExports.createElement("p",{className:vr,style:xr},reactExports.isValidElement(hr)?hr:"".concat(hr)),fr())},CSS_CLASS_PREFIX="recharts-tooltip-wrapper",TOOLTIP_HIDDEN={visibility:"hidden"};function getTooltipCSSClassName(St){var{coordinate:er,translateX:tr,translateY:rr}=St;return clsx(CSS_CLASS_PREFIX,{["".concat(CSS_CLASS_PREFIX,"-right")]:isNumber(tr)&&er&&isNumber(er.x)&&tr>=er.x,["".concat(CSS_CLASS_PREFIX,"-left")]:isNumber(tr)&&er&&isNumber(er.x)&&tr<er.x,["".concat(CSS_CLASS_PREFIX,"-bottom")]:isNumber(rr)&&er&&isNumber(er.y)&&rr>=er.y,["".concat(CSS_CLASS_PREFIX,"-top")]:isNumber(rr)&&er&&isNumber(er.y)&&rr<er.y})}function getTooltipTranslateXY(St){var{allowEscapeViewBox:er,coordinate:tr,key:rr,offsetTopLeft:nr,position:ar,reverseDirection:sr,tooltipDimension:ir,viewBox:or,viewBoxDimension:lr}=St;if(ar&&isNumber(ar[rr]))return ar[rr];var cr=tr[rr]-ir-(nr>0?nr:0),ur=tr[rr]+nr;if(er[rr])return sr[rr]?cr:ur;var dr=or[rr];if(dr==null)return 0;if(sr[rr]){var fr=cr,mr=dr;return fr<mr?Math.max(ur,dr):Math.max(cr,dr)}if(lr==null)return 0;var xr=ur+ir,pr=dr+lr;return xr>pr?Math.max(cr,dr):Math.max(ur,dr)}function getTransformStyle(St){var{translateX:er,translateY:tr,useTranslate3d:rr}=St;return{transform:rr?"translate3d(".concat(er,"px, ").concat(tr,"px, 0)"):"translate(".concat(er,"px, ").concat(tr,"px)")}}function getTooltipTranslate(St){var{allowEscapeViewBox:er,coordinate:tr,offsetTopLeft:rr,position:nr,reverseDirection:ar,tooltipBox:sr,useTranslate3d:ir,viewBox:or}=St,lr,cr,ur;return sr.height>0&&sr.width>0&&tr?(cr=getTooltipTranslateXY({allowEscapeViewBox:er,coordinate:tr,key:"x",offsetTopLeft:rr,position:nr,reverseDirection:ar,tooltipDimension:sr.width,viewBox:or,viewBoxDimension:or.width}),ur=getTooltipTranslateXY({allowEscapeViewBox:er,coordinate:tr,key:"y",offsetTopLeft:rr,position:nr,reverseDirection:ar,tooltipDimension:sr.height,viewBox:or,viewBoxDimension:or.height}),lr=getTransformStyle({translateX:cr,translateY:ur,useTranslate3d:ir})):lr=TOOLTIP_HIDDEN,{cssProperties:lr,cssClasses:getTooltipCSSClassName({translateX:cr,translateY:ur,coordinate:tr})}}function ownKeys$t(St,er){var tr=Object.keys(St);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(St);er&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(St,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$t(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$t(Object(tr),!0).forEach(function(rr){_defineProperty$x(St,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(St,Object.getOwnPropertyDescriptors(tr)):ownKeys$t(Object(tr)).forEach(function(rr){Object.defineProperty(St,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return St}function _defineProperty$x(St,er,tr){return(er=_toPropertyKey$x(er))in St?Object.defineProperty(St,er,{value:tr,enumerable:!0,configurable:!0,writable:!0}):St[er]=tr,St}function _toPropertyKey$x(St){var er=_toPrimitive$x(St,"string");return typeof er=="symbol"?er:er+""}function _toPrimitive$x(St,er){if(typeof St!="object"||!St)return St;var tr=St[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(St,er);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(St)}class TooltipBoundingBox extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty$x(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),_defineProperty$x(this,"handleKeyDown",er=>{if(er.key==="Escape"){var tr,rr,nr,ar;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(tr=(rr=this.props.coordinate)===null||rr===void 0?void 0:rr.x)!==null&&tr!==void 0?tr:0,y:(nr=(ar=this.props.coordinate)===null||ar===void 0?void 0:ar.y)!==null&&nr!==void 0?nr:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var er,tr;this.state.dismissed&&(((er=this.props.coordinate)===null||er===void 0?void 0:er.x)!==this.state.dismissedAtCoordinate.x||((tr=this.props.coordinate)===null||tr===void 0?void 0:tr.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:er,allowEscapeViewBox:tr,animationDuration:rr,animationEasing:nr,children:ar,coordinate:sr,hasPayload:ir,isAnimationActive:or,offset:lr,position:cr,reverseDirection:ur,useTranslate3d:dr,viewBox:fr,wrapperStyle:mr,lastBoundingBox:xr,innerRef:pr,hasPortalFromProps:hr}=this.props,{cssClasses:gr,cssProperties:vr}=getTooltipTranslate({allowEscapeViewBox:tr,coordinate:sr,offsetTopLeft:lr,position:cr,reverseDirection:ur,tooltipBox:{height:xr.height,width:xr.width},useTranslate3d:dr,viewBox:fr}),br=hr?{}:_objectSpread$t(_objectSpread$t({transition:or&&er?"transform ".concat(rr,"ms ").concat(nr):void 0},vr),{},{pointerEvents:"none",visibility:!this.state.dismissed&&er&&ir?"visible":"hidden",position:"absolute",top:0,left:0}),yr=_objectSpread$t(_objectSpread$t({},br),{},{visibility:!this.state.dismissed&&er&&ir?"visible":"hidden"},mr);return reactExports.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:gr,style:yr,ref:pr},ar)}}var parseIsSsrByDefault=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Global={isSsr:parseIsSsrByDefault()},useAccessibilityLayer=()=>useAppSelector(St=>St.rootProps.accessibilityLayer);function isWellBehavedNumber(St){return Number.isFinite(St)}function isPositiveNumber(St){return typeof St=="number"&&St>0&&Number.isFinite(St)}function _extends$l(){return _extends$l=Object.assign?Object.assign.bind():function(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(St[rr]=tr[rr])}return St},_extends$l.apply(null,arguments)}function ownKeys$s(St,er){var tr=Object.keys(St);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(St);er&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(St,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$s(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$s(Object(tr),!0).forEach(function(rr){_defineProperty$w(St,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(St,Object.getOwnPropertyDescriptors(tr)):ownKeys$s(Object(tr)).forEach(function(rr){Object.defineProperty(St,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return St}function _defineProperty$w(St,er,tr){return(er=_toPropertyKey$w(er))in St?Object.defineProperty(St,er,{value:tr,enumerable:!0,configurable:!0,writable:!0}):St[er]=tr,St}function _toPropertyKey$w(St){var er=_toPrimitive$w(St,"string");return typeof er=="symbol"?er:er+""}function _toPrimitive$w(St,er){if(typeof St!="object"||!St)return St;var tr=St[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(St,er);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(St)}var CURVE_FACTORIES={curveBasisClosed,curveBasisOpen,curveBasis,curveBumpX:bumpX,curveBumpY:bumpY,curveLinearClosed,curveLinear,curveMonotoneX:monotoneX,curveMonotoneY:monotoneY,curveNatural,curveStep,curveStepAfter:stepAfter,curveStepBefore:stepBefore},defined=St=>isWellBehavedNumber(St.x)&&isWellBehavedNumber(St.y),getX=St=>St.x,getY=St=>St.y,getCurveFactory=(St,er)=>{if(typeof St=="function")return St;var tr="curve".concat(upperFirst(St));return(tr==="curveMonotone"||tr==="curveBump")&&er?CURVE_FACTORIES["".concat(tr).concat(er==="vertical"?"Y":"X")]:CURVE_FACTORIES[tr]||curveLinear},getPath$1=St=>{var{type:er="linear",points:tr=[],baseLine:rr,layout:nr,connectNulls:ar=!1}=St,sr=getCurveFactory(er,nr),ir=ar?tr.filter(defined):tr,or;if(Array.isArray(rr)){var lr=ar?rr.filter(ur=>defined(ur)):rr,cr=ir.map((ur,dr)=>_objectSpread$s(_objectSpread$s({},ur),{},{base:lr[dr]}));return nr==="vertical"?or=shapeArea().y(getY).x1(getX).x0(ur=>ur.base.x):or=shapeArea().x(getX).y1(getY).y0(ur=>ur.base.y),or.defined(defined).curve(sr),or(cr)}return nr==="vertical"&&isNumber(rr)?or=shapeArea().y(getY).x1(getX).x0(rr):isNumber(rr)?or=shapeArea().x(getX).y1(getY).y0(rr):or=shapeLine().x(getX).y(getY),or.defined(defined).curve(sr),or(ir)},Curve=St=>{var{className:er,points:tr,path:rr,pathRef:nr}=St;if((!tr||!tr.length)&&!rr)return null;var ar=tr&&tr.length?getPath$1(St):rr;return reactExports.createElement("path",_extends$l({},filterProps(St,!1),adaptEventHandlers(St),{className:clsx("recharts-curve",er),d:ar===null?void 0:ar,ref:nr}))},_excluded$i=["x","y","top","left","width","height","className"];function _extends$k(){return _extends$k=Object.assign?Object.assign.bind():function(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(St[rr]=tr[rr])}return St},_extends$k.apply(null,arguments)}function ownKeys$r(St,er){var tr=Object.keys(St);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(St);er&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(St,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$r(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$r(Object(tr),!0).forEach(function(rr){_defineProperty$v(St,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(St,Object.getOwnPropertyDescriptors(tr)):ownKeys$r(Object(tr)).forEach(function(rr){Object.defineProperty(St,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return St}function _defineProperty$v(St,er,tr){return(er=_toPropertyKey$v(er))in St?Object.defineProperty(St,er,{value:tr,enumerable:!0,configurable:!0,writable:!0}):St[er]=tr,St}function _toPropertyKey$v(St){var er=_toPrimitive$v(St,"string");return typeof er=="symbol"?er:er+""}function _toPrimitive$v(St,er){if(typeof St!="object"||!St)return St;var tr=St[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(St,er);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(St)}function _objectWithoutProperties$i(St,er){if(St==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$i(St,er);if(Object.getOwnPropertySymbols){var ar=Object.getOwnPropertySymbols(St);for(rr=0;rr<ar.length;rr++)tr=ar[rr],er.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(St,tr)&&(nr[tr]=St[tr])}return nr}function _objectWithoutPropertiesLoose$i(St,er){if(St==null)return{};var tr={};for(var rr in St)if({}.hasOwnProperty.call(St,rr)){if(er.indexOf(rr)!==-1)continue;tr[rr]=St[rr]}return tr}var getPath=(St,er,tr,rr,nr,ar)=>"M".concat(St,",").concat(nr,"v").concat(rr,"M").concat(ar,",").concat(er,"h").concat(tr),Cross=St=>{var{x:er=0,y:tr=0,top:rr=0,left:nr=0,width:ar=0,height:sr=0,className:ir}=St,or=_objectWithoutProperties$i(St,_excluded$i),lr=_objectSpread$r({x:er,y:tr,top:rr,left:nr,width:ar,height:sr},or);return!isNumber(er)||!isNumber(tr)||!isNumber(ar)||!isNumber(sr)||!isNumber(rr)||!isNumber(nr)?null:reactExports.createElement("path",_extends$k({},filterProps(lr,!0),{className:clsx("recharts-cross",ir),d:getPath(er,tr,ar,sr,rr,nr)}))};function getCursorRectangle(St,er,tr,rr){var nr=rr/2;return{stroke:"none",fill:"#ccc",x:St==="horizontal"?er.x-nr:tr.left+.5,y:St==="horizontal"?tr.top+.5:er.y-nr,width:St==="horizontal"?rr:tr.width-1,height:St==="horizontal"?tr.height-1:rr}}function ownKeys$q(St,er){var tr=Object.keys(St);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(St);er&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(St,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$q(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$q(Object(tr),!0).forEach(function(rr){_defineProperty$u(St,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(St,Object.getOwnPropertyDescriptors(tr)):ownKeys$q(Object(tr)).forEach(function(rr){Object.defineProperty(St,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return St}function _defineProperty$u(St,er,tr){return(er=_toPropertyKey$u(er))in St?Object.defineProperty(St,er,{value:tr,enumerable:!0,configurable:!0,writable:!0}):St[er]=tr,St}function _toPropertyKey$u(St){var er=_toPrimitive$u(St,"string");return typeof er=="symbol"?er:er+""}function _toPrimitive$u(St,er){if(typeof St!="object"||!St)return St;var tr=St[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(St,er);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(St)}function resolveDefaultProps(St,er){var tr=_objectSpread$q({},St),rr=er,nr=Object.keys(er),ar=nr.reduce((sr,ir)=>(sr[ir]===void 0&&rr[ir]!==void 0&&(sr[ir]=rr[ir]),sr),tr);return ar}var isEqual$2={},isEqualWith={},isPlainObject$3={};(function(St){Object.defineProperty(St,Symbol.toStringTag,{value:"Module"});function er(tr){if(!tr||typeof tr!="object")return!1;const rr=Object.getPrototypeOf(tr);return rr===null||rr===Object.prototype||Object.getPrototypeOf(rr)===null?Object.prototype.toString.call(tr)==="[object Object]":!1}St.isPlainObject=er})(isPlainObject$3);(function(St){Object.defineProperty(St,Symbol.toStringTag,{value:"Module"});const er=isPlainObject$3,tr=getSymbols,rr=getTag,nr=tags,ar=eq;function sr(lr,cr,ur){return ir(lr,cr,void 0,void 0,void 0,void 0,ur)}function ir(lr,cr,ur,dr,fr,mr,xr){const pr=xr(lr,cr,ur,dr,fr,mr);if(pr!==void 0)return pr;if(typeof lr==typeof cr)switch(typeof lr){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return lr===cr;case"number":return lr===cr||Object.is(lr,cr);case"function":return lr===cr;case"object":return or(lr,cr,mr,xr)}return or(lr,cr,mr,xr)}function or(lr,cr,ur,dr){if(Object.is(lr,cr))return!0;let fr=rr.getTag(lr),mr=rr.getTag(cr);if(fr===nr.argumentsTag&&(fr=nr.objectTag),mr===nr.argumentsTag&&(mr=nr.objectTag),fr!==mr)return!1;switch(fr){case nr.stringTag:return lr.toString()===cr.toString();case nr.numberTag:{const hr=lr.valueOf(),gr=cr.valueOf();return ar.eq(hr,gr)}case nr.booleanTag:case nr.dateTag:case nr.symbolTag:return Object.is(lr.valueOf(),cr.valueOf());case nr.regexpTag:return lr.source===cr.source&&lr.flags===cr.flags;case nr.functionTag:return lr===cr}ur=ur??new Map;const xr=ur.get(lr),pr=ur.get(cr);if(xr!=null&&pr!=null)return xr===cr;ur.set(lr,cr),ur.set(cr,lr);try{switch(fr){case nr.mapTag:{if(lr.size!==cr.size)return!1;for(const[hr,gr]of lr.entries())if(!cr.has(hr)||!ir(gr,cr.get(hr),hr,lr,cr,ur,dr))return!1;return!0}case nr.setTag:{if(lr.size!==cr.size)return!1;const hr=Array.from(lr.values()),gr=Array.from(cr.values());for(let vr=0;vr<hr.length;vr++){const br=hr[vr],yr=gr.findIndex(Er=>ir(br,Er,void 0,lr,cr,ur,dr));if(yr===-1)return!1;gr.splice(yr,1)}return!0}case nr.arrayTag:case nr.uint8ArrayTag:case nr.uint8ClampedArrayTag:case nr.uint16ArrayTag:case nr.uint32ArrayTag:case nr.bigUint64ArrayTag:case nr.int8ArrayTag:case nr.int16ArrayTag:case nr.int32ArrayTag:case nr.bigInt64ArrayTag:case nr.float32ArrayTag:case nr.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(lr)!==Buffer.isBuffer(cr)||lr.length!==cr.length)return!1;for(let hr=0;hr<lr.length;hr++)if(!ir(lr[hr],cr[hr],hr,lr,cr,ur,dr))return!1;return!0}case nr.arrayBufferTag:return lr.byteLength!==cr.byteLength?!1:or(new Uint8Array(lr),new Uint8Array(cr),ur,dr);case nr.dataViewTag:return lr.byteLength!==cr.byteLength||lr.byteOffset!==cr.byteOffset?!1:or(new Uint8Array(lr),new Uint8Array(cr),ur,dr);case nr.errorTag:return lr.name===cr.name&&lr.message===cr.message;case nr.objectTag:{if(!(or(lr.constructor,cr.constructor,ur,dr)||er.isPlainObject(lr)&&er.isPlainObject(cr)))return!1;const gr=[...Object.keys(lr),...tr.getSymbols(lr)],vr=[...Object.keys(cr),...tr.getSymbols(cr)];if(gr.length!==vr.length)return!1;for(let br=0;br<gr.length;br++){const yr=gr[br],Er=lr[yr];if(!Object.hasOwn(cr,yr))return!1;const jr=cr[yr];if(!ir(Er,jr,yr,lr,cr,ur,dr))return!1}return!0}default:return!1}}finally{ur.delete(lr),ur.delete(cr)}}St.isEqualWith=sr})(isEqualWith);var noop$3={};(function(St){Object.defineProperty(St,Symbol.toStringTag,{value:"Module"});function er(){}St.noop=er})(noop$3);(function(St){Object.defineProperty(St,Symbol.toStringTag,{value:"Module"});const er=isEqualWith,tr=noop$3;function rr(nr,ar){return er.isEqualWith(nr,ar,tr.noop)}St.isEqual=rr})(isEqual$2);var isEqual=isEqual$2.isEqual;const isEqual$1=getDefaultExportFromCjs(isEqual);function createAnimateManager(St){var er={},tr=()=>null,rr=!1,nr=null,ar=sr=>{if(!rr){if(Array.isArray(sr)){if(!sr.length)return;var ir=sr,[or,...lr]=ir;if(typeof or=="number"){nr=St.setTimeout(ar.bind(null,lr),or);return}ar(or),nr=St.setTimeout(ar.bind(null,lr));return}typeof sr=="object"&&(er=sr,tr(er)),typeof sr=="function"&&sr()}};return{stop:()=>{rr=!0},start:sr=>{rr=!1,nr&&(nr(),nr=null),ar(sr)},subscribe:sr=>(tr=sr,()=>{tr=()=>null}),getTimeoutController:()=>St}}var ACCURACY=1e-4,cubicBezierFactor=(St,er)=>[0,3*St,3*er-6*St,3*St-3*er+1],evaluatePolynomial=(St,er)=>St.map((tr,rr)=>tr*er**rr).reduce((tr,rr)=>tr+rr),cubicBezier=(St,er)=>tr=>{var rr=cubicBezierFactor(St,er);return evaluatePolynomial(rr,tr)},derivativeCubicBezier=(St,er)=>tr=>{var rr=cubicBezierFactor(St,er),nr=[...rr.map((ar,sr)=>ar*sr).slice(1),0];return evaluatePolynomial(nr,tr)},configBezier=function St(){for(var er,tr,rr,nr,ar=arguments.length,sr=new Array(ar),ir=0;ir<ar;ir++)sr[ir]=arguments[ir];if(sr.length===1)switch(sr[0]){case"linear":[er,rr,tr,nr]=[0,0,1,1];break;case"ease":[er,rr,tr,nr]=[.25,.1,.25,1];break;case"ease-in":[er,rr,tr,nr]=[.42,0,1,1];break;case"ease-out":[er,rr,tr,nr]=[.42,0,.58,1];break;case"ease-in-out":[er,rr,tr,nr]=[0,0,.58,1];break;default:{var or=sr[0].split("(");or[0]==="cubic-bezier"&&or[1].split(")")[0].split(",").length===4&&([er,rr,tr,nr]=or[1].split(")")[0].split(",").map(mr=>parseFloat(mr)))}}else sr.length===4&&([er,rr,tr,nr]=sr);var lr=cubicBezier(er,tr),cr=cubicBezier(rr,nr),ur=derivativeCubicBezier(er,tr),dr=mr=>mr>1?1:mr<0?0:mr,fr=mr=>{for(var xr=mr>1?1:mr,pr=xr,hr=0;hr<8;++hr){var gr=lr(pr)-xr,vr=ur(pr);if(Math.abs(gr-xr)<ACCURACY||vr<ACCURACY)return cr(pr);pr=dr(pr-gr/vr)}return cr(pr)};return fr.isStepper=!1,fr},configSpring=function St(){var er=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:tr=100,damping:rr=8,dt:nr=17}=er,ar=(sr,ir,or)=>{var lr=-(sr-ir)*tr,cr=or*rr,ur=or+(lr-cr)*nr/1e3,dr=or*nr/1e3+sr;return Math.abs(dr-ir)<ACCURACY&&Math.abs(ur)<ACCURACY?[ir,0]:[dr,ur]};return ar.isStepper=!0,ar.dt=nr,ar},configEasing=St=>{if(typeof St=="string")switch(St){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return configBezier(St);case"spring":return configSpring();default:if(St.split("(")[0]==="cubic-bezier")return configBezier(St)}return typeof St=="function"?St:null};function ownKeys$p(St,er){var tr=Object.keys(St);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(St);er&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(St,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$p(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$p(Object(tr),!0).forEach(function(rr){_defineProperty$t(St,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(St,Object.getOwnPropertyDescriptors(tr)):ownKeys$p(Object(tr)).forEach(function(rr){Object.defineProperty(St,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return St}function _defineProperty$t(St,er,tr){return(er=_toPropertyKey$t(er))in St?Object.defineProperty(St,er,{value:tr,enumerable:!0,configurable:!0,writable:!0}):St[er]=tr,St}function _toPropertyKey$t(St){var er=_toPrimitive$t(St,"string");return typeof er=="symbol"?er:er+""}function _toPrimitive$t(St,er){if(typeof St!="object"||!St)return St;var tr=St[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(St,er);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(St)}var getDashCase=St=>St.replace(/([A-Z])/g,er=>"-".concat(er.toLowerCase())),getTransitionVal=(St,er,tr)=>St.map(rr=>"".concat(getDashCase(rr)," ").concat(er,"ms ").concat(tr)).join(","),getIntersectionKeys=(St,er)=>[Object.keys(St),Object.keys(er)].reduce((tr,rr)=>tr.filter(nr=>rr.includes(nr))),mapObject=(St,er)=>Object.keys(er).reduce((tr,rr)=>_objectSpread$p(_objectSpread$p({},tr),{},{[rr]:St(rr,er[rr])}),{});function ownKeys$o(St,er){var tr=Object.keys(St);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(St);er&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(St,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$o(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$o(Object(tr),!0).forEach(function(rr){_defineProperty$s(St,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(St,Object.getOwnPropertyDescriptors(tr)):ownKeys$o(Object(tr)).forEach(function(rr){Object.defineProperty(St,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return St}function _defineProperty$s(St,er,tr){return(er=_toPropertyKey$s(er))in St?Object.defineProperty(St,er,{value:tr,enumerable:!0,configurable:!0,writable:!0}):St[er]=tr,St}function _toPropertyKey$s(St){var er=_toPrimitive$s(St,"string");return typeof er=="symbol"?er:er+""}function _toPrimitive$s(St,er){if(typeof St!="object"||!St)return St;var tr=St[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(St,er);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(St)}var alpha=(St,er,tr)=>St+(er-St)*tr,needContinue=St=>{var{from:er,to:tr}=St;return er!==tr},calStepperVals=(St,er,tr)=>{var rr=mapObject((nr,ar)=>{if(needContinue(ar)){var[sr,ir]=St(ar.from,ar.to,ar.velocity);return _objectSpread$o(_objectSpread$o({},ar),{},{from:sr,velocity:ir})}return ar},er);return tr<1?mapObject((nr,ar)=>needContinue(ar)?_objectSpread$o(_objectSpread$o({},ar),{},{velocity:alpha(ar.velocity,rr[nr].velocity,tr),from:alpha(ar.from,rr[nr].from,tr)}):ar,er):calStepperVals(St,rr,tr-1)};function createStepperUpdate(St,er,tr,rr,nr,ar){var sr,ir=rr.reduce((dr,fr)=>_objectSpread$o(_objectSpread$o({},dr),{},{[fr]:{from:St[fr],velocity:0,to:er[fr]}}),{}),or=()=>mapObject((dr,fr)=>fr.from,ir),lr=()=>!Object.values(ir).filter(needContinue).length,cr=null,ur=dr=>{sr||(sr=dr);var fr=dr-sr,mr=fr/tr.dt;ir=calStepperVals(tr,ir,mr),nr(_objectSpread$o(_objectSpread$o(_objectSpread$o({},St),er),or())),sr=dr,lr()||(cr=ar.setTimeout(ur))};return()=>(cr=ar.setTimeout(ur),()=>{cr()})}function createTimingUpdate(St,er,tr,rr,nr,ar,sr){var ir=null,or=nr.reduce((ur,dr)=>_objectSpread$o(_objectSpread$o({},ur),{},{[dr]:[St[dr],er[dr]]}),{}),lr,cr=ur=>{lr||(lr=ur);var dr=(ur-lr)/rr,fr=mapObject((xr,pr)=>alpha(...pr,tr(dr)),or);if(ar(_objectSpread$o(_objectSpread$o(_objectSpread$o({},St),er),fr)),dr<1)ir=sr.setTimeout(cr);else{var mr=mapObject((xr,pr)=>alpha(...pr,tr(1)),or);ar(_objectSpread$o(_objectSpread$o(_objectSpread$o({},St),er),mr))}};return()=>(ir=sr.setTimeout(cr),()=>{ir()})}const configUpdate=(St,er,tr,rr,nr,ar)=>{var sr=getIntersectionKeys(St,er);return tr.isStepper===!0?createStepperUpdate(St,er,tr,sr,nr,ar):createTimingUpdate(St,er,tr,rr,sr,nr,ar)};class RequestAnimationFrameTimeoutController{setTimeout(er){var tr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,rr=performance.now(),nr=null,ar=sr=>{sr-rr>=tr?er(sr):typeof requestAnimationFrame=="function"&&(nr=requestAnimationFrame(ar))};return nr=requestAnimationFrame(ar),()=>{cancelAnimationFrame(nr)}}}var _excluded$h=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function _extends$j(){return _extends$j=Object.assign?Object.assign.bind():function(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(St[rr]=tr[rr])}return St},_extends$j.apply(null,arguments)}function _objectWithoutProperties$h(St,er){if(St==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$h(St,er);if(Object.getOwnPropertySymbols){var ar=Object.getOwnPropertySymbols(St);for(rr=0;rr<ar.length;rr++)tr=ar[rr],er.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(St,tr)&&(nr[tr]=St[tr])}return nr}function _objectWithoutPropertiesLoose$h(St,er){if(St==null)return{};var tr={};for(var rr in St)if({}.hasOwnProperty.call(St,rr)){if(er.indexOf(rr)!==-1)continue;tr[rr]=St[rr]}return tr}function ownKeys$n(St,er){var tr=Object.keys(St);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(St);er&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(St,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$n(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$n(Object(tr),!0).forEach(function(rr){_defineProperty$r(St,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(St,Object.getOwnPropertyDescriptors(tr)):ownKeys$n(Object(tr)).forEach(function(rr){Object.defineProperty(St,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return St}function _defineProperty$r(St,er,tr){return(er=_toPropertyKey$r(er))in St?Object.defineProperty(St,er,{value:tr,enumerable:!0,configurable:!0,writable:!0}):St[er]=tr,St}function _toPropertyKey$r(St){var er=_toPrimitive$r(St,"string");return typeof er=="symbol"?er:er+""}function _toPrimitive$r(St,er){if(typeof St!="object"||!St)return St;var tr=St[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(St,er);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(St)}function createDefaultAnimationManager(){return createAnimateManager(new RequestAnimationFrameTimeoutController)}class AnimateImpl extends reactExports.PureComponent{constructor(er,tr){super(er,tr),_defineProperty$r(this,"mounted",!1),_defineProperty$r(this,"manager",null),_defineProperty$r(this,"stopJSAnimation",null),_defineProperty$r(this,"unSubscribe",null);var{isActive:rr,attributeName:nr,from:ar,to:sr,children:ir,duration:or,animationManager:lr}=this.props;if(this.manager=lr,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!rr||or<=0){this.state={style:{}},typeof ir=="function"&&(this.state={style:sr});return}if(ar){if(typeof ir=="function"){this.state={style:ar};return}this.state={style:nr?{[nr]:ar}:ar}}else this.state={style:{}}}componentDidMount(){var{isActive:er,canBegin:tr}=this.props;this.mounted=!0,!(!er||!tr)&&this.runAnimation(this.props)}componentDidUpdate(er){var{isActive:tr,canBegin:rr,attributeName:nr,shouldReAnimate:ar,to:sr,from:ir}=this.props,{style:or}=this.state;if(rr){if(!tr){var lr={style:nr?{[nr]:sr}:sr};this.state&&or&&(nr&&or[nr]!==sr||!nr&&or!==sr)&&this.setState(lr);return}if(!(isEqual$1(er.to,sr)&&er.canBegin&&er.isActive)){var cr=!er.canBegin||!er.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var ur=cr||ar?ir:er.to;if(this.state&&or){var dr={style:nr?{[nr]:ur}:ur};(nr&&or[nr]!==ur||!nr&&or!==ur)&&this.setState(dr)}this.runAnimation(_objectSpread$n(_objectSpread$n({},this.props),{},{from:ur,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:er}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),er&&er()}handleStyleChange(er){this.changeStyle(er)}changeStyle(er){this.mounted&&this.setState({style:er})}runJSAnimation(er){var{from:tr,to:rr,duration:nr,easing:ar,begin:sr,onAnimationEnd:ir,onAnimationStart:or}=er,lr=configUpdate(tr,rr,configEasing(ar),nr,this.changeStyle,this.manager.getTimeoutController()),cr=()=>{this.stopJSAnimation=lr()};this.manager.start([or,sr,cr,nr,ir])}runAnimation(er){var{begin:tr,duration:rr,attributeName:nr,to:ar,easing:sr,onAnimationStart:ir,onAnimationEnd:or,children:lr}=er;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof sr=="function"||typeof lr=="function"||sr==="spring"){this.runJSAnimation(er);return}var cr=nr?{[nr]:ar}:ar,ur=getTransitionVal(Object.keys(cr),rr,sr);this.manager.start([ir,tr,_objectSpread$n(_objectSpread$n({},cr),{},{transition:ur}),rr,or])}render(){var er=this.props,{children:tr,begin:rr,duration:nr,attributeName:ar,easing:sr,isActive:ir,from:or,to:lr,canBegin:cr,onAnimationEnd:ur,shouldReAnimate:dr,onAnimationReStart:fr,animationManager:mr}=er,xr=_objectWithoutProperties$h(er,_excluded$h),pr=reactExports.Children.count(tr),hr=this.state.style;if(typeof tr=="function")return tr(hr);if(!ir||pr===0||nr<=0)return tr;var gr=vr=>{var{style:br={},className:yr}=vr.props,Er=reactExports.cloneElement(vr,_objectSpread$n(_objectSpread$n({},xr),{},{style:_objectSpread$n(_objectSpread$n({},br),hr),className:yr}));return Er};return pr===1?gr(reactExports.Children.only(tr)):reactExports.createElement("div",null,reactExports.Children.map(tr,vr=>gr(vr)))}}_defineProperty$r(AnimateImpl,"displayName","Animate");_defineProperty$r(AnimateImpl,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var AnimationManagerContext=reactExports.createContext(null);function Animate(St){var er,tr,rr=reactExports.useContext(AnimationManagerContext);return reactExports.createElement(AnimateImpl,_extends$j({},St,{animationManager:(er=(tr=St.animationManager)!==null&&tr!==void 0?tr:rr)!==null&&er!==void 0?er:createDefaultAnimationManager()}))}function _extends$i(){return _extends$i=Object.assign?Object.assign.bind():function(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(St[rr]=tr[rr])}return St},_extends$i.apply(null,arguments)}var getRectanglePath=(St,er,tr,rr,nr)=>{var ar=Math.min(Math.abs(tr)/2,Math.abs(rr)/2),sr=rr>=0?1:-1,ir=tr>=0?1:-1,or=rr>=0&&tr>=0||rr<0&&tr<0?1:0,lr;if(ar>0&&nr instanceof Array){for(var cr=[0,0,0,0],ur=0,dr=4;ur<dr;ur++)cr[ur]=nr[ur]>ar?ar:nr[ur];lr="M".concat(St,",").concat(er+sr*cr[0]),cr[0]>0&&(lr+="A ".concat(cr[0],",").concat(cr[0],",0,0,").concat(or,",").concat(St+ir*cr[0],",").concat(er)),lr+="L ".concat(St+tr-ir*cr[1],",").concat(er),cr[1]>0&&(lr+="A ".concat(cr[1],",").concat(cr[1],",0,0,").concat(or,`,
        `).concat(St+tr,",").concat(er+sr*cr[1])),lr+="L ".concat(St+tr,",").concat(er+rr-sr*cr[2]),cr[2]>0&&(lr+="A ".concat(cr[2],",").concat(cr[2],",0,0,").concat(or,`,
        `).concat(St+tr-ir*cr[2],",").concat(er+rr)),lr+="L ".concat(St+ir*cr[3],",").concat(er+rr),cr[3]>0&&(lr+="A ".concat(cr[3],",").concat(cr[3],",0,0,").concat(or,`,
        `).concat(St,",").concat(er+rr-sr*cr[3])),lr+="Z"}else if(ar>0&&nr===+nr&&nr>0){var fr=Math.min(ar,nr);lr="M ".concat(St,",").concat(er+sr*fr,`
            A `).concat(fr,",").concat(fr,",0,0,").concat(or,",").concat(St+ir*fr,",").concat(er,`
            L `).concat(St+tr-ir*fr,",").concat(er,`
            A `).concat(fr,",").concat(fr,",0,0,").concat(or,",").concat(St+tr,",").concat(er+sr*fr,`
            L `).concat(St+tr,",").concat(er+rr-sr*fr,`
            A `).concat(fr,",").concat(fr,",0,0,").concat(or,",").concat(St+tr-ir*fr,",").concat(er+rr,`
            L `).concat(St+ir*fr,",").concat(er+rr,`
            A `).concat(fr,",").concat(fr,",0,0,").concat(or,",").concat(St,",").concat(er+rr-sr*fr," Z")}else lr="M ".concat(St,",").concat(er," h ").concat(tr," v ").concat(rr," h ").concat(-tr," Z");return lr},defaultProps$5={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Rectangle=St=>{var er=resolveDefaultProps(St,defaultProps$5),tr=reactExports.useRef(null),[rr,nr]=reactExports.useState(-1);reactExports.useEffect(()=>{if(tr.current&&tr.current.getTotalLength)try{var hr=tr.current.getTotalLength();hr&&nr(hr)}catch{}},[]);var{x:ar,y:sr,width:ir,height:or,radius:lr,className:cr}=er,{animationEasing:ur,animationDuration:dr,animationBegin:fr,isAnimationActive:mr,isUpdateAnimationActive:xr}=er;if(ar!==+ar||sr!==+sr||ir!==+ir||or!==+or||ir===0||or===0)return null;var pr=clsx("recharts-rectangle",cr);return xr?reactExports.createElement(Animate,{canBegin:rr>0,from:{width:ir,height:or,x:ar,y:sr},to:{width:ir,height:or,x:ar,y:sr},duration:dr,animationEasing:ur,isActive:xr},hr=>{var{width:gr,height:vr,x:br,y:yr}=hr;return reactExports.createElement(Animate,{canBegin:rr>0,from:"0px ".concat(rr===-1?1:rr,"px"),to:"".concat(rr,"px 0px"),attributeName:"strokeDasharray",begin:fr,duration:dr,isActive:mr,easing:ur},reactExports.createElement("path",_extends$i({},filterProps(er,!0),{className:pr,d:getRectanglePath(br,yr,gr,vr,lr),ref:tr})))}):reactExports.createElement("path",_extends$i({},filterProps(er,!0),{className:pr,d:getRectanglePath(ar,sr,ir,or,lr)}))};function getRadialCursorPoints(St){var{cx:er,cy:tr,radius:rr,startAngle:nr,endAngle:ar}=St,sr=polarToCartesian(er,tr,rr,nr),ir=polarToCartesian(er,tr,rr,ar);return{points:[sr,ir],cx:er,cy:tr,radius:rr,startAngle:nr,endAngle:ar}}function _extends$h(){return _extends$h=Object.assign?Object.assign.bind():function(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(St[rr]=tr[rr])}return St},_extends$h.apply(null,arguments)}var getDeltaAngle$1=(St,er)=>{var tr=mathSign(er-St),rr=Math.min(Math.abs(er-St),359.999);return tr*rr},getTangentCircle=St=>{var{cx:er,cy:tr,radius:rr,angle:nr,sign:ar,isExternal:sr,cornerRadius:ir,cornerIsExternal:or}=St,lr=ir*(sr?1:-1)+rr,cr=Math.asin(ir/lr)/RADIAN,ur=or?nr:nr+ar*cr,dr=polarToCartesian(er,tr,lr,ur),fr=polarToCartesian(er,tr,rr,ur),mr=or?nr-ar*cr:nr,xr=polarToCartesian(er,tr,lr*Math.cos(cr*RADIAN),mr);return{center:dr,circleTangency:fr,lineTangency:xr,theta:cr}},getSectorPath=St=>{var{cx:er,cy:tr,innerRadius:rr,outerRadius:nr,startAngle:ar,endAngle:sr}=St,ir=getDeltaAngle$1(ar,sr),or=ar+ir,lr=polarToCartesian(er,tr,nr,ar),cr=polarToCartesian(er,tr,nr,or),ur="M ".concat(lr.x,",").concat(lr.y,`
    A `).concat(nr,",").concat(nr,`,0,
    `).concat(+(Math.abs(ir)>180),",").concat(+(ar>or),`,
    `).concat(cr.x,",").concat(cr.y,`
  `);if(rr>0){var dr=polarToCartesian(er,tr,rr,ar),fr=polarToCartesian(er,tr,rr,or);ur+="L ".concat(fr.x,",").concat(fr.y,`
            A `).concat(rr,",").concat(rr,`,0,
            `).concat(+(Math.abs(ir)>180),",").concat(+(ar<=or),`,
            `).concat(dr.x,",").concat(dr.y," Z")}else ur+="L ".concat(er,",").concat(tr," Z");return ur},getSectorWithCorner=St=>{var{cx:er,cy:tr,innerRadius:rr,outerRadius:nr,cornerRadius:ar,forceCornerRadius:sr,cornerIsExternal:ir,startAngle:or,endAngle:lr}=St,cr=mathSign(lr-or),{circleTangency:ur,lineTangency:dr,theta:fr}=getTangentCircle({cx:er,cy:tr,radius:nr,angle:or,sign:cr,cornerRadius:ar,cornerIsExternal:ir}),{circleTangency:mr,lineTangency:xr,theta:pr}=getTangentCircle({cx:er,cy:tr,radius:nr,angle:lr,sign:-cr,cornerRadius:ar,cornerIsExternal:ir}),hr=ir?Math.abs(or-lr):Math.abs(or-lr)-fr-pr;if(hr<0)return sr?"M ".concat(dr.x,",").concat(dr.y,`
        a`).concat(ar,",").concat(ar,",0,0,1,").concat(ar*2,`,0
        a`).concat(ar,",").concat(ar,",0,0,1,").concat(-ar*2,`,0
      `):getSectorPath({cx:er,cy:tr,innerRadius:rr,outerRadius:nr,startAngle:or,endAngle:lr});var gr="M ".concat(dr.x,",").concat(dr.y,`
    A`).concat(ar,",").concat(ar,",0,0,").concat(+(cr<0),",").concat(ur.x,",").concat(ur.y,`
    A`).concat(nr,",").concat(nr,",0,").concat(+(hr>180),",").concat(+(cr<0),",").concat(mr.x,",").concat(mr.y,`
    A`).concat(ar,",").concat(ar,",0,0,").concat(+(cr<0),",").concat(xr.x,",").concat(xr.y,`
  `);if(rr>0){var{circleTangency:vr,lineTangency:br,theta:yr}=getTangentCircle({cx:er,cy:tr,radius:rr,angle:or,sign:cr,isExternal:!0,cornerRadius:ar,cornerIsExternal:ir}),{circleTangency:Er,lineTangency:jr,theta:_r}=getTangentCircle({cx:er,cy:tr,radius:rr,angle:lr,sign:-cr,isExternal:!0,cornerRadius:ar,cornerIsExternal:ir}),Cr=ir?Math.abs(or-lr):Math.abs(or-lr)-yr-_r;if(Cr<0&&ar===0)return"".concat(gr,"L").concat(er,",").concat(tr,"Z");gr+="L".concat(jr.x,",").concat(jr.y,`
      A`).concat(ar,",").concat(ar,",0,0,").concat(+(cr<0),",").concat(Er.x,",").concat(Er.y,`
      A`).concat(rr,",").concat(rr,",0,").concat(+(Cr>180),",").concat(+(cr>0),",").concat(vr.x,",").concat(vr.y,`
      A`).concat(ar,",").concat(ar,",0,0,").concat(+(cr<0),",").concat(br.x,",").concat(br.y,"Z")}else gr+="L".concat(er,",").concat(tr,"Z");return gr},defaultProps$4={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Sector=St=>{var er=resolveDefaultProps(St,defaultProps$4),{cx:tr,cy:rr,innerRadius:nr,outerRadius:ar,cornerRadius:sr,forceCornerRadius:ir,cornerIsExternal:or,startAngle:lr,endAngle:cr,className:ur}=er;if(ar<nr||lr===cr)return null;var dr=clsx("recharts-sector",ur),fr=ar-nr,mr=getPercentValue(sr,fr,0,!0),xr;return mr>0&&Math.abs(lr-cr)<360?xr=getSectorWithCorner({cx:tr,cy:rr,innerRadius:nr,outerRadius:ar,cornerRadius:Math.min(mr,fr/2),forceCornerRadius:ir,cornerIsExternal:or,startAngle:lr,endAngle:cr}):xr=getSectorPath({cx:tr,cy:rr,innerRadius:nr,outerRadius:ar,startAngle:lr,endAngle:cr}),reactExports.createElement("path",_extends$h({},filterProps(er,!0),{className:dr,d:xr}))};function getCursorPoints(St,er,tr){var rr,nr,ar,sr;if(St==="horizontal")rr=er.x,ar=rr,nr=tr.top,sr=tr.top+tr.height;else if(St==="vertical")nr=er.y,sr=nr,rr=tr.left,ar=tr.left+tr.width;else if(er.cx!=null&&er.cy!=null)if(St==="centric"){var{cx:ir,cy:or,innerRadius:lr,outerRadius:cr,angle:ur}=er,dr=polarToCartesian(ir,or,lr,ur),fr=polarToCartesian(ir,or,cr,ur);rr=dr.x,nr=dr.y,ar=fr.x,sr=fr.y}else return getRadialCursorPoints(er);return[{x:rr,y:nr},{x:ar,y:sr}]}var range$4={},toFinite={},toNumber={};(function(St){Object.defineProperty(St,Symbol.toStringTag,{value:"Module"});const er=isSymbol;function tr(rr){return er.isSymbol(rr)?NaN:Number(rr)}St.toNumber=tr})(toNumber);(function(St){Object.defineProperty(St,Symbol.toStringTag,{value:"Module"});const er=toNumber;function tr(rr){return rr?(rr=er.toNumber(rr),rr===1/0||rr===-1/0?(rr<0?-1:1)*Number.MAX_VALUE:rr===rr?rr:0):rr===0?rr:0}St.toFinite=tr})(toFinite);(function(St){Object.defineProperty(St,Symbol.toStringTag,{value:"Module"});const er=isIterateeCall,tr=toFinite;function rr(nr,ar,sr){sr&&typeof sr!="number"&&er.isIterateeCall(nr,ar,sr)&&(ar=sr=void 0),nr=tr.toFinite(nr),ar===void 0?(ar=nr,nr=0):ar=tr.toFinite(ar),sr=sr===void 0?nr<ar?1:-1:tr.toFinite(sr);const ir=Math.max(Math.ceil((ar-nr)/(sr||1)),0),or=new Array(ir);for(let lr=0;lr<ir;lr++)or[lr]=nr,nr+=sr;return or}St.range=rr})(range$4);var range$2=range$4.range;const range$3=getDefaultExportFromCjs(range$2);function ascending(St,er){return St==null||er==null?NaN:St<er?-1:St>er?1:St>=er?0:NaN}function descending(St,er){return St==null||er==null?NaN:er<St?-1:er>St?1:er>=St?0:NaN}function bisector(St){let er,tr,rr;St.length!==2?(er=ascending,tr=(ir,or)=>ascending(St(ir),or),rr=(ir,or)=>St(ir)-or):(er=St===ascending||St===descending?St:zero$1,tr=St,rr=St);function nr(ir,or,lr=0,cr=ir.length){if(lr<cr){if(er(or,or)!==0)return cr;do{const ur=lr+cr>>>1;tr(ir[ur],or)<0?lr=ur+1:cr=ur}while(lr<cr)}return lr}function ar(ir,or,lr=0,cr=ir.length){if(lr<cr){if(er(or,or)!==0)return cr;do{const ur=lr+cr>>>1;tr(ir[ur],or)<=0?lr=ur+1:cr=ur}while(lr<cr)}return lr}function sr(ir,or,lr=0,cr=ir.length){const ur=nr(ir,or,lr,cr-1);return ur>lr&&rr(ir[ur-1],or)>-rr(ir[ur],or)?ur-1:ur}return{left:nr,center:sr,right:ar}}function zero$1(){return 0}function number$2(St){return St===null?NaN:+St}function*numbers(St,er){for(let tr of St)tr!=null&&(tr=+tr)>=tr&&(yield tr)}const ascendingBisect=bisector(ascending),bisectRight=ascendingBisect.right;bisector(number$2).center;class InternMap extends Map{constructor(er,tr=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:tr}}),er!=null)for(const[rr,nr]of er)this.set(rr,nr)}get(er){return super.get(intern_get(this,er))}has(er){return super.has(intern_get(this,er))}set(er,tr){return super.set(intern_set(this,er),tr)}delete(er){return super.delete(intern_delete(this,er))}}function intern_get({_intern:St,_key:er},tr){const rr=er(tr);return St.has(rr)?St.get(rr):tr}function intern_set({_intern:St,_key:er},tr){const rr=er(tr);return St.has(rr)?St.get(rr):(St.set(rr,tr),tr)}function intern_delete({_intern:St,_key:er},tr){const rr=er(tr);return St.has(rr)&&(tr=St.get(rr),St.delete(rr)),tr}function keyof(St){return St!==null&&typeof St=="object"?St.valueOf():St}function compareDefined(St=ascending){if(St===ascending)return ascendingDefined;if(typeof St!="function")throw new TypeError("compare is not a function");return(er,tr)=>{const rr=St(er,tr);return rr||rr===0?rr:(St(tr,tr)===0)-(St(er,er)===0)}}function ascendingDefined(St,er){return(St==null||!(St>=St))-(er==null||!(er>=er))||(St<er?-1:St>er?1:0)}const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(St,er,tr){const rr=(er-St)/Math.max(0,tr),nr=Math.floor(Math.log10(rr)),ar=rr/Math.pow(10,nr),sr=ar>=e10?10:ar>=e5?5:ar>=e2?2:1;let ir,or,lr;return nr<0?(lr=Math.pow(10,-nr)/sr,ir=Math.round(St*lr),or=Math.round(er*lr),ir/lr<St&&++ir,or/lr>er&&--or,lr=-lr):(lr=Math.pow(10,nr)*sr,ir=Math.round(St/lr),or=Math.round(er/lr),ir*lr<St&&++ir,or*lr>er&&--or),or<ir&&.5<=tr&&tr<2?tickSpec(St,er,tr*2):[ir,or,lr]}function ticks(St,er,tr){if(er=+er,St=+St,tr=+tr,!(tr>0))return[];if(St===er)return[St];const rr=er<St,[nr,ar,sr]=rr?tickSpec(er,St,tr):tickSpec(St,er,tr);if(!(ar>=nr))return[];const ir=ar-nr+1,or=new Array(ir);if(rr)if(sr<0)for(let lr=0;lr<ir;++lr)or[lr]=(ar-lr)/-sr;else for(let lr=0;lr<ir;++lr)or[lr]=(ar-lr)*sr;else if(sr<0)for(let lr=0;lr<ir;++lr)or[lr]=(nr+lr)/-sr;else for(let lr=0;lr<ir;++lr)or[lr]=(nr+lr)*sr;return or}function tickIncrement(St,er,tr){return er=+er,St=+St,tr=+tr,tickSpec(St,er,tr)[2]}function tickStep(St,er,tr){er=+er,St=+St,tr=+tr;const rr=er<St,nr=rr?tickIncrement(er,St,tr):tickIncrement(St,er,tr);return(rr?-1:1)*(nr<0?1/-nr:nr)}function max$1(St,er){let tr;for(const rr of St)rr!=null&&(tr<rr||tr===void 0&&rr>=rr)&&(tr=rr);return tr}function min(St,er){let tr;for(const rr of St)rr!=null&&(tr>rr||tr===void 0&&rr>=rr)&&(tr=rr);return tr}function quickselect(St,er,tr=0,rr=1/0,nr){if(er=Math.floor(er),tr=Math.floor(Math.max(0,tr)),rr=Math.floor(Math.min(St.length-1,rr)),!(tr<=er&&er<=rr))return St;for(nr=nr===void 0?ascendingDefined:compareDefined(nr);rr>tr;){if(rr-tr>600){const or=rr-tr+1,lr=er-tr+1,cr=Math.log(or),ur=.5*Math.exp(2*cr/3),dr=.5*Math.sqrt(cr*ur*(or-ur)/or)*(lr-or/2<0?-1:1),fr=Math.max(tr,Math.floor(er-lr*ur/or+dr)),mr=Math.min(rr,Math.floor(er+(or-lr)*ur/or+dr));quickselect(St,er,fr,mr,nr)}const ar=St[er];let sr=tr,ir=rr;for(swap(St,tr,er),nr(St[rr],ar)>0&&swap(St,tr,rr);sr<ir;){for(swap(St,sr,ir),++sr,--ir;nr(St[sr],ar)<0;)++sr;for(;nr(St[ir],ar)>0;)--ir}nr(St[tr],ar)===0?swap(St,tr,ir):(++ir,swap(St,ir,rr)),ir<=er&&(tr=ir+1),er<=ir&&(rr=ir-1)}return St}function swap(St,er,tr){const rr=St[er];St[er]=St[tr],St[tr]=rr}function quantile$1(St,er,tr){if(St=Float64Array.from(numbers(St)),!(!(rr=St.length)||isNaN(er=+er))){if(er<=0||rr<2)return min(St);if(er>=1)return max$1(St);var rr,nr=(rr-1)*er,ar=Math.floor(nr),sr=max$1(quickselect(St,ar).subarray(0,ar+1)),ir=min(St.subarray(ar+1));return sr+(ir-sr)*(nr-ar)}}function quantileSorted(St,er,tr=number$2){if(!(!(rr=St.length)||isNaN(er=+er))){if(er<=0||rr<2)return+tr(St[0],0,St);if(er>=1)return+tr(St[rr-1],rr-1,St);var rr,nr=(rr-1)*er,ar=Math.floor(nr),sr=+tr(St[ar],ar,St),ir=+tr(St[ar+1],ar+1,St);return sr+(ir-sr)*(nr-ar)}}function range$1(St,er,tr){St=+St,er=+er,tr=(nr=arguments.length)<2?(er=St,St=0,1):nr<3?1:+tr;for(var rr=-1,nr=Math.max(0,Math.ceil((er-St)/tr))|0,ar=new Array(nr);++rr<nr;)ar[rr]=St+rr*tr;return ar}function initRange(St,er){switch(arguments.length){case 0:break;case 1:this.range(St);break;default:this.range(er).domain(St);break}return this}function initInterpolator(St,er){switch(arguments.length){case 0:break;case 1:{typeof St=="function"?this.interpolator(St):this.range(St);break}default:{this.domain(St),typeof er=="function"?this.interpolator(er):this.range(er);break}}return this}const implicit=Symbol("implicit");function ordinal(){var St=new InternMap,er=[],tr=[],rr=implicit;function nr(ar){let sr=St.get(ar);if(sr===void 0){if(rr!==implicit)return rr;St.set(ar,sr=er.push(ar)-1)}return tr[sr%tr.length]}return nr.domain=function(ar){if(!arguments.length)return er.slice();er=[],St=new InternMap;for(const sr of ar)St.has(sr)||St.set(sr,er.push(sr)-1);return nr},nr.range=function(ar){return arguments.length?(tr=Array.from(ar),nr):tr.slice()},nr.unknown=function(ar){return arguments.length?(rr=ar,nr):rr},nr.copy=function(){return ordinal(er,tr).unknown(rr)},initRange.apply(nr,arguments),nr}function band(){var St=ordinal().unknown(void 0),er=St.domain,tr=St.range,rr=0,nr=1,ar,sr,ir=!1,or=0,lr=0,cr=.5;delete St.unknown;function ur(){var dr=er().length,fr=nr<rr,mr=fr?nr:rr,xr=fr?rr:nr;ar=(xr-mr)/Math.max(1,dr-or+lr*2),ir&&(ar=Math.floor(ar)),mr+=(xr-mr-ar*(dr-or))*cr,sr=ar*(1-or),ir&&(mr=Math.round(mr),sr=Math.round(sr));var pr=range$1(dr).map(function(hr){return mr+ar*hr});return tr(fr?pr.reverse():pr)}return St.domain=function(dr){return arguments.length?(er(dr),ur()):er()},St.range=function(dr){return arguments.length?([rr,nr]=dr,rr=+rr,nr=+nr,ur()):[rr,nr]},St.rangeRound=function(dr){return[rr,nr]=dr,rr=+rr,nr=+nr,ir=!0,ur()},St.bandwidth=function(){return sr},St.step=function(){return ar},St.round=function(dr){return arguments.length?(ir=!!dr,ur()):ir},St.padding=function(dr){return arguments.length?(or=Math.min(1,lr=+dr),ur()):or},St.paddingInner=function(dr){return arguments.length?(or=Math.min(1,dr),ur()):or},St.paddingOuter=function(dr){return arguments.length?(lr=+dr,ur()):lr},St.align=function(dr){return arguments.length?(cr=Math.max(0,Math.min(1,dr)),ur()):cr},St.copy=function(){return band(er(),[rr,nr]).round(ir).paddingInner(or).paddingOuter(lr).align(cr)},initRange.apply(ur(),arguments)}function pointish(St){var er=St.copy;return St.padding=St.paddingOuter,delete St.paddingInner,delete St.paddingOuter,St.copy=function(){return pointish(er())},St}function point(){return pointish(band.apply(null,arguments).paddingInner(1))}function define(St,er,tr){St.prototype=er.prototype=tr,tr.constructor=St}function extend(St,er){var tr=Object.create(St.prototype);for(var rr in er)tr[rr]=er[rr];return tr}function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color,color,{copy(St){return Object.assign(new this.constructor,this,St)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(St){var er,tr;return St=(St+"").trim().toLowerCase(),(er=reHex.exec(St))?(tr=er[1].length,er=parseInt(er[1],16),tr===6?rgbn(er):tr===3?new Rgb(er>>8&15|er>>4&240,er>>4&15|er&240,(er&15)<<4|er&15,1):tr===8?rgba(er>>24&255,er>>16&255,er>>8&255,(er&255)/255):tr===4?rgba(er>>12&15|er>>8&240,er>>8&15|er>>4&240,er>>4&15|er&240,((er&15)<<4|er&15)/255):null):(er=reRgbInteger.exec(St))?new Rgb(er[1],er[2],er[3],1):(er=reRgbPercent.exec(St))?new Rgb(er[1]*255/100,er[2]*255/100,er[3]*255/100,1):(er=reRgbaInteger.exec(St))?rgba(er[1],er[2],er[3],er[4]):(er=reRgbaPercent.exec(St))?rgba(er[1]*255/100,er[2]*255/100,er[3]*255/100,er[4]):(er=reHslPercent.exec(St))?hsla(er[1],er[2]/100,er[3]/100,1):(er=reHslaPercent.exec(St))?hsla(er[1],er[2]/100,er[3]/100,er[4]):named.hasOwnProperty(St)?rgbn(named[St]):St==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(St){return new Rgb(St>>16&255,St>>8&255,St&255,1)}function rgba(St,er,tr,rr){return rr<=0&&(St=er=tr=NaN),new Rgb(St,er,tr,rr)}function rgbConvert(St){return St instanceof Color||(St=color(St)),St?(St=St.rgb(),new Rgb(St.r,St.g,St.b,St.opacity)):new Rgb}function rgb$1(St,er,tr,rr){return arguments.length===1?rgbConvert(St):new Rgb(St,er,tr,rr??1)}function Rgb(St,er,tr,rr){this.r=+St,this.g=+er,this.b=+tr,this.opacity=+rr}define(Rgb,rgb$1,extend(Color,{brighter(St){return St=St==null?brighter:Math.pow(brighter,St),new Rgb(this.r*St,this.g*St,this.b*St,this.opacity)},darker(St){return St=St==null?darker:Math.pow(darker,St),new Rgb(this.r*St,this.g*St,this.b*St,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const St=clampa(this.opacity);return`${St===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${St===1?")":`, ${St})`}`}function clampa(St){return isNaN(St)?1:Math.max(0,Math.min(1,St))}function clampi(St){return Math.max(0,Math.min(255,Math.round(St)||0))}function hex(St){return St=clampi(St),(St<16?"0":"")+St.toString(16)}function hsla(St,er,tr,rr){return rr<=0?St=er=tr=NaN:tr<=0||tr>=1?St=er=NaN:er<=0&&(St=NaN),new Hsl(St,er,tr,rr)}function hslConvert(St){if(St instanceof Hsl)return new Hsl(St.h,St.s,St.l,St.opacity);if(St instanceof Color||(St=color(St)),!St)return new Hsl;if(St instanceof Hsl)return St;St=St.rgb();var er=St.r/255,tr=St.g/255,rr=St.b/255,nr=Math.min(er,tr,rr),ar=Math.max(er,tr,rr),sr=NaN,ir=ar-nr,or=(ar+nr)/2;return ir?(er===ar?sr=(tr-rr)/ir+(tr<rr)*6:tr===ar?sr=(rr-er)/ir+2:sr=(er-tr)/ir+4,ir/=or<.5?ar+nr:2-ar-nr,sr*=60):ir=or>0&&or<1?0:sr,new Hsl(sr,ir,or,St.opacity)}function hsl(St,er,tr,rr){return arguments.length===1?hslConvert(St):new Hsl(St,er,tr,rr??1)}function Hsl(St,er,tr,rr){this.h=+St,this.s=+er,this.l=+tr,this.opacity=+rr}define(Hsl,hsl,extend(Color,{brighter(St){return St=St==null?brighter:Math.pow(brighter,St),new Hsl(this.h,this.s,this.l*St,this.opacity)},darker(St){return St=St==null?darker:Math.pow(darker,St),new Hsl(this.h,this.s,this.l*St,this.opacity)},rgb(){var St=this.h%360+(this.h<0)*360,er=isNaN(St)||isNaN(this.s)?0:this.s,tr=this.l,rr=tr+(tr<.5?tr:1-tr)*er,nr=2*tr-rr;return new Rgb(hsl2rgb(St>=240?St-240:St+120,nr,rr),hsl2rgb(St,nr,rr),hsl2rgb(St<120?St+240:St-120,nr,rr),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const St=clampa(this.opacity);return`${St===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${St===1?")":`, ${St})`}`}}));function clamph(St){return St=(St||0)%360,St<0?St+360:St}function clampt(St){return Math.max(0,Math.min(1,St||0))}function hsl2rgb(St,er,tr){return(St<60?er+(tr-er)*St/60:St<180?tr:St<240?er+(tr-er)*(240-St)/60:er)*255}const constant=St=>()=>St;function linear$1(St,er){return function(tr){return St+tr*er}}function exponential(St,er,tr){return St=Math.pow(St,tr),er=Math.pow(er,tr)-St,tr=1/tr,function(rr){return Math.pow(St+rr*er,tr)}}function gamma(St){return(St=+St)==1?nogamma:function(er,tr){return tr-er?exponential(er,tr,St):constant(isNaN(er)?tr:er)}}function nogamma(St,er){var tr=er-St;return tr?linear$1(St,tr):constant(isNaN(St)?er:St)}const rgb=function St(er){var tr=gamma(er);function rr(nr,ar){var sr=tr((nr=rgb$1(nr)).r,(ar=rgb$1(ar)).r),ir=tr(nr.g,ar.g),or=tr(nr.b,ar.b),lr=nogamma(nr.opacity,ar.opacity);return function(cr){return nr.r=sr(cr),nr.g=ir(cr),nr.b=or(cr),nr.opacity=lr(cr),nr+""}}return rr.gamma=St,rr}(1);function numberArray(St,er){er||(er=[]);var tr=St?Math.min(er.length,St.length):0,rr=er.slice(),nr;return function(ar){for(nr=0;nr<tr;++nr)rr[nr]=St[nr]*(1-ar)+er[nr]*ar;return rr}}function isNumberArray(St){return ArrayBuffer.isView(St)&&!(St instanceof DataView)}function genericArray(St,er){var tr=er?er.length:0,rr=St?Math.min(tr,St.length):0,nr=new Array(rr),ar=new Array(tr),sr;for(sr=0;sr<rr;++sr)nr[sr]=interpolate(St[sr],er[sr]);for(;sr<tr;++sr)ar[sr]=er[sr];return function(ir){for(sr=0;sr<rr;++sr)ar[sr]=nr[sr](ir);return ar}}function date$1(St,er){var tr=new Date;return St=+St,er=+er,function(rr){return tr.setTime(St*(1-rr)+er*rr),tr}}function interpolateNumber(St,er){return St=+St,er=+er,function(tr){return St*(1-tr)+er*tr}}function object(St,er){var tr={},rr={},nr;(St===null||typeof St!="object")&&(St={}),(er===null||typeof er!="object")&&(er={});for(nr in er)nr in St?tr[nr]=interpolate(St[nr],er[nr]):rr[nr]=er[nr];return function(ar){for(nr in tr)rr[nr]=tr[nr](ar);return rr}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(St){return function(){return St}}function one(St){return function(er){return St(er)+""}}function string(St,er){var tr=reA.lastIndex=reB.lastIndex=0,rr,nr,ar,sr=-1,ir=[],or=[];for(St=St+"",er=er+"";(rr=reA.exec(St))&&(nr=reB.exec(er));)(ar=nr.index)>tr&&(ar=er.slice(tr,ar),ir[sr]?ir[sr]+=ar:ir[++sr]=ar),(rr=rr[0])===(nr=nr[0])?ir[sr]?ir[sr]+=nr:ir[++sr]=nr:(ir[++sr]=null,or.push({i:sr,x:interpolateNumber(rr,nr)})),tr=reB.lastIndex;return tr<er.length&&(ar=er.slice(tr),ir[sr]?ir[sr]+=ar:ir[++sr]=ar),ir.length<2?or[0]?one(or[0].x):zero(er):(er=or.length,function(lr){for(var cr=0,ur;cr<er;++cr)ir[(ur=or[cr]).i]=ur.x(lr);return ir.join("")})}function interpolate(St,er){var tr=typeof er,rr;return er==null||tr==="boolean"?constant(er):(tr==="number"?interpolateNumber:tr==="string"?(rr=color(er))?(er=rr,rgb):string:er instanceof color?rgb:er instanceof Date?date$1:isNumberArray(er)?numberArray:Array.isArray(er)?genericArray:typeof er.valueOf!="function"&&typeof er.toString!="function"||isNaN(er)?object:interpolateNumber)(St,er)}function interpolateRound(St,er){return St=+St,er=+er,function(tr){return Math.round(St*(1-tr)+er*tr)}}function piecewise(St,er){er===void 0&&(er=St,St=interpolate);for(var tr=0,rr=er.length-1,nr=er[0],ar=new Array(rr<0?0:rr);tr<rr;)ar[tr]=St(nr,nr=er[++tr]);return function(sr){var ir=Math.max(0,Math.min(rr-1,Math.floor(sr*=rr)));return ar[ir](sr-ir)}}function constants(St){return function(){return St}}function number$1(St){return+St}var unit=[0,1];function identity$3(St){return St}function normalize(St,er){return(er-=St=+St)?function(tr){return(tr-St)/er}:constants(isNaN(er)?NaN:.5)}function clamper(St,er){var tr;return St>er&&(tr=St,St=er,er=tr),function(rr){return Math.max(St,Math.min(er,rr))}}function bimap(St,er,tr){var rr=St[0],nr=St[1],ar=er[0],sr=er[1];return nr<rr?(rr=normalize(nr,rr),ar=tr(sr,ar)):(rr=normalize(rr,nr),ar=tr(ar,sr)),function(ir){return ar(rr(ir))}}function polymap(St,er,tr){var rr=Math.min(St.length,er.length)-1,nr=new Array(rr),ar=new Array(rr),sr=-1;for(St[rr]<St[0]&&(St=St.slice().reverse(),er=er.slice().reverse());++sr<rr;)nr[sr]=normalize(St[sr],St[sr+1]),ar[sr]=tr(er[sr],er[sr+1]);return function(ir){var or=bisectRight(St,ir,1,rr)-1;return ar[or](nr[or](ir))}}function copy$1(St,er){return er.domain(St.domain()).range(St.range()).interpolate(St.interpolate()).clamp(St.clamp()).unknown(St.unknown())}function transformer$2(){var St=unit,er=unit,tr=interpolate,rr,nr,ar,sr=identity$3,ir,or,lr;function cr(){var dr=Math.min(St.length,er.length);return sr!==identity$3&&(sr=clamper(St[0],St[dr-1])),ir=dr>2?polymap:bimap,or=lr=null,ur}function ur(dr){return dr==null||isNaN(dr=+dr)?ar:(or||(or=ir(St.map(rr),er,tr)))(rr(sr(dr)))}return ur.invert=function(dr){return sr(nr((lr||(lr=ir(er,St.map(rr),interpolateNumber)))(dr)))},ur.domain=function(dr){return arguments.length?(St=Array.from(dr,number$1),cr()):St.slice()},ur.range=function(dr){return arguments.length?(er=Array.from(dr),cr()):er.slice()},ur.rangeRound=function(dr){return er=Array.from(dr),tr=interpolateRound,cr()},ur.clamp=function(dr){return arguments.length?(sr=dr?!0:identity$3,cr()):sr!==identity$3},ur.interpolate=function(dr){return arguments.length?(tr=dr,cr()):tr},ur.unknown=function(dr){return arguments.length?(ar=dr,ur):ar},function(dr,fr){return rr=dr,nr=fr,cr()}}function continuous(){return transformer$2()(identity$3,identity$3)}function formatDecimal(St){return Math.abs(St=Math.round(St))>=1e21?St.toLocaleString("en").replace(/,/g,""):St.toString(10)}function formatDecimalParts(St,er){if((tr=(St=er?St.toExponential(er-1):St.toExponential()).indexOf("e"))<0)return null;var tr,rr=St.slice(0,tr);return[rr.length>1?rr[0]+rr.slice(2):rr,+St.slice(tr+1)]}function exponent(St){return St=formatDecimalParts(Math.abs(St)),St?St[1]:NaN}function formatGroup(St,er){return function(tr,rr){for(var nr=tr.length,ar=[],sr=0,ir=St[0],or=0;nr>0&&ir>0&&(or+ir+1>rr&&(ir=Math.max(1,rr-or)),ar.push(tr.substring(nr-=ir,nr+ir)),!((or+=ir+1)>rr));)ir=St[sr=(sr+1)%St.length];return ar.reverse().join(er)}}function formatNumerals(St){return function(er){return er.replace(/[0-9]/g,function(tr){return St[+tr]})}}var re$2=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(St){if(!(er=re$2.exec(St)))throw new Error("invalid format: "+St);var er;return new FormatSpecifier({fill:er[1],align:er[2],sign:er[3],symbol:er[4],zero:er[5],width:er[6],comma:er[7],precision:er[8]&&er[8].slice(1),trim:er[9],type:er[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(St){this.fill=St.fill===void 0?" ":St.fill+"",this.align=St.align===void 0?">":St.align+"",this.sign=St.sign===void 0?"-":St.sign+"",this.symbol=St.symbol===void 0?"":St.symbol+"",this.zero=!!St.zero,this.width=St.width===void 0?void 0:+St.width,this.comma=!!St.comma,this.precision=St.precision===void 0?void 0:+St.precision,this.trim=!!St.trim,this.type=St.type===void 0?"":St.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(St){e:for(var er=St.length,tr=1,rr=-1,nr;tr<er;++tr)switch(St[tr]){case".":rr=nr=tr;break;case"0":rr===0&&(rr=tr),nr=tr;break;default:if(!+St[tr])break e;rr>0&&(rr=0);break}return rr>0?St.slice(0,rr)+St.slice(nr+1):St}var prefixExponent;function formatPrefixAuto(St,er){var tr=formatDecimalParts(St,er);if(!tr)return St+"";var rr=tr[0],nr=tr[1],ar=nr-(prefixExponent=Math.max(-8,Math.min(8,Math.floor(nr/3)))*3)+1,sr=rr.length;return ar===sr?rr:ar>sr?rr+new Array(ar-sr+1).join("0"):ar>0?rr.slice(0,ar)+"."+rr.slice(ar):"0."+new Array(1-ar).join("0")+formatDecimalParts(St,Math.max(0,er+ar-1))[0]}function formatRounded(St,er){var tr=formatDecimalParts(St,er);if(!tr)return St+"";var rr=tr[0],nr=tr[1];return nr<0?"0."+new Array(-nr).join("0")+rr:rr.length>nr+1?rr.slice(0,nr+1)+"."+rr.slice(nr+1):rr+new Array(nr-rr.length+2).join("0")}const formatTypes={"%":(St,er)=>(St*100).toFixed(er),b:St=>Math.round(St).toString(2),c:St=>St+"",d:formatDecimal,e:(St,er)=>St.toExponential(er),f:(St,er)=>St.toFixed(er),g:(St,er)=>St.toPrecision(er),o:St=>Math.round(St).toString(8),p:(St,er)=>formatRounded(St*100,er),r:formatRounded,s:formatPrefixAuto,X:St=>Math.round(St).toString(16).toUpperCase(),x:St=>Math.round(St).toString(16)};function identity$2(St){return St}var map$1=Array.prototype.map,prefixes=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$1(St){var er=St.grouping===void 0||St.thousands===void 0?identity$2:formatGroup(map$1.call(St.grouping,Number),St.thousands+""),tr=St.currency===void 0?"":St.currency[0]+"",rr=St.currency===void 0?"":St.currency[1]+"",nr=St.decimal===void 0?".":St.decimal+"",ar=St.numerals===void 0?identity$2:formatNumerals(map$1.call(St.numerals,String)),sr=St.percent===void 0?"%":St.percent+"",ir=St.minus===void 0?"":St.minus+"",or=St.nan===void 0?"NaN":St.nan+"";function lr(ur){ur=formatSpecifier(ur);var dr=ur.fill,fr=ur.align,mr=ur.sign,xr=ur.symbol,pr=ur.zero,hr=ur.width,gr=ur.comma,vr=ur.precision,br=ur.trim,yr=ur.type;yr==="n"?(gr=!0,yr="g"):formatTypes[yr]||(vr===void 0&&(vr=12),br=!0,yr="g"),(pr||dr==="0"&&fr==="=")&&(pr=!0,dr="0",fr="=");var Er=xr==="$"?tr:xr==="#"&&/[boxX]/.test(yr)?"0"+yr.toLowerCase():"",jr=xr==="$"?rr:/[%p]/.test(yr)?sr:"",_r=formatTypes[yr],Cr=/[defgprs%]/.test(yr);vr=vr===void 0?6:/[gprs]/.test(yr)?Math.max(1,Math.min(21,vr)):Math.max(0,Math.min(20,vr));function Or(Pr){var Lr=Er,Gr=jr,Kr,nn,Qr;if(yr==="c")Gr=_r(Pr)+Gr,Pr="";else{Pr=+Pr;var zr=Pr<0||1/Pr<0;if(Pr=isNaN(Pr)?or:_r(Math.abs(Pr),vr),br&&(Pr=formatTrim(Pr)),zr&&+Pr==0&&mr!=="+"&&(zr=!1),Lr=(zr?mr==="("?mr:ir:mr==="-"||mr==="("?"":mr)+Lr,Gr=(yr==="s"?prefixes[8+prefixExponent/3]:"")+Gr+(zr&&mr==="("?")":""),Cr){for(Kr=-1,nn=Pr.length;++Kr<nn;)if(Qr=Pr.charCodeAt(Kr),48>Qr||Qr>57){Gr=(Qr===46?nr+Pr.slice(Kr+1):Pr.slice(Kr))+Gr,Pr=Pr.slice(0,Kr);break}}}gr&&!pr&&(Pr=er(Pr,1/0));var Vr=Lr.length+Pr.length+Gr.length,Jr=Vr<hr?new Array(hr-Vr+1).join(dr):"";switch(gr&&pr&&(Pr=er(Jr+Pr,Jr.length?hr-Gr.length:1/0),Jr=""),fr){case"<":Pr=Lr+Pr+Gr+Jr;break;case"=":Pr=Lr+Jr+Pr+Gr;break;case"^":Pr=Jr.slice(0,Vr=Jr.length>>1)+Lr+Pr+Gr+Jr.slice(Vr);break;default:Pr=Jr+Lr+Pr+Gr;break}return ar(Pr)}return Or.toString=function(){return ur+""},Or}function cr(ur,dr){var fr=lr((ur=formatSpecifier(ur),ur.type="f",ur)),mr=Math.max(-8,Math.min(8,Math.floor(exponent(dr)/3)))*3,xr=Math.pow(10,-mr),pr=prefixes[8+mr/3];return function(hr){return fr(xr*hr)+pr}}return{format:lr,formatPrefix:cr}}var locale$1,format,formatPrefix;defaultLocale$1({thousands:",",grouping:[3],currency:["$",""]});function defaultLocale$1(St){return locale$1=formatLocale$1(St),format=locale$1.format,formatPrefix=locale$1.formatPrefix,locale$1}function precisionFixed(St){return Math.max(0,-exponent(Math.abs(St)))}function precisionPrefix(St,er){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(exponent(er)/3)))*3-exponent(Math.abs(St)))}function precisionRound(St,er){return St=Math.abs(St),er=Math.abs(er)-St,Math.max(0,exponent(er)-exponent(St))+1}function tickFormat(St,er,tr,rr){var nr=tickStep(St,er,tr),ar;switch(rr=formatSpecifier(rr??",f"),rr.type){case"s":{var sr=Math.max(Math.abs(St),Math.abs(er));return rr.precision==null&&!isNaN(ar=precisionPrefix(nr,sr))&&(rr.precision=ar),formatPrefix(rr,sr)}case"":case"e":case"g":case"p":case"r":{rr.precision==null&&!isNaN(ar=precisionRound(nr,Math.max(Math.abs(St),Math.abs(er))))&&(rr.precision=ar-(rr.type==="e"));break}case"f":case"%":{rr.precision==null&&!isNaN(ar=precisionFixed(nr))&&(rr.precision=ar-(rr.type==="%")*2);break}}return format(rr)}function linearish(St){var er=St.domain;return St.ticks=function(tr){var rr=er();return ticks(rr[0],rr[rr.length-1],tr??10)},St.tickFormat=function(tr,rr){var nr=er();return tickFormat(nr[0],nr[nr.length-1],tr??10,rr)},St.nice=function(tr){tr==null&&(tr=10);var rr=er(),nr=0,ar=rr.length-1,sr=rr[nr],ir=rr[ar],or,lr,cr=10;for(ir<sr&&(lr=sr,sr=ir,ir=lr,lr=nr,nr=ar,ar=lr);cr-- >0;){if(lr=tickIncrement(sr,ir,tr),lr===or)return rr[nr]=sr,rr[ar]=ir,er(rr);if(lr>0)sr=Math.floor(sr/lr)*lr,ir=Math.ceil(ir/lr)*lr;else if(lr<0)sr=Math.ceil(sr*lr)/lr,ir=Math.floor(ir*lr)/lr;else break;or=lr}return St},St}function linear(){var St=continuous();return St.copy=function(){return copy$1(St,linear())},initRange.apply(St,arguments),linearish(St)}function identity$1(St){var er;function tr(rr){return rr==null||isNaN(rr=+rr)?er:rr}return tr.invert=tr,tr.domain=tr.range=function(rr){return arguments.length?(St=Array.from(rr,number$1),tr):St.slice()},tr.unknown=function(rr){return arguments.length?(er=rr,tr):er},tr.copy=function(){return identity$1(St).unknown(er)},St=arguments.length?Array.from(St,number$1):[0,1],linearish(tr)}function nice(St,er){St=St.slice();var tr=0,rr=St.length-1,nr=St[tr],ar=St[rr],sr;return ar<nr&&(sr=tr,tr=rr,rr=sr,sr=nr,nr=ar,ar=sr),St[tr]=er.floor(nr),St[rr]=er.ceil(ar),St}function transformLog(St){return Math.log(St)}function transformExp(St){return Math.exp(St)}function transformLogn(St){return-Math.log(-St)}function transformExpn(St){return-Math.exp(-St)}function pow10(St){return isFinite(St)?+("1e"+St):St<0?0:St}function powp(St){return St===10?pow10:St===Math.E?Math.exp:er=>Math.pow(St,er)}function logp(St){return St===Math.E?Math.log:St===10&&Math.log10||St===2&&Math.log2||(St=Math.log(St),er=>Math.log(er)/St)}function reflect(St){return(er,tr)=>-St(-er,tr)}function loggish(St){const er=St(transformLog,transformExp),tr=er.domain;let rr=10,nr,ar;function sr(){return nr=logp(rr),ar=powp(rr),tr()[0]<0?(nr=reflect(nr),ar=reflect(ar),St(transformLogn,transformExpn)):St(transformLog,transformExp),er}return er.base=function(ir){return arguments.length?(rr=+ir,sr()):rr},er.domain=function(ir){return arguments.length?(tr(ir),sr()):tr()},er.ticks=ir=>{const or=tr();let lr=or[0],cr=or[or.length-1];const ur=cr<lr;ur&&([lr,cr]=[cr,lr]);let dr=nr(lr),fr=nr(cr),mr,xr;const pr=ir==null?10:+ir;let hr=[];if(!(rr%1)&&fr-dr<pr){if(dr=Math.floor(dr),fr=Math.ceil(fr),lr>0){for(;dr<=fr;++dr)for(mr=1;mr<rr;++mr)if(xr=dr<0?mr/ar(-dr):mr*ar(dr),!(xr<lr)){if(xr>cr)break;hr.push(xr)}}else for(;dr<=fr;++dr)for(mr=rr-1;mr>=1;--mr)if(xr=dr>0?mr/ar(-dr):mr*ar(dr),!(xr<lr)){if(xr>cr)break;hr.push(xr)}hr.length*2<pr&&(hr=ticks(lr,cr,pr))}else hr=ticks(dr,fr,Math.min(fr-dr,pr)).map(ar);return ur?hr.reverse():hr},er.tickFormat=(ir,or)=>{if(ir==null&&(ir=10),or==null&&(or=rr===10?"s":","),typeof or!="function"&&(!(rr%1)&&(or=formatSpecifier(or)).precision==null&&(or.trim=!0),or=format(or)),ir===1/0)return or;const lr=Math.max(1,rr*ir/er.ticks().length);return cr=>{let ur=cr/ar(Math.round(nr(cr)));return ur*rr<rr-.5&&(ur*=rr),ur<=lr?or(cr):""}},er.nice=()=>tr(nice(tr(),{floor:ir=>ar(Math.floor(nr(ir))),ceil:ir=>ar(Math.ceil(nr(ir)))})),er}function log(){const St=loggish(transformer$2()).domain([1,10]);return St.copy=()=>copy$1(St,log()).base(St.base()),initRange.apply(St,arguments),St}function transformSymlog(St){return function(er){return Math.sign(er)*Math.log1p(Math.abs(er/St))}}function transformSymexp(St){return function(er){return Math.sign(er)*Math.expm1(Math.abs(er))*St}}function symlogish(St){var er=1,tr=St(transformSymlog(er),transformSymexp(er));return tr.constant=function(rr){return arguments.length?St(transformSymlog(er=+rr),transformSymexp(er)):er},linearish(tr)}function symlog(){var St=symlogish(transformer$2());return St.copy=function(){return copy$1(St,symlog()).constant(St.constant())},initRange.apply(St,arguments)}function transformPow(St){return function(er){return er<0?-Math.pow(-er,St):Math.pow(er,St)}}function transformSqrt(St){return St<0?-Math.sqrt(-St):Math.sqrt(St)}function transformSquare(St){return St<0?-St*St:St*St}function powish(St){var er=St(identity$3,identity$3),tr=1;function rr(){return tr===1?St(identity$3,identity$3):tr===.5?St(transformSqrt,transformSquare):St(transformPow(tr),transformPow(1/tr))}return er.exponent=function(nr){return arguments.length?(tr=+nr,rr()):tr},linearish(er)}function pow(){var St=powish(transformer$2());return St.copy=function(){return copy$1(St,pow()).exponent(St.exponent())},initRange.apply(St,arguments),St}function sqrt(){return pow.apply(null,arguments).exponent(.5)}function square(St){return Math.sign(St)*St*St}function unsquare(St){return Math.sign(St)*Math.sqrt(Math.abs(St))}function radial(){var St=continuous(),er=[0,1],tr=!1,rr;function nr(ar){var sr=unsquare(St(ar));return isNaN(sr)?rr:tr?Math.round(sr):sr}return nr.invert=function(ar){return St.invert(square(ar))},nr.domain=function(ar){return arguments.length?(St.domain(ar),nr):St.domain()},nr.range=function(ar){return arguments.length?(St.range((er=Array.from(ar,number$1)).map(square)),nr):er.slice()},nr.rangeRound=function(ar){return nr.range(ar).round(!0)},nr.round=function(ar){return arguments.length?(tr=!!ar,nr):tr},nr.clamp=function(ar){return arguments.length?(St.clamp(ar),nr):St.clamp()},nr.unknown=function(ar){return arguments.length?(rr=ar,nr):rr},nr.copy=function(){return radial(St.domain(),er).round(tr).clamp(St.clamp()).unknown(rr)},initRange.apply(nr,arguments),linearish(nr)}function quantile(){var St=[],er=[],tr=[],rr;function nr(){var sr=0,ir=Math.max(1,er.length);for(tr=new Array(ir-1);++sr<ir;)tr[sr-1]=quantileSorted(St,sr/ir);return ar}function ar(sr){return sr==null||isNaN(sr=+sr)?rr:er[bisectRight(tr,sr)]}return ar.invertExtent=function(sr){var ir=er.indexOf(sr);return ir<0?[NaN,NaN]:[ir>0?tr[ir-1]:St[0],ir<tr.length?tr[ir]:St[St.length-1]]},ar.domain=function(sr){if(!arguments.length)return St.slice();St=[];for(let ir of sr)ir!=null&&!isNaN(ir=+ir)&&St.push(ir);return St.sort(ascending),nr()},ar.range=function(sr){return arguments.length?(er=Array.from(sr),nr()):er.slice()},ar.unknown=function(sr){return arguments.length?(rr=sr,ar):rr},ar.quantiles=function(){return tr.slice()},ar.copy=function(){return quantile().domain(St).range(er).unknown(rr)},initRange.apply(ar,arguments)}function quantize(){var St=0,er=1,tr=1,rr=[.5],nr=[0,1],ar;function sr(or){return or!=null&&or<=or?nr[bisectRight(rr,or,0,tr)]:ar}function ir(){var or=-1;for(rr=new Array(tr);++or<tr;)rr[or]=((or+1)*er-(or-tr)*St)/(tr+1);return sr}return sr.domain=function(or){return arguments.length?([St,er]=or,St=+St,er=+er,ir()):[St,er]},sr.range=function(or){return arguments.length?(tr=(nr=Array.from(or)).length-1,ir()):nr.slice()},sr.invertExtent=function(or){var lr=nr.indexOf(or);return lr<0?[NaN,NaN]:lr<1?[St,rr[0]]:lr>=tr?[rr[tr-1],er]:[rr[lr-1],rr[lr]]},sr.unknown=function(or){return arguments.length&&(ar=or),sr},sr.thresholds=function(){return rr.slice()},sr.copy=function(){return quantize().domain([St,er]).range(nr).unknown(ar)},initRange.apply(linearish(sr),arguments)}function threshold(){var St=[.5],er=[0,1],tr,rr=1;function nr(ar){return ar!=null&&ar<=ar?er[bisectRight(St,ar,0,rr)]:tr}return nr.domain=function(ar){return arguments.length?(St=Array.from(ar),rr=Math.min(St.length,er.length-1),nr):St.slice()},nr.range=function(ar){return arguments.length?(er=Array.from(ar),rr=Math.min(St.length,er.length-1),nr):er.slice()},nr.invertExtent=function(ar){var sr=er.indexOf(ar);return[St[sr-1],St[sr]]},nr.unknown=function(ar){return arguments.length?(tr=ar,nr):tr},nr.copy=function(){return threshold().domain(St).range(er).unknown(tr)},initRange.apply(nr,arguments)}const t0=new Date,t1=new Date;function timeInterval(St,er,tr,rr){function nr(ar){return St(ar=arguments.length===0?new Date:new Date(+ar)),ar}return nr.floor=ar=>(St(ar=new Date(+ar)),ar),nr.ceil=ar=>(St(ar=new Date(ar-1)),er(ar,1),St(ar),ar),nr.round=ar=>{const sr=nr(ar),ir=nr.ceil(ar);return ar-sr<ir-ar?sr:ir},nr.offset=(ar,sr)=>(er(ar=new Date(+ar),sr==null?1:Math.floor(sr)),ar),nr.range=(ar,sr,ir)=>{const or=[];if(ar=nr.ceil(ar),ir=ir==null?1:Math.floor(ir),!(ar<sr)||!(ir>0))return or;let lr;do or.push(lr=new Date(+ar)),er(ar,ir),St(ar);while(lr<ar&&ar<sr);return or},nr.filter=ar=>timeInterval(sr=>{if(sr>=sr)for(;St(sr),!ar(sr);)sr.setTime(sr-1)},(sr,ir)=>{if(sr>=sr)if(ir<0)for(;++ir<=0;)for(;er(sr,-1),!ar(sr););else for(;--ir>=0;)for(;er(sr,1),!ar(sr););}),tr&&(nr.count=(ar,sr)=>(t0.setTime(+ar),t1.setTime(+sr),St(t0),St(t1),Math.floor(tr(t0,t1))),nr.every=ar=>(ar=Math.floor(ar),!isFinite(ar)||!(ar>0)?null:ar>1?nr.filter(rr?sr=>rr(sr)%ar===0:sr=>nr.count(0,sr)%ar===0):nr)),nr}const millisecond=timeInterval(()=>{},(St,er)=>{St.setTime(+St+er)},(St,er)=>er-St);millisecond.every=St=>(St=Math.floor(St),!isFinite(St)||!(St>0)?null:St>1?timeInterval(er=>{er.setTime(Math.floor(er/St)*St)},(er,tr)=>{er.setTime(+er+tr*St)},(er,tr)=>(tr-er)/St):millisecond);millisecond.range;const durationSecond=1e3,durationMinute=durationSecond*60,durationHour=durationMinute*60,durationDay=durationHour*24,durationWeek=durationDay*7,durationMonth=durationDay*30,durationYear=durationDay*365,second=timeInterval(St=>{St.setTime(St-St.getMilliseconds())},(St,er)=>{St.setTime(+St+er*durationSecond)},(St,er)=>(er-St)/durationSecond,St=>St.getUTCSeconds());second.range;const timeMinute=timeInterval(St=>{St.setTime(St-St.getMilliseconds()-St.getSeconds()*durationSecond)},(St,er)=>{St.setTime(+St+er*durationMinute)},(St,er)=>(er-St)/durationMinute,St=>St.getMinutes());timeMinute.range;const utcMinute=timeInterval(St=>{St.setUTCSeconds(0,0)},(St,er)=>{St.setTime(+St+er*durationMinute)},(St,er)=>(er-St)/durationMinute,St=>St.getUTCMinutes());utcMinute.range;const timeHour=timeInterval(St=>{St.setTime(St-St.getMilliseconds()-St.getSeconds()*durationSecond-St.getMinutes()*durationMinute)},(St,er)=>{St.setTime(+St+er*durationHour)},(St,er)=>(er-St)/durationHour,St=>St.getHours());timeHour.range;const utcHour=timeInterval(St=>{St.setUTCMinutes(0,0,0)},(St,er)=>{St.setTime(+St+er*durationHour)},(St,er)=>(er-St)/durationHour,St=>St.getUTCHours());utcHour.range;const timeDay=timeInterval(St=>St.setHours(0,0,0,0),(St,er)=>St.setDate(St.getDate()+er),(St,er)=>(er-St-(er.getTimezoneOffset()-St.getTimezoneOffset())*durationMinute)/durationDay,St=>St.getDate()-1);timeDay.range;const utcDay=timeInterval(St=>{St.setUTCHours(0,0,0,0)},(St,er)=>{St.setUTCDate(St.getUTCDate()+er)},(St,er)=>(er-St)/durationDay,St=>St.getUTCDate()-1);utcDay.range;const unixDay=timeInterval(St=>{St.setUTCHours(0,0,0,0)},(St,er)=>{St.setUTCDate(St.getUTCDate()+er)},(St,er)=>(er-St)/durationDay,St=>Math.floor(St/durationDay));unixDay.range;function timeWeekday(St){return timeInterval(er=>{er.setDate(er.getDate()-(er.getDay()+7-St)%7),er.setHours(0,0,0,0)},(er,tr)=>{er.setDate(er.getDate()+tr*7)},(er,tr)=>(tr-er-(tr.getTimezoneOffset()-er.getTimezoneOffset())*durationMinute)/durationWeek)}const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6);timeSunday.range;timeMonday.range;timeTuesday.range;timeWednesday.range;timeThursday.range;timeFriday.range;timeSaturday.range;function utcWeekday(St){return timeInterval(er=>{er.setUTCDate(er.getUTCDate()-(er.getUTCDay()+7-St)%7),er.setUTCHours(0,0,0,0)},(er,tr)=>{er.setUTCDate(er.getUTCDate()+tr*7)},(er,tr)=>(tr-er)/durationWeek)}const utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6);utcSunday.range;utcMonday.range;utcTuesday.range;utcWednesday.range;utcThursday.range;utcFriday.range;utcSaturday.range;const timeMonth=timeInterval(St=>{St.setDate(1),St.setHours(0,0,0,0)},(St,er)=>{St.setMonth(St.getMonth()+er)},(St,er)=>er.getMonth()-St.getMonth()+(er.getFullYear()-St.getFullYear())*12,St=>St.getMonth());timeMonth.range;const utcMonth=timeInterval(St=>{St.setUTCDate(1),St.setUTCHours(0,0,0,0)},(St,er)=>{St.setUTCMonth(St.getUTCMonth()+er)},(St,er)=>er.getUTCMonth()-St.getUTCMonth()+(er.getUTCFullYear()-St.getUTCFullYear())*12,St=>St.getUTCMonth());utcMonth.range;const timeYear=timeInterval(St=>{St.setMonth(0,1),St.setHours(0,0,0,0)},(St,er)=>{St.setFullYear(St.getFullYear()+er)},(St,er)=>er.getFullYear()-St.getFullYear(),St=>St.getFullYear());timeYear.every=St=>!isFinite(St=Math.floor(St))||!(St>0)?null:timeInterval(er=>{er.setFullYear(Math.floor(er.getFullYear()/St)*St),er.setMonth(0,1),er.setHours(0,0,0,0)},(er,tr)=>{er.setFullYear(er.getFullYear()+tr*St)});timeYear.range;const utcYear=timeInterval(St=>{St.setUTCMonth(0,1),St.setUTCHours(0,0,0,0)},(St,er)=>{St.setUTCFullYear(St.getUTCFullYear()+er)},(St,er)=>er.getUTCFullYear()-St.getUTCFullYear(),St=>St.getUTCFullYear());utcYear.every=St=>!isFinite(St=Math.floor(St))||!(St>0)?null:timeInterval(er=>{er.setUTCFullYear(Math.floor(er.getUTCFullYear()/St)*St),er.setUTCMonth(0,1),er.setUTCHours(0,0,0,0)},(er,tr)=>{er.setUTCFullYear(er.getUTCFullYear()+tr*St)});utcYear.range;function ticker(St,er,tr,rr,nr,ar){const sr=[[second,1,durationSecond],[second,5,5*durationSecond],[second,15,15*durationSecond],[second,30,30*durationSecond],[ar,1,durationMinute],[ar,5,5*durationMinute],[ar,15,15*durationMinute],[ar,30,30*durationMinute],[nr,1,durationHour],[nr,3,3*durationHour],[nr,6,6*durationHour],[nr,12,12*durationHour],[rr,1,durationDay],[rr,2,2*durationDay],[tr,1,durationWeek],[er,1,durationMonth],[er,3,3*durationMonth],[St,1,durationYear]];function ir(lr,cr,ur){const dr=cr<lr;dr&&([lr,cr]=[cr,lr]);const fr=ur&&typeof ur.range=="function"?ur:or(lr,cr,ur),mr=fr?fr.range(lr,+cr+1):[];return dr?mr.reverse():mr}function or(lr,cr,ur){const dr=Math.abs(cr-lr)/ur,fr=bisector(([,,pr])=>pr).right(sr,dr);if(fr===sr.length)return St.every(tickStep(lr/durationYear,cr/durationYear,ur));if(fr===0)return millisecond.every(Math.max(tickStep(lr,cr,ur),1));const[mr,xr]=sr[dr/sr[fr-1][2]<sr[fr][2]/dr?fr-1:fr];return mr.every(xr)}return[ir,or]}const[utcTicks,utcTickInterval]=ticker(utcYear,utcMonth,utcSunday,unixDay,utcHour,utcMinute),[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute);function localDate(St){if(0<=St.y&&St.y<100){var er=new Date(-1,St.m,St.d,St.H,St.M,St.S,St.L);return er.setFullYear(St.y),er}return new Date(St.y,St.m,St.d,St.H,St.M,St.S,St.L)}function utcDate(St){if(0<=St.y&&St.y<100){var er=new Date(Date.UTC(-1,St.m,St.d,St.H,St.M,St.S,St.L));return er.setUTCFullYear(St.y),er}return new Date(Date.UTC(St.y,St.m,St.d,St.H,St.M,St.S,St.L))}function newDate(St,er,tr){return{y:St,m:er,d:tr,H:0,M:0,S:0,L:0}}function formatLocale(St){var er=St.dateTime,tr=St.date,rr=St.time,nr=St.periods,ar=St.days,sr=St.shortDays,ir=St.months,or=St.shortMonths,lr=formatRe(nr),cr=formatLookup(nr),ur=formatRe(ar),dr=formatLookup(ar),fr=formatRe(sr),mr=formatLookup(sr),xr=formatRe(ir),pr=formatLookup(ir),hr=formatRe(or),gr=formatLookup(or),vr={a:zr,A:Vr,b:Jr,B:tn,c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:Yr,q:Sr,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},br={a:Rr,A:Tr,b:Dr,B:Mr,c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:Br,q:qr,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},yr={a:Or,A:Pr,b:Lr,B:Gr,c:Kr,d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:Cr,q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:nn,X:Qr,y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};vr.x=Er(tr,vr),vr.X=Er(rr,vr),vr.c=Er(er,vr),br.x=Er(tr,br),br.X=Er(rr,br),br.c=Er(er,br);function Er(Wr,sn){return function(un){var Nr=[],Ur=-1,en=0,Zr=Wr.length,Ir,on,vn;for(un instanceof Date||(un=new Date(+un));++Ur<Zr;)Wr.charCodeAt(Ur)===37&&(Nr.push(Wr.slice(en,Ur)),(on=pads[Ir=Wr.charAt(++Ur)])!=null?Ir=Wr.charAt(++Ur):on=Ir==="e"?" ":"0",(vn=sn[Ir])&&(Ir=vn(un,on)),Nr.push(Ir),en=Ur+1);return Nr.push(Wr.slice(en,Ur)),Nr.join("")}}function jr(Wr,sn){return function(un){var Nr=newDate(1900,void 0,1),Ur=_r(Nr,Wr,un+="",0),en,Zr;if(Ur!=un.length)return null;if("Q"in Nr)return new Date(Nr.Q);if("s"in Nr)return new Date(Nr.s*1e3+("L"in Nr?Nr.L:0));if(sn&&!("Z"in Nr)&&(Nr.Z=0),"p"in Nr&&(Nr.H=Nr.H%12+Nr.p*12),Nr.m===void 0&&(Nr.m="q"in Nr?Nr.q:0),"V"in Nr){if(Nr.V<1||Nr.V>53)return null;"w"in Nr||(Nr.w=1),"Z"in Nr?(en=utcDate(newDate(Nr.y,0,1)),Zr=en.getUTCDay(),en=Zr>4||Zr===0?utcMonday.ceil(en):utcMonday(en),en=utcDay.offset(en,(Nr.V-1)*7),Nr.y=en.getUTCFullYear(),Nr.m=en.getUTCMonth(),Nr.d=en.getUTCDate()+(Nr.w+6)%7):(en=localDate(newDate(Nr.y,0,1)),Zr=en.getDay(),en=Zr>4||Zr===0?timeMonday.ceil(en):timeMonday(en),en=timeDay.offset(en,(Nr.V-1)*7),Nr.y=en.getFullYear(),Nr.m=en.getMonth(),Nr.d=en.getDate()+(Nr.w+6)%7)}else("W"in Nr||"U"in Nr)&&("w"in Nr||(Nr.w="u"in Nr?Nr.u%7:"W"in Nr?1:0),Zr="Z"in Nr?utcDate(newDate(Nr.y,0,1)).getUTCDay():localDate(newDate(Nr.y,0,1)).getDay(),Nr.m=0,Nr.d="W"in Nr?(Nr.w+6)%7+Nr.W*7-(Zr+5)%7:Nr.w+Nr.U*7-(Zr+6)%7);return"Z"in Nr?(Nr.H+=Nr.Z/100|0,Nr.M+=Nr.Z%100,utcDate(Nr)):localDate(Nr)}}function _r(Wr,sn,un,Nr){for(var Ur=0,en=sn.length,Zr=un.length,Ir,on;Ur<en;){if(Nr>=Zr)return-1;if(Ir=sn.charCodeAt(Ur++),Ir===37){if(Ir=sn.charAt(Ur++),on=yr[Ir in pads?sn.charAt(Ur++):Ir],!on||(Nr=on(Wr,un,Nr))<0)return-1}else if(Ir!=un.charCodeAt(Nr++))return-1}return Nr}function Cr(Wr,sn,un){var Nr=lr.exec(sn.slice(un));return Nr?(Wr.p=cr.get(Nr[0].toLowerCase()),un+Nr[0].length):-1}function Or(Wr,sn,un){var Nr=fr.exec(sn.slice(un));return Nr?(Wr.w=mr.get(Nr[0].toLowerCase()),un+Nr[0].length):-1}function Pr(Wr,sn,un){var Nr=ur.exec(sn.slice(un));return Nr?(Wr.w=dr.get(Nr[0].toLowerCase()),un+Nr[0].length):-1}function Lr(Wr,sn,un){var Nr=hr.exec(sn.slice(un));return Nr?(Wr.m=gr.get(Nr[0].toLowerCase()),un+Nr[0].length):-1}function Gr(Wr,sn,un){var Nr=xr.exec(sn.slice(un));return Nr?(Wr.m=pr.get(Nr[0].toLowerCase()),un+Nr[0].length):-1}function Kr(Wr,sn,un){return _r(Wr,er,sn,un)}function nn(Wr,sn,un){return _r(Wr,tr,sn,un)}function Qr(Wr,sn,un){return _r(Wr,rr,sn,un)}function zr(Wr){return sr[Wr.getDay()]}function Vr(Wr){return ar[Wr.getDay()]}function Jr(Wr){return or[Wr.getMonth()]}function tn(Wr){return ir[Wr.getMonth()]}function Yr(Wr){return nr[+(Wr.getHours()>=12)]}function Sr(Wr){return 1+~~(Wr.getMonth()/3)}function Rr(Wr){return sr[Wr.getUTCDay()]}function Tr(Wr){return ar[Wr.getUTCDay()]}function Dr(Wr){return or[Wr.getUTCMonth()]}function Mr(Wr){return ir[Wr.getUTCMonth()]}function Br(Wr){return nr[+(Wr.getUTCHours()>=12)]}function qr(Wr){return 1+~~(Wr.getUTCMonth()/3)}return{format:function(Wr){var sn=Er(Wr+="",vr);return sn.toString=function(){return Wr},sn},parse:function(Wr){var sn=jr(Wr+="",!1);return sn.toString=function(){return Wr},sn},utcFormat:function(Wr){var sn=Er(Wr+="",br);return sn.toString=function(){return Wr},sn},utcParse:function(Wr){var sn=jr(Wr+="",!0);return sn.toString=function(){return Wr},sn}}}var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad(St,er,tr){var rr=St<0?"-":"",nr=(rr?-St:St)+"",ar=nr.length;return rr+(ar<tr?new Array(tr-ar+1).join(er)+nr:nr)}function requote(St){return St.replace(requoteRe,"\\$&")}function formatRe(St){return new RegExp("^(?:"+St.map(requote).join("|")+")","i")}function formatLookup(St){return new Map(St.map((er,tr)=>[er.toLowerCase(),tr]))}function parseWeekdayNumberSunday(St,er,tr){var rr=numberRe.exec(er.slice(tr,tr+1));return rr?(St.w=+rr[0],tr+rr[0].length):-1}function parseWeekdayNumberMonday(St,er,tr){var rr=numberRe.exec(er.slice(tr,tr+1));return rr?(St.u=+rr[0],tr+rr[0].length):-1}function parseWeekNumberSunday(St,er,tr){var rr=numberRe.exec(er.slice(tr,tr+2));return rr?(St.U=+rr[0],tr+rr[0].length):-1}function parseWeekNumberISO(St,er,tr){var rr=numberRe.exec(er.slice(tr,tr+2));return rr?(St.V=+rr[0],tr+rr[0].length):-1}function parseWeekNumberMonday(St,er,tr){var rr=numberRe.exec(er.slice(tr,tr+2));return rr?(St.W=+rr[0],tr+rr[0].length):-1}function parseFullYear(St,er,tr){var rr=numberRe.exec(er.slice(tr,tr+4));return rr?(St.y=+rr[0],tr+rr[0].length):-1}function parseYear(St,er,tr){var rr=numberRe.exec(er.slice(tr,tr+2));return rr?(St.y=+rr[0]+(+rr[0]>68?1900:2e3),tr+rr[0].length):-1}function parseZone(St,er,tr){var rr=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(er.slice(tr,tr+6));return rr?(St.Z=rr[1]?0:-(rr[2]+(rr[3]||"00")),tr+rr[0].length):-1}function parseQuarter(St,er,tr){var rr=numberRe.exec(er.slice(tr,tr+1));return rr?(St.q=rr[0]*3-3,tr+rr[0].length):-1}function parseMonthNumber(St,er,tr){var rr=numberRe.exec(er.slice(tr,tr+2));return rr?(St.m=rr[0]-1,tr+rr[0].length):-1}function parseDayOfMonth(St,er,tr){var rr=numberRe.exec(er.slice(tr,tr+2));return rr?(St.d=+rr[0],tr+rr[0].length):-1}function parseDayOfYear(St,er,tr){var rr=numberRe.exec(er.slice(tr,tr+3));return rr?(St.m=0,St.d=+rr[0],tr+rr[0].length):-1}function parseHour24(St,er,tr){var rr=numberRe.exec(er.slice(tr,tr+2));return rr?(St.H=+rr[0],tr+rr[0].length):-1}function parseMinutes(St,er,tr){var rr=numberRe.exec(er.slice(tr,tr+2));return rr?(St.M=+rr[0],tr+rr[0].length):-1}function parseSeconds(St,er,tr){var rr=numberRe.exec(er.slice(tr,tr+2));return rr?(St.S=+rr[0],tr+rr[0].length):-1}function parseMilliseconds(St,er,tr){var rr=numberRe.exec(er.slice(tr,tr+3));return rr?(St.L=+rr[0],tr+rr[0].length):-1}function parseMicroseconds(St,er,tr){var rr=numberRe.exec(er.slice(tr,tr+6));return rr?(St.L=Math.floor(rr[0]/1e3),tr+rr[0].length):-1}function parseLiteralPercent(St,er,tr){var rr=percentRe.exec(er.slice(tr,tr+1));return rr?tr+rr[0].length:-1}function parseUnixTimestamp(St,er,tr){var rr=numberRe.exec(er.slice(tr));return rr?(St.Q=+rr[0],tr+rr[0].length):-1}function parseUnixTimestampSeconds(St,er,tr){var rr=numberRe.exec(er.slice(tr));return rr?(St.s=+rr[0],tr+rr[0].length):-1}function formatDayOfMonth(St,er){return pad(St.getDate(),er,2)}function formatHour24(St,er){return pad(St.getHours(),er,2)}function formatHour12(St,er){return pad(St.getHours()%12||12,er,2)}function formatDayOfYear(St,er){return pad(1+timeDay.count(timeYear(St),St),er,3)}function formatMilliseconds(St,er){return pad(St.getMilliseconds(),er,3)}function formatMicroseconds(St,er){return formatMilliseconds(St,er)+"000"}function formatMonthNumber(St,er){return pad(St.getMonth()+1,er,2)}function formatMinutes(St,er){return pad(St.getMinutes(),er,2)}function formatSeconds(St,er){return pad(St.getSeconds(),er,2)}function formatWeekdayNumberMonday(St){var er=St.getDay();return er===0?7:er}function formatWeekNumberSunday(St,er){return pad(timeSunday.count(timeYear(St)-1,St),er,2)}function dISO(St){var er=St.getDay();return er>=4||er===0?timeThursday(St):timeThursday.ceil(St)}function formatWeekNumberISO(St,er){return St=dISO(St),pad(timeThursday.count(timeYear(St),St)+(timeYear(St).getDay()===4),er,2)}function formatWeekdayNumberSunday(St){return St.getDay()}function formatWeekNumberMonday(St,er){return pad(timeMonday.count(timeYear(St)-1,St),er,2)}function formatYear(St,er){return pad(St.getFullYear()%100,er,2)}function formatYearISO(St,er){return St=dISO(St),pad(St.getFullYear()%100,er,2)}function formatFullYear(St,er){return pad(St.getFullYear()%1e4,er,4)}function formatFullYearISO(St,er){var tr=St.getDay();return St=tr>=4||tr===0?timeThursday(St):timeThursday.ceil(St),pad(St.getFullYear()%1e4,er,4)}function formatZone(St){var er=St.getTimezoneOffset();return(er>0?"-":(er*=-1,"+"))+pad(er/60|0,"0",2)+pad(er%60,"0",2)}function formatUTCDayOfMonth(St,er){return pad(St.getUTCDate(),er,2)}function formatUTCHour24(St,er){return pad(St.getUTCHours(),er,2)}function formatUTCHour12(St,er){return pad(St.getUTCHours()%12||12,er,2)}function formatUTCDayOfYear(St,er){return pad(1+utcDay.count(utcYear(St),St),er,3)}function formatUTCMilliseconds(St,er){return pad(St.getUTCMilliseconds(),er,3)}function formatUTCMicroseconds(St,er){return formatUTCMilliseconds(St,er)+"000"}function formatUTCMonthNumber(St,er){return pad(St.getUTCMonth()+1,er,2)}function formatUTCMinutes(St,er){return pad(St.getUTCMinutes(),er,2)}function formatUTCSeconds(St,er){return pad(St.getUTCSeconds(),er,2)}function formatUTCWeekdayNumberMonday(St){var er=St.getUTCDay();return er===0?7:er}function formatUTCWeekNumberSunday(St,er){return pad(utcSunday.count(utcYear(St)-1,St),er,2)}function UTCdISO(St){var er=St.getUTCDay();return er>=4||er===0?utcThursday(St):utcThursday.ceil(St)}function formatUTCWeekNumberISO(St,er){return St=UTCdISO(St),pad(utcThursday.count(utcYear(St),St)+(utcYear(St).getUTCDay()===4),er,2)}function formatUTCWeekdayNumberSunday(St){return St.getUTCDay()}function formatUTCWeekNumberMonday(St,er){return pad(utcMonday.count(utcYear(St)-1,St),er,2)}function formatUTCYear(St,er){return pad(St.getUTCFullYear()%100,er,2)}function formatUTCYearISO(St,er){return St=UTCdISO(St),pad(St.getUTCFullYear()%100,er,2)}function formatUTCFullYear(St,er){return pad(St.getUTCFullYear()%1e4,er,4)}function formatUTCFullYearISO(St,er){var tr=St.getUTCDay();return St=tr>=4||tr===0?utcThursday(St):utcThursday.ceil(St),pad(St.getUTCFullYear()%1e4,er,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(St){return+St}function formatUnixTimestampSeconds(St){return Math.floor(+St/1e3)}var locale,timeFormat,utcFormat;defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function defaultLocale(St){return locale=formatLocale(St),timeFormat=locale.format,locale.parse,utcFormat=locale.utcFormat,locale.utcParse,locale}function date(St){return new Date(St)}function number(St){return St instanceof Date?+St:+new Date(+St)}function calendar(St,er,tr,rr,nr,ar,sr,ir,or,lr){var cr=continuous(),ur=cr.invert,dr=cr.domain,fr=lr(".%L"),mr=lr(":%S"),xr=lr("%I:%M"),pr=lr("%I %p"),hr=lr("%a %d"),gr=lr("%b %d"),vr=lr("%B"),br=lr("%Y");function yr(Er){return(or(Er)<Er?fr:ir(Er)<Er?mr:sr(Er)<Er?xr:ar(Er)<Er?pr:rr(Er)<Er?nr(Er)<Er?hr:gr:tr(Er)<Er?vr:br)(Er)}return cr.invert=function(Er){return new Date(ur(Er))},cr.domain=function(Er){return arguments.length?dr(Array.from(Er,number)):dr().map(date)},cr.ticks=function(Er){var jr=dr();return St(jr[0],jr[jr.length-1],Er??10)},cr.tickFormat=function(Er,jr){return jr==null?yr:lr(jr)},cr.nice=function(Er){var jr=dr();return(!Er||typeof Er.range!="function")&&(Er=er(jr[0],jr[jr.length-1],Er??10)),Er?dr(nice(jr,Er)):cr},cr.copy=function(){return copy$1(cr,calendar(St,er,tr,rr,nr,ar,sr,ir,or,lr))},cr}function time(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute,second,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function utcTime(){return initRange.apply(calendar(utcTicks,utcTickInterval,utcYear,utcMonth,utcSunday,utcDay,utcHour,utcMinute,second,utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function transformer$1(){var St=0,er=1,tr,rr,nr,ar,sr=identity$3,ir=!1,or;function lr(ur){return ur==null||isNaN(ur=+ur)?or:sr(nr===0?.5:(ur=(ar(ur)-tr)*nr,ir?Math.max(0,Math.min(1,ur)):ur))}lr.domain=function(ur){return arguments.length?([St,er]=ur,tr=ar(St=+St),rr=ar(er=+er),nr=tr===rr?0:1/(rr-tr),lr):[St,er]},lr.clamp=function(ur){return arguments.length?(ir=!!ur,lr):ir},lr.interpolator=function(ur){return arguments.length?(sr=ur,lr):sr};function cr(ur){return function(dr){var fr,mr;return arguments.length?([fr,mr]=dr,sr=ur(fr,mr),lr):[sr(0),sr(1)]}}return lr.range=cr(interpolate),lr.rangeRound=cr(interpolateRound),lr.unknown=function(ur){return arguments.length?(or=ur,lr):or},function(ur){return ar=ur,tr=ur(St),rr=ur(er),nr=tr===rr?0:1/(rr-tr),lr}}function copy(St,er){return er.domain(St.domain()).interpolator(St.interpolator()).clamp(St.clamp()).unknown(St.unknown())}function sequential(){var St=linearish(transformer$1()(identity$3));return St.copy=function(){return copy(St,sequential())},initInterpolator.apply(St,arguments)}function sequentialLog(){var St=loggish(transformer$1()).domain([1,10]);return St.copy=function(){return copy(St,sequentialLog()).base(St.base())},initInterpolator.apply(St,arguments)}function sequentialSymlog(){var St=symlogish(transformer$1());return St.copy=function(){return copy(St,sequentialSymlog()).constant(St.constant())},initInterpolator.apply(St,arguments)}function sequentialPow(){var St=powish(transformer$1());return St.copy=function(){return copy(St,sequentialPow()).exponent(St.exponent())},initInterpolator.apply(St,arguments)}function sequentialSqrt(){return sequentialPow.apply(null,arguments).exponent(.5)}function sequentialQuantile(){var St=[],er=identity$3;function tr(rr){if(rr!=null&&!isNaN(rr=+rr))return er((bisectRight(St,rr,1)-1)/(St.length-1))}return tr.domain=function(rr){if(!arguments.length)return St.slice();St=[];for(let nr of rr)nr!=null&&!isNaN(nr=+nr)&&St.push(nr);return St.sort(ascending),tr},tr.interpolator=function(rr){return arguments.length?(er=rr,tr):er},tr.range=function(){return St.map((rr,nr)=>er(nr/(St.length-1)))},tr.quantiles=function(rr){return Array.from({length:rr+1},(nr,ar)=>quantile$1(St,ar/rr))},tr.copy=function(){return sequentialQuantile(er).domain(St)},initInterpolator.apply(tr,arguments)}function transformer(){var St=0,er=.5,tr=1,rr=1,nr,ar,sr,ir,or,lr=identity$3,cr,ur=!1,dr;function fr(xr){return isNaN(xr=+xr)?dr:(xr=.5+((xr=+cr(xr))-ar)*(rr*xr<rr*ar?ir:or),lr(ur?Math.max(0,Math.min(1,xr)):xr))}fr.domain=function(xr){return arguments.length?([St,er,tr]=xr,nr=cr(St=+St),ar=cr(er=+er),sr=cr(tr=+tr),ir=nr===ar?0:.5/(ar-nr),or=ar===sr?0:.5/(sr-ar),rr=ar<nr?-1:1,fr):[St,er,tr]},fr.clamp=function(xr){return arguments.length?(ur=!!xr,fr):ur},fr.interpolator=function(xr){return arguments.length?(lr=xr,fr):lr};function mr(xr){return function(pr){var hr,gr,vr;return arguments.length?([hr,gr,vr]=pr,lr=piecewise(xr,[hr,gr,vr]),fr):[lr(0),lr(.5),lr(1)]}}return fr.range=mr(interpolate),fr.rangeRound=mr(interpolateRound),fr.unknown=function(xr){return arguments.length?(dr=xr,fr):dr},function(xr){return cr=xr,nr=xr(St),ar=xr(er),sr=xr(tr),ir=nr===ar?0:.5/(ar-nr),or=ar===sr?0:.5/(sr-ar),rr=ar<nr?-1:1,fr}}function diverging(){var St=linearish(transformer()(identity$3));return St.copy=function(){return copy(St,diverging())},initInterpolator.apply(St,arguments)}function divergingLog(){var St=loggish(transformer()).domain([.1,1,10]);return St.copy=function(){return copy(St,divergingLog()).base(St.base())},initInterpolator.apply(St,arguments)}function divergingSymlog(){var St=symlogish(transformer());return St.copy=function(){return copy(St,divergingSymlog()).constant(St.constant())},initInterpolator.apply(St,arguments)}function divergingPow(){var St=powish(transformer());return St.copy=function(){return copy(St,divergingPow()).exponent(St.exponent())},initInterpolator.apply(St,arguments)}function divergingSqrt(){return divergingPow.apply(null,arguments).exponent(.5)}const d3Scales=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:band,scaleDiverging:diverging,scaleDivergingLog:divergingLog,scaleDivergingPow:divergingPow,scaleDivergingSqrt:divergingSqrt,scaleDivergingSymlog:divergingSymlog,scaleIdentity:identity$1,scaleImplicit:implicit,scaleLinear:linear,scaleLog:log,scaleOrdinal:ordinal,scalePoint:point,scalePow:pow,scaleQuantile:quantile,scaleQuantize:quantize,scaleRadial:radial,scaleSequential:sequential,scaleSequentialLog:sequentialLog,scaleSequentialPow:sequentialPow,scaleSequentialQuantile:sequentialQuantile,scaleSequentialSqrt:sequentialSqrt,scaleSequentialSymlog:sequentialSymlog,scaleSqrt:sqrt,scaleSymlog:symlog,scaleThreshold:threshold,scaleTime:time,scaleUtc:utcTime,tickFormat},Symbol.toStringTag,{value:"Module"}));var selectChartDataWithIndexes=St=>St.chartData,selectChartDataAndAlwaysIgnoreIndexes=createSelector([selectChartDataWithIndexes],St=>{var er=St.chartData!=null?St.chartData.length-1:0;return{chartData:St.chartData,computedData:St.computedData,dataEndIndex:er,dataStartIndex:0}}),selectChartDataWithIndexesIfNotInPanorama=(St,er,tr,rr)=>rr?selectChartDataAndAlwaysIgnoreIndexes(St):selectChartDataWithIndexes(St);function isWellFormedNumberDomain(St){if(Array.isArray(St)&&St.length===2){var[er,tr]=St;if(isWellBehavedNumber(er)&&isWellBehavedNumber(tr))return!0}return!1}function extendDomain(St,er,tr){return tr?St:[Math.min(St[0],er[0]),Math.max(St[1],er[1])]}function numericalDomainSpecifiedWithoutRequiringData(St,er){if(er&&typeof St!="function"&&Array.isArray(St)&&St.length===2){var[tr,rr]=St,nr,ar;if(isWellBehavedNumber(tr))nr=tr;else if(typeof tr=="function")return;if(isWellBehavedNumber(rr))ar=rr;else if(typeof rr=="function")return;var sr=[nr,ar];if(isWellFormedNumberDomain(sr))return sr}}function parseNumericalUserDomain(St,er,tr){if(!(!tr&&er==null)){if(typeof St=="function"&&er!=null)try{var rr=St(er,tr);if(isWellFormedNumberDomain(rr))return extendDomain(rr,er,tr)}catch{}if(Array.isArray(St)&&St.length===2){var[nr,ar]=St,sr,ir;if(nr==="auto")er!=null&&(sr=Math.min(...er));else if(isNumber(nr))sr=nr;else if(typeof nr=="function")try{er!=null&&(sr=nr(er==null?void 0:er[0]))}catch{}else if(typeof nr=="string"&&MIN_VALUE_REG.test(nr)){var or=MIN_VALUE_REG.exec(nr);if(or==null||er==null)sr=void 0;else{var lr=+or[1];sr=er[0]-lr}}else sr=er==null?void 0:er[0];if(ar==="auto")er!=null&&(ir=Math.max(...er));else if(isNumber(ar))ir=ar;else if(typeof ar=="function")try{er!=null&&(ir=ar(er==null?void 0:er[1]))}catch{}else if(typeof ar=="string"&&MAX_VALUE_REG.test(ar)){var cr=MAX_VALUE_REG.exec(ar);if(cr==null||er==null)ir=void 0;else{var ur=+cr[1];ir=er[1]+ur}}else ir=er==null?void 0:er[1];var dr=[sr,ir];if(isWellFormedNumberDomain(dr))return er==null?dr:extendDomain(dr,er,tr)}}}var MAX_DIGITS=1e9,defaults={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Decimal,external=!0,decimalError="[DecimalError] ",invalidArgument=decimalError+"Invalid argument: ",exponentOutOfRange=decimalError+"Exponent out of range: ",mathfloor=Math.floor,mathpow=Math.pow,isDecimal=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ONE,BASE=1e7,LOG_BASE=7,MAX_SAFE_INTEGER=9007199254740991,MAX_E=mathfloor(MAX_SAFE_INTEGER/LOG_BASE),P$4={};P$4.absoluteValue=P$4.abs=function(){var St=new this.constructor(this);return St.s&&(St.s=1),St};P$4.comparedTo=P$4.cmp=function(St){var er,tr,rr,nr,ar=this;if(St=new ar.constructor(St),ar.s!==St.s)return ar.s||-St.s;if(ar.e!==St.e)return ar.e>St.e^ar.s<0?1:-1;for(rr=ar.d.length,nr=St.d.length,er=0,tr=rr<nr?rr:nr;er<tr;++er)if(ar.d[er]!==St.d[er])return ar.d[er]>St.d[er]^ar.s<0?1:-1;return rr===nr?0:rr>nr^ar.s<0?1:-1};P$4.decimalPlaces=P$4.dp=function(){var St=this,er=St.d.length-1,tr=(er-St.e)*LOG_BASE;if(er=St.d[er],er)for(;er%10==0;er/=10)tr--;return tr<0?0:tr};P$4.dividedBy=P$4.div=function(St){return divide(this,new this.constructor(St))};P$4.dividedToIntegerBy=P$4.idiv=function(St){var er=this,tr=er.constructor;return round(divide(er,new tr(St),0,1),tr.precision)};P$4.equals=P$4.eq=function(St){return!this.cmp(St)};P$4.exponent=function(){return getBase10Exponent(this)};P$4.greaterThan=P$4.gt=function(St){return this.cmp(St)>0};P$4.greaterThanOrEqualTo=P$4.gte=function(St){return this.cmp(St)>=0};P$4.isInteger=P$4.isint=function(){return this.e>this.d.length-2};P$4.isNegative=P$4.isneg=function(){return this.s<0};P$4.isPositive=P$4.ispos=function(){return this.s>0};P$4.isZero=function(){return this.s===0};P$4.lessThan=P$4.lt=function(St){return this.cmp(St)<0};P$4.lessThanOrEqualTo=P$4.lte=function(St){return this.cmp(St)<1};P$4.logarithm=P$4.log=function(St){var er,tr=this,rr=tr.constructor,nr=rr.precision,ar=nr+5;if(St===void 0)St=new rr(10);else if(St=new rr(St),St.s<1||St.eq(ONE))throw Error(decimalError+"NaN");if(tr.s<1)throw Error(decimalError+(tr.s?"NaN":"-Infinity"));return tr.eq(ONE)?new rr(0):(external=!1,er=divide(ln$1(tr,ar),ln$1(St,ar),ar),external=!0,round(er,nr))};P$4.minus=P$4.sub=function(St){var er=this;return St=new er.constructor(St),er.s==St.s?subtract(er,St):add(er,(St.s=-St.s,St))};P$4.modulo=P$4.mod=function(St){var er,tr=this,rr=tr.constructor,nr=rr.precision;if(St=new rr(St),!St.s)throw Error(decimalError+"NaN");return tr.s?(external=!1,er=divide(tr,St,0,1).times(St),external=!0,tr.minus(er)):round(new rr(tr),nr)};P$4.naturalExponential=P$4.exp=function(){return exp(this)};P$4.naturalLogarithm=P$4.ln=function(){return ln$1(this)};P$4.negated=P$4.neg=function(){var St=new this.constructor(this);return St.s=-St.s||0,St};P$4.plus=P$4.add=function(St){var er=this;return St=new er.constructor(St),er.s==St.s?add(er,St):subtract(er,(St.s=-St.s,St))};P$4.precision=P$4.sd=function(St){var er,tr,rr,nr=this;if(St!==void 0&&St!==!!St&&St!==1&&St!==0)throw Error(invalidArgument+St);if(er=getBase10Exponent(nr)+1,rr=nr.d.length-1,tr=rr*LOG_BASE+1,rr=nr.d[rr],rr){for(;rr%10==0;rr/=10)tr--;for(rr=nr.d[0];rr>=10;rr/=10)tr++}return St&&er>tr?er:tr};P$4.squareRoot=P$4.sqrt=function(){var St,er,tr,rr,nr,ar,sr,ir=this,or=ir.constructor;if(ir.s<1){if(!ir.s)return new or(0);throw Error(decimalError+"NaN")}for(St=getBase10Exponent(ir),external=!1,nr=Math.sqrt(+ir),nr==0||nr==1/0?(er=digitsToString(ir.d),(er.length+St)%2==0&&(er+="0"),nr=Math.sqrt(er),St=mathfloor((St+1)/2)-(St<0||St%2),nr==1/0?er="5e"+St:(er=nr.toExponential(),er=er.slice(0,er.indexOf("e")+1)+St),rr=new or(er)):rr=new or(nr.toString()),tr=or.precision,nr=sr=tr+3;;)if(ar=rr,rr=ar.plus(divide(ir,ar,sr+2)).times(.5),digitsToString(ar.d).slice(0,sr)===(er=digitsToString(rr.d)).slice(0,sr)){if(er=er.slice(sr-3,sr+1),nr==sr&&er=="4999"){if(round(ar,tr+1,0),ar.times(ar).eq(ir)){rr=ar;break}}else if(er!="9999")break;sr+=4}return external=!0,round(rr,tr)};P$4.times=P$4.mul=function(St){var er,tr,rr,nr,ar,sr,ir,or,lr,cr=this,ur=cr.constructor,dr=cr.d,fr=(St=new ur(St)).d;if(!cr.s||!St.s)return new ur(0);for(St.s*=cr.s,tr=cr.e+St.e,or=dr.length,lr=fr.length,or<lr&&(ar=dr,dr=fr,fr=ar,sr=or,or=lr,lr=sr),ar=[],sr=or+lr,rr=sr;rr--;)ar.push(0);for(rr=lr;--rr>=0;){for(er=0,nr=or+rr;nr>rr;)ir=ar[nr]+fr[rr]*dr[nr-rr-1]+er,ar[nr--]=ir%BASE|0,er=ir/BASE|0;ar[nr]=(ar[nr]+er)%BASE|0}for(;!ar[--sr];)ar.pop();return er?++tr:ar.shift(),St.d=ar,St.e=tr,external?round(St,ur.precision):St};P$4.toDecimalPlaces=P$4.todp=function(St,er){var tr=this,rr=tr.constructor;return tr=new rr(tr),St===void 0?tr:(checkInt32(St,0,MAX_DIGITS),er===void 0?er=rr.rounding:checkInt32(er,0,8),round(tr,St+getBase10Exponent(tr)+1,er))};P$4.toExponential=function(St,er){var tr,rr=this,nr=rr.constructor;return St===void 0?tr=toString(rr,!0):(checkInt32(St,0,MAX_DIGITS),er===void 0?er=nr.rounding:checkInt32(er,0,8),rr=round(new nr(rr),St+1,er),tr=toString(rr,!0,St+1)),tr};P$4.toFixed=function(St,er){var tr,rr,nr=this,ar=nr.constructor;return St===void 0?toString(nr):(checkInt32(St,0,MAX_DIGITS),er===void 0?er=ar.rounding:checkInt32(er,0,8),rr=round(new ar(nr),St+getBase10Exponent(nr)+1,er),tr=toString(rr.abs(),!1,St+getBase10Exponent(rr)+1),nr.isneg()&&!nr.isZero()?"-"+tr:tr)};P$4.toInteger=P$4.toint=function(){var St=this,er=St.constructor;return round(new er(St),getBase10Exponent(St)+1,er.rounding)};P$4.toNumber=function(){return+this};P$4.toPower=P$4.pow=function(St){var er,tr,rr,nr,ar,sr,ir=this,or=ir.constructor,lr=12,cr=+(St=new or(St));if(!St.s)return new or(ONE);if(ir=new or(ir),!ir.s){if(St.s<1)throw Error(decimalError+"Infinity");return ir}if(ir.eq(ONE))return ir;if(rr=or.precision,St.eq(ONE))return round(ir,rr);if(er=St.e,tr=St.d.length-1,sr=er>=tr,ar=ir.s,sr){if((tr=cr<0?-cr:cr)<=MAX_SAFE_INTEGER){for(nr=new or(ONE),er=Math.ceil(rr/LOG_BASE+4),external=!1;tr%2&&(nr=nr.times(ir),truncate(nr.d,er)),tr=mathfloor(tr/2),tr!==0;)ir=ir.times(ir),truncate(ir.d,er);return external=!0,St.s<0?new or(ONE).div(nr):round(nr,rr)}}else if(ar<0)throw Error(decimalError+"NaN");return ar=ar<0&&St.d[Math.max(er,tr)]&1?-1:1,ir.s=1,external=!1,nr=St.times(ln$1(ir,rr+lr)),external=!0,nr=exp(nr),nr.s=ar,nr};P$4.toPrecision=function(St,er){var tr,rr,nr=this,ar=nr.constructor;return St===void 0?(tr=getBase10Exponent(nr),rr=toString(nr,tr<=ar.toExpNeg||tr>=ar.toExpPos)):(checkInt32(St,1,MAX_DIGITS),er===void 0?er=ar.rounding:checkInt32(er,0,8),nr=round(new ar(nr),St,er),tr=getBase10Exponent(nr),rr=toString(nr,St<=tr||tr<=ar.toExpNeg,St)),rr};P$4.toSignificantDigits=P$4.tosd=function(St,er){var tr=this,rr=tr.constructor;return St===void 0?(St=rr.precision,er=rr.rounding):(checkInt32(St,1,MAX_DIGITS),er===void 0?er=rr.rounding:checkInt32(er,0,8)),round(new rr(tr),St,er)};P$4.toString=P$4.valueOf=P$4.val=P$4.toJSON=P$4[Symbol.for("nodejs.util.inspect.custom")]=function(){var St=this,er=getBase10Exponent(St),tr=St.constructor;return toString(St,er<=tr.toExpNeg||er>=tr.toExpPos)};function add(St,er){var tr,rr,nr,ar,sr,ir,or,lr,cr=St.constructor,ur=cr.precision;if(!St.s||!er.s)return er.s||(er=new cr(St)),external?round(er,ur):er;if(or=St.d,lr=er.d,sr=St.e,nr=er.e,or=or.slice(),ar=sr-nr,ar){for(ar<0?(rr=or,ar=-ar,ir=lr.length):(rr=lr,nr=sr,ir=or.length),sr=Math.ceil(ur/LOG_BASE),ir=sr>ir?sr+1:ir+1,ar>ir&&(ar=ir,rr.length=1),rr.reverse();ar--;)rr.push(0);rr.reverse()}for(ir=or.length,ar=lr.length,ir-ar<0&&(ar=ir,rr=lr,lr=or,or=rr),tr=0;ar;)tr=(or[--ar]=or[ar]+lr[ar]+tr)/BASE|0,or[ar]%=BASE;for(tr&&(or.unshift(tr),++nr),ir=or.length;or[--ir]==0;)or.pop();return er.d=or,er.e=nr,external?round(er,ur):er}function checkInt32(St,er,tr){if(St!==~~St||St<er||St>tr)throw Error(invalidArgument+St)}function digitsToString(St){var er,tr,rr,nr=St.length-1,ar="",sr=St[0];if(nr>0){for(ar+=sr,er=1;er<nr;er++)rr=St[er]+"",tr=LOG_BASE-rr.length,tr&&(ar+=getZeroString(tr)),ar+=rr;sr=St[er],rr=sr+"",tr=LOG_BASE-rr.length,tr&&(ar+=getZeroString(tr))}else if(sr===0)return"0";for(;sr%10===0;)sr/=10;return ar+sr}var divide=function(){function St(rr,nr){var ar,sr=0,ir=rr.length;for(rr=rr.slice();ir--;)ar=rr[ir]*nr+sr,rr[ir]=ar%BASE|0,sr=ar/BASE|0;return sr&&rr.unshift(sr),rr}function er(rr,nr,ar,sr){var ir,or;if(ar!=sr)or=ar>sr?1:-1;else for(ir=or=0;ir<ar;ir++)if(rr[ir]!=nr[ir]){or=rr[ir]>nr[ir]?1:-1;break}return or}function tr(rr,nr,ar){for(var sr=0;ar--;)rr[ar]-=sr,sr=rr[ar]<nr[ar]?1:0,rr[ar]=sr*BASE+rr[ar]-nr[ar];for(;!rr[0]&&rr.length>1;)rr.shift()}return function(rr,nr,ar,sr){var ir,or,lr,cr,ur,dr,fr,mr,xr,pr,hr,gr,vr,br,yr,Er,jr,_r,Cr=rr.constructor,Or=rr.s==nr.s?1:-1,Pr=rr.d,Lr=nr.d;if(!rr.s)return new Cr(rr);if(!nr.s)throw Error(decimalError+"Division by zero");for(or=rr.e-nr.e,jr=Lr.length,yr=Pr.length,fr=new Cr(Or),mr=fr.d=[],lr=0;Lr[lr]==(Pr[lr]||0);)++lr;if(Lr[lr]>(Pr[lr]||0)&&--or,ar==null?gr=ar=Cr.precision:sr?gr=ar+(getBase10Exponent(rr)-getBase10Exponent(nr))+1:gr=ar,gr<0)return new Cr(0);if(gr=gr/LOG_BASE+2|0,lr=0,jr==1)for(cr=0,Lr=Lr[0],gr++;(lr<yr||cr)&&gr--;lr++)vr=cr*BASE+(Pr[lr]||0),mr[lr]=vr/Lr|0,cr=vr%Lr|0;else{for(cr=BASE/(Lr[0]+1)|0,cr>1&&(Lr=St(Lr,cr),Pr=St(Pr,cr),jr=Lr.length,yr=Pr.length),br=jr,xr=Pr.slice(0,jr),pr=xr.length;pr<jr;)xr[pr++]=0;_r=Lr.slice(),_r.unshift(0),Er=Lr[0],Lr[1]>=BASE/2&&++Er;do cr=0,ir=er(Lr,xr,jr,pr),ir<0?(hr=xr[0],jr!=pr&&(hr=hr*BASE+(xr[1]||0)),cr=hr/Er|0,cr>1?(cr>=BASE&&(cr=BASE-1),ur=St(Lr,cr),dr=ur.length,pr=xr.length,ir=er(ur,xr,dr,pr),ir==1&&(cr--,tr(ur,jr<dr?_r:Lr,dr))):(cr==0&&(ir=cr=1),ur=Lr.slice()),dr=ur.length,dr<pr&&ur.unshift(0),tr(xr,ur,pr),ir==-1&&(pr=xr.length,ir=er(Lr,xr,jr,pr),ir<1&&(cr++,tr(xr,jr<pr?_r:Lr,pr))),pr=xr.length):ir===0&&(cr++,xr=[0]),mr[lr++]=cr,ir&&xr[0]?xr[pr++]=Pr[br]||0:(xr=[Pr[br]],pr=1);while((br++<yr||xr[0]!==void 0)&&gr--)}return mr[0]||mr.shift(),fr.e=or,round(fr,sr?ar+getBase10Exponent(fr)+1:ar)}}();function exp(St,er){var tr,rr,nr,ar,sr,ir,or=0,lr=0,cr=St.constructor,ur=cr.precision;if(getBase10Exponent(St)>16)throw Error(exponentOutOfRange+getBase10Exponent(St));if(!St.s)return new cr(ONE);for(external=!1,ir=ur,sr=new cr(.03125);St.abs().gte(.1);)St=St.times(sr),lr+=5;for(rr=Math.log(mathpow(2,lr))/Math.LN10*2+5|0,ir+=rr,tr=nr=ar=new cr(ONE),cr.precision=ir;;){if(nr=round(nr.times(St),ir),tr=tr.times(++or),sr=ar.plus(divide(nr,tr,ir)),digitsToString(sr.d).slice(0,ir)===digitsToString(ar.d).slice(0,ir)){for(;lr--;)ar=round(ar.times(ar),ir);return cr.precision=ur,er==null?(external=!0,round(ar,ur)):ar}ar=sr}}function getBase10Exponent(St){for(var er=St.e*LOG_BASE,tr=St.d[0];tr>=10;tr/=10)er++;return er}function getLn10(St,er,tr){if(er>St.LN10.sd())throw external=!0,tr&&(St.precision=tr),Error(decimalError+"LN10 precision limit exceeded");return round(new St(St.LN10),er)}function getZeroString(St){for(var er="";St--;)er+="0";return er}function ln$1(St,er){var tr,rr,nr,ar,sr,ir,or,lr,cr,ur=1,dr=10,fr=St,mr=fr.d,xr=fr.constructor,pr=xr.precision;if(fr.s<1)throw Error(decimalError+(fr.s?"NaN":"-Infinity"));if(fr.eq(ONE))return new xr(0);if(er==null?(external=!1,lr=pr):lr=er,fr.eq(10))return er==null&&(external=!0),getLn10(xr,lr);if(lr+=dr,xr.precision=lr,tr=digitsToString(mr),rr=tr.charAt(0),ar=getBase10Exponent(fr),Math.abs(ar)<15e14){for(;rr<7&&rr!=1||rr==1&&tr.charAt(1)>3;)fr=fr.times(St),tr=digitsToString(fr.d),rr=tr.charAt(0),ur++;ar=getBase10Exponent(fr),rr>1?(fr=new xr("0."+tr),ar++):fr=new xr(rr+"."+tr.slice(1))}else return or=getLn10(xr,lr+2,pr).times(ar+""),fr=ln$1(new xr(rr+"."+tr.slice(1)),lr-dr).plus(or),xr.precision=pr,er==null?(external=!0,round(fr,pr)):fr;for(ir=sr=fr=divide(fr.minus(ONE),fr.plus(ONE),lr),cr=round(fr.times(fr),lr),nr=3;;){if(sr=round(sr.times(cr),lr),or=ir.plus(divide(sr,new xr(nr),lr)),digitsToString(or.d).slice(0,lr)===digitsToString(ir.d).slice(0,lr))return ir=ir.times(2),ar!==0&&(ir=ir.plus(getLn10(xr,lr+2,pr).times(ar+""))),ir=divide(ir,new xr(ur),lr),xr.precision=pr,er==null?(external=!0,round(ir,pr)):ir;ir=or,nr+=2}}function parseDecimal(St,er){var tr,rr,nr;for((tr=er.indexOf("."))>-1&&(er=er.replace(".","")),(rr=er.search(/e/i))>0?(tr<0&&(tr=rr),tr+=+er.slice(rr+1),er=er.substring(0,rr)):tr<0&&(tr=er.length),rr=0;er.charCodeAt(rr)===48;)++rr;for(nr=er.length;er.charCodeAt(nr-1)===48;)--nr;if(er=er.slice(rr,nr),er){if(nr-=rr,tr=tr-rr-1,St.e=mathfloor(tr/LOG_BASE),St.d=[],rr=(tr+1)%LOG_BASE,tr<0&&(rr+=LOG_BASE),rr<nr){for(rr&&St.d.push(+er.slice(0,rr)),nr-=LOG_BASE;rr<nr;)St.d.push(+er.slice(rr,rr+=LOG_BASE));er=er.slice(rr),rr=LOG_BASE-er.length}else rr-=nr;for(;rr--;)er+="0";if(St.d.push(+er),external&&(St.e>MAX_E||St.e<-MAX_E))throw Error(exponentOutOfRange+tr)}else St.s=0,St.e=0,St.d=[0];return St}function round(St,er,tr){var rr,nr,ar,sr,ir,or,lr,cr,ur=St.d;for(sr=1,ar=ur[0];ar>=10;ar/=10)sr++;if(rr=er-sr,rr<0)rr+=LOG_BASE,nr=er,lr=ur[cr=0];else{if(cr=Math.ceil((rr+1)/LOG_BASE),ar=ur.length,cr>=ar)return St;for(lr=ar=ur[cr],sr=1;ar>=10;ar/=10)sr++;rr%=LOG_BASE,nr=rr-LOG_BASE+sr}if(tr!==void 0&&(ar=mathpow(10,sr-nr-1),ir=lr/ar%10|0,or=er<0||ur[cr+1]!==void 0||lr%ar,or=tr<4?(ir||or)&&(tr==0||tr==(St.s<0?3:2)):ir>5||ir==5&&(tr==4||or||tr==6&&(rr>0?nr>0?lr/mathpow(10,sr-nr):0:ur[cr-1])%10&1||tr==(St.s<0?8:7))),er<1||!ur[0])return or?(ar=getBase10Exponent(St),ur.length=1,er=er-ar-1,ur[0]=mathpow(10,(LOG_BASE-er%LOG_BASE)%LOG_BASE),St.e=mathfloor(-er/LOG_BASE)||0):(ur.length=1,ur[0]=St.e=St.s=0),St;if(rr==0?(ur.length=cr,ar=1,cr--):(ur.length=cr+1,ar=mathpow(10,LOG_BASE-rr),ur[cr]=nr>0?(lr/mathpow(10,sr-nr)%mathpow(10,nr)|0)*ar:0),or)for(;;)if(cr==0){(ur[0]+=ar)==BASE&&(ur[0]=1,++St.e);break}else{if(ur[cr]+=ar,ur[cr]!=BASE)break;ur[cr--]=0,ar=1}for(rr=ur.length;ur[--rr]===0;)ur.pop();if(external&&(St.e>MAX_E||St.e<-MAX_E))throw Error(exponentOutOfRange+getBase10Exponent(St));return St}function subtract(St,er){var tr,rr,nr,ar,sr,ir,or,lr,cr,ur,dr=St.constructor,fr=dr.precision;if(!St.s||!er.s)return er.s?er.s=-er.s:er=new dr(St),external?round(er,fr):er;if(or=St.d,ur=er.d,rr=er.e,lr=St.e,or=or.slice(),sr=lr-rr,sr){for(cr=sr<0,cr?(tr=or,sr=-sr,ir=ur.length):(tr=ur,rr=lr,ir=or.length),nr=Math.max(Math.ceil(fr/LOG_BASE),ir)+2,sr>nr&&(sr=nr,tr.length=1),tr.reverse(),nr=sr;nr--;)tr.push(0);tr.reverse()}else{for(nr=or.length,ir=ur.length,cr=nr<ir,cr&&(ir=nr),nr=0;nr<ir;nr++)if(or[nr]!=ur[nr]){cr=or[nr]<ur[nr];break}sr=0}for(cr&&(tr=or,or=ur,ur=tr,er.s=-er.s),ir=or.length,nr=ur.length-ir;nr>0;--nr)or[ir++]=0;for(nr=ur.length;nr>sr;){if(or[--nr]<ur[nr]){for(ar=nr;ar&&or[--ar]===0;)or[ar]=BASE-1;--or[ar],or[nr]+=BASE}or[nr]-=ur[nr]}for(;or[--ir]===0;)or.pop();for(;or[0]===0;or.shift())--rr;return or[0]?(er.d=or,er.e=rr,external?round(er,fr):er):new dr(0)}function toString(St,er,tr){var rr,nr=getBase10Exponent(St),ar=digitsToString(St.d),sr=ar.length;return er?(tr&&(rr=tr-sr)>0?ar=ar.charAt(0)+"."+ar.slice(1)+getZeroString(rr):sr>1&&(ar=ar.charAt(0)+"."+ar.slice(1)),ar=ar+(nr<0?"e":"e+")+nr):nr<0?(ar="0."+getZeroString(-nr-1)+ar,tr&&(rr=tr-sr)>0&&(ar+=getZeroString(rr))):nr>=sr?(ar+=getZeroString(nr+1-sr),tr&&(rr=tr-nr-1)>0&&(ar=ar+"."+getZeroString(rr))):((rr=nr+1)<sr&&(ar=ar.slice(0,rr)+"."+ar.slice(rr)),tr&&(rr=tr-sr)>0&&(nr+1===sr&&(ar+="."),ar+=getZeroString(rr))),St.s<0?"-"+ar:ar}function truncate(St,er){if(St.length>er)return St.length=er,!0}function clone(St){var er,tr,rr;function nr(ar){var sr=this;if(!(sr instanceof nr))return new nr(ar);if(sr.constructor=nr,ar instanceof nr){sr.s=ar.s,sr.e=ar.e,sr.d=(ar=ar.d)?ar.slice():ar;return}if(typeof ar=="number"){if(ar*0!==0)throw Error(invalidArgument+ar);if(ar>0)sr.s=1;else if(ar<0)ar=-ar,sr.s=-1;else{sr.s=0,sr.e=0,sr.d=[0];return}if(ar===~~ar&&ar<1e7){sr.e=0,sr.d=[ar];return}return parseDecimal(sr,ar.toString())}else if(typeof ar!="string")throw Error(invalidArgument+ar);if(ar.charCodeAt(0)===45?(ar=ar.slice(1),sr.s=-1):sr.s=1,isDecimal.test(ar))parseDecimal(sr,ar);else throw Error(invalidArgument+ar)}if(nr.prototype=P$4,nr.ROUND_UP=0,nr.ROUND_DOWN=1,nr.ROUND_CEIL=2,nr.ROUND_FLOOR=3,nr.ROUND_HALF_UP=4,nr.ROUND_HALF_DOWN=5,nr.ROUND_HALF_EVEN=6,nr.ROUND_HALF_CEIL=7,nr.ROUND_HALF_FLOOR=8,nr.clone=clone,nr.config=nr.set=config,St===void 0&&(St={}),St)for(rr=["precision","rounding","toExpNeg","toExpPos","LN10"],er=0;er<rr.length;)St.hasOwnProperty(tr=rr[er++])||(St[tr]=this[tr]);return nr.config(St),nr}function config(St){if(!St||typeof St!="object")throw Error(decimalError+"Object expected");var er,tr,rr,nr=["precision",1,MAX_DIGITS,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(er=0;er<nr.length;er+=3)if((rr=St[tr=nr[er]])!==void 0)if(mathfloor(rr)===rr&&rr>=nr[er+1]&&rr<=nr[er+2])this[tr]=rr;else throw Error(invalidArgument+tr+": "+rr);if((rr=St[tr="LN10"])!==void 0)if(rr==Math.LN10)this[tr]=new this(rr);else throw Error(invalidArgument+tr+": "+rr);return this}var Decimal=clone(defaults);ONE=new Decimal(1);const Decimal$1=Decimal;var identity=St=>St,PLACE_HOLDER={},isPlaceHolder=St=>St===PLACE_HOLDER,curry0=St=>function er(){return arguments.length===0||arguments.length===1&&isPlaceHolder(arguments.length<=0?void 0:arguments[0])?er:St(...arguments)},curryN=(St,er)=>St===1?er:curry0(function(){for(var tr=arguments.length,rr=new Array(tr),nr=0;nr<tr;nr++)rr[nr]=arguments[nr];var ar=rr.filter(sr=>sr!==PLACE_HOLDER).length;return ar>=St?er(...rr):curryN(St-ar,curry0(function(){for(var sr=arguments.length,ir=new Array(sr),or=0;or<sr;or++)ir[or]=arguments[or];var lr=rr.map(cr=>isPlaceHolder(cr)?ir.shift():cr);return er(...lr,...ir)}))}),curry=St=>curryN(St.length,St),range=(St,er)=>{for(var tr=[],rr=St;rr<er;++rr)tr[rr-St]=rr;return tr},map=curry((St,er)=>Array.isArray(er)?er.map(St):Object.keys(er).map(tr=>er[tr]).map(St)),compose=function St(){for(var er=arguments.length,tr=new Array(er),rr=0;rr<er;rr++)tr[rr]=arguments[rr];if(!tr.length)return identity;var nr=tr.reverse(),ar=nr[0],sr=nr.slice(1);return function(){return sr.reduce((ir,or)=>or(ir),ar(...arguments))}},reverse=St=>Array.isArray(St)?St.reverse():St.split("").reverse().join(""),memoize=St=>{var er=null,tr=null;return function(){for(var rr=arguments.length,nr=new Array(rr),ar=0;ar<rr;ar++)nr[ar]=arguments[ar];return er&&nr.every((sr,ir)=>{var or;return sr===((or=er)===null||or===void 0?void 0:or[ir])})||(er=nr,tr=St(...nr)),tr}};function getDigitCount(St){var er;return St===0?er=1:er=Math.floor(new Decimal$1(St).abs().log(10).toNumber())+1,er}function rangeStep(St,er,tr){for(var rr=new Decimal$1(St),nr=0,ar=[];rr.lt(er)&&nr<1e5;)ar.push(rr.toNumber()),rr=rr.add(tr),nr++;return ar}curry((St,er,tr)=>{var rr=+St,nr=+er;return rr+tr*(nr-rr)});curry((St,er,tr)=>{var rr=er-+St;return rr=rr||1/0,(tr-St)/rr});curry((St,er,tr)=>{var rr=er-+St;return rr=rr||1/0,Math.max(0,Math.min(1,(tr-St)/rr))});var getValidInterval=St=>{var[er,tr]=St,[rr,nr]=[er,tr];return er>tr&&([rr,nr]=[tr,er]),[rr,nr]},getFormatStep=(St,er,tr)=>{if(St.lte(0))return new Decimal$1(0);var rr=getDigitCount(St.toNumber()),nr=new Decimal$1(10).pow(rr),ar=St.div(nr),sr=rr!==1?.05:.1,ir=new Decimal$1(Math.ceil(ar.div(sr).toNumber())).add(tr).mul(sr),or=ir.mul(nr);return er?new Decimal$1(or.toNumber()):new Decimal$1(Math.ceil(or.toNumber()))},getTickOfSingleValue=(St,er,tr)=>{var rr=new Decimal$1(1),nr=new Decimal$1(St);if(!nr.isint()&&tr){var ar=Math.abs(St);ar<1?(rr=new Decimal$1(10).pow(getDigitCount(St)-1),nr=new Decimal$1(Math.floor(nr.div(rr).toNumber())).mul(rr)):ar>1&&(nr=new Decimal$1(Math.floor(St)))}else St===0?nr=new Decimal$1(Math.floor((er-1)/2)):tr||(nr=new Decimal$1(Math.floor(St)));var sr=Math.floor((er-1)/2),ir=compose(map(or=>nr.add(new Decimal$1(or-sr).mul(rr)).toNumber()),range);return ir(0,er)},_calculateStep=function St(er,tr,rr,nr){var ar=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((tr-er)/(rr-1)))return{step:new Decimal$1(0),tickMin:new Decimal$1(0),tickMax:new Decimal$1(0)};var sr=getFormatStep(new Decimal$1(tr).sub(er).div(rr-1),nr,ar),ir;er<=0&&tr>=0?ir=new Decimal$1(0):(ir=new Decimal$1(er).add(tr).div(2),ir=ir.sub(new Decimal$1(ir).mod(sr)));var or=Math.ceil(ir.sub(er).div(sr).toNumber()),lr=Math.ceil(new Decimal$1(tr).sub(ir).div(sr).toNumber()),cr=or+lr+1;return cr>rr?_calculateStep(er,tr,rr,nr,ar+1):(cr<rr&&(lr=tr>0?lr+(rr-cr):lr,or=tr>0?or:or+(rr-cr)),{step:sr,tickMin:ir.sub(new Decimal$1(or).mul(sr)),tickMax:ir.add(new Decimal$1(lr).mul(sr))})};function getNiceTickValuesFn(St){var[er,tr]=St,rr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,nr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,ar=Math.max(rr,2),[sr,ir]=getValidInterval([er,tr]);if(sr===-1/0||ir===1/0){var or=ir===1/0?[sr,...range(0,rr-1).map(()=>1/0)]:[...range(0,rr-1).map(()=>-1/0),ir];return er>tr?reverse(or):or}if(sr===ir)return getTickOfSingleValue(sr,rr,nr);var{step:lr,tickMin:cr,tickMax:ur}=_calculateStep(sr,ir,ar,nr,0),dr=rangeStep(cr,ur.add(new Decimal$1(.1).mul(lr)),lr);return er>tr?reverse(dr):dr}function getTickValuesFixedDomainFn(St,er){var[tr,rr]=St,nr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[ar,sr]=getValidInterval([tr,rr]);if(ar===-1/0||sr===1/0)return[tr,rr];if(ar===sr)return[ar];var ir=Math.max(er,2),or=getFormatStep(new Decimal$1(sr).sub(ar).div(ir-1),nr,0),lr=[...rangeStep(new Decimal$1(ar),new Decimal$1(sr),or),sr];return nr===!1&&(lr=lr.map(cr=>Math.round(cr))),tr>rr?reverse(lr):lr}var getNiceTickValues=memoize(getNiceTickValuesFn),getTickValuesFixedDomain=memoize(getTickValuesFixedDomainFn),selectRootMaxBarSize=St=>St.rootProps.maxBarSize,selectBarGap=St=>St.rootProps.barGap,selectBarCategoryGap=St=>St.rootProps.barCategoryGap,selectRootBarSize=St=>St.rootProps.barSize,selectStackOffsetType=St=>St.rootProps.stackOffset,selectChartName=St=>St.options.chartName,selectSyncId=St=>St.rootProps.syncId,selectSyncMethod=St=>St.rootProps.syncMethod,selectEventEmitter=St=>St.options.eventEmitter,defaultPolarAngleAxisProps={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},defaultPolarRadiusAxisProps={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},combineAxisRangeWithReverse=(St,er)=>{if(!(!St||!er))return St!=null&&St.reversed?[er[1],er[0]]:er},implicitAngleAxis={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:defaultPolarAngleAxisProps.angleAxisId,includeHidden:!1,name:void 0,reversed:defaultPolarAngleAxisProps.reversed,scale:defaultPolarAngleAxisProps.scale,tick:defaultPolarAngleAxisProps.tick,tickCount:void 0,ticks:void 0,type:defaultPolarAngleAxisProps.type,unit:void 0},implicitRadiusAxis={allowDataOverflow:defaultPolarRadiusAxisProps.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:defaultPolarRadiusAxisProps.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:defaultPolarRadiusAxisProps.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:defaultPolarRadiusAxisProps.scale,tick:defaultPolarRadiusAxisProps.tick,tickCount:defaultPolarRadiusAxisProps.tickCount,ticks:void 0,type:defaultPolarRadiusAxisProps.type,unit:void 0},implicitRadialBarAngleAxis={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:defaultPolarAngleAxisProps.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:defaultPolarAngleAxisProps.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:defaultPolarAngleAxisProps.scale,tick:defaultPolarAngleAxisProps.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},implicitRadialBarRadiusAxis={allowDataOverflow:defaultPolarRadiusAxisProps.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:defaultPolarRadiusAxisProps.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:defaultPolarRadiusAxisProps.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:defaultPolarRadiusAxisProps.scale,tick:defaultPolarRadiusAxisProps.tick,tickCount:defaultPolarRadiusAxisProps.tickCount,ticks:void 0,type:"category",unit:void 0},selectAngleAxis=(St,er)=>St.polarAxis.angleAxis[er]!=null?St.polarAxis.angleAxis[er]:St.layout.layoutType==="radial"?implicitRadialBarAngleAxis:implicitAngleAxis,selectRadiusAxis=(St,er)=>St.polarAxis.radiusAxis[er]!=null?St.polarAxis.radiusAxis[er]:St.layout.layoutType==="radial"?implicitRadialBarRadiusAxis:implicitRadiusAxis,selectPolarOptions=St=>St.polarOptions,selectMaxRadius=createSelector([selectChartWidth,selectChartHeight,selectChartOffsetInternal],getMaxRadius),selectInnerRadius=createSelector([selectPolarOptions,selectMaxRadius],(St,er)=>{if(St!=null)return getPercentValue(St.innerRadius,er,0)}),selectOuterRadius=createSelector([selectPolarOptions,selectMaxRadius],(St,er)=>{if(St!=null)return getPercentValue(St.outerRadius,er,er*.8)}),combineAngleAxisRange=St=>{if(St==null)return[0,0];var{startAngle:er,endAngle:tr}=St;return[er,tr]},selectAngleAxisRange=createSelector([selectPolarOptions],combineAngleAxisRange);createSelector([selectAngleAxis,selectAngleAxisRange],combineAxisRangeWithReverse);var selectRadiusAxisRange=createSelector([selectMaxRadius,selectInnerRadius,selectOuterRadius],(St,er,tr)=>{if(!(St==null||er==null||tr==null))return[er,tr]});createSelector([selectRadiusAxis,selectRadiusAxisRange],combineAxisRangeWithReverse);var selectPolarViewBox=createSelector([selectChartLayout,selectPolarOptions,selectInnerRadius,selectOuterRadius,selectChartWidth,selectChartHeight],(St,er,tr,rr,nr,ar)=>{if(!(St!=="centric"&&St!=="radial"||er==null||tr==null||rr==null)){var{cx:sr,cy:ir,startAngle:or,endAngle:lr}=er;return{cx:getPercentValue(sr,nr,nr/2),cy:getPercentValue(ir,ar,ar/2),innerRadius:tr,outerRadius:rr,startAngle:or,endAngle:lr,clockWise:!1}}}),pickAxisType=(St,er)=>er,pickAxisId=(St,er,tr)=>tr;function ownKeys$m(St,er){var tr=Object.keys(St);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(St);er&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(St,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$m(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$m(Object(tr),!0).forEach(function(rr){_defineProperty$q(St,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(St,Object.getOwnPropertyDescriptors(tr)):ownKeys$m(Object(tr)).forEach(function(rr){Object.defineProperty(St,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return St}function _defineProperty$q(St,er,tr){return(er=_toPropertyKey$q(er))in St?Object.defineProperty(St,er,{value:tr,enumerable:!0,configurable:!0,writable:!0}):St[er]=tr,St}function _toPropertyKey$q(St){var er=_toPrimitive$q(St,"string");return typeof er=="symbol"?er:er+""}function _toPrimitive$q(St,er){if(typeof St!="object"||!St)return St;var tr=St[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(St,er);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(St)}var defaultNumericDomain=[0,"auto"],implicitXAxis={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},selectXAxisSettings=(St,er)=>{var tr=St.cartesianAxis.xAxis[er];return tr??implicitXAxis},implicitYAxis={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:defaultNumericDomain,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:DEFAULT_Y_AXIS_WIDTH},selectYAxisSettings=(St,er)=>{var tr=St.cartesianAxis.yAxis[er];return tr??implicitYAxis},implicitZAxis={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},selectZAxisSettings=(St,er)=>{var tr=St.cartesianAxis.zAxis[er];return tr??implicitZAxis},selectBaseAxis=(St,er,tr)=>{switch(er){case"xAxis":return selectXAxisSettings(St,tr);case"yAxis":return selectYAxisSettings(St,tr);case"zAxis":return selectZAxisSettings(St,tr);case"angleAxis":return selectAngleAxis(St,tr);case"radiusAxis":return selectRadiusAxis(St,tr);default:throw new Error("Unexpected axis type: ".concat(er))}},selectCartesianAxisSettings=(St,er,tr)=>{switch(er){case"xAxis":return selectXAxisSettings(St,tr);case"yAxis":return selectYAxisSettings(St,tr);default:throw new Error("Unexpected axis type: ".concat(er))}},selectAxisSettings=(St,er,tr)=>{switch(er){case"xAxis":return selectXAxisSettings(St,tr);case"yAxis":return selectYAxisSettings(St,tr);case"angleAxis":return selectAngleAxis(St,tr);case"radiusAxis":return selectRadiusAxis(St,tr);default:throw new Error("Unexpected axis type: ".concat(er))}},selectHasBar=St=>St.graphicalItems.countOfBars>0;function itemAxisPredicate(St,er){return tr=>{switch(St){case"xAxis":return"xAxisId"in tr&&tr.xAxisId===er;case"yAxis":return"yAxisId"in tr&&tr.yAxisId===er;case"zAxis":return"zAxisId"in tr&&tr.zAxisId===er;case"angleAxis":return"angleAxisId"in tr&&tr.angleAxisId===er;case"radiusAxis":return"radiusAxisId"in tr&&tr.radiusAxisId===er;default:return!1}}}var selectUnfilteredCartesianItems=St=>St.graphicalItems.cartesianItems,selectAxisPredicate$1=createSelector([pickAxisType,pickAxisId],itemAxisPredicate),combineGraphicalItemsSettings=(St,er,tr)=>St.filter(tr).filter(rr=>(er==null?void 0:er.includeHidden)===!0?!0:!rr.hide),selectCartesianItemsSettings=createSelector([selectUnfilteredCartesianItems,selectBaseAxis,selectAxisPredicate$1],combineGraphicalItemsSettings),filterGraphicalNotStackedItems=St=>St.filter(er=>er.stackId===void 0),selectCartesianItemsSettingsExceptStacked=createSelector([selectCartesianItemsSettings],filterGraphicalNotStackedItems),combineGraphicalItemsData=St=>St.map(er=>er.data).filter(Boolean).flat(1),selectCartesianGraphicalItemsData=createSelector([selectCartesianItemsSettings],combineGraphicalItemsData),combineDisplayedData=(St,er)=>{var{chartData:tr=[],dataStartIndex:rr,dataEndIndex:nr}=er;return St.length>0?St:tr.slice(rr,nr+1)},selectDisplayedData$1=createSelector([selectCartesianGraphicalItemsData,selectChartDataWithIndexesIfNotInPanorama],combineDisplayedData),combineAppliedValues=(St,er,tr)=>(er==null?void 0:er.dataKey)!=null?St.map(rr=>({value:getValueByDataKey(rr,er.dataKey)})):tr.length>0?tr.map(rr=>rr.dataKey).flatMap(rr=>St.map(nr=>({value:getValueByDataKey(nr,rr)}))):St.map(rr=>({value:rr})),selectAllAppliedValues=createSelector([selectDisplayedData$1,selectBaseAxis,selectCartesianItemsSettings],combineAppliedValues);function isErrorBarRelevantForAxisType(St,er){switch(St){case"xAxis":return er.direction==="x";case"yAxis":return er.direction==="y";default:return!1}}function onlyAllowNumbers(St){return St.filter(er=>isNumOrStr(er)||er instanceof Date).map(Number).filter(er=>isNan(er)===!1)}function getErrorDomainByDataKey(St,er,tr){return!tr||typeof er!="number"||isNan(er)?[]:tr.length?onlyAllowNumbers(tr.flatMap(rr=>{var nr=getValueByDataKey(St,rr.dataKey),ar,sr;if(Array.isArray(nr)?[ar,sr]=nr:ar=sr=nr,!(!isWellBehavedNumber(ar)||!isWellBehavedNumber(sr)))return[er-ar,er+sr]})):[]}var combineStackGroups=(St,er,tr)=>{var rr={},nr=er.reduce((ar,sr)=>(sr.stackId==null||(ar[sr.stackId]==null&&(ar[sr.stackId]=[]),ar[sr.stackId].push(sr)),ar),rr);return Object.fromEntries(Object.entries(nr).map(ar=>{var[sr,ir]=ar,or=ir.map(lr=>lr.dataKey);return[sr,{stackedData:getStackedData(St,or,tr),graphicalItems:ir}]}))},selectStackGroups=createSelector([selectDisplayedData$1,selectCartesianItemsSettings,selectStackOffsetType],combineStackGroups),combineDomainOfStackGroups=(St,er,tr)=>{var{dataStartIndex:rr,dataEndIndex:nr}=er;if(tr!=="zAxis"){var ar=getDomainOfStackGroups(St,rr,nr);if(!(ar!=null&&ar[0]===0&&ar[1]===0))return ar}},selectDomainOfStackGroups=createSelector([selectStackGroups,selectChartDataWithIndexes,pickAxisType],combineDomainOfStackGroups),combineAppliedNumericalValuesIncludingErrorValues=(St,er,tr,rr)=>tr.length>0?St.flatMap(nr=>tr.flatMap(ar=>{var sr,ir,or=(sr=ar.errorBars)===null||sr===void 0?void 0:sr.filter(cr=>isErrorBarRelevantForAxisType(rr,cr)),lr=getValueByDataKey(nr,(ir=er.dataKey)!==null&&ir!==void 0?ir:ar.dataKey);return{value:lr,errorDomain:getErrorDomainByDataKey(nr,lr,or)}})).filter(Boolean):(er==null?void 0:er.dataKey)!=null?St.map(nr=>({value:getValueByDataKey(nr,er.dataKey),errorDomain:[]})):St.map(nr=>({value:nr,errorDomain:[]})),selectAllAppliedNumericalValuesIncludingErrorValues=createSelector(selectDisplayedData$1,selectBaseAxis,selectCartesianItemsSettingsExceptStacked,pickAxisType,combineAppliedNumericalValuesIncludingErrorValues);function onlyAllowNumbersAndStringsAndDates(St){var{value:er}=St;if(isNumOrStr(er)||er instanceof Date)return er}var computeNumericalDomain=St=>{var er=St.flatMap(rr=>[rr.value,rr.errorDomain]).flat(1),tr=onlyAllowNumbers(er);if(tr.length!==0)return[Math.min(...tr),Math.max(...tr)]},computeDomainOfTypeCategory=(St,er,tr)=>{var rr=St.map(onlyAllowNumbersAndStringsAndDates).filter(nr=>nr!=null);return tr&&(er.dataKey==null||er.allowDuplicatedCategory&&hasDuplicate(rr))?range$3(0,St.length):er.allowDuplicatedCategory?rr:Array.from(new Set(rr))},getDomainDefinition=St=>{var er;if(St==null||!("domain"in St))return defaultNumericDomain;if(St.domain!=null)return St.domain;if(St.ticks!=null){if(St.type==="number"){var tr=onlyAllowNumbers(St.ticks);return[Math.min(...tr),Math.max(...tr)]}if(St.type==="category")return St.ticks.map(String)}return(er=St==null?void 0:St.domain)!==null&&er!==void 0?er:defaultNumericDomain},mergeDomains=function St(){for(var er=arguments.length,tr=new Array(er),rr=0;rr<er;rr++)tr[rr]=arguments[rr];var nr=tr.filter(Boolean);if(nr.length!==0){var ar=nr.flat(),sr=Math.min(...ar),ir=Math.max(...ar);return[sr,ir]}},selectReferenceDots=St=>St.referenceElements.dots,filterReferenceElements=(St,er,tr)=>St.filter(rr=>rr.ifOverflow==="extendDomain").filter(rr=>er==="xAxis"?rr.xAxisId===tr:rr.yAxisId===tr),selectReferenceDotsByAxis=createSelector([selectReferenceDots,pickAxisType,pickAxisId],filterReferenceElements),selectReferenceAreas=St=>St.referenceElements.areas,selectReferenceAreasByAxis=createSelector([selectReferenceAreas,pickAxisType,pickAxisId],filterReferenceElements),selectReferenceLines=St=>St.referenceElements.lines,selectReferenceLinesByAxis=createSelector([selectReferenceLines,pickAxisType,pickAxisId],filterReferenceElements),combineDotsDomain=(St,er)=>{var tr=onlyAllowNumbers(St.map(rr=>er==="xAxis"?rr.x:rr.y));if(tr.length!==0)return[Math.min(...tr),Math.max(...tr)]},selectReferenceDotsDomain=createSelector(selectReferenceDotsByAxis,pickAxisType,combineDotsDomain),combineAreasDomain=(St,er)=>{var tr=onlyAllowNumbers(St.flatMap(rr=>[er==="xAxis"?rr.x1:rr.y1,er==="xAxis"?rr.x2:rr.y2]));if(tr.length!==0)return[Math.min(...tr),Math.max(...tr)]},selectReferenceAreasDomain=createSelector([selectReferenceAreasByAxis,pickAxisType],combineAreasDomain),combineLinesDomain=(St,er)=>{var tr=onlyAllowNumbers(St.map(rr=>er==="xAxis"?rr.x:rr.y));if(tr.length!==0)return[Math.min(...tr),Math.max(...tr)]},selectReferenceLinesDomain=createSelector(selectReferenceLinesByAxis,pickAxisType,combineLinesDomain),selectReferenceElementsDomain=createSelector(selectReferenceDotsDomain,selectReferenceLinesDomain,selectReferenceAreasDomain,(St,er,tr)=>mergeDomains(St,tr,er)),selectDomainDefinition=createSelector([selectBaseAxis],getDomainDefinition),combineNumericalDomain=(St,er,tr,rr,nr)=>{var ar=numericalDomainSpecifiedWithoutRequiringData(er,St.allowDataOverflow);return ar??parseNumericalUserDomain(er,mergeDomains(tr,nr,computeNumericalDomain(rr)),St.allowDataOverflow)},selectNumericalDomain=createSelector([selectBaseAxis,selectDomainDefinition,selectDomainOfStackGroups,selectAllAppliedNumericalValuesIncludingErrorValues,selectReferenceElementsDomain],combineNumericalDomain),expandDomain=[0,1],combineAxisDomain=(St,er,tr,rr,nr,ar,sr)=>{if(!(St==null||tr==null||tr.length===0)){var{dataKey:ir,type:or}=St,lr=isCategoricalAxis(er,ar);return lr&&ir==null?range$3(0,tr.length):or==="category"?computeDomainOfTypeCategory(rr,St,lr):nr==="expand"?expandDomain:sr}},selectAxisDomain=createSelector([selectBaseAxis,selectChartLayout,selectDisplayedData$1,selectAllAppliedValues,selectStackOffsetType,pickAxisType,selectNumericalDomain],combineAxisDomain),combineRealScaleType=(St,er,tr,rr,nr)=>{if(St!=null){var{scale:ar,type:sr}=St;if(ar==="auto")return er==="radial"&&nr==="radiusAxis"?"band":er==="radial"&&nr==="angleAxis"?"linear":sr==="category"&&rr&&(rr.indexOf("LineChart")>=0||rr.indexOf("AreaChart")>=0||rr.indexOf("ComposedChart")>=0&&!tr)?"point":sr==="category"?"band":"linear";if(typeof ar=="string"){var ir="scale".concat(upperFirst(ar));return ir in d3Scales?ir:"point"}}},selectRealScaleType=createSelector([selectBaseAxis,selectChartLayout,selectHasBar,selectChartName,pickAxisType],combineRealScaleType);function getD3ScaleFromType(St){if(St!=null){if(St in d3Scales)return d3Scales[St]();var er="scale".concat(upperFirst(St));if(er in d3Scales)return d3Scales[er]()}}function combineScaleFunction(St,er,tr,rr){if(!(tr==null||rr==null)){if(typeof St.scale=="function")return St.scale.copy().domain(tr).range(rr);var nr=getD3ScaleFromType(er);if(nr!=null){var ar=nr.domain(tr).range(rr);return checkDomainOfScale(ar),ar}}}var combineNiceTicks=(St,er,tr)=>{var rr=getDomainDefinition(er);if(!(tr!=="auto"&&tr!=="linear")){if(er!=null&&er.tickCount&&Array.isArray(rr)&&(rr[0]==="auto"||rr[1]==="auto")&&isWellFormedNumberDomain(St))return getNiceTickValues(St,er.tickCount,er.allowDecimals);if(er!=null&&er.tickCount&&er.type==="number"&&isWellFormedNumberDomain(St))return getTickValuesFixedDomain(St,er.tickCount,er.allowDecimals)}},selectNiceTicks=createSelector([selectAxisDomain,selectAxisSettings,selectRealScaleType],combineNiceTicks),combineAxisDomainWithNiceTicks=(St,er,tr,rr)=>{if(rr!=="angleAxis"&&(St==null?void 0:St.type)==="number"&&isWellFormedNumberDomain(er)&&Array.isArray(tr)&&tr.length>0){var nr=er[0],ar=tr[0],sr=er[1],ir=tr[tr.length-1];return[Math.min(nr,ar),Math.max(sr,ir)]}return er},selectAxisDomainIncludingNiceTicks=createSelector([selectBaseAxis,selectAxisDomain,selectNiceTicks,pickAxisType],combineAxisDomainWithNiceTicks),selectSmallestDistanceBetweenValues=createSelector(selectAllAppliedValues,selectBaseAxis,(St,er)=>{if(!(!er||er.type!=="number")){var tr=1/0,rr=Array.from(onlyAllowNumbers(St.map(ir=>ir.value))).sort((ir,or)=>ir-or);if(rr.length<2)return 1/0;var nr=rr[rr.length-1]-rr[0];if(nr===0)return 1/0;for(var ar=0;ar<rr.length-1;ar++){var sr=rr[ar+1]-rr[ar];tr=Math.min(tr,sr)}return tr/nr}}),selectCalculatedPadding=createSelector(selectSmallestDistanceBetweenValues,selectChartLayout,selectBarCategoryGap,selectChartOffsetInternal,(St,er,tr,rr)=>rr,(St,er,tr,rr,nr)=>{if(!isWellBehavedNumber(St))return 0;var ar=er==="vertical"?rr.height:rr.width;if(nr==="gap")return St*ar/2;if(nr==="no-gap"){var sr=getPercentValue(tr,St*ar),ir=St*ar/2;return ir-sr-(ir-sr)/ar*sr}return 0}),selectCalculatedXAxisPadding=(St,er)=>{var tr=selectXAxisSettings(St,er);return tr==null||typeof tr.padding!="string"?0:selectCalculatedPadding(St,"xAxis",er,tr.padding)},selectCalculatedYAxisPadding=(St,er)=>{var tr=selectYAxisSettings(St,er);return tr==null||typeof tr.padding!="string"?0:selectCalculatedPadding(St,"yAxis",er,tr.padding)},selectXAxisPadding=createSelector(selectXAxisSettings,selectCalculatedXAxisPadding,(St,er)=>{var tr,rr;if(St==null)return{left:0,right:0};var{padding:nr}=St;return typeof nr=="string"?{left:er,right:er}:{left:((tr=nr.left)!==null&&tr!==void 0?tr:0)+er,right:((rr=nr.right)!==null&&rr!==void 0?rr:0)+er}}),selectYAxisPadding=createSelector(selectYAxisSettings,selectCalculatedYAxisPadding,(St,er)=>{var tr,rr;if(St==null)return{top:0,bottom:0};var{padding:nr}=St;return typeof nr=="string"?{top:er,bottom:er}:{top:((tr=nr.top)!==null&&tr!==void 0?tr:0)+er,bottom:((rr=nr.bottom)!==null&&rr!==void 0?rr:0)+er}}),combineXAxisRange=createSelector([selectChartOffsetInternal,selectXAxisPadding,selectBrushDimensions,selectBrushSettings,(St,er,tr)=>tr],(St,er,tr,rr,nr)=>{var{padding:ar}=rr;return nr?[ar.left,tr.width-ar.right]:[St.left+er.left,St.left+St.width-er.right]}),combineYAxisRange=createSelector([selectChartOffsetInternal,selectChartLayout,selectYAxisPadding,selectBrushDimensions,selectBrushSettings,(St,er,tr)=>tr],(St,er,tr,rr,nr,ar)=>{var{padding:sr}=nr;return ar?[rr.height-sr.bottom,sr.top]:er==="horizontal"?[St.top+St.height-tr.bottom,St.top+tr.top]:[St.top+tr.top,St.top+St.height-tr.bottom]}),selectAxisRange=(St,er,tr,rr)=>{var nr;switch(er){case"xAxis":return combineXAxisRange(St,tr,rr);case"yAxis":return combineYAxisRange(St,tr,rr);case"zAxis":return(nr=selectZAxisSettings(St,tr))===null||nr===void 0?void 0:nr.range;case"angleAxis":return selectAngleAxisRange(St);case"radiusAxis":return selectRadiusAxisRange(St,tr);default:return}},selectAxisRangeWithReverse=createSelector([selectBaseAxis,selectAxisRange],combineAxisRangeWithReverse),selectAxisScale=createSelector([selectBaseAxis,selectRealScaleType,selectAxisDomainIncludingNiceTicks,selectAxisRangeWithReverse],combineScaleFunction);createSelector(selectCartesianItemsSettings,pickAxisType,(St,er)=>St.flatMap(tr=>{var rr;return(rr=tr.errorBars)!==null&&rr!==void 0?rr:[]}).filter(tr=>isErrorBarRelevantForAxisType(er,tr)));function compareIds(St,er){return St.id<er.id?-1:St.id>er.id?1:0}var pickAxisOrientation=(St,er)=>er,pickMirror=(St,er,tr)=>tr,selectAllXAxesWithOffsetType=createSelector(selectAllXAxes,pickAxisOrientation,pickMirror,(St,er,tr)=>St.filter(rr=>rr.orientation===er).filter(rr=>rr.mirror===tr).sort(compareIds)),selectAllYAxesWithOffsetType=createSelector(selectAllYAxes,pickAxisOrientation,pickMirror,(St,er,tr)=>St.filter(rr=>rr.orientation===er).filter(rr=>rr.mirror===tr).sort(compareIds)),getXAxisSize=(St,er)=>({width:St.width,height:er.height}),getYAxisSize=(St,er)=>{var tr=typeof er.width=="number"?er.width:DEFAULT_Y_AXIS_WIDTH;return{width:tr,height:St.height}},selectXAxisSize=createSelector(selectChartOffsetInternal,selectXAxisSettings,getXAxisSize),combineXAxisPositionStartingPoint=(St,er,tr)=>{switch(er){case"top":return St.top;case"bottom":return tr-St.bottom;default:return 0}},combineYAxisPositionStartingPoint=(St,er,tr)=>{switch(er){case"left":return St.left;case"right":return tr-St.right;default:return 0}},selectAllXAxesOffsetSteps=createSelector(selectChartHeight,selectChartOffsetInternal,selectAllXAxesWithOffsetType,pickAxisOrientation,pickMirror,(St,er,tr,rr,nr)=>{var ar={},sr;return tr.forEach(ir=>{var or=getXAxisSize(er,ir);sr==null&&(sr=combineXAxisPositionStartingPoint(er,rr,St));var lr=rr==="top"&&!nr||rr==="bottom"&&nr;ar[ir.id]=sr-Number(lr)*or.height,sr+=(lr?-1:1)*or.height}),ar}),selectAllYAxesOffsetSteps=createSelector(selectChartWidth,selectChartOffsetInternal,selectAllYAxesWithOffsetType,pickAxisOrientation,pickMirror,(St,er,tr,rr,nr)=>{var ar={},sr;return tr.forEach(ir=>{var or=getYAxisSize(er,ir);sr==null&&(sr=combineYAxisPositionStartingPoint(er,rr,St));var lr=rr==="left"&&!nr||rr==="right"&&nr;ar[ir.id]=sr-Number(lr)*or.width,sr+=(lr?-1:1)*or.width}),ar}),selectXAxisPosition=(St,er)=>{var tr=selectChartOffsetInternal(St),rr=selectXAxisSettings(St,er);if(rr!=null){var nr=selectAllXAxesOffsetSteps(St,rr.orientation,rr.mirror),ar=nr[er];return ar==null?{x:tr.left,y:0}:{x:tr.left,y:ar}}},selectYAxisPosition=(St,er)=>{var tr=selectChartOffsetInternal(St),rr=selectYAxisSettings(St,er);if(rr!=null){var nr=selectAllYAxesOffsetSteps(St,rr.orientation,rr.mirror),ar=nr[er];return ar==null?{x:0,y:tr.top}:{x:ar,y:tr.top}}},selectYAxisSize=createSelector(selectChartOffsetInternal,selectYAxisSettings,(St,er)=>{var tr=typeof er.width=="number"?er.width:DEFAULT_Y_AXIS_WIDTH;return{width:tr,height:St.height}}),selectCartesianAxisSize=(St,er,tr)=>{switch(er){case"xAxis":return selectXAxisSize(St,tr).width;case"yAxis":return selectYAxisSize(St,tr).height;default:return}},combineDuplicateDomain=(St,er,tr,rr)=>{if(tr!=null){var{allowDuplicatedCategory:nr,type:ar,dataKey:sr}=tr,ir=isCategoricalAxis(St,rr),or=er.map(lr=>lr.value);if(sr&&ir&&ar==="category"&&nr&&hasDuplicate(or))return or}},selectDuplicateDomain=createSelector([selectChartLayout,selectAllAppliedValues,selectBaseAxis,pickAxisType],combineDuplicateDomain),combineCategoricalDomain=(St,er,tr,rr)=>{if(!(tr==null||tr.dataKey==null)){var{type:nr,scale:ar}=tr,sr=isCategoricalAxis(St,rr);if(sr&&(nr==="number"||ar!=="auto"))return er.map(ir=>ir.value)}},selectCategoricalDomain=createSelector([selectChartLayout,selectAllAppliedValues,selectAxisSettings,pickAxisType],combineCategoricalDomain);createSelector([selectChartLayout,selectCartesianAxisSettings,selectRealScaleType,selectAxisScale,selectDuplicateDomain,selectCategoricalDomain,selectAxisRange,selectNiceTicks,pickAxisType],(St,er,tr,rr,nr,ar,sr,ir,or)=>{if(er==null)return null;var lr=isCategoricalAxis(St,or);return{angle:er.angle,interval:er.interval,minTickGap:er.minTickGap,orientation:er.orientation,tick:er.tick,tickCount:er.tickCount,tickFormatter:er.tickFormatter,ticks:er.ticks,type:er.type,unit:er.unit,axisType:or,categoricalDomain:ar,duplicateDomain:nr,isCategorical:lr,niceTicks:ir,range:sr,realScaleType:tr,scale:rr}});var combineAxisTicks=(St,er,tr,rr,nr,ar,sr,ir,or)=>{if(!(er==null||rr==null)){var lr=isCategoricalAxis(St,or),{type:cr,ticks:ur,tickCount:dr}=er,fr=tr==="scaleBand"&&typeof rr.bandwidth=="function"?rr.bandwidth()/2:2,mr=cr==="category"&&rr.bandwidth?rr.bandwidth()/fr:0;mr=or==="angleAxis"&&ar!=null&&ar.length>=2?mathSign(ar[0]-ar[1])*2*mr:mr;var xr=ur||nr;if(xr){var pr=xr.map((hr,gr)=>{var vr=sr?sr.indexOf(hr):hr;return{index:gr,coordinate:rr(vr)+mr,value:hr,offset:mr}});return pr.filter(hr=>!isNan(hr.coordinate))}return lr&&ir?ir.map((hr,gr)=>({coordinate:rr(hr)+mr,value:hr,index:gr,offset:mr})):rr.ticks?rr.ticks(dr).map(hr=>({coordinate:rr(hr)+mr,value:hr,offset:mr})):rr.domain().map((hr,gr)=>({coordinate:rr(hr)+mr,value:sr?sr[hr]:hr,index:gr,offset:mr}))}},selectTicksOfAxis=createSelector([selectChartLayout,selectAxisSettings,selectRealScaleType,selectAxisScale,selectNiceTicks,selectAxisRange,selectDuplicateDomain,selectCategoricalDomain,pickAxisType],combineAxisTicks),combineGraphicalItemTicks=(St,er,tr,rr,nr,ar,sr)=>{if(!(er==null||tr==null||rr==null||rr[0]===rr[1])){var ir=isCategoricalAxis(St,sr),{tickCount:or}=er,lr=0;return lr=sr==="angleAxis"&&(rr==null?void 0:rr.length)>=2?mathSign(rr[0]-rr[1])*2*lr:lr,ir&&ar?ar.map((cr,ur)=>({coordinate:tr(cr)+lr,value:cr,index:ur,offset:lr})):tr.ticks?tr.ticks(or).map(cr=>({coordinate:tr(cr)+lr,value:cr,offset:lr})):tr.domain().map((cr,ur)=>({coordinate:tr(cr)+lr,value:nr?nr[cr]:cr,index:ur,offset:lr}))}},selectTicksOfGraphicalItem=createSelector([selectChartLayout,selectAxisSettings,selectAxisScale,selectAxisRange,selectDuplicateDomain,selectCategoricalDomain,pickAxisType],combineGraphicalItemTicks),selectAxisWithScale=createSelector(selectBaseAxis,selectAxisScale,(St,er)=>{if(!(St==null||er==null))return _objectSpread$m(_objectSpread$m({},St),{},{scale:er})}),selectZAxisScale=createSelector([selectBaseAxis,selectRealScaleType,selectAxisDomain,selectAxisRangeWithReverse],combineScaleFunction);createSelector((St,er,tr)=>selectZAxisSettings(St,tr),selectZAxisScale,(St,er)=>{if(!(St==null||er==null))return _objectSpread$m(_objectSpread$m({},St),{},{scale:er})});var selectChartDirection=createSelector([selectChartLayout,selectAllXAxes,selectAllYAxes],(St,er,tr)=>{switch(St){case"horizontal":return er.some(rr=>rr.reversed)?"right-to-left":"left-to-right";case"vertical":return tr.some(rr=>rr.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),selectDefaultTooltipEventType=St=>St.options.defaultTooltipEventType,selectValidateTooltipEventTypes=St=>St.options.validateTooltipEventTypes;function combineTooltipEventType(St,er,tr){if(St==null)return er;var rr=St?"axis":"item";return tr==null?er:tr.includes(rr)?rr:er}function selectTooltipEventType$1(St,er){var tr=selectDefaultTooltipEventType(St),rr=selectValidateTooltipEventTypes(St);return combineTooltipEventType(er,tr,rr)}function useTooltipEventType(St){return useAppSelector(er=>selectTooltipEventType$1(er,St))}var combineActiveLabel=(St,er)=>{var tr,rr=Number(er);if(!(isNan(rr)||er==null))return rr>=0?St==null||(tr=St[rr])===null||tr===void 0?void 0:tr.value:void 0},selectTooltipSettings=St=>St.tooltip.settings,noInteraction={active:!1,index:null,dataKey:void 0,coordinate:void 0},initialState$7={itemInteraction:{click:noInteraction,hover:noInteraction},axisInteraction:{click:noInteraction,hover:noInteraction},keyboardInteraction:noInteraction,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},tooltipSlice=createSlice({name:"tooltip",initialState:initialState$7,reducers:{addTooltipEntrySettings(St,er){St.tooltipItemPayloads.push(er.payload)},removeTooltipEntrySettings(St,er){var tr=current(St).tooltipItemPayloads.indexOf(er.payload);tr>-1&&St.tooltipItemPayloads.splice(tr,1)},setTooltipSettingsState(St,er){St.settings=er.payload},setActiveMouseOverItemIndex(St,er){St.syncInteraction.active=!1,St.keyboardInteraction.active=!1,St.itemInteraction.hover.active=!0,St.itemInteraction.hover.index=er.payload.activeIndex,St.itemInteraction.hover.dataKey=er.payload.activeDataKey,St.itemInteraction.hover.coordinate=er.payload.activeCoordinate},mouseLeaveChart(St){St.itemInteraction.hover.active=!1,St.axisInteraction.hover.active=!1},mouseLeaveItem(St){St.itemInteraction.hover.active=!1},setActiveClickItemIndex(St,er){St.syncInteraction.active=!1,St.itemInteraction.click.active=!0,St.keyboardInteraction.active=!1,St.itemInteraction.click.index=er.payload.activeIndex,St.itemInteraction.click.dataKey=er.payload.activeDataKey,St.itemInteraction.click.coordinate=er.payload.activeCoordinate},setMouseOverAxisIndex(St,er){St.syncInteraction.active=!1,St.axisInteraction.hover.active=!0,St.keyboardInteraction.active=!1,St.axisInteraction.hover.index=er.payload.activeIndex,St.axisInteraction.hover.dataKey=er.payload.activeDataKey,St.axisInteraction.hover.coordinate=er.payload.activeCoordinate},setMouseClickAxisIndex(St,er){St.syncInteraction.active=!1,St.keyboardInteraction.active=!1,St.axisInteraction.click.active=!0,St.axisInteraction.click.index=er.payload.activeIndex,St.axisInteraction.click.dataKey=er.payload.activeDataKey,St.axisInteraction.click.coordinate=er.payload.activeCoordinate},setSyncInteraction(St,er){St.syncInteraction=er.payload},setKeyboardInteraction(St,er){St.keyboardInteraction.active=er.payload.active,St.keyboardInteraction.index=er.payload.activeIndex,St.keyboardInteraction.coordinate=er.payload.activeCoordinate,St.keyboardInteraction.dataKey=er.payload.activeDataKey}}}),{addTooltipEntrySettings,removeTooltipEntrySettings,setTooltipSettingsState,setActiveMouseOverItemIndex,mouseLeaveItem,mouseLeaveChart,setActiveClickItemIndex,setMouseOverAxisIndex,setMouseClickAxisIndex,setSyncInteraction,setKeyboardInteraction}=tooltipSlice.actions,tooltipReducer=tooltipSlice.reducer;function ownKeys$l(St,er){var tr=Object.keys(St);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(St);er&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(St,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$l(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$l(Object(tr),!0).forEach(function(rr){_defineProperty$p(St,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(St,Object.getOwnPropertyDescriptors(tr)):ownKeys$l(Object(tr)).forEach(function(rr){Object.defineProperty(St,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return St}function _defineProperty$p(St,er,tr){return(er=_toPropertyKey$p(er))in St?Object.defineProperty(St,er,{value:tr,enumerable:!0,configurable:!0,writable:!0}):St[er]=tr,St}function _toPropertyKey$p(St){var er=_toPrimitive$p(St,"string");return typeof er=="symbol"?er:er+""}function _toPrimitive$p(St,er){if(typeof St!="object"||!St)return St;var tr=St[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(St,er);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(St)}function chooseAppropriateMouseInteraction(St,er,tr){return er==="axis"?tr==="click"?St.axisInteraction.click:St.axisInteraction.hover:tr==="click"?St.itemInteraction.click:St.itemInteraction.hover}function hasBeenActivePreviously(St){return St.index!=null}var combineTooltipInteractionState=(St,er,tr,rr)=>{if(er==null)return noInteraction;var nr=chooseAppropriateMouseInteraction(St,er,tr);if(nr==null)return noInteraction;if(nr.active)return nr;if(St.keyboardInteraction.active)return St.keyboardInteraction;if(St.syncInteraction.active&&St.syncInteraction.index!=null)return St.syncInteraction;var ar=St.settings.active===!0;if(hasBeenActivePreviously(nr)){if(ar)return _objectSpread$l(_objectSpread$l({},nr),{},{active:!0})}else if(rr!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:rr};return _objectSpread$l(_objectSpread$l({},noInteraction),{},{coordinate:nr.coordinate})},combineActiveTooltipIndex=(St,er)=>{var tr=St==null?void 0:St.index;if(tr==null)return null;var rr=Number(tr);if(!isWellBehavedNumber(rr))return tr;var nr=0,ar=1/0;return er.length>0&&(ar=er.length-1),String(Math.max(nr,Math.min(rr,ar)))},combineCoordinateForDefaultIndex=(St,er,tr,rr,nr,ar,sr,ir)=>{if(!(ar==null||ir==null)){var or=sr[0],lr=or==null?void 0:ir(or.positions,ar);if(lr!=null)return lr;var cr=nr==null?void 0:nr[Number(ar)];if(cr)switch(tr){case"horizontal":return{x:cr.coordinate,y:(rr.top+er)/2};default:return{x:(rr.left+St)/2,y:cr.coordinate}}}},combineTooltipPayloadConfigurations=(St,er,tr,rr)=>{if(er==="axis")return St.tooltipItemPayloads;if(St.tooltipItemPayloads.length===0)return[];var nr;return tr==="hover"?nr=St.itemInteraction.hover.dataKey:nr=St.itemInteraction.click.dataKey,nr==null&&rr!=null?[St.tooltipItemPayloads[0]]:St.tooltipItemPayloads.filter(ar=>{var sr;return((sr=ar.settings)===null||sr===void 0?void 0:sr.dataKey)===nr})},selectTooltipPayloadSearcher=St=>St.options.tooltipPayloadSearcher,selectTooltipState=St=>St.tooltip;function ownKeys$k(St,er){var tr=Object.keys(St);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(St);er&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(St,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$k(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$k(Object(tr),!0).forEach(function(rr){_defineProperty$o(St,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(St,Object.getOwnPropertyDescriptors(tr)):ownKeys$k(Object(tr)).forEach(function(rr){Object.defineProperty(St,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return St}function _defineProperty$o(St,er,tr){return(er=_toPropertyKey$o(er))in St?Object.defineProperty(St,er,{value:tr,enumerable:!0,configurable:!0,writable:!0}):St[er]=tr,St}function _toPropertyKey$o(St){var er=_toPrimitive$o(St,"string");return typeof er=="symbol"?er:er+""}function _toPrimitive$o(St,er){if(typeof St!="object"||!St)return St;var tr=St[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(St,er);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(St)}function getSliced(St,er,tr){return Array.isArray(St)&&St&&er+tr!==0?St.slice(er,tr+1):St}function selectFinalData(St,er){return St??er}var combineTooltipPayload=(St,er,tr,rr,nr,ar,sr)=>{if(!(er==null||ar==null)){var{chartData:ir,computedData:or,dataStartIndex:lr,dataEndIndex:cr}=tr,ur=[];return St.reduce((dr,fr)=>{var mr,{dataDefinedOnItem:xr,settings:pr}=fr,hr=selectFinalData(xr,ir),gr=getSliced(hr,lr,cr),vr=(mr=pr==null?void 0:pr.dataKey)!==null&&mr!==void 0?mr:rr==null?void 0:rr.dataKey,br=pr==null?void 0:pr.nameKey,yr;if(rr!=null&&rr.dataKey&&Array.isArray(gr)&&!Array.isArray(gr[0])&&sr==="axis"?yr=findEntryInArray(gr,rr.dataKey,nr):yr=ar(gr,er,or,br),Array.isArray(yr))yr.forEach(jr=>{var _r=_objectSpread$k(_objectSpread$k({},pr),{},{name:jr.name,unit:jr.unit,color:void 0,fill:void 0});dr.push(getTooltipEntry({tooltipEntrySettings:_r,dataKey:jr.dataKey,payload:jr.payload,value:getValueByDataKey(jr.payload,jr.dataKey),name:jr.name}))});else{var Er;dr.push(getTooltipEntry({tooltipEntrySettings:pr,dataKey:vr,payload:yr,value:getValueByDataKey(yr,vr),name:(Er=getValueByDataKey(yr,br))!==null&&Er!==void 0?Er:pr==null?void 0:pr.name}))}return dr},ur)}},selectTooltipAxisType=St=>{var er=selectChartLayout(St);return er==="horizontal"?"xAxis":er==="vertical"?"yAxis":er==="centric"?"angleAxis":"radiusAxis"},selectTooltipAxisId=St=>St.tooltip.settings.axisId,selectTooltipAxis=St=>{var er=selectTooltipAxisType(St),tr=selectTooltipAxisId(St);return selectAxisSettings(St,er,tr)},selectTooltipAxisRealScaleType=createSelector([selectTooltipAxis,selectChartLayout,selectHasBar,selectChartName,selectTooltipAxisType],combineRealScaleType),selectAllUnfilteredGraphicalItems=createSelector([St=>St.graphicalItems.cartesianItems,St=>St.graphicalItems.polarItems],(St,er)=>[...St,...er]),selectTooltipAxisPredicate=createSelector([selectTooltipAxisType,selectTooltipAxisId],itemAxisPredicate),selectAllGraphicalItemsSettings=createSelector([selectAllUnfilteredGraphicalItems,selectTooltipAxis,selectTooltipAxisPredicate],combineGraphicalItemsSettings),selectTooltipGraphicalItemsData=createSelector([selectAllGraphicalItemsSettings],combineGraphicalItemsData),selectTooltipDisplayedData=createSelector([selectTooltipGraphicalItemsData,selectChartDataWithIndexes],combineDisplayedData),selectAllTooltipAppliedValues=createSelector([selectTooltipDisplayedData,selectTooltipAxis,selectAllGraphicalItemsSettings],combineAppliedValues),selectTooltipAxisDomainDefinition=createSelector([selectTooltipAxis],getDomainDefinition),selectTooltipStackGroups=createSelector([selectTooltipDisplayedData,selectAllGraphicalItemsSettings,selectStackOffsetType],combineStackGroups),selectTooltipDomainOfStackGroups=createSelector([selectTooltipStackGroups,selectChartDataWithIndexes,selectTooltipAxisType],combineDomainOfStackGroups),selectTooltipItemsSettingsExceptStacked=createSelector([selectAllGraphicalItemsSettings],filterGraphicalNotStackedItems),selectTooltipAllAppliedNumericalValuesIncludingErrorValues=createSelector([selectTooltipDisplayedData,selectTooltipAxis,selectTooltipItemsSettingsExceptStacked,selectTooltipAxisType],combineAppliedNumericalValuesIncludingErrorValues),selectReferenceDotsByTooltipAxis=createSelector([selectReferenceDots,selectTooltipAxisType,selectTooltipAxisId],filterReferenceElements),selectTooltipReferenceDotsDomain=createSelector([selectReferenceDotsByTooltipAxis,selectTooltipAxisType],combineDotsDomain),selectReferenceAreasByTooltipAxis=createSelector([selectReferenceAreas,selectTooltipAxisType,selectTooltipAxisId],filterReferenceElements),selectTooltipReferenceAreasDomain=createSelector([selectReferenceAreasByTooltipAxis,selectTooltipAxisType],combineAreasDomain),selectReferenceLinesByTooltipAxis=createSelector([selectReferenceLines,selectTooltipAxisType,selectTooltipAxisId],filterReferenceElements),selectTooltipReferenceLinesDomain=createSelector([selectReferenceLinesByTooltipAxis,selectTooltipAxisType],combineLinesDomain),selectTooltipReferenceElementsDomain=createSelector([selectTooltipReferenceDotsDomain,selectTooltipReferenceLinesDomain,selectTooltipReferenceAreasDomain],mergeDomains),selectTooltipNumericalDomain=createSelector([selectTooltipAxis,selectTooltipAxisDomainDefinition,selectTooltipDomainOfStackGroups,selectTooltipAllAppliedNumericalValuesIncludingErrorValues,selectTooltipReferenceElementsDomain],combineNumericalDomain),selectTooltipAxisDomain=createSelector([selectTooltipAxis,selectChartLayout,selectTooltipDisplayedData,selectAllTooltipAppliedValues,selectStackOffsetType,selectTooltipAxisType,selectTooltipNumericalDomain],combineAxisDomain),selectTooltipNiceTicks=createSelector([selectTooltipAxisDomain,selectTooltipAxis,selectTooltipAxisRealScaleType],combineNiceTicks),selectTooltipAxisDomainIncludingNiceTicks=createSelector([selectTooltipAxis,selectTooltipAxisDomain,selectTooltipNiceTicks,selectTooltipAxisType],combineAxisDomainWithNiceTicks),selectTooltipAxisRange=St=>{var er=selectTooltipAxisType(St),tr=selectTooltipAxisId(St),rr=!1;return selectAxisRange(St,er,tr,rr)},selectTooltipAxisRangeWithReverse=createSelector([selectTooltipAxis,selectTooltipAxisRange],combineAxisRangeWithReverse),selectTooltipAxisScale=createSelector([selectTooltipAxis,selectTooltipAxisRealScaleType,selectTooltipAxisDomainIncludingNiceTicks,selectTooltipAxisRangeWithReverse],combineScaleFunction),selectTooltipDuplicateDomain=createSelector([selectChartLayout,selectAllTooltipAppliedValues,selectTooltipAxis,selectTooltipAxisType],combineDuplicateDomain),selectTooltipCategoricalDomain=createSelector([selectChartLayout,selectAllTooltipAppliedValues,selectTooltipAxis,selectTooltipAxisType],combineCategoricalDomain),combineTicksOfTooltipAxis=(St,er,tr,rr,nr,ar,sr,ir)=>{if(er){var{type:or}=er,lr=isCategoricalAxis(St,ir);if(rr){var cr=tr==="scaleBand"&&rr.bandwidth?rr.bandwidth()/2:2,ur=or==="category"&&rr.bandwidth?rr.bandwidth()/cr:0;return ur=ir==="angleAxis"&&nr!=null&&(nr==null?void 0:nr.length)>=2?mathSign(nr[0]-nr[1])*2*ur:ur,lr&&sr?sr.map((dr,fr)=>({coordinate:rr(dr)+ur,value:dr,index:fr,offset:ur})):rr.domain().map((dr,fr)=>({coordinate:rr(dr)+ur,value:ar?ar[dr]:dr,index:fr,offset:ur}))}}},selectTooltipAxisTicks=createSelector([selectChartLayout,selectTooltipAxis,selectTooltipAxisRealScaleType,selectTooltipAxisScale,selectTooltipAxisRange,selectTooltipDuplicateDomain,selectTooltipCategoricalDomain,selectTooltipAxisType],combineTicksOfTooltipAxis),selectTooltipEventType=createSelector([selectDefaultTooltipEventType,selectValidateTooltipEventTypes,selectTooltipSettings],(St,er,tr)=>combineTooltipEventType(tr.shared,St,er)),selectTooltipTrigger=St=>St.tooltip.settings.trigger,selectDefaultIndex=St=>St.tooltip.settings.defaultIndex,selectTooltipInteractionState$1=createSelector([selectTooltipState,selectTooltipEventType,selectTooltipTrigger,selectDefaultIndex],combineTooltipInteractionState),selectActiveTooltipIndex=createSelector([selectTooltipInteractionState$1,selectTooltipDisplayedData],combineActiveTooltipIndex),selectActiveLabel$1=createSelector([selectTooltipAxisTicks,selectActiveTooltipIndex],combineActiveLabel),selectActiveTooltipDataKey=createSelector([selectTooltipInteractionState$1],St=>{if(St)return St.dataKey}),selectTooltipPayloadConfigurations$1=createSelector([selectTooltipState,selectTooltipEventType,selectTooltipTrigger,selectDefaultIndex],combineTooltipPayloadConfigurations),selectTooltipCoordinateForDefaultIndex=createSelector([selectChartWidth,selectChartHeight,selectChartLayout,selectChartOffsetInternal,selectTooltipAxisTicks,selectDefaultIndex,selectTooltipPayloadConfigurations$1,selectTooltipPayloadSearcher],combineCoordinateForDefaultIndex),selectActiveTooltipCoordinate=createSelector([selectTooltipInteractionState$1,selectTooltipCoordinateForDefaultIndex],(St,er)=>St!=null&&St.coordinate?St.coordinate:er),selectIsTooltipActive$1=createSelector([selectTooltipInteractionState$1],St=>St.active),selectActiveTooltipPayload=createSelector([selectTooltipPayloadConfigurations$1,selectActiveTooltipIndex,selectChartDataWithIndexes,selectTooltipAxis,selectActiveLabel$1,selectTooltipPayloadSearcher,selectTooltipEventType],combineTooltipPayload),selectActiveTooltipDataPoints=createSelector([selectActiveTooltipPayload],St=>{if(St!=null){var er=St.map(tr=>tr.payload).filter(tr=>tr!=null);return Array.from(new Set(er))}});function ownKeys$j(St,er){var tr=Object.keys(St);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(St);er&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(St,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$j(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$j(Object(tr),!0).forEach(function(rr){_defineProperty$n(St,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(St,Object.getOwnPropertyDescriptors(tr)):ownKeys$j(Object(tr)).forEach(function(rr){Object.defineProperty(St,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return St}function _defineProperty$n(St,er,tr){return(er=_toPropertyKey$n(er))in St?Object.defineProperty(St,er,{value:tr,enumerable:!0,configurable:!0,writable:!0}):St[er]=tr,St}function _toPropertyKey$n(St){var er=_toPrimitive$n(St,"string");return typeof er=="symbol"?er:er+""}function _toPrimitive$n(St,er){if(typeof St!="object"||!St)return St;var tr=St[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(St,er);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(St)}var useTooltipAxis=()=>useAppSelector(selectTooltipAxis),useTooltipAxisBandSize=()=>{var St=useTooltipAxis(),er=useAppSelector(selectTooltipAxisTicks),tr=useAppSelector(selectTooltipAxisScale);return getBandSizeOfAxis(_objectSpread$j(_objectSpread$j({},St),{},{scale:tr}),er)},useChartName=()=>useAppSelector(selectChartName),pickTooltipEventType=(St,er)=>er,pickTrigger=(St,er,tr)=>tr,pickDefaultIndex=(St,er,tr,rr)=>rr,selectOrderedTooltipTicks=createSelector(selectTooltipAxisTicks,St=>sortBy$1(St,er=>er.coordinate)),selectTooltipInteractionState=createSelector([selectTooltipState,pickTooltipEventType,pickTrigger,pickDefaultIndex],combineTooltipInteractionState),selectActiveIndex=createSelector([selectTooltipInteractionState,selectTooltipDisplayedData],combineActiveTooltipIndex),selectTooltipDataKey=(St,er,tr)=>{if(er!=null){var rr=selectTooltipState(St);return er==="axis"?tr==="hover"?rr.axisInteraction.hover.dataKey:rr.axisInteraction.click.dataKey:tr==="hover"?rr.itemInteraction.hover.dataKey:rr.itemInteraction.click.dataKey}},selectTooltipPayloadConfigurations=createSelector([selectTooltipState,pickTooltipEventType,pickTrigger,pickDefaultIndex],combineTooltipPayloadConfigurations),selectCoordinateForDefaultIndex=createSelector([selectChartWidth,selectChartHeight,selectChartLayout,selectChartOffsetInternal,selectTooltipAxisTicks,pickDefaultIndex,selectTooltipPayloadConfigurations,selectTooltipPayloadSearcher],combineCoordinateForDefaultIndex),selectActiveCoordinate=createSelector([selectTooltipInteractionState,selectCoordinateForDefaultIndex],(St,er)=>{var tr;return(tr=St.coordinate)!==null&&tr!==void 0?tr:er}),selectActiveLabel=createSelector(selectTooltipAxisTicks,selectActiveIndex,combineActiveLabel),selectTooltipPayload=createSelector([selectTooltipPayloadConfigurations,selectActiveIndex,selectChartDataWithIndexes,selectTooltipAxis,selectActiveLabel,selectTooltipPayloadSearcher,pickTooltipEventType],combineTooltipPayload),selectIsTooltipActive=createSelector([selectTooltipInteractionState],St=>({isActive:St.active,activeIndex:St.index})),combineActiveProps=(St,er,tr,rr,nr,ar,sr,ir)=>{if(!(!St||!er||!rr||!nr||!ar)){var or=inRange(St.chartX,St.chartY,er,tr,ir);if(or){var lr=calculateTooltipPos(or,er),cr=calculateActiveTickIndex(lr,sr,ar,rr,nr),ur=getActiveCoordinate(er,ar,cr,or);return{activeIndex:String(cr),activeCoordinate:ur}}}};function _extends$g(){return _extends$g=Object.assign?Object.assign.bind():function(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(St[rr]=tr[rr])}return St},_extends$g.apply(null,arguments)}function ownKeys$i(St,er){var tr=Object.keys(St);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(St);er&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(St,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$i(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$i(Object(tr),!0).forEach(function(rr){_defineProperty$m(St,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(St,Object.getOwnPropertyDescriptors(tr)):ownKeys$i(Object(tr)).forEach(function(rr){Object.defineProperty(St,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return St}function _defineProperty$m(St,er,tr){return(er=_toPropertyKey$m(er))in St?Object.defineProperty(St,er,{value:tr,enumerable:!0,configurable:!0,writable:!0}):St[er]=tr,St}function _toPropertyKey$m(St){var er=_toPrimitive$m(St,"string");return typeof er=="symbol"?er:er+""}function _toPrimitive$m(St,er){if(typeof St!="object"||!St)return St;var tr=St[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(St,er);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(St)}function CursorInternal(St){var{coordinate:er,payload:tr,index:rr,offset:nr,tooltipAxisBandSize:ar,layout:sr,cursor:ir,tooltipEventType:or,chartName:lr}=St,cr=er,ur=tr,dr=rr;if(!ir||!cr||lr!=="ScatterChart"&&or!=="axis")return null;var fr,mr;if(lr==="ScatterChart")fr=cr,mr=Cross;else if(lr==="BarChart")fr=getCursorRectangle(sr,cr,nr,ar),mr=Rectangle;else if(sr==="radial"){var{cx:xr,cy:pr,radius:hr,startAngle:gr,endAngle:vr}=getRadialCursorPoints(cr);fr={cx:xr,cy:pr,startAngle:gr,endAngle:vr,innerRadius:hr,outerRadius:hr},mr=Sector}else fr={points:getCursorPoints(sr,cr,nr)},mr=Curve;var br=typeof ir=="object"&&"className"in ir?ir.className:void 0,yr=_objectSpread$i(_objectSpread$i(_objectSpread$i(_objectSpread$i({stroke:"#ccc",pointerEvents:"none"},nr),fr),filterProps(ir,!1)),{},{payload:ur,payloadIndex:dr,className:clsx("recharts-tooltip-cursor",br)});return reactExports.isValidElement(ir)?reactExports.cloneElement(ir,yr):reactExports.createElement(mr,yr)}function Cursor(St){var er=useTooltipAxisBandSize(),tr=useOffsetInternal(),rr=useChartLayout(),nr=useChartName();return reactExports.createElement(CursorInternal,_extends$g({},St,{coordinate:St.coordinate,index:St.index,payload:St.payload,offset:tr,layout:rr,tooltipAxisBandSize:er,chartName:nr}))}var TooltipPortalContext=reactExports.createContext(null),useTooltipPortal=()=>reactExports.useContext(TooltipPortalContext),eventemitter3={exports:{}};(function(St){var er=Object.prototype.hasOwnProperty,tr="~";function rr(){}Object.create&&(rr.prototype=Object.create(null),new rr().__proto__||(tr=!1));function nr(or,lr,cr){this.fn=or,this.context=lr,this.once=cr||!1}function ar(or,lr,cr,ur,dr){if(typeof cr!="function")throw new TypeError("The listener must be a function");var fr=new nr(cr,ur||or,dr),mr=tr?tr+lr:lr;return or._events[mr]?or._events[mr].fn?or._events[mr]=[or._events[mr],fr]:or._events[mr].push(fr):(or._events[mr]=fr,or._eventsCount++),or}function sr(or,lr){--or._eventsCount===0?or._events=new rr:delete or._events[lr]}function ir(){this._events=new rr,this._eventsCount=0}ir.prototype.eventNames=function(){var lr=[],cr,ur;if(this._eventsCount===0)return lr;for(ur in cr=this._events)er.call(cr,ur)&&lr.push(tr?ur.slice(1):ur);return Object.getOwnPropertySymbols?lr.concat(Object.getOwnPropertySymbols(cr)):lr},ir.prototype.listeners=function(lr){var cr=tr?tr+lr:lr,ur=this._events[cr];if(!ur)return[];if(ur.fn)return[ur.fn];for(var dr=0,fr=ur.length,mr=new Array(fr);dr<fr;dr++)mr[dr]=ur[dr].fn;return mr},ir.prototype.listenerCount=function(lr){var cr=tr?tr+lr:lr,ur=this._events[cr];return ur?ur.fn?1:ur.length:0},ir.prototype.emit=function(lr,cr,ur,dr,fr,mr){var xr=tr?tr+lr:lr;if(!this._events[xr])return!1;var pr=this._events[xr],hr=arguments.length,gr,vr;if(pr.fn){switch(pr.once&&this.removeListener(lr,pr.fn,void 0,!0),hr){case 1:return pr.fn.call(pr.context),!0;case 2:return pr.fn.call(pr.context,cr),!0;case 3:return pr.fn.call(pr.context,cr,ur),!0;case 4:return pr.fn.call(pr.context,cr,ur,dr),!0;case 5:return pr.fn.call(pr.context,cr,ur,dr,fr),!0;case 6:return pr.fn.call(pr.context,cr,ur,dr,fr,mr),!0}for(vr=1,gr=new Array(hr-1);vr<hr;vr++)gr[vr-1]=arguments[vr];pr.fn.apply(pr.context,gr)}else{var br=pr.length,yr;for(vr=0;vr<br;vr++)switch(pr[vr].once&&this.removeListener(lr,pr[vr].fn,void 0,!0),hr){case 1:pr[vr].fn.call(pr[vr].context);break;case 2:pr[vr].fn.call(pr[vr].context,cr);break;case 3:pr[vr].fn.call(pr[vr].context,cr,ur);break;case 4:pr[vr].fn.call(pr[vr].context,cr,ur,dr);break;default:if(!gr)for(yr=1,gr=new Array(hr-1);yr<hr;yr++)gr[yr-1]=arguments[yr];pr[vr].fn.apply(pr[vr].context,gr)}}return!0},ir.prototype.on=function(lr,cr,ur){return ar(this,lr,cr,ur,!1)},ir.prototype.once=function(lr,cr,ur){return ar(this,lr,cr,ur,!0)},ir.prototype.removeListener=function(lr,cr,ur,dr){var fr=tr?tr+lr:lr;if(!this._events[fr])return this;if(!cr)return sr(this,fr),this;var mr=this._events[fr];if(mr.fn)mr.fn===cr&&(!dr||mr.once)&&(!ur||mr.context===ur)&&sr(this,fr);else{for(var xr=0,pr=[],hr=mr.length;xr<hr;xr++)(mr[xr].fn!==cr||dr&&!mr[xr].once||ur&&mr[xr].context!==ur)&&pr.push(mr[xr]);pr.length?this._events[fr]=pr.length===1?pr[0]:pr:sr(this,fr)}return this},ir.prototype.removeAllListeners=function(lr){var cr;return lr?(cr=tr?tr+lr:lr,this._events[cr]&&sr(this,cr)):(this._events=new rr,this._eventsCount=0),this},ir.prototype.off=ir.prototype.removeListener,ir.prototype.addListener=ir.prototype.on,ir.prefixed=tr,ir.EventEmitter=ir,St.exports=ir})(eventemitter3);var eventemitter3Exports=eventemitter3.exports;const EventEmitter=getDefaultExportFromCjs(eventemitter3Exports);var eventCenter=new EventEmitter,TOOLTIP_SYNC_EVENT="recharts.syncEvent.tooltip",BRUSH_SYNC_EVENT="recharts.syncEvent.brush";function arrayTooltipSearcher(St,er){if(er){var tr=Number.parseInt(er,10);if(!isNan(tr))return St==null?void 0:St[tr]}}var initialState$6={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},optionsSlice=createSlice({name:"options",initialState:initialState$6,reducers:{createEventEmitter:St=>{St.eventEmitter==null&&(St.eventEmitter=Symbol("rechartsEventEmitter"))}}}),optionsReducer=optionsSlice.reducer,{createEventEmitter}=optionsSlice.actions;function selectSynchronisedTooltipState(St){return St.tooltip.syncInteraction}var initialChartDataState={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},chartDataSlice=createSlice({name:"chartData",initialState:initialChartDataState,reducers:{setChartData(St,er){if(St.chartData=er.payload,er.payload==null){St.dataStartIndex=0,St.dataEndIndex=0;return}er.payload.length>0&&St.dataEndIndex!==er.payload.length-1&&(St.dataEndIndex=er.payload.length-1)},setComputedData(St,er){St.computedData=er.payload},setDataStartEndIndexes(St,er){var{startIndex:tr,endIndex:rr}=er.payload;tr!=null&&(St.dataStartIndex=tr),rr!=null&&(St.dataEndIndex=rr)}}}),{setChartData,setDataStartEndIndexes,setComputedData}=chartDataSlice.actions,chartDataReducer=chartDataSlice.reducer,noop$2=()=>{};function useTooltipSyncEventsListener(){var St=useAppSelector(selectSyncId),er=useAppSelector(selectEventEmitter),tr=useAppDispatch(),rr=useAppSelector(selectSyncMethod),nr=useAppSelector(selectTooltipAxisTicks),ar=useChartLayout(),sr=useViewBox(),ir=useAppSelector(or=>or.rootProps.className);reactExports.useEffect(()=>{if(St==null)return noop$2;var or=(lr,cr,ur)=>{if(er!==ur&&St===lr){if(rr==="index"){tr(cr);return}if(nr!=null){var dr;if(typeof rr=="function"){var fr={activeTooltipIndex:cr.payload.index==null?void 0:Number(cr.payload.index),isTooltipActive:cr.payload.active,activeIndex:cr.payload.index==null?void 0:Number(cr.payload.index),activeLabel:cr.payload.label,activeDataKey:cr.payload.dataKey,activeCoordinate:cr.payload.coordinate},mr=rr(nr,fr);dr=nr[mr]}else rr==="value"&&(dr=nr.find(Er=>String(Er.value)===cr.payload.label));var{coordinate:xr}=cr.payload;if(dr==null||cr.payload.active===!1||xr==null||sr==null){tr(setSyncInteraction({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:pr,y:hr}=xr,gr=Math.min(pr,sr.x+sr.width),vr=Math.min(hr,sr.y+sr.height),br={x:ar==="horizontal"?dr.coordinate:gr,y:ar==="horizontal"?vr:dr.coordinate},yr=setSyncInteraction({active:cr.payload.active,coordinate:br,dataKey:cr.payload.dataKey,index:String(dr.index),label:cr.payload.label});tr(yr)}}};return eventCenter.on(TOOLTIP_SYNC_EVENT,or),()=>{eventCenter.off(TOOLTIP_SYNC_EVENT,or)}},[ir,tr,er,St,rr,nr,ar,sr])}function useBrushSyncEventsListener(){var St=useAppSelector(selectSyncId),er=useAppSelector(selectEventEmitter),tr=useAppDispatch();reactExports.useEffect(()=>{if(St==null)return noop$2;var rr=(nr,ar,sr)=>{er!==sr&&St===nr&&tr(setDataStartEndIndexes(ar))};return eventCenter.on(BRUSH_SYNC_EVENT,rr),()=>{eventCenter.off(BRUSH_SYNC_EVENT,rr)}},[tr,er,St])}function useSynchronisedEventsFromOtherCharts(){var St=useAppDispatch();reactExports.useEffect(()=>{St(createEventEmitter())},[St]),useTooltipSyncEventsListener(),useBrushSyncEventsListener()}function useTooltipChartSynchronisation(St,er,tr,rr,nr,ar){var sr=useAppSelector(dr=>selectTooltipDataKey(dr,St,er)),ir=useAppSelector(selectEventEmitter),or=useAppSelector(selectSyncId),lr=useAppSelector(selectSyncMethod),cr=useAppSelector(selectSynchronisedTooltipState),ur=cr==null?void 0:cr.active;reactExports.useEffect(()=>{if(!ur&&or!=null&&ir!=null){var dr=setSyncInteraction({active:ar,coordinate:tr,dataKey:sr,index:nr,label:typeof rr=="number"?String(rr):rr});eventCenter.emit(TOOLTIP_SYNC_EVENT,or,dr,ir)}},[ur,tr,sr,nr,rr,ir,or,lr,ar])}function ownKeys$h(St,er){var tr=Object.keys(St);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(St);er&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(St,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$h(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$h(Object(tr),!0).forEach(function(rr){_defineProperty$l(St,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(St,Object.getOwnPropertyDescriptors(tr)):ownKeys$h(Object(tr)).forEach(function(rr){Object.defineProperty(St,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return St}function _defineProperty$l(St,er,tr){return(er=_toPropertyKey$l(er))in St?Object.defineProperty(St,er,{value:tr,enumerable:!0,configurable:!0,writable:!0}):St[er]=tr,St}function _toPropertyKey$l(St){var er=_toPrimitive$l(St,"string");return typeof er=="symbol"?er:er+""}function _toPrimitive$l(St,er){if(typeof St!="object"||!St)return St;var tr=St[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(St,er);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(St)}function defaultUniqBy(St){return St.dataKey}function renderContent(St,er){return reactExports.isValidElement(St)?reactExports.cloneElement(St,er):typeof St=="function"?reactExports.createElement(St,er):reactExports.createElement(DefaultTooltipContent,er)}var emptyPayload=[],defaultTooltipProps={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Global.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Tooltip(St){var er=resolveDefaultProps(St,defaultTooltipProps),{active:tr,allowEscapeViewBox:rr,animationDuration:nr,animationEasing:ar,content:sr,filterNull:ir,isAnimationActive:or,offset:lr,payloadUniqBy:cr,position:ur,reverseDirection:dr,useTranslate3d:fr,wrapperStyle:mr,cursor:xr,shared:pr,trigger:hr,defaultIndex:gr,portal:vr,axisId:br}=er,yr=useAppDispatch(),Er=typeof gr=="number"?String(gr):gr;reactExports.useEffect(()=>{yr(setTooltipSettingsState({shared:pr,trigger:hr,axisId:br,active:tr,defaultIndex:Er}))},[yr,pr,hr,br,tr,Er]);var jr=useViewBox(),_r=useAccessibilityLayer(),Cr=useTooltipEventType(pr),{activeIndex:Or,isActive:Pr}=useAppSelector(Dr=>selectIsTooltipActive(Dr,Cr,hr,Er)),Lr=useAppSelector(Dr=>selectTooltipPayload(Dr,Cr,hr,Er)),Gr=useAppSelector(Dr=>selectActiveLabel(Dr,Cr,hr,Er)),Kr=useAppSelector(Dr=>selectActiveCoordinate(Dr,Cr,hr,Er)),nn=Lr,Qr=useTooltipPortal(),zr=tr??Pr,[Vr,Jr]=useElementOffset([nn,zr]),tn=Cr==="axis"?Gr:void 0;useTooltipChartSynchronisation(Cr,hr,Kr,tn,Or,zr);var Yr=vr??Qr;if(Yr==null)return null;var Sr=nn??emptyPayload;zr||(Sr=emptyPayload),ir&&Sr.length&&(Sr=getUniqPayload(nn.filter(Dr=>Dr.value!=null&&(Dr.hide!==!0||er.includeHidden)),cr,defaultUniqBy));var Rr=Sr.length>0,Tr=reactExports.createElement(TooltipBoundingBox,{allowEscapeViewBox:rr,animationDuration:nr,animationEasing:ar,isAnimationActive:or,active:zr,coordinate:Kr,hasPayload:Rr,offset:lr,position:ur,reverseDirection:dr,useTranslate3d:fr,viewBox:jr,wrapperStyle:mr,lastBoundingBox:Vr,innerRef:Jr,hasPortalFromProps:!!vr},renderContent(sr,_objectSpread$h(_objectSpread$h({},er),{},{payload:Sr,label:tn,active:zr,coordinate:Kr,accessibilityLayer:_r})));return reactExports.createElement(reactExports.Fragment,null,reactDomExports.createPortal(Tr,Yr),zr&&reactExports.createElement(Cursor,{cursor:xr,tooltipEventType:Cr,coordinate:Kr,payload:nn,index:Or}))}var throttle$2={},debounce={};(function(St){Object.defineProperty(St,Symbol.toStringTag,{value:"Module"});function er(tr,rr=0,nr={}){typeof nr!="object"&&(nr={});let ar=null,sr=null,ir=null,or=0,lr=null,cr;const{leading:ur=!1,trailing:dr=!0,maxWait:fr}=nr,mr="maxWait"in nr,xr=mr?Math.max(Number(fr)||0,rr):0,pr=jr=>(ar!==null&&(cr=tr.apply(sr,ar)),ar=sr=null,or=jr,cr),hr=jr=>(or=jr,lr=setTimeout(yr,rr),ur&&ar!==null?pr(jr):cr),gr=jr=>(lr=null,dr&&ar!==null?pr(jr):cr),vr=jr=>{if(ir===null)return!0;const _r=jr-ir,Cr=_r>=rr||_r<0,Or=mr&&jr-or>=xr;return Cr||Or},br=jr=>{const _r=ir===null?0:jr-ir,Cr=rr-_r,Or=xr-(jr-or);return mr?Math.min(Cr,Or):Cr},yr=()=>{const jr=Date.now();if(vr(jr))return gr(jr);lr=setTimeout(yr,br(jr))},Er=function(...jr){const _r=Date.now(),Cr=vr(_r);if(ar=jr,sr=this,ir=_r,Cr){if(lr===null)return hr(_r);if(mr)return clearTimeout(lr),lr=setTimeout(yr,rr),pr(_r)}return lr===null&&(lr=setTimeout(yr,rr)),cr};return Er.cancel=()=>{lr!==null&&clearTimeout(lr),or=0,ir=ar=sr=lr=null},Er.flush=()=>lr===null?cr:gr(Date.now()),Er}St.debounce=er})(debounce);(function(St){Object.defineProperty(St,Symbol.toStringTag,{value:"Module"});const er=debounce;function tr(rr,nr=0,ar={}){const{leading:sr=!0,trailing:ir=!0}=ar;return er.debounce(rr,nr,{leading:sr,maxWait:nr,trailing:ir})}St.throttle=tr})(throttle$2);var throttle=throttle$2.throttle;const throttle$1=getDefaultExportFromCjs(throttle);var warn=function St(er,tr){for(var rr=arguments.length,nr=new Array(rr>2?rr-2:0),ar=2;ar<rr;ar++)nr[ar-2]=arguments[ar]};function ownKeys$g(St,er){var tr=Object.keys(St);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(St);er&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(St,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$g(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$g(Object(tr),!0).forEach(function(rr){_defineProperty$k(St,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(St,Object.getOwnPropertyDescriptors(tr)):ownKeys$g(Object(tr)).forEach(function(rr){Object.defineProperty(St,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return St}function _defineProperty$k(St,er,tr){return(er=_toPropertyKey$k(er))in St?Object.defineProperty(St,er,{value:tr,enumerable:!0,configurable:!0,writable:!0}):St[er]=tr,St}function _toPropertyKey$k(St){var er=_toPrimitive$k(St,"string");return typeof er=="symbol"?er:er+""}function _toPrimitive$k(St,er){if(typeof St!="object"||!St)return St;var tr=St[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(St,er);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(St)}var ResponsiveContainer=reactExports.forwardRef((St,er)=>{var{aspect:tr,initialDimension:rr={width:-1,height:-1},width:nr="100%",height:ar="100%",minWidth:sr=0,minHeight:ir,maxHeight:or,children:lr,debounce:cr=0,id:ur,className:dr,onResize:fr,style:mr={}}=St,xr=reactExports.useRef(null),pr=reactExports.useRef();pr.current=fr,reactExports.useImperativeHandle(er,()=>xr.current);var[hr,gr]=reactExports.useState({containerWidth:rr.width,containerHeight:rr.height}),vr=reactExports.useCallback((yr,Er)=>{gr(jr=>{var _r=Math.round(yr),Cr=Math.round(Er);return jr.containerWidth===_r&&jr.containerHeight===Cr?jr:{containerWidth:_r,containerHeight:Cr}})},[]);reactExports.useEffect(()=>{var yr=Cr=>{var Or,{width:Pr,height:Lr}=Cr[0].contentRect;vr(Pr,Lr),(Or=pr.current)===null||Or===void 0||Or.call(pr,Pr,Lr)};cr>0&&(yr=throttle$1(yr,cr,{trailing:!0,leading:!1}));var Er=new ResizeObserver(yr),{width:jr,height:_r}=xr.current.getBoundingClientRect();return vr(jr,_r),Er.observe(xr.current),()=>{Er.disconnect()}},[vr,cr]);var br=reactExports.useMemo(()=>{var{containerWidth:yr,containerHeight:Er}=hr;if(yr<0||Er<0)return null;warn(isPercent(nr)||isPercent(ar),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,nr,ar),warn(!tr||tr>0,"The aspect(%s) must be greater than zero.",tr);var jr=isPercent(nr)?yr:nr,_r=isPercent(ar)?Er:ar;return tr&&tr>0&&(jr?_r=jr/tr:_r&&(jr=_r*tr),or&&_r>or&&(_r=or)),warn(jr>0||_r>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,jr,_r,nr,ar,sr,ir,tr),reactExports.Children.map(lr,Cr=>reactExports.cloneElement(Cr,{width:jr,height:_r,style:_objectSpread$g({width:jr,height:_r},Cr.props.style)}))},[tr,lr,ar,or,ir,sr,hr,nr]);return reactExports.createElement("div",{id:ur?"".concat(ur):void 0,className:clsx("recharts-responsive-container",dr),style:_objectSpread$g(_objectSpread$g({},mr),{},{width:nr,height:ar,minWidth:sr,minHeight:ir,maxHeight:or}),ref:xr},reactExports.createElement("div",{style:{width:0,height:0,overflow:"visible"}},br))}),Cell$1=St=>null;Cell$1.displayName="Cell";function ownKeys$f(St,er){var tr=Object.keys(St);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(St);er&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(St,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$f(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$f(Object(tr),!0).forEach(function(rr){_defineProperty$j(St,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(St,Object.getOwnPropertyDescriptors(tr)):ownKeys$f(Object(tr)).forEach(function(rr){Object.defineProperty(St,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return St}function _defineProperty$j(St,er,tr){return(er=_toPropertyKey$j(er))in St?Object.defineProperty(St,er,{value:tr,enumerable:!0,configurable:!0,writable:!0}):St[er]=tr,St}function _toPropertyKey$j(St){var er=_toPrimitive$j(St,"string");return typeof er=="symbol"?er:er+""}function _toPrimitive$j(St,er){if(typeof St!="object"||!St)return St;var tr=St[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(St,er);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(St)}var stringCache={widthCache:{},cacheCount:0},MAX_CACHE_NUM=2e3,SPAN_STYLE={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},MEASUREMENT_SPAN_ID="recharts_measurement_span";function removeInvalidKeys(St){var er=_objectSpread$f({},St);return Object.keys(er).forEach(tr=>{er[tr]||delete er[tr]}),er}var getStringSize=function St(er){var tr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(er==null||Global.isSsr)return{width:0,height:0};var rr=removeInvalidKeys(tr),nr=JSON.stringify({text:er,copyStyle:rr});if(stringCache.widthCache[nr])return stringCache.widthCache[nr];try{var ar=document.getElementById(MEASUREMENT_SPAN_ID);ar||(ar=document.createElement("span"),ar.setAttribute("id",MEASUREMENT_SPAN_ID),ar.setAttribute("aria-hidden","true"),document.body.appendChild(ar));var sr=_objectSpread$f(_objectSpread$f({},SPAN_STYLE),rr);Object.assign(ar.style,sr),ar.textContent="".concat(er);var ir=ar.getBoundingClientRect(),or={width:ir.width,height:ir.height};return stringCache.widthCache[nr]=or,++stringCache.cacheCount>MAX_CACHE_NUM&&(stringCache.cacheCount=0,stringCache.widthCache={}),or}catch{return{width:0,height:0}}},MULTIPLY_OR_DIVIDE_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ADD_OR_SUBTRACT_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CSS_LENGTH_UNIT_REGEX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,NUM_SPLIT_REGEX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,CONVERSION_RATES={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},FIXED_CSS_LENGTH_UNITS=Object.keys(CONVERSION_RATES),STR_NAN="NaN";function convertToPx(St,er){return St*CONVERSION_RATES[er]}class DecimalCSS{static parse(er){var tr,[,rr,nr]=(tr=NUM_SPLIT_REGEX.exec(er))!==null&&tr!==void 0?tr:[];return new DecimalCSS(parseFloat(rr),nr??"")}constructor(er,tr){this.num=er,this.unit=tr,this.num=er,this.unit=tr,isNan(er)&&(this.unit=""),tr!==""&&!CSS_LENGTH_UNIT_REGEX.test(tr)&&(this.num=NaN,this.unit=""),FIXED_CSS_LENGTH_UNITS.includes(tr)&&(this.num=convertToPx(er,tr),this.unit="px")}add(er){return this.unit!==er.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num+er.num,this.unit)}subtract(er){return this.unit!==er.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num-er.num,this.unit)}multiply(er){return this.unit!==""&&er.unit!==""&&this.unit!==er.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num*er.num,this.unit||er.unit)}divide(er){return this.unit!==""&&er.unit!==""&&this.unit!==er.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num/er.num,this.unit||er.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return isNan(this.num)}}function calculateArithmetic(St){if(St.includes(STR_NAN))return STR_NAN;for(var er=St;er.includes("*")||er.includes("/");){var tr,[,rr,nr,ar]=(tr=MULTIPLY_OR_DIVIDE_REGEX.exec(er))!==null&&tr!==void 0?tr:[],sr=DecimalCSS.parse(rr??""),ir=DecimalCSS.parse(ar??""),or=nr==="*"?sr.multiply(ir):sr.divide(ir);if(or.isNaN())return STR_NAN;er=er.replace(MULTIPLY_OR_DIVIDE_REGEX,or.toString())}for(;er.includes("+")||/.-\d+(?:\.\d+)?/.test(er);){var lr,[,cr,ur,dr]=(lr=ADD_OR_SUBTRACT_REGEX.exec(er))!==null&&lr!==void 0?lr:[],fr=DecimalCSS.parse(cr??""),mr=DecimalCSS.parse(dr??""),xr=ur==="+"?fr.add(mr):fr.subtract(mr);if(xr.isNaN())return STR_NAN;er=er.replace(ADD_OR_SUBTRACT_REGEX,xr.toString())}return er}var PARENTHESES_REGEX=/\(([^()]*)\)/;function calculateParentheses(St){for(var er=St,tr;(tr=PARENTHESES_REGEX.exec(er))!=null;){var[,rr]=tr;er=er.replace(PARENTHESES_REGEX,calculateArithmetic(rr))}return er}function evaluateExpression(St){var er=St.replace(/\s+/g,"");return er=calculateParentheses(er),er=calculateArithmetic(er),er}function safeEvaluateExpression(St){try{return evaluateExpression(St)}catch{return STR_NAN}}function reduceCSSCalc(St){var er=safeEvaluateExpression(St.slice(5,-1));return er===STR_NAN?"":er}var _excluded$g=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],_excluded2$6=["dx","dy","angle","className","breakAll"];function _extends$f(){return _extends$f=Object.assign?Object.assign.bind():function(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(St[rr]=tr[rr])}return St},_extends$f.apply(null,arguments)}function _objectWithoutProperties$g(St,er){if(St==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$g(St,er);if(Object.getOwnPropertySymbols){var ar=Object.getOwnPropertySymbols(St);for(rr=0;rr<ar.length;rr++)tr=ar[rr],er.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(St,tr)&&(nr[tr]=St[tr])}return nr}function _objectWithoutPropertiesLoose$g(St,er){if(St==null)return{};var tr={};for(var rr in St)if({}.hasOwnProperty.call(St,rr)){if(er.indexOf(rr)!==-1)continue;tr[rr]=St[rr]}return tr}var BREAKING_SPACES=/[ \f\n\r\t\v\u2028\u2029]+/,calculateWordWidths=St=>{var{children:er,breakAll:tr,style:rr}=St;try{var nr=[];isNullish(er)||(tr?nr=er.toString().split(""):nr=er.toString().split(BREAKING_SPACES));var ar=nr.map(ir=>({word:ir,width:getStringSize(ir,rr).width})),sr=tr?0:getStringSize("",rr).width;return{wordsWithComputedWidth:ar,spaceWidth:sr}}catch{return null}},calculateWordsByLines=(St,er,tr,rr,nr)=>{var{maxLines:ar,children:sr,style:ir,breakAll:or}=St,lr=isNumber(ar),cr=sr,ur=function(){var Pr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Pr.reduce((Lr,Gr)=>{var{word:Kr,width:nn}=Gr,Qr=Lr[Lr.length-1];if(Qr&&(rr==null||nr||Qr.width+nn+tr<Number(rr)))Qr.words.push(Kr),Qr.width+=nn+tr;else{var zr={words:[Kr],width:nn};Lr.push(zr)}return Lr},[])},dr=ur(er),fr=Or=>Or.reduce((Pr,Lr)=>Pr.width>Lr.width?Pr:Lr);if(!lr||nr)return dr;var mr=dr.length>ar||fr(dr).width>Number(rr);if(!mr)return dr;for(var xr="",pr=Or=>{var Pr=cr.slice(0,Or),Lr=calculateWordWidths({breakAll:or,style:ir,children:Pr+xr}).wordsWithComputedWidth,Gr=ur(Lr),Kr=Gr.length>ar||fr(Gr).width>Number(rr);return[Kr,Gr]},hr=0,gr=cr.length-1,vr=0,br;hr<=gr&&vr<=cr.length-1;){var yr=Math.floor((hr+gr)/2),Er=yr-1,[jr,_r]=pr(Er),[Cr]=pr(yr);if(!jr&&!Cr&&(hr=yr+1),jr&&Cr&&(gr=yr-1),!jr&&Cr){br=_r;break}vr++}return br||dr},getWordsWithoutCalculate=St=>{var er=isNullish(St)?[]:St.toString().split(BREAKING_SPACES);return[{words:er}]},getWordsByLines=St=>{var{width:er,scaleToFit:tr,children:rr,style:nr,breakAll:ar,maxLines:sr}=St;if((er||tr)&&!Global.isSsr){var ir,or,lr=calculateWordWidths({breakAll:ar,children:rr,style:nr});if(lr){var{wordsWithComputedWidth:cr,spaceWidth:ur}=lr;ir=cr,or=ur}else return getWordsWithoutCalculate(rr);return calculateWordsByLines({breakAll:ar,children:rr,maxLines:sr,style:nr},ir,or,er,tr)}return getWordsWithoutCalculate(rr)},DEFAULT_FILL="#808080",Text=reactExports.forwardRef((St,er)=>{var{x:tr=0,y:rr=0,lineHeight:nr="1em",capHeight:ar="0.71em",scaleToFit:sr=!1,textAnchor:ir="start",verticalAnchor:or="end",fill:lr=DEFAULT_FILL}=St,cr=_objectWithoutProperties$g(St,_excluded$g),ur=reactExports.useMemo(()=>getWordsByLines({breakAll:cr.breakAll,children:cr.children,maxLines:cr.maxLines,scaleToFit:sr,style:cr.style,width:cr.width}),[cr.breakAll,cr.children,cr.maxLines,sr,cr.style,cr.width]),{dx:dr,dy:fr,angle:mr,className:xr,breakAll:pr}=cr,hr=_objectWithoutProperties$g(cr,_excluded2$6);if(!isNumOrStr(tr)||!isNumOrStr(rr))return null;var gr=tr+(isNumber(dr)?dr:0),vr=rr+(isNumber(fr)?fr:0),br;switch(or){case"start":br=reduceCSSCalc("calc(".concat(ar,")"));break;case"middle":br=reduceCSSCalc("calc(".concat((ur.length-1)/2," * -").concat(nr," + (").concat(ar," / 2))"));break;default:br=reduceCSSCalc("calc(".concat(ur.length-1," * -").concat(nr,")"));break}var yr=[];if(sr){var Er=ur[0].width,{width:jr}=cr;yr.push("scale(".concat(isNumber(jr)?jr/Er:1,")"))}return mr&&yr.push("rotate(".concat(mr,", ").concat(gr,", ").concat(vr,")")),yr.length&&(hr.transform=yr.join(" ")),reactExports.createElement("text",_extends$f({},filterProps(hr,!0),{ref:er,x:gr,y:vr,className:clsx("recharts-text",xr),textAnchor:ir,fill:lr.includes("url")?DEFAULT_FILL:lr}),ur.map((_r,Cr)=>{var Or=_r.words.join(pr?"":" ");return reactExports.createElement("tspan",{x:gr,dy:Cr===0?br:nr,key:"".concat(Or,"-").concat(Cr)},Or)}))});Text.displayName="Text";var _excluded$f=["offset"],_excluded2$5=["labelRef"];function _objectWithoutProperties$f(St,er){if(St==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$f(St,er);if(Object.getOwnPropertySymbols){var ar=Object.getOwnPropertySymbols(St);for(rr=0;rr<ar.length;rr++)tr=ar[rr],er.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(St,tr)&&(nr[tr]=St[tr])}return nr}function _objectWithoutPropertiesLoose$f(St,er){if(St==null)return{};var tr={};for(var rr in St)if({}.hasOwnProperty.call(St,rr)){if(er.indexOf(rr)!==-1)continue;tr[rr]=St[rr]}return tr}function ownKeys$e(St,er){var tr=Object.keys(St);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(St);er&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(St,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$e(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$e(Object(tr),!0).forEach(function(rr){_defineProperty$i(St,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(St,Object.getOwnPropertyDescriptors(tr)):ownKeys$e(Object(tr)).forEach(function(rr){Object.defineProperty(St,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return St}function _defineProperty$i(St,er,tr){return(er=_toPropertyKey$i(er))in St?Object.defineProperty(St,er,{value:tr,enumerable:!0,configurable:!0,writable:!0}):St[er]=tr,St}function _toPropertyKey$i(St){var er=_toPrimitive$i(St,"string");return typeof er=="symbol"?er:er+""}function _toPrimitive$i(St,er){if(typeof St!="object"||!St)return St;var tr=St[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(St,er);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(St)}function _extends$e(){return _extends$e=Object.assign?Object.assign.bind():function(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(St[rr]=tr[rr])}return St},_extends$e.apply(null,arguments)}var getLabel=St=>{var{value:er,formatter:tr}=St,rr=isNullish(St.children)?er:St.children;return typeof tr=="function"?tr(rr):rr},isLabelContentAFunction=St=>St!=null&&typeof St=="function",getDeltaAngle=(St,er)=>{var tr=mathSign(er-St),rr=Math.min(Math.abs(er-St),360);return tr*rr},renderRadialLabel=(St,er,tr)=>{var{position:rr,viewBox:nr,offset:ar,className:sr}=St,{cx:ir,cy:or,innerRadius:lr,outerRadius:cr,startAngle:ur,endAngle:dr,clockWise:fr}=nr,mr=(lr+cr)/2,xr=getDeltaAngle(ur,dr),pr=xr>=0?1:-1,hr,gr;rr==="insideStart"?(hr=ur+pr*ar,gr=fr):rr==="insideEnd"?(hr=dr-pr*ar,gr=!fr):rr==="end"&&(hr=dr+pr*ar,gr=fr),gr=xr<=0?gr:!gr;var vr=polarToCartesian(ir,or,mr,hr),br=polarToCartesian(ir,or,mr,hr+(gr?1:-1)*359),yr="M".concat(vr.x,",").concat(vr.y,`
    A`).concat(mr,",").concat(mr,",0,1,").concat(gr?0:1,`,
    `).concat(br.x,",").concat(br.y),Er=isNullish(St.id)?uniqueId("recharts-radial-line-"):St.id;return reactExports.createElement("text",_extends$e({},tr,{dominantBaseline:"central",className:clsx("recharts-radial-bar-label",sr)}),reactExports.createElement("defs",null,reactExports.createElement("path",{id:Er,d:yr})),reactExports.createElement("textPath",{xlinkHref:"#".concat(Er)},er))},getAttrsOfPolarLabel=St=>{var{viewBox:er,offset:tr,position:rr}=St,{cx:nr,cy:ar,innerRadius:sr,outerRadius:ir,startAngle:or,endAngle:lr}=er,cr=(or+lr)/2;if(rr==="outside"){var{x:ur,y:dr}=polarToCartesian(nr,ar,ir+tr,cr);return{x:ur,y:dr,textAnchor:ur>=nr?"start":"end",verticalAnchor:"middle"}}if(rr==="center")return{x:nr,y:ar,textAnchor:"middle",verticalAnchor:"middle"};if(rr==="centerTop")return{x:nr,y:ar,textAnchor:"middle",verticalAnchor:"start"};if(rr==="centerBottom")return{x:nr,y:ar,textAnchor:"middle",verticalAnchor:"end"};var fr=(sr+ir)/2,{x:mr,y:xr}=polarToCartesian(nr,ar,fr,cr);return{x:mr,y:xr,textAnchor:"middle",verticalAnchor:"middle"}},getAttrsOfCartesianLabel=(St,er)=>{var{parentViewBox:tr,offset:rr,position:nr}=St,{x:ar,y:sr,width:ir,height:or}=er,lr=or>=0?1:-1,cr=lr*rr,ur=lr>0?"end":"start",dr=lr>0?"start":"end",fr=ir>=0?1:-1,mr=fr*rr,xr=fr>0?"end":"start",pr=fr>0?"start":"end";if(nr==="top"){var hr={x:ar+ir/2,y:sr-lr*rr,textAnchor:"middle",verticalAnchor:ur};return _objectSpread$e(_objectSpread$e({},hr),tr?{height:Math.max(sr-tr.y,0),width:ir}:{})}if(nr==="bottom"){var gr={x:ar+ir/2,y:sr+or+cr,textAnchor:"middle",verticalAnchor:dr};return _objectSpread$e(_objectSpread$e({},gr),tr?{height:Math.max(tr.y+tr.height-(sr+or),0),width:ir}:{})}if(nr==="left"){var vr={x:ar-mr,y:sr+or/2,textAnchor:xr,verticalAnchor:"middle"};return _objectSpread$e(_objectSpread$e({},vr),tr?{width:Math.max(vr.x-tr.x,0),height:or}:{})}if(nr==="right"){var br={x:ar+ir+mr,y:sr+or/2,textAnchor:pr,verticalAnchor:"middle"};return _objectSpread$e(_objectSpread$e({},br),tr?{width:Math.max(tr.x+tr.width-br.x,0),height:or}:{})}var yr=tr?{width:ir,height:or}:{};return nr==="insideLeft"?_objectSpread$e({x:ar+mr,y:sr+or/2,textAnchor:pr,verticalAnchor:"middle"},yr):nr==="insideRight"?_objectSpread$e({x:ar+ir-mr,y:sr+or/2,textAnchor:xr,verticalAnchor:"middle"},yr):nr==="insideTop"?_objectSpread$e({x:ar+ir/2,y:sr+cr,textAnchor:"middle",verticalAnchor:dr},yr):nr==="insideBottom"?_objectSpread$e({x:ar+ir/2,y:sr+or-cr,textAnchor:"middle",verticalAnchor:ur},yr):nr==="insideTopLeft"?_objectSpread$e({x:ar+mr,y:sr+cr,textAnchor:pr,verticalAnchor:dr},yr):nr==="insideTopRight"?_objectSpread$e({x:ar+ir-mr,y:sr+cr,textAnchor:xr,verticalAnchor:dr},yr):nr==="insideBottomLeft"?_objectSpread$e({x:ar+mr,y:sr+or-cr,textAnchor:pr,verticalAnchor:ur},yr):nr==="insideBottomRight"?_objectSpread$e({x:ar+ir-mr,y:sr+or-cr,textAnchor:xr,verticalAnchor:ur},yr):nr&&typeof nr=="object"&&(isNumber(nr.x)||isPercent(nr.x))&&(isNumber(nr.y)||isPercent(nr.y))?_objectSpread$e({x:ar+getPercentValue(nr.x,ir),y:sr+getPercentValue(nr.y,or),textAnchor:"end",verticalAnchor:"end"},yr):_objectSpread$e({x:ar+ir/2,y:sr+or/2,textAnchor:"middle",verticalAnchor:"middle"},yr)},isPolar=St=>"cx"in St&&isNumber(St.cx);function Label(St){var{offset:er=5}=St,tr=_objectWithoutProperties$f(St,_excluded$f),rr=_objectSpread$e({offset:er},tr),{viewBox:nr,position:ar,value:sr,children:ir,content:or,className:lr="",textBreakAll:cr,labelRef:ur}=rr,dr=useViewBox(),fr=nr||dr;if(!fr||isNullish(sr)&&isNullish(ir)&&!reactExports.isValidElement(or)&&typeof or!="function")return null;if(reactExports.isValidElement(or)){var{labelRef:mr}=rr,xr=_objectWithoutProperties$f(rr,_excluded2$5);return reactExports.cloneElement(or,xr)}var pr;if(typeof or=="function"){if(pr=reactExports.createElement(or,rr),reactExports.isValidElement(pr))return pr}else pr=getLabel(rr);var hr=isPolar(fr),gr=filterProps(rr,!0);if(hr&&(ar==="insideStart"||ar==="insideEnd"||ar==="end"))return renderRadialLabel(rr,pr,gr);var vr=hr?getAttrsOfPolarLabel(rr):getAttrsOfCartesianLabel(rr,fr);return reactExports.createElement(Text,_extends$e({ref:ur,className:clsx("recharts-label",lr)},gr,vr,{breakAll:cr}),pr)}Label.displayName="Label";var parseViewBox=St=>{var{cx:er,cy:tr,angle:rr,startAngle:nr,endAngle:ar,r:sr,radius:ir,innerRadius:or,outerRadius:lr,x:cr,y:ur,top:dr,left:fr,width:mr,height:xr,clockWise:pr,labelViewBox:hr}=St;if(hr)return hr;if(isNumber(mr)&&isNumber(xr)){if(isNumber(cr)&&isNumber(ur))return{x:cr,y:ur,width:mr,height:xr};if(isNumber(dr)&&isNumber(fr))return{x:dr,y:fr,width:mr,height:xr}}if(isNumber(cr)&&isNumber(ur))return{x:cr,y:ur,width:0,height:0};if(isNumber(er)&&isNumber(tr))return{cx:er,cy:tr,startAngle:nr||rr||0,endAngle:ar||rr||0,innerRadius:or||0,outerRadius:lr||ir||sr||0,clockWise:pr};if(St.viewBox)return St.viewBox},parseLabel=(St,er,tr)=>{if(!St)return null;var rr={viewBox:er,labelRef:tr};return St===!0?reactExports.createElement(Label,_extends$e({key:"label-implicit"},rr)):isNumOrStr(St)?reactExports.createElement(Label,_extends$e({key:"label-implicit",value:St},rr)):reactExports.isValidElement(St)?St.type===Label?reactExports.cloneElement(St,_objectSpread$e({key:"label-implicit"},rr)):reactExports.createElement(Label,_extends$e({key:"label-implicit",content:St},rr)):isLabelContentAFunction(St)?reactExports.createElement(Label,_extends$e({key:"label-implicit",content:St},rr)):St&&typeof St=="object"?reactExports.createElement(Label,_extends$e({},St,{key:"label-implicit"},rr)):null},renderCallByParent$1=function St(er,tr){var rr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!er||!er.children&&rr&&!er.label)return null;var{children:nr,labelRef:ar}=er,sr=parseViewBox(er),ir=findAllByType(nr,Label).map((lr,cr)=>reactExports.cloneElement(lr,{viewBox:tr||sr,key:"label-".concat(cr)}));if(!rr)return ir;var or=parseLabel(er.label,tr||sr,ar);return[or,...ir]};Label.parseViewBox=parseViewBox;Label.renderCallByParent=renderCallByParent$1;var last$3={},last$2={};(function(St){Object.defineProperty(St,Symbol.toStringTag,{value:"Module"});function er(tr){return tr[tr.length-1]}St.last=er})(last$2);var toArray={};(function(St){Object.defineProperty(St,Symbol.toStringTag,{value:"Module"});function er(tr){return Array.isArray(tr)?tr:Array.from(tr)}St.toArray=er})(toArray);(function(St){Object.defineProperty(St,Symbol.toStringTag,{value:"Module"});const er=last$2,tr=toArray,rr=isArrayLike;function nr(ar){if(rr.isArrayLike(ar))return er.last(tr.toArray(ar))}St.last=nr})(last$3);var last=last$3.last;const last$1=getDefaultExportFromCjs(last);var _excluded$e=["valueAccessor"],_excluded2$4=["data","dataKey","clockWise","id","textBreakAll"];function _extends$d(){return _extends$d=Object.assign?Object.assign.bind():function(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(St[rr]=tr[rr])}return St},_extends$d.apply(null,arguments)}function ownKeys$d(St,er){var tr=Object.keys(St);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(St);er&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(St,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$d(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$d(Object(tr),!0).forEach(function(rr){_defineProperty$h(St,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(St,Object.getOwnPropertyDescriptors(tr)):ownKeys$d(Object(tr)).forEach(function(rr){Object.defineProperty(St,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return St}function _defineProperty$h(St,er,tr){return(er=_toPropertyKey$h(er))in St?Object.defineProperty(St,er,{value:tr,enumerable:!0,configurable:!0,writable:!0}):St[er]=tr,St}function _toPropertyKey$h(St){var er=_toPrimitive$h(St,"string");return typeof er=="symbol"?er:er+""}function _toPrimitive$h(St,er){if(typeof St!="object"||!St)return St;var tr=St[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(St,er);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(St)}function _objectWithoutProperties$e(St,er){if(St==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$e(St,er);if(Object.getOwnPropertySymbols){var ar=Object.getOwnPropertySymbols(St);for(rr=0;rr<ar.length;rr++)tr=ar[rr],er.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(St,tr)&&(nr[tr]=St[tr])}return nr}function _objectWithoutPropertiesLoose$e(St,er){if(St==null)return{};var tr={};for(var rr in St)if({}.hasOwnProperty.call(St,rr)){if(er.indexOf(rr)!==-1)continue;tr[rr]=St[rr]}return tr}var defaultAccessor=St=>Array.isArray(St.value)?last$1(St.value):St.value;function LabelList(St){var{valueAccessor:er=defaultAccessor}=St,tr=_objectWithoutProperties$e(St,_excluded$e),{data:rr,dataKey:nr,clockWise:ar,id:sr,textBreakAll:ir}=tr,or=_objectWithoutProperties$e(tr,_excluded2$4);return!rr||!rr.length?null:reactExports.createElement(Layer,{className:"recharts-label-list"},rr.map((lr,cr)=>{var ur=isNullish(nr)?er(lr,cr):getValueByDataKey(lr&&lr.payload,nr),dr=isNullish(sr)?{}:{id:"".concat(sr,"-").concat(cr)};return reactExports.createElement(Label,_extends$d({},filterProps(lr,!0),or,dr,{parentViewBox:lr.parentViewBox,value:ur,textBreakAll:ir,viewBox:Label.parseViewBox(isNullish(ar)?lr:_objectSpread$d(_objectSpread$d({},lr),{},{clockWise:ar})),key:"label-".concat(cr),index:cr}))}))}LabelList.displayName="LabelList";function parseLabelList(St,er){return St?St===!0?reactExports.createElement(LabelList,{key:"labelList-implicit",data:er}):reactExports.isValidElement(St)||isLabelContentAFunction(St)?reactExports.createElement(LabelList,{key:"labelList-implicit",data:er,content:St}):typeof St=="object"?reactExports.createElement(LabelList,_extends$d({data:er},St,{key:"labelList-implicit"})):null:null}function renderCallByParent(St,er){var tr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!St||!St.children&&tr&&!St.label)return null;var{children:rr}=St,nr=findAllByType(rr,LabelList).map((sr,ir)=>reactExports.cloneElement(sr,{data:er,key:"labelList-".concat(ir)}));if(!tr)return nr;var ar=parseLabelList(St.label,er);return[ar,...nr]}LabelList.renderCallByParent=renderCallByParent;function _extends$c(){return _extends$c=Object.assign?Object.assign.bind():function(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(St[rr]=tr[rr])}return St},_extends$c.apply(null,arguments)}var Dot=St=>{var{cx:er,cy:tr,r:rr,className:nr}=St,ar=clsx("recharts-dot",nr);return er===+er&&tr===+tr&&rr===+rr?reactExports.createElement("circle",_extends$c({},filterProps(St,!1),adaptEventHandlers(St),{className:ar,cx:er,cy:tr,r:rr})):null},selectUnfilteredPolarItems=St=>St.graphicalItems.polarItems,selectAxisPredicate=createSelector([pickAxisType,pickAxisId],itemAxisPredicate),selectPolarItemsSettings=createSelector([selectUnfilteredPolarItems,selectBaseAxis,selectAxisPredicate],combineGraphicalItemsSettings),selectPolarGraphicalItemsData=createSelector([selectPolarItemsSettings],combineGraphicalItemsData),selectPolarDisplayedData=createSelector([selectPolarGraphicalItemsData,selectChartDataAndAlwaysIgnoreIndexes],combineDisplayedData),selectPolarAppliedValues=createSelector([selectPolarDisplayedData,selectBaseAxis,selectPolarItemsSettings],combineAppliedValues),selectAllPolarAppliedNumericalValues=createSelector([selectPolarDisplayedData,selectBaseAxis,selectPolarItemsSettings],(St,er,tr)=>tr.length>0?St.flatMap(rr=>tr.flatMap(nr=>{var ar,sr=getValueByDataKey(rr,(ar=er.dataKey)!==null&&ar!==void 0?ar:nr.dataKey);return{value:sr,errorDomain:[]}})).filter(Boolean):(er==null?void 0:er.dataKey)!=null?St.map(rr=>({value:getValueByDataKey(rr,er.dataKey),errorDomain:[]})):St.map(rr=>({value:rr,errorDomain:[]}))),unsupportedInPolarChart=()=>{},selectPolarNumericalDomain=createSelector([selectBaseAxis,selectDomainDefinition,unsupportedInPolarChart,selectAllPolarAppliedNumericalValues,unsupportedInPolarChart],combineNumericalDomain),selectPolarAxisDomain=createSelector([selectBaseAxis,selectChartLayout,selectPolarDisplayedData,selectPolarAppliedValues,selectStackOffsetType,pickAxisType,selectPolarNumericalDomain],combineAxisDomain),selectPolarNiceTicks=createSelector([selectPolarAxisDomain,selectBaseAxis,selectRealScaleType],combineNiceTicks);createSelector([selectBaseAxis,selectPolarAxisDomain,selectPolarNiceTicks,pickAxisType],combineAxisDomainWithNiceTicks);var initialState$5={radiusAxis:{},angleAxis:{}},polarAxisSlice=createSlice({name:"polarAxis",initialState:initialState$5,reducers:{addRadiusAxis(St,er){St.radiusAxis[er.payload.id]=er.payload},removeRadiusAxis(St,er){delete St.radiusAxis[er.payload.id]},addAngleAxis(St,er){St.angleAxis[er.payload.id]=er.payload},removeAngleAxis(St,er){delete St.angleAxis[er.payload.id]}}}),{addRadiusAxis,removeRadiusAxis,addAngleAxis,removeAngleAxis}=polarAxisSlice.actions,polarAxisReducer=polarAxisSlice.reducer;function ownKeys$c(St,er){var tr=Object.keys(St);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(St);er&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(St,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$c(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$c(Object(tr),!0).forEach(function(rr){_defineProperty$g(St,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(St,Object.getOwnPropertyDescriptors(tr)):ownKeys$c(Object(tr)).forEach(function(rr){Object.defineProperty(St,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return St}function _defineProperty$g(St,er,tr){return(er=_toPropertyKey$g(er))in St?Object.defineProperty(St,er,{value:tr,enumerable:!0,configurable:!0,writable:!0}):St[er]=tr,St}function _toPropertyKey$g(St){var er=_toPrimitive$g(St,"string");return typeof er=="symbol"?er:er+""}function _toPrimitive$g(St,er){if(typeof St!="object"||!St)return St;var tr=St[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(St,er);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(St)}var pickPieSettings=(St,er)=>er,emptyArray=[],pickCells$1=(St,er,tr)=>(tr==null?void 0:tr.length)===0?emptyArray:tr,selectDisplayedData=createSelector([selectChartDataAndAlwaysIgnoreIndexes,pickPieSettings,pickCells$1],(St,er,tr)=>{var{chartData:rr}=St,nr;if((er==null?void 0:er.data)!=null&&er.data.length>0?nr=er.data:nr=rr,(!nr||!nr.length)&&tr!=null&&(nr=tr.map(ar=>_objectSpread$c(_objectSpread$c({},er.presentationProps),ar.props))),nr!=null)return nr}),selectPieLegend=createSelector([selectDisplayedData,pickPieSettings,pickCells$1],(St,er,tr)=>{if(St!=null)return St.map((rr,nr)=>{var ar,sr=getValueByDataKey(rr,er.nameKey,er.name),ir;return tr!=null&&(ar=tr[nr])!==null&&ar!==void 0&&(ar=ar.props)!==null&&ar!==void 0&&ar.fill?ir=tr[nr].props.fill:typeof rr=="object"&&rr!=null&&"fill"in rr?ir=rr.fill:ir=er.fill,{value:getTooltipNameProp(sr,er.dataKey),color:ir,payload:rr,type:er.legendType}})}),selectSynchronisedPieSettings=createSelector([selectUnfilteredPolarItems,pickPieSettings],(St,er)=>{if(St.some(tr=>tr.type==="pie"&&er.dataKey===tr.dataKey&&er.data===tr.data))return er}),selectPieSectors=createSelector([selectDisplayedData,selectSynchronisedPieSettings,pickCells$1,selectChartOffsetInternal],(St,er,tr,rr)=>{if(!(er==null||St==null))return computePieSectors({offset:rr,pieSettings:er,displayedData:St,cells:tr})}),initialState$4={countOfBars:0,cartesianItems:[],polarItems:[]},graphicalItemsSlice=createSlice({name:"graphicalItems",initialState:initialState$4,reducers:{addBar(St){St.countOfBars+=1},removeBar(St){St.countOfBars-=1},addCartesianGraphicalItem(St,er){St.cartesianItems.push(er.payload)},replaceCartesianGraphicalItem(St,er){var{prev:tr,next:rr}=er.payload,nr=current(St).cartesianItems.indexOf(tr);nr>-1&&(St.cartesianItems[nr]=rr)},removeCartesianGraphicalItem(St,er){var tr=current(St).cartesianItems.indexOf(er.payload);tr>-1&&St.cartesianItems.splice(tr,1)},addPolarGraphicalItem(St,er){St.polarItems.push(er.payload)},removePolarGraphicalItem(St,er){var tr=current(St).polarItems.indexOf(er.payload);tr>-1&&St.polarItems.splice(tr,1)}}}),{addBar,removeBar,addCartesianGraphicalItem,replaceCartesianGraphicalItem,removeCartesianGraphicalItem,addPolarGraphicalItem,removePolarGraphicalItem}=graphicalItemsSlice.actions,graphicalItemsReducer=graphicalItemsSlice.reducer;function ownKeys$b(St,er){var tr=Object.keys(St);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(St);er&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(St,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$b(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$b(Object(tr),!0).forEach(function(rr){_defineProperty$f(St,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(St,Object.getOwnPropertyDescriptors(tr)):ownKeys$b(Object(tr)).forEach(function(rr){Object.defineProperty(St,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return St}function _defineProperty$f(St,er,tr){return(er=_toPropertyKey$f(er))in St?Object.defineProperty(St,er,{value:tr,enumerable:!0,configurable:!0,writable:!0}):St[er]=tr,St}function _toPropertyKey$f(St){var er=_toPrimitive$f(St,"string");return typeof er=="symbol"?er:er+""}function _toPrimitive$f(St,er){if(typeof St!="object"||!St)return St;var tr=St[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(St,er);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(St)}function SetCartesianGraphicalItem(St){var er=useAppDispatch(),tr=reactExports.useRef(null);return reactExports.useEffect(()=>{var rr=_objectSpread$b(_objectSpread$b({},St),{},{stackId:getNormalizedStackId(St.stackId)});tr.current===null?er(addCartesianGraphicalItem(rr)):tr.current!==rr&&er(replaceCartesianGraphicalItem({prev:tr.current,next:rr})),tr.current=rr},[er,St]),reactExports.useEffect(()=>()=>{tr.current&&(er(removeCartesianGraphicalItem(tr.current)),tr.current=null)},[er]),null}function SetPolarGraphicalItem(St){var er=useAppDispatch();return reactExports.useEffect(()=>(er(addPolarGraphicalItem(St)),()=>{er(removePolarGraphicalItem(St))}),[er,St]),null}var isPlainObject$2={};(function(St){Object.defineProperty(St,Symbol.toStringTag,{value:"Module"});function er(tr){var nr;if(typeof tr!="object"||tr==null)return!1;if(Object.getPrototypeOf(tr)===null)return!0;if(Object.prototype.toString.call(tr)!=="[object Object]"){const ar=tr[Symbol.toStringTag];return ar==null||!((nr=Object.getOwnPropertyDescriptor(tr,Symbol.toStringTag))!=null&&nr.writable)?!1:tr.toString()===`[object ${ar}]`}let rr=tr;for(;Object.getPrototypeOf(rr)!==null;)rr=Object.getPrototypeOf(rr);return Object.getPrototypeOf(tr)===rr}St.isPlainObject=er})(isPlainObject$2);var isPlainObject=isPlainObject$2.isPlainObject;const isPlainObject$1=getDefaultExportFromCjs(isPlainObject);function _extends$b(){return _extends$b=Object.assign?Object.assign.bind():function(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(St[rr]=tr[rr])}return St},_extends$b.apply(null,arguments)}var getTrapezoidPath=(St,er,tr,rr,nr)=>{var ar=tr-rr,sr;return sr="M ".concat(St,",").concat(er),sr+="L ".concat(St+tr,",").concat(er),sr+="L ".concat(St+tr-ar/2,",").concat(er+nr),sr+="L ".concat(St+tr-ar/2-rr,",").concat(er+nr),sr+="L ".concat(St,",").concat(er," Z"),sr},defaultProps$3={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Trapezoid=St=>{var er=resolveDefaultProps(St,defaultProps$3),tr=reactExports.useRef(),[rr,nr]=reactExports.useState(-1);reactExports.useEffect(()=>{if(tr.current&&tr.current.getTotalLength)try{var pr=tr.current.getTotalLength();pr&&nr(pr)}catch{}},[]);var{x:ar,y:sr,upperWidth:ir,lowerWidth:or,height:lr,className:cr}=er,{animationEasing:ur,animationDuration:dr,animationBegin:fr,isUpdateAnimationActive:mr}=er;if(ar!==+ar||sr!==+sr||ir!==+ir||or!==+or||lr!==+lr||ir===0&&or===0||lr===0)return null;var xr=clsx("recharts-trapezoid",cr);return mr?reactExports.createElement(Animate,{canBegin:rr>0,from:{upperWidth:0,lowerWidth:0,height:lr,x:ar,y:sr},to:{upperWidth:ir,lowerWidth:or,height:lr,x:ar,y:sr},duration:dr,animationEasing:ur,isActive:mr},pr=>{var{upperWidth:hr,lowerWidth:gr,height:vr,x:br,y:yr}=pr;return reactExports.createElement(Animate,{canBegin:rr>0,from:"0px ".concat(rr===-1?1:rr,"px"),to:"".concat(rr,"px 0px"),attributeName:"strokeDasharray",begin:fr,duration:dr,easing:ur},reactExports.createElement("path",_extends$b({},filterProps(er,!0),{className:xr,d:getTrapezoidPath(br,yr,hr,gr,vr),ref:tr})))}):reactExports.createElement("g",null,reactExports.createElement("path",_extends$b({},filterProps(er,!0),{className:xr,d:getTrapezoidPath(ar,sr,ir,or,lr)})))},_excluded$d=["option","shapeType","propTransformer","activeClassName","isActive"];function _objectWithoutProperties$d(St,er){if(St==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$d(St,er);if(Object.getOwnPropertySymbols){var ar=Object.getOwnPropertySymbols(St);for(rr=0;rr<ar.length;rr++)tr=ar[rr],er.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(St,tr)&&(nr[tr]=St[tr])}return nr}function _objectWithoutPropertiesLoose$d(St,er){if(St==null)return{};var tr={};for(var rr in St)if({}.hasOwnProperty.call(St,rr)){if(er.indexOf(rr)!==-1)continue;tr[rr]=St[rr]}return tr}function ownKeys$a(St,er){var tr=Object.keys(St);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(St);er&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(St,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$a(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$a(Object(tr),!0).forEach(function(rr){_defineProperty$e(St,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(St,Object.getOwnPropertyDescriptors(tr)):ownKeys$a(Object(tr)).forEach(function(rr){Object.defineProperty(St,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return St}function _defineProperty$e(St,er,tr){return(er=_toPropertyKey$e(er))in St?Object.defineProperty(St,er,{value:tr,enumerable:!0,configurable:!0,writable:!0}):St[er]=tr,St}function _toPropertyKey$e(St){var er=_toPrimitive$e(St,"string");return typeof er=="symbol"?er:er+""}function _toPrimitive$e(St,er){if(typeof St!="object"||!St)return St;var tr=St[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(St,er);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(St)}function defaultPropTransformer(St,er){return _objectSpread$a(_objectSpread$a({},er),St)}function isSymbolsProps(St,er){return St==="symbols"}function ShapeSelector(St){var{shapeType:er,elementProps:tr}=St;switch(er){case"rectangle":return reactExports.createElement(Rectangle,tr);case"trapezoid":return reactExports.createElement(Trapezoid,tr);case"sector":return reactExports.createElement(Sector,tr);case"symbols":if(isSymbolsProps(er))return reactExports.createElement(Symbols,tr);break;default:return null}}function getPropsFromShapeOption(St){return reactExports.isValidElement(St)?St.props:St}function Shape(St){var{option:er,shapeType:tr,propTransformer:rr=defaultPropTransformer,activeClassName:nr="recharts-active-shape",isActive:ar}=St,sr=_objectWithoutProperties$d(St,_excluded$d),ir;if(reactExports.isValidElement(er))ir=reactExports.cloneElement(er,_objectSpread$a(_objectSpread$a({},sr),getPropsFromShapeOption(er)));else if(typeof er=="function")ir=er(sr);else if(isPlainObject$1(er)&&typeof er!="boolean"){var or=rr(er,sr);ir=reactExports.createElement(ShapeSelector,{shapeType:tr,elementProps:or})}else{var lr=sr;ir=reactExports.createElement(ShapeSelector,{shapeType:tr,elementProps:lr})}return ar?reactExports.createElement(Layer,{className:nr},ir):ir}var useMouseEnterItemDispatch=(St,er)=>{var tr=useAppDispatch();return(rr,nr)=>ar=>{St==null||St(rr,nr,ar),tr(setActiveMouseOverItemIndex({activeIndex:String(nr),activeDataKey:er,activeCoordinate:rr.tooltipPosition}))}},useMouseLeaveItemDispatch=St=>{var er=useAppDispatch();return(tr,rr)=>nr=>{St==null||St(tr,rr,nr),er(mouseLeaveItem())}},useMouseClickItemDispatch=(St,er)=>{var tr=useAppDispatch();return(rr,nr)=>ar=>{St==null||St(rr,nr,ar),tr(setActiveClickItemIndex({activeIndex:String(nr),activeDataKey:er,activeCoordinate:rr.tooltipPosition}))}};function SetTooltipEntrySettings(St){var{fn:er,args:tr}=St,rr=useAppDispatch(),nr=useIsPanorama();return reactExports.useEffect(()=>{if(!nr){var ar=er(tr);return rr(addTooltipEntrySettings(ar)),()=>{rr(removeTooltipEntrySettings(ar))}}},[er,tr,rr,nr]),null}var noop$1=()=>{};function SetLegendPayload(St){var{legendPayload:er}=St,tr=useAppDispatch(),rr=useIsPanorama();return reactExports.useEffect(()=>rr?noop$1:(tr(addLegendPayload(er)),()=>{tr(removeLegendPayload(er))}),[tr,rr,er]),null}function SetPolarLegendPayload(St){var{legendPayload:er}=St,tr=useAppDispatch(),rr=useAppSelector(selectChartLayout);return reactExports.useEffect(()=>rr!=="centric"&&rr!=="radial"?noop$1:(tr(addLegendPayload(er)),()=>{tr(removeLegendPayload(er))}),[tr,rr,er]),null}function useAnimationId(St){var er=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",tr=reactExports.useRef(uniqueId(er)),rr=reactExports.useRef(St);return rr.current!==St&&(tr.current=uniqueId(er),rr.current=St),tr.current}var _excluded$c=["onMouseEnter","onClick","onMouseLeave"];function _objectWithoutProperties$c(St,er){if(St==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$c(St,er);if(Object.getOwnPropertySymbols){var ar=Object.getOwnPropertySymbols(St);for(rr=0;rr<ar.length;rr++)tr=ar[rr],er.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(St,tr)&&(nr[tr]=St[tr])}return nr}function _objectWithoutPropertiesLoose$c(St,er){if(St==null)return{};var tr={};for(var rr in St)if({}.hasOwnProperty.call(St,rr)){if(er.indexOf(rr)!==-1)continue;tr[rr]=St[rr]}return tr}function ownKeys$9(St,er){var tr=Object.keys(St);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(St);er&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(St,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$9(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$9(Object(tr),!0).forEach(function(rr){_defineProperty$d(St,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(St,Object.getOwnPropertyDescriptors(tr)):ownKeys$9(Object(tr)).forEach(function(rr){Object.defineProperty(St,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return St}function _defineProperty$d(St,er,tr){return(er=_toPropertyKey$d(er))in St?Object.defineProperty(St,er,{value:tr,enumerable:!0,configurable:!0,writable:!0}):St[er]=tr,St}function _toPropertyKey$d(St){var er=_toPrimitive$d(St,"string");return typeof er=="symbol"?er:er+""}function _toPrimitive$d(St,er){if(typeof St!="object"||!St)return St;var tr=St[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(St,er);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(St)}function _extends$a(){return _extends$a=Object.assign?Object.assign.bind():function(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(St[rr]=tr[rr])}return St},_extends$a.apply(null,arguments)}function SetPiePayloadLegend(St){var er=reactExports.useMemo(()=>filterProps(St,!1),[St]),tr=reactExports.useMemo(()=>findAllByType(St.children,Cell$1),[St.children]),rr=reactExports.useMemo(()=>({name:St.name,nameKey:St.nameKey,tooltipType:St.tooltipType,data:St.data,dataKey:St.dataKey,cx:St.cx,cy:St.cy,startAngle:St.startAngle,endAngle:St.endAngle,minAngle:St.minAngle,paddingAngle:St.paddingAngle,innerRadius:St.innerRadius,outerRadius:St.outerRadius,cornerRadius:St.cornerRadius,legendType:St.legendType,fill:St.fill,presentationProps:er}),[St.cornerRadius,St.cx,St.cy,St.data,St.dataKey,St.endAngle,St.innerRadius,St.minAngle,St.name,St.nameKey,St.outerRadius,St.paddingAngle,St.startAngle,St.tooltipType,St.legendType,St.fill,er]),nr=useAppSelector(ar=>selectPieLegend(ar,rr,tr));return reactExports.createElement(SetPolarLegendPayload,{legendPayload:nr})}function getTooltipEntrySettings$2(St){var{dataKey:er,nameKey:tr,sectors:rr,stroke:nr,strokeWidth:ar,fill:sr,name:ir,hide:or,tooltipType:lr}=St;return{dataDefinedOnItem:rr==null?void 0:rr.map(cr=>cr.tooltipPayload),positions:rr==null?void 0:rr.map(cr=>cr.tooltipPosition),settings:{stroke:nr,strokeWidth:ar,fill:sr,dataKey:er,nameKey:tr,name:getTooltipNameProp(ir,er),hide:or,type:lr,color:sr,unit:""}}}var getTextAnchor=(St,er)=>St>er?"start":St<er?"end":"middle",getOuterRadius=(St,er,tr)=>typeof er=="function"?er(St):getPercentValue(er,tr,tr*.8),parseCoordinateOfPie=(St,er,tr)=>{var{top:rr,left:nr,width:ar,height:sr}=er,ir=getMaxRadius(ar,sr),or=nr+getPercentValue(St.cx,ar,ar/2),lr=rr+getPercentValue(St.cy,sr,sr/2),cr=getPercentValue(St.innerRadius,ir,0),ur=getOuterRadius(tr,St.outerRadius,ir),dr=St.maxRadius||Math.sqrt(ar*ar+sr*sr)/2;return{cx:or,cy:lr,innerRadius:cr,outerRadius:ur,maxRadius:dr}},parseDeltaAngle=(St,er)=>{var tr=mathSign(er-St),rr=Math.min(Math.abs(er-St),360);return tr*rr},renderLabelLineItem=(St,er)=>{if(reactExports.isValidElement(St))return reactExports.cloneElement(St,er);if(typeof St=="function")return St(er);var tr=clsx("recharts-pie-label-line",typeof St!="boolean"?St.className:"");return reactExports.createElement(Curve,_extends$a({},er,{type:"linear",className:tr}))},renderLabelItem=(St,er,tr)=>{if(reactExports.isValidElement(St))return reactExports.cloneElement(St,er);var rr=tr;if(typeof St=="function"&&(rr=St(er),reactExports.isValidElement(rr)))return rr;var nr=clsx("recharts-pie-label-text",typeof St!="boolean"&&typeof St!="function"?St.className:"");return reactExports.createElement(Text,_extends$a({},er,{alignmentBaseline:"middle",className:nr}),rr)};function PieLabels(St){var{sectors:er,props:tr,showLabels:rr}=St,{label:nr,labelLine:ar,dataKey:sr}=tr;if(!rr||!nr||!er)return null;var ir=filterProps(tr,!1),or=filterProps(nr,!1),lr=filterProps(ar,!1),cr=typeof nr=="object"&&"offsetRadius"in nr&&nr.offsetRadius||20,ur=er.map((dr,fr)=>{var mr=(dr.startAngle+dr.endAngle)/2,xr=polarToCartesian(dr.cx,dr.cy,dr.outerRadius+cr,mr),pr=_objectSpread$9(_objectSpread$9(_objectSpread$9(_objectSpread$9({},ir),dr),{},{stroke:"none"},or),{},{index:fr,textAnchor:getTextAnchor(xr.x,dr.cx)},xr),hr=_objectSpread$9(_objectSpread$9(_objectSpread$9(_objectSpread$9({},ir),dr),{},{fill:"none",stroke:dr.fill},lr),{},{index:fr,points:[polarToCartesian(dr.cx,dr.cy,dr.outerRadius,mr),xr],key:"line"});return reactExports.createElement(Layer,{key:"label-".concat(dr.startAngle,"-").concat(dr.endAngle,"-").concat(dr.midAngle,"-").concat(fr)},ar&&renderLabelLineItem(ar,hr),renderLabelItem(nr,pr,getValueByDataKey(dr,sr)))});return reactExports.createElement(Layer,{className:"recharts-pie-labels"},ur)}function PieSectors(St){var{sectors:er,activeShape:tr,inactiveShape:rr,allOtherPieProps:nr,showLabels:ar}=St,sr=useAppSelector(selectActiveTooltipIndex),{onMouseEnter:ir,onClick:or,onMouseLeave:lr}=nr,cr=_objectWithoutProperties$c(nr,_excluded$c),ur=useMouseEnterItemDispatch(ir,nr.dataKey),dr=useMouseLeaveItemDispatch(lr),fr=useMouseClickItemDispatch(or,nr.dataKey);return er==null?null:reactExports.createElement(reactExports.Fragment,null,er.map((mr,xr)=>{if((mr==null?void 0:mr.startAngle)===0&&(mr==null?void 0:mr.endAngle)===0&&er.length!==1)return null;var pr=tr&&String(xr)===sr,hr=sr?rr:null,gr=pr?tr:hr,vr=_objectSpread$9(_objectSpread$9({},mr),{},{stroke:mr.stroke,tabIndex:-1,[DATA_ITEM_INDEX_ATTRIBUTE_NAME]:xr,[DATA_ITEM_DATAKEY_ATTRIBUTE_NAME]:nr.dataKey});return reactExports.createElement(Layer,_extends$a({tabIndex:-1,className:"recharts-pie-sector"},adaptEventsOfChild(cr,mr,xr),{onMouseEnter:ur(mr,xr),onMouseLeave:dr(mr,xr),onClick:fr(mr,xr),key:"sector-".concat(mr==null?void 0:mr.startAngle,"-").concat(mr==null?void 0:mr.endAngle,"-").concat(mr.midAngle,"-").concat(xr)}),reactExports.createElement(Shape,_extends$a({option:gr,isActive:pr,shapeType:"sector"},vr)))}),reactExports.createElement(PieLabels,{sectors:er,props:nr,showLabels:ar}))}function computePieSectors(St){var er,{pieSettings:tr,displayedData:rr,cells:nr,offset:ar}=St,{cornerRadius:sr,startAngle:ir,endAngle:or,dataKey:lr,nameKey:cr,tooltipType:ur}=tr,dr=Math.abs(tr.minAngle),fr=parseDeltaAngle(ir,or),mr=Math.abs(fr),xr=rr.length<=1?0:(er=tr.paddingAngle)!==null&&er!==void 0?er:0,pr=rr.filter(Er=>getValueByDataKey(Er,lr,0)!==0).length,hr=(mr>=360?pr:pr-1)*xr,gr=mr-pr*dr-hr,vr=rr.reduce((Er,jr)=>{var _r=getValueByDataKey(jr,lr,0);return Er+(isNumber(_r)?_r:0)},0),br;if(vr>0){var yr;br=rr.map((Er,jr)=>{var _r=getValueByDataKey(Er,lr,0),Cr=getValueByDataKey(Er,cr,jr),Or=parseCoordinateOfPie(tr,ar,Er),Pr=(isNumber(_r)?_r:0)/vr,Lr,Gr=_objectSpread$9(_objectSpread$9({},Er),nr&&nr[jr]&&nr[jr].props);jr?Lr=yr.endAngle+mathSign(fr)*xr*(_r!==0?1:0):Lr=ir;var Kr=Lr+mathSign(fr)*((_r!==0?dr:0)+Pr*gr),nn=(Lr+Kr)/2,Qr=(Or.innerRadius+Or.outerRadius)/2,zr=[{name:Cr,value:_r,payload:Gr,dataKey:lr,type:ur}],Vr=polarToCartesian(Or.cx,Or.cy,Qr,nn);return yr=_objectSpread$9(_objectSpread$9(_objectSpread$9(_objectSpread$9({},tr.presentationProps),{},{percent:Pr,cornerRadius:sr,name:Cr,tooltipPayload:zr,midAngle:nn,middleRadius:Qr,tooltipPosition:Vr},Gr),Or),{},{value:getValueByDataKey(Er,lr),startAngle:Lr,endAngle:Kr,payload:Gr,paddingAngle:mathSign(fr)*xr}),yr})}return br}function SectorsWithAnimation(St){var{props:er,previousSectorsRef:tr}=St,{sectors:rr,isAnimationActive:nr,animationBegin:ar,animationDuration:sr,animationEasing:ir,activeShape:or,inactiveShape:lr,onAnimationStart:cr,onAnimationEnd:ur}=er,dr=useAnimationId(er,"recharts-pie-"),fr=tr.current,[mr,xr]=reactExports.useState(!0),pr=reactExports.useCallback(()=>{typeof ur=="function"&&ur(),xr(!1)},[ur]),hr=reactExports.useCallback(()=>{typeof cr=="function"&&cr(),xr(!0)},[cr]);return reactExports.createElement(Animate,{begin:ar,duration:sr,isActive:nr,easing:ir,from:{t:0},to:{t:1},onAnimationStart:hr,onAnimationEnd:pr,key:dr},gr=>{var{t:vr}=gr,br=[],yr=rr&&rr[0],Er=yr.startAngle;return rr.forEach((jr,_r)=>{var Cr=fr&&fr[_r],Or=_r>0?get$1(jr,"paddingAngle",0):0;if(Cr){var Pr=interpolateNumber$1(Cr.endAngle-Cr.startAngle,jr.endAngle-jr.startAngle),Lr=_objectSpread$9(_objectSpread$9({},jr),{},{startAngle:Er+Or,endAngle:Er+Pr(vr)+Or});br.push(Lr),Er=Lr.endAngle}else{var{endAngle:Gr,startAngle:Kr}=jr,nn=interpolateNumber$1(0,Gr-Kr),Qr=nn(vr),zr=_objectSpread$9(_objectSpread$9({},jr),{},{startAngle:Er+Or,endAngle:Er+Qr+Or});br.push(zr),Er=zr.endAngle}}),tr.current=br,reactExports.createElement(Layer,null,reactExports.createElement(PieSectors,{sectors:br,activeShape:or,inactiveShape:lr,allOtherPieProps:er,showLabels:!mr}))})}function RenderSectors(St){var{sectors:er,isAnimationActive:tr,activeShape:rr,inactiveShape:nr}=St,ar=reactExports.useRef(null),sr=ar.current;return tr&&er&&er.length&&(!sr||sr!==er)?reactExports.createElement(SectorsWithAnimation,{props:St,previousSectorsRef:ar}):reactExports.createElement(PieSectors,{sectors:er,activeShape:rr,inactiveShape:nr,allOtherPieProps:St,showLabels:!0})}function PieWithTouchMove(St){var{hide:er,className:tr,rootTabIndex:rr}=St,nr=clsx("recharts-pie",tr);return er?null:reactExports.createElement(Layer,{tabIndex:rr,className:nr},reactExports.createElement(RenderSectors,St))}var defaultPieProps={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Global.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function PieImpl(St){var er=resolveDefaultProps(St,defaultPieProps),tr=reactExports.useMemo(()=>findAllByType(St.children,Cell$1),[St.children]),rr=filterProps(er,!1),nr=reactExports.useMemo(()=>({name:er.name,nameKey:er.nameKey,tooltipType:er.tooltipType,data:er.data,dataKey:er.dataKey,cx:er.cx,cy:er.cy,startAngle:er.startAngle,endAngle:er.endAngle,minAngle:er.minAngle,paddingAngle:er.paddingAngle,innerRadius:er.innerRadius,outerRadius:er.outerRadius,cornerRadius:er.cornerRadius,legendType:er.legendType,fill:er.fill,presentationProps:rr}),[er.cornerRadius,er.cx,er.cy,er.data,er.dataKey,er.endAngle,er.innerRadius,er.minAngle,er.name,er.nameKey,er.outerRadius,er.paddingAngle,er.startAngle,er.tooltipType,er.legendType,er.fill,rr]),ar=useAppSelector(sr=>selectPieSectors(sr,nr,tr));return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetTooltipEntrySettings,{fn:getTooltipEntrySettings$2,args:_objectSpread$9(_objectSpread$9({},er),{},{sectors:ar})}),reactExports.createElement(PieWithTouchMove,_extends$a({},er,{sectors:ar})))}class Pie extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty$d(this,"id",uniqueId("recharts-pie-"))}render(){return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetPolarGraphicalItem,{data:this.props.data,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:0,radiusAxisId:0,stackId:void 0,barSize:void 0,type:"pie"}),reactExports.createElement(SetPiePayloadLegend,this.props),reactExports.createElement(PieImpl,this.props),this.props.children)}}_defineProperty$d(Pie,"displayName","Pie");_defineProperty$d(Pie,"defaultProps",defaultPieProps);var selectChartOffset=createSelector([selectChartOffsetInternal],St=>{if(St)return{top:St.top,bottom:St.bottom,left:St.left,right:St.right}}),selectPlotArea=createSelector([selectChartOffset,selectChartWidth,selectChartHeight],(St,er,tr)=>{if(!(!St||er==null||tr==null))return{x:St.left,y:St.top,width:Math.max(0,er-St.left-St.right),height:Math.max(0,tr-St.top-St.bottom)}}),useXAxis=St=>{var er=useIsPanorama();return useAppSelector(tr=>selectAxisWithScale(tr,"xAxis",St,er))},useYAxis=St=>{var er=useIsPanorama();return useAppSelector(tr=>selectAxisWithScale(tr,"yAxis",St,er))},usePlotArea=()=>useAppSelector(selectPlotArea),useActiveTooltipDataPoints=()=>useAppSelector(selectActiveTooltipDataPoints);function ownKeys$8(St,er){var tr=Object.keys(St);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(St);er&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(St,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$8(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$8(Object(tr),!0).forEach(function(rr){_defineProperty$c(St,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(St,Object.getOwnPropertyDescriptors(tr)):ownKeys$8(Object(tr)).forEach(function(rr){Object.defineProperty(St,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return St}function _defineProperty$c(St,er,tr){return(er=_toPropertyKey$c(er))in St?Object.defineProperty(St,er,{value:tr,enumerable:!0,configurable:!0,writable:!0}):St[er]=tr,St}function _toPropertyKey$c(St){var er=_toPrimitive$c(St,"string");return typeof er=="symbol"?er:er+""}function _toPrimitive$c(St,er){if(typeof St!="object"||!St)return St;var tr=St[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(St,er);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(St)}var renderActivePoint=St=>{var{point:er,childIndex:tr,mainColor:rr,activeDot:nr,dataKey:ar}=St;if(nr===!1||er.x==null||er.y==null)return null;var sr=_objectSpread$8(_objectSpread$8({index:tr,dataKey:ar,cx:er.x,cy:er.y,r:4,fill:rr??"none",strokeWidth:2,stroke:"#fff",payload:er.payload,value:er.value},filterProps(nr,!1)),adaptEventHandlers(nr)),ir;return reactExports.isValidElement(nr)?ir=reactExports.cloneElement(nr,sr):typeof nr=="function"?ir=nr(sr):ir=reactExports.createElement(Dot,sr),reactExports.createElement(Layer,{className:"recharts-active-dot"},ir)};function ActivePoints(St){var{points:er,mainColor:tr,activeDot:rr,itemDataKey:nr}=St,ar=useAppSelector(selectActiveTooltipIndex),sr=useActiveTooltipDataPoints();if(er==null||sr==null)return null;var ir=er.find(or=>sr.includes(or.payload));return isNullish(ir)?null:renderActivePoint({point:ir,childIndex:Number(ar),mainColor:tr,dataKey:nr,activeDot:rr})}var ReportBar=()=>{var St=useAppDispatch();return reactExports.useEffect(()=>(St(addBar()),()=>{St(removeBar())})),null},_excluded$b=["children"];function _objectWithoutProperties$b(St,er){if(St==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$b(St,er);if(Object.getOwnPropertySymbols){var ar=Object.getOwnPropertySymbols(St);for(rr=0;rr<ar.length;rr++)tr=ar[rr],er.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(St,tr)&&(nr[tr]=St[tr])}return nr}function _objectWithoutPropertiesLoose$b(St,er){if(St==null)return{};var tr={};for(var rr in St)if({}.hasOwnProperty.call(St,rr)){if(er.indexOf(rr)!==-1)continue;tr[rr]=St[rr]}return tr}var noop=()=>{},ErrorBarDirectionDispatchContext=reactExports.createContext({addErrorBar:noop,removeErrorBar:noop}),initialContextState={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},ErrorBarContext=reactExports.createContext(initialContextState);function SetErrorBarContext(St){var{children:er}=St,tr=_objectWithoutProperties$b(St,_excluded$b);return reactExports.createElement(ErrorBarContext.Provider,{value:tr},er)}var useErrorBarContext=()=>reactExports.useContext(ErrorBarContext),CartesianGraphicalItemContext=St=>{var{children:er,xAxisId:tr,yAxisId:rr,zAxisId:nr,dataKey:ar,data:sr,stackId:ir,hide:or,type:lr,barSize:cr}=St,[ur,dr]=reactExports.useState([]),fr=reactExports.useCallback(pr=>{dr(hr=>[...hr,pr])},[dr]),mr=reactExports.useCallback(pr=>{dr(hr=>hr.filter(gr=>gr!==pr))},[dr]),xr=useIsPanorama();return reactExports.createElement(ErrorBarDirectionDispatchContext.Provider,{value:{addErrorBar:fr,removeErrorBar:mr}},reactExports.createElement(SetCartesianGraphicalItem,{type:lr,data:sr,xAxisId:tr,yAxisId:rr,zAxisId:nr,dataKey:ar,errorBars:ur,stackId:ir,hide:or,barSize:cr,isPanorama:xr}),er)};function ReportErrorBarSettings(St){var{addErrorBar:er,removeErrorBar:tr}=reactExports.useContext(ErrorBarDirectionDispatchContext);return reactExports.useEffect(()=>(er(St),()=>{tr(St)}),[er,tr,St]),null}var _excluded$a=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function _defineProperty$b(St,er,tr){return(er=_toPropertyKey$b(er))in St?Object.defineProperty(St,er,{value:tr,enumerable:!0,configurable:!0,writable:!0}):St[er]=tr,St}function _toPropertyKey$b(St){var er=_toPrimitive$b(St,"string");return typeof er=="symbol"?er:er+""}function _toPrimitive$b(St,er){if(typeof St!="object"||!St)return St;var tr=St[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(St,er);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(St)}function _extends$9(){return _extends$9=Object.assign?Object.assign.bind():function(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(St[rr]=tr[rr])}return St},_extends$9.apply(null,arguments)}function _objectWithoutProperties$a(St,er){if(St==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$a(St,er);if(Object.getOwnPropertySymbols){var ar=Object.getOwnPropertySymbols(St);for(rr=0;rr<ar.length;rr++)tr=ar[rr],er.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(St,tr)&&(nr[tr]=St[tr])}return nr}function _objectWithoutPropertiesLoose$a(St,er){if(St==null)return{};var tr={};for(var rr in St)if({}.hasOwnProperty.call(St,rr)){if(er.indexOf(rr)!==-1)continue;tr[rr]=St[rr]}return tr}function ErrorBarImpl(St){var{direction:er,width:tr,dataKey:rr,isAnimationActive:nr,animationBegin:ar,animationDuration:sr,animationEasing:ir}=St,or=_objectWithoutProperties$a(St,_excluded$a),lr=filterProps(or,!1),{data:cr,dataPointFormatter:ur,xAxisId:dr,yAxisId:fr,errorBarOffset:mr}=useErrorBarContext(),xr=useXAxis(dr),pr=useYAxis(fr);if((xr==null?void 0:xr.scale)==null||(pr==null?void 0:pr.scale)==null||cr==null||er==="x"&&xr.type!=="number")return null;var hr=cr.map(gr=>{var{x:vr,y:br,value:yr,errorVal:Er}=ur(gr,rr,er);if(!Er)return null;var jr=[],_r,Cr;if(Array.isArray(Er)?[_r,Cr]=Er:_r=Cr=Er,er==="x"){var{scale:Or}=xr,Pr=br+mr,Lr=Pr+tr,Gr=Pr-tr,Kr=Or(yr-_r),nn=Or(yr+Cr);jr.push({x1:nn,y1:Lr,x2:nn,y2:Gr}),jr.push({x1:Kr,y1:Pr,x2:nn,y2:Pr}),jr.push({x1:Kr,y1:Lr,x2:Kr,y2:Gr})}else if(er==="y"){var{scale:Qr}=pr,zr=vr+mr,Vr=zr-tr,Jr=zr+tr,tn=Qr(yr-_r),Yr=Qr(yr+Cr);jr.push({x1:Vr,y1:Yr,x2:Jr,y2:Yr}),jr.push({x1:zr,y1:tn,x2:zr,y2:Yr}),jr.push({x1:Vr,y1:tn,x2:Jr,y2:tn})}var Sr="".concat(vr+mr,"px ").concat(br+mr,"px");return reactExports.createElement(Layer,_extends$9({className:"recharts-errorBar",key:"bar-".concat(jr.map(Rr=>"".concat(Rr.x1,"-").concat(Rr.x2,"-").concat(Rr.y1,"-").concat(Rr.y2)))},lr),jr.map(Rr=>{var Tr=nr?{transformOrigin:"".concat(Rr.x1-5,"px")}:void 0;return reactExports.createElement(Animate,{from:{transform:"scaleY(0)",transformOrigin:Sr},to:{transform:"scaleY(1)",transformOrigin:Sr},begin:ar,easing:ir,isActive:nr,duration:sr,key:"line-".concat(Rr.x1,"-").concat(Rr.x2,"-").concat(Rr.y1,"-").concat(Rr.y2),style:{transformOrigin:Sr}},reactExports.createElement("line",_extends$9({},Rr,{style:Tr})))}))});return reactExports.createElement(Layer,{className:"recharts-errorBars"},hr)}var ErrorBarPreferredDirection=reactExports.createContext(void 0);function useErrorBarDirection(St){var er=reactExports.useContext(ErrorBarPreferredDirection);return St??er??"x"}function SetErrorBarPreferredDirection(St){var{direction:er,children:tr}=St;return reactExports.createElement(ErrorBarPreferredDirection.Provider,{value:er},tr)}var errorBarDefaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out"};function ErrorBarInternal(St){var er=useErrorBarDirection(St.direction),{width:tr,isAnimationActive:rr,animationBegin:nr,animationDuration:ar,animationEasing:sr}=resolveDefaultProps(St,errorBarDefaultProps);return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(ReportErrorBarSettings,{dataKey:St.dataKey,direction:er}),reactExports.createElement(ErrorBarImpl,_extends$9({},St,{direction:er,width:tr,isAnimationActive:rr,animationBegin:nr,animationDuration:ar,animationEasing:sr})))}class ErrorBar extends reactExports.Component{render(){return reactExports.createElement(ErrorBarInternal,this.props)}}_defineProperty$b(ErrorBar,"defaultProps",errorBarDefaultProps);_defineProperty$b(ErrorBar,"displayName","ErrorBar");var prefix="Invariant failed";function invariant(St,er){throw new Error(prefix)}var _excluded$9=["x","y"];function _extends$8(){return _extends$8=Object.assign?Object.assign.bind():function(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(St[rr]=tr[rr])}return St},_extends$8.apply(null,arguments)}function ownKeys$7(St,er){var tr=Object.keys(St);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(St);er&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(St,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$7(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$7(Object(tr),!0).forEach(function(rr){_defineProperty$a(St,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(St,Object.getOwnPropertyDescriptors(tr)):ownKeys$7(Object(tr)).forEach(function(rr){Object.defineProperty(St,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return St}function _defineProperty$a(St,er,tr){return(er=_toPropertyKey$a(er))in St?Object.defineProperty(St,er,{value:tr,enumerable:!0,configurable:!0,writable:!0}):St[er]=tr,St}function _toPropertyKey$a(St){var er=_toPrimitive$a(St,"string");return typeof er=="symbol"?er:er+""}function _toPrimitive$a(St,er){if(typeof St!="object"||!St)return St;var tr=St[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(St,er);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(St)}function _objectWithoutProperties$9(St,er){if(St==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$9(St,er);if(Object.getOwnPropertySymbols){var ar=Object.getOwnPropertySymbols(St);for(rr=0;rr<ar.length;rr++)tr=ar[rr],er.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(St,tr)&&(nr[tr]=St[tr])}return nr}function _objectWithoutPropertiesLoose$9(St,er){if(St==null)return{};var tr={};for(var rr in St)if({}.hasOwnProperty.call(St,rr)){if(er.indexOf(rr)!==-1)continue;tr[rr]=St[rr]}return tr}function typeguardBarRectangleProps(St,er){var{x:tr,y:rr}=St,nr=_objectWithoutProperties$9(St,_excluded$9),ar="".concat(tr),sr=parseInt(ar,10),ir="".concat(rr),or=parseInt(ir,10),lr="".concat(er.height||nr.height),cr=parseInt(lr,10),ur="".concat(er.width||nr.width),dr=parseInt(ur,10);return _objectSpread$7(_objectSpread$7(_objectSpread$7(_objectSpread$7(_objectSpread$7({},er),nr),sr?{x:sr}:{}),or?{y:or}:{}),{},{height:cr,width:dr,name:er.name,radius:er.radius})}function BarRectangle(St){return reactExports.createElement(Shape,_extends$8({shapeType:"rectangle",propTransformer:typeguardBarRectangleProps,activeClassName:"recharts-active-bar"},St))}var minPointSizeCallback=function St(er){var tr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(rr,nr)=>{if(isNumber(er))return er;var ar=isNumber(rr)||isNullish(rr);return ar?er(rr,nr):(ar||invariant(),tr)}};function useNeedsClip(St,er){var tr,rr,nr=useAppSelector(lr=>selectXAxisSettings(lr,St)),ar=useAppSelector(lr=>selectYAxisSettings(lr,er)),sr=(tr=nr==null?void 0:nr.allowDataOverflow)!==null&&tr!==void 0?tr:implicitXAxis.allowDataOverflow,ir=(rr=ar==null?void 0:ar.allowDataOverflow)!==null&&rr!==void 0?rr:implicitYAxis.allowDataOverflow,or=sr||ir;return{needClip:or,needClipX:sr,needClipY:ir}}function GraphicalItemClipPath(St){var{xAxisId:er,yAxisId:tr,clipPathId:rr}=St,nr=usePlotArea(),{needClipX:ar,needClipY:sr,needClip:ir}=useNeedsClip(er,tr);if(!ir)return null;var{x:or,y:lr,width:cr,height:ur}=nr;return reactExports.createElement("clipPath",{id:"clipPath-".concat(rr)},reactExports.createElement("rect",{x:ar?or:or-cr/2,y:sr?lr:lr-ur/2,width:ar?cr:cr*2,height:sr?ur:ur*2}))}var _excluded$8=["onMouseEnter","onMouseLeave","onClick"],_excluded2$3=["value","background","tooltipPosition"],_excluded3=["onMouseEnter","onClick","onMouseLeave"];function _extends$7(){return _extends$7=Object.assign?Object.assign.bind():function(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(St[rr]=tr[rr])}return St},_extends$7.apply(null,arguments)}function ownKeys$6(St,er){var tr=Object.keys(St);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(St);er&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(St,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$6(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$6(Object(tr),!0).forEach(function(rr){_defineProperty$9(St,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(St,Object.getOwnPropertyDescriptors(tr)):ownKeys$6(Object(tr)).forEach(function(rr){Object.defineProperty(St,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return St}function _defineProperty$9(St,er,tr){return(er=_toPropertyKey$9(er))in St?Object.defineProperty(St,er,{value:tr,enumerable:!0,configurable:!0,writable:!0}):St[er]=tr,St}function _toPropertyKey$9(St){var er=_toPrimitive$9(St,"string");return typeof er=="symbol"?er:er+""}function _toPrimitive$9(St,er){if(typeof St!="object"||!St)return St;var tr=St[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(St,er);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(St)}function _objectWithoutProperties$8(St,er){if(St==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$8(St,er);if(Object.getOwnPropertySymbols){var ar=Object.getOwnPropertySymbols(St);for(rr=0;rr<ar.length;rr++)tr=ar[rr],er.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(St,tr)&&(nr[tr]=St[tr])}return nr}function _objectWithoutPropertiesLoose$8(St,er){if(St==null)return{};var tr={};for(var rr in St)if({}.hasOwnProperty.call(St,rr)){if(er.indexOf(rr)!==-1)continue;tr[rr]=St[rr]}return tr}var computeLegendPayloadFromBarData=St=>{var{dataKey:er,name:tr,fill:rr,legendType:nr,hide:ar}=St;return[{inactive:ar,dataKey:er,type:nr,color:rr,value:getTooltipNameProp(tr,er),payload:St}]};function getTooltipEntrySettings$1(St){var{dataKey:er,stroke:tr,strokeWidth:rr,fill:nr,name:ar,hide:sr,unit:ir}=St;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:tr,strokeWidth:rr,fill:nr,dataKey:er,nameKey:void 0,name:getTooltipNameProp(ar,er),hide:sr,type:St.tooltipType,color:St.fill,unit:ir}}}function BarBackground(St){var er=useAppSelector(selectActiveTooltipIndex),{data:tr,dataKey:rr,background:nr,allOtherBarProps:ar}=St,{onMouseEnter:sr,onMouseLeave:ir,onClick:or}=ar,lr=_objectWithoutProperties$8(ar,_excluded$8),cr=useMouseEnterItemDispatch(sr,rr),ur=useMouseLeaveItemDispatch(ir),dr=useMouseClickItemDispatch(or,rr);if(!nr||tr==null)return null;var fr=filterProps(nr,!1);return reactExports.createElement(reactExports.Fragment,null,tr.map((mr,xr)=>{var{value:pr,background:hr,tooltipPosition:gr}=mr,vr=_objectWithoutProperties$8(mr,_excluded2$3);if(!hr)return null;var br=cr(mr,xr),yr=ur(mr,xr),Er=dr(mr,xr),jr=_objectSpread$6(_objectSpread$6(_objectSpread$6(_objectSpread$6(_objectSpread$6({option:nr,isActive:String(xr)===er},vr),{},{fill:"#eee"},hr),fr),adaptEventsOfChild(lr,mr,xr)),{},{onMouseEnter:br,onMouseLeave:yr,onClick:Er,dataKey:rr,index:xr,className:"recharts-bar-background-rectangle"});return reactExports.createElement(BarRectangle,_extends$7({key:"background-bar-".concat(xr)},jr))}))}function BarRectangles(St){var{data:er,props:tr,showLabels:rr}=St,nr=filterProps(tr,!1),{shape:ar,dataKey:sr,activeBar:ir}=tr,or=useAppSelector(selectActiveTooltipIndex),lr=useAppSelector(selectActiveTooltipDataKey),{onMouseEnter:cr,onClick:ur,onMouseLeave:dr}=tr,fr=_objectWithoutProperties$8(tr,_excluded3),mr=useMouseEnterItemDispatch(cr,sr),xr=useMouseLeaveItemDispatch(dr),pr=useMouseClickItemDispatch(ur,sr);return er?reactExports.createElement(reactExports.Fragment,null,er.map((hr,gr)=>{var vr=ir&&String(gr)===or&&(lr==null||sr===lr),br=vr?ir:ar,yr=_objectSpread$6(_objectSpread$6(_objectSpread$6({},nr),hr),{},{isActive:vr,option:br,index:gr,dataKey:sr});return reactExports.createElement(Layer,_extends$7({className:"recharts-bar-rectangle"},adaptEventsOfChild(fr,hr,gr),{onMouseEnter:mr(hr,gr),onMouseLeave:xr(hr,gr),onClick:pr(hr,gr),key:"rectangle-".concat(hr==null?void 0:hr.x,"-").concat(hr==null?void 0:hr.y,"-").concat(hr==null?void 0:hr.value,"-").concat(gr)}),reactExports.createElement(BarRectangle,yr))}),rr&&LabelList.renderCallByParent(tr,er)):null}function RectanglesWithAnimation(St){var{props:er,previousRectanglesRef:tr}=St,{data:rr,layout:nr,isAnimationActive:ar,animationBegin:sr,animationDuration:ir,animationEasing:or,onAnimationEnd:lr,onAnimationStart:cr}=er,ur=tr.current,dr=useAnimationId(er,"recharts-bar-"),[fr,mr]=reactExports.useState(!1),xr=reactExports.useCallback(()=>{typeof lr=="function"&&lr(),mr(!1)},[lr]),pr=reactExports.useCallback(()=>{typeof cr=="function"&&cr(),mr(!0)},[cr]);return reactExports.createElement(Animate,{begin:sr,duration:ir,isActive:ar,easing:or,from:{t:0},to:{t:1},onAnimationEnd:xr,onAnimationStart:pr,key:dr},hr=>{var{t:gr}=hr,vr=gr===1?rr:rr.map((br,yr)=>{var Er=ur&&ur[yr];if(Er){var jr=interpolateNumber$1(Er.x,br.x),_r=interpolateNumber$1(Er.y,br.y),Cr=interpolateNumber$1(Er.width,br.width),Or=interpolateNumber$1(Er.height,br.height);return _objectSpread$6(_objectSpread$6({},br),{},{x:jr(gr),y:_r(gr),width:Cr(gr),height:Or(gr)})}if(nr==="horizontal"){var Pr=interpolateNumber$1(0,br.height),Lr=Pr(gr);return _objectSpread$6(_objectSpread$6({},br),{},{y:br.y+br.height-Lr,height:Lr})}var Gr=interpolateNumber$1(0,br.width),Kr=Gr(gr);return _objectSpread$6(_objectSpread$6({},br),{},{width:Kr})});return gr>0&&(tr.current=vr),reactExports.createElement(Layer,null,reactExports.createElement(BarRectangles,{props:er,data:vr,showLabels:!fr}))})}function RenderRectangles(St){var{data:er,isAnimationActive:tr}=St,rr=reactExports.useRef(null);return tr&&er&&er.length&&(rr.current==null||rr.current!==er)?reactExports.createElement(RectanglesWithAnimation,{previousRectanglesRef:rr,props:St}):reactExports.createElement(BarRectangles,{props:St,data:er,showLabels:!0})}var defaultMinPointSize=0,errorBarDataPointFormatter$1=(St,er)=>{var tr=Array.isArray(St.value)?St.value[1]:St.value;return{x:St.x,y:St.y,value:tr,errorVal:getValueByDataKey(St,er)}};class BarWithState extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty$9(this,"id",uniqueId("recharts-bar-"))}render(){var{hide:er,data:tr,dataKey:rr,className:nr,xAxisId:ar,yAxisId:sr,needClip:ir,background:or,id:lr,layout:cr}=this.props;if(er)return null;var ur=clsx("recharts-bar",nr),dr=isNullish(lr)?this.id:lr;return reactExports.createElement(Layer,{className:ur},ir&&reactExports.createElement("defs",null,reactExports.createElement(GraphicalItemClipPath,{clipPathId:dr,xAxisId:ar,yAxisId:sr})),reactExports.createElement(Layer,{className:"recharts-bar-rectangles",clipPath:ir?"url(#clipPath-".concat(dr,")"):null},reactExports.createElement(BarBackground,{data:tr,dataKey:rr,background:or,allOtherBarProps:this.props}),reactExports.createElement(RenderRectangles,this.props)),reactExports.createElement(SetErrorBarPreferredDirection,{direction:cr==="horizontal"?"y":"x"},this.props.children))}}var defaultBarProps={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Global.isSsr,legendType:"rect",minPointSize:defaultMinPointSize,xAxisId:0,yAxisId:0};function BarImpl(St){var{xAxisId:er,yAxisId:tr,hide:rr,legendType:nr,minPointSize:ar,activeBar:sr,animationBegin:ir,animationDuration:or,animationEasing:lr,isAnimationActive:cr}=resolveDefaultProps(St,defaultBarProps),{needClip:ur}=useNeedsClip(er,tr),dr=useChartLayout(),fr=useIsPanorama(),mr=reactExports.useMemo(()=>({barSize:St.barSize,data:void 0,dataKey:St.dataKey,maxBarSize:St.maxBarSize,minPointSize:ar,stackId:getNormalizedStackId(St.stackId)}),[St.barSize,St.dataKey,St.maxBarSize,ar,St.stackId]),xr=findAllByType(St.children,Cell$1),pr=useAppSelector(vr=>selectBarRectangles(vr,er,tr,fr,mr,xr));if(dr!=="vertical"&&dr!=="horizontal")return null;var hr,gr=pr==null?void 0:pr[0];return gr==null||gr.height==null||gr.width==null?hr=0:hr=dr==="vertical"?gr.height/2:gr.width/2,reactExports.createElement(SetErrorBarContext,{xAxisId:er,yAxisId:tr,data:pr,dataPointFormatter:errorBarDataPointFormatter$1,errorBarOffset:hr},reactExports.createElement(BarWithState,_extends$7({},St,{layout:dr,needClip:ur,data:pr,xAxisId:er,yAxisId:tr,hide:rr,legendType:nr,minPointSize:ar,activeBar:sr,animationBegin:ir,animationDuration:or,animationEasing:lr,isAnimationActive:cr})))}function computeBarRectangles(St){var{layout:er,barSettings:{dataKey:tr,minPointSize:rr},pos:nr,bandSize:ar,xAxis:sr,yAxis:ir,xAxisTicks:or,yAxisTicks:lr,stackedData:cr,displayedData:ur,offset:dr,cells:fr}=St,mr=er==="horizontal"?ir:sr,xr=cr?mr.scale.domain():null,pr=getBaseValueOfBar({numericAxis:mr});return ur.map((hr,gr)=>{var vr,br,yr,Er,jr,_r;cr?vr=truncateByDomain(cr[gr],xr):(vr=getValueByDataKey(hr,tr),Array.isArray(vr)||(vr=[pr,vr]));var Cr=minPointSizeCallback(rr,defaultMinPointSize)(vr[1],gr);if(er==="horizontal"){var Or,[Pr,Lr]=[ir.scale(vr[0]),ir.scale(vr[1])];br=getCateCoordinateOfBar({axis:sr,ticks:or,bandSize:ar,offset:nr.offset,entry:hr,index:gr}),yr=(Or=Lr??Pr)!==null&&Or!==void 0?Or:void 0,Er=nr.size;var Gr=Pr-Lr;if(jr=isNan(Gr)?0:Gr,_r={x:br,y:dr.top,width:Er,height:dr.height},Math.abs(Cr)>0&&Math.abs(jr)<Math.abs(Cr)){var Kr=mathSign(jr||Cr)*(Math.abs(Cr)-Math.abs(jr));yr-=Kr,jr+=Kr}}else{var[nn,Qr]=[sr.scale(vr[0]),sr.scale(vr[1])];if(br=nn,yr=getCateCoordinateOfBar({axis:ir,ticks:lr,bandSize:ar,offset:nr.offset,entry:hr,index:gr}),Er=Qr-nn,jr=nr.size,_r={x:dr.left,y:yr,width:dr.width,height:jr},Math.abs(Cr)>0&&Math.abs(Er)<Math.abs(Cr)){var zr=mathSign(Er||Cr)*(Math.abs(Cr)-Math.abs(Er));Er+=zr}}var Vr=_objectSpread$6(_objectSpread$6({},hr),{},{x:br,y:yr,width:Er,height:jr,value:cr?vr:vr[1],payload:hr,background:_r,tooltipPosition:{x:br+Er/2,y:yr+jr/2}},fr&&fr[gr]&&fr[gr].props);return Vr})}class Bar extends reactExports.PureComponent{render(){return reactExports.createElement(CartesianGraphicalItemContext,{type:"bar",data:null,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:this.props.stackId,hide:this.props.hide,barSize:this.props.barSize},reactExports.createElement(ReportBar,null),reactExports.createElement(SetLegendPayload,{legendPayload:computeLegendPayloadFromBarData(this.props)}),reactExports.createElement(SetTooltipEntrySettings,{fn:getTooltipEntrySettings$1,args:this.props}),reactExports.createElement(BarImpl,this.props))}}_defineProperty$9(Bar,"displayName","Bar");_defineProperty$9(Bar,"defaultProps",defaultBarProps);function ownKeys$5(St,er){var tr=Object.keys(St);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(St);er&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(St,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$5(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$5(Object(tr),!0).forEach(function(rr){_defineProperty$8(St,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(St,Object.getOwnPropertyDescriptors(tr)):ownKeys$5(Object(tr)).forEach(function(rr){Object.defineProperty(St,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return St}function _defineProperty$8(St,er,tr){return(er=_toPropertyKey$8(er))in St?Object.defineProperty(St,er,{value:tr,enumerable:!0,configurable:!0,writable:!0}):St[er]=tr,St}function _toPropertyKey$8(St){var er=_toPrimitive$8(St,"string");return typeof er=="symbol"?er:er+""}function _toPrimitive$8(St,er){if(typeof St!="object"||!St)return St;var tr=St[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(St,er);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(St)}var pickXAxisId=(St,er)=>er,pickYAxisId=(St,er,tr)=>tr,pickIsPanorama=(St,er,tr,rr)=>rr,pickBarSettings=(St,er,tr,rr,nr)=>nr,pickMaxBarSize=(St,er,tr,rr,nr)=>nr.maxBarSize,pickCells=(St,er,tr,rr,nr,ar)=>ar,getBarSize=(St,er,tr)=>{var rr=tr??St;if(!isNullish(rr))return getPercentValue(rr,er,0)},selectAllVisibleBars=createSelector([selectChartLayout,selectUnfilteredCartesianItems,pickXAxisId,pickYAxisId,pickIsPanorama],(St,er,tr,rr,nr)=>er.filter(ar=>St==="horizontal"?ar.xAxisId===tr:ar.yAxisId===rr).filter(ar=>ar.isPanorama===nr).filter(ar=>ar.hide===!1).filter(ar=>ar.type==="bar")),selectBarStackGroups=(St,er,tr,rr)=>{var nr=selectChartLayout(St);return nr==="horizontal"?selectStackGroups(St,"yAxis",tr,rr):selectStackGroups(St,"xAxis",er,rr)},selectBarCartesianAxisSize=(St,er,tr)=>{var rr=selectChartLayout(St);return rr==="horizontal"?selectCartesianAxisSize(St,"xAxis",er):selectCartesianAxisSize(St,"yAxis",tr)};function isStacked(St){return St.stackId!=null&&St.dataKey!=null}var combineBarSizeList=(St,er,tr)=>{var rr={},nr=St.filter(isStacked),ar=St.filter(lr=>lr.stackId==null),sr=nr.reduce((lr,cr)=>(lr[cr.stackId]||(lr[cr.stackId]=[]),lr[cr.stackId].push(cr),lr),rr),ir=Object.entries(sr).map(lr=>{var[cr,ur]=lr,dr=ur.map(mr=>mr.dataKey),fr=getBarSize(er,tr,ur[0].barSize);return{stackId:cr,dataKeys:dr,barSize:fr}}),or=ar.map(lr=>{var cr=[lr.dataKey].filter(dr=>dr!=null),ur=getBarSize(er,tr,lr.barSize);return{stackId:void 0,dataKeys:cr,barSize:ur}});return[...ir,...or]},selectBarSizeList=createSelector([selectAllVisibleBars,selectRootBarSize,selectBarCartesianAxisSize],combineBarSizeList),selectBarBandSize=(St,er,tr,rr,nr)=>{var ar,sr,ir=selectChartLayout(St),or=selectRootMaxBarSize(St),{maxBarSize:lr}=nr,cr=isNullish(lr)?or:lr,ur,dr;return ir==="horizontal"?(ur=selectAxisWithScale(St,"xAxis",er,rr),dr=selectTicksOfGraphicalItem(St,"xAxis",er,rr)):(ur=selectAxisWithScale(St,"yAxis",tr,rr),dr=selectTicksOfGraphicalItem(St,"yAxis",tr,rr)),(ar=(sr=getBandSizeOfAxis(ur,dr,!0))!==null&&sr!==void 0?sr:cr)!==null&&ar!==void 0?ar:0},selectAxisBandSize=(St,er,tr,rr)=>{var nr=selectChartLayout(St),ar,sr;return nr==="horizontal"?(ar=selectAxisWithScale(St,"xAxis",er,rr),sr=selectTicksOfGraphicalItem(St,"xAxis",er,rr)):(ar=selectAxisWithScale(St,"yAxis",tr,rr),sr=selectTicksOfGraphicalItem(St,"yAxis",tr,rr)),getBandSizeOfAxis(ar,sr)};function getBarPositions(St,er,tr,rr,nr){var ar=rr.length;if(!(ar<1)){var sr=getPercentValue(St,tr,0,!0),ir,or=[];if(isWellBehavedNumber(rr[0].barSize)){var lr=!1,cr=tr/ar,ur=rr.reduce((hr,gr)=>hr+(gr.barSize||0),0);ur+=(ar-1)*sr,ur>=tr&&(ur-=(ar-1)*sr,sr=0),ur>=tr&&cr>0&&(lr=!0,cr*=.9,ur=ar*cr);var dr=(tr-ur)/2>>0,fr={offset:dr-sr,size:0};ir=rr.reduce((hr,gr)=>{var vr,br={stackId:gr.stackId,dataKeys:gr.dataKeys,position:{offset:fr.offset+fr.size+sr,size:lr?cr:(vr=gr.barSize)!==null&&vr!==void 0?vr:0}},yr=[...hr,br];return fr=yr[yr.length-1].position,yr},or)}else{var mr=getPercentValue(er,tr,0,!0);tr-2*mr-(ar-1)*sr<=0&&(sr=0);var xr=(tr-2*mr-(ar-1)*sr)/ar;xr>1&&(xr>>=0);var pr=isWellBehavedNumber(nr)?Math.min(xr,nr):xr;ir=rr.reduce((hr,gr,vr)=>[...hr,{stackId:gr.stackId,dataKeys:gr.dataKeys,position:{offset:mr+(xr+sr)*vr+(xr-pr)/2,size:pr}}],or)}return ir}}var combineAllBarPositions=(St,er,tr,rr,nr,ar,sr)=>{var ir=isNullish(sr)?er:sr,or=getBarPositions(tr,rr,nr!==ar?nr:ar,St,ir);return nr!==ar&&or!=null&&(or=or.map(lr=>_objectSpread$5(_objectSpread$5({},lr),{},{position:_objectSpread$5(_objectSpread$5({},lr.position),{},{offset:lr.position.offset-nr/2})}))),or},selectAllBarPositions=createSelector([selectBarSizeList,selectRootMaxBarSize,selectBarGap,selectBarCategoryGap,selectBarBandSize,selectAxisBandSize,pickMaxBarSize],combineAllBarPositions),selectXAxisWithScale$1=(St,er,tr,rr)=>selectAxisWithScale(St,"xAxis",er,rr),selectYAxisWithScale$1=(St,er,tr,rr)=>selectAxisWithScale(St,"yAxis",tr,rr),selectXAxisTicks$1=(St,er,tr,rr)=>selectTicksOfGraphicalItem(St,"xAxis",er,rr),selectYAxisTicks$1=(St,er,tr,rr)=>selectTicksOfGraphicalItem(St,"yAxis",tr,rr),selectBarPosition=createSelector([selectAllBarPositions,pickBarSettings],(St,er)=>{if(St!=null){var tr=St.find(rr=>rr.stackId===er.stackId&&rr.dataKeys.includes(er.dataKey));if(tr!=null)return tr.position}}),combineStackedData=(St,er)=>{if(!(!St||(er==null?void 0:er.dataKey)==null)){var{stackId:tr}=er;if(tr!=null){var rr=St[tr];if(rr){var{stackedData:nr}=rr;if(nr){var ar=nr.find(sr=>sr.key===er.dataKey);return ar}}}}},selectSynchronisedBarSettings=createSelector([selectUnfilteredCartesianItems,pickBarSettings],(St,er)=>{if(St.some(tr=>tr.type==="bar"&&er.dataKey===tr.dataKey&&er.stackId===tr.stackId&&er.stackId===tr.stackId))return er}),selectStackedDataOfItem=createSelector([selectBarStackGroups,pickBarSettings],combineStackedData),selectBarRectangles=createSelector([selectChartOffsetInternal,selectXAxisWithScale$1,selectYAxisWithScale$1,selectXAxisTicks$1,selectYAxisTicks$1,selectBarPosition,selectChartLayout,selectChartDataWithIndexesIfNotInPanorama,selectAxisBandSize,selectStackedDataOfItem,selectSynchronisedBarSettings,pickCells],(St,er,tr,rr,nr,ar,sr,ir,or,lr,cr,ur)=>{var{chartData:dr,dataStartIndex:fr,dataEndIndex:mr}=ir;if(!(cr==null||ar==null||sr!=="horizontal"&&sr!=="vertical"||er==null||tr==null||rr==null||nr==null||or==null)){var{data:xr}=cr,pr;if(xr!=null&&xr.length>0?pr=xr:pr=dr==null?void 0:dr.slice(fr,mr+1),pr!=null)return computeBarRectangles({layout:sr,barSettings:cr,pos:ar,bandSize:or,xAxis:er,yAxis:tr,xAxisTicks:rr,yAxisTicks:nr,stackedData:lr,displayedData:pr,offset:St,cells:ur})}}),ChartDataContextProvider=St=>{var{chartData:er}=St,tr=useAppDispatch(),rr=useIsPanorama();return reactExports.useEffect(()=>rr?()=>{}:(tr(setChartData(er)),()=>{tr(setChartData(void 0))}),[er,tr,rr]),null},initialState$3={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},brushSlice=createSlice({name:"brush",initialState:initialState$3,reducers:{setBrushSettings(St,er){return er.payload==null?initialState$3:er.payload}}}),{setBrushSettings}=brushSlice.actions,brushReducer=brushSlice.reducer;function _defineProperty$7(St,er,tr){return(er=_toPropertyKey$7(er))in St?Object.defineProperty(St,er,{value:tr,enumerable:!0,configurable:!0,writable:!0}):St[er]=tr,St}function _toPropertyKey$7(St){var er=_toPrimitive$7(St,"string");return typeof er=="symbol"?er:er+""}function _toPrimitive$7(St,er){if(typeof St!="object"||!St)return St;var tr=St[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(St,er);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(St)}class ScaleHelper{static create(er){return new ScaleHelper(er)}constructor(er){this.scale=er}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(er){var{bandAware:tr,position:rr}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(er!==void 0){if(rr)switch(rr){case"start":return this.scale(er);case"middle":{var nr=this.bandwidth?this.bandwidth()/2:0;return this.scale(er)+nr}case"end":{var ar=this.bandwidth?this.bandwidth():0;return this.scale(er)+ar}default:return this.scale(er)}if(tr){var sr=this.bandwidth?this.bandwidth()/2:0;return this.scale(er)+sr}return this.scale(er)}}isInRange(er){var tr=this.range(),rr=tr[0],nr=tr[tr.length-1];return rr<=nr?er>=rr&&er<=nr:er>=nr&&er<=rr}}_defineProperty$7(ScaleHelper,"EPS",1e-4);function normalizeAngle(St){return(St%180+180)%180}var getAngledRectangleWidth=function St(er){var{width:tr,height:rr}=er,nr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,ar=normalizeAngle(nr),sr=ar*Math.PI/180,ir=Math.atan(rr/tr),or=sr>ir&&sr<Math.PI-ir?rr/Math.sin(sr):tr/Math.cos(sr);return Math.abs(or)},initialState$2={dots:[],areas:[],lines:[]},referenceElementsSlice=createSlice({name:"referenceElements",initialState:initialState$2,reducers:{addDot:(St,er)=>{St.dots.push(er.payload)},removeDot:(St,er)=>{var tr=current(St).dots.findIndex(rr=>rr===er.payload);tr!==-1&&St.dots.splice(tr,1)},addArea:(St,er)=>{St.areas.push(er.payload)},removeArea:(St,er)=>{var tr=current(St).areas.findIndex(rr=>rr===er.payload);tr!==-1&&St.areas.splice(tr,1)},addLine:(St,er)=>{St.lines.push(er.payload)},removeLine:(St,er)=>{var tr=current(St).lines.findIndex(rr=>rr===er.payload);tr!==-1&&St.lines.splice(tr,1)}}}),{addDot,removeDot,addArea,removeArea,addLine,removeLine}=referenceElementsSlice.actions,referenceElementsReducer=referenceElementsSlice.reducer,ClipPathIdContext=reactExports.createContext(void 0),ClipPathProvider=St=>{var{children:er}=St,[tr]=reactExports.useState("".concat(uniqueId("recharts"),"-clip")),rr=usePlotArea();if(rr==null)return null;var{x:nr,y:ar,width:sr,height:ir}=rr;return reactExports.createElement(ClipPathIdContext.Provider,{value:tr},reactExports.createElement("defs",null,reactExports.createElement("clipPath",{id:tr},reactExports.createElement("rect",{x:nr,y:ar,height:ir,width:sr}))),er)};function shallowEqual(St,er){for(var tr in St)if({}.hasOwnProperty.call(St,tr)&&(!{}.hasOwnProperty.call(er,tr)||St[tr]!==er[tr]))return!1;for(var rr in er)if({}.hasOwnProperty.call(er,rr)&&!{}.hasOwnProperty.call(St,rr))return!1;return!0}function getEveryNthWithCondition(St,er,tr){if(er<1)return[];if(er===1&&tr===void 0)return St;for(var rr=[],nr=0;nr<St.length;nr+=er)rr.push(St[nr]);return rr}function getAngledTickWidth(St,er,tr){var rr={width:St.width+er.width,height:St.height+er.height};return getAngledRectangleWidth(rr,tr)}function getTickBoundaries(St,er,tr){var rr=tr==="width",{x:nr,y:ar,width:sr,height:ir}=St;return er===1?{start:rr?nr:ar,end:rr?nr+sr:ar+ir}:{start:rr?nr+sr:ar+ir,end:rr?nr:ar}}function isVisible(St,er,tr,rr,nr){if(St*er<St*rr||St*er>St*nr)return!1;var ar=tr();return St*(er-St*ar/2-rr)>=0&&St*(er+St*ar/2-nr)<=0}function getNumberIntervalTicks(St,er){return getEveryNthWithCondition(St,er+1)}function getEquidistantTicks(St,er,tr,rr,nr){for(var ar=(rr||[]).slice(),{start:sr,end:ir}=er,or=0,lr=1,cr=sr,ur=function(){var mr=rr==null?void 0:rr[or];if(mr===void 0)return{v:getEveryNthWithCondition(rr,lr)};var xr=or,pr,hr=()=>(pr===void 0&&(pr=tr(mr,xr)),pr),gr=mr.coordinate,vr=or===0||isVisible(St,gr,hr,cr,ir);vr||(or=0,cr=sr,lr+=1),vr&&(cr=gr+St*(hr()/2+nr),or+=lr)},dr;lr<=ar.length;)if(dr=ur(),dr)return dr.v;return[]}function ownKeys$4(St,er){var tr=Object.keys(St);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(St);er&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(St,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$4(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$4(Object(tr),!0).forEach(function(rr){_defineProperty$6(St,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(St,Object.getOwnPropertyDescriptors(tr)):ownKeys$4(Object(tr)).forEach(function(rr){Object.defineProperty(St,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return St}function _defineProperty$6(St,er,tr){return(er=_toPropertyKey$6(er))in St?Object.defineProperty(St,er,{value:tr,enumerable:!0,configurable:!0,writable:!0}):St[er]=tr,St}function _toPropertyKey$6(St){var er=_toPrimitive$6(St,"string");return typeof er=="symbol"?er:er+""}function _toPrimitive$6(St,er){if(typeof St!="object"||!St)return St;var tr=St[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(St,er);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(St)}function getTicksEnd(St,er,tr,rr,nr){for(var ar=(rr||[]).slice(),sr=ar.length,{start:ir}=er,{end:or}=er,lr=function(dr){var fr=ar[dr],mr,xr=()=>(mr===void 0&&(mr=tr(fr,dr)),mr);if(dr===sr-1){var pr=St*(fr.coordinate+St*xr()/2-or);ar[dr]=fr=_objectSpread$4(_objectSpread$4({},fr),{},{tickCoord:pr>0?fr.coordinate-pr*St:fr.coordinate})}else ar[dr]=fr=_objectSpread$4(_objectSpread$4({},fr),{},{tickCoord:fr.coordinate});var hr=isVisible(St,fr.tickCoord,xr,ir,or);hr&&(or=fr.tickCoord-St*(xr()/2+nr),ar[dr]=_objectSpread$4(_objectSpread$4({},fr),{},{isShow:!0}))},cr=sr-1;cr>=0;cr--)lr(cr);return ar}function getTicksStart(St,er,tr,rr,nr,ar){var sr=(rr||[]).slice(),ir=sr.length,{start:or,end:lr}=er;if(ar){var cr=rr[ir-1],ur=tr(cr,ir-1),dr=St*(cr.coordinate+St*ur/2-lr);sr[ir-1]=cr=_objectSpread$4(_objectSpread$4({},cr),{},{tickCoord:dr>0?cr.coordinate-dr*St:cr.coordinate});var fr=isVisible(St,cr.tickCoord,()=>ur,or,lr);fr&&(lr=cr.tickCoord-St*(ur/2+nr),sr[ir-1]=_objectSpread$4(_objectSpread$4({},cr),{},{isShow:!0}))}for(var mr=ar?ir-1:ir,xr=function(gr){var vr=sr[gr],br,yr=()=>(br===void 0&&(br=tr(vr,gr)),br);if(gr===0){var Er=St*(vr.coordinate-St*yr()/2-or);sr[gr]=vr=_objectSpread$4(_objectSpread$4({},vr),{},{tickCoord:Er<0?vr.coordinate-Er*St:vr.coordinate})}else sr[gr]=vr=_objectSpread$4(_objectSpread$4({},vr),{},{tickCoord:vr.coordinate});var jr=isVisible(St,vr.tickCoord,yr,or,lr);jr&&(or=vr.tickCoord+St*(yr()/2+nr),sr[gr]=_objectSpread$4(_objectSpread$4({},vr),{},{isShow:!0}))},pr=0;pr<mr;pr++)xr(pr);return sr}function getTicks(St,er,tr){var{tick:rr,ticks:nr,viewBox:ar,minTickGap:sr,orientation:ir,interval:or,tickFormatter:lr,unit:cr,angle:ur}=St;if(!nr||!nr.length||!rr)return[];if(isNumber(or)||Global.isSsr){var dr;return(dr=getNumberIntervalTicks(nr,isNumber(or)?or:0))!==null&&dr!==void 0?dr:[]}var fr=[],mr=ir==="top"||ir==="bottom"?"width":"height",xr=cr&&mr==="width"?getStringSize(cr,{fontSize:er,letterSpacing:tr}):{width:0,height:0},pr=(vr,br)=>{var yr=typeof lr=="function"?lr(vr.value,br):vr.value;return mr==="width"?getAngledTickWidth(getStringSize(yr,{fontSize:er,letterSpacing:tr}),xr,ur):getStringSize(yr,{fontSize:er,letterSpacing:tr})[mr]},hr=nr.length>=2?mathSign(nr[1].coordinate-nr[0].coordinate):1,gr=getTickBoundaries(ar,hr,mr);return or==="equidistantPreserveStart"?getEquidistantTicks(hr,gr,pr,nr,sr):(or==="preserveStart"||or==="preserveStartEnd"?fr=getTicksStart(hr,gr,pr,nr,sr,or==="preserveStartEnd"):fr=getTicksEnd(hr,gr,pr,nr,sr),fr.filter(vr=>vr.isShow))}var _excluded$7=["viewBox"],_excluded2$2=["viewBox"];function _extends$6(){return _extends$6=Object.assign?Object.assign.bind():function(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(St[rr]=tr[rr])}return St},_extends$6.apply(null,arguments)}function ownKeys$3(St,er){var tr=Object.keys(St);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(St);er&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(St,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$3(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$3(Object(tr),!0).forEach(function(rr){_defineProperty$5(St,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(St,Object.getOwnPropertyDescriptors(tr)):ownKeys$3(Object(tr)).forEach(function(rr){Object.defineProperty(St,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return St}function _objectWithoutProperties$7(St,er){if(St==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$7(St,er);if(Object.getOwnPropertySymbols){var ar=Object.getOwnPropertySymbols(St);for(rr=0;rr<ar.length;rr++)tr=ar[rr],er.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(St,tr)&&(nr[tr]=St[tr])}return nr}function _objectWithoutPropertiesLoose$7(St,er){if(St==null)return{};var tr={};for(var rr in St)if({}.hasOwnProperty.call(St,rr)){if(er.indexOf(rr)!==-1)continue;tr[rr]=St[rr]}return tr}function _defineProperty$5(St,er,tr){return(er=_toPropertyKey$5(er))in St?Object.defineProperty(St,er,{value:tr,enumerable:!0,configurable:!0,writable:!0}):St[er]=tr,St}function _toPropertyKey$5(St){var er=_toPrimitive$5(St,"string");return typeof er=="symbol"?er:er+""}function _toPrimitive$5(St,er){if(typeof St!="object"||!St)return St;var tr=St[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(St,er);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(St)}class CartesianAxis extends reactExports.Component{constructor(er){super(er),this.tickRefs=reactExports.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(er,tr){var{viewBox:rr}=er,nr=_objectWithoutProperties$7(er,_excluded$7),ar=this.props,{viewBox:sr}=ar,ir=_objectWithoutProperties$7(ar,_excluded2$2);return!shallowEqual(rr,sr)||!shallowEqual(nr,ir)||!shallowEqual(tr,this.state)}getTickLineCoord(er){var{x:tr,y:rr,width:nr,height:ar,orientation:sr,tickSize:ir,mirror:or,tickMargin:lr}=this.props,cr,ur,dr,fr,mr,xr,pr=or?-1:1,hr=er.tickSize||ir,gr=isNumber(er.tickCoord)?er.tickCoord:er.coordinate;switch(sr){case"top":cr=ur=er.coordinate,fr=rr+ +!or*ar,dr=fr-pr*hr,xr=dr-pr*lr,mr=gr;break;case"left":dr=fr=er.coordinate,ur=tr+ +!or*nr,cr=ur-pr*hr,mr=cr-pr*lr,xr=gr;break;case"right":dr=fr=er.coordinate,ur=tr+ +or*nr,cr=ur+pr*hr,mr=cr+pr*lr,xr=gr;break;default:cr=ur=er.coordinate,fr=rr+ +or*ar,dr=fr+pr*hr,xr=dr+pr*lr,mr=gr;break}return{line:{x1:cr,y1:dr,x2:ur,y2:fr},tick:{x:mr,y:xr}}}getTickTextAnchor(){var{orientation:er,mirror:tr}=this.props,rr;switch(er){case"left":rr=tr?"start":"end";break;case"right":rr=tr?"end":"start";break;default:rr="middle";break}return rr}getTickVerticalAnchor(){var{orientation:er,mirror:tr}=this.props;switch(er){case"left":case"right":return"middle";case"top":return tr?"start":"end";default:return tr?"end":"start"}}renderAxisLine(){var{x:er,y:tr,width:rr,height:nr,orientation:ar,mirror:sr,axisLine:ir}=this.props,or=_objectSpread$3(_objectSpread$3(_objectSpread$3({},filterProps(this.props,!1)),filterProps(ir,!1)),{},{fill:"none"});if(ar==="top"||ar==="bottom"){var lr=+(ar==="top"&&!sr||ar==="bottom"&&sr);or=_objectSpread$3(_objectSpread$3({},or),{},{x1:er,y1:tr+lr*nr,x2:er+rr,y2:tr+lr*nr})}else{var cr=+(ar==="left"&&!sr||ar==="right"&&sr);or=_objectSpread$3(_objectSpread$3({},or),{},{x1:er+cr*rr,y1:tr,x2:er+cr*rr,y2:tr+nr})}return reactExports.createElement("line",_extends$6({},or,{className:clsx("recharts-cartesian-axis-line",get$1(ir,"className"))}))}static renderTickItem(er,tr,rr){var nr,ar=clsx(tr.className,"recharts-cartesian-axis-tick-value");if(reactExports.isValidElement(er))nr=reactExports.cloneElement(er,_objectSpread$3(_objectSpread$3({},tr),{},{className:ar}));else if(typeof er=="function")nr=er(_objectSpread$3(_objectSpread$3({},tr),{},{className:ar}));else{var sr="recharts-cartesian-axis-tick-value";typeof er!="boolean"&&(sr=clsx(sr,er.className)),nr=reactExports.createElement(Text,_extends$6({},tr,{className:sr}),rr)}return nr}renderTicks(er,tr){var rr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:nr,stroke:ar,tick:sr,tickFormatter:ir,unit:or}=this.props,lr=getTicks(_objectSpread$3(_objectSpread$3({},this.props),{},{ticks:rr}),er,tr),cr=this.getTickTextAnchor(),ur=this.getTickVerticalAnchor(),dr=filterProps(this.props,!1),fr=filterProps(sr,!1),mr=_objectSpread$3(_objectSpread$3({},dr),{},{fill:"none"},filterProps(nr,!1)),xr=lr.map((pr,hr)=>{var{line:gr,tick:vr}=this.getTickLineCoord(pr),br=_objectSpread$3(_objectSpread$3(_objectSpread$3(_objectSpread$3({textAnchor:cr,verticalAnchor:ur},dr),{},{stroke:"none",fill:ar},fr),vr),{},{index:hr,payload:pr,visibleTicksCount:lr.length,tickFormatter:ir});return reactExports.createElement(Layer,_extends$6({className:"recharts-cartesian-axis-tick",key:"tick-".concat(pr.value,"-").concat(pr.coordinate,"-").concat(pr.tickCoord)},adaptEventsOfChild(this.props,pr,hr)),nr&&reactExports.createElement("line",_extends$6({},mr,gr,{className:clsx("recharts-cartesian-axis-tick-line",get$1(nr,"className"))})),sr&&CartesianAxis.renderTickItem(sr,br,"".concat(typeof ir=="function"?ir(pr.value,hr):pr.value).concat(or||"")))});return xr.length>0?reactExports.createElement("g",{className:"recharts-cartesian-axis-ticks"},xr):null}render(){var{axisLine:er,width:tr,height:rr,className:nr,hide:ar}=this.props;if(ar)return null;var{ticks:sr}=this.props;return tr!=null&&tr<=0||rr!=null&&rr<=0?null:reactExports.createElement(Layer,{className:clsx("recharts-cartesian-axis",nr),ref:ir=>{if(ir){var or=ir.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(or);var lr=or[0];if(lr){var cr=window.getComputedStyle(lr).fontSize,ur=window.getComputedStyle(lr).letterSpacing;(cr!==this.state.fontSize||ur!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(lr).fontSize,letterSpacing:window.getComputedStyle(lr).letterSpacing})}}}},er&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,sr),Label.renderCallByParent(this.props))}}_defineProperty$5(CartesianAxis,"displayName","CartesianAxis");_defineProperty$5(CartesianAxis,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var selectXAxisWithScale=(St,er,tr,rr)=>selectAxisWithScale(St,"xAxis",er,rr),selectXAxisTicks=(St,er,tr,rr)=>selectTicksOfGraphicalItem(St,"xAxis",er,rr),selectYAxisWithScale=(St,er,tr,rr)=>selectAxisWithScale(St,"yAxis",tr,rr),selectYAxisTicks=(St,er,tr,rr)=>selectTicksOfGraphicalItem(St,"yAxis",tr,rr),selectBandSize=createSelector([selectChartLayout,selectXAxisWithScale,selectYAxisWithScale,selectXAxisTicks,selectYAxisTicks],(St,er,tr,rr,nr)=>isCategoricalAxis(St,"xAxis")?getBandSizeOfAxis(er,rr,!1):getBandSizeOfAxis(tr,nr,!1)),pickLineSettings=(St,er,tr,rr,nr)=>nr,selectSynchronisedLineSettings=createSelector([selectUnfilteredCartesianItems,pickLineSettings],(St,er)=>{if(St.some(tr=>tr.type==="line"&&er.dataKey===tr.dataKey&&er.data===tr.data))return er}),selectLinePoints=createSelector([selectChartLayout,selectXAxisWithScale,selectYAxisWithScale,selectXAxisTicks,selectYAxisTicks,selectSynchronisedLineSettings,selectBandSize,selectChartDataWithIndexesIfNotInPanorama],(St,er,tr,rr,nr,ar,sr,ir)=>{var{chartData:or,dataStartIndex:lr,dataEndIndex:cr}=ir;if(!(ar==null||er==null||tr==null||rr==null||nr==null||rr.length===0||nr.length===0||sr==null)){var{dataKey:ur,data:dr}=ar,fr;if(dr!=null&&dr.length>0?fr=dr:fr=or==null?void 0:or.slice(lr,cr+1),fr!=null)return computeLinePoints({layout:St,xAxis:er,yAxis:tr,xAxisTicks:rr,yAxisTicks:nr,dataKey:ur,bandSize:sr,displayedData:fr})}}),_excluded$6=["type","layout","connectNulls","needClip"],_excluded2$1=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId"];function _objectWithoutProperties$6(St,er){if(St==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$6(St,er);if(Object.getOwnPropertySymbols){var ar=Object.getOwnPropertySymbols(St);for(rr=0;rr<ar.length;rr++)tr=ar[rr],er.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(St,tr)&&(nr[tr]=St[tr])}return nr}function _objectWithoutPropertiesLoose$6(St,er){if(St==null)return{};var tr={};for(var rr in St)if({}.hasOwnProperty.call(St,rr)){if(er.indexOf(rr)!==-1)continue;tr[rr]=St[rr]}return tr}function ownKeys$2(St,er){var tr=Object.keys(St);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(St);er&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(St,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$2(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$2(Object(tr),!0).forEach(function(rr){_defineProperty$4(St,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(St,Object.getOwnPropertyDescriptors(tr)):ownKeys$2(Object(tr)).forEach(function(rr){Object.defineProperty(St,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return St}function _defineProperty$4(St,er,tr){return(er=_toPropertyKey$4(er))in St?Object.defineProperty(St,er,{value:tr,enumerable:!0,configurable:!0,writable:!0}):St[er]=tr,St}function _toPropertyKey$4(St){var er=_toPrimitive$4(St,"string");return typeof er=="symbol"?er:er+""}function _toPrimitive$4(St,er){if(typeof St!="object"||!St)return St;var tr=St[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(St,er);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(St)}function _extends$5(){return _extends$5=Object.assign?Object.assign.bind():function(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(St[rr]=tr[rr])}return St},_extends$5.apply(null,arguments)}var computeLegendPayloadFromAreaData=St=>{var{dataKey:er,name:tr,stroke:rr,legendType:nr,hide:ar}=St;return[{inactive:ar,dataKey:er,type:nr,color:rr,value:getTooltipNameProp(tr,er),payload:St}]};function getTooltipEntrySettings(St){var{dataKey:er,data:tr,stroke:rr,strokeWidth:nr,fill:ar,name:sr,hide:ir,unit:or}=St;return{dataDefinedOnItem:tr,positions:void 0,settings:{stroke:rr,strokeWidth:nr,fill:ar,dataKey:er,nameKey:void 0,name:getTooltipNameProp(sr,er),hide:ir,type:St.tooltipType,color:St.stroke,unit:or}}}var generateSimpleStrokeDasharray=(St,er)=>"".concat(er,"px ").concat(St-er,"px");function repeat(St,er){for(var tr=St.length%2!==0?[...St,0]:St,rr=[],nr=0;nr<er;++nr)rr=[...rr,...tr];return rr}var getStrokeDasharray=(St,er,tr)=>{var rr=tr.reduce((ur,dr)=>ur+dr);if(!rr)return generateSimpleStrokeDasharray(er,St);for(var nr=Math.floor(St/rr),ar=St%rr,sr=er-St,ir=[],or=0,lr=0;or<tr.length;lr+=tr[or],++or)if(lr+tr[or]>ar){ir=[...tr.slice(0,or),ar-lr];break}var cr=ir.length%2===0?[0,sr]:[sr];return[...repeat(tr,nr),...ir,...cr].map(ur=>"".concat(ur,"px")).join(", ")};function renderDotItem(St,er){var tr;if(reactExports.isValidElement(St))tr=reactExports.cloneElement(St,er);else if(typeof St=="function")tr=St(er);else{var rr=clsx("recharts-line-dot",typeof St!="boolean"?St.className:"");tr=reactExports.createElement(Dot,_extends$5({},er,{className:rr}))}return tr}function shouldRenderDots(St,er){return St==null?!1:er?!0:St.length===1}function Dots(St){var{clipPathId:er,points:tr,props:rr}=St,{dot:nr,dataKey:ar,needClip:sr}=rr;if(!shouldRenderDots(tr,nr))return null;var ir=isClipDot(nr),or=filterProps(rr,!1),lr=filterProps(nr,!0),cr=tr.map((dr,fr)=>{var mr=_objectSpread$2(_objectSpread$2(_objectSpread$2({key:"dot-".concat(fr),r:3},or),lr),{},{index:fr,cx:dr.x,cy:dr.y,dataKey:ar,value:dr.value,payload:dr.payload,points:tr});return renderDotItem(nr,mr)}),ur={clipPath:sr?"url(#clipPath-".concat(ir?"":"dots-").concat(er,")"):null};return reactExports.createElement(Layer,_extends$5({className:"recharts-line-dots",key:"dots"},ur),cr)}function StaticCurve(St){var{clipPathId:er,pathRef:tr,points:rr,strokeDasharray:nr,props:ar,showLabels:sr}=St,{type:ir,layout:or,connectNulls:lr,needClip:cr}=ar,ur=_objectWithoutProperties$6(ar,_excluded$6),dr=_objectSpread$2(_objectSpread$2({},filterProps(ur,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:cr?"url(#clipPath-".concat(er,")"):null,points:rr,type:ir,layout:or,connectNulls:lr,strokeDasharray:nr??ar.strokeDasharray});return reactExports.createElement(reactExports.Fragment,null,(rr==null?void 0:rr.length)>1&&reactExports.createElement(Curve,_extends$5({},dr,{pathRef:tr})),reactExports.createElement(Dots,{points:rr,clipPathId:er,props:ar}),sr&&LabelList.renderCallByParent(ar,rr))}function getTotalLength(St){try{return St&&St.getTotalLength&&St.getTotalLength()||0}catch{return 0}}function CurveWithAnimation(St){var{clipPathId:er,props:tr,pathRef:rr,previousPointsRef:nr,longestAnimatedLengthRef:ar}=St,{points:sr,strokeDasharray:ir,isAnimationActive:or,animationBegin:lr,animationDuration:cr,animationEasing:ur,animateNewValues:dr,width:fr,height:mr,onAnimationEnd:xr,onAnimationStart:pr}=tr,hr=nr.current,gr=useAnimationId(tr,"recharts-line-"),[vr,br]=reactExports.useState(!1),yr=reactExports.useCallback(()=>{typeof xr=="function"&&xr(),br(!1)},[xr]),Er=reactExports.useCallback(()=>{typeof pr=="function"&&pr(),br(!0)},[pr]),jr=getTotalLength(rr.current),_r=ar.current;return reactExports.createElement(Animate,{begin:lr,duration:cr,isActive:or,easing:ur,from:{t:0},to:{t:1},onAnimationEnd:yr,onAnimationStart:Er,key:gr},Cr=>{var{t:Or}=Cr,Pr=interpolateNumber$1(_r,jr+_r),Lr=Math.min(Pr(Or),jr),Gr;if(ir){var Kr="".concat(ir).split(/[,\s]+/gim).map(zr=>parseFloat(zr));Gr=getStrokeDasharray(Lr,jr,Kr)}else Gr=generateSimpleStrokeDasharray(jr,Lr);if(hr){var nn=hr.length/sr.length,Qr=Or===1?sr:sr.map((zr,Vr)=>{var Jr=Math.floor(Vr*nn);if(hr[Jr]){var tn=hr[Jr],Yr=interpolateNumber$1(tn.x,zr.x),Sr=interpolateNumber$1(tn.y,zr.y);return _objectSpread$2(_objectSpread$2({},zr),{},{x:Yr(Or),y:Sr(Or)})}if(dr){var Rr=interpolateNumber$1(fr*2,zr.x),Tr=interpolateNumber$1(mr/2,zr.y);return _objectSpread$2(_objectSpread$2({},zr),{},{x:Rr(Or),y:Tr(Or)})}return _objectSpread$2(_objectSpread$2({},zr),{},{x:zr.x,y:zr.y})});return nr.current=Qr,reactExports.createElement(StaticCurve,{props:tr,points:Qr,clipPathId:er,pathRef:rr,showLabels:!vr,strokeDasharray:Gr})}return Or>0&&jr>0&&(nr.current=sr,ar.current=Lr),reactExports.createElement(StaticCurve,{props:tr,points:sr,clipPathId:er,pathRef:rr,showLabels:!vr,strokeDasharray:Gr})})}function RenderCurve(St){var{clipPathId:er,props:tr}=St,{points:rr,isAnimationActive:nr}=tr,ar=reactExports.useRef(null),sr=reactExports.useRef(0),ir=reactExports.useRef(null),or=ar.current;return nr&&rr&&rr.length&&or!==rr?reactExports.createElement(CurveWithAnimation,{props:tr,clipPathId:er,previousPointsRef:ar,longestAnimatedLengthRef:sr,pathRef:ir}):reactExports.createElement(StaticCurve,{props:tr,points:rr,clipPathId:er,pathRef:ir,showLabels:!0})}var errorBarDataPointFormatter=(St,er)=>({x:St.x,y:St.y,value:St.value,errorVal:getValueByDataKey(St.payload,er)});class LineWithState extends reactExports.Component{constructor(){super(...arguments),_defineProperty$4(this,"id",uniqueId("recharts-line-"))}render(){var er,{hide:tr,dot:rr,points:nr,className:ar,xAxisId:sr,yAxisId:ir,top:or,left:lr,width:cr,height:ur,id:dr,needClip:fr,layout:mr}=this.props;if(tr)return null;var xr=clsx("recharts-line",ar),pr=isNullish(dr)?this.id:dr,{r:hr=3,strokeWidth:gr=2}=(er=filterProps(rr,!1))!==null&&er!==void 0?er:{r:3,strokeWidth:2},vr=isClipDot(rr),br=hr*2+gr;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Layer,{className:xr},fr&&reactExports.createElement("defs",null,reactExports.createElement(GraphicalItemClipPath,{clipPathId:pr,xAxisId:sr,yAxisId:ir}),!vr&&reactExports.createElement("clipPath",{id:"clipPath-dots-".concat(pr)},reactExports.createElement("rect",{x:lr-br/2,y:or-br/2,width:cr+br,height:ur+br}))),reactExports.createElement(RenderCurve,{props:this.props,clipPathId:pr}),reactExports.createElement(SetErrorBarPreferredDirection,{direction:mr==="horizontal"?"y":"x"},reactExports.createElement(SetErrorBarContext,{xAxisId:sr,yAxisId:ir,data:nr,dataPointFormatter:errorBarDataPointFormatter,errorBarOffset:0},this.props.children))),reactExports.createElement(ActivePoints,{activeDot:this.props.activeDot,points:nr,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var defaultLineProps={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Global.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function LineImpl(St){var er=resolveDefaultProps(St,defaultLineProps),{activeDot:tr,animateNewValues:rr,animationBegin:nr,animationDuration:ar,animationEasing:sr,connectNulls:ir,dot:or,hide:lr,isAnimationActive:cr,label:ur,legendType:dr,xAxisId:fr,yAxisId:mr}=er,xr=_objectWithoutProperties$6(er,_excluded2$1),{needClip:pr}=useNeedsClip(fr,mr),{height:hr,width:gr,x:vr,y:br}=usePlotArea(),yr=useChartLayout(),Er=useIsPanorama(),jr=reactExports.useMemo(()=>({dataKey:St.dataKey,data:St.data}),[St.dataKey,St.data]),_r=useAppSelector(Cr=>selectLinePoints(Cr,fr,mr,Er,jr));return yr!=="horizontal"&&yr!=="vertical"?null:reactExports.createElement(LineWithState,_extends$5({},xr,{connectNulls:ir,dot:or,activeDot:tr,animateNewValues:rr,animationBegin:nr,animationDuration:ar,animationEasing:sr,isAnimationActive:cr,hide:lr,label:ur,legendType:dr,xAxisId:fr,yAxisId:mr,points:_r,layout:yr,height:hr,width:gr,left:vr,top:br,needClip:pr}))}function computeLinePoints(St){var{layout:er,xAxis:tr,yAxis:rr,xAxisTicks:nr,yAxisTicks:ar,dataKey:sr,bandSize:ir,displayedData:or}=St;return or.map((lr,cr)=>{var ur=getValueByDataKey(lr,sr);return er==="horizontal"?{x:getCateCoordinateOfLine({axis:tr,ticks:nr,bandSize:ir,entry:lr,index:cr}),y:isNullish(ur)?null:rr.scale(ur),value:ur,payload:lr}:{x:isNullish(ur)?null:tr.scale(ur),y:getCateCoordinateOfLine({axis:rr,ticks:ar,bandSize:ir,entry:lr,index:cr}),value:ur,payload:lr}})}class Line extends reactExports.PureComponent{render(){return reactExports.createElement(CartesianGraphicalItemContext,{type:"line",data:this.props.data,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:void 0,hide:this.props.hide,barSize:void 0},reactExports.createElement(SetLegendPayload,{legendPayload:computeLegendPayloadFromAreaData(this.props)}),reactExports.createElement(SetTooltipEntrySettings,{fn:getTooltipEntrySettings,args:this.props}),reactExports.createElement(LineImpl,this.props))}}_defineProperty$4(Line,"displayName","Line");_defineProperty$4(Line,"defaultProps",defaultLineProps);function ownKeys$1(St,er){var tr=Object.keys(St);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(St);er&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(St,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$1(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$1(Object(tr),!0).forEach(function(rr){_defineProperty$3(St,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(St,Object.getOwnPropertyDescriptors(tr)):ownKeys$1(Object(tr)).forEach(function(rr){Object.defineProperty(St,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return St}function _defineProperty$3(St,er,tr){return(er=_toPropertyKey$3(er))in St?Object.defineProperty(St,er,{value:tr,enumerable:!0,configurable:!0,writable:!0}):St[er]=tr,St}function _toPropertyKey$3(St){var er=_toPrimitive$3(St,"string");return typeof er=="symbol"?er:er+""}function _toPrimitive$3(St,er){if(typeof St!="object"||!St)return St;var tr=St[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(St,er);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(St)}var initialState$1={xAxis:{},yAxis:{},zAxis:{}},cartesianAxisSlice=createSlice({name:"cartesianAxis",initialState:initialState$1,reducers:{addXAxis(St,er){St.xAxis[er.payload.id]=er.payload},removeXAxis(St,er){delete St.xAxis[er.payload.id]},addYAxis(St,er){St.yAxis[er.payload.id]=er.payload},removeYAxis(St,er){delete St.yAxis[er.payload.id]},addZAxis(St,er){St.zAxis[er.payload.id]=er.payload},removeZAxis(St,er){delete St.zAxis[er.payload.id]},updateYAxisWidth(St,er){var{id:tr,width:rr}=er.payload;St.yAxis[tr]&&(St.yAxis[tr]=_objectSpread$1(_objectSpread$1({},St.yAxis[tr]),{},{width:rr}))}}}),{addXAxis,removeXAxis,addYAxis,removeYAxis,addZAxis,removeZAxis,updateYAxisWidth}=cartesianAxisSlice.actions,cartesianAxisReducer=cartesianAxisSlice.reducer,_excluded$5=["children"],_excluded2=["dangerouslySetInnerHTML","ticks"];function _defineProperty$2(St,er,tr){return(er=_toPropertyKey$2(er))in St?Object.defineProperty(St,er,{value:tr,enumerable:!0,configurable:!0,writable:!0}):St[er]=tr,St}function _toPropertyKey$2(St){var er=_toPrimitive$2(St,"string");return typeof er=="symbol"?er:er+""}function _toPrimitive$2(St,er){if(typeof St!="object"||!St)return St;var tr=St[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(St,er);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(St)}function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(St[rr]=tr[rr])}return St},_extends$4.apply(null,arguments)}function _objectWithoutProperties$5(St,er){if(St==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$5(St,er);if(Object.getOwnPropertySymbols){var ar=Object.getOwnPropertySymbols(St);for(rr=0;rr<ar.length;rr++)tr=ar[rr],er.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(St,tr)&&(nr[tr]=St[tr])}return nr}function _objectWithoutPropertiesLoose$5(St,er){if(St==null)return{};var tr={};for(var rr in St)if({}.hasOwnProperty.call(St,rr)){if(er.indexOf(rr)!==-1)continue;tr[rr]=St[rr]}return tr}function SetXAxisSettings(St){var er=useAppDispatch(),tr=reactExports.useMemo(()=>{var{children:ar}=St,sr=_objectWithoutProperties$5(St,_excluded$5);return sr},[St]),rr=useAppSelector(ar=>selectXAxisSettings(ar,tr.id)),nr=tr===rr;return reactExports.useEffect(()=>(er(addXAxis(tr)),()=>{er(removeXAxis(tr))}),[tr,er]),nr?St.children:null}var XAxisImpl=St=>{var{xAxisId:er,className:tr}=St,rr=useAppSelector(selectAxisViewBox),nr=useIsPanorama(),ar="xAxis",sr=useAppSelector(fr=>selectAxisScale(fr,ar,er,nr)),ir=useAppSelector(fr=>selectTicksOfAxis(fr,ar,er,nr)),or=useAppSelector(fr=>selectXAxisSize(fr,er)),lr=useAppSelector(fr=>selectXAxisPosition(fr,er));if(or==null||lr==null)return null;var{dangerouslySetInnerHTML:cr,ticks:ur}=St,dr=_objectWithoutProperties$5(St,_excluded2);return reactExports.createElement(CartesianAxis,_extends$4({},dr,{scale:sr,x:lr.x,y:lr.y,width:or.width,height:or.height,className:clsx("recharts-".concat(ar," ").concat(ar),tr),viewBox:rr,ticks:ir}))},XAxisSettingsDispatcher=St=>{var er,tr,rr,nr,ar;return reactExports.createElement(SetXAxisSettings,{interval:(er=St.interval)!==null&&er!==void 0?er:"preserveEnd",id:St.xAxisId,scale:St.scale,type:St.type,padding:St.padding,allowDataOverflow:St.allowDataOverflow,domain:St.domain,dataKey:St.dataKey,allowDuplicatedCategory:St.allowDuplicatedCategory,allowDecimals:St.allowDecimals,tickCount:St.tickCount,includeHidden:(tr=St.includeHidden)!==null&&tr!==void 0?tr:!1,reversed:St.reversed,ticks:St.ticks,height:St.height,orientation:St.orientation,mirror:St.mirror,hide:St.hide,unit:St.unit,name:St.name,angle:(rr=St.angle)!==null&&rr!==void 0?rr:0,minTickGap:(nr=St.minTickGap)!==null&&nr!==void 0?nr:5,tick:(ar=St.tick)!==null&&ar!==void 0?ar:!0,tickFormatter:St.tickFormatter},reactExports.createElement(XAxisImpl,St))};class XAxis extends reactExports.Component{render(){return reactExports.createElement(XAxisSettingsDispatcher,this.props)}}_defineProperty$2(XAxis,"displayName","XAxis");_defineProperty$2(XAxis,"defaultProps",{allowDataOverflow:implicitXAxis.allowDataOverflow,allowDecimals:implicitXAxis.allowDecimals,allowDuplicatedCategory:implicitXAxis.allowDuplicatedCategory,height:implicitXAxis.height,hide:!1,mirror:implicitXAxis.mirror,orientation:implicitXAxis.orientation,padding:implicitXAxis.padding,reversed:implicitXAxis.reversed,scale:implicitXAxis.scale,tickCount:implicitXAxis.tickCount,type:implicitXAxis.type,xAxisId:0});var getCalculatedYAxisWidth=St=>{var{ticks:er,label:tr,labelGapWithTick:rr=5,tickSize:nr=0,tickMargin:ar=0}=St,sr=0;if(er){er.forEach(cr=>{if(cr){var ur=cr.getBoundingClientRect();ur.width>sr&&(sr=ur.width)}});var ir=tr?tr.getBoundingClientRect().width:0,or=nr+ar,lr=sr+or+ir+(tr?rr:0);return Math.round(lr)}return 0},_excluded$4=["dangerouslySetInnerHTML","ticks"];function _defineProperty$1(St,er,tr){return(er=_toPropertyKey$1(er))in St?Object.defineProperty(St,er,{value:tr,enumerable:!0,configurable:!0,writable:!0}):St[er]=tr,St}function _toPropertyKey$1(St){var er=_toPrimitive$1(St,"string");return typeof er=="symbol"?er:er+""}function _toPrimitive$1(St,er){if(typeof St!="object"||!St)return St;var tr=St[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(St,er);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(St)}function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(St[rr]=tr[rr])}return St},_extends$3.apply(null,arguments)}function _objectWithoutProperties$4(St,er){if(St==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$4(St,er);if(Object.getOwnPropertySymbols){var ar=Object.getOwnPropertySymbols(St);for(rr=0;rr<ar.length;rr++)tr=ar[rr],er.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(St,tr)&&(nr[tr]=St[tr])}return nr}function _objectWithoutPropertiesLoose$4(St,er){if(St==null)return{};var tr={};for(var rr in St)if({}.hasOwnProperty.call(St,rr)){if(er.indexOf(rr)!==-1)continue;tr[rr]=St[rr]}return tr}function SetYAxisSettings(St){var er=useAppDispatch();return reactExports.useEffect(()=>(er(addYAxis(St)),()=>{er(removeYAxis(St))}),[St,er]),null}var YAxisImpl=St=>{var er,{yAxisId:tr,className:rr,width:nr,label:ar}=St,sr=reactExports.useRef(null),ir=reactExports.useRef(null),or=useAppSelector(selectAxisViewBox),lr=useIsPanorama(),cr=useAppDispatch(),ur="yAxis",dr=useAppSelector(vr=>selectAxisScale(vr,ur,tr,lr)),fr=useAppSelector(vr=>selectYAxisSize(vr,tr)),mr=useAppSelector(vr=>selectYAxisPosition(vr,tr)),xr=useAppSelector(vr=>selectTicksOfAxis(vr,ur,tr,lr));if(reactExports.useLayoutEffect(()=>{var vr;if(!(nr!=="auto"||!fr||isLabelContentAFunction(ar)||reactExports.isValidElement(ar))){var br=sr.current,yr=br==null||(vr=br.tickRefs)===null||vr===void 0?void 0:vr.current,{tickSize:Er,tickMargin:jr}=br.props,_r=getCalculatedYAxisWidth({ticks:yr,label:ir.current,labelGapWithTick:5,tickSize:Er,tickMargin:jr});Math.round(fr.width)!==Math.round(_r)&&cr(updateYAxisWidth({id:tr,width:_r}))}},[sr,sr==null||(er=sr.current)===null||er===void 0||(er=er.tickRefs)===null||er===void 0?void 0:er.current,fr==null?void 0:fr.width,fr,cr,ar,tr,nr]),fr==null||mr==null)return null;var{dangerouslySetInnerHTML:pr,ticks:hr}=St,gr=_objectWithoutProperties$4(St,_excluded$4);return reactExports.createElement(CartesianAxis,_extends$3({},gr,{ref:sr,labelRef:ir,scale:dr,x:mr.x,y:mr.y,width:fr.width,height:fr.height,className:clsx("recharts-".concat(ur," ").concat(ur),rr),viewBox:or,ticks:xr}))},YAxisSettingsDispatcher=St=>{var er,tr,rr,nr,ar;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetYAxisSettings,{interval:(er=St.interval)!==null&&er!==void 0?er:"preserveEnd",id:St.yAxisId,scale:St.scale,type:St.type,domain:St.domain,allowDataOverflow:St.allowDataOverflow,dataKey:St.dataKey,allowDuplicatedCategory:St.allowDuplicatedCategory,allowDecimals:St.allowDecimals,tickCount:St.tickCount,padding:St.padding,includeHidden:(tr=St.includeHidden)!==null&&tr!==void 0?tr:!1,reversed:St.reversed,ticks:St.ticks,width:St.width,orientation:St.orientation,mirror:St.mirror,hide:St.hide,unit:St.unit,name:St.name,angle:(rr=St.angle)!==null&&rr!==void 0?rr:0,minTickGap:(nr=St.minTickGap)!==null&&nr!==void 0?nr:5,tick:(ar=St.tick)!==null&&ar!==void 0?ar:!0,tickFormatter:St.tickFormatter}),reactExports.createElement(YAxisImpl,St))},YAxisDefaultProps={allowDataOverflow:implicitYAxis.allowDataOverflow,allowDecimals:implicitYAxis.allowDecimals,allowDuplicatedCategory:implicitYAxis.allowDuplicatedCategory,hide:!1,mirror:implicitYAxis.mirror,orientation:implicitYAxis.orientation,padding:implicitYAxis.padding,reversed:implicitYAxis.reversed,scale:implicitYAxis.scale,tickCount:implicitYAxis.tickCount,type:implicitYAxis.type,width:implicitYAxis.width,yAxisId:0};class YAxis extends reactExports.Component{render(){return reactExports.createElement(YAxisSettingsDispatcher,this.props)}}_defineProperty$1(YAxis,"displayName","YAxis");_defineProperty$1(YAxis,"defaultProps",YAxisDefaultProps);var withSelector={exports:{}},useSyncExternalStoreWithSelector_production={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React=reactExports;function is(St,er){return St===er&&(St!==0||1/St===1/er)||St!==St&&er!==er}var objectIs=typeof Object.is=="function"?Object.is:is,useSyncExternalStore=React.useSyncExternalStore,useRef=React.useRef,useEffect=React.useEffect,useMemo=React.useMemo,useDebugValue=React.useDebugValue;useSyncExternalStoreWithSelector_production.useSyncExternalStoreWithSelector=function(St,er,tr,rr,nr){var ar=useRef(null);if(ar.current===null){var sr={hasValue:!1,value:null};ar.current=sr}else sr=ar.current;ar=useMemo(function(){function or(fr){if(!lr){if(lr=!0,cr=fr,fr=rr(fr),nr!==void 0&&sr.hasValue){var mr=sr.value;if(nr(mr,fr))return ur=mr}return ur=fr}if(mr=ur,objectIs(cr,fr))return mr;var xr=rr(fr);return nr!==void 0&&nr(mr,xr)?(cr=fr,mr):(cr=fr,ur=xr)}var lr=!1,cr,ur,dr=tr===void 0?null:tr;return[function(){return or(er())},dr===null?void 0:function(){return or(dr())}]},[er,tr,rr,nr]);var ir=useSyncExternalStore(St,ar[0],ar[1]);return useEffect(function(){sr.hasValue=!0,sr.value=ir},[ir]),useDebugValue(ir),ir};withSelector.exports=useSyncExternalStoreWithSelector_production;var withSelectorExports=withSelector.exports;function defaultNoopBatch(St){St()}function createListenerCollection(){let St=null,er=null;return{clear(){St=null,er=null},notify(){defaultNoopBatch(()=>{let tr=St;for(;tr;)tr.callback(),tr=tr.next})},get(){const tr=[];let rr=St;for(;rr;)tr.push(rr),rr=rr.next;return tr},subscribe(tr){let rr=!0;const nr=er={callback:tr,next:null,prev:er};return nr.prev?nr.prev.next=nr:St=nr,function(){!rr||St===null||(rr=!1,nr.next?nr.next.prev=nr.prev:er=nr.prev,nr.prev?nr.prev.next=nr.next:St=nr.next)}}}}var nullListeners={notify(){},get:()=>[]};function createSubscription(St,er){let tr,rr=nullListeners,nr=0,ar=!1;function sr(xr){cr();const pr=rr.subscribe(xr);let hr=!1;return()=>{hr||(hr=!0,pr(),ur())}}function ir(){rr.notify()}function or(){mr.onStateChange&&mr.onStateChange()}function lr(){return ar}function cr(){nr++,tr||(tr=St.subscribe(or),rr=createListenerCollection())}function ur(){nr--,tr&&nr===0&&(tr(),tr=void 0,rr.clear(),rr=nullListeners)}function dr(){ar||(ar=!0,cr())}function fr(){ar&&(ar=!1,ur())}const mr={addNestedSub:sr,notifyNestedSubs:ir,handleChangeWrapper:or,isSubscribed:lr,trySubscribe:dr,tryUnsubscribe:fr,getListeners:()=>rr};return mr}var canUseDOM=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",isDOM=canUseDOM(),isRunningInReactNative=()=>typeof navigator<"u"&&navigator.product==="ReactNative",isReactNative=isRunningInReactNative(),getUseIsomorphicLayoutEffect=()=>isDOM||isReactNative?reactExports.useLayoutEffect:reactExports.useEffect,useIsomorphicLayoutEffect=getUseIsomorphicLayoutEffect(),ContextKey=Symbol.for("react-redux-context"),gT=typeof globalThis<"u"?globalThis:{};function getContext(){if(!reactExports.createContext)return{};const St=gT[ContextKey]??(gT[ContextKey]=new Map);let er=St.get(reactExports.createContext);return er||(er=reactExports.createContext(null),St.set(reactExports.createContext,er)),er}var ReactReduxContext=getContext();function Provider(St){const{children:er,context:tr,serverState:rr,store:nr}=St,ar=reactExports.useMemo(()=>{const or=createSubscription(nr);return{store:nr,subscription:or,getServerState:rr?()=>rr:void 0}},[nr,rr]),sr=reactExports.useMemo(()=>nr.getState(),[nr]);useIsomorphicLayoutEffect(()=>{const{subscription:or}=ar;return or.onStateChange=or.notifyNestedSubs,or.trySubscribe(),sr!==nr.getState()&&or.notifyNestedSubs(),()=>{or.tryUnsubscribe(),or.onStateChange=void 0}},[ar,sr]);const ir=tr||ReactReduxContext;return reactExports.createElement(ir.Provider,{value:ar},er)}var Provider_default=Provider,pickChartPointer=(St,er)=>er,selectActivePropsFromChartPointer=createSelector([pickChartPointer,selectChartLayout,selectPolarViewBox,selectTooltipAxisType,selectTooltipAxisRangeWithReverse,selectTooltipAxisTicks,selectOrderedTooltipTicks,selectChartOffsetInternal],combineActiveProps),getChartPointer=St=>{var er=St.currentTarget.getBoundingClientRect(),tr=er.width/St.currentTarget.offsetWidth,rr=er.height/St.currentTarget.offsetHeight;return{chartX:Math.round((St.clientX-er.left)/tr),chartY:Math.round((St.clientY-er.top)/rr)}},mouseClickAction=createAction("mouseClick"),mouseClickMiddleware=createListenerMiddleware();mouseClickMiddleware.startListening({actionCreator:mouseClickAction,effect:(St,er)=>{var tr=St.payload,rr=selectActivePropsFromChartPointer(er.getState(),getChartPointer(tr));(rr==null?void 0:rr.activeIndex)!=null&&er.dispatch(setMouseClickAxisIndex({activeIndex:rr.activeIndex,activeDataKey:void 0,activeCoordinate:rr.activeCoordinate}))}});var mouseMoveAction=createAction("mouseMove"),mouseMoveMiddleware=createListenerMiddleware();mouseMoveMiddleware.startListening({actionCreator:mouseMoveAction,effect:(St,er)=>{var tr=St.payload,rr=er.getState(),nr=selectTooltipEventType$1(rr,rr.tooltip.settings.shared),ar=selectActivePropsFromChartPointer(rr,getChartPointer(tr));nr==="axis"&&((ar==null?void 0:ar.activeIndex)!=null?er.dispatch(setMouseOverAxisIndex({activeIndex:ar.activeIndex,activeDataKey:void 0,activeCoordinate:ar.activeCoordinate})):er.dispatch(mouseLeaveChart()))}});function reduxDevtoolsJsonStringifyReplacer(St,er){return er instanceof HTMLElement?"HTMLElement <".concat(er.tagName,' class="').concat(er.className,'">'):er===window?"global.window":er}var initialState={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},rootPropsSlice=createSlice({name:"rootProps",initialState,reducers:{updateOptions:(St,er)=>{var tr;St.accessibilityLayer=er.payload.accessibilityLayer,St.barCategoryGap=er.payload.barCategoryGap,St.barGap=(tr=er.payload.barGap)!==null&&tr!==void 0?tr:initialState.barGap,St.barSize=er.payload.barSize,St.maxBarSize=er.payload.maxBarSize,St.stackOffset=er.payload.stackOffset,St.syncId=er.payload.syncId,St.syncMethod=er.payload.syncMethod,St.className=er.payload.className}}}),rootPropsReducer=rootPropsSlice.reducer,{updateOptions}=rootPropsSlice.actions,polarOptionsSlice=createSlice({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(St,er)=>er.payload}}),{updatePolarOptions}=polarOptionsSlice.actions,polarOptionsReducer=polarOptionsSlice.reducer,keyDownAction=createAction("keyDown"),focusAction=createAction("focus"),keyboardEventsMiddleware=createListenerMiddleware();keyboardEventsMiddleware.startListening({actionCreator:keyDownAction,effect:(St,er)=>{var tr=er.getState(),rr=tr.rootProps.accessibilityLayer!==!1;if(rr){var{keyboardInteraction:nr}=tr.tooltip,ar=St.payload;if(!(ar!=="ArrowRight"&&ar!=="ArrowLeft"&&ar!=="Enter")){var sr=Number(combineActiveTooltipIndex(nr,selectTooltipDisplayedData(tr))),ir=selectTooltipAxisTicks(tr);if(ar==="Enter"){var or=selectCoordinateForDefaultIndex(tr,"axis","hover",String(nr.index));er.dispatch(setKeyboardInteraction({active:!nr.active,activeIndex:nr.index,activeDataKey:nr.dataKey,activeCoordinate:or}));return}var lr=selectChartDirection(tr),cr=lr==="left-to-right"?1:-1,ur=ar==="ArrowRight"?1:-1,dr=sr+ur*cr;if(!(ir==null||dr>=ir.length||dr<0)){var fr=selectCoordinateForDefaultIndex(tr,"axis","hover",String(dr));er.dispatch(setKeyboardInteraction({active:!0,activeIndex:dr.toString(),activeDataKey:void 0,activeCoordinate:fr}))}}}}});keyboardEventsMiddleware.startListening({actionCreator:focusAction,effect:(St,er)=>{var tr=er.getState(),rr=tr.rootProps.accessibilityLayer!==!1;if(rr){var{keyboardInteraction:nr}=tr.tooltip;if(!nr.active&&nr.index==null){var ar="0",sr=selectCoordinateForDefaultIndex(tr,"axis","hover",String(ar));er.dispatch(setKeyboardInteraction({activeDataKey:void 0,active:!0,activeIndex:ar,activeCoordinate:sr}))}}}});var externalEventAction=createAction("externalEvent"),externalEventsMiddleware=createListenerMiddleware();externalEventsMiddleware.startListening({actionCreator:externalEventAction,effect:(St,er)=>{if(St.payload.handler!=null){var tr=er.getState(),rr={activeCoordinate:selectActiveTooltipCoordinate(tr),activeDataKey:selectActiveTooltipDataKey(tr),activeIndex:selectActiveTooltipIndex(tr),activeLabel:selectActiveLabel$1(tr),activeTooltipIndex:selectActiveTooltipIndex(tr),isTooltipActive:selectIsTooltipActive$1(tr)};St.payload.handler(rr,St.payload.reactEvent)}}});var selectAllTooltipPayloadConfiguration=createSelector([selectTooltipState],St=>St.tooltipItemPayloads),selectTooltipCoordinate=createSelector([selectAllTooltipPayloadConfiguration,selectTooltipPayloadSearcher,(St,er,tr)=>er,(St,er,tr)=>tr],(St,er,tr,rr)=>{var nr=St.find(ir=>ir.settings.dataKey===rr);if(nr!=null){var{positions:ar}=nr;if(ar!=null){var sr=er(ar,tr);return sr}}}),touchEventAction=createAction("touchMove"),touchEventMiddleware=createListenerMiddleware();touchEventMiddleware.startListening({actionCreator:touchEventAction,effect:(St,er)=>{var tr=St.payload,rr=er.getState(),nr=selectTooltipEventType$1(rr,rr.tooltip.settings.shared);if(nr==="axis"){var ar=selectActivePropsFromChartPointer(rr,getChartPointer({clientX:tr.touches[0].clientX,clientY:tr.touches[0].clientY,currentTarget:tr.currentTarget}));(ar==null?void 0:ar.activeIndex)!=null&&er.dispatch(setMouseOverAxisIndex({activeIndex:ar.activeIndex,activeDataKey:void 0,activeCoordinate:ar.activeCoordinate}))}else if(nr==="item"){var sr,ir=tr.touches[0],or=document.elementFromPoint(ir.clientX,ir.clientY);if(!or||!or.getAttribute)return;var lr=or.getAttribute(DATA_ITEM_INDEX_ATTRIBUTE_NAME),cr=(sr=or.getAttribute(DATA_ITEM_DATAKEY_ATTRIBUTE_NAME))!==null&&sr!==void 0?sr:void 0,ur=selectTooltipCoordinate(er.getState(),lr,cr);er.dispatch(setActiveMouseOverItemIndex({activeDataKey:cr,activeIndex:lr,activeCoordinate:ur}))}}});var rootReducer=combineReducers({brush:brushReducer,cartesianAxis:cartesianAxisReducer,chartData:chartDataReducer,graphicalItems:graphicalItemsReducer,layout:chartLayoutReducer,legend:legendReducer,options:optionsReducer,polarAxis:polarAxisReducer,polarOptions:polarOptionsReducer,referenceElements:referenceElementsReducer,rootProps:rootPropsReducer,tooltip:tooltipReducer}),createRechartsStore=function St(er){var tr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return configureStore({reducer:rootReducer,preloadedState:er,middleware:rr=>rr({serializableCheck:!1}).concat([mouseClickMiddleware.middleware,mouseMoveMiddleware.middleware,keyboardEventsMiddleware.middleware,externalEventsMiddleware.middleware,touchEventMiddleware.middleware]),devTools:{serialize:{replacer:reduxDevtoolsJsonStringifyReplacer},name:"recharts-".concat(tr)}})};function RechartsStoreProvider(St){var{preloadedState:er,children:tr,reduxStoreName:rr}=St,nr=useIsPanorama(),ar=reactExports.useRef(null);if(nr)return tr;ar.current==null&&(ar.current=createRechartsStore(er,rr));var sr=RechartsReduxContext;return reactExports.createElement(Provider_default,{context:sr,store:ar.current},tr)}function ReportMainChartProps(St){var{layout:er,width:tr,height:rr,margin:nr}=St,ar=useAppDispatch(),sr=useIsPanorama();return reactExports.useEffect(()=>{sr||(ar(setLayout(er)),ar(setChartSize({width:tr,height:rr})),ar(setMargin(nr)))},[ar,sr,er,tr,rr,nr]),null}function ReportChartProps(St){var er=useAppDispatch();return reactExports.useEffect(()=>{er(updateOptions(St))},[er,St]),null}var _excluded$3=["children"];function _objectWithoutProperties$3(St,er){if(St==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$3(St,er);if(Object.getOwnPropertySymbols){var ar=Object.getOwnPropertySymbols(St);for(rr=0;rr<ar.length;rr++)tr=ar[rr],er.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(St,tr)&&(nr[tr]=St[tr])}return nr}function _objectWithoutPropertiesLoose$3(St,er){if(St==null)return{};var tr={};for(var rr in St)if({}.hasOwnProperty.call(St,rr)){if(er.indexOf(rr)!==-1)continue;tr[rr]=St[rr]}return tr}function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(St[rr]=tr[rr])}return St},_extends$2.apply(null,arguments)}var FULL_WIDTH_AND_HEIGHT={width:"100%",height:"100%"},MainChartSurface=reactExports.forwardRef((St,er)=>{var tr=useChartWidth(),rr=useChartHeight(),nr=useAccessibilityLayer();if(!isPositiveNumber(tr)||!isPositiveNumber(rr))return null;var{children:ar,otherAttributes:sr,title:ir,desc:or}=St,lr,cr;return typeof sr.tabIndex=="number"?lr=sr.tabIndex:lr=nr?0:void 0,typeof sr.role=="string"?cr=sr.role:cr=nr?"application":void 0,reactExports.createElement(Surface,_extends$2({},sr,{title:ir,desc:or,role:cr,tabIndex:lr,width:tr,height:rr,style:FULL_WIDTH_AND_HEIGHT,ref:er}),ar)}),BrushPanoramaSurface=St=>{var{children:er}=St,tr=useAppSelector(selectBrushDimensions);if(!tr)return null;var{width:rr,height:nr,y:ar,x:sr}=tr;return reactExports.createElement(Surface,{width:rr,height:nr,x:sr,y:ar},er)},RootSurface=reactExports.forwardRef((St,er)=>{var{children:tr}=St,rr=_objectWithoutProperties$3(St,_excluded$3),nr=useIsPanorama();return nr?reactExports.createElement(BrushPanoramaSurface,null,tr):reactExports.createElement(MainChartSurface,_extends$2({ref:er},rr),tr)});function useReportScale(){var St=useAppDispatch(),[er,tr]=reactExports.useState(null),rr=useAppSelector(selectContainerScale);return reactExports.useEffect(()=>{if(er!=null){var nr=er.getBoundingClientRect(),ar=nr.width/er.offsetWidth;isWellBehavedNumber(ar)&&ar!==rr&&St(setScale(ar))}},[er,St,rr]),tr}function ownKeys(St,er){var tr=Object.keys(St);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(St);er&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(St,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys(Object(tr),!0).forEach(function(rr){_defineProperty(St,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(St,Object.getOwnPropertyDescriptors(tr)):ownKeys(Object(tr)).forEach(function(rr){Object.defineProperty(St,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return St}function _defineProperty(St,er,tr){return(er=_toPropertyKey(er))in St?Object.defineProperty(St,er,{value:tr,enumerable:!0,configurable:!0,writable:!0}):St[er]=tr,St}function _toPropertyKey(St){var er=_toPrimitive(St,"string");return typeof er=="symbol"?er:er+""}function _toPrimitive(St,er){if(typeof St!="object"||!St)return St;var tr=St[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(St,er);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(St)}var RechartsWrapper=reactExports.forwardRef((St,er)=>{var{children:tr,className:rr,height:nr,onClick:ar,onContextMenu:sr,onDoubleClick:ir,onMouseDown:or,onMouseEnter:lr,onMouseLeave:cr,onMouseMove:ur,onMouseUp:dr,onTouchEnd:fr,onTouchMove:mr,onTouchStart:xr,style:pr,width:hr}=St,gr=useAppDispatch(),[vr,br]=reactExports.useState(null),[yr,Er]=reactExports.useState(null);useSynchronisedEventsFromOtherCharts();var jr=useReportScale(),_r=reactExports.useCallback(Sr=>{jr(Sr),typeof er=="function"&&er(Sr),br(Sr),Er(Sr)},[jr,er,br,Er]),Cr=reactExports.useCallback(Sr=>{gr(mouseClickAction(Sr)),gr(externalEventAction({handler:ar,reactEvent:Sr}))},[gr,ar]),Or=reactExports.useCallback(Sr=>{gr(mouseMoveAction(Sr)),gr(externalEventAction({handler:lr,reactEvent:Sr}))},[gr,lr]),Pr=reactExports.useCallback(Sr=>{gr(mouseLeaveChart()),gr(externalEventAction({handler:cr,reactEvent:Sr}))},[gr,cr]),Lr=reactExports.useCallback(Sr=>{gr(mouseMoveAction(Sr)),gr(externalEventAction({handler:ur,reactEvent:Sr}))},[gr,ur]),Gr=reactExports.useCallback(()=>{gr(focusAction())},[gr]),Kr=reactExports.useCallback(Sr=>{gr(keyDownAction(Sr.key))},[gr]),nn=reactExports.useCallback(Sr=>{gr(externalEventAction({handler:sr,reactEvent:Sr}))},[gr,sr]),Qr=reactExports.useCallback(Sr=>{gr(externalEventAction({handler:ir,reactEvent:Sr}))},[gr,ir]),zr=reactExports.useCallback(Sr=>{gr(externalEventAction({handler:or,reactEvent:Sr}))},[gr,or]),Vr=reactExports.useCallback(Sr=>{gr(externalEventAction({handler:dr,reactEvent:Sr}))},[gr,dr]),Jr=reactExports.useCallback(Sr=>{gr(externalEventAction({handler:xr,reactEvent:Sr}))},[gr,xr]),tn=reactExports.useCallback(Sr=>{gr(touchEventAction(Sr)),gr(externalEventAction({handler:mr,reactEvent:Sr}))},[gr,mr]),Yr=reactExports.useCallback(Sr=>{gr(externalEventAction({handler:fr,reactEvent:Sr}))},[gr,fr]);return reactExports.createElement(TooltipPortalContext.Provider,{value:vr},reactExports.createElement(LegendPortalContext.Provider,{value:yr},reactExports.createElement("div",{className:clsx("recharts-wrapper",rr),style:_objectSpread({position:"relative",cursor:"default",width:hr,height:nr},pr),onClick:Cr,onContextMenu:nn,onDoubleClick:Qr,onFocus:Gr,onKeyDown:Kr,onMouseDown:zr,onMouseEnter:Or,onMouseLeave:Pr,onMouseMove:Lr,onMouseUp:Vr,onTouchEnd:Yr,onTouchMove:tn,onTouchStart:Jr,ref:_r},tr)))}),_excluded$2=["children","className","width","height","style","compact","title","desc"];function _objectWithoutProperties$2(St,er){if(St==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$2(St,er);if(Object.getOwnPropertySymbols){var ar=Object.getOwnPropertySymbols(St);for(rr=0;rr<ar.length;rr++)tr=ar[rr],er.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(St,tr)&&(nr[tr]=St[tr])}return nr}function _objectWithoutPropertiesLoose$2(St,er){if(St==null)return{};var tr={};for(var rr in St)if({}.hasOwnProperty.call(St,rr)){if(er.indexOf(rr)!==-1)continue;tr[rr]=St[rr]}return tr}var CategoricalChart=reactExports.forwardRef((St,er)=>{var{children:tr,className:rr,width:nr,height:ar,style:sr,compact:ir,title:or,desc:lr}=St,cr=_objectWithoutProperties$2(St,_excluded$2),ur=filterProps(cr,!1);return ir?reactExports.createElement(RootSurface,{otherAttributes:ur,title:or,desc:lr},tr):reactExports.createElement(RechartsWrapper,{className:rr,style:sr,width:nr,height:ar,onClick:St.onClick,onMouseLeave:St.onMouseLeave,onMouseEnter:St.onMouseEnter,onMouseMove:St.onMouseMove,onMouseDown:St.onMouseDown,onMouseUp:St.onMouseUp,onContextMenu:St.onContextMenu,onDoubleClick:St.onDoubleClick,onTouchStart:St.onTouchStart,onTouchMove:St.onTouchMove,onTouchEnd:St.onTouchEnd},reactExports.createElement(RootSurface,{otherAttributes:ur,title:or,desc:lr,ref:er},reactExports.createElement(ClipPathProvider,null,tr)))}),_excluded$1=["width","height"];function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(St[rr]=tr[rr])}return St},_extends$1.apply(null,arguments)}function _objectWithoutProperties$1(St,er){if(St==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$1(St,er);if(Object.getOwnPropertySymbols){var ar=Object.getOwnPropertySymbols(St);for(rr=0;rr<ar.length;rr++)tr=ar[rr],er.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(St,tr)&&(nr[tr]=St[tr])}return nr}function _objectWithoutPropertiesLoose$1(St,er){if(St==null)return{};var tr={};for(var rr in St)if({}.hasOwnProperty.call(St,rr)){if(er.indexOf(rr)!==-1)continue;tr[rr]=St[rr]}return tr}var defaultMargin$1={top:5,right:5,bottom:5,left:5},defaultProps$2={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:defaultMargin$1,reverseStackOrder:!1,syncMethod:"index"},CartesianChart=reactExports.forwardRef(function St(er,tr){var rr,nr=resolveDefaultProps(er.categoricalChartProps,defaultProps$2),{width:ar,height:sr}=nr,ir=_objectWithoutProperties$1(nr,_excluded$1);if(!isPositiveNumber(ar)||!isPositiveNumber(sr))return null;var{chartName:or,defaultTooltipEventType:lr,validateTooltipEventTypes:cr,tooltipPayloadSearcher:ur,categoricalChartProps:dr}=er,fr={chartName:or,defaultTooltipEventType:lr,validateTooltipEventTypes:cr,tooltipPayloadSearcher:ur,eventEmitter:void 0};return reactExports.createElement(RechartsStoreProvider,{preloadedState:{options:fr},reduxStoreName:(rr=dr.id)!==null&&rr!==void 0?rr:or},reactExports.createElement(ChartDataContextProvider,{chartData:dr.data}),reactExports.createElement(ReportMainChartProps,{width:ar,height:sr,layout:nr.layout,margin:nr.margin}),reactExports.createElement(ReportChartProps,{accessibilityLayer:nr.accessibilityLayer,barCategoryGap:nr.barCategoryGap,maxBarSize:nr.maxBarSize,stackOffset:nr.stackOffset,barGap:nr.barGap,barSize:nr.barSize,syncId:nr.syncId,syncMethod:nr.syncMethod,className:nr.className}),reactExports.createElement(CategoricalChart,_extends$1({},ir,{width:ar,height:sr,ref:tr})))}),allowedTooltipTypes$2=["axis"],LineChart=reactExports.forwardRef((St,er)=>reactExports.createElement(CartesianChart,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:allowedTooltipTypes$2,tooltipPayloadSearcher:arrayTooltipSearcher,categoricalChartProps:St,ref:er})),allowedTooltipTypes$1=["axis","item"],BarChart=reactExports.forwardRef((St,er)=>reactExports.createElement(CartesianChart,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:allowedTooltipTypes$1,tooltipPayloadSearcher:arrayTooltipSearcher,categoricalChartProps:St,ref:er}));function ReportPolarOptions(St){var er=useAppDispatch();return reactExports.useEffect(()=>{er(updatePolarOptions(St))},[er,St]),null}var _excluded=["width","height","layout"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(St[rr]=tr[rr])}return St},_extends.apply(null,arguments)}function _objectWithoutProperties(St,er){if(St==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose(St,er);if(Object.getOwnPropertySymbols){var ar=Object.getOwnPropertySymbols(St);for(rr=0;rr<ar.length;rr++)tr=ar[rr],er.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(St,tr)&&(nr[tr]=St[tr])}return nr}function _objectWithoutPropertiesLoose(St,er){if(St==null)return{};var tr={};for(var rr in St)if({}.hasOwnProperty.call(St,rr)){if(er.indexOf(rr)!==-1)continue;tr[rr]=St[rr]}return tr}var defaultMargin={top:5,right:5,bottom:5,left:5},defaultProps$1={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:defaultMargin,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},PolarChart=reactExports.forwardRef(function St(er,tr){var rr,nr=resolveDefaultProps(er.categoricalChartProps,defaultProps$1),{width:ar,height:sr,layout:ir}=nr,or=_objectWithoutProperties(nr,_excluded);if(!isPositiveNumber(ar)||!isPositiveNumber(sr))return null;var{chartName:lr,defaultTooltipEventType:cr,validateTooltipEventTypes:ur,tooltipPayloadSearcher:dr}=er,fr={chartName:lr,defaultTooltipEventType:cr,validateTooltipEventTypes:ur,tooltipPayloadSearcher:dr,eventEmitter:void 0};return reactExports.createElement(RechartsStoreProvider,{preloadedState:{options:fr},reduxStoreName:(rr=nr.id)!==null&&rr!==void 0?rr:lr},reactExports.createElement(ChartDataContextProvider,{chartData:nr.data}),reactExports.createElement(ReportMainChartProps,{width:ar,height:sr,layout:ir,margin:nr.margin}),reactExports.createElement(ReportChartProps,{accessibilityLayer:nr.accessibilityLayer,barCategoryGap:nr.barCategoryGap,maxBarSize:nr.maxBarSize,stackOffset:nr.stackOffset,barGap:nr.barGap,barSize:nr.barSize,syncId:nr.syncId,syncMethod:nr.syncMethod,className:nr.className}),reactExports.createElement(ReportPolarOptions,{cx:nr.cx,cy:nr.cy,startAngle:nr.startAngle,endAngle:nr.endAngle,innerRadius:nr.innerRadius,outerRadius:nr.outerRadius}),reactExports.createElement(CategoricalChart,_extends({width:ar,height:sr},or,{ref:tr})))}),allowedTooltipTypes=["item"],defaultProps={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},PieChart=reactExports.forwardRef((St,er)=>{var tr=resolveDefaultProps(St,defaultProps);return reactExports.createElement(PolarChart,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:allowedTooltipTypes,tooltipPayloadSearcher:arrayTooltipSearcher,categoricalChartProps:tr,ref:er})});function IndicatorBarChart({data:St,loading:er}){if(er)return jsxRuntimeExports.jsx("p",{className:"text-center",children:"Cargando datos..."});if(St.length===0)return jsxRuntimeExports.jsx("p",{className:"text-center",children:"No hay datos para mostrar con los filtros seleccionados."});const tr=(ar,sr,ir="Sin datos")=>ar[sr]!==void 0&&ar[sr]!==null?ar[sr]:ar.indicator&&typeof ar.indicator=="object"&&ar.indicator[sr]!==void 0?ar.indicator[sr]:ar.headquarters&&typeof ar.headquarters=="object"&&ar.headquarters[sr]!==void 0?ar.headquarters[sr]:ir,rr=(ar,sr=0)=>{const ir=parseFloat(ar);return isNaN(ir)?sr:ir},nr=St.map((ar,sr)=>{const ir=tr(ar,"name","Sin sede")||tr(ar,"headquarterName","Sin sede"),or=tr(ar,"name","Sin nombre")||tr(ar,"indicatorName","Sin nombre");return{sede:`${ir} - ${or}`,resultado:rr(ar.calculatedValue),meta:rr(tr(ar,"target",0))}});return jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-md",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100",children:"Comparacin de resultados vs metas"}),jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:300,children:jsxRuntimeExports.jsxs(BarChart,{data:nr,children:[jsxRuntimeExports.jsx(XAxis,{dataKey:"sede",tick:{fontSize:12},angle:-45,textAnchor:"end",height:80}),jsxRuntimeExports.jsx(YAxis,{}),jsxRuntimeExports.jsx(Tooltip,{}),jsxRuntimeExports.jsx(Legend,{}),jsxRuntimeExports.jsx(Bar,{dataKey:"resultado",fill:"#3b82f6",name:"Resultado"}),jsxRuntimeExports.jsx(Bar,{dataKey:"meta",fill:"#10b981",name:"Meta"})]})})]})}function formatLabel(St){switch(St.measurementFrequency){case"monthly":return`${St.year}-${String(St.month).padStart(2,"0")}`;case"quarterly":return`Q${St.quarter} ${St.year}`;case"semesterly":return`S${St.semester} ${St.year}`;case"annually":return`${St.year}`;default:return`${St.year}`}}function TimeSeriesChart({data:St,loading:er}){if(er)return jsxRuntimeExports.jsx("p",{className:"text-center",children:"Cargando grfico temporal..."});if(St.length===0)return jsxRuntimeExports.jsx("p",{className:"text-center",children:"No hay datos para mostrar con los filtros seleccionados."});const tr=St.map(rr=>({label:formatLabel(rr),resultado:rr.calculatedValue,meta:rr.target})).sort((rr,nr)=>rr.label.localeCompare(nr.label));return jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-md",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Evolucin temporal del indicador"}),jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:300,children:jsxRuntimeExports.jsxs(LineChart,{data:tr,children:[jsxRuntimeExports.jsx(XAxis,{dataKey:"label"}),jsxRuntimeExports.jsx(YAxis,{}),jsxRuntimeExports.jsx(Tooltip,{}),jsxRuntimeExports.jsx(Legend,{}),jsxRuntimeExports.jsx(Line,{type:"monotone",dataKey:"resultado",stroke:"#3b82f6",strokeWidth:2}),jsxRuntimeExports.jsx(Line,{type:"monotone",dataKey:"meta",stroke:"#10b981",strokeDasharray:"5 5"})]})})]})}/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=St=>St.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),toCamelCase=St=>St.replace(/^([A-Z])|[\s-_]+(\w)/g,(er,tr,rr)=>rr?rr.toUpperCase():tr.toLowerCase()),toPascalCase=St=>{const er=toCamelCase(St);return er.charAt(0).toUpperCase()+er.slice(1)},mergeClasses=(...St)=>St.filter((er,tr,rr)=>!!er&&er.trim()!==""&&rr.indexOf(er)===tr).join(" ").trim(),hasA11yProp=St=>{for(const er in St)if(er.startsWith("aria-")||er==="role"||er==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Icon=reactExports.forwardRef(({color:St="currentColor",size:er=24,strokeWidth:tr=2,absoluteStrokeWidth:rr,className:nr="",children:ar,iconNode:sr,...ir},or)=>reactExports.createElement("svg",{ref:or,...defaultAttributes,width:er,height:er,stroke:St,strokeWidth:rr?Number(tr)*24/Number(er):tr,className:mergeClasses("lucide",nr),...!ar&&!hasA11yProp(ir)&&{"aria-hidden":"true"},...ir},[...sr.map(([lr,cr])=>reactExports.createElement(lr,cr)),...Array.isArray(ar)?ar:[ar]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const createLucideIcon=(St,er)=>{const tr=reactExports.forwardRef(({className:rr,...nr},ar)=>reactExports.createElement(Icon,{ref:ar,iconNode:er,className:mergeClasses(`lucide-${toKebabCase(toPascalCase(St))}`,`lucide-${St}`,rr),...nr}));return tr.displayName=toPascalCase(St),tr};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$2=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],CircleCheckBig=createLucideIcon("circle-check-big",__iconNode$2);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],CircleX=createLucideIcon("circle-x",__iconNode$1);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],X$3=createLucideIcon("x",__iconNode),scriptRel="modulepreload",assetsURL=function(St){return"/"+St},seen={},__vitePreload=function St(er,tr,rr){let nr=Promise.resolve();if(tr&&tr.length>0){document.getElementsByTagName("link");const sr=document.querySelector("meta[property=csp-nonce]"),ir=(sr==null?void 0:sr.nonce)||(sr==null?void 0:sr.getAttribute("nonce"));nr=Promise.allSettled(tr.map(or=>{if(or=assetsURL(or),or in seen)return;seen[or]=!0;const lr=or.endsWith(".css"),cr=lr?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${or}"]${cr}`))return;const ur=document.createElement("link");if(ur.rel=lr?"stylesheet":scriptRel,lr||(ur.as="script"),ur.crossOrigin="",ur.href=or,ir&&ur.setAttribute("nonce",ir),document.head.appendChild(ur),lr)return new Promise((dr,fr)=>{ur.addEventListener("load",dr),ur.addEventListener("error",()=>fr(new Error(`Unable to preload CSS for ${or}`)))})}))}function ar(sr){const ir=new Event("vite:preloadError",{cancelable:!0});if(ir.payload=sr,window.dispatchEvent(ir),!ir.defaultPrevented)throw sr}return nr.then(sr=>{for(const ir of sr||[])ir.status==="rejected"&&ar(ir.reason);return er().catch(ar)})};function _typeof(St){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof(St)}var u8=Uint8Array,u16=Uint16Array,i32=Int32Array,fleb=new u8([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),fdeb=new u8([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),clim=new u8([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),freb=function(St,er){for(var tr=new u16(31),rr=0;rr<31;++rr)tr[rr]=er+=1<<St[rr-1];for(var nr=new i32(tr[30]),rr=1;rr<30;++rr)for(var ar=tr[rr];ar<tr[rr+1];++ar)nr[ar]=ar-tr[rr]<<5|rr;return{b:tr,r:nr}},_a$1=freb(fleb,2),fl=_a$1.b,revfl=_a$1.r;fl[28]=258,revfl[258]=28;var _b=freb(fdeb,0),fd=_b.b,revfd=_b.r,rev=new u16(32768);for(var i$7=0;i$7<32768;++i$7){var x$4=(i$7&43690)>>1|(i$7&21845)<<1;x$4=(x$4&52428)>>2|(x$4&13107)<<2,x$4=(x$4&61680)>>4|(x$4&3855)<<4,rev[i$7]=((x$4&65280)>>8|(x$4&255)<<8)>>1}var hMap=function(St,er,tr){for(var rr=St.length,nr=0,ar=new u16(er);nr<rr;++nr)St[nr]&&++ar[St[nr]-1];var sr=new u16(er);for(nr=1;nr<er;++nr)sr[nr]=sr[nr-1]+ar[nr-1]<<1;var ir;if(tr){ir=new u16(1<<er);var or=15-er;for(nr=0;nr<rr;++nr)if(St[nr])for(var lr=nr<<4|St[nr],cr=er-St[nr],ur=sr[St[nr]-1]++<<cr,dr=ur|(1<<cr)-1;ur<=dr;++ur)ir[rev[ur]>>or]=lr}else for(ir=new u16(rr),nr=0;nr<rr;++nr)St[nr]&&(ir[nr]=rev[sr[St[nr]-1]++]>>15-St[nr]);return ir},flt=new u8(288);for(var i$7=0;i$7<144;++i$7)flt[i$7]=8;for(var i$7=144;i$7<256;++i$7)flt[i$7]=9;for(var i$7=256;i$7<280;++i$7)flt[i$7]=7;for(var i$7=280;i$7<288;++i$7)flt[i$7]=8;var fdt=new u8(32);for(var i$7=0;i$7<32;++i$7)fdt[i$7]=5;var flm=hMap(flt,9,0),flrm=hMap(flt,9,1),fdm=hMap(fdt,5,0),fdrm=hMap(fdt,5,1),max=function(St){for(var er=St[0],tr=1;tr<St.length;++tr)St[tr]>er&&(er=St[tr]);return er},bits=function(St,er,tr){var rr=er/8|0;return(St[rr]|St[rr+1]<<8)>>(er&7)&tr},bits16=function(St,er){var tr=er/8|0;return(St[tr]|St[tr+1]<<8|St[tr+2]<<16)>>(er&7)},shft=function(St){return(St+7)/8|0},slc=function(St,er,tr){return(tr==null||tr>St.length)&&(tr=St.length),new u8(St.subarray(er,tr))},ec=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],err=function(St,er,tr){var rr=new Error(er||ec[St]);if(rr.code=St,Error.captureStackTrace&&Error.captureStackTrace(rr,err),!tr)throw rr;return rr},inflt=function(St,er,tr,rr){var nr=St.length,ar=0;if(!nr||er.f&&!er.l)return tr||new u8(0);var sr=!tr,ir=sr||er.i!=2,or=er.i;sr&&(tr=new u8(nr*3));var lr=function(un){var Nr=tr.length;if(un>Nr){var Ur=new u8(Math.max(Nr*2,un));Ur.set(tr),tr=Ur}},cr=er.f||0,ur=er.p||0,dr=er.b||0,fr=er.l,mr=er.d,xr=er.m,pr=er.n,hr=nr*8;do{if(!fr){cr=bits(St,ur,1);var gr=bits(St,ur+1,3);if(ur+=3,gr)if(gr==1)fr=flrm,mr=fdrm,xr=9,pr=5;else if(gr==2){var Er=bits(St,ur,31)+257,jr=bits(St,ur+10,15)+4,_r=Er+bits(St,ur+5,31)+1;ur+=14;for(var Cr=new u8(_r),Or=new u8(19),Pr=0;Pr<jr;++Pr)Or[clim[Pr]]=bits(St,ur+Pr*3,7);ur+=jr*3;for(var Lr=max(Or),Gr=(1<<Lr)-1,Kr=hMap(Or,Lr,1),Pr=0;Pr<_r;){var nn=Kr[bits(St,ur,Gr)];ur+=nn&15;var vr=nn>>4;if(vr<16)Cr[Pr++]=vr;else{var Qr=0,zr=0;for(vr==16?(zr=3+bits(St,ur,3),ur+=2,Qr=Cr[Pr-1]):vr==17?(zr=3+bits(St,ur,7),ur+=3):vr==18&&(zr=11+bits(St,ur,127),ur+=7);zr--;)Cr[Pr++]=Qr}}var Vr=Cr.subarray(0,Er),Jr=Cr.subarray(Er);xr=max(Vr),pr=max(Jr),fr=hMap(Vr,xr,1),mr=hMap(Jr,pr,1)}else err(1);else{var vr=shft(ur)+4,br=St[vr-4]|St[vr-3]<<8,yr=vr+br;if(yr>nr){or&&err(0);break}ir&&lr(dr+br),tr.set(St.subarray(vr,yr),dr),er.b=dr+=br,er.p=ur=yr*8,er.f=cr;continue}if(ur>hr){or&&err(0);break}}ir&&lr(dr+131072);for(var tn=(1<<xr)-1,Yr=(1<<pr)-1,Sr=ur;;Sr=ur){var Qr=fr[bits16(St,ur)&tn],Rr=Qr>>4;if(ur+=Qr&15,ur>hr){or&&err(0);break}if(Qr||err(2),Rr<256)tr[dr++]=Rr;else if(Rr==256){Sr=ur,fr=null;break}else{var Tr=Rr-254;if(Rr>264){var Pr=Rr-257,Dr=fleb[Pr];Tr=bits(St,ur,(1<<Dr)-1)+fl[Pr],ur+=Dr}var Mr=mr[bits16(St,ur)&Yr],Br=Mr>>4;Mr||err(3),ur+=Mr&15;var Jr=fd[Br];if(Br>3){var Dr=fdeb[Br];Jr+=bits16(St,ur)&(1<<Dr)-1,ur+=Dr}if(ur>hr){or&&err(0);break}ir&&lr(dr+131072);var qr=dr+Tr;if(dr<Jr){var Wr=ar-Jr,sn=Math.min(Jr,qr);for(Wr+dr<0&&err(3);dr<sn;++dr)tr[dr]=rr[Wr+dr]}for(;dr<qr;++dr)tr[dr]=tr[dr-Jr]}}er.l=fr,er.p=Sr,er.b=dr,er.f=cr,fr&&(cr=1,er.m=xr,er.d=mr,er.n=pr)}while(!cr);return dr!=tr.length&&sr?slc(tr,0,dr):tr.subarray(0,dr)},wbits=function(St,er,tr){tr<<=er&7;var rr=er/8|0;St[rr]|=tr,St[rr+1]|=tr>>8},wbits16=function(St,er,tr){tr<<=er&7;var rr=er/8|0;St[rr]|=tr,St[rr+1]|=tr>>8,St[rr+2]|=tr>>16},hTree=function(St,er){for(var tr=[],rr=0;rr<St.length;++rr)St[rr]&&tr.push({s:rr,f:St[rr]});var nr=tr.length,ar=tr.slice();if(!nr)return{t:et$1,l:0};if(nr==1){var sr=new u8(tr[0].s+1);return sr[tr[0].s]=1,{t:sr,l:1}}tr.sort(function(yr,Er){return yr.f-Er.f}),tr.push({s:-1,f:25001});var ir=tr[0],or=tr[1],lr=0,cr=1,ur=2;for(tr[0]={s:-1,f:ir.f+or.f,l:ir,r:or};cr!=nr-1;)ir=tr[tr[lr].f<tr[ur].f?lr++:ur++],or=tr[lr!=cr&&tr[lr].f<tr[ur].f?lr++:ur++],tr[cr++]={s:-1,f:ir.f+or.f,l:ir,r:or};for(var dr=ar[0].s,rr=1;rr<nr;++rr)ar[rr].s>dr&&(dr=ar[rr].s);var fr=new u16(dr+1),mr=ln(tr[cr-1],fr,0);if(mr>er){var rr=0,xr=0,pr=mr-er,hr=1<<pr;for(ar.sort(function(Er,jr){return fr[jr.s]-fr[Er.s]||Er.f-jr.f});rr<nr;++rr){var gr=ar[rr].s;if(fr[gr]>er)xr+=hr-(1<<mr-fr[gr]),fr[gr]=er;else break}for(xr>>=pr;xr>0;){var vr=ar[rr].s;fr[vr]<er?xr-=1<<er-fr[vr]++-1:++rr}for(;rr>=0&&xr;--rr){var br=ar[rr].s;fr[br]==er&&(--fr[br],++xr)}mr=er}return{t:new u8(fr),l:mr}},ln=function(St,er,tr){return St.s==-1?Math.max(ln(St.l,er,tr+1),ln(St.r,er,tr+1)):er[St.s]=tr},lc=function(St){for(var er=St.length;er&&!St[--er];);for(var tr=new u16(++er),rr=0,nr=St[0],ar=1,sr=function(or){tr[rr++]=or},ir=1;ir<=er;++ir)if(St[ir]==nr&&ir!=er)++ar;else{if(!nr&&ar>2){for(;ar>138;ar-=138)sr(32754);ar>2&&(sr(ar>10?ar-11<<5|28690:ar-3<<5|12305),ar=0)}else if(ar>3){for(sr(nr),--ar;ar>6;ar-=6)sr(8304);ar>2&&(sr(ar-3<<5|8208),ar=0)}for(;ar--;)sr(nr);ar=1,nr=St[ir]}return{c:tr.subarray(0,rr),n:er}},clen=function(St,er){for(var tr=0,rr=0;rr<er.length;++rr)tr+=St[rr]*er[rr];return tr},wfblk=function(St,er,tr){var rr=tr.length,nr=shft(er+2);St[nr]=rr&255,St[nr+1]=rr>>8,St[nr+2]=St[nr]^255,St[nr+3]=St[nr+1]^255;for(var ar=0;ar<rr;++ar)St[nr+ar+4]=tr[ar];return(nr+4+rr)*8},wblk=function(St,er,tr,rr,nr,ar,sr,ir,or,lr,cr){wbits(er,cr++,tr),++nr[256];for(var ur=hTree(nr,15),dr=ur.t,fr=ur.l,mr=hTree(ar,15),xr=mr.t,pr=mr.l,hr=lc(dr),gr=hr.c,vr=hr.n,br=lc(xr),yr=br.c,Er=br.n,jr=new u16(19),_r=0;_r<gr.length;++_r)++jr[gr[_r]&31];for(var _r=0;_r<yr.length;++_r)++jr[yr[_r]&31];for(var Cr=hTree(jr,7),Or=Cr.t,Pr=Cr.l,Lr=19;Lr>4&&!Or[clim[Lr-1]];--Lr);var Gr=lr+5<<3,Kr=clen(nr,flt)+clen(ar,fdt)+sr,nn=clen(nr,dr)+clen(ar,xr)+sr+14+3*Lr+clen(jr,Or)+2*jr[16]+3*jr[17]+7*jr[18];if(or>=0&&Gr<=Kr&&Gr<=nn)return wfblk(er,cr,St.subarray(or,or+lr));var Qr,zr,Vr,Jr;if(wbits(er,cr,1+(nn<Kr)),cr+=2,nn<Kr){Qr=hMap(dr,fr,0),zr=dr,Vr=hMap(xr,pr,0),Jr=xr;var tn=hMap(Or,Pr,0);wbits(er,cr,vr-257),wbits(er,cr+5,Er-1),wbits(er,cr+10,Lr-4),cr+=14;for(var _r=0;_r<Lr;++_r)wbits(er,cr+3*_r,Or[clim[_r]]);cr+=3*Lr;for(var Yr=[gr,yr],Sr=0;Sr<2;++Sr)for(var Rr=Yr[Sr],_r=0;_r<Rr.length;++_r){var Tr=Rr[_r]&31;wbits(er,cr,tn[Tr]),cr+=Or[Tr],Tr>15&&(wbits(er,cr,Rr[_r]>>5&127),cr+=Rr[_r]>>12)}}else Qr=flm,zr=flt,Vr=fdm,Jr=fdt;for(var _r=0;_r<ir;++_r){var Dr=rr[_r];if(Dr>255){var Tr=Dr>>18&31;wbits16(er,cr,Qr[Tr+257]),cr+=zr[Tr+257],Tr>7&&(wbits(er,cr,Dr>>23&31),cr+=fleb[Tr]);var Mr=Dr&31;wbits16(er,cr,Vr[Mr]),cr+=Jr[Mr],Mr>3&&(wbits16(er,cr,Dr>>5&8191),cr+=fdeb[Mr])}else wbits16(er,cr,Qr[Dr]),cr+=zr[Dr]}return wbits16(er,cr,Qr[256]),cr+zr[256]},deo=new i32([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),et$1=new u8(0),dflt=function(St,er,tr,rr,nr,ar){var sr=ar.z||St.length,ir=new u8(rr+sr+5*(1+Math.ceil(sr/7e3))+nr),or=ir.subarray(rr,ir.length-nr),lr=ar.l,cr=(ar.r||0)&7;if(er){cr&&(or[0]=ar.r>>3);for(var ur=deo[er-1],dr=ur>>13,fr=ur&8191,mr=(1<<tr)-1,xr=ar.p||new u16(32768),pr=ar.h||new u16(mr+1),hr=Math.ceil(tr/3),gr=2*hr,vr=function(en){return(St[en]^St[en+1]<<hr^St[en+2]<<gr)&mr},br=new i32(25e3),yr=new u16(288),Er=new u16(32),jr=0,_r=0,Cr=ar.i||0,Or=0,Pr=ar.w||0,Lr=0;Cr+2<sr;++Cr){var Gr=vr(Cr),Kr=Cr&32767,nn=pr[Gr];if(xr[Kr]=nn,pr[Gr]=Kr,Pr<=Cr){var Qr=sr-Cr;if((jr>7e3||Or>24576)&&(Qr>423||!lr)){cr=wblk(St,or,0,br,yr,Er,_r,Or,Lr,Cr-Lr,cr),Or=jr=_r=0,Lr=Cr;for(var zr=0;zr<286;++zr)yr[zr]=0;for(var zr=0;zr<30;++zr)Er[zr]=0}var Vr=2,Jr=0,tn=fr,Yr=Kr-nn&32767;if(Qr>2&&Gr==vr(Cr-Yr))for(var Sr=Math.min(dr,Qr)-1,Rr=Math.min(32767,Cr),Tr=Math.min(258,Qr);Yr<=Rr&&--tn&&Kr!=nn;){if(St[Cr+Vr]==St[Cr+Vr-Yr]){for(var Dr=0;Dr<Tr&&St[Cr+Dr]==St[Cr+Dr-Yr];++Dr);if(Dr>Vr){if(Vr=Dr,Jr=Yr,Dr>Sr)break;for(var Mr=Math.min(Yr,Dr-2),Br=0,zr=0;zr<Mr;++zr){var qr=Cr-Yr+zr&32767,Wr=xr[qr],sn=qr-Wr&32767;sn>Br&&(Br=sn,nn=qr)}}}Kr=nn,nn=xr[Kr],Yr+=Kr-nn&32767}if(Jr){br[Or++]=268435456|revfl[Vr]<<18|revfd[Jr];var un=revfl[Vr]&31,Nr=revfd[Jr]&31;_r+=fleb[un]+fdeb[Nr],++yr[257+un],++Er[Nr],Pr=Cr+Vr,++jr}else br[Or++]=St[Cr],++yr[St[Cr]]}}for(Cr=Math.max(Cr,Pr);Cr<sr;++Cr)br[Or++]=St[Cr],++yr[St[Cr]];cr=wblk(St,or,lr,br,yr,Er,_r,Or,Lr,Cr-Lr,cr),lr||(ar.r=cr&7|or[cr/8|0]<<3,cr-=7,ar.h=pr,ar.p=xr,ar.i=Cr,ar.w=Pr)}else{for(var Cr=ar.w||0;Cr<sr+lr;Cr+=65535){var Ur=Cr+65535;Ur>=sr&&(or[cr/8|0]=lr,Ur=sr),cr=wfblk(or,cr+1,St.subarray(Cr,Ur))}ar.i=sr}return slc(ir,0,rr+shft(cr)+nr)},adler=function(){var St=1,er=0;return{p:function(tr){for(var rr=St,nr=er,ar=tr.length|0,sr=0;sr!=ar;){for(var ir=Math.min(sr+2655,ar);sr<ir;++sr)nr+=rr+=tr[sr];rr=(rr&65535)+15*(rr>>16),nr=(nr&65535)+15*(nr>>16)}St=rr,er=nr},d:function(){return St%=65521,er%=65521,(St&255)<<24|(St&65280)<<8|(er&255)<<8|er>>8}}},dopt=function(St,er,tr,rr,nr){if(!nr&&(nr={l:1},er.dictionary)){var ar=er.dictionary.subarray(-32768),sr=new u8(ar.length+St.length);sr.set(ar),sr.set(St,ar.length),St=sr,nr.w=ar.length}return dflt(St,er.level==null?6:er.level,er.mem==null?nr.l?Math.ceil(Math.max(8,Math.min(13,Math.log(St.length)))*1.5):20:12+er.mem,tr,rr,nr)},wbytes=function(St,er,tr){for(;tr;++er)St[er]=tr,tr>>>=8},zlh=function(St,er){var tr=er.level,rr=tr==0?0:tr<6?1:tr==9?3:2;if(St[0]=120,St[1]=rr<<6|(er.dictionary&&32),St[1]|=31-(St[0]<<8|St[1])%31,er.dictionary){var nr=adler();nr.p(er.dictionary),wbytes(St,2,nr.d())}},zls=function(St,er){return((St[0]&15)!=8||St[0]>>4>7||(St[0]<<8|St[1])%31)&&err(6,"invalid zlib data"),(St[1]>>5&1)==1&&err(6,"invalid zlib data: "+(St[1]&32?"need":"unexpected")+" dictionary"),(St[1]>>3&4)+2};function zlibSync(St,er){er||(er={});var tr=adler();tr.p(St);var rr=dopt(St,er,er.dictionary?6:2,4);return zlh(rr,er),wbytes(rr,rr.length-4,tr.d()),rr}function unzlibSync(St,er){return inflt(St.subarray(zls(St),-4),{i:2},er,er)}var td=typeof TextDecoder<"u"&&new TextDecoder,tds=0;try{td.decode(et$1,{stream:!0}),tds=1}catch(St){}var n$7=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function i$6(){n$7.console&&typeof n$7.console.log=="function"&&n$7.console.log.apply(n$7.console,arguments)}var a$d={log:i$6,warn:function(St){n$7.console&&(typeof n$7.console.warn=="function"?n$7.console.warn.apply(n$7.console,arguments):i$6.call(null,arguments))},error:function(St){n$7.console&&(typeof n$7.console.error=="function"?n$7.console.error.apply(n$7.console,arguments):i$6(St))}};function o$9(St,er,tr){var rr=new XMLHttpRequest;rr.open("GET",St),rr.responseType="blob",rr.onload=function(){l$4(rr.response,er,tr)},rr.onerror=function(){a$d.error("could not download file")},rr.send()}function s$7(St){var er=new XMLHttpRequest;er.open("HEAD",St,!1);try{er.send()}catch{}return er.status>=200&&er.status<=299}function c$4(St){try{St.dispatchEvent(new MouseEvent("click"))}catch{var er=document.createEvent("MouseEvents");er.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),St.dispatchEvent(er)}}var u$7,h$4,l$4=n$7.saveAs||((typeof window>"u"?"undefined":_typeof(window))!=="object"||window!==n$7?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(St,er,tr){var rr=n$7.URL||n$7.webkitURL,nr=document.createElement("a");er=er||St.name||"download",nr.download=er,nr.rel="noopener",typeof St=="string"?(nr.href=St,nr.origin!==location.origin?s$7(nr.href)?o$9(St,er,tr):c$4(nr,nr.target="_blank"):c$4(nr)):(nr.href=rr.createObjectURL(St),setTimeout(function(){rr.revokeObjectURL(nr.href)},4e4),setTimeout(function(){c$4(nr)},0))}:"msSaveOrOpenBlob"in navigator?function(St,er,tr){if(er=er||St.name||"download",typeof St=="string")if(s$7(St))o$9(St,er,tr);else{var rr=document.createElement("a");rr.href=St,rr.target="_blank",setTimeout(function(){c$4(rr)})}else navigator.msSaveOrOpenBlob(function(nr,ar){return ar===void 0?ar={autoBom:!1}:_typeof(ar)!=="object"&&(a$d.warn("Deprecated: Expected third argument to be a object"),ar={autoBom:!ar}),ar.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(nr.type)?new Blob(["\uFEFF",nr],{type:nr.type}):nr}(St,tr),er)}:function(St,er,tr,rr){if((rr=rr||open("","_blank"))&&(rr.document.title=rr.document.body.innerText="downloading..."),typeof St=="string")return o$9(St,er,tr);var nr=St.type==="application/octet-stream",ar=/constructor/i.test(n$7.HTMLElement)||n$7.safari,sr=/CriOS\/[\d]+/.test(navigator.userAgent);if((sr||nr&&ar)&&(typeof FileReader>"u"?"undefined":_typeof(FileReader))==="object"){var ir=new FileReader;ir.onloadend=function(){var cr=ir.result;cr=sr?cr:cr.replace(/^data:[^;]*;/,"data:attachment/file;"),rr?rr.location.href=cr:location=cr,rr=null},ir.readAsDataURL(St)}else{var or=n$7.URL||n$7.webkitURL,lr=or.createObjectURL(St);rr?rr.location=lr:location.href=lr,rr=null,setTimeout(function(){or.revokeObjectURL(lr)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function f$8(St){var er;St=St||"",this.ok=!1,St.charAt(0)=="#"&&(St=St.substr(1,6)),St={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[St=(St=St.replace(/ /g,"")).toLowerCase()]||St;for(var tr=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(ir){return[parseInt(ir[1]),parseInt(ir[2]),parseInt(ir[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(ir){return[parseInt(ir[1],16),parseInt(ir[2],16),parseInt(ir[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(ir){return[parseInt(ir[1]+ir[1],16),parseInt(ir[2]+ir[2],16),parseInt(ir[3]+ir[3],16)]}}],rr=0;rr<tr.length;rr++){var nr=tr[rr].re,ar=tr[rr].process,sr=nr.exec(St);sr&&(er=ar(sr),this.r=er[0],this.g=er[1],this.b=er[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var ir=this.r.toString(16),or=this.g.toString(16),lr=this.b.toString(16);return ir.length==1&&(ir="0"+ir),or.length==1&&(or="0"+or),lr.length==1&&(lr="0"+lr),"#"+ir+or+lr}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function d$3(St,er){var tr=St[0],rr=St[1],nr=St[2],ar=St[3];tr=g$2(tr,rr,nr,ar,er[0],7,-680876936),ar=g$2(ar,tr,rr,nr,er[1],12,-389564586),nr=g$2(nr,ar,tr,rr,er[2],17,606105819),rr=g$2(rr,nr,ar,tr,er[3],22,-1044525330),tr=g$2(tr,rr,nr,ar,er[4],7,-176418897),ar=g$2(ar,tr,rr,nr,er[5],12,1200080426),nr=g$2(nr,ar,tr,rr,er[6],17,-1473231341),rr=g$2(rr,nr,ar,tr,er[7],22,-45705983),tr=g$2(tr,rr,nr,ar,er[8],7,1770035416),ar=g$2(ar,tr,rr,nr,er[9],12,-1958414417),nr=g$2(nr,ar,tr,rr,er[10],17,-42063),rr=g$2(rr,nr,ar,tr,er[11],22,-1990404162),tr=g$2(tr,rr,nr,ar,er[12],7,1804603682),ar=g$2(ar,tr,rr,nr,er[13],12,-40341101),nr=g$2(nr,ar,tr,rr,er[14],17,-1502002290),tr=m$4(tr,rr=g$2(rr,nr,ar,tr,er[15],22,1236535329),nr,ar,er[1],5,-165796510),ar=m$4(ar,tr,rr,nr,er[6],9,-1069501632),nr=m$4(nr,ar,tr,rr,er[11],14,643717713),rr=m$4(rr,nr,ar,tr,er[0],20,-373897302),tr=m$4(tr,rr,nr,ar,er[5],5,-701558691),ar=m$4(ar,tr,rr,nr,er[10],9,38016083),nr=m$4(nr,ar,tr,rr,er[15],14,-660478335),rr=m$4(rr,nr,ar,tr,er[4],20,-405537848),tr=m$4(tr,rr,nr,ar,er[9],5,568446438),ar=m$4(ar,tr,rr,nr,er[14],9,-1019803690),nr=m$4(nr,ar,tr,rr,er[3],14,-187363961),rr=m$4(rr,nr,ar,tr,er[8],20,1163531501),tr=m$4(tr,rr,nr,ar,er[13],5,-1444681467),ar=m$4(ar,tr,rr,nr,er[2],9,-51403784),nr=m$4(nr,ar,tr,rr,er[7],14,1735328473),tr=v(tr,rr=m$4(rr,nr,ar,tr,er[12],20,-1926607734),nr,ar,er[5],4,-378558),ar=v(ar,tr,rr,nr,er[8],11,-2022574463),nr=v(nr,ar,tr,rr,er[11],16,1839030562),rr=v(rr,nr,ar,tr,er[14],23,-35309556),tr=v(tr,rr,nr,ar,er[1],4,-1530992060),ar=v(ar,tr,rr,nr,er[4],11,1272893353),nr=v(nr,ar,tr,rr,er[7],16,-155497632),rr=v(rr,nr,ar,tr,er[10],23,-1094730640),tr=v(tr,rr,nr,ar,er[13],4,681279174),ar=v(ar,tr,rr,nr,er[0],11,-358537222),nr=v(nr,ar,tr,rr,er[3],16,-722521979),rr=v(rr,nr,ar,tr,er[6],23,76029189),tr=v(tr,rr,nr,ar,er[9],4,-640364487),ar=v(ar,tr,rr,nr,er[12],11,-421815835),nr=v(nr,ar,tr,rr,er[15],16,530742520),tr=b$3(tr,rr=v(rr,nr,ar,tr,er[2],23,-995338651),nr,ar,er[0],6,-198630844),ar=b$3(ar,tr,rr,nr,er[7],10,1126891415),nr=b$3(nr,ar,tr,rr,er[14],15,-1416354905),rr=b$3(rr,nr,ar,tr,er[5],21,-57434055),tr=b$3(tr,rr,nr,ar,er[12],6,1700485571),ar=b$3(ar,tr,rr,nr,er[3],10,-1894986606),nr=b$3(nr,ar,tr,rr,er[10],15,-1051523),rr=b$3(rr,nr,ar,tr,er[1],21,-2054922799),tr=b$3(tr,rr,nr,ar,er[8],6,1873313359),ar=b$3(ar,tr,rr,nr,er[15],10,-30611744),nr=b$3(nr,ar,tr,rr,er[6],15,-1560198380),rr=b$3(rr,nr,ar,tr,er[13],21,1309151649),tr=b$3(tr,rr,nr,ar,er[4],6,-145523070),ar=b$3(ar,tr,rr,nr,er[11],10,-1120210379),nr=b$3(nr,ar,tr,rr,er[2],15,718787259),rr=b$3(rr,nr,ar,tr,er[9],21,-343485551),St[0]=_$2(tr,St[0]),St[1]=_$2(rr,St[1]),St[2]=_$2(nr,St[2]),St[3]=_$2(ar,St[3])}function p$4(St,er,tr,rr,nr,ar){return er=_$2(_$2(er,St),_$2(rr,ar)),_$2(er<<nr|er>>>32-nr,tr)}function g$2(St,er,tr,rr,nr,ar,sr){return p$4(er&tr|~er&rr,St,er,nr,ar,sr)}function m$4(St,er,tr,rr,nr,ar,sr){return p$4(er&rr|tr&~rr,St,er,nr,ar,sr)}function v(St,er,tr,rr,nr,ar,sr){return p$4(er^tr^rr,St,er,nr,ar,sr)}function b$3(St,er,tr,rr,nr,ar,sr){return p$4(tr^(er|~rr),St,er,nr,ar,sr)}function y$6(St){var er,tr=St.length,rr=[1732584193,-271733879,-1732584194,271733878];for(er=64;er<=St.length;er+=64)d$3(rr,w$6(St.substring(er-64,er)));St=St.substring(er-64);var nr=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(er=0;er<St.length;er++)nr[er>>2]|=St.charCodeAt(er)<<(er%4<<3);if(nr[er>>2]|=128<<(er%4<<3),er>55)for(d$3(rr,nr),er=0;er<16;er++)nr[er]=0;return nr[14]=8*tr,d$3(rr,nr),rr}function w$6(St){var er,tr=[];for(er=0;er<64;er+=4)tr[er>>2]=St.charCodeAt(er)+(St.charCodeAt(er+1)<<8)+(St.charCodeAt(er+2)<<16)+(St.charCodeAt(er+3)<<24);return tr}u$7=n$7.atob.bind(n$7),h$4=n$7.btoa.bind(n$7);var N="0123456789abcdef".split("");function L$2(St){for(var er="",tr=0;tr<4;tr++)er+=N[St>>8*tr+4&15]+N[St>>8*tr&15];return er}function A$2(St){return String.fromCharCode((255&St)>>0,(65280&St)>>8,(16711680&St)>>16,(4278190080&St)>>24)}function x$3(St){return y$6(St).map(A$2).join("")}var S$3=function(St){for(var er=0;er<St.length;er++)St[er]=L$2(St[er]);return St.join("")}(y$6("hello"))!="5d41402abc4b2a76b9719d911017c592";function _$2(St,er){if(S$3){var tr=(65535&St)+(65535&er);return(St>>16)+(er>>16)+(tr>>16)<<16|65535&tr}return St+er&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function P$3(St,er){var tr,rr,nr,ar;if(St!==tr){for(var sr=(nr=St,ar=1+(256/St.length>>0),new Array(ar+1).join(nr)),ir=[],or=0;or<256;or++)ir[or]=or;var lr=0;for(or=0;or<256;or++){var cr=ir[or];lr=(lr+cr+sr.charCodeAt(or))%256,ir[or]=ir[lr],ir[lr]=cr}tr=St,rr=ir}else ir=rr;var ur=er.length,dr=0,fr=0,mr="";for(or=0;or<ur;or++)fr=(fr+(cr=ir[dr=(dr+1)%256]))%256,ir[dr]=ir[fr],ir[fr]=cr,sr=ir[(ir[dr]+ir[fr])%256],mr+=String.fromCharCode(er.charCodeAt(or)^sr);return mr}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var k$3={print:4,modify:8,copy:16,"annot-forms":32};function I$4(St,er,tr,rr){this.v=1,this.r=2;var nr=192;St.forEach(function(ir){if(k$3.perm!==void 0)throw new Error("Invalid permission: "+ir);nr+=k$3[ir]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var ar=(er+this.padding).substr(0,32),sr=(tr+this.padding).substr(0,32);this.O=this.processOwnerPassword(ar,sr),this.P=-(1+(255^nr)),this.encryptionKey=x$3(ar+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(rr)).substr(0,5),this.U=P$3(this.encryptionKey,this.padding)}function F$2(St){if(/[^\u0000-\u00ff]/.test(St))throw new Error("Invalid PDF Name Object: "+St+", Only accept ASCII characters.");for(var er="",tr=St.length,rr=0;rr<tr;rr++){var nr=St.charCodeAt(rr);nr<33||nr===35||nr===37||nr===40||nr===41||nr===47||nr===60||nr===62||nr===91||nr===93||nr===123||nr===125||nr>126?er+="#"+("0"+nr.toString(16)).slice(-2):er+=St[rr]}return er}function C$5(St){if(_typeof(St)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var er={};this.subscribe=function(tr,rr,nr){if(nr=nr||!1,typeof tr!="string"||typeof rr!="function"||typeof nr!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");er.hasOwnProperty(tr)||(er[tr]={});var ar=Math.random().toString(35);return er[tr][ar]=[rr,!!nr],ar},this.unsubscribe=function(tr){for(var rr in er)if(er[rr][tr])return delete er[rr][tr],Object.keys(er[rr]).length===0&&delete er[rr],!0;return!1},this.publish=function(tr){if(er.hasOwnProperty(tr)){var rr=Array.prototype.slice.call(arguments,1),nr=[];for(var ar in er[tr]){var sr=er[tr][ar];try{sr[0].apply(St,rr)}catch(ir){n$7.console&&a$d.error("jsPDF PubSub Error",ir.message,ir)}sr[1]&&nr.push(ar)}nr.length&&nr.forEach(this.unsubscribe)}},this.getTopics=function(){return er}}function j$2(St){if(!(this instanceof j$2))return new j$2(St);var er="opacity,stroke-opacity".split(",");for(var tr in St)St.hasOwnProperty(tr)&&er.indexOf(tr)>=0&&(this[tr]=St[tr]);this.id="",this.objectNumber=-1}function O$3(St,er){this.gState=St,this.matrix=er,this.id="",this.objectNumber=-1}function B$1(St,er,tr,rr,nr){if(!(this instanceof B$1))return new B$1(St,er,tr,rr,nr);this.type=St==="axial"?2:3,this.coords=er,this.colors=tr,O$3.call(this,rr,nr)}function M$3(St,er,tr,rr,nr){if(!(this instanceof M$3))return new M$3(St,er,tr,rr,nr);this.boundingBox=St,this.xStep=er,this.yStep=tr,this.stream="",this.cloneIndex=0,O$3.call(this,rr,nr)}function E$2(St){var er,tr=typeof arguments[0]=="string"?arguments[0]:"p",rr=arguments[1],nr=arguments[2],ar=arguments[3],sr=[],ir=1,or=16,lr="S",cr=null;_typeof(St=St||{})==="object"&&(tr=St.orientation,rr=St.unit||rr,nr=St.format||nr,ar=St.compress||St.compressPdf||ar,(cr=St.encryption||null)!==null&&(cr.userPassword=cr.userPassword||"",cr.ownerPassword=cr.ownerPassword||"",cr.userPermissions=cr.userPermissions||[]),ir=typeof St.userUnit=="number"?Math.abs(St.userUnit):1,St.precision!==void 0&&(er=St.precision),St.floatPrecision!==void 0&&(or=St.floatPrecision),lr=St.defaultPathOperation||"S"),sr=St.filters||(ar===!0?["FlateEncode"]:sr),rr=rr||"mm",tr=(""+(tr||"P")).toLowerCase();var ur=St.putOnlyUsedFonts||!1,dr={},fr={internal:{},__private__:{}};fr.__private__.PubSub=C$5;var mr="1.3",xr=fr.__private__.getPdfVersion=function(){return mr};fr.__private__.setPdfVersion=function(Fr){mr=Fr};var pr={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};fr.__private__.getPageFormats=function(){return pr};var hr=fr.__private__.getPageFormat=function(Fr){return pr[Fr]};nr=nr||"a4";var gr={COMPAT:"compat",ADVANCED:"advanced"},vr=gr.COMPAT;function br(){this.saveGraphicsState(),Ir(new Qs(os,0,0,-os,0,Bl()*os).toString()+" cm"),this.setFontSize(this.getFontSize()/os),lr="n",vr=gr.ADVANCED}function yr(){this.restoreGraphicsState(),lr="S",vr=gr.COMPAT}var Er=fr.__private__.combineFontStyleAndFontWeight=function(Fr,rn){if(Fr=="bold"&&rn=="normal"||Fr=="bold"&&rn==400||Fr=="normal"&&rn=="italic"||Fr=="bold"&&rn=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return rn&&(Fr=rn==400||rn==="normal"?Fr==="italic"?"italic":"normal":rn!=700&&rn!=="bold"||Fr!=="normal"?(rn==700?"bold":rn)+""+Fr:"bold"),Fr};fr.advancedAPI=function(Fr){var rn=vr===gr.COMPAT;return rn&&br.call(this),typeof Fr!="function"||(Fr(this),rn&&yr.call(this)),this},fr.compatAPI=function(Fr){var rn=vr===gr.ADVANCED;return rn&&yr.call(this),typeof Fr!="function"||(Fr(this),rn&&br.call(this)),this},fr.isAdvancedAPI=function(){return vr===gr.ADVANCED};var jr,_r=function(Fr){if(vr!==gr.ADVANCED)throw new Error(Fr+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Cr=fr.roundToPrecision=fr.__private__.roundToPrecision=function(Fr,rn){var Cn=er||rn;if(isNaN(Fr)||isNaN(Cn))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return Fr.toFixed(Cn).replace(/0+$/,"")};jr=fr.hpf=fr.__private__.hpf=typeof or=="number"?function(Fr){if(isNaN(Fr))throw new Error("Invalid argument passed to jsPDF.hpf");return Cr(Fr,or)}:or==="smart"?function(Fr){if(isNaN(Fr))throw new Error("Invalid argument passed to jsPDF.hpf");return Cr(Fr,Fr>-1&&Fr<1?16:5)}:function(Fr){if(isNaN(Fr))throw new Error("Invalid argument passed to jsPDF.hpf");return Cr(Fr,16)};var Or=fr.f2=fr.__private__.f2=function(Fr){if(isNaN(Fr))throw new Error("Invalid argument passed to jsPDF.f2");return Cr(Fr,2)},Pr=fr.__private__.f3=function(Fr){if(isNaN(Fr))throw new Error("Invalid argument passed to jsPDF.f3");return Cr(Fr,3)},Lr=fr.scale=fr.__private__.scale=function(Fr){if(isNaN(Fr))throw new Error("Invalid argument passed to jsPDF.scale");return vr===gr.COMPAT?Fr*os:vr===gr.ADVANCED?Fr:void 0},Gr=function(Fr){return vr===gr.COMPAT?Bl()-Fr:vr===gr.ADVANCED?Fr:void 0},Kr=function(Fr){return Lr(Gr(Fr))};fr.__private__.setPrecision=fr.setPrecision=function(Fr){typeof parseInt(Fr,10)=="number"&&(er=parseInt(Fr,10))};var nn,Qr="00000000000000000000000000000000",zr=fr.__private__.getFileId=function(){return Qr},Vr=fr.__private__.setFileId=function(Fr){return Qr=Fr!==void 0&&/^[a-fA-F0-9]{32}$/.test(Fr)?Fr.toUpperCase():Qr.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),cr!==null&&(Fl=new I$4(cr.userPermissions,cr.userPassword,cr.ownerPassword,Qr)),Qr};fr.setFileId=function(Fr){return Vr(Fr),this},fr.getFileId=function(){return zr()};var Jr=fr.__private__.convertDateToPDFDate=function(Fr){var rn=Fr.getTimezoneOffset(),Cn=rn<0?"+":"-",Tn=Math.floor(Math.abs(rn/60)),$n=Math.abs(rn%60),qn=[Cn,Tr(Tn),"'",Tr($n),"'"].join("");return["D:",Fr.getFullYear(),Tr(Fr.getMonth()+1),Tr(Fr.getDate()),Tr(Fr.getHours()),Tr(Fr.getMinutes()),Tr(Fr.getSeconds()),qn].join("")},tn=fr.__private__.convertPDFDateToDate=function(Fr){var rn=parseInt(Fr.substr(2,4),10),Cn=parseInt(Fr.substr(6,2),10)-1,Tn=parseInt(Fr.substr(8,2),10),$n=parseInt(Fr.substr(10,2),10),qn=parseInt(Fr.substr(12,2),10),Jn=parseInt(Fr.substr(14,2),10);return new Date(rn,Cn,Tn,$n,qn,Jn,0)},Yr=fr.__private__.setCreationDate=function(Fr){var rn;if(Fr===void 0&&(Fr=new Date),Fr instanceof Date)rn=Jr(Fr);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(Fr))throw new Error("Invalid argument passed to jsPDF.setCreationDate");rn=Fr}return nn=rn},Sr=fr.__private__.getCreationDate=function(Fr){var rn=nn;return Fr==="jsDate"&&(rn=tn(nn)),rn};fr.setCreationDate=function(Fr){return Yr(Fr),this},fr.getCreationDate=function(Fr){return Sr(Fr)};var Rr,Tr=fr.__private__.padd2=function(Fr){return("0"+parseInt(Fr)).slice(-2)},Dr=fr.__private__.padd2Hex=function(Fr){return("00"+(Fr=Fr.toString())).substr(Fr.length)},Mr=0,Br=[],qr=[],Wr=0,sn=[],un=[],Nr=!1,Ur=qr,en=function(){Mr=0,Wr=0,qr=[],Br=[],sn=[],bn=Xo(),En=Xo()};fr.__private__.setCustomOutputDestination=function(Fr){Nr=!0,Ur=Fr};var Zr=function(Fr){Nr||(Ur=Fr)};fr.__private__.resetCustomOutputDestination=function(){Nr=!1,Ur=qr};var Ir=fr.__private__.out=function(Fr){return Fr=Fr.toString(),Wr+=Fr.length+1,Ur.push(Fr),Ur},on=fr.__private__.write=function(Fr){return Ir(arguments.length===1?Fr.toString():Array.prototype.join.call(arguments," "))},vn=fr.__private__.getArrayBuffer=function(Fr){for(var rn=Fr.length,Cn=new ArrayBuffer(rn),Tn=new Uint8Array(Cn);rn--;)Tn[rn]=Fr.charCodeAt(rn);return Cn},yn=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];fr.__private__.getStandardFonts=function(){return yn};var Dn=St.fontSize||16;fr.__private__.setFontSize=fr.setFontSize=function(Fr){return Dn=vr===gr.ADVANCED?Fr/os:Fr,this};var pn,Sn=fr.__private__.getFontSize=fr.getFontSize=function(){return vr===gr.COMPAT?Dn:Dn*os},wn=St.R2L||!1;fr.__private__.setR2L=fr.setR2L=function(Fr){return wn=Fr,this},fr.__private__.getR2L=fr.getR2L=function(){return wn};var Vn,Yn=fr.__private__.setZoomMode=function(Fr){var rn=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(Fr))pn=Fr;else if(isNaN(Fr)){if(rn.indexOf(Fr)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+Fr+'" is not recognized.');pn=Fr}else pn=parseInt(Fr,10)};fr.__private__.getZoomMode=function(){return pn};var ns,ls=fr.__private__.setPageMode=function(Fr){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(Fr)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+Fr+'" is not recognized.');Vn=Fr};fr.__private__.getPageMode=function(){return Vn};var vs=fr.__private__.setLayoutMode=function(Fr){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(Fr)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+Fr+'" is not recognized.');ns=Fr};fr.__private__.getLayoutMode=function(){return ns},fr.__private__.setDisplayMode=fr.setDisplayMode=function(Fr,rn,Cn){return Yn(Fr),vs(rn),ls(Cn),this};var Ss={title:"",subject:"",author:"",keywords:"",creator:""};fr.__private__.getDocumentProperty=function(Fr){if(Object.keys(Ss).indexOf(Fr)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ss[Fr]},fr.__private__.getDocumentProperties=function(){return Ss},fr.__private__.setDocumentProperties=fr.setProperties=fr.setDocumentProperties=function(Fr){for(var rn in Ss)Ss.hasOwnProperty(rn)&&Fr[rn]&&(Ss[rn]=Fr[rn]);return this},fr.__private__.setDocumentProperty=function(Fr,rn){if(Object.keys(Ss).indexOf(Fr)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ss[Fr]=rn};var ps,os,zs,Bn,_n,Ln={},cs={},Ts=[],Vs={},$s={},to={},xl={},Pl=null,go=0,oo=[],xo=new C$5(fr),Gl=St.hotfixes||[],Eo={},$l={},Il=[],Qs=function Fr(rn,Cn,Tn,$n,qn,Jn){if(!(this instanceof Fr))return new Fr(rn,Cn,Tn,$n,qn,Jn);isNaN(rn)&&(rn=1),isNaN(Cn)&&(Cn=0),isNaN(Tn)&&(Tn=0),isNaN($n)&&($n=1),isNaN(qn)&&(qn=0),isNaN(Jn)&&(Jn=0),this._matrix=[rn,Cn,Tn,$n,qn,Jn]};Object.defineProperty(Qs.prototype,"sx",{get:function(){return this._matrix[0]},set:function(Fr){this._matrix[0]=Fr}}),Object.defineProperty(Qs.prototype,"shy",{get:function(){return this._matrix[1]},set:function(Fr){this._matrix[1]=Fr}}),Object.defineProperty(Qs.prototype,"shx",{get:function(){return this._matrix[2]},set:function(Fr){this._matrix[2]=Fr}}),Object.defineProperty(Qs.prototype,"sy",{get:function(){return this._matrix[3]},set:function(Fr){this._matrix[3]=Fr}}),Object.defineProperty(Qs.prototype,"tx",{get:function(){return this._matrix[4]},set:function(Fr){this._matrix[4]=Fr}}),Object.defineProperty(Qs.prototype,"ty",{get:function(){return this._matrix[5]},set:function(Fr){this._matrix[5]=Fr}}),Object.defineProperty(Qs.prototype,"a",{get:function(){return this._matrix[0]},set:function(Fr){this._matrix[0]=Fr}}),Object.defineProperty(Qs.prototype,"b",{get:function(){return this._matrix[1]},set:function(Fr){this._matrix[1]=Fr}}),Object.defineProperty(Qs.prototype,"c",{get:function(){return this._matrix[2]},set:function(Fr){this._matrix[2]=Fr}}),Object.defineProperty(Qs.prototype,"d",{get:function(){return this._matrix[3]},set:function(Fr){this._matrix[3]=Fr}}),Object.defineProperty(Qs.prototype,"e",{get:function(){return this._matrix[4]},set:function(Fr){this._matrix[4]=Fr}}),Object.defineProperty(Qs.prototype,"f",{get:function(){return this._matrix[5]},set:function(Fr){this._matrix[5]=Fr}}),Object.defineProperty(Qs.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Qs.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Qs.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Qs.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Qs.prototype.join=function(Fr){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(jr).join(Fr)},Qs.prototype.multiply=function(Fr){var rn=Fr.sx*this.sx+Fr.shy*this.shx,Cn=Fr.sx*this.shy+Fr.shy*this.sy,Tn=Fr.shx*this.sx+Fr.sy*this.shx,$n=Fr.shx*this.shy+Fr.sy*this.sy,qn=Fr.tx*this.sx+Fr.ty*this.shx+this.tx,Jn=Fr.tx*this.shy+Fr.ty*this.sy+this.ty;return new Qs(rn,Cn,Tn,$n,qn,Jn)},Qs.prototype.decompose=function(){var Fr=this.sx,rn=this.shy,Cn=this.shx,Tn=this.sy,$n=this.tx,qn=this.ty,Jn=Math.sqrt(Fr*Fr+rn*rn),$a=(Fr/=Jn)*Cn+(rn/=Jn)*Tn;Cn-=Fr*$a,Tn-=rn*$a;var bs=Math.sqrt(Cn*Cn+Tn*Tn);return $a/=bs,Fr*(Tn/=bs)<rn*(Cn/=bs)&&(Fr=-Fr,rn=-rn,$a=-$a,Jn=-Jn),{scale:new Qs(Jn,0,0,bs,0,0),translate:new Qs(1,0,0,1,$n,qn),rotate:new Qs(Fr,rn,-rn,Fr,0,0),skew:new Qs(1,0,$a,1,0,0)}},Qs.prototype.toString=function(Fr){return this.join(" ")},Qs.prototype.inversed=function(){var Fr=this.sx,rn=this.shy,Cn=this.shx,Tn=this.sy,$n=this.tx,qn=this.ty,Jn=1/(Fr*Tn-rn*Cn),$a=Tn*Jn,bs=-rn*Jn,As=-Cn*Jn,ys=Fr*Jn;return new Qs($a,bs,As,ys,-$a*$n-As*qn,-bs*$n-ys*qn)},Qs.prototype.applyToPoint=function(Fr){var rn=Fr.x*this.sx+Fr.y*this.shx+this.tx,Cn=Fr.x*this.shy+Fr.y*this.sy+this.ty;return new Vo(rn,Cn)},Qs.prototype.applyToRectangle=function(Fr){var rn=this.applyToPoint(Fr),Cn=this.applyToPoint(new Vo(Fr.x+Fr.w,Fr.y+Fr.h));return new To(rn.x,rn.y,Cn.x-rn.x,Cn.y-rn.y)},Qs.prototype.clone=function(){var Fr=this.sx,rn=this.shy,Cn=this.shx,Tn=this.sy,$n=this.tx,qn=this.ty;return new Qs(Fr,rn,Cn,Tn,$n,qn)},fr.Matrix=Qs;var Ml=fr.matrixMult=function(Fr,rn){return rn.multiply(Fr)},Al=new Qs(1,0,0,1,0,0);fr.unitMatrix=fr.identityMatrix=Al;var Oo=function(Fr,rn){if(!$s[Fr]){var Cn=(rn instanceof B$1?"Sh":"P")+(Object.keys(Vs).length+1).toString(10);rn.id=Cn,$s[Fr]=Cn,Vs[Cn]=rn,xo.publish("addPattern",rn)}};fr.ShadingPattern=B$1,fr.TilingPattern=M$3,fr.addShadingPattern=function(Fr,rn){return _r("addShadingPattern()"),Oo(Fr,rn),this},fr.beginTilingPattern=function(Fr){_r("beginTilingPattern()"),Ho(Fr.boundingBox[0],Fr.boundingBox[1],Fr.boundingBox[2]-Fr.boundingBox[0],Fr.boundingBox[3]-Fr.boundingBox[1],Fr.matrix)},fr.endTilingPattern=function(Fr,rn){_r("endTilingPattern()"),rn.stream=un[Rr].join(`
`),Oo(Fr,rn),xo.publish("endTilingPattern",rn),Il.pop().restore()};var zo=fr.__private__.newObject=function(){var Fr=Xo();return fn(Fr,!0),Fr},Xo=fr.__private__.newObjectDeferred=function(){return Mr++,Br[Mr]=function(){return Wr},Mr},fn=function(Fr,rn){return rn=typeof rn=="boolean"&&rn,Br[Fr]=Wr,rn&&Ir(Fr+" 0 obj"),Fr},An=fr.__private__.newAdditionalObject=function(){var Fr={objId:Xo(),content:""};return sn.push(Fr),Fr},bn=Xo(),En=Xo(),kn=fr.__private__.decodeColorString=function(Fr){var rn=Fr.split(" ");if(rn.length!==2||rn[1]!=="g"&&rn[1]!=="G")rn.length===5&&(rn[4]==="k"||rn[4]==="K")&&(rn=[(1-rn[0])*(1-rn[3]),(1-rn[1])*(1-rn[3]),(1-rn[2])*(1-rn[3]),"r"]);else{var Cn=parseFloat(rn[0]);rn=[Cn,Cn,Cn,"r"]}for(var Tn="#",$n=0;$n<3;$n++)Tn+=("0"+Math.floor(255*parseFloat(rn[$n])).toString(16)).slice(-2);return Tn},Nn=fr.__private__.encodeColorString=function(Fr){var rn;typeof Fr=="string"&&(Fr={ch1:Fr});var Cn=Fr.ch1,Tn=Fr.ch2,$n=Fr.ch3,qn=Fr.ch4,Jn=Fr.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Cn=="string"&&Cn.charAt(0)!=="#"){var $a=new f$8(Cn);if($a.ok)Cn=$a.toHex();else if(!/^\d*\.?\d*$/.test(Cn))throw new Error('Invalid color "'+Cn+'" passed to jsPDF.encodeColorString.')}if(typeof Cn=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Cn)&&(Cn="#"+Cn[1]+Cn[1]+Cn[2]+Cn[2]+Cn[3]+Cn[3]),typeof Cn=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Cn)){var bs=parseInt(Cn.substr(1),16);Cn=bs>>16&255,Tn=bs>>8&255,$n=255&bs}if(Tn===void 0||qn===void 0&&Cn===Tn&&Tn===$n)if(typeof Cn=="string")rn=Cn+" "+Jn[0];else switch(Fr.precision){case 2:rn=Or(Cn/255)+" "+Jn[0];break;case 3:default:rn=Pr(Cn/255)+" "+Jn[0]}else if(qn===void 0||_typeof(qn)==="object"){if(qn&&!isNaN(qn.a)&&qn.a===0)return rn=["1.","1.","1.",Jn[1]].join(" ");if(typeof Cn=="string")rn=[Cn,Tn,$n,Jn[1]].join(" ");else switch(Fr.precision){case 2:rn=[Or(Cn/255),Or(Tn/255),Or($n/255),Jn[1]].join(" ");break;default:case 3:rn=[Pr(Cn/255),Pr(Tn/255),Pr($n/255),Jn[1]].join(" ")}}else if(typeof Cn=="string")rn=[Cn,Tn,$n,qn,Jn[2]].join(" ");else switch(Fr.precision){case 2:rn=[Or(Cn),Or(Tn),Or($n),Or(qn),Jn[2]].join(" ");break;case 3:default:rn=[Pr(Cn),Pr(Tn),Pr($n),Pr(qn),Jn[2]].join(" ")}return rn},Qn=fr.__private__.getFilters=function(){return sr},es=fr.__private__.putStream=function(Fr){var rn=(Fr=Fr||{}).data||"",Cn=Fr.filters||Qn(),Tn=Fr.alreadyAppliedFilters||[],$n=Fr.addLength1||!1,qn=rn.length,Jn=Fr.objectId,$a=function(mo){return mo};if(cr!==null&&Jn===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");cr!==null&&($a=Fl.encryptor(Jn,0));var bs={};Cn===!0&&(Cn=["FlateEncode"]);var As=Fr.additionalKeyValues||[],ys=(bs=E$2.API.processDataByFilters!==void 0?E$2.API.processDataByFilters(rn,Cn):{data:rn,reverseChain:[]}).reverseChain+(Array.isArray(Tn)?Tn.join(" "):Tn.toString());if(bs.data.length!==0&&(As.push({key:"Length",value:bs.data.length}),$n===!0&&As.push({key:"Length1",value:qn})),ys.length!=0)if(ys.split("/").length-1==1)As.push({key:"Filter",value:ys});else{As.push({key:"Filter",value:"["+ys+"]"});for(var ms=0;ms<As.length;ms+=1)if(As[ms].key==="DecodeParms"){for(var Is=[],Ws=0;Ws<bs.reverseChain.split("/").length-1;Ws+=1)Is.push("null");Is.push(As[ms].value),As[ms].value="["+Is.join(" ")+"]"}}Ir("<<");for(var ho=0;ho<As.length;ho++)Ir("/"+As[ho].key+" "+As[ho].value);Ir(">>"),bs.data.length!==0&&(Ir("stream"),Ir($a(bs.data)),Ir("endstream"))},Zn=fr.__private__.putPage=function(Fr){var rn=Fr.number,Cn=Fr.data,Tn=Fr.objId,$n=Fr.contentsObjId;fn(Tn,!0),Ir("<</Type /Page"),Ir("/Parent "+Fr.rootDictionaryObjId+" 0 R"),Ir("/Resources "+Fr.resourceDictionaryObjId+" 0 R"),Ir("/MediaBox ["+parseFloat(jr(Fr.mediaBox.bottomLeftX))+" "+parseFloat(jr(Fr.mediaBox.bottomLeftY))+" "+jr(Fr.mediaBox.topRightX)+" "+jr(Fr.mediaBox.topRightY)+"]"),Fr.cropBox!==null&&Ir("/CropBox ["+jr(Fr.cropBox.bottomLeftX)+" "+jr(Fr.cropBox.bottomLeftY)+" "+jr(Fr.cropBox.topRightX)+" "+jr(Fr.cropBox.topRightY)+"]"),Fr.bleedBox!==null&&Ir("/BleedBox ["+jr(Fr.bleedBox.bottomLeftX)+" "+jr(Fr.bleedBox.bottomLeftY)+" "+jr(Fr.bleedBox.topRightX)+" "+jr(Fr.bleedBox.topRightY)+"]"),Fr.trimBox!==null&&Ir("/TrimBox ["+jr(Fr.trimBox.bottomLeftX)+" "+jr(Fr.trimBox.bottomLeftY)+" "+jr(Fr.trimBox.topRightX)+" "+jr(Fr.trimBox.topRightY)+"]"),Fr.artBox!==null&&Ir("/ArtBox ["+jr(Fr.artBox.bottomLeftX)+" "+jr(Fr.artBox.bottomLeftY)+" "+jr(Fr.artBox.topRightX)+" "+jr(Fr.artBox.topRightY)+"]"),typeof Fr.userUnit=="number"&&Fr.userUnit!==1&&Ir("/UserUnit "+Fr.userUnit),xo.publish("putPage",{objId:Tn,pageContext:oo[rn],pageNumber:rn,page:Cn}),Ir("/Contents "+$n+" 0 R"),Ir(">>"),Ir("endobj");var qn=Cn.join(`
`);return vr===gr.ADVANCED&&(qn+=`
Q`),fn($n,!0),es({data:qn,filters:Qn(),objectId:$n}),Ir("endobj"),Tn},ga=fr.__private__.putPages=function(){var Fr,rn,Cn=[];for(Fr=1;Fr<=go;Fr++)oo[Fr].objId=Xo(),oo[Fr].contentsObjId=Xo();for(Fr=1;Fr<=go;Fr++)Cn.push(Zn({number:Fr,data:un[Fr],objId:oo[Fr].objId,contentsObjId:oo[Fr].contentsObjId,mediaBox:oo[Fr].mediaBox,cropBox:oo[Fr].cropBox,bleedBox:oo[Fr].bleedBox,trimBox:oo[Fr].trimBox,artBox:oo[Fr].artBox,userUnit:oo[Fr].userUnit,rootDictionaryObjId:bn,resourceDictionaryObjId:En}));fn(bn,!0),Ir("<</Type /Pages");var Tn="/Kids [";for(rn=0;rn<go;rn++)Tn+=Cn[rn]+" 0 R ";Ir(Tn+"]"),Ir("/Count "+go),Ir(">>"),Ir("endobj"),xo.publish("postPutPages")},ba=function(Fr){xo.publish("putFont",{font:Fr,out:Ir,newObject:zo,putStream:es}),Fr.isAlreadyPutted!==!0&&(Fr.objectNumber=zo(),Ir("<<"),Ir("/Type /Font"),Ir("/BaseFont /"+F$2(Fr.postScriptName)),Ir("/Subtype /Type1"),typeof Fr.encoding=="string"&&Ir("/Encoding /"+Fr.encoding),Ir("/FirstChar 32"),Ir("/LastChar 255"),Ir(">>"),Ir("endobj"))},_s=function(){for(var Fr in Ln)Ln.hasOwnProperty(Fr)&&(ur===!1||ur===!0&&dr.hasOwnProperty(Fr))&&ba(Ln[Fr])},Cs=function(Fr){Fr.objectNumber=zo();var rn=[];rn.push({key:"Type",value:"/XObject"}),rn.push({key:"Subtype",value:"/Form"}),rn.push({key:"BBox",value:"["+[jr(Fr.x),jr(Fr.y),jr(Fr.x+Fr.width),jr(Fr.y+Fr.height)].join(" ")+"]"}),rn.push({key:"Matrix",value:"["+Fr.matrix.toString()+"]"});var Cn=Fr.pages[1].join(`
`);es({data:Cn,additionalKeyValues:rn,objectId:Fr.objectNumber}),Ir("endobj")},Ds=function(){for(var Fr in Eo)Eo.hasOwnProperty(Fr)&&Cs(Eo[Fr])},Rs=function(Fr,rn){var Cn,Tn=[],$n=1/(rn-1);for(Cn=0;Cn<1;Cn+=$n)Tn.push(Cn);if(Tn.push(1),Fr[0].offset!=0){var qn={offset:0,color:Fr[0].color};Fr.unshift(qn)}if(Fr[Fr.length-1].offset!=1){var Jn={offset:1,color:Fr[Fr.length-1].color};Fr.push(Jn)}for(var $a="",bs=0,As=0;As<Tn.length;As++){for(Cn=Tn[As];Cn>Fr[bs+1].offset;)bs++;var ys=Fr[bs].offset,ms=(Cn-ys)/(Fr[bs+1].offset-ys),Is=Fr[bs].color,Ws=Fr[bs+1].color;$a+=Dr(Math.round((1-ms)*Is[0]+ms*Ws[0]).toString(16))+Dr(Math.round((1-ms)*Is[1]+ms*Ws[1]).toString(16))+Dr(Math.round((1-ms)*Is[2]+ms*Ws[2]).toString(16))}return $a.trim()},Fs=function(Fr,rn){rn||(rn=21);var Cn=zo(),Tn=Rs(Fr.colors,rn),$n=[];$n.push({key:"FunctionType",value:"0"}),$n.push({key:"Domain",value:"[0.0 1.0]"}),$n.push({key:"Size",value:"["+rn+"]"}),$n.push({key:"BitsPerSample",value:"8"}),$n.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),$n.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),es({data:Tn,additionalKeyValues:$n,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Cn}),Ir("endobj"),Fr.objectNumber=zo(),Ir("<< /ShadingType "+Fr.type),Ir("/ColorSpace /DeviceRGB");var qn="/Coords ["+jr(parseFloat(Fr.coords[0]))+" "+jr(parseFloat(Fr.coords[1]))+" ";Fr.type===2?qn+=jr(parseFloat(Fr.coords[2]))+" "+jr(parseFloat(Fr.coords[3])):qn+=jr(parseFloat(Fr.coords[2]))+" "+jr(parseFloat(Fr.coords[3]))+" "+jr(parseFloat(Fr.coords[4]))+" "+jr(parseFloat(Fr.coords[5])),Ir(qn+="]"),Fr.matrix&&Ir("/Matrix ["+Fr.matrix.toString()+"]"),Ir("/Function "+Cn+" 0 R"),Ir("/Extend [true true]"),Ir(">>"),Ir("endobj")},uo=function(Fr,rn){var Cn=Xo(),Tn=zo();rn.push({resourcesOid:Cn,objectOid:Tn}),Fr.objectNumber=Tn;var $n=[];$n.push({key:"Type",value:"/Pattern"}),$n.push({key:"PatternType",value:"1"}),$n.push({key:"PaintType",value:"1"}),$n.push({key:"TilingType",value:"1"}),$n.push({key:"BBox",value:"["+Fr.boundingBox.map(jr).join(" ")+"]"}),$n.push({key:"XStep",value:jr(Fr.xStep)}),$n.push({key:"YStep",value:jr(Fr.yStep)}),$n.push({key:"Resources",value:Cn+" 0 R"}),Fr.matrix&&$n.push({key:"Matrix",value:"["+Fr.matrix.toString()+"]"}),es({data:Fr.stream,additionalKeyValues:$n,objectId:Fr.objectNumber}),Ir("endobj")},$o=function(Fr){var rn;for(rn in Vs)Vs.hasOwnProperty(rn)&&(Vs[rn]instanceof B$1?Fs(Vs[rn]):Vs[rn]instanceof M$3&&uo(Vs[rn],Fr))},Bo=function(Fr){for(var rn in Fr.objectNumber=zo(),Ir("<<"),Fr)switch(rn){case"opacity":Ir("/ca "+Or(Fr[rn]));break;case"stroke-opacity":Ir("/CA "+Or(Fr[rn]))}Ir(">>"),Ir("endobj")},Cl=function(){var Fr;for(Fr in to)to.hasOwnProperty(Fr)&&Bo(to[Fr])},cu=function(){for(var Fr in Ir("/XObject <<"),Eo)Eo.hasOwnProperty(Fr)&&Eo[Fr].objectNumber>=0&&Ir("/"+Fr+" "+Eo[Fr].objectNumber+" 0 R");xo.publish("putXobjectDict"),Ir(">>")},ju=function(){Fl.oid=zo(),Ir("<<"),Ir("/Filter /Standard"),Ir("/V "+Fl.v),Ir("/R "+Fl.r),Ir("/U <"+Fl.toHexString(Fl.U)+">"),Ir("/O <"+Fl.toHexString(Fl.O)+">"),Ir("/P "+Fl.P),Ir(">>"),Ir("endobj")},gu=function(){for(var Fr in Ir("/Font <<"),Ln)Ln.hasOwnProperty(Fr)&&(ur===!1||ur===!0&&dr.hasOwnProperty(Fr))&&Ir("/"+Fr+" "+Ln[Fr].objectNumber+" 0 R");Ir(">>")},Ql=function(){if(Object.keys(Vs).length>0){for(var Fr in Ir("/Shading <<"),Vs)Vs.hasOwnProperty(Fr)&&Vs[Fr]instanceof B$1&&Vs[Fr].objectNumber>=0&&Ir("/"+Fr+" "+Vs[Fr].objectNumber+" 0 R");xo.publish("putShadingPatternDict"),Ir(">>")}},uu=function(Fr){if(Object.keys(Vs).length>0){for(var rn in Ir("/Pattern <<"),Vs)Vs.hasOwnProperty(rn)&&Vs[rn]instanceof fr.TilingPattern&&Vs[rn].objectNumber>=0&&Vs[rn].objectNumber<Fr&&Ir("/"+rn+" "+Vs[rn].objectNumber+" 0 R");xo.publish("putTilingPatternDict"),Ir(">>")}},_c=function(){if(Object.keys(to).length>0){var Fr;for(Fr in Ir("/ExtGState <<"),to)to.hasOwnProperty(Fr)&&to[Fr].objectNumber>=0&&Ir("/"+Fr+" "+to[Fr].objectNumber+" 0 R");xo.publish("putGStateDict"),Ir(">>")}},_l=function(Fr){fn(Fr.resourcesOid,!0),Ir("<<"),Ir("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),gu(),Ql(),uu(Fr.objectOid),_c(),cu(),Ir(">>"),Ir("endobj")},Lu=function(){var Fr=[];_s(),Cl(),Ds(),$o(Fr),xo.publish("putResources"),Fr.forEach(_l),_l({resourcesOid:En,objectOid:Number.MAX_SAFE_INTEGER}),xo.publish("postPutResources")},k0=function(){xo.publish("putAdditionalObjects");for(var Fr=0;Fr<sn.length;Fr++){var rn=sn[Fr];fn(rn.objId,!0),Ir(rn.content),Ir("endobj")}xo.publish("postPutAdditionalObjects")},R0=function(Fr){cs[Fr.fontName]=cs[Fr.fontName]||{},cs[Fr.fontName][Fr.fontStyle]=Fr.id},m0=function(Fr,rn,Cn,Tn,$n){var qn={id:"F"+(Object.keys(Ln).length+1).toString(10),postScriptName:Fr,fontName:rn,fontStyle:Cn,encoding:Tn,isStandardFont:$n||!1,metadata:{}};return xo.publish("addFont",{font:qn,instance:this}),Ln[qn.id]=qn,R0(qn),qn.id},x0=function(Fr){for(var rn=0,Cn=yn.length;rn<Cn;rn++){var Tn=m0.call(this,Fr[rn][0],Fr[rn][1],Fr[rn][2],yn[rn][3],!0);ur===!1&&(dr[Tn]=!0);var $n=Fr[rn][0].split("-");R0({id:Tn,fontName:$n[0],fontStyle:$n[1]||""})}xo.publish("addFonts",{fonts:Ln,dictionary:cs})},du=function(Fr){return Fr.foo=function(){try{return Fr.apply(this,arguments)}catch(Tn){var rn=Tn.stack||"";~rn.indexOf(" at ")&&(rn=rn.split(" at ")[1]);var Cn="Error in function "+rn.split(`
`)[0].split("<")[0]+": "+Tn.message;if(!n$7.console)throw new Error(Cn);n$7.console.error(Cn,Tn),n$7.alert&&alert(Cn)}},Fr.foo.bar=Fr,Fr.foo},Ku=function(Fr,rn){var Cn,Tn,$n,qn,Jn,$a,bs,As,ys;if($n=(rn=rn||{}).sourceEncoding||"Unicode",Jn=rn.outputEncoding,(rn.autoencode||Jn)&&Ln[ps].metadata&&Ln[ps].metadata[$n]&&Ln[ps].metadata[$n].encoding&&(qn=Ln[ps].metadata[$n].encoding,!Jn&&Ln[ps].encoding&&(Jn=Ln[ps].encoding),!Jn&&qn.codePages&&(Jn=qn.codePages[0]),typeof Jn=="string"&&(Jn=qn[Jn]),Jn)){for(bs=!1,$a=[],Cn=0,Tn=Fr.length;Cn<Tn;Cn++)(As=Jn[Fr.charCodeAt(Cn)])?$a.push(String.fromCharCode(As)):$a.push(Fr[Cn]),$a[Cn].charCodeAt(0)>>8&&(bs=!0);Fr=$a.join("")}for(Cn=Fr.length;bs===void 0&&Cn!==0;)Fr.charCodeAt(Cn-1)>>8&&(bs=!0),Cn--;if(!bs)return Fr;for($a=rn.noBOM?[]:[254,255],Cn=0,Tn=Fr.length;Cn<Tn;Cn++){if((ys=(As=Fr.charCodeAt(Cn))>>8)>>8)throw new Error("Character at position "+Cn+" of string '"+Fr+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");$a.push(ys),$a.push(As-(ys<<8))}return String.fromCharCode.apply(void 0,$a)},Xl=fr.__private__.pdfEscape=fr.pdfEscape=function(Fr,rn){return Ku(Fr,rn).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Yu=fr.__private__.beginPage=function(Fr){un[++go]=[],oo[go]={objId:0,contentsObjId:0,userUnit:Number(ir),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(Fr[0]),topRightY:Number(Fr[1])}},Ju(go),Zr(un[Rr])},A0=function(Fr,rn){var Cn,Tn,$n;switch(tr=rn||tr,typeof Fr=="string"&&(Cn=hr(Fr.toLowerCase()),Array.isArray(Cn)&&(Tn=Cn[0],$n=Cn[1])),Array.isArray(Fr)&&(Tn=Fr[0]*os,$n=Fr[1]*os),isNaN(Tn)&&(Tn=nr[0],$n=nr[1]),(Tn>14400||$n>14400)&&(a$d.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Tn=Math.min(14400,Tn),$n=Math.min(14400,$n)),nr=[Tn,$n],tr.substr(0,1)){case"l":$n>Tn&&(nr=[$n,Tn]);break;case"p":Tn>$n&&(nr=[$n,Tn])}Yu(nr),ss(Hn),Ir(Us),wo!==0&&Ir(wo+" J"),So!==0&&Ir(So+" j"),xo.publish("addPage",{pageNumber:go})},z0=function(Fr){Fr>0&&Fr<=go&&(un.splice(Fr,1),oo.splice(Fr,1),go--,Rr>go&&(Rr=go),this.setPage(Rr))},Ju=function(Fr){Fr>0&&Fr<=go&&(Rr=Fr)},V0=fr.__private__.getNumberOfPages=fr.getNumberOfPages=function(){return un.length-1},g0=function(Fr,rn,Cn){var Tn,$n=void 0;return Cn=Cn||{},Fr=Fr!==void 0?Fr:Ln[ps].fontName,rn=rn!==void 0?rn:Ln[ps].fontStyle,Tn=Fr.toLowerCase(),cs[Tn]!==void 0&&cs[Tn][rn]!==void 0?$n=cs[Tn][rn]:cs[Fr]!==void 0&&cs[Fr][rn]!==void 0?$n=cs[Fr][rn]:Cn.disableWarning===!1&&a$d.warn("Unable to look up font label for font '"+Fr+"', '"+rn+"'. Refer to getFontList() for available fonts."),$n||Cn.noFallback||($n=cs.times[rn])==null&&($n=cs.times.normal),$n},C0=fr.__private__.putInfo=function(){var Fr=zo(),rn=function(Tn){return Tn};for(var Cn in cr!==null&&(rn=Fl.encryptor(Fr,0)),Ir("<<"),Ir("/Producer ("+Xl(rn("jsPDF "+E$2.version))+")"),Ss)Ss.hasOwnProperty(Cn)&&Ss[Cn]&&Ir("/"+Cn.substr(0,1).toUpperCase()+Cn.substr(1)+" ("+Xl(rn(Ss[Cn]))+")");Ir("/CreationDate ("+Xl(rn(nn))+")"),Ir(">>"),Ir("endobj")},v0=fr.__private__.putCatalog=function(Fr){var rn=(Fr=Fr||{}).rootDictionaryObjId||bn;switch(zo(),Ir("<<"),Ir("/Type /Catalog"),Ir("/Pages "+rn+" 0 R"),pn||(pn="fullwidth"),pn){case"fullwidth":Ir("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Ir("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Ir("/OpenAction [3 0 R /Fit]");break;case"original":Ir("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Cn=""+pn;Cn.substr(Cn.length-1)==="%"&&(pn=parseInt(pn)/100),typeof pn=="number"&&Ir("/OpenAction [3 0 R /XYZ null null "+Or(pn)+"]")}switch(ns||(ns="continuous"),ns){case"continuous":Ir("/PageLayout /OneColumn");break;case"single":Ir("/PageLayout /SinglePage");break;case"two":case"twoleft":Ir("/PageLayout /TwoColumnLeft");break;case"tworight":Ir("/PageLayout /TwoColumnRight")}Vn&&Ir("/PageMode /"+Vn),xo.publish("putCatalog"),Ir(">>"),Ir("endobj")},y0=fr.__private__.putTrailer=function(){Ir("trailer"),Ir("<<"),Ir("/Size "+(Mr+1)),Ir("/Root "+Mr+" 0 R"),Ir("/Info "+(Mr-1)+" 0 R"),cr!==null&&Ir("/Encrypt "+Fl.oid+" 0 R"),Ir("/ID [ <"+Qr+"> <"+Qr+"> ]"),Ir(">>")},H0=fr.__private__.putHeader=function(){Ir("%PDF-"+mr),Ir("%")},W0=fr.__private__.putXRef=function(){var Fr="0000000000";Ir("xref"),Ir("0 "+(Mr+1)),Ir("0000000000 65535 f ");for(var rn=1;rn<=Mr;rn++)typeof Br[rn]=="function"?Ir((Fr+Br[rn]()).slice(-10)+" 00000 n "):Br[rn]!==void 0?Ir((Fr+Br[rn]).slice(-10)+" 00000 n "):Ir("0000000000 00000 n ")},eu=fr.__private__.buildDocument=function(){en(),Zr(qr),xo.publish("buildDocument"),H0(),ga(),k0(),Lu(),cr!==null&&ju(),C0(),v0();var Fr=Wr;return W0(),y0(),Ir("startxref"),Ir(""+Fr),Ir("%%EOF"),Zr(un[Rr]),qr.join(`
`)},Zu=fr.__private__.getBlob=function(Fr){return new Blob([vn(Fr)],{type:"application/pdf"})},Bu=fr.output=fr.__private__.output=du(function(Fr,rn){switch(typeof(rn=rn||{})=="string"?rn={filename:rn}:rn.filename=rn.filename||"generated.pdf",Fr){case void 0:return eu();case"save":fr.save(rn.filename);break;case"arraybuffer":return vn(eu());case"blob":return Zu(eu());case"bloburi":case"bloburl":if(n$7.URL!==void 0&&typeof n$7.URL.createObjectURL=="function")return n$7.URL&&n$7.URL.createObjectURL(Zu(eu()))||void 0;a$d.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Cn="",Tn=eu();try{Cn=h$4(Tn)}catch{Cn=h$4(unescape(encodeURIComponent(Tn)))}return"data:application/pdf;filename="+rn.filename+";base64,"+Cn;case"pdfobjectnewwindow":if(Object.prototype.toString.call(n$7)==="[object Window]"){var $n="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",qn=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';rn.pdfObjectUrl&&($n=rn.pdfObjectUrl,qn="");var Jn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+$n+'"'+qn+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(rn)+");<\/script></body></html>",$a=n$7.open();return $a!==null&&$a.document.write(Jn),$a}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(n$7)==="[object Window]"){var bs='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(rn.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+rn.filename+'" width="500px" height="400px" /></body></html>',As=n$7.open();if(As!==null){As.document.write(bs);var ys=this;As.document.documentElement.querySelector("#pdfViewer").onload=function(){As.document.title=rn.filename,As.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ys.output("bloburl"))}}return As}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(n$7)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ms='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",rn)+'"></iframe></body></html>',Is=n$7.open();if(Is!==null&&(Is.document.write(ms),Is.document.title=rn.filename),Is||typeof safari>"u")return Is;break;case"datauri":case"dataurl":return n$7.document.location.href=this.output("datauristring",rn);default:return null}}),N0=function(Fr){return Array.isArray(Gl)===!0&&Gl.indexOf(Fr)>-1};switch(rr){case"pt":os=1;break;case"mm":os=72/25.4;break;case"cm":os=72/2.54;break;case"in":os=72;break;case"px":os=N0("px_scaling")==1?.75:96/72;break;case"pc":case"em":os=12;break;case"ex":os=6;break;default:if(typeof rr!="number")throw new Error("Invalid unit: "+rr);os=rr}var Fl=null;Yr(),Vr();var b0=function(Fr){return cr!==null?Fl.encryptor(Fr,0):function(rn){return rn}},T0=fr.__private__.getPageInfo=fr.getPageInfo=function(Fr){if(isNaN(Fr)||Fr%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:oo[Fr].objId,pageNumber:Fr,pageContext:oo[Fr]}},po=fr.__private__.getPageInfoByObjId=function(Fr){if(isNaN(Fr)||Fr%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var rn in oo)if(oo[rn].objId===Fr)break;return T0(rn)},P0=fr.__private__.getCurrentPageInfo=fr.getCurrentPageInfo=function(){return{objId:oo[Rr].objId,pageNumber:Rr,pageContext:oo[Rr]}};fr.addPage=function(){return A0.apply(this,arguments),this},fr.setPage=function(){return Ju.apply(this,arguments),Zr.call(this,un[Rr]),this},fr.insertPage=function(Fr){return this.addPage(),this.movePage(Rr,Fr),this},fr.movePage=function(Fr,rn){var Cn,Tn;if(Fr>rn){Cn=un[Fr],Tn=oo[Fr];for(var $n=Fr;$n>rn;$n--)un[$n]=un[$n-1],oo[$n]=oo[$n-1];un[rn]=Cn,oo[rn]=Tn,this.setPage(rn)}else if(Fr<rn){Cn=un[Fr],Tn=oo[Fr];for(var qn=Fr;qn<rn;qn++)un[qn]=un[qn+1],oo[qn]=oo[qn+1];un[rn]=Cn,oo[rn]=Tn,this.setPage(rn)}return this},fr.deletePage=function(){return z0.apply(this,arguments),this},fr.__private__.text=fr.text=function(Fr,rn,Cn,Tn,$n){var qn,Jn,$a,bs,As,ys,ms,Is,Ws,ho=(Tn=Tn||{}).scope||this;if(typeof Fr=="number"&&typeof rn=="number"&&(typeof Cn=="string"||Array.isArray(Cn))){var mo=Cn;Cn=rn,rn=Fr,Fr=mo}if(arguments[3]instanceof Qs?(_r("The transform parameter of text() with a Matrix value"),Ws=$n):($a=arguments[4],bs=arguments[5],_typeof(ms=arguments[3])==="object"&&ms!==null||(typeof $a=="string"&&(bs=$a,$a=null),typeof ms=="string"&&(bs=ms,ms=null),typeof ms=="number"&&($a=ms,ms=null),Tn={flags:ms,angle:$a,align:bs})),isNaN(rn)||isNaN(Cn)||Fr==null)throw new Error("Invalid arguments passed to jsPDF.text");if(Fr.length===0)return ho;var Ao="",yl=!1,qs=typeof Tn.lineHeightFactor=="number"?Tn.lineHeightFactor:Wn,Wo=ho.internal.scaleFactor;function Po(Zs){return Zs=Zs.split("	").join(Array(Tn.TabLen||9).join(" ")),Xl(Zs,ms)}function Fo(Zs){for(var Js,Xs=Zs.concat(),jo=[],zl=Xs.length;zl--;)typeof(Js=Xs.shift())=="string"?jo.push(Js):Array.isArray(Zs)&&(Js.length===1||Js[1]===void 0&&Js[2]===void 0)?jo.push(Js[0]):jo.push([Js[0],Js[1],Js[2]]);return jo}function Qo(Zs,Js){var Xs;if(typeof Zs=="string")Xs=Js(Zs)[0];else if(Array.isArray(Zs)){for(var jo,zl,Wu=Zs.concat(),Pu=[],pu=Wu.length;pu--;)typeof(jo=Wu.shift())=="string"?Pu.push(Js(jo)[0]):Array.isArray(jo)&&typeof jo[0]=="string"&&(zl=Js(jo[0],jo[1],jo[2]),Pu.push([zl[0],zl[1],zl[2]]));Xs=Pu}return Xs}var Ro=!1,au=!0;if(typeof Fr=="string")Ro=!0;else if(Array.isArray(Fr)){var yu=Fr.concat();Jn=[];for(var ku,wl=yu.length;wl--;)(typeof(ku=yu.shift())!="string"||Array.isArray(ku)&&typeof ku[0]!="string")&&(au=!1);Ro=au}if(Ro===!1)throw new Error('Type of text must be string or Array. "'+Fr+'" is not recognized.');typeof Fr=="string"&&(Fr=Fr.match(/[\r?\n]/)?Fr.split(/\r\n|\r|\n/g):[Fr]);var bu=Dn/ho.internal.scaleFactor,Qu=bu*(qs-1);switch(Tn.baseline){case"bottom":Cn-=Qu;break;case"top":Cn+=bu-Qu;break;case"hanging":Cn+=bu-2*Qu;break;case"middle":Cn+=bu/2-Qu}if((ys=Tn.maxWidth||0)>0&&(typeof Fr=="string"?Fr=ho.splitTextToSize(Fr,ys):Object.prototype.toString.call(Fr)==="[object Array]"&&(Fr=Fr.reduce(function(Zs,Js){return Zs.concat(ho.splitTextToSize(Js,ys))},[]))),qn={text:Fr,x:rn,y:Cn,options:Tn,mutex:{pdfEscape:Xl,activeFontKey:ps,fonts:Ln,activeFontSize:Dn}},xo.publish("preProcessText",qn),Fr=qn.text,$a=(Tn=qn.options).angle,!(Ws instanceof Qs)&&$a&&typeof $a=="number"){$a*=Math.PI/180,Tn.rotationDirection===0&&($a=-$a),vr===gr.ADVANCED&&($a=-$a);var Dl=Math.cos($a),_d=Math.sin($a);Ws=new Qs(Dl,_d,-_d,Dl,0,0)}else $a&&$a instanceof Qs&&(Ws=$a);vr!==gr.ADVANCED||Ws||(Ws=Al),(As=Tn.charSpace||vo)!==void 0&&(Ao+=jr(Lr(As))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Is=Tn.horizontalScale)!==void 0&&(Ao+=jr(100*Is)+` Tz
`),Tn.lang;var tu=-1,Do=Tn.renderingMode!==void 0?Tn.renderingMode:Tn.stroke,E0=ho.internal.getCurrentPageInfo().pageContext;switch(Do){case 0:case!1:case"fill":tu=0;break;case 1:case!0:case"stroke":tu=1;break;case 2:case"fillThenStroke":tu=2;break;case 3:case"invisible":tu=3;break;case 4:case"fillAndAddForClipping":tu=4;break;case 5:case"strokeAndAddPathForClipping":tu=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":tu=6;break;case 7:case"addToPathForClipping":tu=7}var fu=E0.usedRenderingMode!==void 0?E0.usedRenderingMode:-1;tu!==-1?Ao+=tu+` Tr
`:fu!==-1&&(Ao+=`0 Tr
`),tu!==-1&&(E0.usedRenderingMode=tu),bs=Tn.align||"left";var su,e0=Dn*qs,L0=ho.internal.pageSize.getWidth(),r0=Ln[ps];As=Tn.charSpace||vo,ys=Tn.maxWidth||0,ms=Object.assign({autoencode:!0,noBOM:!0},Tn.flags);var Ru=[],Uu=function(Zs){return ho.getStringUnitWidth(Zs,{font:r0,charSpace:As,fontSize:Dn,doKerning:!1})*Dn/Wo};if(Object.prototype.toString.call(Fr)==="[object Array]"){var ru;Jn=Fo(Fr),bs!=="left"&&(su=Jn.map(Uu));var Yl,Jl=0;if(bs==="right"){rn-=su[0],Fr=[],wl=Jn.length;for(var Au=0;Au<wl;Au++)Au===0?(Yl=us(rn),ru=eo(Cn)):(Yl=Lr(Jl-su[Au]),ru=-e0),Fr.push([Jn[Au],Yl,ru]),Jl=su[Au]}else if(bs==="center"){rn-=su[0]/2,Fr=[],wl=Jn.length;for(var wu=0;wu<wl;wu++)wu===0?(Yl=us(rn),ru=eo(Cn)):(Yl=Lr((Jl-su[wu])/2),ru=-e0),Fr.push([Jn[wu],Yl,ru]),Jl=su[wu]}else if(bs==="left"){Fr=[],wl=Jn.length;for(var zu=0;zu<wl;zu++)Fr.push(Jn[zu])}else if(bs==="justify"&&r0.encoding==="Identity-H"){Fr=[],wl=Jn.length,ys=ys!==0?ys:L0;for(var hu=0,El=0;El<wl;El++)if(ru=El===0?eo(Cn):-e0,Yl=El===0?us(rn):hu,El<wl-1){var n0=Lr((ys-su[El])/(Jn[El].split(" ").length-1)),Rl=Jn[El].split(" ");Fr.push([Rl[0]+" ",Yl,ru]),hu=0;for(var iu=1;iu<Rl.length;iu++){var a0=(Uu(Rl[iu-1]+" "+Rl[iu])-Uu(Rl[iu]))*Wo+n0;iu==Rl.length-1?Fr.push([Rl[iu],a0,0]):Fr.push([Rl[iu]+" ",a0,0]),hu-=a0}}else Fr.push([Jn[El],Yl,ru]);Fr.push(["",hu,0])}else{if(bs!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(Fr=[],wl=Jn.length,ys=ys!==0?ys:L0,El=0;El<wl;El++)ru=El===0?eo(Cn):-e0,Yl=El===0?us(rn):0,El<wl-1?Ru.push(jr(Lr((ys-su[El])/(Jn[El].split(" ").length-1)))):Ru.push(0),Fr.push([Jn[El],Yl,ru])}}var s0=typeof Tn.R2L=="boolean"?Tn.R2L:wn;s0===!0&&(Fr=Qo(Fr,function(Zs,Js,Xs){return[Zs.split("").reverse().join(""),Js,Xs]})),qn={text:Fr,x:rn,y:Cn,options:Tn,mutex:{pdfEscape:Xl,activeFontKey:ps,fonts:Ln,activeFontSize:Dn}},xo.publish("postProcessText",qn),Fr=qn.text,yl=qn.mutex.isHex||!1;var Vu=Ln[ps].encoding;Vu!=="WinAnsiEncoding"&&Vu!=="StandardEncoding"||(Fr=Qo(Fr,function(Zs,Js,Xs){return[Po(Zs),Js,Xs]})),Jn=Fo(Fr),Fr=[];for(var Cu,Ou,$u,Nu=0,i0=1,Hu=Array.isArray(Jn[0])?i0:Nu,Tu="",xs=function(Zs,Js,Xs){var jo="";return Xs instanceof Qs?(Xs=typeof Tn.angle=="number"?Ml(Xs,new Qs(1,0,0,1,Zs,Js)):Ml(new Qs(1,0,0,1,Zs,Js),Xs),vr===gr.ADVANCED&&(Xs=Ml(new Qs(1,0,0,-1,0,0),Xs)),jo=Xs.join(" ")+` Tm
`):jo=jr(Zs)+" "+jr(Js)+` Td
`,jo},Gs=0;Gs<Jn.length;Gs++){switch(Tu="",Hu){case i0:$u=(yl?"<":"(")+Jn[Gs][0]+(yl?">":")"),Cu=parseFloat(Jn[Gs][1]),Ou=parseFloat(Jn[Gs][2]);break;case Nu:$u=(yl?"<":"(")+Jn[Gs]+(yl?">":")"),Cu=us(rn),Ou=eo(Cn)}Ru!==void 0&&Ru[Gs]!==void 0&&(Tu=Ru[Gs]+` Tw
`),Gs===0?Fr.push(Tu+xs(Cu,Ou,Ws)+$u):Hu===Nu?Fr.push(Tu+$u):Hu===i0&&Fr.push(Tu+xs(Cu,Ou,Ws)+$u)}Fr=Hu===Nu?Fr.join(` Tj
T* `):Fr.join(` Tj
`),Fr+=` Tj
`;var co=`BT
/`;return co+=ps+" "+Dn+` Tf
`,co+=jr(Dn*qs)+` TL
`,co+=Ks+`
`,co+=Ao,co+=Fr,Ir(co+="ET"),dr[ps]=!0,ho};var w0=fr.__private__.clip=fr.clip=function(Fr){return Ir(Fr==="evenodd"?"W*":"W"),this};fr.clipEvenOdd=function(){return w0("evenodd")},fr.__private__.discardPath=fr.discardPath=function(){return Ir("n"),this};var vu=fr.__private__.isValidStyle=function(Fr){var rn=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(Fr)!==-1&&(rn=!0),rn};fr.__private__.setDefaultPathOperation=fr.setDefaultPathOperation=function(Fr){return vu(Fr)&&(lr=Fr),this};var F0=fr.__private__.getStyle=fr.getStyle=function(Fr){var rn=lr;switch(Fr){case"D":case"S":rn="S";break;case"F":rn="f";break;case"FD":case"DF":rn="B";break;case"f":case"f*":case"B":case"B*":rn=Fr}return rn},D0=fr.close=function(){return Ir("h"),this};fr.stroke=function(){return Ir("S"),this},fr.fill=function(Fr){return Xr("f",Fr),this},fr.fillEvenOdd=function(Fr){return Xr("f*",Fr),this},fr.fillStroke=function(Fr){return Xr("B",Fr),this},fr.fillStrokeEvenOdd=function(Fr){return Xr("B*",Fr),this};var Xr=function(Fr,rn){_typeof(rn)==="object"?Pn(rn,Fr):Ir(Fr)},cn=function(Fr){Fr===null||vr===gr.ADVANCED&&Fr===void 0||(Fr=F0(Fr),Ir(Fr))};function Rn(Fr,rn,Cn,Tn,$n){var qn=new M$3(rn||this.boundingBox,Cn||this.xStep,Tn||this.yStep,this.gState,$n||this.matrix);qn.stream=this.stream;var Jn=Fr+"$$"+this.cloneIndex+++"$$";return Oo(Jn,qn),qn}var Pn=function(Fr,rn){var Cn=$s[Fr.key],Tn=Vs[Cn];if(Tn instanceof B$1)Ir("q"),Ir(On(rn)),Tn.gState&&fr.setGState(Tn.gState),Ir(Fr.matrix.toString()+" cm"),Ir("/"+Cn+" sh"),Ir("Q");else if(Tn instanceof M$3){var $n=new Qs(1,0,0,-1,0,Bl());Fr.matrix&&($n=$n.multiply(Fr.matrix||Al),Cn=Rn.call(Tn,Fr.key,Fr.boundingBox,Fr.xStep,Fr.yStep,$n).id),Ir("q"),Ir("/Pattern cs"),Ir("/"+Cn+" scn"),Tn.gState&&fr.setGState(Tn.gState),Ir(rn),Ir("Q")}},On=function(Fr){switch(Fr){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},In=fr.moveTo=function(Fr,rn){return Ir(jr(Lr(Fr))+" "+jr(Kr(rn))+" m"),this},Gn=fr.lineTo=function(Fr,rn){return Ir(jr(Lr(Fr))+" "+jr(Kr(rn))+" l"),this},Mn=fr.curveTo=function(Fr,rn,Cn,Tn,$n,qn){return Ir([jr(Lr(Fr)),jr(Kr(rn)),jr(Lr(Cn)),jr(Kr(Tn)),jr(Lr($n)),jr(Kr(qn)),"c"].join(" ")),this};fr.__private__.line=fr.line=function(Fr,rn,Cn,Tn,$n){if(isNaN(Fr)||isNaN(rn)||isNaN(Cn)||isNaN(Tn)||!vu($n))throw new Error("Invalid arguments passed to jsPDF.line");return vr===gr.COMPAT?this.lines([[Cn-Fr,Tn-rn]],Fr,rn,[1,1],$n||"S"):this.lines([[Cn-Fr,Tn-rn]],Fr,rn,[1,1]).stroke()},fr.__private__.lines=fr.lines=function(Fr,rn,Cn,Tn,$n,qn){var Jn,$a,bs,As,ys,ms,Is,Ws,ho,mo,Ao,yl;if(typeof Fr=="number"&&(yl=Cn,Cn=rn,rn=Fr,Fr=yl),Tn=Tn||[1,1],qn=qn||!1,isNaN(rn)||isNaN(Cn)||!Array.isArray(Fr)||!Array.isArray(Tn)||!vu($n)||typeof qn!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(In(rn,Cn),Jn=Tn[0],$a=Tn[1],As=Fr.length,mo=rn,Ao=Cn,bs=0;bs<As;bs++)(ys=Fr[bs]).length===2?(mo=ys[0]*Jn+mo,Ao=ys[1]*$a+Ao,Gn(mo,Ao)):(ms=ys[0]*Jn+mo,Is=ys[1]*$a+Ao,Ws=ys[2]*Jn+mo,ho=ys[3]*$a+Ao,mo=ys[4]*Jn+mo,Ao=ys[5]*$a+Ao,Mn(ms,Is,Ws,ho,mo,Ao));return qn&&D0(),cn($n),this},fr.path=function(Fr){for(var rn=0;rn<Fr.length;rn++){var Cn=Fr[rn],Tn=Cn.c;switch(Cn.op){case"m":In(Tn[0],Tn[1]);break;case"l":Gn(Tn[0],Tn[1]);break;case"c":Mn.apply(this,Tn);break;case"h":D0()}}return this},fr.__private__.rect=fr.rect=function(Fr,rn,Cn,Tn,$n){if(isNaN(Fr)||isNaN(rn)||isNaN(Cn)||isNaN(Tn)||!vu($n))throw new Error("Invalid arguments passed to jsPDF.rect");return vr===gr.COMPAT&&(Tn=-Tn),Ir([jr(Lr(Fr)),jr(Kr(rn)),jr(Lr(Cn)),jr(Lr(Tn)),"re"].join(" ")),cn($n),this},fr.__private__.triangle=fr.triangle=function(Fr,rn,Cn,Tn,$n,qn,Jn){if(isNaN(Fr)||isNaN(rn)||isNaN(Cn)||isNaN(Tn)||isNaN($n)||isNaN(qn)||!vu(Jn))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Cn-Fr,Tn-rn],[$n-Cn,qn-Tn],[Fr-$n,rn-qn]],Fr,rn,[1,1],Jn,!0),this},fr.__private__.roundedRect=fr.roundedRect=function(Fr,rn,Cn,Tn,$n,qn,Jn){if(isNaN(Fr)||isNaN(rn)||isNaN(Cn)||isNaN(Tn)||isNaN($n)||isNaN(qn)||!vu(Jn))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var $a=4/3*(Math.SQRT2-1);return $n=Math.min($n,.5*Cn),qn=Math.min(qn,.5*Tn),this.lines([[Cn-2*$n,0],[$n*$a,0,$n,qn-qn*$a,$n,qn],[0,Tn-2*qn],[0,qn*$a,-$n*$a,qn,-$n,qn],[2*$n-Cn,0],[-$n*$a,0,-$n,-qn*$a,-$n,-qn],[0,2*qn-Tn],[0,-qn*$a,$n*$a,-qn,$n,-qn]],Fr+$n,rn,[1,1],Jn,!0),this},fr.__private__.ellipse=fr.ellipse=function(Fr,rn,Cn,Tn,$n){if(isNaN(Fr)||isNaN(rn)||isNaN(Cn)||isNaN(Tn)||!vu($n))throw new Error("Invalid arguments passed to jsPDF.ellipse");var qn=4/3*(Math.SQRT2-1)*Cn,Jn=4/3*(Math.SQRT2-1)*Tn;return In(Fr+Cn,rn),Mn(Fr+Cn,rn-Jn,Fr+qn,rn-Tn,Fr,rn-Tn),Mn(Fr-qn,rn-Tn,Fr-Cn,rn-Jn,Fr-Cn,rn),Mn(Fr-Cn,rn+Jn,Fr-qn,rn+Tn,Fr,rn+Tn),Mn(Fr+qn,rn+Tn,Fr+Cn,rn+Jn,Fr+Cn,rn),cn($n),this},fr.__private__.circle=fr.circle=function(Fr,rn,Cn,Tn){if(isNaN(Fr)||isNaN(rn)||isNaN(Cn)||!vu(Tn))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(Fr,rn,Cn,Cn,Tn)},fr.setFont=function(Fr,rn,Cn){return Cn&&(rn=Er(rn,Cn)),ps=g0(Fr,rn,{disableWarning:!1}),this};var Fn=fr.__private__.getFont=fr.getFont=function(){return Ln[g0.apply(fr,arguments)]};fr.__private__.getFontList=fr.getFontList=function(){var Fr,rn,Cn={};for(Fr in cs)if(cs.hasOwnProperty(Fr))for(rn in Cn[Fr]=[],cs[Fr])cs[Fr].hasOwnProperty(rn)&&Cn[Fr].push(rn);return Cn},fr.addFont=function(Fr,rn,Cn,Tn,$n){var qn=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&qn.indexOf(arguments[3])!==-1?$n=arguments[3]:arguments[3]&&qn.indexOf(arguments[3])==-1&&(Cn=Er(Cn,Tn)),$n=$n||"Identity-H",m0.call(this,Fr,rn,Cn,$n)};var Wn,Hn=St.lineWidth||.200025,as=fr.__private__.getLineWidth=fr.getLineWidth=function(){return Hn},ss=fr.__private__.setLineWidth=fr.setLineWidth=function(Fr){return Hn=Fr,Ir(jr(Lr(Fr))+" w"),this};fr.__private__.setLineDash=E$2.API.setLineDash=E$2.API.setLineDashPattern=function(Fr,rn){if(Fr=Fr||[],rn=rn||0,isNaN(rn)||!Array.isArray(Fr))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return Fr=Fr.map(function(Cn){return jr(Lr(Cn))}).join(" "),rn=jr(Lr(rn)),Ir("["+Fr+"] "+rn+" d"),this};var ts=fr.__private__.getLineHeight=fr.getLineHeight=function(){return Dn*Wn};fr.__private__.getLineHeight=fr.getLineHeight=function(){return Dn*Wn};var ks=fr.__private__.setLineHeightFactor=fr.setLineHeightFactor=function(Fr){return typeof(Fr=Fr||1.15)=="number"&&(Wn=Fr),this},ws=fr.__private__.getLineHeightFactor=fr.getLineHeightFactor=function(){return Wn};ks(St.lineHeight);var us=fr.__private__.getHorizontalCoordinate=function(Fr){return Lr(Fr)},eo=fr.__private__.getVerticalCoordinate=function(Fr){return vr===gr.ADVANCED?Fr:oo[Rr].mediaBox.topRightY-oo[Rr].mediaBox.bottomLeftY-Lr(Fr)},Hs=fr.__private__.getHorizontalCoordinateString=fr.getHorizontalCoordinateString=function(Fr){return jr(us(Fr))},Ms=fr.__private__.getVerticalCoordinateString=fr.getVerticalCoordinateString=function(Fr){return jr(eo(Fr))},Us=St.strokeColor||"0 G";fr.__private__.getStrokeColor=fr.getDrawColor=function(){return kn(Us)},fr.__private__.setStrokeColor=fr.setDrawColor=function(Fr,rn,Cn,Tn){return Us=Nn({ch1:Fr,ch2:rn,ch3:Cn,ch4:Tn,pdfColorType:"draw",precision:2}),Ir(Us),this};var Ls=St.fillColor||"0 g";fr.__private__.getFillColor=fr.getFillColor=function(){return kn(Ls)},fr.__private__.setFillColor=fr.setFillColor=function(Fr,rn,Cn,Tn){return Ls=Nn({ch1:Fr,ch2:rn,ch3:Cn,ch4:Tn,pdfColorType:"fill",precision:2}),Ir(Ls),this};var Ks=St.textColor||"0 g",Ys=fr.__private__.getTextColor=fr.getTextColor=function(){return kn(Ks)};fr.__private__.setTextColor=fr.setTextColor=function(Fr,rn,Cn,Tn){return Ks=Nn({ch1:Fr,ch2:rn,ch3:Cn,ch4:Tn,pdfColorType:"text",precision:3}),this};var vo=St.charSpace,bo=fr.__private__.getCharSpace=fr.getCharSpace=function(){return parseFloat(vo||0)};fr.__private__.setCharSpace=fr.setCharSpace=function(Fr){if(isNaN(Fr))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return vo=Fr,this};var wo=0;fr.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},fr.__private__.setLineCap=fr.setLineCap=function(Fr){var rn=fr.CapJoinStyles[Fr];if(rn===void 0)throw new Error("Line cap style of '"+Fr+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return wo=rn,Ir(rn+" J"),this};var So=0;fr.__private__.setLineJoin=fr.setLineJoin=function(Fr){var rn=fr.CapJoinStyles[Fr];if(rn===void 0)throw new Error("Line join style of '"+Fr+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return So=rn,Ir(rn+" j"),this},fr.__private__.setLineMiterLimit=fr.__private__.setMiterLimit=fr.setLineMiterLimit=fr.setMiterLimit=function(Fr){if(Fr=Fr||0,isNaN(Fr))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Ir(jr(Lr(Fr))+" M"),this},fr.GState=j$2,fr.setGState=function(Fr){(Fr=typeof Fr=="string"?to[xl[Fr]]:ko(null,Fr)).equals(Pl)||(Ir("/"+Fr.id+" gs"),Pl=Fr)};var ko=function(Fr,rn){if(!Fr||!xl[Fr]){var Cn=!1;for(var Tn in to)if(to.hasOwnProperty(Tn)&&to[Tn].equals(rn)){Cn=!0;break}if(Cn)rn=to[Tn];else{var $n="GS"+(Object.keys(to).length+1).toString(10);to[$n]=rn,rn.id=$n}return Fr&&(xl[Fr]=rn.id),xo.publish("addGState",rn),rn}};fr.addGState=function(Fr,rn){return ko(Fr,rn),this},fr.saveGraphicsState=function(){return Ir("q"),Ts.push({key:ps,size:Dn,color:Ks}),this},fr.restoreGraphicsState=function(){Ir("Q");var Fr=Ts.pop();return ps=Fr.key,Dn=Fr.size,Ks=Fr.color,Pl=null,this},fr.setCurrentTransformationMatrix=function(Fr){return Ir(Fr.toString()+" cm"),this},fr.comment=function(Fr){return Ir("#"+Fr),this};var Vo=function(Fr,rn){var Cn=Fr||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Cn},set:function(qn){isNaN(qn)||(Cn=parseFloat(qn))}});var Tn=rn||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Tn},set:function(qn){isNaN(qn)||(Tn=parseFloat(qn))}});var $n="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return $n},set:function(qn){$n=qn.toString()}}),this},To=function(Fr,rn,Cn,Tn){Vo.call(this,Fr,rn),this.type="rect";var $n=Cn||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return $n},set:function(Jn){isNaN(Jn)||($n=parseFloat(Jn))}});var qn=Tn||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return qn},set:function(Jn){isNaN(Jn)||(qn=parseFloat(Jn))}}),this},Yo=function(){this.page=go,this.currentPage=Rr,this.pages=un.slice(0),this.pagesContext=oo.slice(0),this.x=zs,this.y=Bn,this.matrix=_n,this.width=Io(Rr),this.height=Bl(Rr),this.outputDestination=Ur,this.id="",this.objectNumber=-1};Yo.prototype.restore=function(){go=this.page,Rr=this.currentPage,oo=this.pagesContext,un=this.pages,zs=this.x,Bn=this.y,_n=this.matrix,Sl(Rr,this.width),Kl(Rr,this.height),Ur=this.outputDestination};var Ho=function(Fr,rn,Cn,Tn,$n){Il.push(new Yo),go=Rr=0,un=[],zs=Fr,Bn=rn,_n=$n,Yu([Cn,Tn])},Jo=function(Fr){if($l[Fr])Il.pop().restore();else{var rn=new Yo,Cn="Xo"+(Object.keys(Eo).length+1).toString(10);rn.id=Cn,$l[Fr]=Cn,Eo[Cn]=rn,xo.publish("addFormObject",rn),Il.pop().restore()}};for(var Uo in fr.beginFormObject=function(Fr,rn,Cn,Tn,$n){return Ho(Fr,rn,Cn,Tn,$n),this},fr.endFormObject=function(Fr){return Jo(Fr),this},fr.doFormObject=function(Fr,rn){var Cn=Eo[$l[Fr]];return Ir("q"),Ir(rn.toString()+" cm"),Ir("/"+Cn.id+" Do"),Ir("Q"),this},fr.getFormObject=function(Fr){var rn=Eo[$l[Fr]];return{x:rn.x,y:rn.y,width:rn.width,height:rn.height,matrix:rn.matrix}},fr.save=function(Fr,rn){return Fr=Fr||"generated.pdf",(rn=rn||{}).returnPromise=rn.returnPromise||!1,rn.returnPromise===!1?(l$4(Zu(eu()),Fr),typeof l$4.unload=="function"&&n$7.setTimeout&&setTimeout(l$4.unload,911),this):new Promise(function(Cn,Tn){try{var $n=l$4(Zu(eu()),Fr);typeof l$4.unload=="function"&&n$7.setTimeout&&setTimeout(l$4.unload,911),Cn($n)}catch(qn){Tn(qn.message)}})},E$2.API)E$2.API.hasOwnProperty(Uo)&&(Uo==="events"&&E$2.API.events.length?function(Fr,rn){var Cn,Tn,$n;for($n=rn.length-1;$n!==-1;$n--)Cn=rn[$n][0],Tn=rn[$n][1],Fr.subscribe.apply(Fr,[Cn].concat(typeof Tn=="function"?[Tn]:Tn))}(xo,E$2.API.events):fr[Uo]=E$2.API[Uo]);var Io=fr.getPageWidth=function(Fr){return(oo[Fr=Fr||Rr].mediaBox.topRightX-oo[Fr].mediaBox.bottomLeftX)/os},Sl=fr.setPageWidth=function(Fr,rn){oo[Fr].mediaBox.topRightX=rn*os+oo[Fr].mediaBox.bottomLeftX},Bl=fr.getPageHeight=function(Fr){return(oo[Fr=Fr||Rr].mediaBox.topRightY-oo[Fr].mediaBox.bottomLeftY)/os},Kl=fr.setPageHeight=function(Fr,rn){oo[Fr].mediaBox.topRightY=rn*os+oo[Fr].mediaBox.bottomLeftY};return fr.internal={pdfEscape:Xl,getStyle:F0,getFont:Fn,getFontSize:Sn,getCharSpace:bo,getTextColor:Ys,getLineHeight:ts,getLineHeightFactor:ws,getLineWidth:as,write:on,getHorizontalCoordinate:us,getVerticalCoordinate:eo,getCoordinateString:Hs,getVerticalCoordinateString:Ms,collections:{},newObject:zo,newAdditionalObject:An,newObjectDeferred:Xo,newObjectDeferredBegin:fn,getFilters:Qn,putStream:es,events:xo,scaleFactor:os,pageSize:{getWidth:function(){return Io(Rr)},setWidth:function(Fr){Sl(Rr,Fr)},getHeight:function(){return Bl(Rr)},setHeight:function(Fr){Kl(Rr,Fr)}},encryptionOptions:cr,encryption:Fl,getEncryptor:b0,output:Bu,getNumberOfPages:V0,pages:un,out:Ir,f2:Or,f3:Pr,getPageInfo:T0,getPageInfoByObjId:po,getCurrentPageInfo:P0,getPDFVersion:xr,Point:Vo,Rectangle:To,Matrix:Qs,hasHotfix:N0},Object.defineProperty(fr.internal.pageSize,"width",{get:function(){return Io(Rr)},set:function(Fr){Sl(Rr,Fr)},enumerable:!0,configurable:!0}),Object.defineProperty(fr.internal.pageSize,"height",{get:function(){return Bl(Rr)},set:function(Fr){Kl(Rr,Fr)},enumerable:!0,configurable:!0}),x0.call(fr,yn),ps="F1",A0(nr,tr),xo.publish("initialized"),fr}I$4.prototype.lsbFirstWord=function(St){return String.fromCharCode(St>>0&255,St>>8&255,St>>16&255,St>>24&255)},I$4.prototype.toHexString=function(St){return St.split("").map(function(er){return("0"+(255&er.charCodeAt(0)).toString(16)).slice(-2)}).join("")},I$4.prototype.hexToBytes=function(St){for(var er=[],tr=0;tr<St.length;tr+=2)er.push(String.fromCharCode(parseInt(St.substr(tr,2),16)));return er.join("")},I$4.prototype.processOwnerPassword=function(St,er){return P$3(x$3(er).substr(0,5),St)},I$4.prototype.encryptor=function(St,er){var tr=x$3(this.encryptionKey+String.fromCharCode(255&St,St>>8&255,St>>16&255,255&er,er>>8&255)).substr(0,10);return function(rr){return P$3(tr,rr)}},j$2.prototype.equals=function(St){var er,tr="id,objectNumber,equals";if(!St||_typeof(St)!==_typeof(this))return!1;var rr=0;for(er in this)if(!(tr.indexOf(er)>=0)){if(this.hasOwnProperty(er)&&!St.hasOwnProperty(er)||this[er]!==St[er])return!1;rr++}for(er in St)St.hasOwnProperty(er)&&tr.indexOf(er)<0&&rr--;return rr===0},E$2.API={events:[]},E$2.version="3.0.1";var q$1=E$2.API,D$2=1,R$1=function(St){return St.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},T$3=function(St){return St.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},U$2=function(St){return St.toFixed(2)},z$1=function(St){return St.toFixed(5)};q$1.__acroform__={};var H$5=function(St,er){St.prototype=Object.create(er.prototype),St.prototype.constructor=St},W=function(St){return St*D$2},V=function(St){var er=new ut,tr=At.internal.getHeight(St)||0,rr=At.internal.getWidth(St)||0;return er.BBox=[0,0,Number(U$2(rr)),Number(U$2(tr))],er},G$1=q$1.__acroform__.setBit=function(St,er){if(St=St||0,er=er||0,isNaN(St)||isNaN(er))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return St|=1<<er},Y=q$1.__acroform__.clearBit=function(St,er){if(St=St||0,er=er||0,isNaN(St)||isNaN(er))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return St&=~(1<<er)},J$1=q$1.__acroform__.getBit=function(St,er){if(isNaN(St)||isNaN(er))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return St&1<<er?1:0},X$2=q$1.__acroform__.getBitForPdf=function(St,er){if(isNaN(St)||isNaN(er))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return J$1(St,er-1)},K$1=q$1.__acroform__.setBitForPdf=function(St,er){if(isNaN(St)||isNaN(er))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return G$1(St,er-1)},Z=q$1.__acroform__.clearBitForPdf=function(St,er){if(isNaN(St)||isNaN(er))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Y(St,er-1)},$$3=q$1.__acroform__.calculateCoordinates=function(St,er){var tr=er.internal.getHorizontalCoordinate,rr=er.internal.getVerticalCoordinate,nr=St[0],ar=St[1],sr=St[2],ir=St[3],or={};return or.lowerLeft_X=tr(nr)||0,or.lowerLeft_Y=rr(ar+ir)||0,or.upperRight_X=tr(nr+sr)||0,or.upperRight_Y=rr(ar)||0,[Number(U$2(or.lowerLeft_X)),Number(U$2(or.lowerLeft_Y)),Number(U$2(or.upperRight_X)),Number(U$2(or.upperRight_Y))]},Q=function(St){if(St.appearanceStreamContent)return St.appearanceStreamContent;if(St.V||St.DV){var er=[],tr=St._V||St.DV,rr=tt(St,tr),nr=St.scope.internal.getFont(St.fontName,St.fontStyle).id;er.push("/Tx BMC"),er.push("q"),er.push("BT"),er.push(St.scope.__private__.encodeColorString(St.color)),er.push("/"+nr+" "+U$2(rr.fontSize)+" Tf"),er.push("1 0 0 1 0 0 Tm"),er.push(rr.text),er.push("ET"),er.push("Q"),er.push("EMC");var ar=V(St);return ar.scope=St.scope,ar.stream=er.join(`
`),ar}},tt=function(St,er){var tr=St.fontSize===0?St.maxFontSize:St.fontSize,rr={text:"",fontSize:""},nr=(er=(er=er.substr(0,1)=="("?er.substr(1):er).substr(er.length-1)==")"?er.substr(0,er.length-1):er).split(" ");nr=St.multiline?nr.map(function(Pr){return Pr.split(`
`)}):nr.map(function(Pr){return[Pr]});var ar=tr,sr=At.internal.getHeight(St)||0;sr=sr<0?-sr:sr;var ir=At.internal.getWidth(St)||0;ir=ir<0?-ir:ir;var or=function(Pr,Lr,Gr){if(Pr+1<nr.length){var Kr=Lr+" "+nr[Pr+1][0];return et(Kr,St,Gr).width<=ir-4}return!1};ar++;e:for(;ar>0;){er="",ar--;var lr,cr,ur=et("3",St,ar).height,dr=St.multiline?sr-ar:(sr-ur)/2,fr=dr+=2,mr=0,xr=0,pr=0;if(ar<=0){er=`(...) Tj
`,er+="% Width of Text: "+et(er,St,ar=12).width+", FieldWidth:"+ir+`
`;break}for(var hr="",gr=0,vr=0;vr<nr.length;vr++)if(nr.hasOwnProperty(vr)){var br=!1;if(nr[vr].length!==1&&pr!==nr[vr].length-1){if((ur+2)*(gr+2)+2>sr)continue e;hr+=nr[vr][pr],br=!0,xr=vr,vr--}else{hr=(hr+=nr[vr][pr]+" ").substr(hr.length-1)==" "?hr.substr(0,hr.length-1):hr;var yr=parseInt(vr),Er=or(yr,hr,ar),jr=vr>=nr.length-1;if(Er&&!jr){hr+=" ",pr=0;continue}if(Er||jr){if(jr)xr=yr;else if(St.multiline&&(ur+2)*(gr+2)+2>sr)continue e}else{if(!St.multiline||(ur+2)*(gr+2)+2>sr)continue e;xr=yr}}for(var _r="",Cr=mr;Cr<=xr;Cr++){var Or=nr[Cr];if(St.multiline){if(Cr===xr){_r+=Or[pr]+" ",pr=(pr+1)%Or.length;continue}if(Cr===mr){_r+=Or[Or.length-1]+" ";continue}}_r+=Or[0]+" "}switch(_r=_r.substr(_r.length-1)==" "?_r.substr(0,_r.length-1):_r,cr=et(_r,St,ar).width,St.textAlign){case"right":lr=ir-cr-2;break;case"center":lr=(ir-cr)/2;break;case"left":default:lr=2}er+=U$2(lr)+" "+U$2(fr)+` Td
`,er+="("+R$1(_r)+`) Tj
`,er+=-U$2(lr)+` 0 Td
`,fr=-(ar+2),cr=0,mr=br?xr:xr+1,gr++,hr=""}break}return rr.text=er,rr.fontSize=ar,rr},et=function(St,er,tr){var rr=er.scope.internal.getFont(er.fontName,er.fontStyle),nr=er.scope.getStringUnitWidth(St,{font:rr,fontSize:parseFloat(tr),charSpace:0})*parseFloat(tr);return{height:er.scope.getStringUnitWidth("3",{font:rr,fontSize:parseFloat(tr),charSpace:0})*parseFloat(tr)*1.5,width:nr}},rt={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},nt=function(St,er){var tr={type:"reference",object:St};er.internal.getPageInfo(St.page).pageContext.annotations.find(function(rr){return rr.type===tr.type&&rr.object===tr.object})===void 0&&er.internal.getPageInfo(St.page).pageContext.annotations.push(tr)},it=function(St,er){for(var tr in St)if(St.hasOwnProperty(tr)){var rr=tr,nr=St[tr];er.internal.newObjectDeferredBegin(nr.objId,!0),_typeof(nr)==="object"&&typeof nr.putStream=="function"&&nr.putStream(),delete St[rr]}},at=function(St,er){if(er.scope=St,St.internal!==void 0&&(St.internal.acroformPlugin===void 0||St.internal.acroformPlugin.isInitialized===!1)){if(lt.FieldNum=0,St.internal.acroformPlugin=JSON.parse(JSON.stringify(rt)),St.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");D$2=St.internal.scaleFactor,St.internal.acroformPlugin.acroFormDictionaryRoot=new ht,St.internal.acroformPlugin.acroFormDictionaryRoot.scope=St,St.internal.acroformPlugin.acroFormDictionaryRoot._eventID=St.internal.events.subscribe("postPutResources",function(){(function(tr){tr.internal.events.unsubscribe(tr.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete tr.internal.acroformPlugin.acroFormDictionaryRoot._eventID,tr.internal.acroformPlugin.printedOut=!0})(St)}),St.internal.events.subscribe("buildDocument",function(){(function(tr){tr.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var rr=tr.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var nr in rr)if(rr.hasOwnProperty(nr)){var ar=rr[nr];ar.objId=void 0,ar.hasAnnotation&&nt(ar,tr)}})(St)}),St.internal.events.subscribe("putCatalog",function(){(function(tr){if(tr.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");tr.internal.write("/AcroForm "+tr.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(St)}),St.internal.events.subscribe("postPutPages",function(tr){(function(rr,nr){var ar=!rr;for(var sr in rr||(nr.internal.newObjectDeferredBegin(nr.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),nr.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),rr=rr||nr.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(rr.hasOwnProperty(sr)){var ir=rr[sr],or=[],lr=ir.Rect;if(ir.Rect&&(ir.Rect=$$3(ir.Rect,nr)),nr.internal.newObjectDeferredBegin(ir.objId,!0),ir.DA=At.createDefaultAppearanceStream(ir),_typeof(ir)==="object"&&typeof ir.getKeyValueListForStream=="function"&&(or=ir.getKeyValueListForStream()),ir.Rect=lr,ir.hasAppearanceStream&&!ir.appearanceStreamContent){var cr=Q(ir);or.push({key:"AP",value:"<</N "+cr+">>"}),nr.internal.acroformPlugin.xForms.push(cr)}if(ir.appearanceStreamContent){var ur="";for(var dr in ir.appearanceStreamContent)if(ir.appearanceStreamContent.hasOwnProperty(dr)){var fr=ir.appearanceStreamContent[dr];if(ur+="/"+dr+" ",ur+="<<",Object.keys(fr).length>=1||Array.isArray(fr)){for(var sr in fr)if(fr.hasOwnProperty(sr)){var mr=fr[sr];typeof mr=="function"&&(mr=mr.call(nr,ir)),ur+="/"+sr+" "+mr+" ",nr.internal.acroformPlugin.xForms.indexOf(mr)>=0||nr.internal.acroformPlugin.xForms.push(mr)}}else typeof(mr=fr)=="function"&&(mr=mr.call(nr,ir)),ur+="/"+sr+" "+mr,nr.internal.acroformPlugin.xForms.indexOf(mr)>=0||nr.internal.acroformPlugin.xForms.push(mr);ur+=">>"}or.push({key:"AP",value:`<<
`+ur+">>"})}nr.internal.putStream({additionalKeyValues:or,objectId:ir.objId}),nr.internal.out("endobj")}ar&&it(nr.internal.acroformPlugin.xForms,nr)})(tr,St)}),St.internal.acroformPlugin.isInitialized=!0}},ot=q$1.__acroform__.arrayToPdfArray=function(St,er,tr){var rr=function(sr){return sr};if(Array.isArray(St)){for(var nr="[",ar=0;ar<St.length;ar++)switch(ar!==0&&(nr+=" "),_typeof(St[ar])){case"boolean":case"number":case"object":nr+=St[ar].toString();break;case"string":St[ar].substr(0,1)!=="/"?(er!==void 0&&tr&&(rr=tr.internal.getEncryptor(er)),nr+="("+R$1(rr(St[ar].toString()))+")"):nr+=St[ar].toString()}return nr+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},st=function(St,er,tr){var rr=function(nr){return nr};return er!==void 0&&tr&&(rr=tr.internal.getEncryptor(er)),(St=St||"").toString(),St="("+R$1(rr(St))+")"},ct=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(St){this._objId=St}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ct.prototype.toString=function(){return this.objId+" 0 R"},ct.prototype.putStream=function(){var St=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:St,objectId:this.objId}),this.scope.internal.out("endobj")},ct.prototype.getKeyValueListForStream=function(){var St=[],er=Object.getOwnPropertyNames(this).filter(function(ar){return ar!="content"&&ar!="appearanceStreamContent"&&ar!="scope"&&ar!="objId"&&ar.substring(0,1)!="_"});for(var tr in er)if(Object.getOwnPropertyDescriptor(this,er[tr]).configurable===!1){var rr=er[tr],nr=this[rr];nr&&(Array.isArray(nr)?St.push({key:rr,value:ot(nr,this.objId,this.scope)}):nr instanceof ct?(nr.scope=this.scope,St.push({key:rr,value:nr.objId+" 0 R"})):typeof nr!="function"&&St.push({key:rr,value:nr}))}return St};var ut=function(){ct.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var St,er=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return er},set:function(tr){er=tr}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(tr){St=tr.trim()},get:function(){return St||null}})};H$5(ut,ct);var ht=function(){ct.call(this);var St,er=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return er.length>0?er:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return er}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(St){var tr=function(rr){return rr};return this.scope&&(tr=this.scope.internal.getEncryptor(this.objId)),"("+R$1(tr(St))+")"}},set:function(tr){St=tr}})};H$5(ht,ct);var lt=function St(){ct.call(this);var er=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return er},set:function(hr){if(isNaN(hr))throw new Error('Invalid value "'+hr+'" for attribute F supplied.');er=hr}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!X$2(er,3)},set:function(hr){hr?this.F=K$1(er,3):this.F=Z(er,3)}});var tr=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return tr},set:function(hr){if(isNaN(hr))throw new Error('Invalid value "'+hr+'" for attribute Ff supplied.');tr=hr}});var rr=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(rr.length!==0)return rr},set:function(hr){rr=hr!==void 0?hr:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!rr||isNaN(rr[0])?0:rr[0]},set:function(hr){rr[0]=hr}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!rr||isNaN(rr[1])?0:rr[1]},set:function(hr){rr[1]=hr}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!rr||isNaN(rr[2])?0:rr[2]},set:function(hr){rr[2]=hr}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!rr||isNaN(rr[3])?0:rr[3]},set:function(hr){rr[3]=hr}});var nr="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return nr},set:function(hr){switch(hr){case"/Btn":case"/Tx":case"/Ch":case"/Sig":nr=hr;break;default:throw new Error('Invalid value "'+hr+'" for attribute FT supplied.')}}});var ar=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!ar||ar.length<1){if(this instanceof yt)return;ar="FieldObject"+St.FieldNum++}var hr=function(gr){return gr};return this.scope&&(hr=this.scope.internal.getEncryptor(this.objId)),"("+R$1(hr(ar))+")"},set:function(hr){ar=hr.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return ar},set:function(hr){ar=hr}});var sr="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return sr},set:function(hr){sr=hr}});var ir="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return ir},set:function(hr){ir=hr}});var or=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return or},set:function(hr){or=hr}});var lr=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return lr===void 0?50/D$2:lr},set:function(hr){lr=hr}});var cr="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return cr},set:function(hr){cr=hr}});var ur="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!ur||this instanceof yt||this instanceof Nt))return st(ur,this.objId,this.scope)},set:function(hr){hr=hr.toString(),ur=hr}});var dr=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(dr)return this instanceof mt?dr:st(dr,this.objId,this.scope)},set:function(hr){hr=hr.toString(),dr=this instanceof mt?hr:hr.substr(0,1)==="("?T$3(hr.substr(1,hr.length-2)):T$3(hr)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt?T$3(dr.substr(1,dr.length-1)):dr},set:function(hr){hr=hr.toString(),dr=this instanceof mt?"/"+hr:hr}});var fr=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(fr)return fr},set:function(hr){this.V=hr}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(fr)return this instanceof mt?fr:st(fr,this.objId,this.scope)},set:function(hr){hr=hr.toString(),fr=this instanceof mt?hr:hr.substr(0,1)==="("?T$3(hr.substr(1,hr.length-2)):T$3(hr)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt?T$3(fr.substr(1,fr.length-1)):fr},set:function(hr){hr=hr.toString(),fr=this instanceof mt?"/"+hr:hr}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var mr,xr=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return xr},set:function(hr){hr=!!hr,xr=hr}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(mr)return mr},set:function(hr){mr=hr}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!X$2(this.Ff,1)},set:function(hr){hr?this.Ff=K$1(this.Ff,1):this.Ff=Z(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!X$2(this.Ff,2)},set:function(hr){hr?this.Ff=K$1(this.Ff,2):this.Ff=Z(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!X$2(this.Ff,3)},set:function(hr){hr?this.Ff=K$1(this.Ff,3):this.Ff=Z(this.Ff,3)}});var pr=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(pr!==null)return pr},set:function(hr){if([0,1,2].indexOf(hr)===-1)throw new Error('Invalid value "'+hr+'" for attribute Q supplied.');pr=hr}}),Object.defineProperty(this,"textAlign",{get:function(){var hr;switch(pr){case 0:default:hr="left";break;case 1:hr="center";break;case 2:hr="right"}return hr},configurable:!0,enumerable:!0,set:function(hr){switch(hr){case"right":case 2:pr=2;break;case"center":case 1:pr=1;break;case"left":case 0:default:pr=0}}})};H$5(lt,ct);var ft=function(){lt.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var St=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return St},set:function(tr){St=tr}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return St},set:function(tr){St=tr}});var er=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return ot(er,this.objId,this.scope)},set:function(tr){var rr,nr;nr=[],typeof(rr=tr)=="string"&&(nr=function(ar,sr,ir){ir||(ir=1);for(var or,lr=[];or=sr.exec(ar);)lr.push(or[ir]);return lr}(rr,/\((.*?)\)/g)),er=nr}}),this.getOptions=function(){return er},this.setOptions=function(tr){er=tr,this.sort&&er.sort()},this.addOption=function(tr){tr=(tr=tr||"").toString(),er.push(tr),this.sort&&er.sort()},this.removeOption=function(tr,rr){for(rr=rr||!1,tr=(tr=tr||"").toString();er.indexOf(tr)!==-1&&(er.splice(er.indexOf(tr),1),rr!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!X$2(this.Ff,18)},set:function(tr){tr?this.Ff=K$1(this.Ff,18):this.Ff=Z(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!X$2(this.Ff,19)},set:function(tr){this.combo===!0&&(tr?this.Ff=K$1(this.Ff,19):this.Ff=Z(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!X$2(this.Ff,20)},set:function(tr){tr?(this.Ff=K$1(this.Ff,20),er.sort()):this.Ff=Z(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!X$2(this.Ff,22)},set:function(tr){tr?this.Ff=K$1(this.Ff,22):this.Ff=Z(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!X$2(this.Ff,23)},set:function(tr){tr?this.Ff=K$1(this.Ff,23):this.Ff=Z(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!X$2(this.Ff,27)},set:function(tr){tr?this.Ff=K$1(this.Ff,27):this.Ff=Z(this.Ff,27)}}),this.hasAppearanceStream=!1};H$5(ft,lt);var dt=function(){ft.call(this),this.fontName="helvetica",this.combo=!1};H$5(dt,ft);var pt=function(){dt.call(this),this.combo=!0};H$5(pt,dt);var gt=function(){pt.call(this),this.edit=!0};H$5(gt,pt);var mt=function(){lt.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!X$2(this.Ff,15)},set:function(tr){tr?this.Ff=K$1(this.Ff,15):this.Ff=Z(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!X$2(this.Ff,16)},set:function(tr){tr?this.Ff=K$1(this.Ff,16):this.Ff=Z(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!X$2(this.Ff,17)},set:function(tr){tr?this.Ff=K$1(this.Ff,17):this.Ff=Z(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!X$2(this.Ff,26)},set:function(tr){tr?this.Ff=K$1(this.Ff,26):this.Ff=Z(this.Ff,26)}});var St,er={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var tr=function(ar){return ar};if(this.scope&&(tr=this.scope.internal.getEncryptor(this.objId)),Object.keys(er).length!==0){var rr,nr=[];for(rr in nr.push("<<"),er)nr.push("/"+rr+" ("+R$1(tr(er[rr]))+")");return nr.push(">>"),nr.join(`
`)}},set:function(tr){_typeof(tr)==="object"&&(er=tr)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return er.CA||""},set:function(tr){typeof tr=="string"&&(er.CA=tr)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return St},set:function(tr){St=tr}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return St.substr(1,St.length-1)},set:function(tr){St="/"+tr}})};H$5(mt,lt);var vt=function(){mt.call(this),this.pushButton=!0};H$5(vt,mt);var bt=function(){mt.call(this),this.radio=!0,this.pushButton=!1;var St=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return St},set:function(er){St=er!==void 0?er:[]}})};H$5(bt,mt);var yt=function(){var St,er;lt.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return St},set:function(nr){St=nr}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return er},set:function(nr){er=nr}});var tr,rr={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var nr=function(ir){return ir};this.scope&&(nr=this.scope.internal.getEncryptor(this.objId));var ar,sr=[];for(ar in sr.push("<<"),rr)sr.push("/"+ar+" ("+R$1(nr(rr[ar]))+")");return sr.push(">>"),sr.join(`
`)},set:function(nr){_typeof(nr)==="object"&&(rr=nr)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return rr.CA||""},set:function(nr){typeof nr=="string"&&(rr.CA=nr)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return tr},set:function(nr){tr=nr}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return tr.substr(1,tr.length-1)},set:function(nr){tr="/"+nr}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=At.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};H$5(yt,lt),bt.prototype.setAppearance=function(St){if(!("createAppearanceStream"in St)||!("getCA"in St))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var er in this.Kids)if(this.Kids.hasOwnProperty(er)){var tr=this.Kids[er];tr.appearanceStreamContent=St.createAppearanceStream(tr.optionName),tr.caption=St.getCA()}},bt.prototype.createOption=function(St){var er=new yt;return er.Parent=this,er.optionName=St,this.Kids.push(er),xt.call(this.scope,er),er};var wt=function(){mt.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=At.CheckBox.createAppearanceStream()};H$5(wt,mt);var Nt=function(){lt.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!X$2(this.Ff,13)},set:function(er){er?this.Ff=K$1(this.Ff,13):this.Ff=Z(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!X$2(this.Ff,21)},set:function(er){er?this.Ff=K$1(this.Ff,21):this.Ff=Z(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!X$2(this.Ff,23)},set:function(er){er?this.Ff=K$1(this.Ff,23):this.Ff=Z(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!X$2(this.Ff,24)},set:function(er){er?this.Ff=K$1(this.Ff,24):this.Ff=Z(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!X$2(this.Ff,25)},set:function(er){er?this.Ff=K$1(this.Ff,25):this.Ff=Z(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!X$2(this.Ff,26)},set:function(er){er?this.Ff=K$1(this.Ff,26):this.Ff=Z(this.Ff,26)}});var St=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return St},set:function(er){St=er}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return St},set:function(er){Number.isInteger(er)&&(St=er)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};H$5(Nt,lt);var Lt$1=function(){Nt.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!X$2(this.Ff,14)},set:function(St){St?this.Ff=K$1(this.Ff,14):this.Ff=Z(this.Ff,14)}}),this.password=!0};H$5(Lt$1,Nt);var At={CheckBox:{createAppearanceStream:function(){return{N:{On:At.CheckBox.YesNormal},D:{On:At.CheckBox.YesPushDown,Off:At.CheckBox.OffPushDown}}},YesPushDown:function(St){var er=V(St);er.scope=St.scope;var tr=[],rr=St.scope.internal.getFont(St.fontName,St.fontStyle).id,nr=St.scope.__private__.encodeColorString(St.color),ar=tt(St,St.caption);return tr.push("0.749023 g"),tr.push("0 0 "+U$2(At.internal.getWidth(St))+" "+U$2(At.internal.getHeight(St))+" re"),tr.push("f"),tr.push("BMC"),tr.push("q"),tr.push("0 0 1 rg"),tr.push("/"+rr+" "+U$2(ar.fontSize)+" Tf "+nr),tr.push("BT"),tr.push(ar.text),tr.push("ET"),tr.push("Q"),tr.push("EMC"),er.stream=tr.join(`
`),er},YesNormal:function(St){var er=V(St);er.scope=St.scope;var tr=St.scope.internal.getFont(St.fontName,St.fontStyle).id,rr=St.scope.__private__.encodeColorString(St.color),nr=[],ar=At.internal.getHeight(St),sr=At.internal.getWidth(St),ir=tt(St,St.caption);return nr.push("1 g"),nr.push("0 0 "+U$2(sr)+" "+U$2(ar)+" re"),nr.push("f"),nr.push("q"),nr.push("0 0 1 rg"),nr.push("0 0 "+U$2(sr-1)+" "+U$2(ar-1)+" re"),nr.push("W"),nr.push("n"),nr.push("0 g"),nr.push("BT"),nr.push("/"+tr+" "+U$2(ir.fontSize)+" Tf "+rr),nr.push(ir.text),nr.push("ET"),nr.push("Q"),er.stream=nr.join(`
`),er},OffPushDown:function(St){var er=V(St);er.scope=St.scope;var tr=[];return tr.push("0.749023 g"),tr.push("0 0 "+U$2(At.internal.getWidth(St))+" "+U$2(At.internal.getHeight(St))+" re"),tr.push("f"),er.stream=tr.join(`
`),er}},RadioButton:{Circle:{createAppearanceStream:function(St){var er={D:{Off:At.RadioButton.Circle.OffPushDown},N:{}};return er.N[St]=At.RadioButton.Circle.YesNormal,er.D[St]=At.RadioButton.Circle.YesPushDown,er},getCA:function(){return"l"},YesNormal:function(St){var er=V(St);er.scope=St.scope;var tr=[],rr=At.internal.getWidth(St)<=At.internal.getHeight(St)?At.internal.getWidth(St)/4:At.internal.getHeight(St)/4;rr=Number((.9*rr).toFixed(5));var nr=At.internal.Bezier_C,ar=Number((rr*nr).toFixed(5));return tr.push("q"),tr.push("1 0 0 1 "+z$1(At.internal.getWidth(St)/2)+" "+z$1(At.internal.getHeight(St)/2)+" cm"),tr.push(rr+" 0 m"),tr.push(rr+" "+ar+" "+ar+" "+rr+" 0 "+rr+" c"),tr.push("-"+ar+" "+rr+" -"+rr+" "+ar+" -"+rr+" 0 c"),tr.push("-"+rr+" -"+ar+" -"+ar+" -"+rr+" 0 -"+rr+" c"),tr.push(ar+" -"+rr+" "+rr+" -"+ar+" "+rr+" 0 c"),tr.push("f"),tr.push("Q"),er.stream=tr.join(`
`),er},YesPushDown:function(St){var er=V(St);er.scope=St.scope;var tr=[],rr=At.internal.getWidth(St)<=At.internal.getHeight(St)?At.internal.getWidth(St)/4:At.internal.getHeight(St)/4;rr=Number((.9*rr).toFixed(5));var nr=Number((2*rr).toFixed(5)),ar=Number((nr*At.internal.Bezier_C).toFixed(5)),sr=Number((rr*At.internal.Bezier_C).toFixed(5));return tr.push("0.749023 g"),tr.push("q"),tr.push("1 0 0 1 "+z$1(At.internal.getWidth(St)/2)+" "+z$1(At.internal.getHeight(St)/2)+" cm"),tr.push(nr+" 0 m"),tr.push(nr+" "+ar+" "+ar+" "+nr+" 0 "+nr+" c"),tr.push("-"+ar+" "+nr+" -"+nr+" "+ar+" -"+nr+" 0 c"),tr.push("-"+nr+" -"+ar+" -"+ar+" -"+nr+" 0 -"+nr+" c"),tr.push(ar+" -"+nr+" "+nr+" -"+ar+" "+nr+" 0 c"),tr.push("f"),tr.push("Q"),tr.push("0 g"),tr.push("q"),tr.push("1 0 0 1 "+z$1(At.internal.getWidth(St)/2)+" "+z$1(At.internal.getHeight(St)/2)+" cm"),tr.push(rr+" 0 m"),tr.push(rr+" "+sr+" "+sr+" "+rr+" 0 "+rr+" c"),tr.push("-"+sr+" "+rr+" -"+rr+" "+sr+" -"+rr+" 0 c"),tr.push("-"+rr+" -"+sr+" -"+sr+" -"+rr+" 0 -"+rr+" c"),tr.push(sr+" -"+rr+" "+rr+" -"+sr+" "+rr+" 0 c"),tr.push("f"),tr.push("Q"),er.stream=tr.join(`
`),er},OffPushDown:function(St){var er=V(St);er.scope=St.scope;var tr=[],rr=At.internal.getWidth(St)<=At.internal.getHeight(St)?At.internal.getWidth(St)/4:At.internal.getHeight(St)/4;rr=Number((.9*rr).toFixed(5));var nr=Number((2*rr).toFixed(5)),ar=Number((nr*At.internal.Bezier_C).toFixed(5));return tr.push("0.749023 g"),tr.push("q"),tr.push("1 0 0 1 "+z$1(At.internal.getWidth(St)/2)+" "+z$1(At.internal.getHeight(St)/2)+" cm"),tr.push(nr+" 0 m"),tr.push(nr+" "+ar+" "+ar+" "+nr+" 0 "+nr+" c"),tr.push("-"+ar+" "+nr+" -"+nr+" "+ar+" -"+nr+" 0 c"),tr.push("-"+nr+" -"+ar+" -"+ar+" -"+nr+" 0 -"+nr+" c"),tr.push(ar+" -"+nr+" "+nr+" -"+ar+" "+nr+" 0 c"),tr.push("f"),tr.push("Q"),er.stream=tr.join(`
`),er}},Cross:{createAppearanceStream:function(St){var er={D:{Off:At.RadioButton.Cross.OffPushDown},N:{}};return er.N[St]=At.RadioButton.Cross.YesNormal,er.D[St]=At.RadioButton.Cross.YesPushDown,er},getCA:function(){return"8"},YesNormal:function(St){var er=V(St);er.scope=St.scope;var tr=[],rr=At.internal.calculateCross(St);return tr.push("q"),tr.push("1 1 "+U$2(At.internal.getWidth(St)-2)+" "+U$2(At.internal.getHeight(St)-2)+" re"),tr.push("W"),tr.push("n"),tr.push(U$2(rr.x1.x)+" "+U$2(rr.x1.y)+" m"),tr.push(U$2(rr.x2.x)+" "+U$2(rr.x2.y)+" l"),tr.push(U$2(rr.x4.x)+" "+U$2(rr.x4.y)+" m"),tr.push(U$2(rr.x3.x)+" "+U$2(rr.x3.y)+" l"),tr.push("s"),tr.push("Q"),er.stream=tr.join(`
`),er},YesPushDown:function(St){var er=V(St);er.scope=St.scope;var tr=At.internal.calculateCross(St),rr=[];return rr.push("0.749023 g"),rr.push("0 0 "+U$2(At.internal.getWidth(St))+" "+U$2(At.internal.getHeight(St))+" re"),rr.push("f"),rr.push("q"),rr.push("1 1 "+U$2(At.internal.getWidth(St)-2)+" "+U$2(At.internal.getHeight(St)-2)+" re"),rr.push("W"),rr.push("n"),rr.push(U$2(tr.x1.x)+" "+U$2(tr.x1.y)+" m"),rr.push(U$2(tr.x2.x)+" "+U$2(tr.x2.y)+" l"),rr.push(U$2(tr.x4.x)+" "+U$2(tr.x4.y)+" m"),rr.push(U$2(tr.x3.x)+" "+U$2(tr.x3.y)+" l"),rr.push("s"),rr.push("Q"),er.stream=rr.join(`
`),er},OffPushDown:function(St){var er=V(St);er.scope=St.scope;var tr=[];return tr.push("0.749023 g"),tr.push("0 0 "+U$2(At.internal.getWidth(St))+" "+U$2(At.internal.getHeight(St))+" re"),tr.push("f"),er.stream=tr.join(`
`),er}}},createDefaultAppearanceStream:function(St){var er=St.scope.internal.getFont(St.fontName,St.fontStyle).id,tr=St.scope.__private__.encodeColorString(St.color);return"/"+er+" "+St.fontSize+" Tf "+tr}};At.internal={Bezier_C:.551915024494,calculateCross:function(St){var er=At.internal.getWidth(St),tr=At.internal.getHeight(St),rr=Math.min(er,tr);return{x1:{x:(er-rr)/2,y:(tr-rr)/2+rr},x2:{x:(er-rr)/2+rr,y:(tr-rr)/2},x3:{x:(er-rr)/2,y:(tr-rr)/2},x4:{x:(er-rr)/2+rr,y:(tr-rr)/2+rr}}}},At.internal.getWidth=function(St){var er=0;return _typeof(St)==="object"&&(er=W(St.Rect[2])),er},At.internal.getHeight=function(St){var er=0;return _typeof(St)==="object"&&(er=W(St.Rect[3])),er};var xt=q$1.addField=function(St){if(at(this,St),!(St instanceof lt))throw new Error("Invalid argument passed to jsPDF.addField.");var er;return(er=St).scope.internal.acroformPlugin.printedOut&&(er.scope.internal.acroformPlugin.printedOut=!1,er.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),er.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(er),St.page=St.scope.internal.getCurrentPageInfo().pageNumber,this};q$1.AcroFormChoiceField=ft,q$1.AcroFormListBox=dt,q$1.AcroFormComboBox=pt,q$1.AcroFormEditBox=gt,q$1.AcroFormButton=mt,q$1.AcroFormPushButton=vt,q$1.AcroFormRadioButton=bt,q$1.AcroFormCheckBox=wt,q$1.AcroFormTextField=Nt,q$1.AcroFormPasswordField=Lt$1,q$1.AcroFormAppearance=At,q$1.AcroForm={ChoiceField:ft,ListBox:dt,ComboBox:pt,EditBox:gt,Button:mt,PushButton:vt,RadioButton:bt,CheckBox:wt,TextField:Nt,PasswordField:Lt$1,Appearance:At},E$2.AcroForm={ChoiceField:ft,ListBox:dt,ComboBox:pt,EditBox:gt,Button:mt,PushButton:vt,RadioButton:bt,CheckBox:wt,TextField:Nt,PasswordField:Lt$1,Appearance:At};E$2.AcroForm;function _t(St){return St.reduce(function(er,tr,rr){return er[tr]=rr,er},{})}(function(St){St.__addimage__={};var er="UNKNOWN",tr={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},rr=St.__addimage__.getImageFileTypeByImageData=function(Pr,Lr){var Gr,Kr,nn,Qr,zr,Vr=er;if((Lr=Lr||er)==="RGBA"||Pr.data!==void 0&&Pr.data instanceof Uint8ClampedArray&&"height"in Pr&&"width"in Pr)return"RGBA";if(Er(Pr))for(zr in tr)for(nn=tr[zr],Gr=0;Gr<nn.length;Gr+=1){for(Qr=!0,Kr=0;Kr<nn[Gr].length;Kr+=1)if(nn[Gr][Kr]!==void 0&&nn[Gr][Kr]!==Pr[Kr]){Qr=!1;break}if(Qr===!0){Vr=zr;break}}else for(zr in tr)for(nn=tr[zr],Gr=0;Gr<nn.length;Gr+=1){for(Qr=!0,Kr=0;Kr<nn[Gr].length;Kr+=1)if(nn[Gr][Kr]!==void 0&&nn[Gr][Kr]!==Pr.charCodeAt(Kr)){Qr=!1;break}if(Qr===!0){Vr=zr;break}}return Vr===er&&Lr!==er&&(Vr=Lr),Vr},nr=function Pr(Lr){for(var Gr=this.internal.write,Kr=this.internal.putStream,nn=(0,this.internal.getFilters)();nn.indexOf("FlateEncode")!==-1;)nn.splice(nn.indexOf("FlateEncode"),1);Lr.objectId=this.internal.newObject();var Qr=[];if(Qr.push({key:"Type",value:"/XObject"}),Qr.push({key:"Subtype",value:"/Image"}),Qr.push({key:"Width",value:Lr.width}),Qr.push({key:"Height",value:Lr.height}),Lr.colorSpace===pr.INDEXED?Qr.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(Lr.palette.length/3-1)+" "+("sMask"in Lr&&Lr.sMask!==void 0?Lr.objectId+2:Lr.objectId+1)+" 0 R]"}):(Qr.push({key:"ColorSpace",value:"/"+Lr.colorSpace}),Lr.colorSpace===pr.DEVICE_CMYK&&Qr.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Qr.push({key:"BitsPerComponent",value:Lr.bitsPerComponent}),"decodeParameters"in Lr&&Lr.decodeParameters!==void 0&&Qr.push({key:"DecodeParms",value:"<<"+Lr.decodeParameters+">>"}),"transparency"in Lr&&Array.isArray(Lr.transparency)){for(var zr="",Vr=0,Jr=Lr.transparency.length;Vr<Jr;Vr++)zr+=Lr.transparency[Vr]+" "+Lr.transparency[Vr]+" ";Qr.push({key:"Mask",value:"["+zr+"]"})}Lr.sMask!==void 0&&Qr.push({key:"SMask",value:Lr.objectId+1+" 0 R"});var tn=Lr.filter!==void 0?["/"+Lr.filter]:void 0;if(Kr({data:Lr.data,additionalKeyValues:Qr,alreadyAppliedFilters:tn,objectId:Lr.objectId}),Gr("endobj"),"sMask"in Lr&&Lr.sMask!==void 0){var Yr="/Predictor "+Lr.predictor+" /Colors 1 /BitsPerComponent "+Lr.bitsPerComponent+" /Columns "+Lr.width,Sr={width:Lr.width,height:Lr.height,colorSpace:"DeviceGray",bitsPerComponent:Lr.bitsPerComponent,decodeParameters:Yr,data:Lr.sMask};"filter"in Lr&&(Sr.filter=Lr.filter),Pr.call(this,Sr)}if(Lr.colorSpace===pr.INDEXED){var Rr=this.internal.newObject();Kr({data:_r(new Uint8Array(Lr.palette)),objectId:Rr}),Gr("endobj")}},ar=function(){var Pr=this.internal.collections.addImage_images;for(var Lr in Pr)nr.call(this,Pr[Lr])},sr=function(){var Pr,Lr=this.internal.collections.addImage_images,Gr=this.internal.write;for(var Kr in Lr)Gr("/I"+(Pr=Lr[Kr]).index,Pr.objectId,"0","R")},ir=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",ar),this.internal.events.subscribe("putXobjectDict",sr))},or=function(){var Pr=this.internal.collections.addImage_images;return ir.call(this),Pr},lr=function(){return Object.keys(this.internal.collections.addImage_images).length},cr=function(Pr){return typeof St["process"+Pr.toUpperCase()]=="function"},ur=function(Pr){return _typeof(Pr)==="object"&&Pr.nodeType===1},dr=function(Pr,Lr){if(Pr.nodeName==="IMG"&&Pr.hasAttribute("src")){var Gr=""+Pr.getAttribute("src");if(Gr.indexOf("data:image/")===0)return u$7(unescape(Gr).split("base64,").pop());var Kr=St.loadFile(Gr,!0);if(Kr!==void 0)return Kr}if(Pr.nodeName==="CANVAS"){if(Pr.width===0||Pr.height===0)throw new Error("Given canvas must have data. Canvas width: "+Pr.width+", height: "+Pr.height);var nn;switch(Lr){case"PNG":nn="image/png";break;case"WEBP":nn="image/webp";break;case"JPEG":case"JPG":default:nn="image/jpeg"}return u$7(Pr.toDataURL(nn,1).split("base64,").pop())}},fr=function(Pr){var Lr=this.internal.collections.addImage_images;if(Lr){for(var Gr in Lr)if(Pr===Lr[Gr].alias)return Lr[Gr]}},mr=function(Pr,Lr,Gr){return Pr||Lr||(Pr=-96,Lr=-96),Pr<0&&(Pr=-1*Gr.width*72/Pr/this.internal.scaleFactor),Lr<0&&(Lr=-1*Gr.height*72/Lr/this.internal.scaleFactor),Pr===0&&(Pr=Lr*Gr.width/Gr.height),Lr===0&&(Lr=Pr*Gr.height/Gr.width),[Pr,Lr]},xr=function(Pr,Lr,Gr,Kr,nn,Qr){var zr=mr.call(this,Gr,Kr,nn),Vr=this.internal.getCoordinateString,Jr=this.internal.getVerticalCoordinateString,tn=or.call(this);if(Gr=zr[0],Kr=zr[1],tn[nn.index]=nn,Qr){Qr*=Math.PI/180;var Yr=Math.cos(Qr),Sr=Math.sin(Qr),Rr=function(Dr){return Dr.toFixed(4)},Tr=[Rr(Yr),Rr(Sr),Rr(-1*Sr),Rr(Yr),0,0,"cm"]}this.internal.write("q"),Qr?(this.internal.write([1,"0","0",1,Vr(Pr),Jr(Lr+Kr),"cm"].join(" ")),this.internal.write(Tr.join(" ")),this.internal.write([Vr(Gr),"0","0",Vr(Kr),"0","0","cm"].join(" "))):this.internal.write([Vr(Gr),"0","0",Vr(Kr),Vr(Pr),Jr(Lr+Kr),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+nn.index+" Do"),this.internal.write("Q")},pr=St.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};St.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var hr=St.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},gr=St.__addimage__.sHashCode=function(Pr){var Lr,Gr,Kr=0;if(typeof Pr=="string")for(Gr=Pr.length,Lr=0;Lr<Gr;Lr++)Kr=(Kr<<5)-Kr+Pr.charCodeAt(Lr),Kr|=0;else if(Er(Pr))for(Gr=Pr.byteLength/2,Lr=0;Lr<Gr;Lr++)Kr=(Kr<<5)-Kr+Pr[Lr],Kr|=0;return Kr},vr=St.__addimage__.validateStringAsBase64=function(Pr){(Pr=Pr||"").toString().trim();var Lr=!0;return Pr.length===0&&(Lr=!1),Pr.length%4!=0&&(Lr=!1),/^[A-Za-z0-9+/]+$/.test(Pr.substr(0,Pr.length-2))===!1&&(Lr=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(Pr.substr(-2))===!1&&(Lr=!1),Lr},br=St.__addimage__.extractImageFromDataUrl=function(Pr){if(Pr==null||!(Pr=Pr.trim()).startsWith("data:"))return null;var Lr=Pr.indexOf(",");return Lr<0?null:Pr.substring(0,Lr).trim().endsWith("base64")?Pr.substring(Lr+1):null},yr=St.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};St.__addimage__.isArrayBuffer=function(Pr){return yr()&&Pr instanceof ArrayBuffer};var Er=St.__addimage__.isArrayBufferView=function(Pr){return yr()&&typeof Uint32Array<"u"&&(Pr instanceof Int8Array||Pr instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&Pr instanceof Uint8ClampedArray||Pr instanceof Int16Array||Pr instanceof Uint16Array||Pr instanceof Int32Array||Pr instanceof Uint32Array||Pr instanceof Float32Array||Pr instanceof Float64Array)},jr=St.__addimage__.binaryStringToUint8Array=function(Pr){for(var Lr=Pr.length,Gr=new Uint8Array(Lr),Kr=0;Kr<Lr;Kr++)Gr[Kr]=Pr.charCodeAt(Kr);return Gr},_r=St.__addimage__.arrayBufferToBinaryString=function(Pr){for(var Lr="",Gr=Er(Pr)?Pr:new Uint8Array(Pr),Kr=0;Kr<Gr.length;Kr+=8192)Lr+=String.fromCharCode.apply(null,Gr.subarray(Kr,Kr+8192));return Lr};St.addImage=function(){var Pr,Lr,Gr,Kr,nn,Qr,zr,Vr,Jr;if(typeof arguments[1]=="number"?(Lr=er,Gr=arguments[1],Kr=arguments[2],nn=arguments[3],Qr=arguments[4],zr=arguments[5],Vr=arguments[6],Jr=arguments[7]):(Lr=arguments[1],Gr=arguments[2],Kr=arguments[3],nn=arguments[4],Qr=arguments[5],zr=arguments[6],Vr=arguments[7],Jr=arguments[8]),_typeof(Pr=arguments[0])==="object"&&!ur(Pr)&&"imageData"in Pr){var tn=Pr;Pr=tn.imageData,Lr=tn.format||Lr||er,Gr=tn.x||Gr||0,Kr=tn.y||Kr||0,nn=tn.w||tn.width||nn,Qr=tn.h||tn.height||Qr,zr=tn.alias||zr,Vr=tn.compression||Vr,Jr=tn.rotation||tn.angle||Jr}var Yr=this.internal.getFilters();if(Vr===void 0&&Yr.indexOf("FlateEncode")!==-1&&(Vr="SLOW"),isNaN(Gr)||isNaN(Kr))throw new Error("Invalid coordinates passed to jsPDF.addImage");ir.call(this);var Sr=Cr.call(this,Pr,Lr,zr,Vr);return xr.call(this,Gr,Kr,nn,Qr,Sr,Jr),this};var Cr=function(Pr,Lr,Gr,Kr){var nn,Qr,zr;if(typeof Pr=="string"&&rr(Pr)===er){Pr=unescape(Pr);var Vr=Or(Pr,!1);(Vr!==""||(Vr=St.loadFile(Pr,!0))!==void 0)&&(Pr=Vr)}if(ur(Pr)&&(Pr=dr(Pr,Lr)),Lr=rr(Pr,Lr),!cr(Lr))throw new Error("addImage does not support files of type '"+Lr+"', please ensure that a plugin for '"+Lr+"' support is added.");if(((zr=Gr)==null||zr.length===0)&&(Gr=function(Jr){return typeof Jr=="string"||Er(Jr)?gr(Jr):Er(Jr.data)?gr(Jr.data):null}(Pr)),(nn=fr.call(this,Gr))||(yr()&&(Pr instanceof Uint8Array||Lr==="RGBA"||(Qr=Pr,Pr=jr(Pr))),nn=this["process"+Lr.toUpperCase()](Pr,lr.call(this),Gr,function(Jr){return Jr&&typeof Jr=="string"&&(Jr=Jr.toUpperCase()),Jr in St.image_compression?Jr:hr.NONE}(Kr),Qr)),!nn)throw new Error("An unknown error occurred whilst processing the image.");return nn},Or=St.__addimage__.convertBase64ToBinaryString=function(Pr,Lr){Lr=typeof Lr!="boolean"||Lr;var Gr,Kr="";if(typeof Pr=="string"){var nn;Gr=(nn=br(Pr))!==null&&nn!==void 0?nn:Pr;try{Kr=u$7(Gr)}catch(Qr){if(Lr)throw vr(Gr)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Qr.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Kr};St.getImageProperties=function(Pr){var Lr,Gr,Kr="";if(ur(Pr)&&(Pr=dr(Pr)),typeof Pr=="string"&&rr(Pr)===er&&((Kr=Or(Pr,!1))===""&&(Kr=St.loadFile(Pr)||""),Pr=Kr),Gr=rr(Pr),!cr(Gr))throw new Error("addImage does not support files of type '"+Gr+"', please ensure that a plugin for '"+Gr+"' support is added.");if(!yr()||Pr instanceof Uint8Array||(Pr=jr(Pr)),!(Lr=this["process"+Gr.toUpperCase()](Pr)))throw new Error("An unknown error occurred whilst processing the image");return Lr.fileType=Gr,Lr}})(E$2.API),function(St){var er=function(tr){if(tr!==void 0&&tr!="")return!0};E$2.API.events.push(["addPage",function(tr){this.internal.getPageInfo(tr.pageNumber).pageContext.annotations=[]}]),St.events.push(["putPage",function(tr){for(var rr,nr,ar,sr=this.internal.getCoordinateString,ir=this.internal.getVerticalCoordinateString,or=this.internal.getPageInfoByObjId(tr.objId),lr=tr.pageContext.annotations,cr=!1,ur=0;ur<lr.length&&!cr;ur++)switch((rr=lr[ur]).type){case"link":(er(rr.options.url)||er(rr.options.pageNumber))&&(cr=!0);break;case"reference":case"text":case"freetext":cr=!0}if(cr!=0){this.internal.write("/Annots [");for(var dr=0;dr<lr.length;dr++){rr=lr[dr];var fr=this.internal.pdfEscape,mr=this.internal.getEncryptor(tr.objId);switch(rr.type){case"reference":this.internal.write(" "+rr.object.objId+" 0 R ");break;case"text":var xr=this.internal.newAdditionalObject(),pr=this.internal.newAdditionalObject(),hr=this.internal.getEncryptor(xr.objId),gr=rr.title||"Note";ar="<</Type /Annot /Subtype /Text "+(nr="/Rect ["+sr(rr.bounds.x)+" "+ir(rr.bounds.y+rr.bounds.h)+" "+sr(rr.bounds.x+rr.bounds.w)+" "+ir(rr.bounds.y)+"] ")+"/Contents ("+fr(hr(rr.contents))+")",ar+=" /Popup "+pr.objId+" 0 R",ar+=" /P "+or.objId+" 0 R",ar+=" /T ("+fr(hr(gr))+") >>",xr.content=ar;var vr=xr.objId+" 0 R";ar="<</Type /Annot /Subtype /Popup "+(nr="/Rect ["+sr(rr.bounds.x+30)+" "+ir(rr.bounds.y+rr.bounds.h)+" "+sr(rr.bounds.x+rr.bounds.w+30)+" "+ir(rr.bounds.y)+"] ")+" /Parent "+vr,rr.open&&(ar+=" /Open true"),ar+=" >>",pr.content=ar,this.internal.write(xr.objId,"0 R",pr.objId,"0 R");break;case"freetext":nr="/Rect ["+sr(rr.bounds.x)+" "+ir(rr.bounds.y)+" "+sr(rr.bounds.x+rr.bounds.w)+" "+ir(rr.bounds.y+rr.bounds.h)+"] ";var br=rr.color||"#000000";ar="<</Type /Annot /Subtype /FreeText "+nr+"/Contents ("+fr(mr(rr.contents))+")",ar+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+br+")",ar+=" /Border [0 0 0]",ar+=" >>",this.internal.write(ar);break;case"link":if(rr.options.name){var yr=this.annotations._nameMap[rr.options.name];rr.options.pageNumber=yr.page,rr.options.top=yr.y}else rr.options.top||(rr.options.top=0);if(nr="/Rect ["+rr.finalBounds.x+" "+rr.finalBounds.y+" "+rr.finalBounds.w+" "+rr.finalBounds.h+"] ",ar="",rr.options.url)ar="<</Type /Annot /Subtype /Link "+nr+"/Border [0 0 0] /A <</S /URI /URI ("+fr(mr(rr.options.url))+") >>";else if(rr.options.pageNumber)switch(ar="<</Type /Annot /Subtype /Link "+nr+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(rr.options.pageNumber).objId+" 0 R",rr.options.magFactor=rr.options.magFactor||"XYZ",rr.options.magFactor){case"Fit":ar+=" /Fit]";break;case"FitH":ar+=" /FitH "+rr.options.top+"]";break;case"FitV":rr.options.left=rr.options.left||0,ar+=" /FitV "+rr.options.left+"]";break;case"XYZ":default:var Er=ir(rr.options.top);rr.options.left=rr.options.left||0,rr.options.zoom===void 0&&(rr.options.zoom=0),ar+=" /XYZ "+rr.options.left+" "+Er+" "+rr.options.zoom+"]"}ar!=""&&(ar+=" >>",this.internal.write(ar))}}this.internal.write("]")}}]),St.createAnnotation=function(tr){var rr=this.internal.getCurrentPageInfo();switch(tr.type){case"link":this.link(tr.bounds.x,tr.bounds.y,tr.bounds.w,tr.bounds.h,tr);break;case"text":case"freetext":rr.pageContext.annotations.push(tr)}},St.link=function(tr,rr,nr,ar,sr){var ir=this.internal.getCurrentPageInfo(),or=this.internal.getCoordinateString,lr=this.internal.getVerticalCoordinateString;ir.pageContext.annotations.push({finalBounds:{x:or(tr),y:lr(rr),w:or(tr+nr),h:lr(rr+ar)},options:sr,type:"link"})},St.textWithLink=function(tr,rr,nr,ar){var sr,ir,or=this.getTextWidth(tr),lr=this.internal.getLineHeight()/this.internal.scaleFactor;if(ar.maxWidth!==void 0){ir=ar.maxWidth;var cr=this.splitTextToSize(tr,ir).length;sr=Math.ceil(lr*cr)}else ir=or,sr=lr;return this.text(tr,rr,nr,ar),nr+=.2*lr,ar.align==="center"&&(rr-=or/2),ar.align==="right"&&(rr-=or),this.link(rr,nr-lr,ir,sr,ar),or},St.getTextWidth=function(tr){var rr=this.internal.getFontSize();return this.getStringUnitWidth(tr)*rr/this.internal.scaleFactor}}(E$2.API),function(St){var er={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},tr={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},rr={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},nr=[1570,1571,1573,1575];St.__arabicParser__={};var ar=St.__arabicParser__.isInArabicSubstitutionA=function(xr){return er[xr.charCodeAt(0)]!==void 0},sr=St.__arabicParser__.isArabicLetter=function(xr){return typeof xr=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(xr)},ir=St.__arabicParser__.isArabicEndLetter=function(xr){return sr(xr)&&ar(xr)&&er[xr.charCodeAt(0)].length<=2},or=St.__arabicParser__.isArabicAlfLetter=function(xr){return sr(xr)&&nr.indexOf(xr.charCodeAt(0))>=0};St.__arabicParser__.arabicLetterHasIsolatedForm=function(xr){return sr(xr)&&ar(xr)&&er[xr.charCodeAt(0)].length>=1};var lr=St.__arabicParser__.arabicLetterHasFinalForm=function(xr){return sr(xr)&&ar(xr)&&er[xr.charCodeAt(0)].length>=2};St.__arabicParser__.arabicLetterHasInitialForm=function(xr){return sr(xr)&&ar(xr)&&er[xr.charCodeAt(0)].length>=3};var cr=St.__arabicParser__.arabicLetterHasMedialForm=function(xr){return sr(xr)&&ar(xr)&&er[xr.charCodeAt(0)].length==4},ur=St.__arabicParser__.resolveLigatures=function(xr){var pr=0,hr=tr,gr="",vr=0;for(pr=0;pr<xr.length;pr+=1)hr[xr.charCodeAt(pr)]!==void 0?(vr++,typeof(hr=hr[xr.charCodeAt(pr)])=="number"&&(gr+=String.fromCharCode(hr),hr=tr,vr=0),pr===xr.length-1&&(hr=tr,gr+=xr.charAt(pr-(vr-1)),pr-=vr-1,vr=0)):(hr=tr,gr+=xr.charAt(pr-vr),pr-=vr,vr=0);return gr};St.__arabicParser__.isArabicDiacritic=function(xr){return xr!==void 0&&rr[xr.charCodeAt(0)]!==void 0};var dr=St.__arabicParser__.getCorrectForm=function(xr,pr,hr){return sr(xr)?ar(xr)===!1?-1:!lr(xr)||!sr(pr)&&!sr(hr)||!sr(hr)&&ir(pr)||ir(xr)&&!sr(pr)||ir(xr)&&or(pr)||ir(xr)&&ir(pr)?0:cr(xr)&&sr(pr)&&!ir(pr)&&sr(hr)&&lr(hr)?3:ir(xr)||!sr(hr)?1:2:-1},fr=function(xr){var pr=0,hr=0,gr=0,vr="",br="",yr="",Er=(xr=xr||"").split("\\s+"),jr=[];for(pr=0;pr<Er.length;pr+=1){for(jr.push(""),hr=0;hr<Er[pr].length;hr+=1)vr=Er[pr][hr],br=Er[pr][hr-1],yr=Er[pr][hr+1],sr(vr)?(gr=dr(vr,br,yr),jr[pr]+=gr!==-1?String.fromCharCode(er[vr.charCodeAt(0)][gr]):vr):jr[pr]+=vr;jr[pr]=ur(jr[pr])}return jr.join(" ")},mr=St.__arabicParser__.processArabic=St.processArabic=function(){var xr,pr=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,hr=[];if(Array.isArray(pr)){var gr=0;for(hr=[],gr=0;gr<pr.length;gr+=1)Array.isArray(pr[gr])?hr.push([fr(pr[gr][0]),pr[gr][1],pr[gr][2]]):hr.push([fr(pr[gr])]);xr=hr}else xr=fr(pr);return typeof arguments[0]=="string"?xr:(arguments[0].text=xr,arguments[0])};St.events.push(["preProcessText",mr])}(E$2.API),E$2.API.autoPrint=function(St){var er;switch((St=St||{}).variant=St.variant||"non-conform",St.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){er=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+er+" 0 R")})}return this},function(St){var er=function(){var tr=void 0;Object.defineProperty(this,"pdf",{get:function(){return tr},set:function(ir){tr=ir}});var rr=150;Object.defineProperty(this,"width",{get:function(){return rr},set:function(ir){rr=isNaN(ir)||Number.isInteger(ir)===!1||ir<0?150:ir,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=rr+1)}});var nr=300;Object.defineProperty(this,"height",{get:function(){return nr},set:function(ir){nr=isNaN(ir)||Number.isInteger(ir)===!1||ir<0?300:ir,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=nr+1)}});var ar=[];Object.defineProperty(this,"childNodes",{get:function(){return ar},set:function(ir){ar=ir}});var sr={};Object.defineProperty(this,"style",{get:function(){return sr},set:function(ir){sr=ir}}),Object.defineProperty(this,"parentNode",{})};er.prototype.getContext=function(tr,rr){var nr;if((tr=tr||"2d")!=="2d")return null;for(nr in rr)this.pdf.context2d.hasOwnProperty(nr)&&(this.pdf.context2d[nr]=rr[nr]);return this.pdf.context2d._canvas=this,this.pdf.context2d},er.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},St.events.push(["initialized",function(){this.canvas=new er,this.canvas.pdf=this}])}(E$2.API),function(St){var er={left:0,top:0,bottom:0,right:0},tr=!1,rr=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},er),this.internal.__cell__.margins.width=this.getPageWidth(),nr.call(this))},nr=function(){this.internal.__cell__.lastCell=new ar,this.internal.__cell__.pages=1},ar=function(){var or=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return or},set:function(xr){or=xr}});var lr=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return lr},set:function(xr){lr=xr}});var cr=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return cr},set:function(xr){cr=xr}});var ur=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return ur},set:function(xr){ur=xr}});var dr=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return dr},set:function(xr){dr=xr}});var fr=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return fr},set:function(xr){fr=xr}});var mr=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return mr},set:function(xr){mr=xr}}),this};ar.prototype.clone=function(){return new ar(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},ar.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},St.setHeaderFunction=function(or){return rr.call(this),this.internal.__cell__.headerFunction=typeof or=="function"?or:void 0,this},St.getTextDimensions=function(or,lr){rr.call(this);var cr=(lr=lr||{}).fontSize||this.getFontSize(),ur=lr.font||this.getFont(),dr=lr.scaleFactor||this.internal.scaleFactor,fr=0,mr=0,xr=0,pr=this;if(!Array.isArray(or)&&typeof or!="string"){if(typeof or!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");or=String(or)}var hr=lr.maxWidth;hr>0?typeof or=="string"?or=this.splitTextToSize(or,hr):Object.prototype.toString.call(or)==="[object Array]"&&(or=or.reduce(function(vr,br){return vr.concat(pr.splitTextToSize(br,hr))},[])):or=Array.isArray(or)?or:[or];for(var gr=0;gr<or.length;gr++)fr<(xr=this.getStringUnitWidth(or[gr],{font:ur})*cr)&&(fr=xr);return fr!==0&&(mr=or.length),{w:fr/=dr,h:Math.max((mr*cr*this.getLineHeightFactor()-cr*(this.getLineHeightFactor()-1))/dr,0)}},St.cellAddPage=function(){rr.call(this),this.addPage();var or=this.internal.__cell__.margins||er;return this.internal.__cell__.lastCell=new ar(or.left,or.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var sr=St.cell=function(){var or;or=arguments[0]instanceof ar?arguments[0]:new ar(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),rr.call(this);var lr=this.internal.__cell__.lastCell,cr=this.internal.__cell__.padding,ur=this.internal.__cell__.margins||er,dr=this.internal.__cell__.tableHeaderRow,fr=this.internal.__cell__.printHeaders;return lr.lineNumber!==void 0&&(lr.lineNumber===or.lineNumber?(or.x=(lr.x||0)+(lr.width||0),or.y=lr.y||0):lr.y+lr.height+or.height+ur.bottom>this.getPageHeight()?(this.cellAddPage(),or.y=ur.top,fr&&dr&&(this.printHeaderRow(or.lineNumber,!0),or.y+=dr[0].height)):or.y=lr.y+lr.height||or.y),or.text[0]!==void 0&&(this.rect(or.x,or.y,or.width,or.height,tr===!0?"FD":void 0),or.align==="right"?this.text(or.text,or.x+or.width-cr,or.y+cr,{align:"right",baseline:"top"}):or.align==="center"?this.text(or.text,or.x+or.width/2,or.y+cr,{align:"center",baseline:"top",maxWidth:or.width-cr-cr}):this.text(or.text,or.x+cr,or.y+cr,{align:"left",baseline:"top",maxWidth:or.width-cr-cr})),this.internal.__cell__.lastCell=or,this};St.table=function(or,lr,cr,ur,dr){if(rr.call(this),!cr)throw new Error("No data for PDF table.");var fr,mr,xr,pr,hr=[],gr=[],vr=[],br={},yr={},Er=[],jr=[],_r=(dr=dr||{}).autoSize||!1,Cr=dr.printHeaders!==!1,Or=dr.css&&dr.css["font-size"]!==void 0?16*dr.css["font-size"]:dr.fontSize||12,Pr=dr.margins||Object.assign({width:this.getPageWidth()},er),Lr=typeof dr.padding=="number"?dr.padding:3,Gr=dr.headerBackgroundColor||"#c8c8c8",Kr=dr.headerTextColor||"#000";if(nr.call(this),this.internal.__cell__.printHeaders=Cr,this.internal.__cell__.margins=Pr,this.internal.__cell__.table_font_size=Or,this.internal.__cell__.padding=Lr,this.internal.__cell__.headerBackgroundColor=Gr,this.internal.__cell__.headerTextColor=Kr,this.setFontSize(Or),ur==null)gr=hr=Object.keys(cr[0]),vr=hr.map(function(){return"left"});else if(Array.isArray(ur)&&_typeof(ur[0])==="object")for(hr=ur.map(function(tn){return tn.name}),gr=ur.map(function(tn){return tn.prompt||tn.name||""}),vr=ur.map(function(tn){return tn.align||"left"}),fr=0;fr<ur.length;fr+=1)yr[ur[fr].name]=ur[fr].width*(19.049976/25.4);else Array.isArray(ur)&&typeof ur[0]=="string"&&(gr=hr=ur,vr=hr.map(function(){return"left"}));if(_r||Array.isArray(ur)&&typeof ur[0]=="string")for(fr=0;fr<hr.length;fr+=1){for(br[pr=hr[fr]]=cr.map(function(tn){return tn[pr]}),this.setFont(void 0,"bold"),Er.push(this.getTextDimensions(gr[fr],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),mr=br[pr],this.setFont(void 0,"normal"),xr=0;xr<mr.length;xr+=1)Er.push(this.getTextDimensions(mr[xr],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);yr[pr]=Math.max.apply(null,Er)+Lr+Lr,Er=[]}if(Cr){var nn={};for(fr=0;fr<hr.length;fr+=1)nn[hr[fr]]={},nn[hr[fr]].text=gr[fr],nn[hr[fr]].align=vr[fr];var Qr=ir.call(this,nn,yr);jr=hr.map(function(tn){return new ar(or,lr,yr[tn],Qr,nn[tn].text,void 0,nn[tn].align)}),this.setTableHeaderRow(jr),this.printHeaderRow(1,!1)}var zr=ur.reduce(function(tn,Yr){return tn[Yr.name]=Yr.align,tn},{});for(fr=0;fr<cr.length;fr+=1){"rowStart"in dr&&dr.rowStart instanceof Function&&dr.rowStart({row:fr,data:cr[fr]},this);var Vr=ir.call(this,cr[fr],yr);for(xr=0;xr<hr.length;xr+=1){var Jr=cr[fr][hr[xr]];"cellStart"in dr&&dr.cellStart instanceof Function&&dr.cellStart({row:fr,col:xr,data:Jr},this),sr.call(this,new ar(or,lr,yr[hr[xr]],Vr,Jr,fr+2,zr[hr[xr]]))}}return this.internal.__cell__.table_x=or,this.internal.__cell__.table_y=lr,this};var ir=function(or,lr){var cr=this.internal.__cell__.padding,ur=this.internal.__cell__.table_font_size,dr=this.internal.scaleFactor;return Object.keys(or).map(function(fr){var mr=or[fr];return this.splitTextToSize(mr.hasOwnProperty("text")?mr.text:mr,lr[fr]-cr-cr)},this).map(function(fr){return this.getLineHeightFactor()*fr.length*ur/dr+cr+cr},this).reduce(function(fr,mr){return Math.max(fr,mr)},0)};St.setTableHeaderRow=function(or){rr.call(this),this.internal.__cell__.tableHeaderRow=or},St.printHeaderRow=function(or,lr){if(rr.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var cr;if(tr=!0,typeof this.internal.__cell__.headerFunction=="function"){var ur=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new ar(ur[0],ur[1],ur[2],ur[3],void 0,-1)}this.setFont(void 0,"bold");for(var dr=[],fr=0;fr<this.internal.__cell__.tableHeaderRow.length;fr+=1){cr=this.internal.__cell__.tableHeaderRow[fr].clone(),lr&&(cr.y=this.internal.__cell__.margins.top||0,dr.push(cr)),cr.lineNumber=or;var mr=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),sr.call(this,cr),this.setTextColor(mr)}dr.length>0&&this.setTableHeaderRow(dr),this.setFont(void 0,"normal"),tr=!1}}(E$2.API);var Pt={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},kt=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],It=_t(kt),Ft=[100,200,300,400,500,600,700,800,900],Ct=_t(Ft);function jt(St){var er=St.family.replace(/"|'/g,"").toLowerCase(),tr=function(ar){return Pt[ar=ar||"normal"]?ar:"normal"}(St.style),rr=function(ar){if(!ar)return 400;if(typeof ar=="number")return ar>=100&&ar<=900&&ar%100==0?ar:400;if(/^\d00$/.test(ar))return parseInt(ar);switch(ar){case"bold":return 700;case"normal":default:return 400}}(St.weight),nr=function(ar){return typeof It[ar=ar||"normal"]=="number"?ar:"normal"}(St.stretch);return{family:er,style:tr,weight:rr,stretch:nr,src:St.src||[],ref:St.ref||{name:er,style:[nr,tr,rr].join(" ")}}}function Ot(St,er,tr,rr){var nr;for(nr=tr;nr>=0&&nr<er.length;nr+=rr)if(St[er[nr]])return St[er[nr]];for(nr=tr;nr>=0&&nr<er.length;nr-=rr)if(St[er[nr]])return St[er[nr]]}var Bt={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Mt={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Et(St){return[St.stretch,St.style,St.weight,St.family].join(" ")}function qt(St,er,tr){for(var rr=(tr=tr||{}).defaultFontFamily||"times",nr=Object.assign({},Bt,tr.genericFontFamilies||{}),ar=null,sr=null,ir=0;ir<er.length;++ir)if(nr[(ar=jt(er[ir])).family]&&(ar.family=nr[ar.family]),St.hasOwnProperty(ar.family)){sr=St[ar.family];break}if(!(sr=sr||St[rr]))throw new Error("Could not find a font-family for the rule '"+Et(ar)+"' and default family '"+rr+"'.");if(sr=function(or,lr){if(lr[or])return lr[or];var cr=It[or],ur=cr<=It.normal?-1:1,dr=Ot(lr,kt,cr,ur);if(!dr)throw new Error("Could not find a matching font-stretch value for "+or);return dr}(ar.stretch,sr),sr=function(or,lr){if(lr[or])return lr[or];for(var cr=Pt[or],ur=0;ur<cr.length;++ur)if(lr[cr[ur]])return lr[cr[ur]];throw new Error("Could not find a matching font-style for "+or)}(ar.style,sr),!(sr=function(or,lr){if(lr[or])return lr[or];if(or===400&&lr[500])return lr[500];if(or===500&&lr[400])return lr[400];var cr=Ct[or],ur=Ot(lr,Ft,cr,or<400?-1:1);if(!ur)throw new Error("Could not find a matching font-weight for value "+or);return ur}(ar.weight,sr)))throw new Error("Failed to resolve a font for the rule '"+Et(ar)+"'.");return sr}function Dt(St){return St.trimLeft()}function Rt(St,er){for(var tr=0;tr<St.length;){if(St.charAt(tr)===er)return[St.substring(0,tr),St.substring(tr+1)];tr+=1}return null}function Tt(St){var er=St.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return er===null?null:[er[0],St.substring(er[0].length)]}var Ut,zt,Ht,Wt=["times"];(function(St){var er,tr,rr,nr,ar,sr,ir,or,lr,cr=function(Sr){return Sr=Sr||{},this.isStrokeTransparent=Sr.isStrokeTransparent||!1,this.strokeOpacity=Sr.strokeOpacity||1,this.strokeStyle=Sr.strokeStyle||"#000000",this.fillStyle=Sr.fillStyle||"#000000",this.isFillTransparent=Sr.isFillTransparent||!1,this.fillOpacity=Sr.fillOpacity||1,this.font=Sr.font||"10px sans-serif",this.textBaseline=Sr.textBaseline||"alphabetic",this.textAlign=Sr.textAlign||"left",this.lineWidth=Sr.lineWidth||1,this.lineJoin=Sr.lineJoin||"miter",this.lineCap=Sr.lineCap||"butt",this.path=Sr.path||[],this.transform=Sr.transform!==void 0?Sr.transform.clone():new or,this.globalCompositeOperation=Sr.globalCompositeOperation||"normal",this.globalAlpha=Sr.globalAlpha||1,this.clip_path=Sr.clip_path||[],this.currentPoint=Sr.currentPoint||new sr,this.miterLimit=Sr.miterLimit||10,this.lastPoint=Sr.lastPoint||new sr,this.lineDashOffset=Sr.lineDashOffset||0,this.lineDash=Sr.lineDash||[],this.margin=Sr.margin||[0,0,0,0],this.prevPageLastElemOffset=Sr.prevPageLastElemOffset||0,this.ignoreClearRect=typeof Sr.ignoreClearRect!="boolean"||Sr.ignoreClearRect,this};St.events.push(["initialized",function(){this.context2d=new ur(this),er=this.internal.f2,tr=this.internal.getCoordinateString,rr=this.internal.getVerticalCoordinateString,nr=this.internal.getHorizontalCoordinate,ar=this.internal.getVerticalCoordinate,sr=this.internal.Point,ir=this.internal.Rectangle,or=this.internal.Matrix,lr=new cr}]);var ur=function(Sr){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Rr=Sr;Object.defineProperty(this,"pdf",{get:function(){return Rr}});var Tr=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Tr},set:function(Zr){Tr=!!Zr}});var Dr=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Dr},set:function(Zr){Dr=!!Zr}});var Mr=0;Object.defineProperty(this,"posX",{get:function(){return Mr},set:function(Zr){isNaN(Zr)||(Mr=Zr)}});var Br=0;Object.defineProperty(this,"posY",{get:function(){return Br},set:function(Zr){isNaN(Zr)||(Br=Zr)}}),Object.defineProperty(this,"margin",{get:function(){return lr.margin},set:function(Zr){var Ir;typeof Zr=="number"?Ir=[Zr,Zr,Zr,Zr]:((Ir=new Array(4))[0]=Zr[0],Ir[1]=Zr.length>=2?Zr[1]:Ir[0],Ir[2]=Zr.length>=3?Zr[2]:Ir[0],Ir[3]=Zr.length>=4?Zr[3]:Ir[1]),lr.margin=Ir}});var qr=!1;Object.defineProperty(this,"autoPaging",{get:function(){return qr},set:function(Zr){qr=Zr}});var Wr=0;Object.defineProperty(this,"lastBreak",{get:function(){return Wr},set:function(Zr){Wr=Zr}});var sn=[];Object.defineProperty(this,"pageBreaks",{get:function(){return sn},set:function(Zr){sn=Zr}}),Object.defineProperty(this,"ctx",{get:function(){return lr},set:function(Zr){Zr instanceof cr&&(lr=Zr)}}),Object.defineProperty(this,"path",{get:function(){return lr.path},set:function(Zr){lr.path=Zr}});var un=[];Object.defineProperty(this,"ctxStack",{get:function(){return un},set:function(Zr){un=Zr}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Zr){var Ir;Ir=dr(Zr),this.ctx.fillStyle=Ir.style,this.ctx.isFillTransparent=Ir.a===0,this.ctx.fillOpacity=Ir.a,this.pdf.setFillColor(Ir.r,Ir.g,Ir.b,{a:Ir.a}),this.pdf.setTextColor(Ir.r,Ir.g,Ir.b,{a:Ir.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Zr){var Ir=dr(Zr);this.ctx.strokeStyle=Ir.style,this.ctx.isStrokeTransparent=Ir.a===0,this.ctx.strokeOpacity=Ir.a,Ir.a===0?this.pdf.setDrawColor(255,255,255):(Ir.a,this.pdf.setDrawColor(Ir.r,Ir.g,Ir.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Zr){["butt","round","square"].indexOf(Zr)!==-1&&(this.ctx.lineCap=Zr,this.pdf.setLineCap(Zr))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Zr){isNaN(Zr)||(this.ctx.lineWidth=Zr,this.pdf.setLineWidth(Zr))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Zr){["bevel","round","miter"].indexOf(Zr)!==-1&&(this.ctx.lineJoin=Zr,this.pdf.setLineJoin(Zr))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Zr){isNaN(Zr)||(this.ctx.miterLimit=Zr,this.pdf.setMiterLimit(Zr))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Zr){this.ctx.textBaseline=Zr}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Zr){["right","end","center","left","start"].indexOf(Zr)!==-1&&(this.ctx.textAlign=Zr)}});var Nr=null;function Ur(Zr,Ir){if(Nr===null){var on=function(vn){var yn=[];return Object.keys(vn).forEach(function(Dn){vn[Dn].forEach(function(pn){var Sn=null;switch(pn){case"bold":Sn={family:Dn,weight:"bold"};break;case"italic":Sn={family:Dn,style:"italic"};break;case"bolditalic":Sn={family:Dn,weight:"bold",style:"italic"};break;case"":case"normal":Sn={family:Dn}}Sn!==null&&(Sn.ref={name:Dn,style:pn},yn.push(Sn))})}),yn}(Zr.getFontList());Nr=function(vn){for(var yn={},Dn=0;Dn<vn.length;++Dn){var pn=jt(vn[Dn]),Sn=pn.family,wn=pn.stretch,Vn=pn.style,Yn=pn.weight;yn[Sn]=yn[Sn]||{},yn[Sn][wn]=yn[Sn][wn]||{},yn[Sn][wn][Vn]=yn[Sn][wn][Vn]||{},yn[Sn][wn][Vn][Yn]=pn}return yn}(on.concat(Ir))}return Nr}var en=null;Object.defineProperty(this,"fontFaces",{get:function(){return en},set:function(Zr){Nr=null,en=Zr}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Zr){var Ir;if(this.ctx.font=Zr,(Ir=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Zr))!==null){var on=Ir[1];Ir[2];var vn=Ir[3],yn=Ir[4];Ir[5];var Dn=Ir[6],pn=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(yn)[2];yn=Math.floor(pn==="px"?parseFloat(yn)*this.pdf.internal.scaleFactor:pn==="em"?parseFloat(yn)*this.pdf.getFontSize():parseFloat(yn)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(yn);var Sn=function(Ss){var ps,os,zs=[],Bn=Ss.trim();if(Bn==="")return Wt;if(Bn in Mt)return[Mt[Bn]];for(;Bn!=="";){switch(os=null,ps=(Bn=Dt(Bn)).charAt(0)){case'"':case"'":os=Rt(Bn.substring(1),ps);break;default:os=Tt(Bn)}if(os===null||(zs.push(os[0]),(Bn=Dt(os[1]))!==""&&Bn.charAt(0)!==","))return Wt;Bn=Bn.replace(/^,/,"")}return zs}(Dn);if(this.fontFaces){var wn=qt(Ur(this.pdf,this.fontFaces),Sn.map(function(Ss){return{family:Ss,stretch:"normal",weight:vn,style:on}}));this.pdf.setFont(wn.ref.name,wn.ref.style)}else{var Vn="";(vn==="bold"||parseInt(vn,10)>=700||on==="bold")&&(Vn="bold"),on==="italic"&&(Vn+="italic"),Vn.length===0&&(Vn="normal");for(var Yn="",ns={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ls=0;ls<Sn.length;ls++){if(this.pdf.internal.getFont(Sn[ls],Vn,{noFallback:!0,disableWarning:!0})!==void 0){Yn=Sn[ls];break}if(Vn==="bolditalic"&&this.pdf.internal.getFont(Sn[ls],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Yn=Sn[ls],Vn="bold";else if(this.pdf.internal.getFont(Sn[ls],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Yn=Sn[ls],Vn="normal";break}}if(Yn===""){for(var vs=0;vs<Sn.length;vs++)if(ns[Sn[vs]]){Yn=ns[Sn[vs]];break}}Yn=Yn===""?"Times":Yn,this.pdf.setFont(Yn,Vn)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Zr){this.ctx.globalCompositeOperation=Zr}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Zr){this.ctx.globalAlpha=Zr}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Zr){this.ctx.lineDashOffset=Zr,Yr.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Zr){this.ctx.lineDash=Zr,Yr.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Zr){this.ctx.ignoreClearRect=!!Zr}})};ur.prototype.setLineDash=function(Sr){this.lineDash=Sr},ur.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},ur.prototype.fill=function(){br.call(this,"fill",!1)},ur.prototype.stroke=function(){br.call(this,"stroke",!1)},ur.prototype.beginPath=function(){this.path=[{type:"begin"}]},ur.prototype.moveTo=function(Sr,Rr){if(isNaN(Sr)||isNaN(Rr))throw a$d.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Tr=this.ctx.transform.applyToPoint(new sr(Sr,Rr));this.path.push({type:"mt",x:Tr.x,y:Tr.y}),this.ctx.lastPoint=new sr(Sr,Rr)},ur.prototype.closePath=function(){var Sr=new sr(0,0),Rr=0;for(Rr=this.path.length-1;Rr!==-1;Rr--)if(this.path[Rr].type==="begin"&&_typeof(this.path[Rr+1])==="object"&&typeof this.path[Rr+1].x=="number"){Sr=new sr(this.path[Rr+1].x,this.path[Rr+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new sr(Sr.x,Sr.y)},ur.prototype.lineTo=function(Sr,Rr){if(isNaN(Sr)||isNaN(Rr))throw a$d.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Tr=this.ctx.transform.applyToPoint(new sr(Sr,Rr));this.path.push({type:"lt",x:Tr.x,y:Tr.y}),this.ctx.lastPoint=new sr(Tr.x,Tr.y)},ur.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),br.call(this,null,!0)},ur.prototype.quadraticCurveTo=function(Sr,Rr,Tr,Dr){if(isNaN(Tr)||isNaN(Dr)||isNaN(Sr)||isNaN(Rr))throw a$d.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Mr=this.ctx.transform.applyToPoint(new sr(Tr,Dr)),Br=this.ctx.transform.applyToPoint(new sr(Sr,Rr));this.path.push({type:"qct",x1:Br.x,y1:Br.y,x:Mr.x,y:Mr.y}),this.ctx.lastPoint=new sr(Mr.x,Mr.y)},ur.prototype.bezierCurveTo=function(Sr,Rr,Tr,Dr,Mr,Br){if(isNaN(Mr)||isNaN(Br)||isNaN(Sr)||isNaN(Rr)||isNaN(Tr)||isNaN(Dr))throw a$d.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var qr=this.ctx.transform.applyToPoint(new sr(Mr,Br)),Wr=this.ctx.transform.applyToPoint(new sr(Sr,Rr)),sn=this.ctx.transform.applyToPoint(new sr(Tr,Dr));this.path.push({type:"bct",x1:Wr.x,y1:Wr.y,x2:sn.x,y2:sn.y,x:qr.x,y:qr.y}),this.ctx.lastPoint=new sr(qr.x,qr.y)},ur.prototype.arc=function(Sr,Rr,Tr,Dr,Mr,Br){if(isNaN(Sr)||isNaN(Rr)||isNaN(Tr)||isNaN(Dr)||isNaN(Mr))throw a$d.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Br=!!Br,!this.ctx.transform.isIdentity){var qr=this.ctx.transform.applyToPoint(new sr(Sr,Rr));Sr=qr.x,Rr=qr.y;var Wr=this.ctx.transform.applyToPoint(new sr(0,Tr)),sn=this.ctx.transform.applyToPoint(new sr(0,0));Tr=Math.sqrt(Math.pow(Wr.x-sn.x,2)+Math.pow(Wr.y-sn.y,2))}Math.abs(Mr-Dr)>=2*Math.PI&&(Dr=0,Mr=2*Math.PI),this.path.push({type:"arc",x:Sr,y:Rr,radius:Tr,startAngle:Dr,endAngle:Mr,counterclockwise:Br})},ur.prototype.arcTo=function(Sr,Rr,Tr,Dr,Mr){throw new Error("arcTo not implemented.")},ur.prototype.rect=function(Sr,Rr,Tr,Dr){if(isNaN(Sr)||isNaN(Rr)||isNaN(Tr)||isNaN(Dr))throw a$d.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(Sr,Rr),this.lineTo(Sr+Tr,Rr),this.lineTo(Sr+Tr,Rr+Dr),this.lineTo(Sr,Rr+Dr),this.lineTo(Sr,Rr),this.lineTo(Sr+Tr,Rr),this.lineTo(Sr,Rr)},ur.prototype.fillRect=function(Sr,Rr,Tr,Dr){if(isNaN(Sr)||isNaN(Rr)||isNaN(Tr)||isNaN(Dr))throw a$d.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!fr.call(this)){var Mr={};this.lineCap!=="butt"&&(Mr.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Mr.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(Sr,Rr,Tr,Dr),this.fill(),Mr.hasOwnProperty("lineCap")&&(this.lineCap=Mr.lineCap),Mr.hasOwnProperty("lineJoin")&&(this.lineJoin=Mr.lineJoin)}},ur.prototype.strokeRect=function(Sr,Rr,Tr,Dr){if(isNaN(Sr)||isNaN(Rr)||isNaN(Tr)||isNaN(Dr))throw a$d.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");mr.call(this)||(this.beginPath(),this.rect(Sr,Rr,Tr,Dr),this.stroke())},ur.prototype.clearRect=function(Sr,Rr,Tr,Dr){if(isNaN(Sr)||isNaN(Rr)||isNaN(Tr)||isNaN(Dr))throw a$d.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(Sr,Rr,Tr,Dr))},ur.prototype.save=function(Sr){Sr=typeof Sr!="boolean"||Sr;for(var Rr=this.pdf.internal.getCurrentPageInfo().pageNumber,Tr=0;Tr<this.pdf.internal.getNumberOfPages();Tr++)this.pdf.setPage(Tr+1),this.pdf.internal.out("q");if(this.pdf.setPage(Rr),Sr){this.ctx.fontSize=this.pdf.internal.getFontSize();var Dr=new cr(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Dr}},ur.prototype.restore=function(Sr){Sr=typeof Sr!="boolean"||Sr;for(var Rr=this.pdf.internal.getCurrentPageInfo().pageNumber,Tr=0;Tr<this.pdf.internal.getNumberOfPages();Tr++)this.pdf.setPage(Tr+1),this.pdf.internal.out("Q");this.pdf.setPage(Rr),Sr&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},ur.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var dr=function(Sr){var Rr,Tr,Dr,Mr;if(Sr.isCanvasGradient===!0&&(Sr=Sr.getColor()),!Sr)return{r:0,g:0,b:0,a:0,style:Sr};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(Sr))Rr=0,Tr=0,Dr=0,Mr=0;else{var Br=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(Sr);if(Br!==null)Rr=parseInt(Br[1]),Tr=parseInt(Br[2]),Dr=parseInt(Br[3]),Mr=1;else if((Br=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(Sr))!==null)Rr=parseInt(Br[1]),Tr=parseInt(Br[2]),Dr=parseInt(Br[3]),Mr=parseFloat(Br[4]);else{if(Mr=1,typeof Sr=="string"&&Sr.charAt(0)!=="#"){var qr=new f$8(Sr);Sr=qr.ok?qr.toHex():"#000000"}Sr.length===4?(Rr=Sr.substring(1,2),Rr+=Rr,Tr=Sr.substring(2,3),Tr+=Tr,Dr=Sr.substring(3,4),Dr+=Dr):(Rr=Sr.substring(1,3),Tr=Sr.substring(3,5),Dr=Sr.substring(5,7)),Rr=parseInt(Rr,16),Tr=parseInt(Tr,16),Dr=parseInt(Dr,16)}}return{r:Rr,g:Tr,b:Dr,a:Mr,style:Sr}},fr=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},mr=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};ur.prototype.fillText=function(Sr,Rr,Tr,Dr){if(isNaN(Rr)||isNaN(Tr)||typeof Sr!="string")throw a$d.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Dr=isNaN(Dr)?void 0:Dr,!fr.call(this)){var Mr=Vr(this.ctx.transform.rotation),Br=this.ctx.transform.scaleX;Lr.call(this,{text:Sr,x:Rr,y:Tr,scale:Br,angle:Mr,align:this.textAlign,maxWidth:Dr})}},ur.prototype.strokeText=function(Sr,Rr,Tr,Dr){if(isNaN(Rr)||isNaN(Tr)||typeof Sr!="string")throw a$d.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!mr.call(this)){Dr=isNaN(Dr)?void 0:Dr;var Mr=Vr(this.ctx.transform.rotation),Br=this.ctx.transform.scaleX;Lr.call(this,{text:Sr,x:Rr,y:Tr,scale:Br,renderingMode:"stroke",angle:Mr,align:this.textAlign,maxWidth:Dr})}},ur.prototype.measureText=function(Sr){if(typeof Sr!="string")throw a$d.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Rr=this.pdf,Tr=this.pdf.internal.scaleFactor,Dr=Rr.internal.getFontSize(),Mr=Rr.getStringUnitWidth(Sr)*Dr/Rr.internal.scaleFactor,Br=function(qr){var Wr=(qr=qr||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Wr}}),this};return new Br({width:Mr*=Math.round(96*Tr/72*1e4)/1e4})},ur.prototype.scale=function(Sr,Rr){if(isNaN(Sr)||isNaN(Rr))throw a$d.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Tr=new or(Sr,0,0,Rr,0,0);this.ctx.transform=this.ctx.transform.multiply(Tr)},ur.prototype.rotate=function(Sr){if(isNaN(Sr))throw a$d.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Rr=new or(Math.cos(Sr),Math.sin(Sr),-Math.sin(Sr),Math.cos(Sr),0,0);this.ctx.transform=this.ctx.transform.multiply(Rr)},ur.prototype.translate=function(Sr,Rr){if(isNaN(Sr)||isNaN(Rr))throw a$d.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Tr=new or(1,0,0,1,Sr,Rr);this.ctx.transform=this.ctx.transform.multiply(Tr)},ur.prototype.transform=function(Sr,Rr,Tr,Dr,Mr,Br){if(isNaN(Sr)||isNaN(Rr)||isNaN(Tr)||isNaN(Dr)||isNaN(Mr)||isNaN(Br))throw a$d.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var qr=new or(Sr,Rr,Tr,Dr,Mr,Br);this.ctx.transform=this.ctx.transform.multiply(qr)},ur.prototype.setTransform=function(Sr,Rr,Tr,Dr,Mr,Br){Sr=isNaN(Sr)?1:Sr,Rr=isNaN(Rr)?0:Rr,Tr=isNaN(Tr)?0:Tr,Dr=isNaN(Dr)?1:Dr,Mr=isNaN(Mr)?0:Mr,Br=isNaN(Br)?0:Br,this.ctx.transform=new or(Sr,Rr,Tr,Dr,Mr,Br)};var xr=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};ur.prototype.drawImage=function(Sr,Rr,Tr,Dr,Mr,Br,qr,Wr,sn){var un=this.pdf.getImageProperties(Sr),Nr=1,Ur=1,en=1,Zr=1;Dr!==void 0&&Wr!==void 0&&(en=Wr/Dr,Zr=sn/Mr,Nr=un.width/Dr*Wr/Dr,Ur=un.height/Mr*sn/Mr),Br===void 0&&(Br=Rr,qr=Tr,Rr=0,Tr=0),Dr!==void 0&&Wr===void 0&&(Wr=Dr,sn=Mr),Dr===void 0&&Wr===void 0&&(Wr=un.width,sn=un.height);for(var Ir,on=this.ctx.transform.decompose(),vn=Vr(on.rotate.shx),yn=new or,Dn=(yn=(yn=(yn=yn.multiply(on.translate)).multiply(on.skew)).multiply(on.scale)).applyToRectangle(new ir(Br-Rr*en,qr-Tr*Zr,Dr*Nr,Mr*Ur)),pn=pr.call(this,Dn),Sn=[],wn=0;wn<pn.length;wn+=1)Sn.indexOf(pn[wn])===-1&&Sn.push(pn[wn]);if(vr(Sn),this.autoPaging)for(var Vn=Sn[0],Yn=Sn[Sn.length-1],ns=Vn;ns<Yn+1;ns++){this.pdf.setPage(ns);var ls=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],vs=ns===1?this.posY+this.margin[0]:this.margin[0],Ss=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ps=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],os=ns===1?0:Ss+(ns-2)*ps;if(this.ctx.clip_path.length!==0){var zs=this.path;Ir=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=gr(Ir,this.posX+this.margin[3],-os+vs+this.ctx.prevPageLastElemOffset),yr.call(this,"fill",!0),this.path=zs}var Bn=JSON.parse(JSON.stringify(Dn));Bn=gr([Bn],this.posX+this.margin[3],-os+vs+this.ctx.prevPageLastElemOffset)[0];var _n=(ns>Vn||ns<Yn)&&xr.call(this);_n&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ls,ps,null).clip().discardPath()),this.pdf.addImage(Sr,"JPEG",Bn.x,Bn.y,Bn.w,Bn.h,null,null,vn),_n&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(Sr,"JPEG",Dn.x,Dn.y,Dn.w,Dn.h,null,null,vn)};var pr=function(Sr,Rr,Tr){var Dr=[];Rr=Rr||this.pdf.internal.pageSize.width,Tr=Tr||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Mr=this.posY+this.ctx.prevPageLastElemOffset;switch(Sr.type){default:case"mt":case"lt":Dr.push(Math.floor((Sr.y+Mr)/Tr)+1);break;case"arc":Dr.push(Math.floor((Sr.y+Mr-Sr.radius)/Tr)+1),Dr.push(Math.floor((Sr.y+Mr+Sr.radius)/Tr)+1);break;case"qct":var Br=Jr(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Sr.x1,Sr.y1,Sr.x,Sr.y);Dr.push(Math.floor((Br.y+Mr)/Tr)+1),Dr.push(Math.floor((Br.y+Br.h+Mr)/Tr)+1);break;case"bct":var qr=tn(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Sr.x1,Sr.y1,Sr.x2,Sr.y2,Sr.x,Sr.y);Dr.push(Math.floor((qr.y+Mr)/Tr)+1),Dr.push(Math.floor((qr.y+qr.h+Mr)/Tr)+1);break;case"rect":Dr.push(Math.floor((Sr.y+Mr)/Tr)+1),Dr.push(Math.floor((Sr.y+Sr.h+Mr)/Tr)+1)}for(var Wr=0;Wr<Dr.length;Wr+=1)for(;this.pdf.internal.getNumberOfPages()<Dr[Wr];)hr.call(this);return Dr},hr=function(){var Sr=this.fillStyle,Rr=this.strokeStyle,Tr=this.font,Dr=this.lineCap,Mr=this.lineWidth,Br=this.lineJoin;this.pdf.addPage(),this.fillStyle=Sr,this.strokeStyle=Rr,this.font=Tr,this.lineCap=Dr,this.lineWidth=Mr,this.lineJoin=Br},gr=function(Sr,Rr,Tr){for(var Dr=0;Dr<Sr.length;Dr++)switch(Sr[Dr].type){case"bct":Sr[Dr].x2+=Rr,Sr[Dr].y2+=Tr;case"qct":Sr[Dr].x1+=Rr,Sr[Dr].y1+=Tr;case"mt":case"lt":case"arc":default:Sr[Dr].x+=Rr,Sr[Dr].y+=Tr}return Sr},vr=function(Sr){return Sr.sort(function(Rr,Tr){return Rr-Tr})},br=function(Sr,Rr){for(var Tr,Dr,Mr=this.fillStyle,Br=this.strokeStyle,qr=this.lineCap,Wr=this.lineWidth,sn=Math.abs(Wr*this.ctx.transform.scaleX),un=this.lineJoin,Nr=JSON.parse(JSON.stringify(this.path)),Ur=JSON.parse(JSON.stringify(this.path)),en=[],Zr=0;Zr<Ur.length;Zr++)if(Ur[Zr].x!==void 0)for(var Ir=pr.call(this,Ur[Zr]),on=0;on<Ir.length;on+=1)en.indexOf(Ir[on])===-1&&en.push(Ir[on]);for(var vn=0;vn<en.length;vn++)for(;this.pdf.internal.getNumberOfPages()<en[vn];)hr.call(this);if(vr(en),this.autoPaging)for(var yn=en[0],Dn=en[en.length-1],pn=yn;pn<Dn+1;pn++){this.pdf.setPage(pn),this.fillStyle=Mr,this.strokeStyle=Br,this.lineCap=qr,this.lineWidth=sn,this.lineJoin=un;var Sn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],wn=pn===1?this.posY+this.margin[0]:this.margin[0],Vn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Yn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ns=pn===1?0:Vn+(pn-2)*Yn;if(this.ctx.clip_path.length!==0){var ls=this.path;Tr=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=gr(Tr,this.posX+this.margin[3],-ns+wn+this.ctx.prevPageLastElemOffset),yr.call(this,Sr,!0),this.path=ls}if(Dr=JSON.parse(JSON.stringify(Nr)),this.path=gr(Dr,this.posX+this.margin[3],-ns+wn+this.ctx.prevPageLastElemOffset),Rr===!1||pn===0){var vs=(pn>yn||pn<Dn)&&xr.call(this);vs&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Sn,Yn,null).clip().discardPath()),yr.call(this,Sr,Rr),vs&&this.pdf.restoreGraphicsState()}this.lineWidth=Wr}else this.lineWidth=sn,yr.call(this,Sr,Rr),this.lineWidth=Wr;this.path=Nr},yr=function(Sr,Rr){if((Sr!=="stroke"||Rr||!mr.call(this))&&(Sr==="stroke"||Rr||!fr.call(this))){for(var Tr,Dr,Mr=[],Br=this.path,qr=0;qr<Br.length;qr++){var Wr=Br[qr];switch(Wr.type){case"begin":Mr.push({begin:!0});break;case"close":Mr.push({close:!0});break;case"mt":Mr.push({start:Wr,deltas:[],abs:[]});break;case"lt":var sn=Mr.length;if(Br[qr-1]&&!isNaN(Br[qr-1].x)&&(Tr=[Wr.x-Br[qr-1].x,Wr.y-Br[qr-1].y],sn>0)){for(;sn>=0;sn--)if(Mr[sn-1].close!==!0&&Mr[sn-1].begin!==!0){Mr[sn-1].deltas.push(Tr),Mr[sn-1].abs.push(Wr);break}}break;case"bct":Tr=[Wr.x1-Br[qr-1].x,Wr.y1-Br[qr-1].y,Wr.x2-Br[qr-1].x,Wr.y2-Br[qr-1].y,Wr.x-Br[qr-1].x,Wr.y-Br[qr-1].y],Mr[Mr.length-1].deltas.push(Tr);break;case"qct":var un=Br[qr-1].x+2/3*(Wr.x1-Br[qr-1].x),Nr=Br[qr-1].y+2/3*(Wr.y1-Br[qr-1].y),Ur=Wr.x+2/3*(Wr.x1-Wr.x),en=Wr.y+2/3*(Wr.y1-Wr.y),Zr=Wr.x,Ir=Wr.y;Tr=[un-Br[qr-1].x,Nr-Br[qr-1].y,Ur-Br[qr-1].x,en-Br[qr-1].y,Zr-Br[qr-1].x,Ir-Br[qr-1].y],Mr[Mr.length-1].deltas.push(Tr);break;case"arc":Mr.push({deltas:[],abs:[],arc:!0}),Array.isArray(Mr[Mr.length-1].abs)&&Mr[Mr.length-1].abs.push(Wr)}}Dr=Rr?null:Sr==="stroke"?"stroke":"fill";for(var on=!1,vn=0;vn<Mr.length;vn++)if(Mr[vn].arc)for(var yn=Mr[vn].abs,Dn=0;Dn<yn.length;Dn++){var pn=yn[Dn];pn.type==="arc"?_r.call(this,pn.x,pn.y,pn.radius,pn.startAngle,pn.endAngle,pn.counterclockwise,void 0,Rr,!on):Gr.call(this,pn.x,pn.y),on=!0}else if(Mr[vn].close===!0)this.pdf.internal.out("h"),on=!1;else if(Mr[vn].begin!==!0){var Sn=Mr[vn].start.x,wn=Mr[vn].start.y;Kr.call(this,Mr[vn].deltas,Sn,wn),on=!0}Dr&&Cr.call(this,Dr),Rr&&Or.call(this)}},Er=function(Sr){var Rr=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Tr=Rr*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return Sr-Tr;case"top":return Sr+Rr-Tr;case"hanging":return Sr+Rr-2*Tr;case"middle":return Sr+Rr/2-Tr;case"ideographic":return Sr;case"alphabetic":default:return Sr}},jr=function(Sr){return Sr+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};ur.prototype.createLinearGradient=function(){var Sr=function(){};return Sr.colorStops=[],Sr.addColorStop=function(Rr,Tr){this.colorStops.push([Rr,Tr])},Sr.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},Sr.isCanvasGradient=!0,Sr},ur.prototype.createPattern=function(){return this.createLinearGradient()},ur.prototype.createRadialGradient=function(){return this.createLinearGradient()};var _r=function(Sr,Rr,Tr,Dr,Mr,Br,qr,Wr,sn){for(var un=Qr.call(this,Tr,Dr,Mr,Br),Nr=0;Nr<un.length;Nr++){var Ur=un[Nr];Nr===0&&(sn?Pr.call(this,Ur.x1+Sr,Ur.y1+Rr):Gr.call(this,Ur.x1+Sr,Ur.y1+Rr)),nn.call(this,Sr,Rr,Ur.x2,Ur.y2,Ur.x3,Ur.y3,Ur.x4,Ur.y4)}Wr?Or.call(this):Cr.call(this,qr)},Cr=function(Sr){switch(Sr){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Or=function(){this.pdf.clip(),this.pdf.discardPath()},Pr=function(Sr,Rr){this.pdf.internal.out(tr(Sr)+" "+rr(Rr)+" m")},Lr=function(Sr){var Rr;switch(Sr.align){case"right":case"end":Rr="right";break;case"center":Rr="center";break;case"left":case"start":default:Rr="left"}var Tr=this.pdf.getTextDimensions(Sr.text),Dr=Er.call(this,Sr.y),Mr=jr.call(this,Dr)-Tr.h,Br=this.ctx.transform.applyToPoint(new sr(Sr.x,Dr)),qr=this.ctx.transform.decompose(),Wr=new or;Wr=(Wr=(Wr=Wr.multiply(qr.translate)).multiply(qr.skew)).multiply(qr.scale);for(var sn,un,Nr,Ur=this.ctx.transform.applyToRectangle(new ir(Sr.x,Dr,Tr.w,Tr.h)),en=Wr.applyToRectangle(new ir(Sr.x,Mr,Tr.w,Tr.h)),Zr=pr.call(this,en),Ir=[],on=0;on<Zr.length;on+=1)Ir.indexOf(Zr[on])===-1&&Ir.push(Zr[on]);if(vr(Ir),this.autoPaging)for(var vn=Ir[0],yn=Ir[Ir.length-1],Dn=vn;Dn<yn+1;Dn++){this.pdf.setPage(Dn);var pn=Dn===1?this.posY+this.margin[0]:this.margin[0],Sn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],wn=this.pdf.internal.pageSize.height-this.margin[2],Vn=wn-this.margin[0],Yn=this.pdf.internal.pageSize.width-this.margin[1],ns=Yn-this.margin[3],ls=Dn===1?0:Sn+(Dn-2)*Vn;if(this.ctx.clip_path.length!==0){var vs=this.path;sn=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=gr(sn,this.posX+this.margin[3],-1*ls+pn),yr.call(this,"fill",!0),this.path=vs}var Ss=gr([JSON.parse(JSON.stringify(en))],this.posX+this.margin[3],-ls+pn+this.ctx.prevPageLastElemOffset)[0];Sr.scale>=.01&&(un=this.pdf.internal.getFontSize(),this.pdf.setFontSize(un*Sr.scale),Nr=this.lineWidth,this.lineWidth=Nr*Sr.scale);var ps=this.autoPaging!=="text";if(ps||Ss.y+Ss.h<=wn){if(ps||Ss.y>=pn&&Ss.x<=Yn){var os=ps?Sr.text:this.pdf.splitTextToSize(Sr.text,Sr.maxWidth||Yn-Ss.x)[0],zs=gr([JSON.parse(JSON.stringify(Ur))],this.posX+this.margin[3],-ls+pn+this.ctx.prevPageLastElemOffset)[0],Bn=ps&&(Dn>vn||Dn<yn)&&xr.call(this);Bn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ns,Vn,null).clip().discardPath()),this.pdf.text(os,zs.x,zs.y,{angle:Sr.angle,align:Rr,renderingMode:Sr.renderingMode}),Bn&&this.pdf.restoreGraphicsState()}}else Ss.y<wn&&(this.ctx.prevPageLastElemOffset+=wn-Ss.y);Sr.scale>=.01&&(this.pdf.setFontSize(un),this.lineWidth=Nr)}else Sr.scale>=.01&&(un=this.pdf.internal.getFontSize(),this.pdf.setFontSize(un*Sr.scale),Nr=this.lineWidth,this.lineWidth=Nr*Sr.scale),this.pdf.text(Sr.text,Br.x+this.posX,Br.y+this.posY,{angle:Sr.angle,align:Rr,renderingMode:Sr.renderingMode,maxWidth:Sr.maxWidth}),Sr.scale>=.01&&(this.pdf.setFontSize(un),this.lineWidth=Nr)},Gr=function(Sr,Rr,Tr,Dr){Tr=Tr||0,Dr=Dr||0,this.pdf.internal.out(tr(Sr+Tr)+" "+rr(Rr+Dr)+" l")},Kr=function(Sr,Rr,Tr){return this.pdf.lines(Sr,Rr,Tr,null,null)},nn=function(Sr,Rr,Tr,Dr,Mr,Br,qr,Wr){this.pdf.internal.out([er(nr(Tr+Sr)),er(ar(Dr+Rr)),er(nr(Mr+Sr)),er(ar(Br+Rr)),er(nr(qr+Sr)),er(ar(Wr+Rr)),"c"].join(" "))},Qr=function(Sr,Rr,Tr,Dr){for(var Mr=2*Math.PI,Br=Math.PI/2;Rr>Tr;)Rr-=Mr;var qr=Math.abs(Tr-Rr);qr<Mr&&Dr&&(qr=Mr-qr);for(var Wr=[],sn=Dr?-1:1,un=Rr;qr>1e-5;){var Nr=un+sn*Math.min(qr,Br);Wr.push(zr.call(this,Sr,un,Nr)),qr-=Math.abs(Nr-un),un=Nr}return Wr},zr=function(Sr,Rr,Tr){var Dr=(Tr-Rr)/2,Mr=Sr*Math.cos(Dr),Br=Sr*Math.sin(Dr),qr=Mr,Wr=-Br,sn=qr*qr+Wr*Wr,un=sn+qr*Mr+Wr*Br,Nr=4/3*(Math.sqrt(2*sn*un)-un)/(qr*Br-Wr*Mr),Ur=qr-Nr*Wr,en=Wr+Nr*qr,Zr=Ur,Ir=-en,on=Dr+Rr,vn=Math.cos(on),yn=Math.sin(on);return{x1:Sr*Math.cos(Rr),y1:Sr*Math.sin(Rr),x2:Ur*vn-en*yn,y2:Ur*yn+en*vn,x3:Zr*vn-Ir*yn,y3:Zr*yn+Ir*vn,x4:Sr*Math.cos(Tr),y4:Sr*Math.sin(Tr)}},Vr=function(Sr){return 180*Sr/Math.PI},Jr=function(Sr,Rr,Tr,Dr,Mr,Br){var qr=Sr+.5*(Tr-Sr),Wr=Rr+.5*(Dr-Rr),sn=Mr+.5*(Tr-Mr),un=Br+.5*(Dr-Br),Nr=Math.min(Sr,Mr,qr,sn),Ur=Math.max(Sr,Mr,qr,sn),en=Math.min(Rr,Br,Wr,un),Zr=Math.max(Rr,Br,Wr,un);return new ir(Nr,en,Ur-Nr,Zr-en)},tn=function(Sr,Rr,Tr,Dr,Mr,Br,qr,Wr){var sn,un,Nr,Ur,en,Zr,Ir,on,vn,yn,Dn,pn,Sn,wn,Vn=Tr-Sr,Yn=Dr-Rr,ns=Mr-Tr,ls=Br-Dr,vs=qr-Mr,Ss=Wr-Br;for(un=0;un<41;un++)vn=(Ir=(Nr=Sr+(sn=un/40)*Vn)+sn*((en=Tr+sn*ns)-Nr))+sn*(en+sn*(Mr+sn*vs-en)-Ir),yn=(on=(Ur=Rr+sn*Yn)+sn*((Zr=Dr+sn*ls)-Ur))+sn*(Zr+sn*(Br+sn*Ss-Zr)-on),un==0?(Dn=vn,pn=yn,Sn=vn,wn=yn):(Dn=Math.min(Dn,vn),pn=Math.min(pn,yn),Sn=Math.max(Sn,vn),wn=Math.max(wn,yn));return new ir(Math.round(Dn),Math.round(pn),Math.round(Sn-Dn),Math.round(wn-pn))},Yr=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var Sr,Rr,Tr=(Sr=this.ctx.lineDash,Rr=this.ctx.lineDashOffset,JSON.stringify({lineDash:Sr,lineDashOffset:Rr}));this.prevLineDash!==Tr&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Tr)}}})(E$2.API),function(St){var er=function(ar){var sr,ir,or,lr,cr,ur,dr,fr,mr,xr;for(ir=[],or=0,lr=(ar+=sr="\0\0\0\0".slice(ar.length%4||4)).length;lr>or;or+=4)(cr=(ar.charCodeAt(or)<<24)+(ar.charCodeAt(or+1)<<16)+(ar.charCodeAt(or+2)<<8)+ar.charCodeAt(or+3))!==0?(ur=(cr=((cr=((cr=((cr=(cr-(xr=cr%85))/85)-(mr=cr%85))/85)-(fr=cr%85))/85)-(dr=cr%85))/85)%85,ir.push(ur+33,dr+33,fr+33,mr+33,xr+33)):ir.push(122);return function(pr,hr){for(var gr=hr;gr>0;gr--)pr.pop()}(ir,sr.length),String.fromCharCode.apply(String,ir)+"~>"},tr=function(ar){var sr,ir,or,lr,cr,ur=String,dr="length",fr=255,mr="charCodeAt",xr="slice",pr="replace";for(ar[xr](-2),ar=ar[xr](0,-2)[pr](/\s/g,"")[pr]("z","!!!!!"),or=[],lr=0,cr=(ar+=sr="uuuuu"[xr](ar[dr]%5||5))[dr];cr>lr;lr+=5)ir=52200625*(ar[mr](lr)-33)+614125*(ar[mr](lr+1)-33)+7225*(ar[mr](lr+2)-33)+85*(ar[mr](lr+3)-33)+(ar[mr](lr+4)-33),or.push(fr&ir>>24,fr&ir>>16,fr&ir>>8,fr&ir);return function(hr,gr){for(var vr=gr;vr>0;vr--)hr.pop()}(or,sr[dr]),ur.fromCharCode.apply(ur,or)},rr=function(ar){var sr=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((ar=ar.replace(/\s/g,"")).indexOf(">")!==-1&&(ar=ar.substr(0,ar.indexOf(">"))),ar.length%2&&(ar+="0"),sr.test(ar)===!1)return"";for(var ir="",or=0;or<ar.length;or+=2)ir+=String.fromCharCode("0x"+(ar[or]+ar[or+1]));return ir},nr=function(ar){for(var sr=new Uint8Array(ar.length),ir=ar.length;ir--;)sr[ir]=ar.charCodeAt(ir);return ar=(sr=zlibSync(sr)).reduce(function(or,lr){return or+String.fromCharCode(lr)},"")};St.processDataByFilters=function(ar,sr){var ir=0,or=ar||"",lr=[];for(typeof(sr=sr||[])=="string"&&(sr=[sr]),ir=0;ir<sr.length;ir+=1)switch(sr[ir]){case"ASCII85Decode":case"/ASCII85Decode":or=tr(or),lr.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":or=er(or),lr.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":or=rr(or),lr.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":or=or.split("").map(function(cr){return("0"+cr.charCodeAt().toString(16)).slice(-2)}).join("")+">",lr.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":or=nr(or),lr.push("/FlateDecode");break;default:throw new Error('The filter: "'+sr[ir]+'" is not implemented')}return{data:or,reverseChain:lr.reverse().join(" ")}}}(E$2.API),function(St){St.loadFile=function(er,tr,rr){return function(nr,ar,sr){ar=ar!==!1,sr=typeof sr=="function"?sr:function(){};var ir=void 0;try{ir=function(or,lr,cr){var ur=new XMLHttpRequest,dr=0,fr=function(mr){var xr=mr.length,pr=[],hr=String.fromCharCode;for(dr=0;dr<xr;dr+=1)pr.push(hr(255&mr.charCodeAt(dr)));return pr.join("")};if(ur.open("GET",or,!lr),ur.overrideMimeType("text/plain; charset=x-user-defined"),lr===!1&&(ur.onload=function(){ur.status===200?cr(fr(this.responseText)):cr(void 0)}),ur.send(null),lr&&ur.status===200)return fr(ur.responseText)}(nr,ar,sr)}catch{}return ir}(er,tr,rr)},St.loadImageFile=St.loadFile}(E$2.API),function(St){function er(){return(n$7.html2canvas?Promise.resolve(n$7.html2canvas):__vitePreload(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(sr){return Promise.reject(new Error("Could not load html2canvas: "+sr))}).then(function(sr){return sr.default?sr.default:sr})}function tr(){return(n$7.DOMPurify?Promise.resolve(n$7.DOMPurify):__vitePreload(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(sr){return Promise.reject(new Error("Could not load dompurify: "+sr))}).then(function(sr){return sr.default?sr.default:sr})}var rr=function(sr){var ir=_typeof(sr);return ir==="undefined"?"undefined":ir==="string"||sr instanceof String?"string":ir==="number"||sr instanceof Number?"number":ir==="function"||sr instanceof Function?"function":sr&&sr.constructor===Array?"array":sr&&sr.nodeType===1?"element":ir==="object"?"object":"unknown"},nr=function(sr,ir){var or=document.createElement(sr);for(var lr in ir.className&&(or.className=ir.className),ir.innerHTML&&ir.dompurify&&(or.innerHTML=ir.dompurify.sanitize(ir.innerHTML)),ir.style)or.style[lr]=ir.style[lr];return or},ar=function sr(ir){var or=Object.assign(sr.convert(Promise.resolve()),JSON.parse(JSON.stringify(sr.template))),lr=sr.convert(Promise.resolve(),or);return lr=(lr=lr.setProgress(1,sr,1,[sr])).set(ir)};(ar.prototype=Object.create(Promise.prototype)).constructor=ar,ar.convert=function(sr,ir){return sr.__proto__=ir||ar.prototype,sr},ar.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},ar.prototype.from=function(sr,ir){return this.then(function(){switch(ir=ir||function(or){switch(rr(or)){case"string":return"string";case"element":return or.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(sr)){case"string":return this.then(tr).then(function(or){return this.set({src:nr("div",{innerHTML:sr,dompurify:or})})});case"element":return this.set({src:sr});case"canvas":return this.set({canvas:sr});case"img":return this.set({img:sr});default:return this.error("Unknown source type.")}})},ar.prototype.to=function(sr){switch(sr){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},ar.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var sr={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},ir=function or(lr,cr){for(var ur=lr.nodeType===3?document.createTextNode(lr.nodeValue):lr.cloneNode(!1),dr=lr.firstChild;dr;dr=dr.nextSibling)cr!==!0&&dr.nodeType===1&&dr.nodeName==="SCRIPT"||ur.appendChild(or(dr,cr));return lr.nodeType===1&&(lr.nodeName==="CANVAS"?(ur.width=lr.width,ur.height=lr.height,ur.getContext("2d").drawImage(lr,0,0)):lr.nodeName!=="TEXTAREA"&&lr.nodeName!=="SELECT"||(ur.value=lr.value),ur.addEventListener("load",function(){ur.scrollTop=lr.scrollTop,ur.scrollLeft=lr.scrollLeft},!0)),ur}(this.prop.src,this.opt.html2canvas.javascriptEnabled);ir.tagName==="BODY"&&(sr.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=nr("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=nr("div",{className:"html2pdf__container",style:sr}),this.prop.container.appendChild(ir),this.prop.container.firstChild.appendChild(nr("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},ar.prototype.toCanvas=function(){var sr=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(sr).then(er).then(function(ir){var or=Object.assign({},this.opt.html2canvas);return delete or.onrendered,ir(this.prop.container,or)}).then(function(ir){(this.opt.html2canvas.onrendered||function(){})(ir),this.prop.canvas=ir,document.body.removeChild(this.prop.overlay)})},ar.prototype.toContext2d=function(){var sr=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(sr).then(er).then(function(ir){var or=this.opt.jsPDF,lr=this.opt.fontFaces,cr=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,ur=Object.assign({async:!0,allowTaint:!0,scale:cr,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete ur.onrendered,or.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,or.context2d.posX=this.opt.x,or.context2d.posY=this.opt.y,or.context2d.margin=this.opt.margin,or.context2d.fontFaces=lr,lr)for(var dr=0;dr<lr.length;++dr){var fr=lr[dr],mr=fr.src.find(function(xr){return xr.format==="truetype"});mr&&or.addFont(mr.url,fr.ref.name,fr.ref.style)}return ur.windowHeight=ur.windowHeight||0,ur.windowHeight=ur.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):ur.windowHeight,or.context2d.save(!0),ir(this.prop.container,ur)}).then(function(ir){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(ir),this.prop.canvas=ir,document.body.removeChild(this.prop.overlay)})},ar.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var sr=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=sr})},ar.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},ar.prototype.output=function(sr,ir,or){return(or=or||"pdf").toLowerCase()==="img"||or.toLowerCase()==="image"?this.outputImg(sr,ir):this.outputPdf(sr,ir)},ar.prototype.outputPdf=function(sr,ir){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(sr,ir)})},ar.prototype.outputImg=function(sr){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(sr){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+sr+'" is not supported.'}})},ar.prototype.save=function(sr){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(sr?{filename:sr}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},ar.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},ar.prototype.set=function(sr){if(rr(sr)!=="object")return this;var ir=Object.keys(sr||{}).map(function(or){if(or in ar.template.prop)return function(){this.prop[or]=sr[or]};switch(or){case"margin":return this.setMargin.bind(this,sr.margin);case"jsPDF":return function(){return this.opt.jsPDF=sr.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,sr.pageSize);default:return function(){this.opt[or]=sr[or]}}},this);return this.then(function(){return this.thenList(ir)})},ar.prototype.get=function(sr,ir){return this.then(function(){var or=sr in ar.template.prop?this.prop[sr]:this.opt[sr];return ir?ir(or):or})},ar.prototype.setMargin=function(sr){return this.then(function(){switch(rr(sr)){case"number":sr=[sr,sr,sr,sr];case"array":if(sr.length===2&&(sr=[sr[0],sr[1],sr[0],sr[1]]),sr.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=sr}).then(this.setPageSize)},ar.prototype.setPageSize=function(sr){function ir(or,lr){return Math.floor(or*lr/72*96)}return this.then(function(){(sr=sr||E$2.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(sr.inner={width:sr.width-this.opt.margin[1]-this.opt.margin[3],height:sr.height-this.opt.margin[0]-this.opt.margin[2]},sr.inner.px={width:ir(sr.inner.width,sr.k),height:ir(sr.inner.height,sr.k)},sr.inner.ratio=sr.inner.height/sr.inner.width),this.prop.pageSize=sr})},ar.prototype.setProgress=function(sr,ir,or,lr){return sr!=null&&(this.progress.val=sr),ir!=null&&(this.progress.state=ir),or!=null&&(this.progress.n=or),lr!=null&&(this.progress.stack=lr),this.progress.ratio=this.progress.val/this.progress.state,this},ar.prototype.updateProgress=function(sr,ir,or,lr){return this.setProgress(sr?this.progress.val+sr:null,ir||null,or?this.progress.n+or:null,lr?this.progress.stack.concat(lr):null)},ar.prototype.then=function(sr,ir){var or=this;return this.thenCore(sr,ir,function(lr,cr){return or.updateProgress(null,null,1,[lr]),Promise.prototype.then.call(this,function(ur){return or.updateProgress(null,lr),ur}).then(lr,cr).then(function(ur){return or.updateProgress(1),ur})})},ar.prototype.thenCore=function(sr,ir,or){or=or||Promise.prototype.then,sr&&(sr=sr.bind(this)),ir&&(ir=ir.bind(this));var lr=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:ar.convert(Object.assign({},this),Promise.prototype),cr=or.call(lr,sr,ir);return ar.convert(cr,this.__proto__)},ar.prototype.thenExternal=function(sr,ir){return Promise.prototype.then.call(this,sr,ir)},ar.prototype.thenList=function(sr){var ir=this;return sr.forEach(function(or){ir=ir.thenCore(or)}),ir},ar.prototype.catch=function(sr){sr&&(sr=sr.bind(this));var ir=Promise.prototype.catch.call(this,sr);return ar.convert(ir,this)},ar.prototype.catchExternal=function(sr){return Promise.prototype.catch.call(this,sr)},ar.prototype.error=function(sr){return this.then(function(){throw new Error(sr)})},ar.prototype.using=ar.prototype.set,ar.prototype.saveAs=ar.prototype.save,ar.prototype.export=ar.prototype.output,ar.prototype.run=ar.prototype.then,E$2.getPageSize=function(sr,ir,or){if(_typeof(sr)==="object"){var lr=sr;sr=lr.orientation,ir=lr.unit||ir,or=lr.format||or}ir=ir||"mm",or=or||"a4",sr=(""+(sr||"P")).toLowerCase();var cr,ur=(""+or).toLowerCase(),dr={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(ir){case"pt":cr=1;break;case"mm":cr=72/25.4;break;case"cm":cr=72/2.54;break;case"in":cr=72;break;case"px":cr=.75;break;case"pc":case"em":cr=12;break;case"ex":cr=6;break;default:throw"Invalid unit: "+ir}var fr,mr=0,xr=0;if(dr.hasOwnProperty(ur))mr=dr[ur][1]/cr,xr=dr[ur][0]/cr;else try{mr=or[1],xr=or[0]}catch{throw new Error("Invalid format: "+or)}if(sr==="p"||sr==="portrait")sr="p",xr>mr&&(fr=xr,xr=mr,mr=fr);else{if(sr!=="l"&&sr!=="landscape")throw"Invalid orientation: "+sr;sr="l",mr>xr&&(fr=xr,xr=mr,mr=fr)}return{width:xr,height:mr,unit:ir,k:cr,orientation:sr}},St.html=function(sr,ir){(ir=ir||{}).callback=ir.callback||function(){},ir.html2canvas=ir.html2canvas||{},ir.html2canvas.canvas=ir.html2canvas.canvas||this.canvas,ir.jsPDF=ir.jsPDF||this,ir.fontFaces=ir.fontFaces?ir.fontFaces.map(jt):null;var or=new ar(ir);return ir.worker?or:or.from(sr).doCallback()}}(E$2.API),E$2.API.addJS=function(St){return Ht=St,this.internal.events.subscribe("postPutResources",function(){Ut=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ut+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),zt=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Ht+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ut!==void 0&&zt!==void 0&&this.internal.out("/Names <</JavaScript "+Ut+" 0 R>>")}),this},function(St){var er;St.events.push(["postPutResources",function(){var tr=this,rr=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var nr=tr.outline.render().split(/\r\n/),ar=0;ar<nr.length;ar++){var sr=nr[ar],ir=rr.exec(sr);if(ir!=null){var or=ir[1];tr.internal.newObjectDeferredBegin(or,!1)}tr.internal.write(sr)}if(this.outline.createNamedDestinations){var lr=this.internal.pages.length,cr=[];for(ar=0;ar<lr;ar++){var ur=tr.internal.newObject();cr.push(ur);var dr=tr.internal.getPageInfo(ar+1);tr.internal.write("<< /D["+dr.objId+" 0 R /XYZ null null null]>> endobj")}var fr=tr.internal.newObject();for(tr.internal.write("<< /Names [ "),ar=0;ar<cr.length;ar++)tr.internal.write("(page_"+(ar+1)+")"+cr[ar]+" 0 R");tr.internal.write(" ] >>","endobj"),er=tr.internal.newObject(),tr.internal.write("<< /Dests "+fr+" 0 R"),tr.internal.write(">>","endobj")}}]),St.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+er+" 0 R"))}]),St.events.push(["initialized",function(){var tr=this;tr.outline={createNamedDestinations:!1,root:{children:[]}},tr.outline.add=function(rr,nr,ar){var sr={title:nr,options:ar,children:[]};return rr==null&&(rr=this.root),rr.children.push(sr),sr},tr.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=tr,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},tr.outline.genIds_r=function(rr){rr.id=tr.internal.newObjectDeferred();for(var nr=0;nr<rr.children.length;nr++)this.genIds_r(rr.children[nr])},tr.outline.renderRoot=function(rr){this.objStart(rr),this.line("/Type /Outlines"),rr.children.length>0&&(this.line("/First "+this.makeRef(rr.children[0])),this.line("/Last "+this.makeRef(rr.children[rr.children.length-1]))),this.line("/Count "+this.count_r({count:0},rr)),this.objEnd()},tr.outline.renderItems=function(rr){for(var nr=this.ctx.pdf.internal.getVerticalCoordinateString,ar=0;ar<rr.children.length;ar++){var sr=rr.children[ar];this.objStart(sr),this.line("/Title "+this.makeString(sr.title)),this.line("/Parent "+this.makeRef(rr)),ar>0&&this.line("/Prev "+this.makeRef(rr.children[ar-1])),ar<rr.children.length-1&&this.line("/Next "+this.makeRef(rr.children[ar+1])),sr.children.length>0&&(this.line("/First "+this.makeRef(sr.children[0])),this.line("/Last "+this.makeRef(sr.children[sr.children.length-1])));var ir=this.count=this.count_r({count:0},sr);if(ir>0&&this.line("/Count "+ir),sr.options&&sr.options.pageNumber){var or=tr.internal.getPageInfo(sr.options.pageNumber);this.line("/Dest ["+or.objId+" 0 R /XYZ 0 "+nr(0)+" 0]")}this.objEnd()}for(var lr=0;lr<rr.children.length;lr++)this.renderItems(rr.children[lr])},tr.outline.line=function(rr){this.ctx.val+=rr+`\r
`},tr.outline.makeRef=function(rr){return rr.id+" 0 R"},tr.outline.makeString=function(rr){return"("+tr.internal.pdfEscape(rr)+")"},tr.outline.objStart=function(rr){this.ctx.val+=`\r
`+rr.id+` 0 obj\r
<<\r
`},tr.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},tr.outline.count_r=function(rr,nr){for(var ar=0;ar<nr.children.length;ar++)rr.count++,this.count_r(rr,nr.children[ar]);return rr.count}}])}(E$2.API),function(St){var er=[192,193,194,195,196,197,198,199];St.processJPEG=function(tr,rr,nr,ar,sr,ir){var or,lr=this.decode.DCT_DECODE,cr=null;if(typeof tr=="string"||this.__addimage__.isArrayBuffer(tr)||this.__addimage__.isArrayBufferView(tr)){switch(tr=sr||tr,tr=this.__addimage__.isArrayBuffer(tr)?new Uint8Array(tr):tr,(or=function(ur){for(var dr,fr=256*ur.charCodeAt(4)+ur.charCodeAt(5),mr=ur.length,xr={width:0,height:0,numcomponents:1},pr=4;pr<mr;pr+=2){if(pr+=fr,er.indexOf(ur.charCodeAt(pr+1))!==-1){dr=256*ur.charCodeAt(pr+5)+ur.charCodeAt(pr+6),xr={width:256*ur.charCodeAt(pr+7)+ur.charCodeAt(pr+8),height:dr,numcomponents:ur.charCodeAt(pr+9)};break}fr=256*ur.charCodeAt(pr+2)+ur.charCodeAt(pr+3)}return xr}(tr=this.__addimage__.isArrayBufferView(tr)?this.__addimage__.arrayBufferToBinaryString(tr):tr)).numcomponents){case 1:ir=this.color_spaces.DEVICE_GRAY;break;case 4:ir=this.color_spaces.DEVICE_CMYK;break;case 3:ir=this.color_spaces.DEVICE_RGB}cr={data:tr,width:or.width,height:or.height,colorSpace:ir,bitsPerComponent:8,filter:lr,index:rr,alias:nr}}return cr}}(E$2.API);var Vt,Gt,Yt,Jt,Xt,Kt=function(){var St,er,tr;function rr(ar){var sr,ir,or,lr,cr,ur,dr,fr,mr,xr,pr,hr,gr,vr;for(this.data=ar,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},ur=null;;){switch(sr=this.readUInt32(),mr=(function(){var br,yr;for(yr=[],br=0;br<4;++br)yr.push(String.fromCharCode(this.data[this.pos++]));return yr}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(sr);break;case"fcTL":ur&&this.animation.frames.push(ur),this.pos+=4,ur={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},cr=this.readUInt16(),lr=this.readUInt16()||100,ur.delay=1e3*cr/lr,ur.disposeOp=this.data[this.pos++],ur.blendOp=this.data[this.pos++],ur.data=[];break;case"IDAT":case"fdAT":for(mr==="fdAT"&&(this.pos+=4,sr-=4),ar=(ur!=null?ur.data:void 0)||this.imgData,hr=0;0<=sr?hr<sr:hr>sr;0<=sr?++hr:--hr)ar.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(or=this.palette.length/3,this.transparency.indexed=this.read(sr),this.transparency.indexed.length>or)throw new Error("More transparent colors than palette size");if((xr=or-this.transparency.indexed.length)>0)for(gr=0;0<=xr?gr<xr:gr>xr;0<=xr?++gr:--gr)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(sr)[0];break;case 2:this.transparency.rgb=this.read(sr)}break;case"tEXt":dr=(pr=this.read(sr)).indexOf(0),fr=String.fromCharCode.apply(String,pr.slice(0,dr)),this.text[fr]=String.fromCharCode.apply(String,pr.slice(dr+1));break;case"IEND":return ur&&this.animation.frames.push(ur),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(vr=this.colorType)===4||vr===6,ir=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*ir,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=sr}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}rr.prototype.read=function(ar){var sr,ir;for(ir=[],sr=0;0<=ar?sr<ar:sr>ar;0<=ar?++sr:--sr)ir.push(this.data[this.pos++]);return ir},rr.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},rr.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},rr.prototype.decodePixels=function(ar){var sr=this.pixelBitlength/8,ir=new Uint8Array(this.width*this.height*sr),or=0,lr=this;if(ar==null&&(ar=this.imgData),ar.length===0)return new Uint8Array(0);function cr(ur,dr,fr,mr){var xr,pr,hr,gr,vr,br,yr,Er,jr,_r,Cr,Or,Pr,Lr,Gr,Kr,nn,Qr,zr,Vr,Jr,tn=Math.ceil((lr.width-ur)/fr),Yr=Math.ceil((lr.height-dr)/mr),Sr=lr.width==tn&&lr.height==Yr;for(Lr=sr*tn,Or=Sr?ir:new Uint8Array(Lr*Yr),br=ar.length,Pr=0,pr=0;Pr<Yr&&or<br;){switch(ar[or++]){case 0:for(gr=nn=0;nn<Lr;gr=nn+=1)Or[pr++]=ar[or++];break;case 1:for(gr=Qr=0;Qr<Lr;gr=Qr+=1)xr=ar[or++],vr=gr<sr?0:Or[pr-sr],Or[pr++]=(xr+vr)%256;break;case 2:for(gr=zr=0;zr<Lr;gr=zr+=1)xr=ar[or++],hr=(gr-gr%sr)/sr,Gr=Pr&&Or[(Pr-1)*Lr+hr*sr+gr%sr],Or[pr++]=(Gr+xr)%256;break;case 3:for(gr=Vr=0;Vr<Lr;gr=Vr+=1)xr=ar[or++],hr=(gr-gr%sr)/sr,vr=gr<sr?0:Or[pr-sr],Gr=Pr&&Or[(Pr-1)*Lr+hr*sr+gr%sr],Or[pr++]=(xr+Math.floor((vr+Gr)/2))%256;break;case 4:for(gr=Jr=0;Jr<Lr;gr=Jr+=1)xr=ar[or++],hr=(gr-gr%sr)/sr,vr=gr<sr?0:Or[pr-sr],Pr===0?Gr=Kr=0:(Gr=Or[(Pr-1)*Lr+hr*sr+gr%sr],Kr=hr&&Or[(Pr-1)*Lr+(hr-1)*sr+gr%sr]),yr=vr+Gr-Kr,Er=Math.abs(yr-vr),_r=Math.abs(yr-Gr),Cr=Math.abs(yr-Kr),jr=Er<=_r&&Er<=Cr?vr:_r<=Cr?Gr:Kr,Or[pr++]=(xr+jr)%256;break;default:throw new Error("Invalid filter algorithm: "+ar[or-1])}if(!Sr){var Rr=((dr+Pr*mr)*lr.width+ur)*sr,Tr=Pr*Lr;for(gr=0;gr<tn;gr+=1){for(var Dr=0;Dr<sr;Dr+=1)ir[Rr++]=Or[Tr++];Rr+=(fr-1)*sr}}Pr++}}return ar=unzlibSync(ar),lr.interlaceMethod==1?(cr(0,0,8,8),cr(4,0,8,8),cr(0,4,4,8),cr(2,0,4,4),cr(0,2,2,4),cr(1,0,2,2),cr(0,1,1,2)):cr(0,0,1,1),ir},rr.prototype.decodePalette=function(){var ar,sr,ir,or,lr,cr,ur,dr,fr;for(ir=this.palette,cr=this.transparency.indexed||[],lr=new Uint8Array((cr.length||0)+ir.length),or=0,ar=0,sr=ur=0,dr=ir.length;ur<dr;sr=ur+=3)lr[or++]=ir[sr],lr[or++]=ir[sr+1],lr[or++]=ir[sr+2],lr[or++]=(fr=cr[ar++])!=null?fr:255;return lr},rr.prototype.copyToImageData=function(ar,sr){var ir,or,lr,cr,ur,dr,fr,mr,xr,pr,hr;if(or=this.colors,xr=null,ir=this.hasAlphaChannel,this.palette.length&&(xr=(hr=this._decodedPalette)!=null?hr:this._decodedPalette=this.decodePalette(),or=4,ir=!0),mr=(lr=ar.data||ar).length,ur=xr||sr,cr=dr=0,or===1)for(;cr<mr;)fr=xr?4*sr[cr/4]:dr,pr=ur[fr++],lr[cr++]=pr,lr[cr++]=pr,lr[cr++]=pr,lr[cr++]=ir?ur[fr++]:255,dr=fr;else for(;cr<mr;)fr=xr?4*sr[cr/4]:dr,lr[cr++]=ur[fr++],lr[cr++]=ur[fr++],lr[cr++]=ur[fr++],lr[cr++]=ir?ur[fr++]:255,dr=fr},rr.prototype.decode=function(){var ar;return ar=new Uint8Array(this.width*this.height*4),this.copyToImageData(ar,this.decodePixels()),ar};var nr=function(){if(Object.prototype.toString.call(n$7)==="[object Window]"){try{er=n$7.document.createElement("canvas"),tr=er.getContext("2d")}catch{return!1}return!0}return!1};return nr(),St=function(ar){var sr;if(nr()===!0)return tr.width=ar.width,tr.height=ar.height,tr.clearRect(0,0,ar.width,ar.height),tr.putImageData(ar,0,0),(sr=new Image).src=er.toDataURL(),sr;throw new Error("This method requires a Browser with Canvas-capability.")},rr.prototype.decodeFrames=function(ar){var sr,ir,or,lr,cr,ur,dr,fr;if(this.animation){for(fr=[],ir=cr=0,ur=(dr=this.animation.frames).length;cr<ur;ir=++cr)sr=dr[ir],or=ar.createImageData(sr.width,sr.height),lr=this.decodePixels(new Uint8Array(sr.data)),this.copyToImageData(or,lr),sr.imageData=or,fr.push(sr.image=St(or));return fr}},rr.prototype.renderFrame=function(ar,sr){var ir,or,lr;return ir=(or=this.animation.frames)[sr],lr=or[sr-1],sr===0&&ar.clearRect(0,0,this.width,this.height),(lr!=null?lr.disposeOp:void 0)===1?ar.clearRect(lr.xOffset,lr.yOffset,lr.width,lr.height):(lr!=null?lr.disposeOp:void 0)===2&&ar.putImageData(lr.imageData,lr.xOffset,lr.yOffset),ir.blendOp===0&&ar.clearRect(ir.xOffset,ir.yOffset,ir.width,ir.height),ar.drawImage(ir.image,ir.xOffset,ir.yOffset)},rr.prototype.animate=function(ar){var sr,ir,or,lr,cr,ur,dr=this;return ir=0,ur=this.animation,lr=ur.numFrames,or=ur.frames,cr=ur.numPlays,(sr=function(){var fr,mr;if(fr=ir++%lr,mr=or[fr],dr.renderFrame(ar,fr),lr>1&&ir/lr<cr)return dr.animation._timeout=setTimeout(sr,mr.delay)})()},rr.prototype.stopAnimation=function(){var ar;return clearTimeout((ar=this.animation)!=null?ar._timeout:void 0)},rr.prototype.render=function(ar){var sr,ir;return ar._png&&ar._png.stopAnimation(),ar._png=this,ar.width=this.width,ar.height=this.height,sr=ar.getContext("2d"),this.animation?(this.decodeFrames(sr),this.animate(sr)):(ir=sr.createImageData(this.width,this.height),this.copyToImageData(ir,this.decodePixels()),sr.putImageData(ir,0,0))},rr}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Zt(St){var er=0;if(St[er++]!==71||St[er++]!==73||St[er++]!==70||St[er++]!==56||(St[er++]+1&253)!=56||St[er++]!==97)throw new Error("Invalid GIF 87a/89a header.");var tr=St[er++]|St[er++]<<8,rr=St[er++]|St[er++]<<8,nr=St[er++],ar=nr>>7,sr=1<<(7&nr)+1;St[er++],St[er++];var ir=null,or=null;ar&&(ir=er,or=sr,er+=3*sr);var lr=!0,cr=[],ur=0,dr=null,fr=0,mr=null;for(this.width=tr,this.height=rr;lr&&er<St.length;)switch(St[er++]){case 33:switch(St[er++]){case 255:if(St[er]!==11||St[er+1]==78&&St[er+2]==69&&St[er+3]==84&&St[er+4]==83&&St[er+5]==67&&St[er+6]==65&&St[er+7]==80&&St[er+8]==69&&St[er+9]==50&&St[er+10]==46&&St[er+11]==48&&St[er+12]==3&&St[er+13]==1&&St[er+16]==0)er+=14,mr=St[er++]|St[er++]<<8,er++;else for(er+=12;;){if(!((Pr=St[er++])>=0))throw Error("Invalid block size");if(Pr===0)break;er+=Pr}break;case 249:if(St[er++]!==4||St[er+4]!==0)throw new Error("Invalid graphics extension block.");var xr=St[er++];ur=St[er++]|St[er++]<<8,dr=St[er++],!(1&xr)&&(dr=null),fr=xr>>2&7,er++;break;case 254:for(;;){if(!((Pr=St[er++])>=0))throw Error("Invalid block size");if(Pr===0)break;er+=Pr}break;default:throw new Error("Unknown graphic control label: 0x"+St[er-1].toString(16))}break;case 44:var pr=St[er++]|St[er++]<<8,hr=St[er++]|St[er++]<<8,gr=St[er++]|St[er++]<<8,vr=St[er++]|St[er++]<<8,br=St[er++],yr=br>>6&1,Er=1<<(7&br)+1,jr=ir,_r=or,Cr=!1;br>>7&&(Cr=!0,jr=er,_r=Er,er+=3*Er);var Or=er;for(er++;;){var Pr;if(!((Pr=St[er++])>=0))throw Error("Invalid block size");if(Pr===0)break;er+=Pr}cr.push({x:pr,y:hr,width:gr,height:vr,has_local_palette:Cr,palette_offset:jr,palette_size:_r,data_offset:Or,data_length:er-Or,transparent_index:dr,interlaced:!!yr,delay:ur,disposal:fr});break;case 59:lr=!1;break;default:throw new Error("Unknown gif block: 0x"+St[er-1].toString(16))}this.numFrames=function(){return cr.length},this.loopCount=function(){return mr},this.frameInfo=function(Lr){if(Lr<0||Lr>=cr.length)throw new Error("Frame index out of range.");return cr[Lr]},this.decodeAndBlitFrameBGRA=function(Lr,Gr){var Kr=this.frameInfo(Lr),nn=Kr.width*Kr.height,Qr=new Uint8Array(nn);$t(St,Kr.data_offset,Qr,nn);var zr=Kr.palette_offset,Vr=Kr.transparent_index;Vr===null&&(Vr=256);var Jr=Kr.width,tn=tr-Jr,Yr=Jr,Sr=4*(Kr.y*tr+Kr.x),Rr=4*((Kr.y+Kr.height)*tr+Kr.x),Tr=Sr,Dr=4*tn;Kr.interlaced===!0&&(Dr+=4*tr*7);for(var Mr=8,Br=0,qr=Qr.length;Br<qr;++Br){var Wr=Qr[Br];if(Yr===0&&(Yr=Jr,(Tr+=Dr)>=Rr&&(Dr=4*tn+4*tr*(Mr-1),Tr=Sr+(Jr+tn)*(Mr<<1),Mr>>=1)),Wr===Vr)Tr+=4;else{var sn=St[zr+3*Wr],un=St[zr+3*Wr+1],Nr=St[zr+3*Wr+2];Gr[Tr++]=Nr,Gr[Tr++]=un,Gr[Tr++]=sn,Gr[Tr++]=255}--Yr}},this.decodeAndBlitFrameRGBA=function(Lr,Gr){var Kr=this.frameInfo(Lr),nn=Kr.width*Kr.height,Qr=new Uint8Array(nn);$t(St,Kr.data_offset,Qr,nn);var zr=Kr.palette_offset,Vr=Kr.transparent_index;Vr===null&&(Vr=256);var Jr=Kr.width,tn=tr-Jr,Yr=Jr,Sr=4*(Kr.y*tr+Kr.x),Rr=4*((Kr.y+Kr.height)*tr+Kr.x),Tr=Sr,Dr=4*tn;Kr.interlaced===!0&&(Dr+=4*tr*7);for(var Mr=8,Br=0,qr=Qr.length;Br<qr;++Br){var Wr=Qr[Br];if(Yr===0&&(Yr=Jr,(Tr+=Dr)>=Rr&&(Dr=4*tn+4*tr*(Mr-1),Tr=Sr+(Jr+tn)*(Mr<<1),Mr>>=1)),Wr===Vr)Tr+=4;else{var sn=St[zr+3*Wr],un=St[zr+3*Wr+1],Nr=St[zr+3*Wr+2];Gr[Tr++]=sn,Gr[Tr++]=un,Gr[Tr++]=Nr,Gr[Tr++]=255}--Yr}}}function $t(St,er,tr,rr){for(var nr=St[er++],ar=1<<nr,sr=ar+1,ir=sr+1,or=nr+1,lr=(1<<or)-1,cr=0,ur=0,dr=0,fr=St[er++],mr=new Int32Array(4096),xr=null;;){for(;cr<16&&fr!==0;)ur|=St[er++]<<cr,cr+=8,fr===1?fr=St[er++]:--fr;if(cr<or)break;var pr=ur&lr;if(ur>>=or,cr-=or,pr!==ar){if(pr===sr)break;for(var hr=pr<ir?pr:xr,gr=0,vr=hr;vr>ar;)vr=mr[vr]>>8,++gr;var br=vr;if(dr+gr+(hr!==pr?1:0)>rr)return void a$d.log("Warning, gif stream longer than expected.");tr[dr++]=br;var yr=dr+=gr;for(hr!==pr&&(tr[dr++]=br),vr=hr;gr--;)vr=mr[vr],tr[--yr]=255&vr,vr>>=8;xr!==null&&ir<4096&&(mr[ir++]=xr<<8|br,ir>=lr+1&&or<12&&(++or,lr=lr<<1|1)),xr=pr}else ir=sr+1,lr=(1<<(or=nr+1))-1,xr=null}return dr!==rr&&a$d.log("Warning, gif stream shorter than expected."),tr}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Qt(St){var er,tr,rr,nr,ar,sr=Math.floor,ir=new Array(64),or=new Array(64),lr=new Array(64),cr=new Array(64),ur=new Array(65535),dr=new Array(65535),fr=new Array(64),mr=new Array(64),xr=[],pr=0,hr=7,gr=new Array(64),vr=new Array(64),br=new Array(64),yr=new Array(256),Er=new Array(2048),jr=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],_r=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Cr=[0,1,2,3,4,5,6,7,8,9,10,11],Or=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Pr=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],Lr=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Gr=[0,1,2,3,4,5,6,7,8,9,10,11],Kr=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],nn=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Qr(Sr,Rr){for(var Tr=0,Dr=0,Mr=new Array,Br=1;Br<=16;Br++){for(var qr=1;qr<=Sr[Br];qr++)Mr[Rr[Dr]]=[],Mr[Rr[Dr]][0]=Tr,Mr[Rr[Dr]][1]=Br,Dr++,Tr++;Tr*=2}return Mr}function zr(Sr){for(var Rr=Sr[0],Tr=Sr[1]-1;Tr>=0;)Rr&1<<Tr&&(pr|=1<<hr),Tr--,--hr<0&&(pr==255?(Vr(255),Vr(0)):Vr(pr),hr=7,pr=0)}function Vr(Sr){xr.push(Sr)}function Jr(Sr){Vr(Sr>>8&255),Vr(255&Sr)}function tn(Sr,Rr,Tr,Dr,Mr){for(var Br,qr=Mr[0],Wr=Mr[240],sn=function(yn,Dn){var pn,Sn,wn,Vn,Yn,ns,ls,vs,Ss,ps,os=0;for(Ss=0;Ss<8;++Ss){pn=yn[os],Sn=yn[os+1],wn=yn[os+2],Vn=yn[os+3],Yn=yn[os+4],ns=yn[os+5],ls=yn[os+6];var zs=pn+(vs=yn[os+7]),Bn=pn-vs,_n=Sn+ls,Ln=Sn-ls,cs=wn+ns,Ts=wn-ns,Vs=Vn+Yn,$s=Vn-Yn,to=zs+Vs,xl=zs-Vs,Pl=_n+cs,go=_n-cs;yn[os]=to+Pl,yn[os+4]=to-Pl;var oo=.707106781*(go+xl);yn[os+2]=xl+oo,yn[os+6]=xl-oo;var xo=.382683433*((to=$s+Ts)-(go=Ln+Bn)),Gl=.5411961*to+xo,Eo=1.306562965*go+xo,$l=.707106781*(Pl=Ts+Ln),Il=Bn+$l,Qs=Bn-$l;yn[os+5]=Qs+Gl,yn[os+3]=Qs-Gl,yn[os+1]=Il+Eo,yn[os+7]=Il-Eo,os+=8}for(os=0,Ss=0;Ss<8;++Ss){pn=yn[os],Sn=yn[os+8],wn=yn[os+16],Vn=yn[os+24],Yn=yn[os+32],ns=yn[os+40],ls=yn[os+48];var Ml=pn+(vs=yn[os+56]),Al=pn-vs,Oo=Sn+ls,zo=Sn-ls,Xo=wn+ns,fn=wn-ns,An=Vn+Yn,bn=Vn-Yn,En=Ml+An,kn=Ml-An,Nn=Oo+Xo,Qn=Oo-Xo;yn[os]=En+Nn,yn[os+32]=En-Nn;var es=.707106781*(Qn+kn);yn[os+16]=kn+es,yn[os+48]=kn-es;var Zn=.382683433*((En=bn+fn)-(Qn=zo+Al)),ga=.5411961*En+Zn,ba=1.306562965*Qn+Zn,_s=.707106781*(Nn=fn+zo),Cs=Al+_s,Ds=Al-_s;yn[os+40]=Ds+ga,yn[os+24]=Ds-ga,yn[os+8]=Cs+ba,yn[os+56]=Cs-ba,os++}for(Ss=0;Ss<64;++Ss)ps=yn[Ss]*Dn[Ss],fr[Ss]=ps>0?ps+.5|0:ps-.5|0;return fr}(Sr,Rr),un=0;un<64;++un)mr[jr[un]]=sn[un];var Nr=mr[0]-Tr;Tr=mr[0],Nr==0?zr(Dr[0]):(zr(Dr[dr[Br=32767+Nr]]),zr(ur[Br]));for(var Ur=63;Ur>0&&mr[Ur]==0;)Ur--;if(Ur==0)return zr(qr),Tr;for(var en,Zr=1;Zr<=Ur;){for(var Ir=Zr;mr[Zr]==0&&Zr<=Ur;)++Zr;var on=Zr-Ir;if(on>=16){en=on>>4;for(var vn=1;vn<=en;++vn)zr(Wr);on&=15}Br=32767+mr[Zr],zr(Mr[(on<<4)+dr[Br]]),zr(ur[Br]),Zr++}return Ur!=63&&zr(qr),Tr}function Yr(Sr){Sr=Math.min(Math.max(Sr,1),100),ar!=Sr&&(function(Rr){for(var Tr=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Dr=0;Dr<64;Dr++){var Mr=sr((Tr[Dr]*Rr+50)/100);Mr=Math.min(Math.max(Mr,1),255),ir[jr[Dr]]=Mr}for(var Br=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],qr=0;qr<64;qr++){var Wr=sr((Br[qr]*Rr+50)/100);Wr=Math.min(Math.max(Wr,1),255),or[jr[qr]]=Wr}for(var sn=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],un=0,Nr=0;Nr<8;Nr++)for(var Ur=0;Ur<8;Ur++)lr[un]=1/(ir[jr[un]]*sn[Nr]*sn[Ur]*8),cr[un]=1/(or[jr[un]]*sn[Nr]*sn[Ur]*8),un++}(Sr<50?Math.floor(5e3/Sr):Math.floor(200-2*Sr)),ar=Sr)}this.encode=function(Sr,Rr){Rr&&Yr(Rr),xr=new Array,pr=0,hr=7,Jr(65496),Jr(65504),Jr(16),Vr(74),Vr(70),Vr(73),Vr(70),Vr(0),Vr(1),Vr(1),Vr(0),Jr(1),Jr(1),Vr(0),Vr(0),function(){Jr(65499),Jr(132),Vr(0);for(var Sn=0;Sn<64;Sn++)Vr(ir[Sn]);Vr(1);for(var wn=0;wn<64;wn++)Vr(or[wn])}(),function(Sn,wn){Jr(65472),Jr(17),Vr(8),Jr(wn),Jr(Sn),Vr(3),Vr(1),Vr(17),Vr(0),Vr(2),Vr(17),Vr(1),Vr(3),Vr(17),Vr(1)}(Sr.width,Sr.height),function(){Jr(65476),Jr(418),Vr(0);for(var Sn=0;Sn<16;Sn++)Vr(_r[Sn+1]);for(var wn=0;wn<=11;wn++)Vr(Cr[wn]);Vr(16);for(var Vn=0;Vn<16;Vn++)Vr(Or[Vn+1]);for(var Yn=0;Yn<=161;Yn++)Vr(Pr[Yn]);Vr(1);for(var ns=0;ns<16;ns++)Vr(Lr[ns+1]);for(var ls=0;ls<=11;ls++)Vr(Gr[ls]);Vr(17);for(var vs=0;vs<16;vs++)Vr(Kr[vs+1]);for(var Ss=0;Ss<=161;Ss++)Vr(nn[Ss])}(),Jr(65498),Jr(12),Vr(3),Vr(1),Vr(0),Vr(2),Vr(17),Vr(3),Vr(17),Vr(0),Vr(63),Vr(0);var Tr=0,Dr=0,Mr=0;pr=0,hr=7,this.encode.displayName="_encode_";for(var Br,qr,Wr,sn,un,Nr,Ur,en,Zr,Ir=Sr.data,on=Sr.width,vn=Sr.height,yn=4*on,Dn=0;Dn<vn;){for(Br=0;Br<yn;){for(un=yn*Dn+Br,Ur=-1,en=0,Zr=0;Zr<64;Zr++)Nr=un+(en=Zr>>3)*yn+(Ur=4*(7&Zr)),Dn+en>=vn&&(Nr-=yn*(Dn+1+en-vn)),Br+Ur>=yn&&(Nr-=Br+Ur-yn+4),qr=Ir[Nr++],Wr=Ir[Nr++],sn=Ir[Nr++],gr[Zr]=(Er[qr]+Er[Wr+256>>0]+Er[sn+512>>0]>>16)-128,vr[Zr]=(Er[qr+768>>0]+Er[Wr+1024>>0]+Er[sn+1280>>0]>>16)-128,br[Zr]=(Er[qr+1280>>0]+Er[Wr+1536>>0]+Er[sn+1792>>0]>>16)-128;Tr=tn(gr,lr,Tr,er,rr),Dr=tn(vr,cr,Dr,tr,nr),Mr=tn(br,cr,Mr,tr,nr),Br+=32}Dn+=8}if(hr>=0){var pn=[];pn[1]=hr+1,pn[0]=(1<<hr+1)-1,zr(pn)}return Jr(65497),new Uint8Array(xr)},St=St||50,function(){for(var Sr=String.fromCharCode,Rr=0;Rr<256;Rr++)yr[Rr]=Sr(Rr)}(),er=Qr(_r,Cr),tr=Qr(Lr,Gr),rr=Qr(Or,Pr),nr=Qr(Kr,nn),function(){for(var Sr=1,Rr=2,Tr=1;Tr<=15;Tr++){for(var Dr=Sr;Dr<Rr;Dr++)dr[32767+Dr]=Tr,ur[32767+Dr]=[],ur[32767+Dr][1]=Tr,ur[32767+Dr][0]=Dr;for(var Mr=-(Rr-1);Mr<=-Sr;Mr++)dr[32767+Mr]=Tr,ur[32767+Mr]=[],ur[32767+Mr][1]=Tr,ur[32767+Mr][0]=Rr-1+Mr;Sr<<=1,Rr<<=1}}(),function(){for(var Sr=0;Sr<256;Sr++)Er[Sr]=19595*Sr,Er[Sr+256>>0]=38470*Sr,Er[Sr+512>>0]=7471*Sr+32768,Er[Sr+768>>0]=-11059*Sr,Er[Sr+1024>>0]=-21709*Sr,Er[Sr+1280>>0]=32768*Sr+8421375,Er[Sr+1536>>0]=-27439*Sr,Er[Sr+1792>>0]=-5329*Sr}(),Yr(St)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function te$1(St,er){if(this.pos=0,this.buffer=St,this.datav=new DataView(St.buffer),this.is_with_alpha=!!er,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function ee$1(St){function er(_r){if(!_r)throw Error("assert :P")}function tr(_r,Cr,Or){for(var Pr=0;4>Pr;Pr++)if(_r[Cr+Pr]!=Or.charCodeAt(Pr))return!0;return!1}function rr(_r,Cr,Or,Pr,Lr){for(var Gr=0;Gr<Lr;Gr++)_r[Cr+Gr]=Or[Pr+Gr]}function nr(_r,Cr,Or,Pr){for(var Lr=0;Lr<Pr;Lr++)_r[Cr+Lr]=Or}function ar(_r){return new Int32Array(_r)}function sr(_r,Cr){for(var Or=[],Pr=0;Pr<_r;Pr++)Or.push(new Cr);return Or}function ir(_r,Cr){var Or=[];return function Pr(Lr,Gr,Kr){for(var nn=Kr[Gr],Qr=0;Qr<nn&&(Lr.push(Kr.length>Gr+1?[]:new Cr),!(Kr.length<Gr+1));Qr++)Pr(Lr[Qr],Gr+1,Kr)}(Or,0,_r),Or}var or=function(){var _r=this;function Cr(wr,Ar){for(var $r=1<<Ar-1>>>0;wr&$r;)$r>>>=1;return $r?(wr&$r-1)+$r:wr}function Or(wr,Ar,$r,Hr,an){er(!(Hr%$r));do wr[Ar+(Hr-=$r)]=an;while(0<Hr)}function Pr(wr,Ar,$r,Hr,an){if(er(2328>=an),512>=an)var dn=ar(512);else if((dn=ar(an))==null)return 0;return function(hn,mn,gn,jn,Un,na){var xa,Kn,gs=mn,rs=1<<gn,zn=ar(16),Xn=ar(16);for(er(Un!=0),er(jn!=null),er(hn!=null),er(0<gn),Kn=0;Kn<Un;++Kn){if(15<jn[Kn])return 0;++zn[jn[Kn]]}if(zn[0]==Un)return 0;for(Xn[1]=0,xa=1;15>xa;++xa){if(zn[xa]>1<<xa)return 0;Xn[xa+1]=Xn[xa]+zn[xa]}for(Kn=0;Kn<Un;++Kn)xa=jn[Kn],0<jn[Kn]&&(na[Xn[xa]++]=Kn);if(Xn[15]==1)return(jn=new Lr).g=0,jn.value=na[0],Or(hn,gs,1,rs,jn),rs;var ds,Es=-1,fs=rs-1,Bs=0,Ps=1,fo=1,Os=1<<gn;for(Kn=0,xa=1,Un=2;xa<=gn;++xa,Un<<=1){if(Ps+=fo<<=1,0>(fo-=zn[xa]))return 0;for(;0<zn[xa];--zn[xa])(jn=new Lr).g=xa,jn.value=na[Kn++],Or(hn,gs+Bs,Un,Os,jn),Bs=Cr(Bs,xa)}for(xa=gn+1,Un=2;15>=xa;++xa,Un<<=1){if(Ps+=fo<<=1,0>(fo-=zn[xa]))return 0;for(;0<zn[xa];--zn[xa]){if(jn=new Lr,(Bs&fs)!=Es){for(gs+=Os,ds=1<<(Es=xa)-gn;15>Es&&!(0>=(ds-=zn[Es]));)++Es,ds<<=1;rs+=Os=1<<(ds=Es-gn),hn[mn+(Es=Bs&fs)].g=ds+gn,hn[mn+Es].value=gs-mn-Es}jn.g=xa-gn,jn.value=na[Kn++],Or(hn,gs+(Bs>>gn),Un,Os,jn),Bs=Cr(Bs,xa)}}return Ps!=2*Xn[15]-1?0:rs}(wr,Ar,$r,Hr,an,dn)}function Lr(){this.value=this.g=0}function Gr(){this.value=this.g=0}function Kr(){this.G=sr(5,Lr),this.H=ar(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=sr(wl,Gr)}function nn(wr,Ar,$r,Hr){er(wr!=null),er(Ar!=null),er(2147483648>Hr),wr.Ca=254,wr.I=0,wr.b=-8,wr.Ka=0,wr.oa=Ar,wr.pa=$r,wr.Jd=Ar,wr.Yc=$r+Hr,wr.Zc=4<=Hr?$r+Hr-4+1:$r,Br(wr)}function Qr(wr,Ar){for(var $r=0;0<Ar--;)$r|=Wr(wr,128)<<Ar;return $r}function zr(wr,Ar){var $r=Qr(wr,Ar);return qr(wr)?-$r:$r}function Vr(wr,Ar,$r,Hr){var an,dn=0;for(er(wr!=null),er(Ar!=null),er(4294967288>Hr),wr.Sb=Hr,wr.Ra=0,wr.u=0,wr.h=0,4<Hr&&(Hr=4),an=0;an<Hr;++an)dn+=Ar[$r+an]<<8*an;wr.Ra=dn,wr.bb=Hr,wr.oa=Ar,wr.pa=$r}function Jr(wr){for(;8<=wr.u&&wr.bb<wr.Sb;)wr.Ra>>>=8,wr.Ra+=wr.oa[wr.pa+wr.bb]<<Dl-8>>>0,++wr.bb,wr.u-=8;Tr(wr)&&(wr.h=1,wr.u=0)}function tn(wr,Ar){if(er(0<=Ar),!wr.h&&Ar<=Qu){var $r=Rr(wr)&bu[Ar];return wr.u+=Ar,Jr(wr),$r}return wr.h=1,wr.u=0}function Yr(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Sr(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Rr(wr){return wr.Ra>>>(wr.u&Dl-1)>>>0}function Tr(wr){return er(wr.bb<=wr.Sb),wr.h||wr.bb==wr.Sb&&wr.u>Dl}function Dr(wr,Ar){wr.u=Ar,wr.h=Tr(wr)}function Mr(wr){wr.u>=_d&&(er(wr.u>=_d),Jr(wr))}function Br(wr){er(wr!=null&&wr.oa!=null),wr.pa<wr.Zc?(wr.I=(wr.oa[wr.pa++]|wr.I<<8)>>>0,wr.b+=8):(er(wr!=null&&wr.oa!=null),wr.pa<wr.Yc?(wr.b+=8,wr.I=wr.oa[wr.pa++]|wr.I<<8):wr.Ka?wr.b=0:(wr.I<<=8,wr.b+=8,wr.Ka=1))}function qr(wr){return Qr(wr,1)}function Wr(wr,Ar){var $r=wr.Ca;0>wr.b&&Br(wr);var Hr=wr.b,an=$r*Ar>>>8,dn=(wr.I>>>Hr>an)+0;for(dn?($r-=an,wr.I-=an+1<<Hr>>>0):$r=an+1,Hr=$r,an=0;256<=Hr;)an+=8,Hr>>=8;return Hr=7^an+tu[Hr],wr.b-=Hr,wr.Ca=($r<<Hr)-1,dn}function sn(wr,Ar,$r){wr[Ar+0]=$r>>24&255,wr[Ar+1]=$r>>16&255,wr[Ar+2]=$r>>8&255,wr[Ar+3]=$r>>0&255}function un(wr,Ar){return wr[Ar+0]<<0|wr[Ar+1]<<8}function Nr(wr,Ar){return un(wr,Ar)|wr[Ar+2]<<16}function Ur(wr,Ar){return un(wr,Ar)|un(wr,Ar+2)<<16}function en(wr,Ar){var $r=1<<Ar;return er(wr!=null),er(0<Ar),wr.X=ar($r),wr.X==null?0:(wr.Mb=32-Ar,wr.Xa=Ar,1)}function Zr(wr,Ar){er(wr!=null),er(Ar!=null),er(wr.Xa==Ar.Xa),rr(Ar.X,0,wr.X,0,1<<Ar.Xa)}function Ir(){this.X=[],this.Xa=this.Mb=0}function on(wr,Ar,$r,Hr){er($r!=null),er(Hr!=null);var an=$r[0],dn=Hr[0];return an==0&&(an=(wr*dn+Ar/2)/Ar),dn==0&&(dn=(Ar*an+wr/2)/wr),0>=an||0>=dn?0:($r[0]=an,Hr[0]=dn,1)}function vn(wr,Ar){return wr+(1<<Ar)-1>>>Ar}function yn(wr,Ar){return((4278255360&wr)+(4278255360&Ar)>>>0&4278255360)+((16711935&wr)+(16711935&Ar)>>>0&16711935)>>>0}function Dn(wr,Ar){_r[Ar]=function($r,Hr,an,dn,hn,mn,gn){var jn;for(jn=0;jn<hn;++jn){var Un=_r[wr](mn[gn+jn-1],an,dn+jn);mn[gn+jn]=yn($r[Hr+jn],Un)}}}function pn(){this.ud=this.hd=this.jd=0}function Sn(wr,Ar){return((4278124286&(wr^Ar))>>>1)+(wr&Ar)>>>0}function wn(wr){return 0<=wr&&256>wr?wr:0>wr?0:255<wr?255:void 0}function Vn(wr,Ar){return wn(wr+(wr-Ar+.5>>1))}function Yn(wr,Ar,$r){return Math.abs(Ar-$r)-Math.abs(wr-$r)}function ns(wr,Ar,$r,Hr,an,dn,hn){for(Hr=dn[hn-1],$r=0;$r<an;++$r)dn[hn+$r]=Hr=yn(wr[Ar+$r],Hr)}function ls(wr,Ar,$r,Hr,an){var dn;for(dn=0;dn<$r;++dn){var hn=wr[Ar+dn],mn=hn>>8&255,gn=16711935&(gn=(gn=16711935&hn)+((mn<<16)+mn));Hr[an+dn]=(4278255360&hn)+gn>>>0}}function vs(wr,Ar){Ar.jd=wr>>0&255,Ar.hd=wr>>8&255,Ar.ud=wr>>16&255}function Ss(wr,Ar,$r,Hr,an,dn){var hn;for(hn=0;hn<Hr;++hn){var mn=Ar[$r+hn],gn=mn>>>8,jn=mn,Un=255&(Un=(Un=mn>>>16)+((wr.jd<<24>>24)*(gn<<24>>24)>>>5));jn=255&(jn=(jn=jn+((wr.hd<<24>>24)*(gn<<24>>24)>>>5))+((wr.ud<<24>>24)*(Un<<24>>24)>>>5)),an[dn+hn]=(4278255360&mn)+(Un<<16)+jn}}function ps(wr,Ar,$r,Hr,an){_r[Ar]=function(dn,hn,mn,gn,jn,Un,na,xa,Kn){for(gn=na;gn<xa;++gn)for(na=0;na<Kn;++na)jn[Un++]=an(mn[Hr(dn[hn++])])},_r[wr]=function(dn,hn,mn,gn,jn,Un,na){var xa=8>>dn.b,Kn=dn.Ea,gs=dn.K[0],rs=dn.w;if(8>xa)for(dn=(1<<dn.b)-1,rs=(1<<xa)-1;hn<mn;++hn){var zn,Xn=0;for(zn=0;zn<Kn;++zn)zn&dn||(Xn=Hr(gn[jn++])),Un[na++]=an(gs[Xn&rs]),Xn>>=xa}else _r["VP8LMapColor"+$r](gn,jn,gs,rs,Un,na,hn,mn,Kn)}}function os(wr,Ar,$r,Hr,an){for($r=Ar+$r;Ar<$r;){var dn=wr[Ar++];Hr[an++]=dn>>16&255,Hr[an++]=dn>>8&255,Hr[an++]=dn>>0&255}}function zs(wr,Ar,$r,Hr,an){for($r=Ar+$r;Ar<$r;){var dn=wr[Ar++];Hr[an++]=dn>>16&255,Hr[an++]=dn>>8&255,Hr[an++]=dn>>0&255,Hr[an++]=dn>>24&255}}function Bn(wr,Ar,$r,Hr,an){for($r=Ar+$r;Ar<$r;){var dn=(hn=wr[Ar++])>>16&240|hn>>12&15,hn=hn>>0&240|hn>>28&15;Hr[an++]=dn,Hr[an++]=hn}}function _n(wr,Ar,$r,Hr,an){for($r=Ar+$r;Ar<$r;){var dn=(hn=wr[Ar++])>>16&248|hn>>13&7,hn=hn>>5&224|hn>>3&31;Hr[an++]=dn,Hr[an++]=hn}}function Ln(wr,Ar,$r,Hr,an){for($r=Ar+$r;Ar<$r;){var dn=wr[Ar++];Hr[an++]=dn>>0&255,Hr[an++]=dn>>8&255,Hr[an++]=dn>>16&255}}function cs(wr,Ar,$r,Hr,an,dn){if(dn==0)for($r=Ar+$r;Ar<$r;)sn(Hr,((dn=wr[Ar++])[0]>>24|dn[1]>>8&65280|dn[2]<<8&16711680|dn[3]<<24)>>>0),an+=32;else rr(Hr,an,wr,Ar,$r)}function Ts(wr,Ar){_r[Ar][0]=_r[wr+"0"],_r[Ar][1]=_r[wr+"1"],_r[Ar][2]=_r[wr+"2"],_r[Ar][3]=_r[wr+"3"],_r[Ar][4]=_r[wr+"4"],_r[Ar][5]=_r[wr+"5"],_r[Ar][6]=_r[wr+"6"],_r[Ar][7]=_r[wr+"7"],_r[Ar][8]=_r[wr+"8"],_r[Ar][9]=_r[wr+"9"],_r[Ar][10]=_r[wr+"10"],_r[Ar][11]=_r[wr+"11"],_r[Ar][12]=_r[wr+"12"],_r[Ar][13]=_r[wr+"13"],_r[Ar][14]=_r[wr+"0"],_r[Ar][15]=_r[wr+"0"]}function Vs(wr){return wr==Ep||wr==_p||wr==np||wr==Sp}function $s(){this.eb=[],this.size=this.A=this.fb=0}function to(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function xl(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new $s,this.f.kb=new to,this.sd=null}function Pl(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function go(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function oo(wr){return alert("todo:WebPSamplerProcessPlane"),wr.T}function xo(wr,Ar){var $r=wr.T,Hr=Ar.ba.f.RGBA,an=Hr.eb,dn=Hr.fb+wr.ka*Hr.A,hn=Eu[Ar.ba.S],mn=wr.y,gn=wr.O,jn=wr.f,Un=wr.N,na=wr.ea,xa=wr.W,Kn=Ar.cc,gs=Ar.dc,rs=Ar.Mc,zn=Ar.Nc,Xn=wr.ka,ds=wr.ka+wr.T,Es=wr.U,fs=Es+1>>1;for(Xn==0?hn(mn,gn,null,null,jn,Un,na,xa,jn,Un,na,xa,an,dn,null,null,Es):(hn(Ar.ec,Ar.fc,mn,gn,Kn,gs,rs,zn,jn,Un,na,xa,an,dn-Hr.A,an,dn,Es),++$r);Xn+2<ds;Xn+=2)Kn=jn,gs=Un,rs=na,zn=xa,Un+=wr.Rc,xa+=wr.Rc,dn+=2*Hr.A,hn(mn,(gn+=2*wr.fa)-wr.fa,mn,gn,Kn,gs,rs,zn,jn,Un,na,xa,an,dn-Hr.A,an,dn,Es);return gn+=wr.fa,wr.j+ds<wr.o?(rr(Ar.ec,Ar.fc,mn,gn,Es),rr(Ar.cc,Ar.dc,jn,Un,fs),rr(Ar.Mc,Ar.Nc,na,xa,fs),$r--):1&ds||hn(mn,gn,null,null,jn,Un,na,xa,jn,Un,na,xa,an,dn+Hr.A,null,null,Es),$r}function Gl(wr,Ar,$r){var Hr=wr.F,an=[wr.J];if(Hr!=null){var dn=wr.U,hn=Ar.ba.S,mn=hn==rp||hn==np;Ar=Ar.ba.f.RGBA;var gn=[0],jn=wr.ka;gn[0]=wr.T,wr.Kb&&(jn==0?--gn[0]:(--jn,an[0]-=wr.width),wr.j+wr.ka+wr.T==wr.o&&(gn[0]=wr.o-wr.j-jn));var Un=Ar.eb;jn=Ar.fb+jn*Ar.A,wr=Js(Hr,an[0],wr.width,dn,gn,Un,jn+(mn?0:3),Ar.A),er($r==gn),wr&&Vs(hn)&&co(Un,jn,mn,dn,gn,Ar.A)}return 0}function Eo(wr){var Ar=wr.ma,$r=Ar.ba.S,Hr=11>$r,an=$r==ep||$r==tp||$r==rp||$r==wp||$r==12||Vs($r);if(Ar.memory=null,Ar.Ib=null,Ar.Jb=null,Ar.Nd=null,!au(Ar.Oa,wr,an?11:12))return 0;if(an&&Vs($r)&&Jn(),wr.da)alert("todo:use_scaling");else{if(Hr){if(Ar.Ib=oo,wr.Kb){if($r=wr.U+1>>1,Ar.memory=ar(wr.U+2*$r),Ar.memory==null)return 0;Ar.ec=Ar.memory,Ar.fc=0,Ar.cc=Ar.ec,Ar.dc=Ar.fc+wr.U,Ar.Mc=Ar.cc,Ar.Nc=Ar.dc+$r,Ar.Ib=xo,Jn()}}else alert("todo:EmitYUV");an&&(Ar.Jb=Gl,Hr&&$n())}if(Hr&&!dm){for(wr=0;256>wr;++wr)bx[wr]=89858*(wr-128)+sp>>ap,_x[wr]=-22014*(wr-128)+sp,Ex[wr]=-45773*(wr-128),wx[wr]=113618*(wr-128)+sp>>ap;for(wr=G0;wr<Rp;++wr)Ar=76283*(wr-16)+sp>>ap,Sx[wr-G0]=qs(Ar,255),jx[wr-G0]=qs(Ar+8>>4,15);dm=1}return 1}function $l(wr){var Ar=wr.ma,$r=wr.U,Hr=wr.T;return er(!(1&wr.ka)),0>=$r||0>=Hr?0:($r=Ar.Ib(wr,Ar),Ar.Jb!=null&&Ar.Jb(wr,Ar,$r),Ar.Dc+=$r,1)}function Il(wr){wr.ma.memory=null}function Qs(wr,Ar,$r,Hr){return tn(wr,8)!=47?0:(Ar[0]=tn(wr,14)+1,$r[0]=tn(wr,14)+1,Hr[0]=tn(wr,1),tn(wr,3)!=0?0:!wr.h)}function Ml(wr,Ar){if(4>wr)return wr+1;var $r=wr-2>>1;return(2+(1&wr)<<$r)+tn(Ar,$r)+1}function Al(wr,Ar){return 120<Ar?Ar-120:1<=($r=(($r=sx[Ar-1])>>4)*wr+(8-(15&$r)))?$r:1;var $r}function Oo(wr,Ar,$r){var Hr=Rr($r),an=wr[Ar+=255&Hr].g-8;return 0<an&&(Dr($r,$r.u+8),Hr=Rr($r),Ar+=wr[Ar].value,Ar+=Hr&(1<<an)-1),Dr($r,$r.u+wr[Ar].g),wr[Ar].value}function zo(wr,Ar,$r){return $r.g+=wr.g,$r.value+=wr.value<<Ar>>>0,er(8>=$r.g),wr.g}function Xo(wr,Ar,$r){var Hr=wr.xc;return er((Ar=Hr==0?0:wr.vc[wr.md*($r>>Hr)+(Ar>>Hr)])<wr.Wb),wr.Ya[Ar]}function fn(wr,Ar,$r,Hr){var an=wr.ab,dn=wr.c*Ar,hn=wr.C;Ar=hn+Ar;var mn=$r,gn=Hr;for(Hr=wr.Ta,$r=wr.Ua;0<an--;){var jn=wr.gc[an],Un=hn,na=Ar,xa=mn,Kn=gn,gs=(gn=Hr,mn=$r,jn.Ea);switch(er(Un<na),er(na<=jn.nc),jn.hc){case 2:fu(xa,Kn,(na-Un)*gs,gn,mn);break;case 0:var rs=Un,zn=na,Xn=gn,ds=mn,Es=(Os=jn).Ea;rs==0&&(Do(xa,Kn,null,null,1,Xn,ds),ns(xa,Kn+1,0,0,Es-1,Xn,ds+1),Kn+=Es,ds+=Es,++rs);for(var fs=1<<Os.b,Bs=fs-1,Ps=vn(Es,Os.b),fo=Os.K,Os=Os.w+(rs>>Os.b)*Ps;rs<zn;){var Mo=fo,qo=Os,Lo=1;for(E0(xa,Kn,Xn,ds-Es,1,Xn,ds);Lo<Es;){var No=(Lo&~Bs)+fs;No>Es&&(No=Es),(0,Ru[Mo[qo++]>>8&15])(xa,Kn+ +Lo,Xn,ds+Lo-Es,No-Lo,Xn,ds+Lo),Lo=No}Kn+=Es,ds+=Es,++rs&Bs||(Os+=Ps)}na!=jn.nc&&rr(gn,mn-gs,gn,mn+(na-Un-1)*gs,gs);break;case 1:for(gs=xa,zn=Kn,Es=(xa=jn.Ea)-(ds=xa&~(Xn=(Kn=1<<jn.b)-1)),rs=vn(xa,jn.b),fs=jn.K,jn=jn.w+(Un>>jn.b)*rs;Un<na;){for(Bs=fs,Ps=jn,fo=new pn,Os=zn+ds,Mo=zn+xa;zn<Os;)vs(Bs[Ps++],fo),Uu(fo,gs,zn,Kn,gn,mn),zn+=Kn,mn+=Kn;zn<Mo&&(vs(Bs[Ps++],fo),Uu(fo,gs,zn,Es,gn,mn),zn+=Es,mn+=Es),++Un&Xn||(jn+=rs)}break;case 3:if(xa==gn&&Kn==mn&&0<jn.b){for(zn=gn,xa=gs=mn+(na-Un)*gs-(ds=(na-Un)*vn(jn.Ea,jn.b)),Kn=gn,Xn=mn,rs=[],ds=(Es=ds)-1;0<=ds;--ds)rs[ds]=Kn[Xn+ds];for(ds=Es-1;0<=ds;--ds)zn[xa+ds]=rs[ds];su(jn,Un,na,gn,gs,gn,mn)}else su(jn,Un,na,xa,Kn,gn,mn)}mn=Hr,gn=$r}gn!=$r&&rr(Hr,$r,mn,gn,dn)}function An(wr,Ar){var $r=wr.V,Hr=wr.Ba+wr.c*wr.C,an=Ar-wr.C;if(er(Ar<=wr.l.o),er(16>=an),0<an){var dn=wr.l,hn=wr.Ta,mn=wr.Ua,gn=dn.width;if(fn(wr,an,$r,Hr),an=mn=[mn],er(($r=wr.C)<(Hr=Ar)),er(dn.v<dn.va),Hr>dn.o&&(Hr=dn.o),$r<dn.j){var jn=dn.j-$r;$r=dn.j,an[0]+=jn*gn}if($r>=Hr?$r=0:(an[0]+=4*dn.v,dn.ka=$r-dn.j,dn.U=dn.va-dn.v,dn.T=Hr-$r,$r=1),$r){if(mn=mn[0],11>($r=wr.ca).S){var Un=$r.f.RGBA,na=(Hr=$r.S,an=dn.U,dn=dn.T,jn=Un.eb,Un.A),xa=dn;for(Un=Un.fb+wr.Ma*Un.A;0<xa--;){var Kn=hn,gs=mn,rs=an,zn=jn,Xn=Un;switch(Hr){case _h:ru(Kn,gs,rs,zn,Xn);break;case ep:Yl(Kn,gs,rs,zn,Xn);break;case Ep:Yl(Kn,gs,rs,zn,Xn),co(zn,Xn,0,rs,1,0);break;case rm:wu(Kn,gs,rs,zn,Xn);break;case tp:cs(Kn,gs,rs,zn,Xn,1);break;case _p:cs(Kn,gs,rs,zn,Xn,1),co(zn,Xn,0,rs,1,0);break;case rp:cs(Kn,gs,rs,zn,Xn,0);break;case np:cs(Kn,gs,rs,zn,Xn,0),co(zn,Xn,1,rs,1,0);break;case wp:Jl(Kn,gs,rs,zn,Xn);break;case Sp:Jl(Kn,gs,rs,zn,Xn),Zs(zn,Xn,rs,1,0);break;case nm:Au(Kn,gs,rs,zn,Xn);break;default:er(0)}mn+=gn,Un+=na}wr.Ma+=dn}else alert("todo:EmitRescaledRowsYUVA");er(wr.Ma<=$r.height)}}wr.C=Ar,er(wr.C<=wr.i)}function bn(wr){var Ar;if(0<wr.ua)return 0;for(Ar=0;Ar<wr.Wb;++Ar){var $r=wr.Ya[Ar].G,Hr=wr.Ya[Ar].H;if(0<$r[1][Hr[1]+0].g||0<$r[2][Hr[2]+0].g||0<$r[3][Hr[3]+0].g)return 0}return 1}function En(wr,Ar,$r,Hr,an,dn){if(wr.Z!=0){var hn=wr.qd,mn=wr.rd;for(er(c0[wr.Z]!=null);Ar<$r;++Ar)c0[wr.Z](hn,mn,Hr,an,Hr,an,dn),hn=Hr,mn=an,an+=dn;wr.qd=hn,wr.rd=mn}}function kn(wr,Ar){var $r=wr.l.ma,Hr=$r.Z==0||$r.Z==1?wr.l.j:wr.C;if(Hr=wr.C<Hr?Hr:wr.C,er(Ar<=wr.l.o),Ar>Hr){var an=wr.l.width,dn=$r.ca,hn=$r.tb+an*Hr,mn=wr.V,gn=wr.Ba+wr.c*Hr,jn=wr.gc;er(wr.ab==1),er(jn[0].hc==3),L0(jn[0],Hr,Ar,mn,gn,dn,hn),En($r,Hr,Ar,dn,hn,an)}wr.C=wr.Ma=Ar}function Nn(wr,Ar,$r,Hr,an,dn,hn){var mn=wr.$/Hr,gn=wr.$%Hr,jn=wr.m,Un=wr.s,na=$r+wr.$,xa=na;an=$r+Hr*an;var Kn=$r+Hr*dn,gs=280+Un.ua,rs=wr.Pb?mn:16777216,zn=0<Un.ua?Un.Wa:null,Xn=Un.wc,ds=na<Kn?Xo(Un,gn,mn):null;er(wr.C<dn),er(Kn<=an);var Es=!1;e:for(;;){for(;Es||na<Kn;){var fs=0;if(mn>=rs){var Bs=na-$r;er((rs=wr).Pb),rs.wd=rs.m,rs.xd=Bs,0<rs.s.ua&&Zr(rs.s.Wa,rs.s.vb),rs=mn+ox}if(gn&Xn||(ds=Xo(Un,gn,mn)),er(ds!=null),ds.Qb&&(Ar[na]=ds.qb,Es=!0),!Es)if(Mr(jn),ds.jc){fs=jn,Bs=Ar;var Ps=na,fo=ds.pd[Rr(fs)&wl-1];er(ds.jc),256>fo.g?(Dr(fs,fs.u+fo.g),Bs[Ps]=fo.value,fs=0):(Dr(fs,fs.u+fo.g-256),er(256<=fo.value),fs=fo.value),fs==0&&(Es=!0)}else fs=Oo(ds.G[0],ds.H[0],jn);if(jn.h)break;if(Es||256>fs){if(!Es)if(ds.nd)Ar[na]=(ds.qb|fs<<8)>>>0;else{if(Mr(jn),Es=Oo(ds.G[1],ds.H[1],jn),Mr(jn),Bs=Oo(ds.G[2],ds.H[2],jn),Ps=Oo(ds.G[3],ds.H[3],jn),jn.h)break;Ar[na]=(Ps<<24|Es<<16|fs<<8|Bs)>>>0}if(Es=!1,++na,++gn>=Hr&&(gn=0,++mn,hn!=null&&mn<=dn&&!(mn%16)&&hn(wr,mn),zn!=null))for(;xa<na;)fs=Ar[xa++],zn.X[(506832829*fs&4294967295)>>>zn.Mb]=fs}else if(280>fs){if(fs=Ml(fs-256,jn),Bs=Oo(ds.G[4],ds.H[4],jn),Mr(jn),Bs=Al(Hr,Bs=Ml(Bs,jn)),jn.h)break;if(na-$r<Bs||an-na<fs)break e;for(Ps=0;Ps<fs;++Ps)Ar[na+Ps]=Ar[na+Ps-Bs];for(na+=fs,gn+=fs;gn>=Hr;)gn-=Hr,++mn,hn!=null&&mn<=dn&&!(mn%16)&&hn(wr,mn);if(er(na<=an),gn&Xn&&(ds=Xo(Un,gn,mn)),zn!=null)for(;xa<na;)fs=Ar[xa++],zn.X[(506832829*fs&4294967295)>>>zn.Mb]=fs}else{if(!(fs<gs))break e;for(Es=fs-280,er(zn!=null);xa<na;)fs=Ar[xa++],zn.X[(506832829*fs&4294967295)>>>zn.Mb]=fs;fs=na,er(!(Es>>>(Bs=zn).Xa)),Ar[fs]=Bs.X[Es],Es=!0}Es||er(jn.h==Tr(jn))}if(wr.Pb&&jn.h&&na<an)er(wr.m.h),wr.a=5,wr.m=wr.wd,wr.$=wr.xd,0<wr.s.ua&&Zr(wr.s.vb,wr.s.Wa);else{if(jn.h)break e;hn!=null&&hn(wr,mn>dn?dn:mn),wr.a=0,wr.$=na-$r}return 1}return wr.a=3,0}function Qn(wr){er(wr!=null),wr.vc=null,wr.yc=null,wr.Ya=null;var Ar=wr.Wa;Ar!=null&&(Ar.X=null),wr.vb=null,er(wr!=null)}function es(){var wr=new Jo;return wr==null?null:(wr.a=0,wr.xb=im,Ts("Predictor","VP8LPredictors"),Ts("Predictor","VP8LPredictors_C"),Ts("PredictorAdd","VP8LPredictorsAdd"),Ts("PredictorAdd","VP8LPredictorsAdd_C"),fu=ls,Uu=Ss,ru=os,Yl=zs,Jl=Bn,Au=_n,wu=Ln,_r.VP8LMapColor32b=e0,_r.VP8LMapColor8b=r0,wr)}function Zn(wr,Ar,$r,Hr,an){var dn=1,hn=[wr],mn=[Ar],gn=Hr.m,jn=Hr.s,Un=null,na=0;e:for(;;){if($r)for(;dn&&tn(gn,1);){var xa=hn,Kn=mn,gs=Hr,rs=1,zn=gs.m,Xn=gs.gc[gs.ab],ds=tn(zn,2);if(gs.Oc&1<<ds)dn=0;else{switch(gs.Oc|=1<<ds,Xn.hc=ds,Xn.Ea=xa[0],Xn.nc=Kn[0],Xn.K=[null],++gs.ab,er(4>=gs.ab),ds){case 0:case 1:Xn.b=tn(zn,3)+2,rs=Zn(vn(Xn.Ea,Xn.b),vn(Xn.nc,Xn.b),0,gs,Xn.K),Xn.K=Xn.K[0];break;case 3:var Es,fs=tn(zn,8)+1,Bs=16<fs?0:4<fs?1:2<fs?2:3;if(xa[0]=vn(Xn.Ea,Bs),Xn.b=Bs,Es=rs=Zn(fs,1,0,gs,Xn.K)){var Ps,fo=fs,Os=Xn,Mo=1<<(8>>Os.b),qo=ar(Mo);if(qo==null)Es=0;else{var Lo=Os.K[0],No=Os.w;for(qo[0]=Os.K[0][0],Ps=1;Ps<1*fo;++Ps)qo[Ps]=yn(Lo[No+Ps],qo[Ps-1]);for(;Ps<4*Mo;++Ps)qo[Ps]=0;Os.K[0]=null,Os.K[0]=qo,Es=1}}rs=Es;break;case 2:break;default:er(0)}dn=rs}}if(hn=hn[0],mn=mn[0],dn&&tn(gn,1)&&!(dn=1<=(na=tn(gn,4))&&11>=na)){Hr.a=3;break e}var Zo;if(Zo=dn)t:{var Ko,yo,Ll,ou=Hr,Ol=hn,lu=mn,Go=na,mu=$r,xu=ou.m,Hl=ou.s,Zl=[null],nu=1,_u=0,Iu=ix[Go];r:for(;;){if(mu&&tn(xu,1)){var Wl=tn(xu,3)+2,Gu=vn(Ol,Wl),S0=vn(lu,Wl),O0=Gu*S0;if(!Zn(Gu,S0,0,ou,Zl))break r;for(Zl=Zl[0],Hl.xc=Wl,Ko=0;Ko<O0;++Ko){var u0=Zl[Ko]>>8&65535;Zl[Ko]=u0,u0>=nu&&(nu=u0+1)}}if(xu.h)break r;for(yo=0;5>yo;++yo){var Nl=am[yo];!yo&&0<Go&&(Nl+=1<<Go),_u<Nl&&(_u=Nl)}var Ap=sr(nu*Iu,Lr),pm=nu,mm=sr(pm,Kr);if(mm==null)var op=null;else er(65536>=pm),op=mm;var X0=ar(_u);if(op==null||X0==null||Ap==null){ou.a=1;break r}var lp=Ap;for(Ko=Ll=0;Ko<nu;++Ko){var Du=op[Ko],$0=Du.G,I0=Du.H,xm=0,cp=1,gm=0;for(yo=0;5>yo;++yo){Nl=am[yo],$0[yo]=lp,I0[yo]=Ll,!yo&&0<Go&&(Nl+=1<<Go);a:{var up,Cp=Nl,dp=ou,K0=X0,Cx=lp,Nx=Ll,Np=0,d0=dp.m,Tx=tn(d0,1);if(nr(K0,0,0,Cp),Tx){var Px=tn(d0,1)+1,Fx=tn(d0,1),vm=tn(d0,Fx==0?1:8);K0[vm]=1,Px==2&&(K0[vm=tn(d0,8)]=1);var fp=1}else{var ym=ar(19),bm=tn(d0,4)+4;if(19<bm){dp.a=3;var hp=0;break a}for(up=0;up<bm;++up)ym[ax[up]]=tn(d0,3);var Tp=void 0,Y0=void 0,wm=dp,Dx=ym,pp=Cp,Em=K0,Pp=0,f0=wm.m,_m=8,Sm=sr(128,Lr);n:for(;Pr(Sm,0,7,Dx,19);){if(tn(f0,1)){var Lx=2+2*tn(f0,3);if((Tp=2+tn(f0,Lx))>pp)break n}else Tp=pp;for(Y0=0;Y0<pp&&Tp--;){Mr(f0);var jm=Sm[0+(127&Rr(f0))];Dr(f0,f0.u+jm.g);var M0=jm.value;if(16>M0)Em[Y0++]=M0,M0!=0&&(_m=M0);else{var Ox=M0==16,km=M0-16,$x=rx[km],Rm=tn(f0,tx[km])+$x;if(Y0+Rm>pp)break n;for(var Ix=Ox?_m:0;0<Rm--;)Em[Y0++]=Ix}}Pp=1;break n}Pp||(wm.a=3),fp=Pp}(fp=fp&&!d0.h)&&(Np=Pr(Cx,Nx,8,K0,Cp)),fp&&Np!=0?hp=Np:(dp.a=3,hp=0)}if(hp==0)break r;if(cp&&nx[yo]==1&&(cp=lp[Ll].g==0),xm+=lp[Ll].g,Ll+=hp,3>=yo){var J0,Fp=X0[0];for(J0=1;J0<Nl;++J0)X0[J0]>Fp&&(Fp=X0[J0]);gm+=Fp}}if(Du.nd=cp,Du.Qb=0,cp&&(Du.qb=($0[3][I0[3]+0].value<<24|$0[1][I0[1]+0].value<<16|$0[2][I0[2]+0].value)>>>0,xm==0&&256>$0[0][I0[0]+0].value&&(Du.Qb=1,Du.qb+=$0[0][I0[0]+0].value<<8)),Du.jc=!Du.Qb&&6>gm,Du.jc){var mp,Xu=Du;for(mp=0;mp<wl;++mp){var h0=mp,p0=Xu.pd[h0],xp=Xu.G[0][Xu.H[0]+h0];256<=xp.value?(p0.g=xp.g+256,p0.value=xp.value):(p0.g=0,p0.value=0,h0>>=zo(xp,8,p0),h0>>=zo(Xu.G[1][Xu.H[1]+h0],16,p0),h0>>=zo(Xu.G[2][Xu.H[2]+h0],0,p0),zo(Xu.G[3][Xu.H[3]+h0],24,p0))}}}Hl.vc=Zl,Hl.Wb=nu,Hl.Ya=op,Hl.yc=Ap,Zo=1;break t}Zo=0}if(!(dn=Zo)){Hr.a=3;break e}if(0<na){if(jn.ua=1<<na,!en(jn.Wa,na)){Hr.a=1,dn=0;break e}}else jn.ua=0;var Dp=Hr,Am=hn,Mx=mn,Lp=Dp.s,Op=Lp.xc;if(Dp.c=Am,Dp.i=Mx,Lp.md=vn(Am,Op),Lp.wc=Op==0?-1:(1<<Op)-1,$r){Hr.xb=mx;break e}if((Un=ar(hn*mn))==null){Hr.a=1,dn=0;break e}dn=(dn=Nn(Hr,Un,0,hn,mn,mn,null))&&!gn.h;break e}return dn?(an!=null?an[0]=Un:(er(Un==null),er($r)),Hr.$=0,$r||Qn(jn)):Qn(jn),dn}function ga(wr,Ar){var $r=wr.c*wr.i,Hr=$r+Ar+16*Ar;return er(wr.c<=Ar),wr.V=ar(Hr),wr.V==null?(wr.Ta=null,wr.Ua=0,wr.a=1,0):(wr.Ta=wr.V,wr.Ua=wr.Ba+$r+Ar,1)}function ba(wr,Ar){var $r=wr.C,Hr=Ar-$r,an=wr.V,dn=wr.Ba+wr.c*$r;for(er(Ar<=wr.l.o);0<Hr;){var hn=16<Hr?16:Hr,mn=wr.l.ma,gn=wr.l.width,jn=gn*hn,Un=mn.ca,na=mn.tb+gn*$r,xa=wr.Ta,Kn=wr.Ua;fn(wr,hn,an,dn),Xs(xa,Kn,Un,na,jn),En(mn,$r,$r+hn,Un,na,gn),Hr-=hn,an+=hn*wr.c,$r+=hn}er($r==Ar),wr.C=wr.Ma=Ar}function _s(){this.ub=this.yd=this.td=this.Rb=0}function Cs(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ds(){this.Fb=this.Bb=this.Cb=0,this.Zb=ar(4),this.Lb=ar(4)}function Rs(){this.Yb=function(){var wr=[];return function Ar($r,Hr,an){for(var dn=an[Hr],hn=0;hn<dn&&($r.push(an.length>Hr+1?[]:0),!(an.length<Hr+1));hn++)Ar($r[hn],Hr+1,an)}(wr,0,[3,11]),wr}()}function Fs(){this.jb=ar(3),this.Wc=ir([4,8],Rs),this.Xc=ir([4,17],Rs)}function uo(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new ar(4),this.od=new ar(4)}function $o(){this.ld=this.La=this.dd=this.tc=0}function Bo(){this.Na=this.la=0}function Cl(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function cu(){this.ad=ar(384),this.Za=0,this.Ob=ar(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ju(){this.uc=this.M=this.Nb=0,this.wa=Array(new $o),this.Y=0,this.ya=Array(new cu),this.aa=0,this.l=new uu}function gu(){this.y=ar(16),this.f=ar(8),this.ea=ar(8)}function Ql(){this.cb=this.a=0,this.sc="",this.m=new Yr,this.Od=new _s,this.Kc=new Cs,this.ed=new uo,this.Qa=new Ds,this.Ic=this.$c=this.Aa=0,this.D=new ju,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=sr(8,Yr),this.ia=0,this.pb=sr(4,Cl),this.Pa=new Fs,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new gu),this.Hd=0,this.rb=Array(new Bo),this.sb=0,this.wa=Array(new $o),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new cu),this.L=this.aa=0,this.gd=ir([4,2],$o),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function uu(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function _c(){var wr=new Ql;return wr!=null&&(wr.a=0,wr.sc="OK",wr.cb=0,wr.Xb=0,q0||(q0=R0)),wr}function _l(wr,Ar,$r){return wr.a==0&&(wr.a=Ar,wr.sc=$r,wr.cb=0),0}function Lu(wr,Ar,$r){return 3<=$r&&wr[Ar+0]==157&&wr[Ar+1]==1&&wr[Ar+2]==42}function k0(wr,Ar){if(wr==null)return 0;if(wr.a=0,wr.sc="OK",Ar==null)return _l(wr,2,"null VP8Io passed to VP8GetHeaders()");var $r=Ar.data,Hr=Ar.w,an=Ar.ha;if(4>an)return _l(wr,7,"Truncated header.");var dn=$r[Hr+0]|$r[Hr+1]<<8|$r[Hr+2]<<16,hn=wr.Od;if(hn.Rb=!(1&dn),hn.td=dn>>1&7,hn.yd=dn>>4&1,hn.ub=dn>>5,3<hn.td)return _l(wr,3,"Incorrect keyframe parameters.");if(!hn.yd)return _l(wr,4,"Frame not displayable.");Hr+=3,an-=3;var mn=wr.Kc;if(hn.Rb){if(7>an)return _l(wr,7,"cannot parse picture header");if(!Lu($r,Hr,an))return _l(wr,3,"Bad code word");mn.c=16383&($r[Hr+4]<<8|$r[Hr+3]),mn.Td=$r[Hr+4]>>6,mn.i=16383&($r[Hr+6]<<8|$r[Hr+5]),mn.Ud=$r[Hr+6]>>6,Hr+=7,an-=7,wr.za=mn.c+15>>4,wr.Ub=mn.i+15>>4,Ar.width=mn.c,Ar.height=mn.i,Ar.Da=0,Ar.j=0,Ar.v=0,Ar.va=Ar.width,Ar.o=Ar.height,Ar.da=0,Ar.ib=Ar.width,Ar.hb=Ar.height,Ar.U=Ar.width,Ar.T=Ar.height,nr((dn=wr.Pa).jb,0,255,dn.jb.length),er((dn=wr.Qa)!=null),dn.Cb=0,dn.Bb=0,dn.Fb=1,nr(dn.Zb,0,0,dn.Zb.length),nr(dn.Lb,0,0,dn.Lb)}if(hn.ub>an)return _l(wr,7,"bad partition length");nn(dn=wr.m,$r,Hr,hn.ub),Hr+=hn.ub,an-=hn.ub,hn.Rb&&(mn.Ld=qr(dn),mn.Kd=qr(dn)),mn=wr.Qa;var gn,jn=wr.Pa;if(er(dn!=null),er(mn!=null),mn.Cb=qr(dn),mn.Cb){if(mn.Bb=qr(dn),qr(dn)){for(mn.Fb=qr(dn),gn=0;4>gn;++gn)mn.Zb[gn]=qr(dn)?zr(dn,7):0;for(gn=0;4>gn;++gn)mn.Lb[gn]=qr(dn)?zr(dn,6):0}if(mn.Bb)for(gn=0;3>gn;++gn)jn.jb[gn]=qr(dn)?Qr(dn,8):255}else mn.Bb=0;if(dn.Ka)return _l(wr,3,"cannot parse segment header");if((mn=wr.ed).zd=qr(dn),mn.Tb=Qr(dn,6),mn.wb=Qr(dn,3),mn.Pc=qr(dn),mn.Pc&&qr(dn)){for(jn=0;4>jn;++jn)qr(dn)&&(mn.vd[jn]=zr(dn,6));for(jn=0;4>jn;++jn)qr(dn)&&(mn.od[jn]=zr(dn,6))}if(wr.L=mn.Tb==0?0:mn.zd?1:2,dn.Ka)return _l(wr,3,"cannot parse filter header");var Un=an;if(an=gn=Hr,Hr=gn+Un,mn=Un,wr.Xb=(1<<Qr(wr.m,2))-1,Un<3*(jn=wr.Xb))$r=7;else{for(gn+=3*jn,mn-=3*jn,Un=0;Un<jn;++Un){var na=$r[an+0]|$r[an+1]<<8|$r[an+2]<<16;na>mn&&(na=mn),nn(wr.Jc[+Un],$r,gn,na),gn+=na,mn-=na,an+=3}nn(wr.Jc[+jn],$r,gn,mn),$r=gn<Hr?0:5}if($r!=0)return _l(wr,$r,"cannot parse partitions");for($r=Qr(gn=wr.m,7),an=qr(gn)?zr(gn,4):0,Hr=qr(gn)?zr(gn,4):0,mn=qr(gn)?zr(gn,4):0,jn=qr(gn)?zr(gn,4):0,gn=qr(gn)?zr(gn,4):0,Un=wr.Qa,na=0;4>na;++na){if(Un.Cb){var xa=Un.Zb[na];Un.Fb||(xa+=$r)}else{if(0<na){wr.pb[na]=wr.pb[0];continue}xa=$r}var Kn=wr.pb[na];Kn.Sc[0]=jp[qs(xa+an,127)],Kn.Sc[1]=kp[qs(xa+0,127)],Kn.Eb[0]=2*jp[qs(xa+Hr,127)],Kn.Eb[1]=101581*kp[qs(xa+mn,127)]>>16,8>Kn.Eb[1]&&(Kn.Eb[1]=8),Kn.Qc[0]=jp[qs(xa+jn,117)],Kn.Qc[1]=kp[qs(xa+gn,127)],Kn.lc=xa+gn}if(!hn.Rb)return _l(wr,4,"Not a key frame.");for(qr(dn),hn=wr.Pa,$r=0;4>$r;++$r){for(an=0;8>an;++an)for(Hr=0;3>Hr;++Hr)for(mn=0;11>mn;++mn)jn=Wr(dn,fx[$r][an][Hr][mn])?Qr(dn,8):ux[$r][an][Hr][mn],hn.Wc[$r][an].Yb[Hr][mn]=jn;for(an=0;17>an;++an)hn.Xc[$r][an]=hn.Wc[$r][hx[an]]}return wr.kc=qr(dn),wr.kc&&(wr.Bd=Qr(dn,8)),wr.cb=1}function R0(wr,Ar,$r,Hr,an,dn,hn){var mn=Ar[an].Yb[$r];for($r=0;16>an;++an){if(!Wr(wr,mn[$r+0]))return an;for(;!Wr(wr,mn[$r+1]);)if(mn=Ar[++an].Yb[0],$r=0,an==16)return 16;var gn=Ar[an+1].Yb;if(Wr(wr,mn[$r+2])){var jn=wr,Un=0;if(Wr(jn,(xa=mn)[(na=$r)+3]))if(Wr(jn,xa[na+6])){for(mn=0,na=2*(Un=Wr(jn,xa[na+8]))+(xa=Wr(jn,xa[na+9+Un])),Un=0,xa=lx[na];xa[mn];++mn)Un+=Un+Wr(jn,xa[mn]);Un+=3+(8<<na)}else Wr(jn,xa[na+7])?(Un=7+2*Wr(jn,165),Un+=Wr(jn,145)):Un=5+Wr(jn,159);else Un=Wr(jn,xa[na+4])?3+Wr(jn,xa[na+5]):2;mn=gn[2]}else Un=1,mn=gn[1];gn=hn+cx[an],0>(jn=wr).b&&Br(jn);var na,xa=jn.b,Kn=(na=jn.Ca>>1)-(jn.I>>xa)>>31;--jn.b,jn.Ca+=Kn,jn.Ca|=1,jn.I-=(na+1&Kn)<<xa,dn[gn]=((Un^Kn)-Kn)*Hr[(0<an)+0]}return 16}function m0(wr){var Ar=wr.rb[wr.sb-1];Ar.la=0,Ar.Na=0,nr(wr.zc,0,0,wr.zc.length),wr.ja=0}function x0(wr,Ar){if(wr==null)return 0;if(Ar==null)return _l(wr,2,"NULL VP8Io parameter in VP8Decode().");if(!wr.cb&&!k0(wr,Ar))return 0;if(er(wr.cb),Ar.ac==null||Ar.ac(Ar)){Ar.ob&&(wr.L=0);var $r=ip[wr.L];if(wr.L==2?(wr.yb=0,wr.zb=0):(wr.yb=Ar.v-$r>>4,wr.zb=Ar.j-$r>>4,0>wr.yb&&(wr.yb=0),0>wr.zb&&(wr.zb=0)),wr.Va=Ar.o+15+$r>>4,wr.Hb=Ar.va+15+$r>>4,wr.Hb>wr.za&&(wr.Hb=wr.za),wr.Va>wr.Ub&&(wr.Va=wr.Ub),0<wr.L){var Hr=wr.ed;for($r=0;4>$r;++$r){var an;if(wr.Qa.Cb){var dn=wr.Qa.Lb[$r];wr.Qa.Fb||(dn+=Hr.Tb)}else dn=Hr.Tb;for(an=0;1>=an;++an){var hn=wr.gd[$r][an],mn=dn;if(Hr.Pc&&(mn+=Hr.vd[0],an&&(mn+=Hr.od[0])),0<(mn=0>mn?0:63<mn?63:mn)){var gn=mn;0<Hr.wb&&(gn=4<Hr.wb?gn>>2:gn>>1)>9-Hr.wb&&(gn=9-Hr.wb),1>gn&&(gn=1),hn.dd=gn,hn.tc=2*mn+gn,hn.ld=40<=mn?2:15<=mn?1:0}else hn.tc=0;hn.La=an}}}$r=0}else _l(wr,6,"Frame setup failed"),$r=wr.a;if($r=$r==0){if($r){wr.$c=0,0<wr.Aa||(wr.Ic=Ax);e:{$r=wr.Ic,Hr=4*(gn=wr.za);var jn=32*gn,Un=gn+1,na=0<wr.L?gn*(0<wr.Aa?2:1):0,xa=(wr.Aa==2?2:1)*gn;if((hn=Hr+832+(an=3*(16*$r+ip[wr.L])/2*jn)+(dn=wr.Fa!=null&&0<wr.Fa.length?wr.Kc.c*wr.Kc.i:0))!=hn)$r=0;else{if(hn>wr.Vb){if(wr.Vb=0,wr.Ec=ar(hn),wr.Fc=0,wr.Ec==null){$r=_l(wr,1,"no memory during frame initialization.");break e}wr.Vb=hn}hn=wr.Ec,mn=wr.Fc,wr.Ac=hn,wr.Bc=mn,mn+=Hr,wr.Gd=sr(jn,gu),wr.Hd=0,wr.rb=sr(Un+1,Bo),wr.sb=1,wr.wa=na?sr(na,$o):null,wr.Y=0,wr.D.Nb=0,wr.D.wa=wr.wa,wr.D.Y=wr.Y,0<wr.Aa&&(wr.D.Y+=gn),er(!0),wr.oc=hn,wr.pc=mn,mn+=832,wr.ya=sr(xa,cu),wr.aa=0,wr.D.ya=wr.ya,wr.D.aa=wr.aa,wr.Aa==2&&(wr.D.aa+=gn),wr.R=16*gn,wr.B=8*gn,gn=(jn=ip[wr.L])*wr.R,jn=jn/2*wr.B,wr.sa=hn,wr.ta=mn+gn,wr.qa=wr.sa,wr.ra=wr.ta+16*$r*wr.R+jn,wr.Ha=wr.qa,wr.Ia=wr.ra+8*$r*wr.B+jn,wr.$c=0,mn+=an,wr.mb=dn?hn:null,wr.nb=dn?mn:null,er(mn+dn<=wr.Fc+wr.Vb),m0(wr),nr(wr.Ac,wr.Bc,0,Hr),$r=1}}if($r){if(Ar.ka=0,Ar.y=wr.sa,Ar.O=wr.ta,Ar.f=wr.qa,Ar.N=wr.ra,Ar.ea=wr.Ha,Ar.Vd=wr.Ia,Ar.fa=wr.R,Ar.Rc=wr.B,Ar.F=null,Ar.J=0,!pu){for($r=-255;255>=$r;++$r)jo[255+$r]=0>$r?-$r:$r;for($r=-1020;1020>=$r;++$r)zl[1020+$r]=-128>$r?-128:127<$r?127:$r;for($r=-112;112>=$r;++$r)Wu[112+$r]=-16>$r?-16:15<$r?15:$r;for($r=-255;510>=$r;++$r)Pu[255+$r]=0>$r?0:255<$r?255:$r;pu=1}zu=C0,hu=z0,n0=Ju,Rl=V0,iu=g0,El=A0,a0=Ls,s0=Ks,Vu=bo,Cu=wo,Ou=Ys,$u=vo,Nu=So,i0=ko,Hu=ws,Tu=us,xs=eo,Gs=Hs,Fu[0]=vu,Fu[1]=y0,Fu[2]=P0,Fu[3]=w0,Fu[4]=F0,Fu[5]=Xr,Fu[6]=D0,Fu[7]=cn,Fu[8]=Pn,Fu[9]=Rn,l0[0]=N0,l0[1]=W0,l0[2]=eu,l0[3]=Zu,l0[4]=Fl,l0[5]=b0,l0[6]=T0,qu[0]=Mn,qu[1]=H0,qu[2]=On,qu[3]=In,qu[4]=Wn,qu[5]=Fn,qu[6]=Hn,$r=1}else $r=0}$r&&($r=function(Kn,gs){for(Kn.M=0;Kn.M<Kn.Va;++Kn.M){var rs,zn=Kn.Jc[Kn.M&Kn.Xb],Xn=Kn.m,ds=Kn;for(rs=0;rs<ds.za;++rs){var Es=Xn,fs=ds,Bs=fs.Ac,Ps=fs.Bc+4*rs,fo=fs.zc,Os=fs.ya[fs.aa+rs];if(fs.Qa.Bb?Os.$b=Wr(Es,fs.Pa.jb[0])?2+Wr(Es,fs.Pa.jb[2]):Wr(Es,fs.Pa.jb[1]):Os.$b=0,fs.kc&&(Os.Ad=Wr(Es,fs.Bd)),Os.Za=!Wr(Es,145)+0,Os.Za){var Mo=Os.Ob,qo=0;for(fs=0;4>fs;++fs){var Lo,No=fo[0+fs];for(Lo=0;4>Lo;++Lo){No=dx[Bs[Ps+Lo]][No];for(var Zo=sm[Wr(Es,No[0])];0<Zo;)Zo=sm[2*Zo+Wr(Es,No[Zo])];No=-Zo,Bs[Ps+Lo]=No}rr(Mo,qo,Bs,Ps,4),qo+=4,fo[0+fs]=No}}else No=Wr(Es,156)?Wr(Es,128)?1:3:Wr(Es,163)?2:0,Os.Ob[0]=No,nr(Bs,Ps,No,4),nr(fo,0,No,4);Os.Dd=Wr(Es,142)?Wr(Es,114)?Wr(Es,183)?1:3:2:0}if(ds.m.Ka)return _l(Kn,7,"Premature end-of-partition0 encountered.");for(;Kn.ja<Kn.za;++Kn.ja){if(ds=zn,Es=(Xn=Kn).rb[Xn.sb-1],Bs=Xn.rb[Xn.sb+Xn.ja],rs=Xn.ya[Xn.aa+Xn.ja],Ps=Xn.kc?rs.Ad:0)Es.la=Bs.la=0,rs.Za||(Es.Na=Bs.Na=0),rs.Hc=0,rs.Gc=0,rs.ia=0;else{var Ko,yo;if(Es=Bs,Bs=ds,Ps=Xn.Pa.Xc,fo=Xn.ya[Xn.aa+Xn.ja],Os=Xn.pb[fo.$b],fs=fo.ad,Mo=0,qo=Xn.rb[Xn.sb-1],No=Lo=0,nr(fs,Mo,0,384),fo.Za)var Ll=0,ou=Ps[3];else{Zo=ar(16);var Ol=Es.Na+qo.Na;if(Ol=q0(Bs,Ps[1],Ol,Os.Eb,0,Zo,0),Es.Na=qo.Na=(0<Ol)+0,1<Ol)zu(Zo,0,fs,Mo);else{var lu=Zo[0]+3>>3;for(Zo=0;256>Zo;Zo+=16)fs[Mo+Zo]=lu}Ll=1,ou=Ps[0]}var Go=15&Es.la,mu=15&qo.la;for(Zo=0;4>Zo;++Zo){var xu=1&mu;for(lu=yo=0;4>lu;++lu)Go=Go>>1|(xu=(Ol=q0(Bs,ou,Ol=xu+(1&Go),Os.Sc,Ll,fs,Mo))>Ll)<<7,yo=yo<<2|(3<Ol?3:1<Ol?2:fs[Mo+0]!=0),Mo+=16;Go>>=4,mu=mu>>1|xu<<7,Lo=(Lo<<8|yo)>>>0}for(ou=Go,Ll=mu>>4,Ko=0;4>Ko;Ko+=2){for(yo=0,Go=Es.la>>4+Ko,mu=qo.la>>4+Ko,Zo=0;2>Zo;++Zo){for(xu=1&mu,lu=0;2>lu;++lu)Ol=xu+(1&Go),Go=Go>>1|(xu=0<(Ol=q0(Bs,Ps[2],Ol,Os.Qc,0,fs,Mo)))<<3,yo=yo<<2|(3<Ol?3:1<Ol?2:fs[Mo+0]!=0),Mo+=16;Go>>=2,mu=mu>>1|xu<<5}No|=yo<<4*Ko,ou|=Go<<4<<Ko,Ll|=(240&mu)<<Ko}Es.la=ou,qo.la=Ll,fo.Hc=Lo,fo.Gc=No,fo.ia=43690&No?0:Os.ia,Ps=!(Lo|No)}if(0<Xn.L&&(Xn.wa[Xn.Y+Xn.ja]=Xn.gd[rs.$b][rs.Za],Xn.wa[Xn.Y+Xn.ja].La|=!Ps),ds.Ka)return _l(Kn,7,"Premature end-of-file encountered.")}if(m0(Kn),Xn=gs,ds=1,rs=(zn=Kn).D,Es=0<zn.L&&zn.M>=zn.zb&&zn.M<=zn.Va,zn.Aa==0)e:{if(rs.M=zn.M,rs.uc=Es,Qo(zn,rs),ds=1,rs=(yo=zn.D).Nb,Es=(No=ip[zn.L])*zn.R,Bs=No/2*zn.B,Zo=16*rs*zn.R,lu=8*rs*zn.B,Ps=zn.sa,fo=zn.ta-Es+Zo,Os=zn.qa,fs=zn.ra-Bs+lu,Mo=zn.Ha,qo=zn.Ia-Bs+lu,mu=(Go=yo.M)==0,Lo=Go>=zn.Va-1,zn.Aa==2&&Qo(zn,yo),yo.uc)for(xu=(Ol=zn).D.M,er(Ol.D.uc),yo=Ol.yb;yo<Ol.Hb;++yo){Ll=yo,ou=xu;var Hl=(Zl=(Nl=Ol).D).Nb;Ko=Nl.R;var Zl=Zl.wa[Zl.Y+Ll],nu=Nl.sa,_u=Nl.ta+16*Hl*Ko+16*Ll,Iu=Zl.dd,Wl=Zl.tc;if(Wl!=0)if(er(3<=Wl),Nl.L==1)0<Ll&&Tu(nu,_u,Ko,Wl+4),Zl.La&&Gs(nu,_u,Ko,Wl),0<ou&&Hu(nu,_u,Ko,Wl+4),Zl.La&&xs(nu,_u,Ko,Wl);else{var Gu=Nl.B,S0=Nl.qa,O0=Nl.ra+8*Hl*Gu+8*Ll,u0=Nl.Ha,Nl=Nl.Ia+8*Hl*Gu+8*Ll;Hl=Zl.ld,0<Ll&&(s0(nu,_u,Ko,Wl+4,Iu,Hl),Cu(S0,O0,u0,Nl,Gu,Wl+4,Iu,Hl)),Zl.La&&($u(nu,_u,Ko,Wl,Iu,Hl),i0(S0,O0,u0,Nl,Gu,Wl,Iu,Hl)),0<ou&&(a0(nu,_u,Ko,Wl+4,Iu,Hl),Vu(S0,O0,u0,Nl,Gu,Wl+4,Iu,Hl)),Zl.La&&(Ou(nu,_u,Ko,Wl,Iu,Hl),Nu(S0,O0,u0,Nl,Gu,Wl,Iu,Hl))}}if(zn.ia&&alert("todo:DitherRow"),Xn.put!=null){if(yo=16*Go,Go=16*(Go+1),mu?(Xn.y=zn.sa,Xn.O=zn.ta+Zo,Xn.f=zn.qa,Xn.N=zn.ra+lu,Xn.ea=zn.Ha,Xn.W=zn.Ia+lu):(yo-=No,Xn.y=Ps,Xn.O=fo,Xn.f=Os,Xn.N=fs,Xn.ea=Mo,Xn.W=qo),Lo||(Go-=No),Go>Xn.o&&(Go=Xn.o),Xn.F=null,Xn.J=null,zn.Fa!=null&&0<zn.Fa.length&&yo<Go&&(Xn.J=Kl(zn,Xn,yo,Go-yo),Xn.F=zn.mb,Xn.F==null&&Xn.F.length==0)){ds=_l(zn,3,"Could not decode alpha data.");break e}yo<Xn.j&&(No=Xn.j-yo,yo=Xn.j,er(!(1&No)),Xn.O+=zn.R*No,Xn.N+=zn.B*(No>>1),Xn.W+=zn.B*(No>>1),Xn.F!=null&&(Xn.J+=Xn.width*No)),yo<Go&&(Xn.O+=Xn.v,Xn.N+=Xn.v>>1,Xn.W+=Xn.v>>1,Xn.F!=null&&(Xn.J+=Xn.v),Xn.ka=yo-Xn.j,Xn.U=Xn.va-Xn.v,Xn.T=Go-yo,ds=Xn.put(Xn))}rs+1!=zn.Ic||Lo||(rr(zn.sa,zn.ta-Es,Ps,fo+16*zn.R,Es),rr(zn.qa,zn.ra-Bs,Os,fs+8*zn.B,Bs),rr(zn.Ha,zn.Ia-Bs,Mo,qo+8*zn.B,Bs))}if(!ds)return _l(Kn,6,"Output aborted.")}return 1}(wr,Ar)),Ar.bc!=null&&Ar.bc(Ar),$r&=1}return $r?(wr.cb=0,$r):0}function du(wr,Ar,$r,Hr,an){an=wr[Ar+$r+32*Hr]+(an>>3),wr[Ar+$r+32*Hr]=-256&an?0>an?0:255:an}function Ku(wr,Ar,$r,Hr,an,dn){du(wr,Ar,0,$r,Hr+an),du(wr,Ar,1,$r,Hr+dn),du(wr,Ar,2,$r,Hr-dn),du(wr,Ar,3,$r,Hr-an)}function Xl(wr){return(20091*wr>>16)+wr}function Yu(wr,Ar,$r,Hr){var an,dn=0,hn=ar(16);for(an=0;4>an;++an){var mn=wr[Ar+0]+wr[Ar+8],gn=wr[Ar+0]-wr[Ar+8],jn=(35468*wr[Ar+4]>>16)-Xl(wr[Ar+12]),Un=Xl(wr[Ar+4])+(35468*wr[Ar+12]>>16);hn[dn+0]=mn+Un,hn[dn+1]=gn+jn,hn[dn+2]=gn-jn,hn[dn+3]=mn-Un,dn+=4,Ar++}for(an=dn=0;4>an;++an)mn=(wr=hn[dn+0]+4)+hn[dn+8],gn=wr-hn[dn+8],jn=(35468*hn[dn+4]>>16)-Xl(hn[dn+12]),du($r,Hr,0,0,mn+(Un=Xl(hn[dn+4])+(35468*hn[dn+12]>>16))),du($r,Hr,1,0,gn+jn),du($r,Hr,2,0,gn-jn),du($r,Hr,3,0,mn-Un),dn++,Hr+=32}function A0(wr,Ar,$r,Hr){var an=wr[Ar+0]+4,dn=35468*wr[Ar+4]>>16,hn=Xl(wr[Ar+4]),mn=35468*wr[Ar+1]>>16;Ku($r,Hr,0,an+hn,wr=Xl(wr[Ar+1]),mn),Ku($r,Hr,1,an+dn,wr,mn),Ku($r,Hr,2,an-dn,wr,mn),Ku($r,Hr,3,an-hn,wr,mn)}function z0(wr,Ar,$r,Hr,an){Yu(wr,Ar,$r,Hr),an&&Yu(wr,Ar+16,$r,Hr+4)}function Ju(wr,Ar,$r,Hr){hu(wr,Ar+0,$r,Hr,1),hu(wr,Ar+32,$r,Hr+128,1)}function V0(wr,Ar,$r,Hr){var an;for(wr=wr[Ar+0]+4,an=0;4>an;++an)for(Ar=0;4>Ar;++Ar)du($r,Hr,Ar,an,wr)}function g0(wr,Ar,$r,Hr){wr[Ar+0]&&Rl(wr,Ar+0,$r,Hr),wr[Ar+16]&&Rl(wr,Ar+16,$r,Hr+4),wr[Ar+32]&&Rl(wr,Ar+32,$r,Hr+128),wr[Ar+48]&&Rl(wr,Ar+48,$r,Hr+128+4)}function C0(wr,Ar,$r,Hr){var an,dn=ar(16);for(an=0;4>an;++an){var hn=wr[Ar+0+an]+wr[Ar+12+an],mn=wr[Ar+4+an]+wr[Ar+8+an],gn=wr[Ar+4+an]-wr[Ar+8+an],jn=wr[Ar+0+an]-wr[Ar+12+an];dn[0+an]=hn+mn,dn[8+an]=hn-mn,dn[4+an]=jn+gn,dn[12+an]=jn-gn}for(an=0;4>an;++an)hn=(wr=dn[0+4*an]+3)+dn[3+4*an],mn=dn[1+4*an]+dn[2+4*an],gn=dn[1+4*an]-dn[2+4*an],jn=wr-dn[3+4*an],$r[Hr+0]=hn+mn>>3,$r[Hr+16]=jn+gn>>3,$r[Hr+32]=hn-mn>>3,$r[Hr+48]=jn-gn>>3,Hr+=64}function v0(wr,Ar,$r){var Hr,an=Ar-32,dn=Vl,hn=255-wr[an-1];for(Hr=0;Hr<$r;++Hr){var mn,gn=dn,jn=hn+wr[Ar-1];for(mn=0;mn<$r;++mn)wr[Ar+mn]=gn[jn+wr[an+mn]];Ar+=32}}function y0(wr,Ar){v0(wr,Ar,4)}function H0(wr,Ar){v0(wr,Ar,8)}function W0(wr,Ar){v0(wr,Ar,16)}function eu(wr,Ar){var $r;for($r=0;16>$r;++$r)rr(wr,Ar+32*$r,wr,Ar-32,16)}function Zu(wr,Ar){var $r;for($r=16;0<$r;--$r)nr(wr,Ar,wr[Ar-1],16),Ar+=32}function Bu(wr,Ar,$r){var Hr;for(Hr=0;16>Hr;++Hr)nr(Ar,$r+32*Hr,wr,16)}function N0(wr,Ar){var $r,Hr=16;for($r=0;16>$r;++$r)Hr+=wr[Ar-1+32*$r]+wr[Ar+$r-32];Bu(Hr>>5,wr,Ar)}function Fl(wr,Ar){var $r,Hr=8;for($r=0;16>$r;++$r)Hr+=wr[Ar-1+32*$r];Bu(Hr>>4,wr,Ar)}function b0(wr,Ar){var $r,Hr=8;for($r=0;16>$r;++$r)Hr+=wr[Ar+$r-32];Bu(Hr>>4,wr,Ar)}function T0(wr,Ar){Bu(128,wr,Ar)}function po(wr,Ar,$r){return wr+2*Ar+$r+2>>2}function P0(wr,Ar){var $r,Hr=Ar-32;for(Hr=new Uint8Array([po(wr[Hr-1],wr[Hr+0],wr[Hr+1]),po(wr[Hr+0],wr[Hr+1],wr[Hr+2]),po(wr[Hr+1],wr[Hr+2],wr[Hr+3]),po(wr[Hr+2],wr[Hr+3],wr[Hr+4])]),$r=0;4>$r;++$r)rr(wr,Ar+32*$r,Hr,0,Hr.length)}function w0(wr,Ar){var $r=wr[Ar-1],Hr=wr[Ar-1+32],an=wr[Ar-1+64],dn=wr[Ar-1+96];sn(wr,Ar+0,16843009*po(wr[Ar-1-32],$r,Hr)),sn(wr,Ar+32,16843009*po($r,Hr,an)),sn(wr,Ar+64,16843009*po(Hr,an,dn)),sn(wr,Ar+96,16843009*po(an,dn,dn))}function vu(wr,Ar){var $r,Hr=4;for($r=0;4>$r;++$r)Hr+=wr[Ar+$r-32]+wr[Ar-1+32*$r];for(Hr>>=3,$r=0;4>$r;++$r)nr(wr,Ar+32*$r,Hr,4)}function F0(wr,Ar){var $r=wr[Ar-1+0],Hr=wr[Ar-1+32],an=wr[Ar-1+64],dn=wr[Ar-1-32],hn=wr[Ar+0-32],mn=wr[Ar+1-32],gn=wr[Ar+2-32],jn=wr[Ar+3-32];wr[Ar+0+96]=po(Hr,an,wr[Ar-1+96]),wr[Ar+1+96]=wr[Ar+0+64]=po($r,Hr,an),wr[Ar+2+96]=wr[Ar+1+64]=wr[Ar+0+32]=po(dn,$r,Hr),wr[Ar+3+96]=wr[Ar+2+64]=wr[Ar+1+32]=wr[Ar+0+0]=po(hn,dn,$r),wr[Ar+3+64]=wr[Ar+2+32]=wr[Ar+1+0]=po(mn,hn,dn),wr[Ar+3+32]=wr[Ar+2+0]=po(gn,mn,hn),wr[Ar+3+0]=po(jn,gn,mn)}function D0(wr,Ar){var $r=wr[Ar+1-32],Hr=wr[Ar+2-32],an=wr[Ar+3-32],dn=wr[Ar+4-32],hn=wr[Ar+5-32],mn=wr[Ar+6-32],gn=wr[Ar+7-32];wr[Ar+0+0]=po(wr[Ar+0-32],$r,Hr),wr[Ar+1+0]=wr[Ar+0+32]=po($r,Hr,an),wr[Ar+2+0]=wr[Ar+1+32]=wr[Ar+0+64]=po(Hr,an,dn),wr[Ar+3+0]=wr[Ar+2+32]=wr[Ar+1+64]=wr[Ar+0+96]=po(an,dn,hn),wr[Ar+3+32]=wr[Ar+2+64]=wr[Ar+1+96]=po(dn,hn,mn),wr[Ar+3+64]=wr[Ar+2+96]=po(hn,mn,gn),wr[Ar+3+96]=po(mn,gn,gn)}function Xr(wr,Ar){var $r=wr[Ar-1+0],Hr=wr[Ar-1+32],an=wr[Ar-1+64],dn=wr[Ar-1-32],hn=wr[Ar+0-32],mn=wr[Ar+1-32],gn=wr[Ar+2-32],jn=wr[Ar+3-32];wr[Ar+0+0]=wr[Ar+1+64]=dn+hn+1>>1,wr[Ar+1+0]=wr[Ar+2+64]=hn+mn+1>>1,wr[Ar+2+0]=wr[Ar+3+64]=mn+gn+1>>1,wr[Ar+3+0]=gn+jn+1>>1,wr[Ar+0+96]=po(an,Hr,$r),wr[Ar+0+64]=po(Hr,$r,dn),wr[Ar+0+32]=wr[Ar+1+96]=po($r,dn,hn),wr[Ar+1+32]=wr[Ar+2+96]=po(dn,hn,mn),wr[Ar+2+32]=wr[Ar+3+96]=po(hn,mn,gn),wr[Ar+3+32]=po(mn,gn,jn)}function cn(wr,Ar){var $r=wr[Ar+0-32],Hr=wr[Ar+1-32],an=wr[Ar+2-32],dn=wr[Ar+3-32],hn=wr[Ar+4-32],mn=wr[Ar+5-32],gn=wr[Ar+6-32],jn=wr[Ar+7-32];wr[Ar+0+0]=$r+Hr+1>>1,wr[Ar+1+0]=wr[Ar+0+64]=Hr+an+1>>1,wr[Ar+2+0]=wr[Ar+1+64]=an+dn+1>>1,wr[Ar+3+0]=wr[Ar+2+64]=dn+hn+1>>1,wr[Ar+0+32]=po($r,Hr,an),wr[Ar+1+32]=wr[Ar+0+96]=po(Hr,an,dn),wr[Ar+2+32]=wr[Ar+1+96]=po(an,dn,hn),wr[Ar+3+32]=wr[Ar+2+96]=po(dn,hn,mn),wr[Ar+3+64]=po(hn,mn,gn),wr[Ar+3+96]=po(mn,gn,jn)}function Rn(wr,Ar){var $r=wr[Ar-1+0],Hr=wr[Ar-1+32],an=wr[Ar-1+64],dn=wr[Ar-1+96];wr[Ar+0+0]=$r+Hr+1>>1,wr[Ar+2+0]=wr[Ar+0+32]=Hr+an+1>>1,wr[Ar+2+32]=wr[Ar+0+64]=an+dn+1>>1,wr[Ar+1+0]=po($r,Hr,an),wr[Ar+3+0]=wr[Ar+1+32]=po(Hr,an,dn),wr[Ar+3+32]=wr[Ar+1+64]=po(an,dn,dn),wr[Ar+3+64]=wr[Ar+2+64]=wr[Ar+0+96]=wr[Ar+1+96]=wr[Ar+2+96]=wr[Ar+3+96]=dn}function Pn(wr,Ar){var $r=wr[Ar-1+0],Hr=wr[Ar-1+32],an=wr[Ar-1+64],dn=wr[Ar-1+96],hn=wr[Ar-1-32],mn=wr[Ar+0-32],gn=wr[Ar+1-32],jn=wr[Ar+2-32];wr[Ar+0+0]=wr[Ar+2+32]=$r+hn+1>>1,wr[Ar+0+32]=wr[Ar+2+64]=Hr+$r+1>>1,wr[Ar+0+64]=wr[Ar+2+96]=an+Hr+1>>1,wr[Ar+0+96]=dn+an+1>>1,wr[Ar+3+0]=po(mn,gn,jn),wr[Ar+2+0]=po(hn,mn,gn),wr[Ar+1+0]=wr[Ar+3+32]=po($r,hn,mn),wr[Ar+1+32]=wr[Ar+3+64]=po(Hr,$r,hn),wr[Ar+1+64]=wr[Ar+3+96]=po(an,Hr,$r),wr[Ar+1+96]=po(dn,an,Hr)}function On(wr,Ar){var $r;for($r=0;8>$r;++$r)rr(wr,Ar+32*$r,wr,Ar-32,8)}function In(wr,Ar){var $r;for($r=0;8>$r;++$r)nr(wr,Ar,wr[Ar-1],8),Ar+=32}function Gn(wr,Ar,$r){var Hr;for(Hr=0;8>Hr;++Hr)nr(Ar,$r+32*Hr,wr,8)}function Mn(wr,Ar){var $r,Hr=8;for($r=0;8>$r;++$r)Hr+=wr[Ar+$r-32]+wr[Ar-1+32*$r];Gn(Hr>>4,wr,Ar)}function Fn(wr,Ar){var $r,Hr=4;for($r=0;8>$r;++$r)Hr+=wr[Ar+$r-32];Gn(Hr>>3,wr,Ar)}function Wn(wr,Ar){var $r,Hr=4;for($r=0;8>$r;++$r)Hr+=wr[Ar-1+32*$r];Gn(Hr>>3,wr,Ar)}function Hn(wr,Ar){Gn(128,wr,Ar)}function as(wr,Ar,$r){var Hr=wr[Ar-$r],an=wr[Ar+0],dn=3*(an-Hr)+o0[1020+wr[Ar-2*$r]-wr[Ar+$r]],hn=_0[112+(dn+4>>3)];wr[Ar-$r]=Vl[255+Hr+_0[112+(dn+3>>3)]],wr[Ar+0]=Vl[255+an-hn]}function ss(wr,Ar,$r,Hr){var an=wr[Ar+0],dn=wr[Ar+$r];return Ul[255+wr[Ar-2*$r]-wr[Ar-$r]]>Hr||Ul[255+dn-an]>Hr}function ts(wr,Ar,$r,Hr){return 4*Ul[255+wr[Ar-$r]-wr[Ar+0]]+Ul[255+wr[Ar-2*$r]-wr[Ar+$r]]<=Hr}function ks(wr,Ar,$r,Hr,an){var dn=wr[Ar-3*$r],hn=wr[Ar-2*$r],mn=wr[Ar-$r],gn=wr[Ar+0],jn=wr[Ar+$r],Un=wr[Ar+2*$r],na=wr[Ar+3*$r];return 4*Ul[255+mn-gn]+Ul[255+hn-jn]>Hr?0:Ul[255+wr[Ar-4*$r]-dn]<=an&&Ul[255+dn-hn]<=an&&Ul[255+hn-mn]<=an&&Ul[255+na-Un]<=an&&Ul[255+Un-jn]<=an&&Ul[255+jn-gn]<=an}function ws(wr,Ar,$r,Hr){var an=2*Hr+1;for(Hr=0;16>Hr;++Hr)ts(wr,Ar+Hr,$r,an)&&as(wr,Ar+Hr,$r)}function us(wr,Ar,$r,Hr){var an=2*Hr+1;for(Hr=0;16>Hr;++Hr)ts(wr,Ar+Hr*$r,1,an)&&as(wr,Ar+Hr*$r,1)}function eo(wr,Ar,$r,Hr){var an;for(an=3;0<an;--an)ws(wr,Ar+=4*$r,$r,Hr)}function Hs(wr,Ar,$r,Hr){var an;for(an=3;0<an;--an)us(wr,Ar+=4,$r,Hr)}function Ms(wr,Ar,$r,Hr,an,dn,hn,mn){for(dn=2*dn+1;0<an--;){if(ks(wr,Ar,$r,dn,hn))if(ss(wr,Ar,$r,mn))as(wr,Ar,$r);else{var gn=wr,jn=Ar,Un=$r,na=gn[jn-2*Un],xa=gn[jn-Un],Kn=gn[jn+0],gs=gn[jn+Un],rs=gn[jn+2*Un],zn=27*(ds=o0[1020+3*(Kn-xa)+o0[1020+na-gs]])+63>>7,Xn=18*ds+63>>7,ds=9*ds+63>>7;gn[jn-3*Un]=Vl[255+gn[jn-3*Un]+ds],gn[jn-2*Un]=Vl[255+na+Xn],gn[jn-Un]=Vl[255+xa+zn],gn[jn+0]=Vl[255+Kn-zn],gn[jn+Un]=Vl[255+gs-Xn],gn[jn+2*Un]=Vl[255+rs-ds]}Ar+=Hr}}function Us(wr,Ar,$r,Hr,an,dn,hn,mn){for(dn=2*dn+1;0<an--;){if(ks(wr,Ar,$r,dn,hn))if(ss(wr,Ar,$r,mn))as(wr,Ar,$r);else{var gn=wr,jn=Ar,Un=$r,na=gn[jn-Un],xa=gn[jn+0],Kn=gn[jn+Un],gs=_0[112+((rs=3*(xa-na))+4>>3)],rs=_0[112+(rs+3>>3)],zn=gs+1>>1;gn[jn-2*Un]=Vl[255+gn[jn-2*Un]+zn],gn[jn-Un]=Vl[255+na+rs],gn[jn+0]=Vl[255+xa-gs],gn[jn+Un]=Vl[255+Kn-zn]}Ar+=Hr}}function Ls(wr,Ar,$r,Hr,an,dn){Ms(wr,Ar,$r,1,16,Hr,an,dn)}function Ks(wr,Ar,$r,Hr,an,dn){Ms(wr,Ar,1,$r,16,Hr,an,dn)}function Ys(wr,Ar,$r,Hr,an,dn){var hn;for(hn=3;0<hn;--hn)Us(wr,Ar+=4*$r,$r,1,16,Hr,an,dn)}function vo(wr,Ar,$r,Hr,an,dn){var hn;for(hn=3;0<hn;--hn)Us(wr,Ar+=4,1,$r,16,Hr,an,dn)}function bo(wr,Ar,$r,Hr,an,dn,hn,mn){Ms(wr,Ar,an,1,8,dn,hn,mn),Ms($r,Hr,an,1,8,dn,hn,mn)}function wo(wr,Ar,$r,Hr,an,dn,hn,mn){Ms(wr,Ar,1,an,8,dn,hn,mn),Ms($r,Hr,1,an,8,dn,hn,mn)}function So(wr,Ar,$r,Hr,an,dn,hn,mn){Us(wr,Ar+4*an,an,1,8,dn,hn,mn),Us($r,Hr+4*an,an,1,8,dn,hn,mn)}function ko(wr,Ar,$r,Hr,an,dn,hn,mn){Us(wr,Ar+4,1,an,8,dn,hn,mn),Us($r,Hr+4,1,an,8,dn,hn,mn)}function Vo(){this.ba=new xl,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new go,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function To(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Yo(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ho(){this.ua=0,this.Wa=new Ir,this.vb=new Ir,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Kr,this.yc=new Lr}function Jo(){this.xb=this.a=0,this.l=new uu,this.ca=new xl,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Sr,this.Pb=0,this.wd=new Sr,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ho,this.ab=0,this.gc=sr(4,Yo),this.Oc=0}function Uo(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new uu,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Io(wr,Ar,$r,Hr,an,dn,hn){for(wr=wr==null?0:wr[Ar+0],Ar=0;Ar<hn;++Ar)an[dn+Ar]=wr+$r[Hr+Ar]&255,wr=an[dn+Ar]}function Sl(wr,Ar,$r,Hr,an,dn,hn){var mn;if(wr==null)Io(null,null,$r,Hr,an,dn,hn);else for(mn=0;mn<hn;++mn)an[dn+mn]=wr[Ar+mn]+$r[Hr+mn]&255}function Bl(wr,Ar,$r,Hr,an,dn,hn){if(wr==null)Io(null,null,$r,Hr,an,dn,hn);else{var mn,gn=wr[Ar+0],jn=gn,Un=gn;for(mn=0;mn<hn;++mn)jn=Un+(gn=wr[Ar+mn])-jn,Un=$r[Hr+mn]+(-256&jn?0>jn?0:255:jn)&255,jn=gn,an[dn+mn]=Un}}function Kl(wr,Ar,$r,Hr){var an=Ar.width,dn=Ar.o;if(er(wr!=null&&Ar!=null),0>$r||0>=Hr||$r+Hr>dn)return null;if(!wr.Cc){if(wr.ga==null){var hn;if(wr.ga=new Uo,(hn=wr.ga==null)||(hn=Ar.width*Ar.o,er(wr.Gb.length==0),wr.Gb=ar(hn),wr.Uc=0,wr.Gb==null?hn=0:(wr.mb=wr.Gb,wr.nb=wr.Uc,wr.rc=null,hn=1),hn=!hn),!hn){hn=wr.ga;var mn=wr.Fa,gn=wr.P,jn=wr.qc,Un=wr.mb,na=wr.nb,xa=gn+1,Kn=jn-1,gs=hn.l;if(er(mn!=null&&Un!=null&&Ar!=null),c0[0]=null,c0[1]=Io,c0[2]=Sl,c0[3]=Bl,hn.ca=Un,hn.tb=na,hn.c=Ar.width,hn.i=Ar.height,er(0<hn.c&&0<hn.i),1>=jn)Ar=0;else if(hn.$a=mn[gn+0]>>0&3,hn.Z=mn[gn+0]>>2&3,hn.Lc=mn[gn+0]>>4&3,gn=mn[gn+0]>>6&3,0>hn.$a||1<hn.$a||4<=hn.Z||1<hn.Lc||gn)Ar=0;else if(gs.put=$l,gs.ac=Eo,gs.bc=Il,gs.ma=hn,gs.width=Ar.width,gs.height=Ar.height,gs.Da=Ar.Da,gs.v=Ar.v,gs.va=Ar.va,gs.j=Ar.j,gs.o=Ar.o,hn.$a)e:{er(hn.$a==1),Ar=es();t:for(;;){if(Ar==null){Ar=0;break e}if(er(hn!=null),hn.mc=Ar,Ar.c=hn.c,Ar.i=hn.i,Ar.l=hn.l,Ar.l.ma=hn,Ar.l.width=hn.c,Ar.l.height=hn.i,Ar.a=0,Vr(Ar.m,mn,xa,Kn),!Zn(hn.c,hn.i,1,Ar,null)||(Ar.ab==1&&Ar.gc[0].hc==3&&bn(Ar.s)?(hn.ic=1,mn=Ar.c*Ar.i,Ar.Ta=null,Ar.Ua=0,Ar.V=ar(mn),Ar.Ba=0,Ar.V==null?(Ar.a=1,Ar=0):Ar=1):(hn.ic=0,Ar=ga(Ar,hn.c)),!Ar))break t;Ar=1;break e}hn.mc=null,Ar=0}else Ar=Kn>=hn.c*hn.i;hn=!Ar}if(hn)return null;wr.ga.Lc!=1?wr.Ga=0:Hr=dn-$r}er(wr.ga!=null),er($r+Hr<=dn);e:{if(Ar=(mn=wr.ga).c,dn=mn.l.o,mn.$a==0){if(xa=wr.rc,Kn=wr.Vc,gs=wr.Fa,gn=wr.P+1+$r*Ar,jn=wr.mb,Un=wr.nb+$r*Ar,er(gn<=wr.P+wr.qc),mn.Z!=0)for(er(c0[mn.Z]!=null),hn=0;hn<Hr;++hn)c0[mn.Z](xa,Kn,gs,gn,jn,Un,Ar),xa=jn,Kn=Un,Un+=Ar,gn+=Ar;else for(hn=0;hn<Hr;++hn)rr(jn,Un,gs,gn,Ar),xa=jn,Kn=Un,Un+=Ar,gn+=Ar;wr.rc=xa,wr.Vc=Kn}else{if(er(mn.mc!=null),Ar=$r+Hr,er((hn=mn.mc)!=null),er(Ar<=hn.i),hn.C>=Ar)Ar=1;else if(mn.ic||$n(),mn.ic){mn=hn.V,xa=hn.Ba,Kn=hn.c;var rs=hn.i,zn=(gs=1,gn=hn.$/Kn,jn=hn.$%Kn,Un=hn.m,na=hn.s,hn.$),Xn=Kn*rs,ds=Kn*Ar,Es=na.wc,fs=zn<ds?Xo(na,jn,gn):null;er(zn<=Xn),er(Ar<=rs),er(bn(na));t:for(;;){for(;!Un.h&&zn<ds;){if(jn&Es||(fs=Xo(na,jn,gn)),er(fs!=null),Mr(Un),256>(rs=Oo(fs.G[0],fs.H[0],Un)))mn[xa+zn]=rs,++zn,++jn>=Kn&&(jn=0,++gn<=Ar&&!(gn%16)&&kn(hn,gn));else{if(!(280>rs)){gs=0;break t}rs=Ml(rs-256,Un);var Bs,Ps=Oo(fs.G[4],fs.H[4],Un);if(Mr(Un),!(zn>=(Ps=Al(Kn,Ps=Ml(Ps,Un)))&&Xn-zn>=rs)){gs=0;break t}for(Bs=0;Bs<rs;++Bs)mn[xa+zn+Bs]=mn[xa+zn+Bs-Ps];for(zn+=rs,jn+=rs;jn>=Kn;)jn-=Kn,++gn<=Ar&&!(gn%16)&&kn(hn,gn);zn<ds&&jn&Es&&(fs=Xo(na,jn,gn))}er(Un.h==Tr(Un))}kn(hn,gn>Ar?Ar:gn);break t}!gs||Un.h&&zn<Xn?(gs=0,hn.a=Un.h?5:3):hn.$=zn,Ar=gs}else Ar=Nn(hn,hn.V,hn.Ba,hn.c,hn.i,Ar,ba);if(!Ar){Hr=0;break e}}$r+Hr>=dn&&(wr.Cc=1),Hr=1}if(!Hr)return null;if(wr.Cc&&((Hr=wr.ga)!=null&&(Hr.mc=null),wr.ga=null,0<wr.Ga))return alert("todo:WebPDequantizeLevels"),null}return wr.nb+$r*an}function Fr(wr,Ar,$r,Hr,an,dn){for(;0<an--;){var hn,mn=wr,gn=Ar+($r?1:0),jn=wr,Un=Ar+($r?0:3);for(hn=0;hn<Hr;++hn){var na=jn[Un+4*hn];na!=255&&(na*=32897,mn[gn+4*hn+0]=mn[gn+4*hn+0]*na>>23,mn[gn+4*hn+1]=mn[gn+4*hn+1]*na>>23,mn[gn+4*hn+2]=mn[gn+4*hn+2]*na>>23)}Ar+=dn}}function rn(wr,Ar,$r,Hr,an){for(;0<Hr--;){var dn;for(dn=0;dn<$r;++dn){var hn=wr[Ar+2*dn+0],mn=15&(jn=wr[Ar+2*dn+1]),gn=4369*mn,jn=(240&jn|jn>>4)*gn>>16;wr[Ar+2*dn+0]=(240&hn|hn>>4)*gn>>16&240|(15&hn|hn<<4)*gn>>16>>4&15,wr[Ar+2*dn+1]=240&jn|mn}Ar+=an}}function Cn(wr,Ar,$r,Hr,an,dn,hn,mn){var gn,jn,Un=255;for(jn=0;jn<an;++jn){for(gn=0;gn<Hr;++gn){var na=wr[Ar+gn];dn[hn+4*gn]=na,Un&=na}Ar+=$r,hn+=mn}return Un!=255}function Tn(wr,Ar,$r,Hr,an){var dn;for(dn=0;dn<an;++dn)$r[Hr+dn]=wr[Ar+dn]>>8}function $n(){co=Fr,Zs=rn,Js=Cn,Xs=Tn}function qn(wr,Ar,$r){_r[wr]=function(Hr,an,dn,hn,mn,gn,jn,Un,na,xa,Kn,gs,rs,zn,Xn,ds,Es){var fs,Bs=Es-1>>1,Ps=mn[gn+0]|jn[Un+0]<<16,fo=na[xa+0]|Kn[gs+0]<<16;er(Hr!=null);var Os=3*Ps+fo+131074>>2;for(Ar(Hr[an+0],255&Os,Os>>16,rs,zn),dn!=null&&(Os=3*fo+Ps+131074>>2,Ar(dn[hn+0],255&Os,Os>>16,Xn,ds)),fs=1;fs<=Bs;++fs){var Mo=mn[gn+fs]|jn[Un+fs]<<16,qo=na[xa+fs]|Kn[gs+fs]<<16,Lo=Ps+Mo+fo+qo+524296,No=Lo+2*(Mo+fo)>>3;Os=No+Ps>>1,Ps=(Lo=Lo+2*(Ps+qo)>>3)+Mo>>1,Ar(Hr[an+2*fs-1],255&Os,Os>>16,rs,zn+(2*fs-1)*$r),Ar(Hr[an+2*fs-0],255&Ps,Ps>>16,rs,zn+(2*fs-0)*$r),dn!=null&&(Os=Lo+fo>>1,Ps=No+qo>>1,Ar(dn[hn+2*fs-1],255&Os,Os>>16,Xn,ds+(2*fs-1)*$r),Ar(dn[hn+2*fs+0],255&Ps,Ps>>16,Xn,ds+(2*fs+0)*$r)),Ps=Mo,fo=qo}1&Es||(Os=3*Ps+fo+131074>>2,Ar(Hr[an+Es-1],255&Os,Os>>16,rs,zn+(Es-1)*$r),dn!=null&&(Os=3*fo+Ps+131074>>2,Ar(dn[hn+Es-1],255&Os,Os>>16,Xn,ds+(Es-1)*$r)))}}function Jn(){Eu[_h]=xx,Eu[ep]=om,Eu[rm]=gx,Eu[tp]=lm,Eu[rp]=cm,Eu[wp]=um,Eu[nm]=vx,Eu[Ep]=om,Eu[_p]=lm,Eu[np]=cm,Eu[Sp]=um}function $a(wr){return wr&-16384?0>wr?0:255:wr>>yx}function bs(wr,Ar){return $a((19077*wr>>8)+(26149*Ar>>8)-14234)}function As(wr,Ar,$r){return $a((19077*wr>>8)-(6419*Ar>>8)-(13320*$r>>8)+8708)}function ys(wr,Ar){return $a((19077*wr>>8)+(33050*Ar>>8)-17685)}function ms(wr,Ar,$r,Hr,an){Hr[an+0]=bs(wr,$r),Hr[an+1]=As(wr,Ar,$r),Hr[an+2]=ys(wr,Ar)}function Is(wr,Ar,$r,Hr,an){Hr[an+0]=ys(wr,Ar),Hr[an+1]=As(wr,Ar,$r),Hr[an+2]=bs(wr,$r)}function Ws(wr,Ar,$r,Hr,an){var dn=As(wr,Ar,$r);Ar=dn<<3&224|ys(wr,Ar)>>3,Hr[an+0]=248&bs(wr,$r)|dn>>5,Hr[an+1]=Ar}function ho(wr,Ar,$r,Hr,an){var dn=240&ys(wr,Ar)|15;Hr[an+0]=240&bs(wr,$r)|As(wr,Ar,$r)>>4,Hr[an+1]=dn}function mo(wr,Ar,$r,Hr,an){Hr[an+0]=255,ms(wr,Ar,$r,Hr,an+1)}function Ao(wr,Ar,$r,Hr,an){Is(wr,Ar,$r,Hr,an),Hr[an+3]=255}function yl(wr,Ar,$r,Hr,an){ms(wr,Ar,$r,Hr,an),Hr[an+3]=255}function qs(wr,Ar){return 0>wr?0:wr>Ar?Ar:wr}function Wo(wr,Ar,$r){_r[wr]=function(Hr,an,dn,hn,mn,gn,jn,Un,na){for(var xa=Un+(-2&na)*$r;Un!=xa;)Ar(Hr[an+0],dn[hn+0],mn[gn+0],jn,Un),Ar(Hr[an+1],dn[hn+0],mn[gn+0],jn,Un+$r),an+=2,++hn,++gn,Un+=2*$r;1&na&&Ar(Hr[an+0],dn[hn+0],mn[gn+0],jn,Un)}}function Po(wr,Ar,$r){return $r==0?wr==0?Ar==0?6:5:Ar==0?4:0:$r}function Fo(wr,Ar,$r,Hr,an){switch(wr>>>30){case 3:hu(Ar,$r,Hr,an,0);break;case 2:El(Ar,$r,Hr,an);break;case 1:Rl(Ar,$r,Hr,an)}}function Qo(wr,Ar){var $r,Hr,an=Ar.M,dn=Ar.Nb,hn=wr.oc,mn=wr.pc+40,gn=wr.oc,jn=wr.pc+584,Un=wr.oc,na=wr.pc+600;for($r=0;16>$r;++$r)hn[mn+32*$r-1]=129;for($r=0;8>$r;++$r)gn[jn+32*$r-1]=129,Un[na+32*$r-1]=129;for(0<an?hn[mn-1-32]=gn[jn-1-32]=Un[na-1-32]=129:(nr(hn,mn-32-1,127,21),nr(gn,jn-32-1,127,9),nr(Un,na-32-1,127,9)),Hr=0;Hr<wr.za;++Hr){var xa=Ar.ya[Ar.aa+Hr];if(0<Hr){for($r=-1;16>$r;++$r)rr(hn,mn+32*$r-4,hn,mn+32*$r+12,4);for($r=-1;8>$r;++$r)rr(gn,jn+32*$r-4,gn,jn+32*$r+4,4),rr(Un,na+32*$r-4,Un,na+32*$r+4,4)}var Kn=wr.Gd,gs=wr.Hd+Hr,rs=xa.ad,zn=xa.Hc;if(0<an&&(rr(hn,mn-32,Kn[gs].y,0,16),rr(gn,jn-32,Kn[gs].f,0,8),rr(Un,na-32,Kn[gs].ea,0,8)),xa.Za){var Xn=hn,ds=mn-32+16;for(0<an&&(Hr>=wr.za-1?nr(Xn,ds,Kn[gs].y[15],4):rr(Xn,ds,Kn[gs+1].y,0,4)),$r=0;4>$r;$r++)Xn[ds+128+$r]=Xn[ds+256+$r]=Xn[ds+384+$r]=Xn[ds+0+$r];for($r=0;16>$r;++$r,zn<<=2)Xn=hn,ds=mn+fm[$r],Fu[xa.Ob[$r]](Xn,ds),Fo(zn,rs,16*+$r,Xn,ds)}else if(Xn=Po(Hr,an,xa.Ob[0]),l0[Xn](hn,mn),zn!=0)for($r=0;16>$r;++$r,zn<<=2)Fo(zn,rs,16*+$r,hn,mn+fm[$r]);for($r=xa.Gc,Xn=Po(Hr,an,xa.Dd),qu[Xn](gn,jn),qu[Xn](Un,na),zn=rs,Xn=gn,ds=jn,255&(xa=$r>>0)&&(170&xa?n0(zn,256,Xn,ds):iu(zn,256,Xn,ds)),xa=Un,zn=na,255&($r>>=8)&&(170&$r?n0(rs,320,xa,zn):iu(rs,320,xa,zn)),an<wr.Ub-1&&(rr(Kn[gs].y,0,hn,mn+480,16),rr(Kn[gs].f,0,gn,jn+224,8),rr(Kn[gs].ea,0,Un,na+224,8)),$r=8*dn*wr.B,Kn=wr.sa,gs=wr.ta+16*Hr+16*dn*wr.R,rs=wr.qa,xa=wr.ra+8*Hr+$r,zn=wr.Ha,Xn=wr.Ia+8*Hr+$r,$r=0;16>$r;++$r)rr(Kn,gs+$r*wr.R,hn,mn+32*$r,16);for($r=0;8>$r;++$r)rr(rs,xa+$r*wr.B,gn,jn+32*$r,8),rr(zn,Xn+$r*wr.B,Un,na+32*$r,8)}}function Ro(wr,Ar,$r,Hr,an,dn,hn,mn,gn){var jn=[0],Un=[0],na=0,xa=gn!=null?gn.kd:0,Kn=gn??new To;if(wr==null||12>$r)return 7;Kn.data=wr,Kn.w=Ar,Kn.ha=$r,Ar=[Ar],$r=[$r],Kn.gb=[Kn.gb];e:{var gs=Ar,rs=$r,zn=Kn.gb;if(er(wr!=null),er(rs!=null),er(zn!=null),zn[0]=0,12<=rs[0]&&!tr(wr,gs[0],"RIFF")){if(tr(wr,gs[0]+8,"WEBP")){zn=3;break e}var Xn=Ur(wr,gs[0]+4);if(12>Xn||4294967286<Xn){zn=3;break e}if(xa&&Xn>rs[0]-8){zn=7;break e}zn[0]=Xn,gs[0]+=12,rs[0]-=12}zn=0}if(zn!=0)return zn;for(Xn=0<Kn.gb[0],$r=$r[0];;){e:{var ds=wr;rs=Ar,zn=$r;var Es=jn,fs=Un,Bs=gs=[0];if((Os=na=[na])[0]=0,8>zn[0])zn=7;else{if(!tr(ds,rs[0],"VP8X")){if(Ur(ds,rs[0]+4)!=10){zn=3;break e}if(18>zn[0]){zn=7;break e}var Ps=Ur(ds,rs[0]+8),fo=1+Nr(ds,rs[0]+12);if(2147483648<=fo*(ds=1+Nr(ds,rs[0]+15))){zn=3;break e}Bs!=null&&(Bs[0]=Ps),Es!=null&&(Es[0]=fo),fs!=null&&(fs[0]=ds),rs[0]+=18,zn[0]-=18,Os[0]=1}zn=0}}if(na=na[0],gs=gs[0],zn!=0)return zn;if(rs=!!(2&gs),!Xn&&na)return 3;if(dn!=null&&(dn[0]=!!(16&gs)),hn!=null&&(hn[0]=rs),mn!=null&&(mn[0]=0),hn=jn[0],gs=Un[0],na&&rs&&gn==null){zn=0;break}if(4>$r){zn=7;break}if(Xn&&na||!Xn&&!na&&!tr(wr,Ar[0],"ALPH")){$r=[$r],Kn.na=[Kn.na],Kn.P=[Kn.P],Kn.Sa=[Kn.Sa];e:{Ps=wr,zn=Ar,Xn=$r;var Os=Kn.gb;Es=Kn.na,fs=Kn.P,Bs=Kn.Sa,fo=22,er(Ps!=null),er(Xn!=null),ds=zn[0];var Mo=Xn[0];for(er(Es!=null),er(Bs!=null),Es[0]=null,fs[0]=null,Bs[0]=0;;){if(zn[0]=ds,Xn[0]=Mo,8>Mo){zn=7;break e}var qo=Ur(Ps,ds+4);if(4294967286<qo){zn=3;break e}var Lo=8+qo+1&-2;if(fo+=Lo,0<Os&&fo>Os){zn=3;break e}if(!tr(Ps,ds,"VP8 ")||!tr(Ps,ds,"VP8L")){zn=0;break e}if(Mo[0]<Lo){zn=7;break e}tr(Ps,ds,"ALPH")||(Es[0]=Ps,fs[0]=ds+8,Bs[0]=qo),ds+=Lo,Mo-=Lo}}if($r=$r[0],Kn.na=Kn.na[0],Kn.P=Kn.P[0],Kn.Sa=Kn.Sa[0],zn!=0)break}$r=[$r],Kn.Ja=[Kn.Ja],Kn.xa=[Kn.xa];e:if(Os=wr,zn=Ar,Xn=$r,Es=Kn.gb[0],fs=Kn.Ja,Bs=Kn.xa,Ps=zn[0],ds=!tr(Os,Ps,"VP8 "),fo=!tr(Os,Ps,"VP8L"),er(Os!=null),er(Xn!=null),er(fs!=null),er(Bs!=null),8>Xn[0])zn=7;else{if(ds||fo){if(Os=Ur(Os,Ps+4),12<=Es&&Os>Es-12){zn=3;break e}if(xa&&Os>Xn[0]-8){zn=7;break e}fs[0]=Os,zn[0]+=8,Xn[0]-=8,Bs[0]=fo}else Bs[0]=5<=Xn[0]&&Os[Ps+0]==47&&!(Os[Ps+4]>>5),fs[0]=Xn[0];zn=0}if($r=$r[0],Kn.Ja=Kn.Ja[0],Kn.xa=Kn.xa[0],Ar=Ar[0],zn!=0)break;if(4294967286<Kn.Ja)return 3;if(mn==null||rs||(mn[0]=Kn.xa?2:1),hn=[hn],gs=[gs],Kn.xa){if(5>$r){zn=7;break}mn=hn,xa=gs,rs=dn,wr==null||5>$r?wr=0:5<=$r&&wr[Ar+0]==47&&!(wr[Ar+4]>>5)?(Xn=[0],Os=[0],Es=[0],Vr(fs=new Sr,wr,Ar,$r),Qs(fs,Xn,Os,Es)?(mn!=null&&(mn[0]=Xn[0]),xa!=null&&(xa[0]=Os[0]),rs!=null&&(rs[0]=Es[0]),wr=1):wr=0):wr=0}else{if(10>$r){zn=7;break}mn=gs,wr==null||10>$r||!Lu(wr,Ar+3,$r-3)?wr=0:(xa=wr[Ar+0]|wr[Ar+1]<<8|wr[Ar+2]<<16,rs=16383&(wr[Ar+7]<<8|wr[Ar+6]),wr=16383&(wr[Ar+9]<<8|wr[Ar+8]),1&xa||3<(xa>>1&7)||!(xa>>4&1)||xa>>5>=Kn.Ja||!rs||!wr?wr=0:(hn&&(hn[0]=rs),mn&&(mn[0]=wr),wr=1))}if(!wr||(hn=hn[0],gs=gs[0],na&&(jn[0]!=hn||Un[0]!=gs)))return 3;gn!=null&&(gn[0]=Kn,gn.offset=Ar-gn.w,er(4294967286>Ar-gn.w),er(gn.offset==gn.ha-$r));break}return zn==0||zn==7&&na&&gn==null?(dn!=null&&(dn[0]|=Kn.na!=null&&0<Kn.na.length),Hr!=null&&(Hr[0]=hn),an!=null&&(an[0]=gs),0):zn}function au(wr,Ar,$r){var Hr=Ar.width,an=Ar.height,dn=0,hn=0,mn=Hr,gn=an;if(Ar.Da=wr!=null&&0<wr.Da,Ar.Da&&(mn=wr.cd,gn=wr.bd,dn=wr.v,hn=wr.j,11>$r||(dn&=-2,hn&=-2),0>dn||0>hn||0>=mn||0>=gn||dn+mn>Hr||hn+gn>an))return 0;if(Ar.v=dn,Ar.j=hn,Ar.va=dn+mn,Ar.o=hn+gn,Ar.U=mn,Ar.T=gn,Ar.da=wr!=null&&0<wr.da,Ar.da){if(!on(mn,gn,$r=[wr.ib],dn=[wr.hb]))return 0;Ar.ib=$r[0],Ar.hb=dn[0]}return Ar.ob=wr!=null&&wr.ob,Ar.Kb=wr==null||!wr.Sd,Ar.da&&(Ar.ob=Ar.ib<3*Hr/4&&Ar.hb<3*an/4,Ar.Kb=0),1}function yu(wr){if(wr==null)return 2;if(11>wr.S){var Ar=wr.f.RGBA;Ar.fb+=(wr.height-1)*Ar.A,Ar.A=-Ar.A}else Ar=wr.f.kb,wr=wr.height,Ar.O+=(wr-1)*Ar.fa,Ar.fa=-Ar.fa,Ar.N+=(wr-1>>1)*Ar.Ab,Ar.Ab=-Ar.Ab,Ar.W+=(wr-1>>1)*Ar.Db,Ar.Db=-Ar.Db,Ar.F!=null&&(Ar.J+=(wr-1)*Ar.lb,Ar.lb=-Ar.lb);return 0}function ku(wr,Ar,$r,Hr){if(Hr==null||0>=wr||0>=Ar)return 2;if($r!=null){if($r.Da){var an=$r.cd,dn=$r.bd,hn=-2&$r.v,mn=-2&$r.j;if(0>hn||0>mn||0>=an||0>=dn||hn+an>wr||mn+dn>Ar)return 2;wr=an,Ar=dn}if($r.da){if(!on(wr,Ar,an=[$r.ib],dn=[$r.hb]))return 2;wr=an[0],Ar=dn[0]}}Hr.width=wr,Hr.height=Ar;e:{var gn=Hr.width,jn=Hr.height;if(wr=Hr.S,0>=gn||0>=jn||!(wr>=_h&&13>wr))wr=2;else{if(0>=Hr.Rd&&Hr.sd==null){hn=dn=an=Ar=0;var Un=(mn=gn*hm[wr])*jn;if(11>wr||(dn=(jn+1)/2*(Ar=(gn+1)/2),wr==12&&(hn=(an=gn)*jn)),(jn=ar(Un+2*dn+hn))==null){wr=1;break e}Hr.sd=jn,11>wr?((gn=Hr.f.RGBA).eb=jn,gn.fb=0,gn.A=mn,gn.size=Un):((gn=Hr.f.kb).y=jn,gn.O=0,gn.fa=mn,gn.Fd=Un,gn.f=jn,gn.N=0+Un,gn.Ab=Ar,gn.Cd=dn,gn.ea=jn,gn.W=0+Un+dn,gn.Db=Ar,gn.Ed=dn,wr==12&&(gn.F=jn,gn.J=0+Un+2*dn),gn.Tc=hn,gn.lb=an)}if(Ar=1,an=Hr.S,dn=Hr.width,hn=Hr.height,an>=_h&&13>an)if(11>an)wr=Hr.f.RGBA,Ar&=(mn=Math.abs(wr.A))*(hn-1)+dn<=wr.size,Ar&=mn>=dn*hm[an],Ar&=wr.eb!=null;else{wr=Hr.f.kb,mn=(dn+1)/2,Un=(hn+1)/2,gn=Math.abs(wr.fa),jn=Math.abs(wr.Ab);var na=Math.abs(wr.Db),xa=Math.abs(wr.lb),Kn=xa*(hn-1)+dn;Ar&=gn*(hn-1)+dn<=wr.Fd,Ar&=jn*(Un-1)+mn<=wr.Cd,Ar=(Ar&=na*(Un-1)+mn<=wr.Ed)&gn>=dn&jn>=mn&na>=mn,Ar&=wr.y!=null,Ar&=wr.f!=null,Ar&=wr.ea!=null,an==12&&(Ar&=xa>=dn,Ar&=Kn<=wr.Tc,Ar&=wr.F!=null)}else Ar=0;wr=Ar?0:2}}return wr!=0||$r!=null&&$r.fd&&(wr=yu(Hr)),wr}var wl=64,bu=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Qu=24,Dl=32,_d=8,tu=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Dn("Predictor0","PredictorAdd0"),_r.Predictor0=function(){return 4278190080},_r.Predictor1=function(wr){return wr},_r.Predictor2=function(wr,Ar,$r){return Ar[$r+0]},_r.Predictor3=function(wr,Ar,$r){return Ar[$r+1]},_r.Predictor4=function(wr,Ar,$r){return Ar[$r-1]},_r.Predictor5=function(wr,Ar,$r){return Sn(Sn(wr,Ar[$r+1]),Ar[$r+0])},_r.Predictor6=function(wr,Ar,$r){return Sn(wr,Ar[$r-1])},_r.Predictor7=function(wr,Ar,$r){return Sn(wr,Ar[$r+0])},_r.Predictor8=function(wr,Ar,$r){return Sn(Ar[$r-1],Ar[$r+0])},_r.Predictor9=function(wr,Ar,$r){return Sn(Ar[$r+0],Ar[$r+1])},_r.Predictor10=function(wr,Ar,$r){return Sn(Sn(wr,Ar[$r-1]),Sn(Ar[$r+0],Ar[$r+1]))},_r.Predictor11=function(wr,Ar,$r){var Hr=Ar[$r+0];return 0>=Yn(Hr>>24&255,wr>>24&255,(Ar=Ar[$r-1])>>24&255)+Yn(Hr>>16&255,wr>>16&255,Ar>>16&255)+Yn(Hr>>8&255,wr>>8&255,Ar>>8&255)+Yn(255&Hr,255&wr,255&Ar)?Hr:wr},_r.Predictor12=function(wr,Ar,$r){var Hr=Ar[$r+0];return(wn((wr>>24&255)+(Hr>>24&255)-((Ar=Ar[$r-1])>>24&255))<<24|wn((wr>>16&255)+(Hr>>16&255)-(Ar>>16&255))<<16|wn((wr>>8&255)+(Hr>>8&255)-(Ar>>8&255))<<8|wn((255&wr)+(255&Hr)-(255&Ar)))>>>0},_r.Predictor13=function(wr,Ar,$r){var Hr=Ar[$r-1];return(Vn((wr=Sn(wr,Ar[$r+0]))>>24&255,Hr>>24&255)<<24|Vn(wr>>16&255,Hr>>16&255)<<16|Vn(wr>>8&255,Hr>>8&255)<<8|Vn(wr>>0&255,Hr>>0&255))>>>0};var Do=_r.PredictorAdd0;_r.PredictorAdd1=ns,Dn("Predictor2","PredictorAdd2"),Dn("Predictor3","PredictorAdd3"),Dn("Predictor4","PredictorAdd4"),Dn("Predictor5","PredictorAdd5"),Dn("Predictor6","PredictorAdd6"),Dn("Predictor7","PredictorAdd7"),Dn("Predictor8","PredictorAdd8"),Dn("Predictor9","PredictorAdd9"),Dn("Predictor10","PredictorAdd10"),Dn("Predictor11","PredictorAdd11"),Dn("Predictor12","PredictorAdd12"),Dn("Predictor13","PredictorAdd13");var E0=_r.PredictorAdd2;ps("ColorIndexInverseTransform","MapARGB","32b",function(wr){return wr>>8&255},function(wr){return wr}),ps("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(wr){return wr},function(wr){return wr>>8&255});var fu,su=_r.ColorIndexInverseTransform,e0=_r.MapARGB,L0=_r.VP8LColorIndexInverseTransformAlpha,r0=_r.MapAlpha,Ru=_r.VP8LPredictorsAdd=[];Ru.length=16,(_r.VP8LPredictors=[]).length=16,(_r.VP8LPredictorsAdd_C=[]).length=16,(_r.VP8LPredictors_C=[]).length=16;var Uu,ru,Yl,Jl,Au,wu,zu,hu,El,n0,Rl,iu,a0,s0,Vu,Cu,Ou,$u,Nu,i0,Hu,Tu,xs,Gs,co,Zs,Js,Xs,jo=ar(511),zl=ar(2041),Wu=ar(225),Pu=ar(767),pu=0,o0=zl,_0=Wu,Vl=Pu,Ul=jo,_h=0,ep=1,rm=2,tp=3,rp=4,wp=5,nm=6,Ep=7,_p=8,np=9,Sp=10,tx=[2,3,7],rx=[3,3,11],am=[280,256,256,256,40],nx=[0,1,1,1,0],ax=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],sx=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],ix=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ox=8,jp=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],kp=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],q0=null,lx=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],cx=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],sm=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ux=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],dx=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],fx=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],hx=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],l0=[],Fu=[],qu=[],mx=1,im=2,c0=[],Eu=[];qn("UpsampleRgbLinePair",ms,3),qn("UpsampleBgrLinePair",Is,3),qn("UpsampleRgbaLinePair",yl,4),qn("UpsampleBgraLinePair",Ao,4),qn("UpsampleArgbLinePair",mo,4),qn("UpsampleRgba4444LinePair",ho,2),qn("UpsampleRgb565LinePair",Ws,2);var xx=_r.UpsampleRgbLinePair,gx=_r.UpsampleBgrLinePair,om=_r.UpsampleRgbaLinePair,lm=_r.UpsampleBgraLinePair,cm=_r.UpsampleArgbLinePair,um=_r.UpsampleRgba4444LinePair,vx=_r.UpsampleRgb565LinePair,ap=16,sp=1<<ap-1,G0=-227,Rp=482,yx=6,dm=0,bx=ar(256),wx=ar(256),Ex=ar(256),_x=ar(256),Sx=ar(Rp-G0),jx=ar(Rp-G0);Wo("YuvToRgbRow",ms,3),Wo("YuvToBgrRow",Is,3),Wo("YuvToRgbaRow",yl,4),Wo("YuvToBgraRow",Ao,4),Wo("YuvToArgbRow",mo,4),Wo("YuvToRgba4444Row",ho,2),Wo("YuvToRgb565Row",Ws,2);var fm=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ip=[0,2,8],Rx=[8,7,6,4,4,2,2,2,1,1,1,1],Ax=1;this.WebPDecodeRGBA=function(wr,Ar,$r,Hr,an){var dn=ep,hn=new Vo,mn=new xl;hn.ba=mn,mn.S=dn,mn.width=[mn.width],mn.height=[mn.height];var gn=mn.width,jn=mn.height,Un=new Pl;if(Un==null||wr==null)var na=2;else er(Un!=null),na=Ro(wr,Ar,$r,Un.width,Un.height,Un.Pd,Un.Qd,Un.format,null);if(na!=0?gn=0:(gn!=null&&(gn[0]=Un.width[0]),jn!=null&&(jn[0]=Un.height[0]),gn=1),gn){mn.width=mn.width[0],mn.height=mn.height[0],Hr!=null&&(Hr[0]=mn.width),an!=null&&(an[0]=mn.height);e:{if(Hr=new uu,(an=new To).data=wr,an.w=Ar,an.ha=$r,an.kd=1,Ar=[0],er(an!=null),((wr=Ro(an.data,an.w,an.ha,null,null,null,Ar,null,an))==0||wr==7)&&Ar[0]&&(wr=4),(Ar=wr)==0){if(er(hn!=null),Hr.data=an.data,Hr.w=an.w+an.offset,Hr.ha=an.ha-an.offset,Hr.put=$l,Hr.ac=Eo,Hr.bc=Il,Hr.ma=hn,an.xa){if((wr=es())==null){hn=1;break e}if(function(xa,Kn){var gs=[0],rs=[0],zn=[0];t:for(;;){if(xa==null)return 0;if(Kn==null)return xa.a=2,0;if(xa.l=Kn,xa.a=0,Vr(xa.m,Kn.data,Kn.w,Kn.ha),!Qs(xa.m,gs,rs,zn)){xa.a=3;break t}if(xa.xb=im,Kn.width=gs[0],Kn.height=rs[0],!Zn(gs[0],rs[0],1,xa,null))break t;return 1}return er(xa.a!=0),0}(wr,Hr)){if(Hr=(Ar=ku(Hr.width,Hr.height,hn.Oa,hn.ba))==0){t:{Hr=wr;r:for(;;){if(Hr==null){Hr=0;break t}if(er(Hr.s.yc!=null),er(Hr.s.Ya!=null),er(0<Hr.s.Wb),er(($r=Hr.l)!=null),er((an=$r.ma)!=null),Hr.xb!=0){if(Hr.ca=an.ba,Hr.tb=an.tb,er(Hr.ca!=null),!au(an.Oa,$r,tp)){Hr.a=2;break r}if(!ga(Hr,$r.width)||$r.da)break r;if(($r.da||Vs(Hr.ca.S))&&$n(),11>Hr.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Hr.ca.f.kb.F!=null&&$n()),Hr.Pb&&0<Hr.s.ua&&Hr.s.vb.X==null&&!en(Hr.s.vb,Hr.s.Wa.Xa)){Hr.a=1;break r}Hr.xb=0}if(!Nn(Hr,Hr.V,Hr.Ba,Hr.c,Hr.i,$r.o,An))break r;an.Dc=Hr.Ma,Hr=1;break t}er(Hr.a!=0),Hr=0}Hr=!Hr}Hr&&(Ar=wr.a)}else Ar=wr.a}else{if((wr=new _c)==null){hn=1;break e}if(wr.Fa=an.na,wr.P=an.P,wr.qc=an.Sa,k0(wr,Hr)){if((Ar=ku(Hr.width,Hr.height,hn.Oa,hn.ba))==0){if(wr.Aa=0,$r=hn.Oa,er((an=wr)!=null),$r!=null){if(0<(gn=0>(gn=$r.Md)?0:100<gn?255:255*gn/100)){for(jn=Un=0;4>jn;++jn)12>(na=an.pb[jn]).lc&&(na.ia=gn*Rx[0>na.lc?0:na.lc]>>3),Un|=na.ia;Un&&(alert("todo:VP8InitRandom"),an.ia=1)}an.Ga=$r.Id,100<an.Ga?an.Ga=100:0>an.Ga&&(an.Ga=0)}x0(wr,Hr)||(Ar=wr.a)}}else Ar=wr.a}Ar==0&&hn.Oa!=null&&hn.Oa.fd&&(Ar=yu(hn.ba))}hn=Ar}dn=hn!=0?null:11>dn?mn.f.RGBA.eb:mn.f.kb.y}else dn=null;return dn};var hm=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function lr(_r,Cr){for(var Or="",Pr=0;Pr<4;Pr++)Or+=String.fromCharCode(_r[Cr++]);return Or}function cr(_r,Cr){return(_r[Cr+0]<<0|_r[Cr+1]<<8|_r[Cr+2]<<16)>>>0}function ur(_r,Cr){return(_r[Cr+0]<<0|_r[Cr+1]<<8|_r[Cr+2]<<16|_r[Cr+3]<<24)>>>0}new or;var dr=[0],fr=[0],mr=[],xr=new or,pr=St,hr=function(_r,Cr){var Or={},Pr=0,Lr=!1,Gr=0,Kr=0;if(Or.frames=[],!function(Rr,Tr,Dr,Mr){for(var Br=0;Br<Mr;Br++)if(Rr[Tr+Br]!=Dr.charCodeAt(Br))return!0;return!1}(_r,Cr,"RIFF",4)){for(ur(_r,Cr+=4),Cr+=8;Cr<_r.length;){var nn=lr(_r,Cr),Qr=ur(_r,Cr+=4);Cr+=4;var zr=Qr+(1&Qr);switch(nn){case"VP8 ":case"VP8L":Or.frames[Pr]===void 0&&(Or.frames[Pr]={}),(tn=Or.frames[Pr]).src_off=Lr?Kr:Cr-8,tn.src_size=Gr+Qr+8,Pr++,Lr&&(Lr=!1,Gr=0,Kr=0);break;case"VP8X":(tn=Or.header={}).feature_flags=_r[Cr];var Vr=Cr+4;tn.canvas_width=1+cr(_r,Vr),Vr+=3,tn.canvas_height=1+cr(_r,Vr),Vr+=3;break;case"ALPH":Lr=!0,Gr=zr+8,Kr=Cr-8;break;case"ANIM":(tn=Or.header).bgcolor=ur(_r,Cr),Vr=Cr+4,tn.loop_count=(Yr=_r)[(Sr=Vr)+0]<<0|Yr[Sr+1]<<8,Vr+=2;break;case"ANMF":var Jr,tn;(tn=Or.frames[Pr]={}).offset_x=2*cr(_r,Cr),Cr+=3,tn.offset_y=2*cr(_r,Cr),Cr+=3,tn.width=1+cr(_r,Cr),Cr+=3,tn.height=1+cr(_r,Cr),Cr+=3,tn.duration=cr(_r,Cr),Cr+=3,Jr=_r[Cr++],tn.dispose=1&Jr,tn.blend=Jr>>1&1}nn!="ANMF"&&(Cr+=zr)}var Yr,Sr;return Or}}(pr,0);hr.response=pr,hr.rgbaoutput=!0,hr.dataurl=!1;var gr=hr.header?hr.header:null,vr=hr.frames?hr.frames:null;if(gr){gr.loop_counter=gr.loop_count,dr=[gr.canvas_height],fr=[gr.canvas_width];for(var br=0;br<vr.length&&vr[br].blend!=0;br++);}var yr=vr[0],Er=xr.WebPDecodeRGBA(pr,yr.src_off,yr.src_size,fr,dr);yr.rgba=Er,yr.imgwidth=fr[0],yr.imgheight=dr[0];for(var jr=0;jr<fr[0]*dr[0]*4;jr++)mr[jr]=Er[jr];return this.width=fr,this.height=dr,this.data=mr,this}(function(St){var er=function(){return typeof zlibSync=="function"},tr=function(dr,fr,mr,xr){var pr=4,hr=sr;switch(xr){case St.image_compression.FAST:pr=1,hr=ar;break;case St.image_compression.MEDIUM:pr=6,hr=ir;break;case St.image_compression.SLOW:pr=9,hr=or}dr=rr(dr,fr,mr,hr);var gr=zlibSync(dr,{level:pr});return St.__addimage__.arrayBufferToBinaryString(gr)},rr=function(dr,fr,mr,xr){for(var pr,hr,gr,vr=dr.length/fr,br=new Uint8Array(dr.length+vr),yr=cr(),Er=0;Er<vr;Er+=1){if(gr=Er*fr,pr=dr.subarray(gr,gr+fr),xr)br.set(xr(pr,mr,hr),gr+Er);else{for(var jr,_r=yr.length,Cr=[];jr<_r;jr+=1)Cr[jr]=yr[jr](pr,mr,hr);var Or=ur(Cr.concat());br.set(Cr[Or],gr+Er)}hr=pr}return br},nr=function(dr){var fr=Array.apply([],dr);return fr.unshift(0),fr},ar=function(dr,fr){var mr,xr=[],pr=dr.length;xr[0]=1;for(var hr=0;hr<pr;hr+=1)mr=dr[hr-fr]||0,xr[hr+1]=dr[hr]-mr+256&255;return xr},sr=function(dr,fr,mr){var xr,pr=[],hr=dr.length;pr[0]=2;for(var gr=0;gr<hr;gr+=1)xr=mr&&mr[gr]||0,pr[gr+1]=dr[gr]-xr+256&255;return pr},ir=function(dr,fr,mr){var xr,pr,hr=[],gr=dr.length;hr[0]=3;for(var vr=0;vr<gr;vr+=1)xr=dr[vr-fr]||0,pr=mr&&mr[vr]||0,hr[vr+1]=dr[vr]+256-(xr+pr>>>1)&255;return hr},or=function(dr,fr,mr){var xr,pr,hr,gr,vr=[],br=dr.length;vr[0]=4;for(var yr=0;yr<br;yr+=1)xr=dr[yr-fr]||0,pr=mr&&mr[yr]||0,hr=mr&&mr[yr-fr]||0,gr=lr(xr,pr,hr),vr[yr+1]=dr[yr]-gr+256&255;return vr},lr=function(dr,fr,mr){if(dr===fr&&fr===mr)return dr;var xr=Math.abs(fr-mr),pr=Math.abs(dr-mr),hr=Math.abs(dr+fr-mr-mr);return xr<=pr&&xr<=hr?dr:pr<=hr?fr:mr},cr=function(){return[nr,ar,sr,ir,or]},ur=function(dr){var fr=dr.map(function(mr){return mr.reduce(function(xr,pr){return xr+Math.abs(pr)},0)});return fr.indexOf(Math.min.apply(null,fr))};St.processPNG=function(dr,fr,mr,xr){var pr,hr,gr,vr,br,yr,Er,jr,_r,Cr,Or,Pr,Lr,Gr,Kr,nn=this.decode.FLATE_DECODE,Qr="";if(this.__addimage__.isArrayBuffer(dr)&&(dr=new Uint8Array(dr)),this.__addimage__.isArrayBufferView(dr)){if(dr=(gr=new Kt(dr)).imgData,hr=gr.bits,pr=gr.colorSpace,br=gr.colors,[4,6].indexOf(gr.colorType)!==-1){if(gr.bits===8){_r=(jr=gr.pixelBitlength==32?new Uint32Array(gr.decodePixels().buffer):gr.pixelBitlength==16?new Uint16Array(gr.decodePixels().buffer):new Uint8Array(gr.decodePixels().buffer)).length,Or=new Uint8Array(_r*gr.colors),Cr=new Uint8Array(_r);var zr,Vr=gr.pixelBitlength-gr.bits;for(Gr=0,Kr=0;Gr<_r;Gr++){for(Lr=jr[Gr],zr=0;zr<Vr;)Or[Kr++]=Lr>>>zr&255,zr+=gr.bits;Cr[Gr]=Lr>>>zr&255}}if(gr.bits===16){_r=(jr=new Uint32Array(gr.decodePixels().buffer)).length,Or=new Uint8Array(_r*(32/gr.pixelBitlength)*gr.colors),Cr=new Uint8Array(_r*(32/gr.pixelBitlength)),Pr=gr.colors>1,Gr=0,Kr=0;for(var Jr=0;Gr<_r;)Lr=jr[Gr++],Or[Kr++]=Lr>>>0&255,Pr&&(Or[Kr++]=Lr>>>16&255,Lr=jr[Gr++],Or[Kr++]=Lr>>>0&255),Cr[Jr++]=Lr>>>16&255;hr=8}xr!==St.image_compression.NONE&&er()?(dr=tr(Or,gr.width*gr.colors,gr.colors,xr),Er=tr(Cr,gr.width,1,xr)):(dr=Or,Er=Cr,nn=void 0)}if(gr.colorType===3&&(pr=this.color_spaces.INDEXED,yr=gr.palette,gr.transparency.indexed)){var tn=gr.transparency.indexed,Yr=0;for(Gr=0,_r=tn.length;Gr<_r;++Gr)Yr+=tn[Gr];if((Yr/=255)===_r-1&&tn.indexOf(0)!==-1)vr=[tn.indexOf(0)];else if(Yr!==_r){for(jr=gr.decodePixels(),Cr=new Uint8Array(jr.length),Gr=0,_r=jr.length;Gr<_r;Gr++)Cr[Gr]=tn[jr[Gr]];Er=tr(Cr,gr.width,1)}}var Sr=function(Rr){var Tr;switch(Rr){case St.image_compression.FAST:Tr=11;break;case St.image_compression.MEDIUM:Tr=13;break;case St.image_compression.SLOW:Tr=14;break;default:Tr=12}return Tr}(xr);return nn===this.decode.FLATE_DECODE&&(Qr="/Predictor "+Sr+" "),Qr+="/Colors "+br+" /BitsPerComponent "+hr+" /Columns "+gr.width,(this.__addimage__.isArrayBuffer(dr)||this.__addimage__.isArrayBufferView(dr))&&(dr=this.__addimage__.arrayBufferToBinaryString(dr)),(Er&&this.__addimage__.isArrayBuffer(Er)||this.__addimage__.isArrayBufferView(Er))&&(Er=this.__addimage__.arrayBufferToBinaryString(Er)),{alias:mr,data:dr,index:fr,filter:nn,decodeParameters:Qr,transparency:vr,palette:yr,sMask:Er,predictor:Sr,width:gr.width,height:gr.height,bitsPerComponent:hr,colorSpace:pr}}}})(E$2.API),function(St){St.processGIF89A=function(er,tr,rr,nr){var ar=new Zt(er),sr=ar.width,ir=ar.height,or=[];ar.decodeAndBlitFrameRGBA(0,or);var lr={data:or,width:sr,height:ir},cr=new Qt(100).encode(lr,100);return St.processJPEG.call(this,cr,tr,rr,nr)},St.processGIF87A=St.processGIF89A}(E$2.API),te$1.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var St=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(St);for(var er=0;er<St;er++){var tr=this.datav.getUint8(this.pos++,!0),rr=this.datav.getUint8(this.pos++,!0),nr=this.datav.getUint8(this.pos++,!0),ar=this.datav.getUint8(this.pos++,!0);this.palette[er]={red:nr,green:rr,blue:tr,quad:ar}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},te$1.prototype.parseBGR=function(){this.pos=this.offset;try{var St="bit"+this.bitPP,er=this.width*this.height*4;this.data=new Uint8Array(er),this[St]()}catch(tr){a$d.log("bit decode error:"+tr)}},te$1.prototype.bit1=function(){var St,er=Math.ceil(this.width/8),tr=er%4;for(St=this.height-1;St>=0;St--){for(var rr=this.bottom_up?St:this.height-1-St,nr=0;nr<er;nr++)for(var ar=this.datav.getUint8(this.pos++,!0),sr=rr*this.width*4+8*nr*4,ir=0;ir<8&&8*nr+ir<this.width;ir++){var or=this.palette[ar>>7-ir&1];this.data[sr+4*ir]=or.blue,this.data[sr+4*ir+1]=or.green,this.data[sr+4*ir+2]=or.red,this.data[sr+4*ir+3]=255}tr!==0&&(this.pos+=4-tr)}},te$1.prototype.bit4=function(){for(var St=Math.ceil(this.width/2),er=St%4,tr=this.height-1;tr>=0;tr--){for(var rr=this.bottom_up?tr:this.height-1-tr,nr=0;nr<St;nr++){var ar=this.datav.getUint8(this.pos++,!0),sr=rr*this.width*4+2*nr*4,ir=ar>>4,or=15&ar,lr=this.palette[ir];if(this.data[sr]=lr.blue,this.data[sr+1]=lr.green,this.data[sr+2]=lr.red,this.data[sr+3]=255,2*nr+1>=this.width)break;lr=this.palette[or],this.data[sr+4]=lr.blue,this.data[sr+4+1]=lr.green,this.data[sr+4+2]=lr.red,this.data[sr+4+3]=255}er!==0&&(this.pos+=4-er)}},te$1.prototype.bit8=function(){for(var St=this.width%4,er=this.height-1;er>=0;er--){for(var tr=this.bottom_up?er:this.height-1-er,rr=0;rr<this.width;rr++){var nr=this.datav.getUint8(this.pos++,!0),ar=tr*this.width*4+4*rr;if(nr<this.palette.length){var sr=this.palette[nr];this.data[ar]=sr.red,this.data[ar+1]=sr.green,this.data[ar+2]=sr.blue,this.data[ar+3]=255}else this.data[ar]=255,this.data[ar+1]=255,this.data[ar+2]=255,this.data[ar+3]=255}St!==0&&(this.pos+=4-St)}},te$1.prototype.bit15=function(){for(var St=this.width%3,er=parseInt("11111",2),tr=this.height-1;tr>=0;tr--){for(var rr=this.bottom_up?tr:this.height-1-tr,nr=0;nr<this.width;nr++){var ar=this.datav.getUint16(this.pos,!0);this.pos+=2;var sr=(ar&er)/er*255|0,ir=(ar>>5&er)/er*255|0,or=(ar>>10&er)/er*255|0,lr=ar>>15?255:0,cr=rr*this.width*4+4*nr;this.data[cr]=or,this.data[cr+1]=ir,this.data[cr+2]=sr,this.data[cr+3]=lr}this.pos+=St}},te$1.prototype.bit16=function(){for(var St=this.width%3,er=parseInt("11111",2),tr=parseInt("111111",2),rr=this.height-1;rr>=0;rr--){for(var nr=this.bottom_up?rr:this.height-1-rr,ar=0;ar<this.width;ar++){var sr=this.datav.getUint16(this.pos,!0);this.pos+=2;var ir=(sr&er)/er*255|0,or=(sr>>5&tr)/tr*255|0,lr=(sr>>11)/er*255|0,cr=nr*this.width*4+4*ar;this.data[cr]=lr,this.data[cr+1]=or,this.data[cr+2]=ir,this.data[cr+3]=255}this.pos+=St}},te$1.prototype.bit24=function(){for(var St=this.height-1;St>=0;St--){for(var er=this.bottom_up?St:this.height-1-St,tr=0;tr<this.width;tr++){var rr=this.datav.getUint8(this.pos++,!0),nr=this.datav.getUint8(this.pos++,!0),ar=this.datav.getUint8(this.pos++,!0),sr=er*this.width*4+4*tr;this.data[sr]=ar,this.data[sr+1]=nr,this.data[sr+2]=rr,this.data[sr+3]=255}this.pos+=this.width%4}},te$1.prototype.bit32=function(){for(var St=this.height-1;St>=0;St--)for(var er=this.bottom_up?St:this.height-1-St,tr=0;tr<this.width;tr++){var rr=this.datav.getUint8(this.pos++,!0),nr=this.datav.getUint8(this.pos++,!0),ar=this.datav.getUint8(this.pos++,!0),sr=this.datav.getUint8(this.pos++,!0),ir=er*this.width*4+4*tr;this.data[ir]=ar,this.data[ir+1]=nr,this.data[ir+2]=rr,this.data[ir+3]=sr}},te$1.prototype.getData=function(){return this.data},function(St){St.processBMP=function(er,tr,rr,nr){var ar=new te$1(er,!1),sr=ar.width,ir=ar.height,or={data:ar.getData(),width:sr,height:ir},lr=new Qt(100).encode(or,100);return St.processJPEG.call(this,lr,tr,rr,nr)}}(E$2.API),ee$1.prototype.getData=function(){return this.data},function(St){St.processWEBP=function(er,tr,rr,nr){var ar=new ee$1(er),sr=ar.width,ir=ar.height,or={data:ar.getData(),width:sr,height:ir},lr=new Qt(100).encode(or,100);return St.processJPEG.call(this,lr,tr,rr,nr)}}(E$2.API),E$2.API.processRGBA=function(St,er,tr){for(var rr=St.data,nr=rr.length,ar=new Uint8Array(nr/4*3),sr=new Uint8Array(nr/4),ir=0,or=0,lr=0;lr<nr;lr+=4){var cr=rr[lr],ur=rr[lr+1],dr=rr[lr+2],fr=rr[lr+3];ar[ir++]=cr,ar[ir++]=ur,ar[ir++]=dr,sr[or++]=fr}var mr=this.__addimage__.arrayBufferToBinaryString(ar);return{alpha:this.__addimage__.arrayBufferToBinaryString(sr),data:mr,index:er,alias:tr,colorSpace:"DeviceRGB",bitsPerComponent:8,width:St.width,height:St.height}},E$2.API.setLanguage=function(St){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[St]!==void 0&&(this.internal.languageSettings.languageCode=St,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Vt=E$2.API,Gt=Vt.getCharWidthsArray=function(St,er){var tr,rr,nr=(er=er||{}).font||this.internal.getFont(),ar=er.fontSize||this.internal.getFontSize(),sr=er.charSpace||this.internal.getCharSpace(),ir=er.widths?er.widths:nr.metadata.Unicode.widths,or=ir.fof?ir.fof:1,lr=er.kerning?er.kerning:nr.metadata.Unicode.kerning,cr=lr.fof?lr.fof:1,ur=er.doKerning!==!1,dr=0,fr=St.length,mr=0,xr=ir[0]||or,pr=[];for(tr=0;tr<fr;tr++)rr=St.charCodeAt(tr),typeof nr.metadata.widthOfString=="function"?pr.push((nr.metadata.widthOfGlyph(nr.metadata.characterToGlyph(rr))+sr*(1e3/ar)||0)/1e3):(dr=ur&&_typeof(lr[rr])==="object"&&!isNaN(parseInt(lr[rr][mr],10))?lr[rr][mr]/cr:0,pr.push((ir[rr]||xr)/or+dr)),mr=rr;return pr},Yt=Vt.getStringUnitWidth=function(St,er){var tr=(er=er||{}).fontSize||this.internal.getFontSize(),rr=er.font||this.internal.getFont(),nr=er.charSpace||this.internal.getCharSpace();return Vt.processArabic&&(St=Vt.processArabic(St)),typeof rr.metadata.widthOfString=="function"?rr.metadata.widthOfString(St,tr,nr)/tr:Gt.apply(this,arguments).reduce(function(ar,sr){return ar+sr},0)},Jt=function(St,er,tr,rr){for(var nr=[],ar=0,sr=St.length,ir=0;ar!==sr&&ir+er[ar]<tr;)ir+=er[ar],ar++;nr.push(St.slice(0,ar));var or=ar;for(ir=0;ar!==sr;)ir+er[ar]>rr&&(nr.push(St.slice(or,ar)),ir=0,or=ar),ir+=er[ar],ar++;return or!==ar&&nr.push(St.slice(or,ar)),nr},Xt=function(St,er,tr){tr||(tr={});var rr,nr,ar,sr,ir,or,lr,cr=[],ur=[cr],dr=tr.textIndent||0,fr=0,mr=0,xr=St.split(" "),pr=Gt.apply(this,[" ",tr])[0];if(or=tr.lineIndent===-1?xr[0].length+2:tr.lineIndent||0){var hr=Array(or).join(" "),gr=[];xr.map(function(br){(br=br.split(/\s*\n/)).length>1?gr=gr.concat(br.map(function(yr,Er){return(Er&&yr.length?`
`:"")+yr})):gr.push(br[0])}),xr=gr,or=Yt.apply(this,[hr,tr])}for(ar=0,sr=xr.length;ar<sr;ar++){var vr=0;if(rr=xr[ar],or&&rr[0]==`
`&&(rr=rr.substr(1),vr=1),dr+fr+(mr=(nr=Gt.apply(this,[rr,tr])).reduce(function(br,yr){return br+yr},0))>er||vr){if(mr>er){for(ir=Jt.apply(this,[rr,nr,er-(dr+fr),er]),cr.push(ir.shift()),cr=[ir.pop()];ir.length;)ur.push([ir.shift()]);mr=nr.slice(rr.length-(cr[0]?cr[0].length:0)).reduce(function(br,yr){return br+yr},0)}else cr=[rr];ur.push(cr),dr=mr+or,fr=pr}else cr.push(rr),dr+=fr+mr,fr=pr}return lr=or?function(br,yr){return(yr?hr:"")+br.join(" ")}:function(br){return br.join(" ")},ur.map(lr)},Vt.splitTextToSize=function(St,er,tr){var rr,nr=(tr=tr||{}).fontSize||this.internal.getFontSize(),ar=(function(cr){if(cr.widths&&cr.kerning)return{widths:cr.widths,kerning:cr.kerning};var ur=this.internal.getFont(cr.fontName,cr.fontStyle);return ur.metadata.Unicode?{widths:ur.metadata.Unicode.widths||{0:1},kerning:ur.metadata.Unicode.kerning||{}}:{font:ur.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,tr);rr=Array.isArray(St)?St:String(St).split(/\r?\n/);var sr=1*this.internal.scaleFactor*er/nr;ar.textIndent=tr.textIndent?1*tr.textIndent*this.internal.scaleFactor/nr:0,ar.lineIndent=tr.lineIndent;var ir,or,lr=[];for(ir=0,or=rr.length;ir<or;ir++)lr=lr.concat(Xt.apply(this,[rr[ir],sr,ar]));return lr},function(St){St.__fontmetrics__=St.__fontmetrics__||{};for(var er="klmnopqrstuvwxyz",tr={},rr={},nr=0;nr<er.length;nr++)tr[er[nr]]="0123456789abcdef"[nr],rr["0123456789abcdef"[nr]]=er[nr];var ar=function(ur){return"0x"+parseInt(ur,10).toString(16)},sr=St.__fontmetrics__.compress=function(ur){var dr,fr,mr,xr,pr=["{"];for(var hr in ur){if(dr=ur[hr],isNaN(parseInt(hr,10))?fr="'"+hr+"'":(hr=parseInt(hr,10),fr=(fr=ar(hr).slice(2)).slice(0,-1)+rr[fr.slice(-1)]),typeof dr=="number")dr<0?(mr=ar(dr).slice(3),xr="-"):(mr=ar(dr).slice(2),xr=""),mr=xr+mr.slice(0,-1)+rr[mr.slice(-1)];else{if(_typeof(dr)!=="object")throw new Error("Don't know what to do with value type "+_typeof(dr)+".");mr=sr(dr)}pr.push(fr+mr)}return pr.push("}"),pr.join("")},ir=St.__fontmetrics__.uncompress=function(ur){if(typeof ur!="string")throw new Error("Invalid argument passed to uncompress.");for(var dr,fr,mr,xr,pr={},hr=1,gr=pr,vr=[],br="",yr="",Er=ur.length-1,jr=1;jr<Er;jr+=1)(xr=ur[jr])=="'"?dr?(mr=dr.join(""),dr=void 0):dr=[]:dr?dr.push(xr):xr=="{"?(vr.push([gr,mr]),gr={},mr=void 0):xr=="}"?((fr=vr.pop())[0][fr[1]]=gr,mr=void 0,gr=fr[0]):xr=="-"?hr=-1:mr===void 0?tr.hasOwnProperty(xr)?(br+=tr[xr],mr=parseInt(br,16)*hr,hr=1,br=""):br+=xr:tr.hasOwnProperty(xr)?(yr+=tr[xr],gr[mr]=parseInt(yr,16)*hr,hr=1,mr=void 0,yr=""):yr+=xr;return pr},or={codePages:["WinAnsiEncoding"],WinAnsiEncoding:ir("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},lr={Unicode:{Courier:or,"Courier-Bold":or,"Courier-BoldOblique":or,"Courier-Oblique":or,Helvetica:or,"Helvetica-Bold":or,"Helvetica-BoldOblique":or,"Helvetica-Oblique":or,"Times-Roman":or,"Times-Bold":or,"Times-BoldItalic":or,"Times-Italic":or}},cr={Unicode:{"Courier-Oblique":ir("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":ir("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":ir("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:ir("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":ir("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":ir("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:ir("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:ir("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":ir("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:ir("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":ir("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":ir("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":ir("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":ir("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};St.events.push(["addFont",function(ur){var dr=ur.font,fr=cr.Unicode[dr.postScriptName];fr&&(dr.metadata.Unicode={},dr.metadata.Unicode.widths=fr.widths,dr.metadata.Unicode.kerning=fr.kerning);var mr=lr.Unicode[dr.postScriptName];mr&&(dr.metadata.Unicode.encoding=mr,dr.encoding=mr.codePages[0])}])}(E$2.API),function(St){var er=function(tr){for(var rr=tr.length,nr=new Uint8Array(rr),ar=0;ar<rr;ar++)nr[ar]=tr.charCodeAt(ar);return nr};St.API.events.push(["addFont",function(tr){var rr=void 0,nr=tr.font,ar=tr.instance;if(!nr.isStandardFont){if(ar===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+nr.postScriptName+"').");if(typeof(rr=ar.existsFileInVFS(nr.postScriptName)===!1?ar.loadFile(nr.postScriptName):ar.getFileFromVFS(nr.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+nr.postScriptName+"').");(function(sr,ir){ir=/^\x00\x01\x00\x00/.test(ir)?er(ir):er(u$7(ir)),sr.metadata=St.API.TTFFont.open(ir),sr.metadata.Unicode=sr.metadata.Unicode||{encoding:{},kerning:{},widths:[]},sr.metadata.glyIdsUsed=[0]})(nr,rr)}}])}(E$2),function(St){function er(){return(n$7.canvg?Promise.resolve(n$7.canvg):__vitePreload(()=>import("./index.es-BMH0OD0v.js"),[])).catch(function(tr){return Promise.reject(new Error("Could not load canvg: "+tr))}).then(function(tr){return tr.default?tr.default:tr})}E$2.API.addSvgAsImage=function(tr,rr,nr,ar,sr,ir,or,lr){if(isNaN(rr)||isNaN(nr))throw a$d.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(ar)||isNaN(sr))throw a$d.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var cr=document.createElement("canvas");cr.width=ar,cr.height=sr;var ur=cr.getContext("2d");ur.fillStyle="#fff",ur.fillRect(0,0,cr.width,cr.height);var dr={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},fr=this;return er().then(function(mr){return mr.fromString(ur,tr,dr)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(mr){return mr.render(dr)}).then(function(){fr.addImage(cr.toDataURL("image/jpeg",1),rr,nr,ar,sr,or,lr)})}}(),E$2.API.putTotalPages=function(St){var er,tr=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(er=new RegExp(St,"g"),tr=this.internal.getNumberOfPages()):(er=new RegExp(this.pdfEscape16(St,this.internal.getFont()),"g"),tr=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var rr=1;rr<=this.internal.getNumberOfPages();rr++)for(var nr=0;nr<this.internal.pages[rr].length;nr++)this.internal.pages[rr][nr]=this.internal.pages[rr][nr].replace(er,tr);return this},E$2.API.viewerPreferences=function(St,er){var tr;St=St||{},er=er||!1;var rr,nr,ar,sr={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},ir=Object.keys(sr),or=[],lr=0,cr=0,ur=0;function dr(mr,xr){var pr,hr=!1;for(pr=0;pr<mr.length;pr+=1)mr[pr]===xr&&(hr=!0);return hr}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(sr)),this.internal.viewerpreferences.isSubscribed=!1),tr=this.internal.viewerpreferences.configuration,St==="reset"||er===!0){var fr=ir.length;for(ur=0;ur<fr;ur+=1)tr[ir[ur]].value=tr[ir[ur]].defaultValue,tr[ir[ur]].explicitSet=!1}if(_typeof(St)==="object"){for(nr in St)if(ar=St[nr],dr(ir,nr)&&ar!==void 0){if(tr[nr].type==="boolean"&&typeof ar=="boolean")tr[nr].value=ar;else if(tr[nr].type==="name"&&dr(tr[nr].valueSet,ar))tr[nr].value=ar;else if(tr[nr].type==="integer"&&Number.isInteger(ar))tr[nr].value=ar;else if(tr[nr].type==="array"){for(lr=0;lr<ar.length;lr+=1)if(rr=!0,ar[lr].length===1&&typeof ar[lr][0]=="number")or.push(String(ar[lr]-1));else if(ar[lr].length>1){for(cr=0;cr<ar[lr].length;cr+=1)typeof ar[lr][cr]!="number"&&(rr=!1);rr===!0&&or.push([ar[lr][0]-1,ar[lr][1]-1].join(" "))}tr[nr].value="["+or.join(" ")+"]"}else tr[nr].value=tr[nr].defaultValue;tr[nr].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var mr,xr=[];for(mr in tr)tr[mr].explicitSet===!0&&(tr[mr].type==="name"?xr.push("/"+mr+" /"+tr[mr].value):xr.push("/"+mr+" "+tr[mr].value));xr.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+xr.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=tr,this},function(St){var er=function(){var rr='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',nr=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),ar=unescape(encodeURIComponent(rr)),sr=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),ir=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),or=unescape(encodeURIComponent("</x:xmpmeta>")),lr=ar.length+sr.length+ir.length+nr.length+or.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+lr+" >>"),this.internal.write("stream"),this.internal.write(nr+ar+sr+ir+or),this.internal.write("endstream"),this.internal.write("endobj")},tr=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};St.addMetadata=function(rr,nr){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:rr,namespaceuri:nr||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",tr),this.internal.events.subscribe("postPutResources",er)),this}}(E$2.API),function(St){var er=St.API,tr=er.pdfEscape16=function(ar,sr){for(var ir,or=sr.metadata.Unicode.widths,lr=["","0","00","000","0000"],cr=[""],ur=0,dr=ar.length;ur<dr;++ur){if(ir=sr.metadata.characterToGlyph(ar.charCodeAt(ur)),sr.metadata.glyIdsUsed.push(ir),sr.metadata.toUnicode[ir]=ar.charCodeAt(ur),or.indexOf(ir)==-1&&(or.push(ir),or.push([parseInt(sr.metadata.widthOfGlyph(ir),10)])),ir=="0")return cr.join("");ir=ir.toString(16),cr.push(lr[4-ir.length],ir)}return cr.join("")},rr=function(ar){var sr,ir,or,lr,cr,ur,dr;for(cr=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,or=[],ur=0,dr=(ir=Object.keys(ar).sort(function(fr,mr){return fr-mr})).length;ur<dr;ur++)sr=ir[ur],or.length>=100&&(cr+=`
`+or.length+` beginbfchar
`+or.join(`
`)+`
endbfchar`,or=[]),ar[sr]!==void 0&&ar[sr]!==null&&typeof ar[sr].toString=="function"&&(lr=("0000"+ar[sr].toString(16)).slice(-4),sr=("0000"+(+sr).toString(16)).slice(-4),or.push("<"+sr+"><"+lr+">"));return or.length&&(cr+=`
`+or.length+` beginbfchar
`+or.join(`
`)+`
endbfchar
`),cr+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};er.events.push(["putFont",function(ar){(function(sr){var ir=sr.font,or=sr.out,lr=sr.newObject,cr=sr.putStream;if(ir.metadata instanceof St.API.TTFFont&&ir.encoding==="Identity-H"){for(var ur=ir.metadata.Unicode.widths,dr=ir.metadata.subset.encode(ir.metadata.glyIdsUsed,1),fr="",mr=0;mr<dr.length;mr++)fr+=String.fromCharCode(dr[mr]);var xr=lr();cr({data:fr,addLength1:!0,objectId:xr}),or("endobj");var pr=lr();cr({data:rr(ir.metadata.toUnicode),addLength1:!0,objectId:pr}),or("endobj");var hr=lr();or("<<"),or("/Type /FontDescriptor"),or("/FontName /"+F$2(ir.fontName)),or("/FontFile2 "+xr+" 0 R"),or("/FontBBox "+St.API.PDFObject.convert(ir.metadata.bbox)),or("/Flags "+ir.metadata.flags),or("/StemV "+ir.metadata.stemV),or("/ItalicAngle "+ir.metadata.italicAngle),or("/Ascent "+ir.metadata.ascender),or("/Descent "+ir.metadata.decender),or("/CapHeight "+ir.metadata.capHeight),or(">>"),or("endobj");var gr=lr();or("<<"),or("/Type /Font"),or("/BaseFont /"+F$2(ir.fontName)),or("/FontDescriptor "+hr+" 0 R"),or("/W "+St.API.PDFObject.convert(ur)),or("/CIDToGIDMap /Identity"),or("/DW 1000"),or("/Subtype /CIDFontType2"),or("/CIDSystemInfo"),or("<<"),or("/Supplement 0"),or("/Registry (Adobe)"),or("/Ordering ("+ir.encoding+")"),or(">>"),or(">>"),or("endobj"),ir.objectNumber=lr(),or("<<"),or("/Type /Font"),or("/Subtype /Type0"),or("/ToUnicode "+pr+" 0 R"),or("/BaseFont /"+F$2(ir.fontName)),or("/Encoding /"+ir.encoding),or("/DescendantFonts ["+gr+" 0 R]"),or(">>"),or("endobj"),ir.isAlreadyPutted=!0}})(ar)}]),er.events.push(["putFont",function(ar){(function(sr){var ir=sr.font,or=sr.out,lr=sr.newObject,cr=sr.putStream;if(ir.metadata instanceof St.API.TTFFont&&ir.encoding==="WinAnsiEncoding"){for(var ur=ir.metadata.rawData,dr="",fr=0;fr<ur.length;fr++)dr+=String.fromCharCode(ur[fr]);var mr=lr();cr({data:dr,addLength1:!0,objectId:mr}),or("endobj");var xr=lr();cr({data:rr(ir.metadata.toUnicode),addLength1:!0,objectId:xr}),or("endobj");var pr=lr();or("<<"),or("/Descent "+ir.metadata.decender),or("/CapHeight "+ir.metadata.capHeight),or("/StemV "+ir.metadata.stemV),or("/Type /FontDescriptor"),or("/FontFile2 "+mr+" 0 R"),or("/Flags 96"),or("/FontBBox "+St.API.PDFObject.convert(ir.metadata.bbox)),or("/FontName /"+F$2(ir.fontName)),or("/ItalicAngle "+ir.metadata.italicAngle),or("/Ascent "+ir.metadata.ascender),or(">>"),or("endobj"),ir.objectNumber=lr();for(var hr=0;hr<ir.metadata.hmtx.widths.length;hr++)ir.metadata.hmtx.widths[hr]=parseInt(ir.metadata.hmtx.widths[hr]*(1e3/ir.metadata.head.unitsPerEm));or("<</Subtype/TrueType/Type/Font/ToUnicode "+xr+" 0 R/BaseFont/"+F$2(ir.fontName)+"/FontDescriptor "+pr+" 0 R/Encoding/"+ir.encoding+" /FirstChar 29 /LastChar 255 /Widths "+St.API.PDFObject.convert(ir.metadata.hmtx.widths)+">>"),or("endobj"),ir.isAlreadyPutted=!0}})(ar)}]);var nr=function(ar){var sr,ir=ar.text||"",or=ar.x,lr=ar.y,cr=ar.options||{},ur=ar.mutex||{},dr=ur.pdfEscape,fr=ur.activeFontKey,mr=ur.fonts,xr=fr,pr="",hr=0,gr="",vr=mr[xr].encoding;if(mr[xr].encoding!=="Identity-H")return{text:ir,x:or,y:lr,options:cr,mutex:ur};for(gr=ir,xr=fr,Array.isArray(ir)&&(gr=ir[0]),hr=0;hr<gr.length;hr+=1)mr[xr].metadata.hasOwnProperty("cmap")&&(sr=mr[xr].metadata.cmap.unicode.codeMap[gr[hr].charCodeAt(0)]),sr||gr[hr].charCodeAt(0)<256&&mr[xr].metadata.hasOwnProperty("Unicode")?pr+=gr[hr]:pr+="";var br="";return parseInt(xr.slice(1))<14||vr==="WinAnsiEncoding"?br=dr(pr,xr).split("").map(function(yr){return yr.charCodeAt(0).toString(16)}).join(""):vr==="Identity-H"&&(br=tr(pr,mr[xr])),ur.isHex=!0,{text:br,x:or,y:lr,options:cr,mutex:ur}};er.events.push(["postProcessText",function(ar){var sr=ar.text||"",ir=[],or={text:sr,x:ar.x,y:ar.y,options:ar.options,mutex:ar.mutex};if(Array.isArray(sr)){var lr=0;for(lr=0;lr<sr.length;lr+=1)Array.isArray(sr[lr])&&sr[lr].length===3?ir.push([nr(Object.assign({},or,{text:sr[lr][0]})).text,sr[lr][1],sr[lr][2]]):ir.push(nr(Object.assign({},or,{text:sr[lr]})).text);ar.text=ir}else ar.text=nr(Object.assign({},or,{text:sr})).text}])}(E$2),function(St){var er=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};St.existsFileInVFS=function(tr){return er.call(this),this.internal.vFS[tr]!==void 0},St.addFileToVFS=function(tr,rr){return er.call(this),this.internal.vFS[tr]=rr,this},St.getFileFromVFS=function(tr){return er.call(this),this.internal.vFS[tr]!==void 0?this.internal.vFS[tr]:null}}(E$2.API),function(St){St.__bidiEngine__=St.prototype.__bidiEngine__=function(rr){var nr,ar,sr,ir,or,lr,cr,ur=er,dr=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],fr=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],mr={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},xr={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},pr=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],hr=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),gr=!1,vr=0;this.__bidiEngine__={};var br=function(Pr){var Lr=Pr.charCodeAt(),Gr=Lr>>8,Kr=xr[Gr];return Kr!==void 0?ur[256*Kr+(255&Lr)]:Gr===252||Gr===253?"AL":hr.test(Gr)?"L":Gr===8?"R":"N"},yr=function(Pr){for(var Lr,Gr=0;Gr<Pr.length;Gr++){if((Lr=br(Pr.charAt(Gr)))==="L")return!1;if(Lr==="R")return!0}return!1},Er=function(Pr,Lr,Gr,Kr){var nn,Qr,zr,Vr,Jr=Lr[Kr];switch(Jr){case"L":case"R":gr=!1;break;case"N":case"AN":break;case"EN":gr&&(Jr="AN");break;case"AL":gr=!0,Jr="R";break;case"WS":Jr="N";break;case"CS":Kr<1||Kr+1>=Lr.length||(nn=Gr[Kr-1])!=="EN"&&nn!=="AN"||(Qr=Lr[Kr+1])!=="EN"&&Qr!=="AN"?Jr="N":gr&&(Qr="AN"),Jr=Qr===nn?Qr:"N";break;case"ES":Jr=(nn=Kr>0?Gr[Kr-1]:"B")==="EN"&&Kr+1<Lr.length&&Lr[Kr+1]==="EN"?"EN":"N";break;case"ET":if(Kr>0&&Gr[Kr-1]==="EN"){Jr="EN";break}if(gr){Jr="N";break}for(zr=Kr+1,Vr=Lr.length;zr<Vr&&Lr[zr]==="ET";)zr++;Jr=zr<Vr&&Lr[zr]==="EN"?"EN":"N";break;case"NSM":if(sr&&!ir){for(Vr=Lr.length,zr=Kr+1;zr<Vr&&Lr[zr]==="NSM";)zr++;if(zr<Vr){var tn=Pr[Kr],Yr=tn>=1425&&tn<=2303||tn===64286;if(nn=Lr[zr],Yr&&(nn==="R"||nn==="AL")){Jr="R";break}}}Jr=Kr<1||(nn=Lr[Kr-1])==="B"?"N":Gr[Kr-1];break;case"B":gr=!1,nr=!0,Jr=vr;break;case"S":ar=!0,Jr="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":gr=!1;break;case"BN":Jr="N"}return Jr},jr=function(Pr,Lr,Gr){var Kr=Pr.split("");return Gr&&_r(Kr,Gr,{hiLevel:vr}),Kr.reverse(),Lr&&Lr.reverse(),Kr.join("")},_r=function(Pr,Lr,Gr){var Kr,nn,Qr,zr,Vr,Jr=-1,tn=Pr.length,Yr=0,Sr=[],Rr=vr?fr:dr,Tr=[];for(gr=!1,nr=!1,ar=!1,nn=0;nn<tn;nn++)Tr[nn]=br(Pr[nn]);for(Qr=0;Qr<tn;Qr++){if(Vr=Yr,Sr[Qr]=Er(Pr,Tr,Sr,Qr),Kr=240&(Yr=Rr[Vr][mr[Sr[Qr]]]),Yr&=15,Lr[Qr]=zr=Rr[Yr][5],Kr>0)if(Kr===16){for(nn=Jr;nn<Qr;nn++)Lr[nn]=1;Jr=-1}else Jr=-1;if(Rr[Yr][6])Jr===-1&&(Jr=Qr);else if(Jr>-1){for(nn=Jr;nn<Qr;nn++)Lr[nn]=zr;Jr=-1}Tr[Qr]==="B"&&(Lr[Qr]=0),Gr.hiLevel|=zr}ar&&function(Dr,Mr,Br){for(var qr=0;qr<Br;qr++)if(Dr[qr]==="S"){Mr[qr]=vr;for(var Wr=qr-1;Wr>=0&&Dr[Wr]==="WS";Wr--)Mr[Wr]=vr}}(Tr,Lr,tn)},Cr=function(Pr,Lr,Gr,Kr,nn){if(!(nn.hiLevel<Pr)){if(Pr===1&&vr===1&&!nr)return Lr.reverse(),void(Gr&&Gr.reverse());for(var Qr,zr,Vr,Jr,tn=Lr.length,Yr=0;Yr<tn;){if(Kr[Yr]>=Pr){for(Vr=Yr+1;Vr<tn&&Kr[Vr]>=Pr;)Vr++;for(Jr=Yr,zr=Vr-1;Jr<zr;Jr++,zr--)Qr=Lr[Jr],Lr[Jr]=Lr[zr],Lr[zr]=Qr,Gr&&(Qr=Gr[Jr],Gr[Jr]=Gr[zr],Gr[zr]=Qr);Yr=Vr}Yr++}}},Or=function(Pr,Lr,Gr){var Kr=Pr.split(""),nn={hiLevel:vr};return Gr||(Gr=[]),_r(Kr,Gr,nn),function(Qr,zr,Vr){if(Vr.hiLevel!==0&&cr)for(var Jr,tn=0;tn<Qr.length;tn++)zr[tn]===1&&(Jr=pr.indexOf(Qr[tn]))>=0&&(Qr[tn]=pr[Jr+1])}(Kr,Gr,nn),Cr(2,Kr,Lr,Gr,nn),Cr(1,Kr,Lr,Gr,nn),Kr.join("")};return this.__bidiEngine__.doBidiReorder=function(Pr,Lr,Gr){if(function(nn,Qr){if(Qr)for(var zr=0;zr<nn.length;zr++)Qr[zr]=zr;ir===void 0&&(ir=yr(nn)),lr===void 0&&(lr=yr(nn))}(Pr,Lr),sr||!or||lr)if(sr&&or&&ir^lr)vr=ir?1:0,Pr=jr(Pr,Lr,Gr);else if(!sr&&or&&lr)vr=ir?1:0,Pr=Or(Pr,Lr,Gr),Pr=jr(Pr,Lr);else if(!sr||ir||or||lr){if(sr&&!or&&ir^lr)Pr=jr(Pr,Lr),ir?(vr=0,Pr=Or(Pr,Lr,Gr)):(vr=1,Pr=Or(Pr,Lr,Gr),Pr=jr(Pr,Lr));else if(sr&&ir&&!or&&lr)vr=1,Pr=Or(Pr,Lr,Gr),Pr=jr(Pr,Lr);else if(!sr&&!or&&ir^lr){var Kr=cr;ir?(vr=1,Pr=Or(Pr,Lr,Gr),vr=0,cr=!1,Pr=Or(Pr,Lr,Gr),cr=Kr):(vr=0,Pr=Or(Pr,Lr,Gr),Pr=jr(Pr,Lr),vr=1,cr=!1,Pr=Or(Pr,Lr,Gr),cr=Kr,Pr=jr(Pr,Lr))}}else vr=0,Pr=Or(Pr,Lr,Gr);else vr=ir?1:0,Pr=Or(Pr,Lr,Gr);return Pr},this.__bidiEngine__.setOptions=function(Pr){Pr&&(sr=Pr.isInputVisual,or=Pr.isOutputVisual,ir=Pr.isInputRtl,lr=Pr.isOutputRtl,cr=Pr.isSymmetricSwapping)},this.__bidiEngine__.setOptions(rr),this.__bidiEngine__};var er=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],tr=new St.__bidiEngine__({isInputVisual:!0});St.API.events.push(["postProcessText",function(rr){var nr=rr.text;rr.x,rr.y;var ar=rr.options||{};rr.mutex,ar.lang;var sr=[];if(ar.isInputVisual=typeof ar.isInputVisual!="boolean"||ar.isInputVisual,tr.setOptions(ar),Object.prototype.toString.call(nr)==="[object Array]"){var ir=0;for(sr=[],ir=0;ir<nr.length;ir+=1)Object.prototype.toString.call(nr[ir])==="[object Array]"?sr.push([tr.doBidiReorder(nr[ir][0]),nr[ir][1],nr[ir][2]]):sr.push([tr.doBidiReorder(nr[ir])]);rr.text=sr}else rr.text=tr.doBidiReorder(nr);tr.setOptions({isInputVisual:!0})}])}(E$2),E$2.API.TTFFont=function(){function St(er){var tr;if(this.rawData=er,tr=this.contents=new ne$2(er),this.contents.pos=4,tr.readString(4)==="ttcf")throw new Error("TTCF not supported.");tr.pos=0,this.parse(),this.subset=new Le$1(this),this.registerTTF()}return St.open=function(er){return new St(er)},St.prototype.parse=function(){return this.directory=new ie(this.contents),this.head=new se(this),this.name=new pe(this),this.cmap=new ue$1(this),this.toUnicode={},this.hhea=new he(this),this.maxp=new ge(this),this.hmtx=new me$1(this),this.post=new fe$1(this),this.os2=new le(this),this.loca=new Ne$1(this),this.glyf=new be(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},St.prototype.registerTTF=function(){var er,tr,rr,nr,ar;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var sr,ir,or,lr;for(lr=[],sr=0,ir=(or=this.bbox).length;sr<ir;sr++)er=or[sr],lr.push(Math.round(er*this.scaleFactor));return lr}).call(this),this.stemV=0,this.post.exists?(rr=255&(nr=this.post.italic_angle),32768&(tr=nr>>16)&&(tr=-(1+(65535^tr))),this.italicAngle=+(tr+"."+rr)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(ar=this.familyClass)===1||ar===2||ar===3||ar===4||ar===5||ar===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},St.prototype.characterToGlyph=function(er){var tr;return((tr=this.cmap.unicode)!=null?tr.codeMap[er]:void 0)||0},St.prototype.widthOfGlyph=function(er){var tr;return tr=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(er).advance*tr},St.prototype.widthOfString=function(er,tr,rr){var nr,ar,sr,ir;for(sr=0,ar=0,ir=(er=""+er).length;0<=ir?ar<ir:ar>ir;ar=0<=ir?++ar:--ar)nr=er.charCodeAt(ar),sr+=this.widthOfGlyph(this.characterToGlyph(nr))+rr*(1e3/tr)||0;return sr*(tr/1e3)},St.prototype.lineHeight=function(er,tr){var rr;return tr==null&&(tr=!1),rr=tr?this.lineGap:0,(this.ascender+rr-this.decender)/1e3*er},St}();var re$1,ne$2=function(){function St(er){this.data=er??[],this.pos=0,this.length=this.data.length}return St.prototype.readByte=function(){return this.data[this.pos++]},St.prototype.writeByte=function(er){return this.data[this.pos++]=er},St.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},St.prototype.writeUInt32=function(er){return this.writeByte(er>>>24&255),this.writeByte(er>>16&255),this.writeByte(er>>8&255),this.writeByte(255&er)},St.prototype.readInt32=function(){var er;return(er=this.readUInt32())>=2147483648?er-4294967296:er},St.prototype.writeInt32=function(er){return er<0&&(er+=4294967296),this.writeUInt32(er)},St.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},St.prototype.writeUInt16=function(er){return this.writeByte(er>>8&255),this.writeByte(255&er)},St.prototype.readInt16=function(){var er;return(er=this.readUInt16())>=32768?er-65536:er},St.prototype.writeInt16=function(er){return er<0&&(er+=65536),this.writeUInt16(er)},St.prototype.readString=function(er){var tr,rr;for(rr=[],tr=0;0<=er?tr<er:tr>er;tr=0<=er?++tr:--tr)rr[tr]=String.fromCharCode(this.readByte());return rr.join("")},St.prototype.writeString=function(er){var tr,rr,nr;for(nr=[],tr=0,rr=er.length;0<=rr?tr<rr:tr>rr;tr=0<=rr?++tr:--tr)nr.push(this.writeByte(er.charCodeAt(tr)));return nr},St.prototype.readShort=function(){return this.readInt16()},St.prototype.writeShort=function(er){return this.writeInt16(er)},St.prototype.readLongLong=function(){var er,tr,rr,nr,ar,sr,ir,or;return er=this.readByte(),tr=this.readByte(),rr=this.readByte(),nr=this.readByte(),ar=this.readByte(),sr=this.readByte(),ir=this.readByte(),or=this.readByte(),128&er?-1*(72057594037927940*(255^er)+281474976710656*(255^tr)+1099511627776*(255^rr)+4294967296*(255^nr)+16777216*(255^ar)+65536*(255^sr)+256*(255^ir)+(255^or)+1):72057594037927940*er+281474976710656*tr+1099511627776*rr+4294967296*nr+16777216*ar+65536*sr+256*ir+or},St.prototype.writeLongLong=function(er){var tr,rr;return tr=Math.floor(er/4294967296),rr=4294967295&er,this.writeByte(tr>>24&255),this.writeByte(tr>>16&255),this.writeByte(tr>>8&255),this.writeByte(255&tr),this.writeByte(rr>>24&255),this.writeByte(rr>>16&255),this.writeByte(rr>>8&255),this.writeByte(255&rr)},St.prototype.readInt=function(){return this.readInt32()},St.prototype.writeInt=function(er){return this.writeInt32(er)},St.prototype.read=function(er){var tr,rr;for(tr=[],rr=0;0<=er?rr<er:rr>er;rr=0<=er?++rr:--rr)tr.push(this.readByte());return tr},St.prototype.write=function(er){var tr,rr,nr,ar;for(ar=[],rr=0,nr=er.length;rr<nr;rr++)tr=er[rr],ar.push(this.writeByte(tr));return ar},St}(),ie=function(){var St;function er(tr){var rr,nr,ar;for(this.scalarType=tr.readInt(),this.tableCount=tr.readShort(),this.searchRange=tr.readShort(),this.entrySelector=tr.readShort(),this.rangeShift=tr.readShort(),this.tables={},nr=0,ar=this.tableCount;0<=ar?nr<ar:nr>ar;nr=0<=ar?++nr:--nr)rr={tag:tr.readString(4),checksum:tr.readInt(),offset:tr.readInt(),length:tr.readInt()},this.tables[rr.tag]=rr}return er.prototype.encode=function(tr){var rr,nr,ar,sr,ir,or,lr,cr,ur,dr,fr,mr,xr;for(xr in fr=Object.keys(tr).length,or=Math.log(2),ur=16*Math.floor(Math.log(fr)/or),sr=Math.floor(ur/or),cr=16*fr-ur,(nr=new ne$2).writeInt(this.scalarType),nr.writeShort(fr),nr.writeShort(ur),nr.writeShort(sr),nr.writeShort(cr),ar=16*fr,lr=nr.pos+ar,ir=null,mr=[],tr)for(dr=tr[xr],nr.writeString(xr),nr.writeInt(St(dr)),nr.writeInt(lr),nr.writeInt(dr.length),mr=mr.concat(dr),xr==="head"&&(ir=lr),lr+=dr.length;lr%4;)mr.push(0),lr++;return nr.write(mr),rr=2981146554-St(nr.data),nr.pos=ir+8,nr.writeUInt32(rr),nr.data},St=function(tr){var rr,nr,ar,sr;for(tr=ve.call(tr);tr.length%4;)tr.push(0);for(ar=new ne$2(tr),nr=0,rr=0,sr=tr.length;rr<sr;rr=rr+=4)nr+=ar.readUInt32();return 4294967295&nr},er}(),ae={}.hasOwnProperty,oe$1=function(St,er){for(var tr in er)ae.call(er,tr)&&(St[tr]=er[tr]);function rr(){this.constructor=St}return rr.prototype=er.prototype,St.prototype=new rr,St.__super__=er.prototype,St};re$1=function(){function St(er){var tr;this.file=er,tr=this.file.directory.tables[this.tag],this.exists=!!tr,tr&&(this.offset=tr.offset,this.length=tr.length,this.parse(this.file.contents))}return St.prototype.parse=function(){},St.prototype.encode=function(){},St.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},St}();var se=function(St){function er(){return er.__super__.constructor.apply(this,arguments)}return oe$1(er,re$1),er.prototype.tag="head",er.prototype.parse=function(tr){return tr.pos=this.offset,this.version=tr.readInt(),this.revision=tr.readInt(),this.checkSumAdjustment=tr.readInt(),this.magicNumber=tr.readInt(),this.flags=tr.readShort(),this.unitsPerEm=tr.readShort(),this.created=tr.readLongLong(),this.modified=tr.readLongLong(),this.xMin=tr.readShort(),this.yMin=tr.readShort(),this.xMax=tr.readShort(),this.yMax=tr.readShort(),this.macStyle=tr.readShort(),this.lowestRecPPEM=tr.readShort(),this.fontDirectionHint=tr.readShort(),this.indexToLocFormat=tr.readShort(),this.glyphDataFormat=tr.readShort()},er.prototype.encode=function(tr){var rr;return(rr=new ne$2).writeInt(this.version),rr.writeInt(this.revision),rr.writeInt(this.checkSumAdjustment),rr.writeInt(this.magicNumber),rr.writeShort(this.flags),rr.writeShort(this.unitsPerEm),rr.writeLongLong(this.created),rr.writeLongLong(this.modified),rr.writeShort(this.xMin),rr.writeShort(this.yMin),rr.writeShort(this.xMax),rr.writeShort(this.yMax),rr.writeShort(this.macStyle),rr.writeShort(this.lowestRecPPEM),rr.writeShort(this.fontDirectionHint),rr.writeShort(tr),rr.writeShort(this.glyphDataFormat),rr.data},er}(),ce=function(){function St(er,tr){var rr,nr,ar,sr,ir,or,lr,cr,ur,dr,fr,mr,xr,pr,hr,gr,vr;switch(this.platformID=er.readUInt16(),this.encodingID=er.readShort(),this.offset=tr+er.readInt(),ur=er.pos,er.pos=this.offset,this.format=er.readUInt16(),this.length=er.readUInt16(),this.language=er.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(or=0;or<256;++or)this.codeMap[or]=er.readByte();break;case 4:for(fr=er.readUInt16(),dr=fr/2,er.pos+=6,ar=function(){var br,yr;for(yr=[],or=br=0;0<=dr?br<dr:br>dr;or=0<=dr?++br:--br)yr.push(er.readUInt16());return yr}(),er.pos+=2,xr=function(){var br,yr;for(yr=[],or=br=0;0<=dr?br<dr:br>dr;or=0<=dr?++br:--br)yr.push(er.readUInt16());return yr}(),lr=function(){var br,yr;for(yr=[],or=br=0;0<=dr?br<dr:br>dr;or=0<=dr?++br:--br)yr.push(er.readUInt16());return yr}(),cr=function(){var br,yr;for(yr=[],or=br=0;0<=dr?br<dr:br>dr;or=0<=dr?++br:--br)yr.push(er.readUInt16());return yr}(),nr=(this.length-er.pos+this.offset)/2,ir=function(){var br,yr;for(yr=[],or=br=0;0<=nr?br<nr:br>nr;or=0<=nr?++br:--br)yr.push(er.readUInt16());return yr}(),or=hr=0,vr=ar.length;hr<vr;or=++hr)for(pr=ar[or],rr=gr=mr=xr[or];mr<=pr?gr<=pr:gr>=pr;rr=mr<=pr?++gr:--gr)cr[or]===0?sr=rr+lr[or]:(sr=ir[cr[or]/2+(rr-mr)-(dr-or)]||0)!==0&&(sr+=lr[or]),this.codeMap[rr]=65535&sr}er.pos=ur}return St.encode=function(er,tr){var rr,nr,ar,sr,ir,or,lr,cr,ur,dr,fr,mr,xr,pr,hr,gr,vr,br,yr,Er,jr,_r,Cr,Or,Pr,Lr,Gr,Kr,nn,Qr,zr,Vr,Jr,tn,Yr,Sr,Rr,Tr,Dr,Mr,Br,qr,Wr,sn,un,Nr;switch(Kr=new ne$2,sr=Object.keys(er).sort(function(Ur,en){return Ur-en}),tr){case"macroman":for(xr=0,pr=function(){var Ur=[];for(mr=0;mr<256;++mr)Ur.push(0);return Ur}(),gr={0:0},ar={},nn=0,Jr=sr.length;nn<Jr;nn++)gr[Wr=er[nr=sr[nn]]]==null&&(gr[Wr]=++xr),ar[nr]={old:er[nr],new:gr[er[nr]]},pr[nr]=gr[er[nr]];return Kr.writeUInt16(1),Kr.writeUInt16(0),Kr.writeUInt32(12),Kr.writeUInt16(0),Kr.writeUInt16(262),Kr.writeUInt16(0),Kr.write(pr),{charMap:ar,subtable:Kr.data,maxGlyphID:xr+1};case"unicode":for(Lr=[],ur=[],vr=0,gr={},rr={},hr=lr=null,Qr=0,tn=sr.length;Qr<tn;Qr++)gr[yr=er[nr=sr[Qr]]]==null&&(gr[yr]=++vr),rr[nr]={old:yr,new:gr[yr]},ir=gr[yr]-nr,hr!=null&&ir===lr||(hr&&ur.push(hr),Lr.push(nr),lr=ir),hr=nr;for(hr&&ur.push(hr),ur.push(65535),Lr.push(65535),Or=2*(Cr=Lr.length),_r=2*Math.pow(Math.log(Cr)/Math.LN2,2),dr=Math.log(_r/2)/Math.LN2,jr=2*Cr-_r,or=[],Er=[],fr=[],mr=zr=0,Yr=Lr.length;zr<Yr;mr=++zr){if(Pr=Lr[mr],cr=ur[mr],Pr===65535){or.push(0),Er.push(0);break}if(Pr-(Gr=rr[Pr].new)>=32768)for(or.push(0),Er.push(2*(fr.length+Cr-mr)),nr=Vr=Pr;Pr<=cr?Vr<=cr:Vr>=cr;nr=Pr<=cr?++Vr:--Vr)fr.push(rr[nr].new);else or.push(Gr-Pr),Er.push(0)}for(Kr.writeUInt16(3),Kr.writeUInt16(1),Kr.writeUInt32(12),Kr.writeUInt16(4),Kr.writeUInt16(16+8*Cr+2*fr.length),Kr.writeUInt16(0),Kr.writeUInt16(Or),Kr.writeUInt16(_r),Kr.writeUInt16(dr),Kr.writeUInt16(jr),Br=0,Sr=ur.length;Br<Sr;Br++)nr=ur[Br],Kr.writeUInt16(nr);for(Kr.writeUInt16(0),qr=0,Rr=Lr.length;qr<Rr;qr++)nr=Lr[qr],Kr.writeUInt16(nr);for(sn=0,Tr=or.length;sn<Tr;sn++)ir=or[sn],Kr.writeUInt16(ir);for(un=0,Dr=Er.length;un<Dr;un++)br=Er[un],Kr.writeUInt16(br);for(Nr=0,Mr=fr.length;Nr<Mr;Nr++)xr=fr[Nr],Kr.writeUInt16(xr);return{charMap:rr,subtable:Kr.data,maxGlyphID:vr+1}}},St}(),ue$1=function(St){function er(){return er.__super__.constructor.apply(this,arguments)}return oe$1(er,re$1),er.prototype.tag="cmap",er.prototype.parse=function(tr){var rr,nr,ar;for(tr.pos=this.offset,this.version=tr.readUInt16(),ar=tr.readUInt16(),this.tables=[],this.unicode=null,nr=0;0<=ar?nr<ar:nr>ar;nr=0<=ar?++nr:--nr)rr=new ce(tr,this.offset),this.tables.push(rr),rr.isUnicode&&this.unicode==null&&(this.unicode=rr);return!0},er.encode=function(tr,rr){var nr,ar;return rr==null&&(rr="macroman"),nr=ce.encode(tr,rr),(ar=new ne$2).writeUInt16(0),ar.writeUInt16(1),nr.table=ar.data.concat(nr.subtable),nr},er}(),he=function(St){function er(){return er.__super__.constructor.apply(this,arguments)}return oe$1(er,re$1),er.prototype.tag="hhea",er.prototype.parse=function(tr){return tr.pos=this.offset,this.version=tr.readInt(),this.ascender=tr.readShort(),this.decender=tr.readShort(),this.lineGap=tr.readShort(),this.advanceWidthMax=tr.readShort(),this.minLeftSideBearing=tr.readShort(),this.minRightSideBearing=tr.readShort(),this.xMaxExtent=tr.readShort(),this.caretSlopeRise=tr.readShort(),this.caretSlopeRun=tr.readShort(),this.caretOffset=tr.readShort(),tr.pos+=8,this.metricDataFormat=tr.readShort(),this.numberOfMetrics=tr.readUInt16()},er}(),le=function(St){function er(){return er.__super__.constructor.apply(this,arguments)}return oe$1(er,re$1),er.prototype.tag="OS/2",er.prototype.parse=function(tr){if(tr.pos=this.offset,this.version=tr.readUInt16(),this.averageCharWidth=tr.readShort(),this.weightClass=tr.readUInt16(),this.widthClass=tr.readUInt16(),this.type=tr.readShort(),this.ySubscriptXSize=tr.readShort(),this.ySubscriptYSize=tr.readShort(),this.ySubscriptXOffset=tr.readShort(),this.ySubscriptYOffset=tr.readShort(),this.ySuperscriptXSize=tr.readShort(),this.ySuperscriptYSize=tr.readShort(),this.ySuperscriptXOffset=tr.readShort(),this.ySuperscriptYOffset=tr.readShort(),this.yStrikeoutSize=tr.readShort(),this.yStrikeoutPosition=tr.readShort(),this.familyClass=tr.readShort(),this.panose=function(){var rr,nr;for(nr=[],rr=0;rr<10;++rr)nr.push(tr.readByte());return nr}(),this.charRange=function(){var rr,nr;for(nr=[],rr=0;rr<4;++rr)nr.push(tr.readInt());return nr}(),this.vendorID=tr.readString(4),this.selection=tr.readShort(),this.firstCharIndex=tr.readShort(),this.lastCharIndex=tr.readShort(),this.version>0&&(this.ascent=tr.readShort(),this.descent=tr.readShort(),this.lineGap=tr.readShort(),this.winAscent=tr.readShort(),this.winDescent=tr.readShort(),this.codePageRange=function(){var rr,nr;for(nr=[],rr=0;rr<2;rr=++rr)nr.push(tr.readInt());return nr}(),this.version>1))return this.xHeight=tr.readShort(),this.capHeight=tr.readShort(),this.defaultChar=tr.readShort(),this.breakChar=tr.readShort(),this.maxContext=tr.readShort()},er}(),fe$1=function(St){function er(){return er.__super__.constructor.apply(this,arguments)}return oe$1(er,re$1),er.prototype.tag="post",er.prototype.parse=function(tr){var rr,nr,ar;switch(tr.pos=this.offset,this.format=tr.readInt(),this.italicAngle=tr.readInt(),this.underlinePosition=tr.readShort(),this.underlineThickness=tr.readShort(),this.isFixedPitch=tr.readInt(),this.minMemType42=tr.readInt(),this.maxMemType42=tr.readInt(),this.minMemType1=tr.readInt(),this.maxMemType1=tr.readInt(),this.format){case 65536:break;case 131072:var sr;for(nr=tr.readUInt16(),this.glyphNameIndex=[],sr=0;0<=nr?sr<nr:sr>nr;sr=0<=nr?++sr:--sr)this.glyphNameIndex.push(tr.readUInt16());for(this.names=[],ar=[];tr.pos<this.offset+this.length;)rr=tr.readByte(),ar.push(this.names.push(tr.readString(rr)));return ar;case 151552:return nr=tr.readUInt16(),this.offsets=tr.read(nr);case 196608:break;case 262144:return this.map=(function(){var ir,or,lr;for(lr=[],sr=ir=0,or=this.file.maxp.numGlyphs;0<=or?ir<or:ir>or;sr=0<=or?++ir:--ir)lr.push(tr.readUInt32());return lr}).call(this)}},er}(),de$1=function(St,er){this.raw=St,this.length=St.length,this.platformID=er.platformID,this.encodingID=er.encodingID,this.languageID=er.languageID},pe=function(St){function er(){return er.__super__.constructor.apply(this,arguments)}return oe$1(er,re$1),er.prototype.tag="name",er.prototype.parse=function(tr){var rr,nr,ar,sr,ir,or,lr,cr,ur,dr,fr;for(tr.pos=this.offset,tr.readShort(),rr=tr.readShort(),or=tr.readShort(),nr=[],sr=0;0<=rr?sr<rr:sr>rr;sr=0<=rr?++sr:--sr)nr.push({platformID:tr.readShort(),encodingID:tr.readShort(),languageID:tr.readShort(),nameID:tr.readShort(),length:tr.readShort(),offset:this.offset+or+tr.readShort()});for(lr={},sr=ur=0,dr=nr.length;ur<dr;sr=++ur)ar=nr[sr],tr.pos=ar.offset,cr=tr.readString(ar.length),ir=new de$1(cr,ar),lr[fr=ar.nameID]==null&&(lr[fr]=[]),lr[ar.nameID].push(ir);this.strings=lr,this.copyright=lr[0],this.fontFamily=lr[1],this.fontSubfamily=lr[2],this.uniqueSubfamily=lr[3],this.fontName=lr[4],this.version=lr[5];try{this.postscriptName=lr[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=lr[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=lr[7],this.manufacturer=lr[8],this.designer=lr[9],this.description=lr[10],this.vendorUrl=lr[11],this.designerUrl=lr[12],this.license=lr[13],this.licenseUrl=lr[14],this.preferredFamily=lr[15],this.preferredSubfamily=lr[17],this.compatibleFull=lr[18],this.sampleText=lr[19]},er}(),ge=function(St){function er(){return er.__super__.constructor.apply(this,arguments)}return oe$1(er,re$1),er.prototype.tag="maxp",er.prototype.parse=function(tr){return tr.pos=this.offset,this.version=tr.readInt(),this.numGlyphs=tr.readUInt16(),this.maxPoints=tr.readUInt16(),this.maxContours=tr.readUInt16(),this.maxCompositePoints=tr.readUInt16(),this.maxComponentContours=tr.readUInt16(),this.maxZones=tr.readUInt16(),this.maxTwilightPoints=tr.readUInt16(),this.maxStorage=tr.readUInt16(),this.maxFunctionDefs=tr.readUInt16(),this.maxInstructionDefs=tr.readUInt16(),this.maxStackElements=tr.readUInt16(),this.maxSizeOfInstructions=tr.readUInt16(),this.maxComponentElements=tr.readUInt16(),this.maxComponentDepth=tr.readUInt16()},er}(),me$1=function(St){function er(){return er.__super__.constructor.apply(this,arguments)}return oe$1(er,re$1),er.prototype.tag="hmtx",er.prototype.parse=function(tr){var rr,nr,ar,sr,ir,or,lr;for(tr.pos=this.offset,this.metrics=[],rr=0,or=this.file.hhea.numberOfMetrics;0<=or?rr<or:rr>or;rr=0<=or?++rr:--rr)this.metrics.push({advance:tr.readUInt16(),lsb:tr.readInt16()});for(ar=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var cr,ur;for(ur=[],rr=cr=0;0<=ar?cr<ar:cr>ar;rr=0<=ar?++cr:--cr)ur.push(tr.readInt16());return ur}(),this.widths=(function(){var cr,ur,dr,fr;for(fr=[],cr=0,ur=(dr=this.metrics).length;cr<ur;cr++)sr=dr[cr],fr.push(sr.advance);return fr}).call(this),nr=this.widths[this.widths.length-1],lr=[],rr=ir=0;0<=ar?ir<ar:ir>ar;rr=0<=ar?++ir:--ir)lr.push(this.widths.push(nr));return lr},er.prototype.forGlyph=function(tr){return tr in this.metrics?this.metrics[tr]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[tr-this.metrics.length]}},er}(),ve=[].slice,be=function(St){function er(){return er.__super__.constructor.apply(this,arguments)}return oe$1(er,re$1),er.prototype.tag="glyf",er.prototype.parse=function(){return this.cache={}},er.prototype.glyphFor=function(tr){var rr,nr,ar,sr,ir,or,lr,cr,ur,dr;return tr in this.cache?this.cache[tr]:(sr=this.file.loca,rr=this.file.contents,nr=sr.indexOf(tr),(ar=sr.lengthOf(tr))===0?this.cache[tr]=null:(rr.pos=this.offset+nr,ir=(or=new ne$2(rr.read(ar))).readShort(),cr=or.readShort(),dr=or.readShort(),lr=or.readShort(),ur=or.readShort(),this.cache[tr]=ir===-1?new we$1(or,cr,dr,lr,ur):new ye(or,ir,cr,dr,lr,ur),this.cache[tr]))},er.prototype.encode=function(tr,rr,nr){var ar,sr,ir,or,lr;for(ir=[],sr=[],or=0,lr=rr.length;or<lr;or++)ar=tr[rr[or]],sr.push(ir.length),ar&&(ir=ir.concat(ar.encode(nr)));return sr.push(ir.length),{table:ir,offsets:sr}},er}(),ye=function(){function St(er,tr,rr,nr,ar,sr){this.raw=er,this.numberOfContours=tr,this.xMin=rr,this.yMin=nr,this.xMax=ar,this.yMax=sr,this.compound=!1}return St.prototype.encode=function(){return this.raw.data},St}(),we$1=function(){function St(er,tr,rr,nr,ar){var sr,ir;for(this.raw=er,this.xMin=tr,this.yMin=rr,this.xMax=nr,this.yMax=ar,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],sr=this.raw;ir=sr.readShort(),this.glyphOffsets.push(sr.pos),this.glyphIDs.push(sr.readUInt16()),32&ir;)sr.pos+=1&ir?4:2,128&ir?sr.pos+=8:64&ir?sr.pos+=4:8&ir&&(sr.pos+=2)}return St.prototype.encode=function(){var er,tr,rr;for(tr=new ne$2(ve.call(this.raw.data)),er=0,rr=this.glyphIDs.length;er<rr;++er)tr.pos=this.glyphOffsets[er];return tr.data},St}(),Ne$1=function(St){function er(){return er.__super__.constructor.apply(this,arguments)}return oe$1(er,re$1),er.prototype.tag="loca",er.prototype.parse=function(tr){var rr,nr;return tr.pos=this.offset,rr=this.file.head.indexToLocFormat,this.offsets=rr===0?(function(){var ar,sr;for(sr=[],nr=0,ar=this.length;nr<ar;nr+=2)sr.push(2*tr.readUInt16());return sr}).call(this):(function(){var ar,sr;for(sr=[],nr=0,ar=this.length;nr<ar;nr+=4)sr.push(tr.readUInt32());return sr}).call(this)},er.prototype.indexOf=function(tr){return this.offsets[tr]},er.prototype.lengthOf=function(tr){return this.offsets[tr+1]-this.offsets[tr]},er.prototype.encode=function(tr,rr){for(var nr=new Uint32Array(this.offsets.length),ar=0,sr=0,ir=0;ir<nr.length;++ir)if(nr[ir]=ar,sr<rr.length&&rr[sr]==ir){++sr,nr[ir]=ar;var or=this.offsets[ir],lr=this.offsets[ir+1]-or;lr>0&&(ar+=lr)}for(var cr=new Array(4*nr.length),ur=0;ur<nr.length;++ur)cr[4*ur+3]=255&nr[ur],cr[4*ur+2]=(65280&nr[ur])>>8,cr[4*ur+1]=(16711680&nr[ur])>>16,cr[4*ur]=(4278190080&nr[ur])>>24;return cr},er}(),Le$1=function(){function St(er){this.font=er,this.subset={},this.unicodes={},this.next=33}return St.prototype.generateCmap=function(){var er,tr,rr,nr,ar;for(tr in nr=this.font.cmap.tables[0].codeMap,er={},ar=this.subset)rr=ar[tr],er[tr]=nr[rr];return er},St.prototype.glyphsFor=function(er){var tr,rr,nr,ar,sr,ir,or;for(nr={},sr=0,ir=er.length;sr<ir;sr++)nr[ar=er[sr]]=this.font.glyf.glyphFor(ar);for(ar in tr=[],nr)(rr=nr[ar])!=null&&rr.compound&&tr.push.apply(tr,rr.glyphIDs);if(tr.length>0)for(ar in or=this.glyphsFor(tr))rr=or[ar],nr[ar]=rr;return nr},St.prototype.encode=function(er,tr){var rr,nr,ar,sr,ir,or,lr,cr,ur,dr,fr,mr,xr,pr,hr;for(nr in rr=ue$1.encode(this.generateCmap(),"unicode"),sr=this.glyphsFor(er),fr={0:0},hr=rr.charMap)fr[(or=hr[nr]).old]=or.new;for(mr in dr=rr.maxGlyphID,sr)mr in fr||(fr[mr]=dr++);return cr=function(gr){var vr,br;for(vr in br={},gr)br[gr[vr]]=vr;return br}(fr),ur=Object.keys(cr).sort(function(gr,vr){return gr-vr}),xr=function(){var gr,vr,br;for(br=[],gr=0,vr=ur.length;gr<vr;gr++)ir=ur[gr],br.push(cr[ir]);return br}(),ar=this.font.glyf.encode(sr,xr,fr),lr=this.font.loca.encode(ar.offsets,xr),pr={cmap:this.font.cmap.raw(),glyf:ar.table,loca:lr,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(tr)},this.font.os2.exists&&(pr["OS/2"]=this.font.os2.raw()),this.font.directory.encode(pr)},St}();E$2.API.PDFObject=function(){var St;function er(){}return St=function(tr,rr){return(Array(rr+1).join("0")+tr).slice(-rr)},er.convert=function(tr){var rr,nr,ar,sr;if(Array.isArray(tr))return"["+function(){var ir,or,lr;for(lr=[],ir=0,or=tr.length;ir<or;ir++)rr=tr[ir],lr.push(er.convert(rr));return lr}().join(" ")+"]";if(typeof tr=="string")return"/"+tr;if(tr!=null&&tr.isString)return"("+tr+")";if(tr instanceof Date)return"(D:"+St(tr.getUTCFullYear(),4)+St(tr.getUTCMonth(),2)+St(tr.getUTCDate(),2)+St(tr.getUTCHours(),2)+St(tr.getUTCMinutes(),2)+St(tr.getUTCSeconds(),2)+"Z)";if({}.toString.call(tr)==="[object Object]"){for(nr in ar=["<<"],tr)sr=tr[nr],ar.push("/"+nr+" "+er.convert(sr));return ar.push(">>"),ar.join(`
`)}return""+tr},er}();function autoTableText(St,er,tr,rr,nr){rr=rr||{};var ar=1.15,sr=nr.internal.scaleFactor,ir=nr.internal.getFontSize()/sr,or=nr.getLineHeightFactor?nr.getLineHeightFactor():ar,lr=ir*or,cr=/\r\n|\r|\n/g,ur="",dr=1;if((rr.valign==="middle"||rr.valign==="bottom"||rr.halign==="center"||rr.halign==="right")&&(ur=typeof St=="string"?St.split(cr):St,dr=ur.length||1),tr+=ir*(2-ar),rr.valign==="middle"?tr-=dr/2*lr:rr.valign==="bottom"&&(tr-=dr*lr),rr.halign==="center"||rr.halign==="right"){var fr=ir;if(rr.halign==="center"&&(fr*=.5),ur&&dr>=1){for(var mr=0;mr<ur.length;mr++)nr.text(ur[mr],er-nr.getStringUnitWidth(ur[mr])*fr,tr),tr+=lr;return nr}er-=nr.getStringUnitWidth(St)*fr}return rr.halign==="justify"?nr.text(St,er,tr,{maxWidth:rr.maxWidth||100,align:"justify"}):nr.text(St,er,tr),nr}var globalDefaults={},DocHandler=function(){function St(er){this.jsPDFDocument=er,this.userStyles={textColor:er.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:er.internal.getFontSize(),fontStyle:er.internal.getFont().fontStyle,font:er.internal.getFont().fontName,lineWidth:er.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:er.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return St.setDefaults=function(er,tr){tr===void 0&&(tr=null),tr?tr.__autoTableDocumentDefaults=er:globalDefaults=er},St.unifyColor=function(er){return Array.isArray(er)?er:typeof er=="number"?[er,er,er]:typeof er=="string"?[er]:null},St.prototype.applyStyles=function(er,tr){var rr,nr,ar;tr===void 0&&(tr=!1),er.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(er.fontStyle);var sr=this.jsPDFDocument.internal.getFont(),ir=sr.fontStyle,or=sr.fontName;if(er.font&&(or=er.font),er.fontStyle){ir=er.fontStyle;var lr=this.getFontList()[or];lr&&lr.indexOf(ir)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(lr[0]),ir=lr[0])}if(this.jsPDFDocument.setFont(or,ir),er.fontSize&&this.jsPDFDocument.setFontSize(er.fontSize),!tr){var cr=St.unifyColor(er.fillColor);cr&&(rr=this.jsPDFDocument).setFillColor.apply(rr,cr),cr=St.unifyColor(er.textColor),cr&&(nr=this.jsPDFDocument).setTextColor.apply(nr,cr),cr=St.unifyColor(er.lineColor),cr&&(ar=this.jsPDFDocument).setDrawColor.apply(ar,cr),typeof er.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(er.lineWidth)}},St.prototype.splitTextToSize=function(er,tr,rr){return this.jsPDFDocument.splitTextToSize(er,tr,rr)},St.prototype.rect=function(er,tr,rr,nr,ar){return this.jsPDFDocument.rect(er,tr,rr,nr,ar)},St.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},St.prototype.getTextWidth=function(er){return this.jsPDFDocument.getTextWidth(er)},St.prototype.getDocument=function(){return this.jsPDFDocument},St.prototype.setPage=function(er){this.jsPDFDocument.setPage(er)},St.prototype.addPage=function(){return this.jsPDFDocument.addPage()},St.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},St.prototype.getGlobalOptions=function(){return globalDefaults||{}},St.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},St.prototype.pageSize=function(){var er=this.jsPDFDocument.internal.pageSize;return er.width==null&&(er={width:er.getWidth(),height:er.getHeight()}),er},St.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},St.prototype.getLineHeightFactor=function(){var er=this.jsPDFDocument;return er.getLineHeightFactor?er.getLineHeightFactor():1.15},St.prototype.getLineHeight=function(er){return er/this.scaleFactor()*this.getLineHeightFactor()},St.prototype.pageNumber=function(){var er=this.jsPDFDocument.internal.getCurrentPageInfo();return er?er.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},St}(),extendStatics=function(St,er){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(tr,rr){tr.__proto__=rr}||function(tr,rr){for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])},extendStatics(St,er)};function __extends(St,er){if(typeof er!="function"&&er!==null)throw new TypeError("Class extends value "+String(er)+" is not a constructor or null");extendStatics(St,er);function tr(){this.constructor=St}St.prototype=er===null?Object.create(er):(tr.prototype=er.prototype,new tr)}typeof SuppressedError=="function"&&SuppressedError;var HtmlRowInput=function(St){__extends(er,St);function er(tr){var rr=St.call(this)||this;return rr._element=tr,rr}return er}(Array);function defaultStyles(St){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/St,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function getTheme(St){var er={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return er[St]}function getStringWidth(St,er,tr){tr.applyStyles(er,!0);var rr=Array.isArray(St)?St:[St],nr=rr.map(function(ar){return tr.getTextWidth(ar)}).reduce(function(ar,sr){return Math.max(ar,sr)},0);return nr}function addTableBorder(St,er,tr,rr){var nr=er.settings.tableLineWidth,ar=er.settings.tableLineColor;St.applyStyles({lineWidth:nr,lineColor:ar});var sr=getFillStyle(nr,!1);sr&&St.rect(tr.x,tr.y,er.getWidth(St.pageSize().width),rr.y-tr.y,sr)}function getFillStyle(St,er){var tr=St>0,rr=er||er===0;return tr&&rr?"DF":tr?"S":rr?"F":null}function parseSpacing(St,er){var tr,rr,nr,ar;if(St=St||er,Array.isArray(St)){if(St.length>=4)return{top:St[0],right:St[1],bottom:St[2],left:St[3]};if(St.length===3)return{top:St[0],right:St[1],bottom:St[2],left:St[1]};if(St.length===2)return{top:St[0],right:St[1],bottom:St[0],left:St[1]};St.length===1?St=St[0]:St=er}return typeof St=="object"?(typeof St.vertical=="number"&&(St.top=St.vertical,St.bottom=St.vertical),typeof St.horizontal=="number"&&(St.right=St.horizontal,St.left=St.horizontal),{left:(tr=St.left)!==null&&tr!==void 0?tr:er,top:(rr=St.top)!==null&&rr!==void 0?rr:er,right:(nr=St.right)!==null&&nr!==void 0?nr:er,bottom:(ar=St.bottom)!==null&&ar!==void 0?ar:er}):(typeof St!="number"&&(St=er),{top:St,right:St,bottom:St,left:St})}function getPageAvailableWidth(St,er){var tr=parseSpacing(er.settings.margin,0);return St.pageSize().width-(tr.left+tr.right)}function parseCss(St,er,tr,rr,nr){var ar={},sr=1.3333333333333333,ir=parseColor(er,function(vr){return nr.getComputedStyle(vr).backgroundColor});ir!=null&&(ar.fillColor=ir);var or=parseColor(er,function(vr){return nr.getComputedStyle(vr).color});or!=null&&(ar.textColor=or);var lr=parsePadding(rr,tr);lr&&(ar.cellPadding=lr);var cr="borderTopColor",ur=sr*tr,dr=rr.borderTopWidth;if(rr.borderBottomWidth===dr&&rr.borderRightWidth===dr&&rr.borderLeftWidth===dr){var fr=(parseFloat(dr)||0)/ur;fr&&(ar.lineWidth=fr)}else ar.lineWidth={top:(parseFloat(rr.borderTopWidth)||0)/ur,right:(parseFloat(rr.borderRightWidth)||0)/ur,bottom:(parseFloat(rr.borderBottomWidth)||0)/ur,left:(parseFloat(rr.borderLeftWidth)||0)/ur},ar.lineWidth.top||(ar.lineWidth.right?cr="borderRightColor":ar.lineWidth.bottom?cr="borderBottomColor":ar.lineWidth.left&&(cr="borderLeftColor"));var mr=parseColor(er,function(vr){return nr.getComputedStyle(vr)[cr]});mr!=null&&(ar.lineColor=mr);var xr=["left","right","center","justify"];xr.indexOf(rr.textAlign)!==-1&&(ar.halign=rr.textAlign),xr=["middle","bottom","top"],xr.indexOf(rr.verticalAlign)!==-1&&(ar.valign=rr.verticalAlign);var pr=parseInt(rr.fontSize||"");isNaN(pr)||(ar.fontSize=pr/sr);var hr=parseFontStyle(rr);hr&&(ar.fontStyle=hr);var gr=(rr.fontFamily||"").toLowerCase();return St.indexOf(gr)!==-1&&(ar.font=gr),ar}function parseFontStyle(St){var er="";return(St.fontWeight==="bold"||St.fontWeight==="bolder"||parseInt(St.fontWeight)>=700)&&(er="bold"),(St.fontStyle==="italic"||St.fontStyle==="oblique")&&(er+="italic"),er}function parseColor(St,er){var tr=realColor(St,er);if(!tr)return null;var rr=tr.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!rr||!Array.isArray(rr))return null;var nr=[parseInt(rr[1]),parseInt(rr[2]),parseInt(rr[3])],ar=parseInt(rr[4]);return ar===0||isNaN(nr[0])||isNaN(nr[1])||isNaN(nr[2])?null:nr}function realColor(St,er){var tr=er(St);return tr==="rgba(0, 0, 0, 0)"||tr==="transparent"||tr==="initial"||tr==="inherit"?St.parentElement==null?null:realColor(St.parentElement,er):tr}function parsePadding(St,er){var tr=[St.paddingTop,St.paddingRight,St.paddingBottom,St.paddingLeft],rr=96/(72/er),nr=(parseInt(St.lineHeight)-parseInt(St.fontSize))/er/2,ar=tr.map(function(ir){return parseInt(ir||"0")/rr}),sr=parseSpacing(ar,0);return nr>sr.top&&(sr.top=nr),nr>sr.bottom&&(sr.bottom=nr),sr}function parseHtml(St,er,tr,rr,nr){var ar,sr;rr===void 0&&(rr=!1),nr===void 0&&(nr=!1);var ir;typeof er=="string"?ir=tr.document.querySelector(er):ir=er;var or=Object.keys(St.getFontList()),lr=St.scaleFactor(),cr=[],ur=[],dr=[];if(!ir)return console.error("Html table could not be found with input: ",er),{head:cr,body:ur,foot:dr};for(var fr=0;fr<ir.rows.length;fr++){var mr=ir.rows[fr],xr=(sr=(ar=mr==null?void 0:mr.parentElement)===null||ar===void 0?void 0:ar.tagName)===null||sr===void 0?void 0:sr.toLowerCase(),pr=parseRowContent(or,lr,tr,mr,rr,nr);pr&&(xr==="thead"?cr.push(pr):xr==="tfoot"?dr.push(pr):ur.push(pr))}return{head:cr,body:ur,foot:dr}}function parseRowContent(St,er,tr,rr,nr,ar){for(var sr=new HtmlRowInput(rr),ir=0;ir<rr.cells.length;ir++){var or=rr.cells[ir],lr=tr.getComputedStyle(or);if(nr||lr.display!=="none"){var cr=void 0;ar&&(cr=parseCss(St,or,er,lr,tr)),sr.push({rowSpan:or.rowSpan,colSpan:or.colSpan,styles:cr,_element:or,content:parseCellContent(or)})}}var ur=tr.getComputedStyle(rr);if(sr.length>0&&(nr||ur.display!=="none"))return sr}function parseCellContent(St){var er=St.cloneNode(!0);return er.innerHTML=er.innerHTML.replace(/\n/g,"").replace(/ +/g," "),er.innerHTML=er.innerHTML.split(/<br.*?>/).map(function(tr){return tr.trim()}).join(`
`),er.innerText||er.textContent||""}function validateInput(St,er,tr){for(var rr=0,nr=[St,er,tr];rr<nr.length;rr++){var ar=nr[rr];ar&&typeof ar!="object"&&console.error("The options parameter should be of type object, is: "+typeof ar),ar.startY&&typeof ar.startY!="number"&&(console.error("Invalid value for startY option",ar.startY),delete ar.startY)}}function assign(St,er,tr,rr,nr){if(St==null)throw new TypeError("Cannot convert undefined or null to object");for(var ar=Object(St),sr=1;sr<arguments.length;sr++){var ir=arguments[sr];if(ir!=null)for(var or in ir)Object.prototype.hasOwnProperty.call(ir,or)&&(ar[or]=ir[or])}return ar}function parseInput(St,er){var tr=new DocHandler(St),rr=tr.getDocumentOptions(),nr=tr.getGlobalOptions();validateInput(nr,rr,er);var ar=assign({},nr,rr,er),sr;typeof window<"u"&&(sr=window);var ir=parseStyles(nr,rr,er),or=parseHooks(nr,rr,er),lr=parseSettings(tr,ar),cr=parseContent$1(tr,ar,sr);return{id:er.tableId,content:cr,hooks:or,styles:ir,settings:lr}}function parseStyles(St,er,tr){for(var rr={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},nr=function(or){if(or==="columnStyles"){var lr=St[or],cr=er[or],ur=tr[or];rr.columnStyles=assign({},lr,cr,ur)}else{var dr=[St,er,tr],fr=dr.map(function(mr){return mr[or]||{}});rr[or]=assign({},fr[0],fr[1],fr[2])}},ar=0,sr=Object.keys(rr);ar<sr.length;ar++){var ir=sr[ar];nr(ir)}return rr}function parseHooks(St,er,tr){for(var rr=[St,er,tr],nr={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},ar=0,sr=rr;ar<sr.length;ar++){var ir=sr[ar];ir.didParseCell&&nr.didParseCell.push(ir.didParseCell),ir.willDrawCell&&nr.willDrawCell.push(ir.willDrawCell),ir.didDrawCell&&nr.didDrawCell.push(ir.didDrawCell),ir.willDrawPage&&nr.willDrawPage.push(ir.willDrawPage),ir.didDrawPage&&nr.didDrawPage.push(ir.didDrawPage)}return nr}function parseSettings(St,er){var tr,rr,nr,ar,sr,ir,or,lr,cr,ur,dr,fr,mr=parseSpacing(er.margin,40/St.scaleFactor()),xr=(tr=getStartY(St,er.startY))!==null&&tr!==void 0?tr:mr.top,pr;er.showFoot===!0?pr="everyPage":er.showFoot===!1?pr="never":pr=(rr=er.showFoot)!==null&&rr!==void 0?rr:"everyPage";var hr;er.showHead===!0?hr="everyPage":er.showHead===!1?hr="never":hr=(nr=er.showHead)!==null&&nr!==void 0?nr:"everyPage";var gr=(ar=er.useCss)!==null&&ar!==void 0?ar:!1,vr=er.theme||(gr?"plain":"striped"),br=!!er.horizontalPageBreak,yr=(sr=er.horizontalPageBreakRepeat)!==null&&sr!==void 0?sr:null;return{includeHiddenHtml:(ir=er.includeHiddenHtml)!==null&&ir!==void 0?ir:!1,useCss:gr,theme:vr,startY:xr,margin:mr,pageBreak:(or=er.pageBreak)!==null&&or!==void 0?or:"auto",rowPageBreak:(lr=er.rowPageBreak)!==null&&lr!==void 0?lr:"auto",tableWidth:(cr=er.tableWidth)!==null&&cr!==void 0?cr:"auto",showHead:hr,showFoot:pr,tableLineWidth:(ur=er.tableLineWidth)!==null&&ur!==void 0?ur:0,tableLineColor:(dr=er.tableLineColor)!==null&&dr!==void 0?dr:200,horizontalPageBreak:br,horizontalPageBreakRepeat:yr,horizontalPageBreakBehaviour:(fr=er.horizontalPageBreakBehaviour)!==null&&fr!==void 0?fr:"afterAllRows"}}function getStartY(St,er){var tr=St.getLastAutoTable(),rr=St.scaleFactor(),nr=St.pageNumber(),ar=!1;if(tr&&tr.startPageNumber){var sr=tr.startPageNumber+tr.pageNumber-1;ar=sr===nr}return typeof er=="number"?er:(er==null||er===!1)&&ar&&(tr==null?void 0:tr.finalY)!=null?tr.finalY+20/rr:null}function parseContent$1(St,er,tr){var rr=er.head||[],nr=er.body||[],ar=er.foot||[];if(er.html){var sr=er.includeHiddenHtml;if(tr){var ir=parseHtml(St,er.html,tr,sr,er.useCss)||{};rr=ir.head||rr,nr=ir.body||rr,ar=ir.foot||rr}else console.error("Cannot parse html in non browser environment")}var or=er.columns||parseColumns(rr,nr,ar);return{columns:or,head:rr,body:nr,foot:ar}}function parseColumns(St,er,tr){var rr=St[0]||er[0]||tr[0]||[],nr=[];return Object.keys(rr).filter(function(ar){return ar!=="_element"}).forEach(function(ar){var sr=1,ir;Array.isArray(rr)?ir=rr[parseInt(ar)]:ir=rr[ar],typeof ir=="object"&&!Array.isArray(ir)&&(sr=(ir==null?void 0:ir.colSpan)||1);for(var or=0;or<sr;or++){var lr=void 0;Array.isArray(rr)?lr=nr.length:lr=ar+(or>0?"_".concat(or):"");var cr={dataKey:lr};nr.push(cr)}}),nr}var HookData=function(){function St(er,tr,rr){this.table=tr,this.pageNumber=tr.pageNumber,this.settings=tr.settings,this.cursor=rr,this.doc=er.getDocument()}return St}(),CellHookData=function(St){__extends(er,St);function er(tr,rr,nr,ar,sr,ir){var or=St.call(this,tr,rr,ir)||this;return or.cell=nr,or.row=ar,or.column=sr,or.section=ar.section,or}return er}(HookData),Table=function(){function St(er,tr){this.pageNumber=1,this.id=er.id,this.settings=er.settings,this.styles=er.styles,this.hooks=er.hooks,this.columns=tr.columns,this.head=tr.head,this.body=tr.body,this.foot=tr.foot}return St.prototype.getHeadHeight=function(er){return this.head.reduce(function(tr,rr){return tr+rr.getMaxCellHeight(er)},0)},St.prototype.getFootHeight=function(er){return this.foot.reduce(function(tr,rr){return tr+rr.getMaxCellHeight(er)},0)},St.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},St.prototype.callCellHooks=function(er,tr,rr,nr,ar,sr){for(var ir=0,or=tr;ir<or.length;ir++){var lr=or[ir],cr=new CellHookData(er,this,rr,nr,ar,sr),ur=lr(cr)===!1;if(rr.text=Array.isArray(rr.text)?rr.text:[rr.text],ur)return!1}return!0},St.prototype.callEndPageHooks=function(er,tr){er.applyStyles(er.userStyles);for(var rr=0,nr=this.hooks.didDrawPage;rr<nr.length;rr++){var ar=nr[rr];ar(new HookData(er,this,tr))}},St.prototype.callWillDrawPageHooks=function(er,tr){for(var rr=0,nr=this.hooks.willDrawPage;rr<nr.length;rr++){var ar=nr[rr];ar(new HookData(er,this,tr))}},St.prototype.getWidth=function(er){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var tr=this.columns.reduce(function(nr,ar){return nr+ar.wrappedWidth},0);return tr}else{var rr=this.settings.margin;return er-rr.left-rr.right}},St}(),Row=function(){function St(er,tr,rr,nr,ar){ar===void 0&&(ar=!1),this.height=0,this.raw=er,er instanceof HtmlRowInput&&(this.raw=er._element,this.element=er._element),this.index=tr,this.section=rr,this.cells=nr,this.spansMultiplePages=ar}return St.prototype.getMaxCellHeight=function(er){var tr=this;return er.reduce(function(rr,nr){var ar;return Math.max(rr,((ar=tr.cells[nr.index])===null||ar===void 0?void 0:ar.height)||0)},0)},St.prototype.hasRowSpan=function(er){var tr=this;return er.filter(function(rr){var nr=tr.cells[rr.index];return nr?nr.rowSpan>1:!1}).length>0},St.prototype.canEntireRowFit=function(er,tr){return this.getMaxCellHeight(tr)<=er},St.prototype.getMinimumRowHeight=function(er,tr){var rr=this;return er.reduce(function(nr,ar){var sr=rr.cells[ar.index];if(!sr)return 0;var ir=tr.getLineHeight(sr.styles.fontSize),or=sr.padding("vertical"),lr=or+ir;return lr>nr?lr:nr},0)},St}(),Cell=function(){function St(er,tr,rr){var nr;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=tr,this.section=rr,this.raw=er;var ar=er;er!=null&&typeof er=="object"&&!Array.isArray(er)?(this.rowSpan=er.rowSpan||1,this.colSpan=er.colSpan||1,ar=(nr=er.content)!==null&&nr!==void 0?nr:er,er._element&&(this.raw=er._element)):(this.rowSpan=1,this.colSpan=1);var sr=ar!=null?""+ar:"",ir=/\r\n|\r|\n/g;this.text=sr.split(ir)}return St.prototype.getTextPos=function(){var er;if(this.styles.valign==="top")er=this.y+this.padding("top");else if(this.styles.valign==="bottom")er=this.y+this.height-this.padding("bottom");else{var tr=this.height-this.padding("vertical");er=this.y+tr/2+this.padding("top")}var rr;if(this.styles.halign==="right")rr=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var nr=this.width-this.padding("horizontal");rr=this.x+nr/2+this.padding("left")}else rr=this.x+this.padding("left");return{x:rr,y:er}},St.prototype.getContentHeight=function(er,tr){tr===void 0&&(tr=1.15);var rr=Array.isArray(this.text)?this.text.length:1,nr=this.styles.fontSize/er*tr,ar=rr*nr+this.padding("vertical");return Math.max(ar,this.styles.minCellHeight)},St.prototype.padding=function(er){var tr=parseSpacing(this.styles.cellPadding,0);return er==="vertical"?tr.top+tr.bottom:er==="horizontal"?tr.left+tr.right:tr[er]},St}(),Column=function(){function St(er,tr,rr){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=er,this.raw=tr,this.index=rr}return St.prototype.getMaxCustomCellWidth=function(er){for(var tr=0,rr=0,nr=er.allRows();rr<nr.length;rr++){var ar=nr[rr],sr=ar.cells[this.index];sr&&typeof sr.styles.cellWidth=="number"&&(tr=Math.max(tr,sr.styles.cellWidth))}return tr},St}();function calculateWidths(St,er){calculate(St,er);var tr=[],rr=0;er.columns.forEach(function(ar){var sr=ar.getMaxCustomCellWidth(er);sr?ar.width=sr:(ar.width=ar.wrappedWidth,tr.push(ar)),rr+=ar.width});var nr=er.getWidth(St.pageSize().width)-rr;nr&&(nr=resizeColumns(tr,nr,function(ar){return Math.max(ar.minReadableWidth,ar.minWidth)})),nr&&(nr=resizeColumns(tr,nr,function(ar){return ar.minWidth})),nr=Math.abs(nr),!er.settings.horizontalPageBreak&&nr>.1/St.scaleFactor()&&(nr=nr<1?nr:Math.round(nr),console.warn("Of the table content, ".concat(nr," units width could not fit page"))),applyColSpans(er),fitContent(er,St),applyRowSpans(er)}function calculate(St,er){var tr=St.scaleFactor(),rr=er.settings.horizontalPageBreak,nr=getPageAvailableWidth(St,er);er.allRows().forEach(function(ar){for(var sr=0,ir=er.columns;sr<ir.length;sr++){var or=ir[sr],lr=ar.cells[or.index];if(lr){var cr=er.hooks.didParseCell;er.callCellHooks(St,cr,lr,ar,or,null);var ur=lr.padding("horizontal");lr.contentWidth=getStringWidth(lr.text,lr.styles,St)+ur;var dr=getStringWidth(lr.text.join(" ").split(/[^\S\u00A0]+/),lr.styles,St);if(lr.minReadableWidth=dr+lr.padding("horizontal"),typeof lr.styles.cellWidth=="number")lr.minWidth=lr.styles.cellWidth,lr.wrappedWidth=lr.styles.cellWidth;else if(lr.styles.cellWidth==="wrap"||rr===!0)lr.contentWidth>nr?(lr.minWidth=nr,lr.wrappedWidth=nr):(lr.minWidth=lr.contentWidth,lr.wrappedWidth=lr.contentWidth);else{var fr=10/tr;lr.minWidth=lr.styles.minCellWidth||fr,lr.wrappedWidth=lr.contentWidth,lr.minWidth>lr.wrappedWidth&&(lr.wrappedWidth=lr.minWidth)}}}}),er.allRows().forEach(function(ar){for(var sr=0,ir=er.columns;sr<ir.length;sr++){var or=ir[sr],lr=ar.cells[or.index];if(lr&&lr.colSpan===1)or.wrappedWidth=Math.max(or.wrappedWidth,lr.wrappedWidth),or.minWidth=Math.max(or.minWidth,lr.minWidth),or.minReadableWidth=Math.max(or.minReadableWidth,lr.minReadableWidth);else{var cr=er.styles.columnStyles[or.dataKey]||er.styles.columnStyles[or.index]||{},ur=cr.cellWidth||cr.minCellWidth;ur&&typeof ur=="number"&&(or.minWidth=ur,or.wrappedWidth=ur)}lr&&(lr.colSpan>1&&!or.minWidth&&(or.minWidth=lr.minWidth),lr.colSpan>1&&!or.wrappedWidth&&(or.wrappedWidth=lr.minWidth))}})}function resizeColumns(St,er,tr){for(var rr=er,nr=St.reduce(function(fr,mr){return fr+mr.wrappedWidth},0),ar=0;ar<St.length;ar++){var sr=St[ar],ir=sr.wrappedWidth/nr,or=rr*ir,lr=sr.width+or,cr=tr(sr),ur=lr<cr?cr:lr;er-=ur-sr.width,sr.width=ur}if(er=Math.round(er*1e10)/1e10,er){var dr=St.filter(function(fr){return er<0?fr.width>tr(fr):!0});dr.length&&(er=resizeColumns(dr,er,tr))}return er}function applyRowSpans(St){for(var er={},tr=1,rr=St.allRows(),nr=0;nr<rr.length;nr++)for(var ar=rr[nr],sr=0,ir=St.columns;sr<ir.length;sr++){var or=ir[sr],lr=er[or.index];if(tr>1)tr--,delete ar.cells[or.index];else if(lr)lr.cell.height+=ar.height,tr=lr.cell.colSpan,delete ar.cells[or.index],lr.left--,lr.left<=1&&delete er[or.index];else{var cr=ar.cells[or.index];if(!cr)continue;if(cr.height=ar.height,cr.rowSpan>1){var ur=rr.length-nr,dr=cr.rowSpan>ur?ur:cr.rowSpan;er[or.index]={cell:cr,left:dr,row:ar}}}}}function applyColSpans(St){for(var er=St.allRows(),tr=0;tr<er.length;tr++)for(var rr=er[tr],nr=null,ar=0,sr=0,ir=0;ir<St.columns.length;ir++){var or=St.columns[ir];if(sr-=1,sr>1&&St.columns[ir+1])ar+=or.width,delete rr.cells[or.index];else if(nr){var lr=nr;delete rr.cells[or.index],nr=null,lr.width=or.width+ar}else{var lr=rr.cells[or.index];if(!lr)continue;if(sr=lr.colSpan,ar=0,lr.colSpan>1){nr=lr,ar+=or.width;continue}lr.width=or.width+ar}}}function fitContent(St,er){for(var tr={count:0,height:0},rr=0,nr=St.allRows();rr<nr.length;rr++){for(var ar=nr[rr],sr=0,ir=St.columns;sr<ir.length;sr++){var or=ir[sr],lr=ar.cells[or.index];if(lr){er.applyStyles(lr.styles,!0);var cr=lr.width-lr.padding("horizontal");if(lr.styles.overflow==="linebreak")lr.text=er.splitTextToSize(lr.text,cr+1/er.scaleFactor(),{fontSize:lr.styles.fontSize});else if(lr.styles.overflow==="ellipsize")lr.text=ellipsize(lr.text,cr,lr.styles,er,"...");else if(lr.styles.overflow==="hidden")lr.text=ellipsize(lr.text,cr,lr.styles,er,"");else if(typeof lr.styles.overflow=="function"){var ur=lr.styles.overflow(lr.text,cr);typeof ur=="string"?lr.text=[ur]:lr.text=ur}lr.contentHeight=lr.getContentHeight(er.scaleFactor(),er.getLineHeightFactor());var dr=lr.contentHeight/lr.rowSpan;lr.rowSpan>1&&tr.count*tr.height<dr*lr.rowSpan?tr={height:dr,count:lr.rowSpan}:tr&&tr.count>0&&tr.height>dr&&(dr=tr.height),dr>ar.height&&(ar.height=dr)}}tr.count--}}function ellipsize(St,er,tr,rr,nr){return St.map(function(ar){return ellipsizeStr(ar,er,tr,rr,nr)})}function ellipsizeStr(St,er,tr,rr,nr){var ar=1e4*rr.scaleFactor();if(er=Math.ceil(er*ar)/ar,er>=getStringWidth(St,tr,rr))return St;for(;er<getStringWidth(St+nr,tr,rr)&&!(St.length<=1);)St=St.substring(0,St.length-1);return St.trim()+nr}function createTable(St,er){var tr=new DocHandler(St),rr=parseContent(er,tr.scaleFactor()),nr=new Table(er,rr);return calculateWidths(tr,nr),tr.applyStyles(tr.userStyles),nr}function parseContent(St,er){var tr=St.content,rr=createColumns(tr.columns);if(tr.head.length===0){var nr=generateSectionRow(rr,"head");nr&&tr.head.push(nr)}if(tr.foot.length===0){var nr=generateSectionRow(rr,"foot");nr&&tr.foot.push(nr)}var ar=St.settings.theme,sr=St.styles;return{columns:rr,head:parseSection("head",tr.head,rr,sr,ar,er),body:parseSection("body",tr.body,rr,sr,ar,er),foot:parseSection("foot",tr.foot,rr,sr,ar,er)}}function parseSection(St,er,tr,rr,nr,ar){var sr={},ir=er.map(function(or,lr){for(var cr=0,ur={},dr=0,fr=0,mr=0,xr=tr;mr<xr.length;mr++){var pr=xr[mr];if(sr[pr.index]==null||sr[pr.index].left===0)if(fr===0){var hr=void 0;Array.isArray(or)?hr=or[pr.index-dr-cr]:hr=or[pr.dataKey];var gr={};typeof hr=="object"&&!Array.isArray(hr)&&(gr=(hr==null?void 0:hr.styles)||{});var vr=cellStyles(St,pr,lr,nr,rr,ar,gr),br=new Cell(hr,vr,St);ur[pr.dataKey]=br,ur[pr.index]=br,fr=br.colSpan-1,sr[pr.index]={left:br.rowSpan-1,times:fr}}else fr--,dr++;else sr[pr.index].left--,fr=sr[pr.index].times,cr++}return new Row(or,lr,St,ur)});return ir}function generateSectionRow(St,er){var tr={};return St.forEach(function(rr){if(rr.raw!=null){var nr=getSectionTitle(er,rr.raw);nr!=null&&(tr[rr.dataKey]=nr)}}),Object.keys(tr).length>0?tr:null}function getSectionTitle(St,er){if(St==="head"){if(typeof er=="object")return er.header||null;if(typeof er=="string"||typeof er=="number")return er}else if(St==="foot"&&typeof er=="object")return er.footer;return null}function createColumns(St){return St.map(function(er,tr){var rr,nr;return typeof er=="object"?nr=(rr=er.dataKey)!==null&&rr!==void 0?rr:tr:nr=tr,new Column(nr,er,tr)})}function cellStyles(St,er,tr,rr,nr,ar,sr){var ir=getTheme(rr),or;St==="head"?or=nr.headStyles:St==="body"?or=nr.bodyStyles:St==="foot"&&(or=nr.footStyles);var lr=assign({},ir.table,ir[St],nr.styles,or),cr=nr.columnStyles[er.dataKey]||nr.columnStyles[er.index]||{},ur=St==="body"?cr:{},dr=St==="body"&&tr%2===0?assign({},ir.alternateRow,nr.alternateRowStyles):{},fr=defaultStyles(ar),mr=assign({},fr,lr,dr,ur);return assign(mr,sr)}function getColumnsCanFitInPage(St,er,tr){var rr;tr===void 0&&(tr={});var nr=getPageAvailableWidth(St,er),ar=new Map,sr=[],ir=[],or=[];Array.isArray(er.settings.horizontalPageBreakRepeat)?or=er.settings.horizontalPageBreakRepeat:(typeof er.settings.horizontalPageBreakRepeat=="string"||typeof er.settings.horizontalPageBreakRepeat=="number")&&(or=[er.settings.horizontalPageBreakRepeat]),or.forEach(function(dr){var fr=er.columns.find(function(mr){return mr.dataKey===dr||mr.index===dr});fr&&!ar.has(fr.index)&&(ar.set(fr.index,!0),sr.push(fr.index),ir.push(er.columns[fr.index]),nr-=fr.wrappedWidth)});for(var lr=!0,cr=(rr=tr==null?void 0:tr.start)!==null&&rr!==void 0?rr:0;cr<er.columns.length;){if(ar.has(cr)){cr++;continue}var ur=er.columns[cr].wrappedWidth;if(lr||nr>=ur)lr=!1,sr.push(cr),ir.push(er.columns[cr]),nr-=ur;else break;cr++}return{colIndexes:sr,columns:ir,lastIndex:cr-1}}function calculateAllColumnsCanFitInPage(St,er){for(var tr=[],rr=0;rr<er.columns.length;rr++){var nr=getColumnsCanFitInPage(St,er,{start:rr});nr.columns.length&&(tr.push(nr),rr=nr.lastIndex)}return tr}function drawTable(St,er){var tr=er.settings,rr=tr.startY,nr=tr.margin,ar={x:nr.left,y:rr},sr=er.getHeadHeight(er.columns)+er.getFootHeight(er.columns),ir=rr+nr.bottom+sr;if(tr.pageBreak==="avoid"){var or=er.body,lr=or.reduce(function(dr,fr){return dr+fr.height},0);ir+=lr}var cr=new DocHandler(St);(tr.pageBreak==="always"||tr.startY!=null&&ir>cr.pageSize().height)&&(nextPage(cr),ar.y=nr.top),er.callWillDrawPageHooks(cr,ar);var ur=assign({},ar);er.startPageNumber=cr.pageNumber(),tr.horizontalPageBreak?printTableWithHorizontalPageBreak(cr,er,ur,ar):(cr.applyStyles(cr.userStyles),(tr.showHead==="firstPage"||tr.showHead==="everyPage")&&er.head.forEach(function(dr){return printRow(cr,er,dr,ar,er.columns)}),cr.applyStyles(cr.userStyles),er.body.forEach(function(dr,fr){var mr=fr===er.body.length-1;printFullRow(cr,er,dr,mr,ur,ar,er.columns)}),cr.applyStyles(cr.userStyles),(tr.showFoot==="lastPage"||tr.showFoot==="everyPage")&&er.foot.forEach(function(dr){return printRow(cr,er,dr,ar,er.columns)})),addTableBorder(cr,er,ur,ar),er.callEndPageHooks(cr,ar),er.finalY=ar.y,St.lastAutoTable=er,cr.applyStyles(cr.userStyles)}function printTableWithHorizontalPageBreak(St,er,tr,rr){var nr=calculateAllColumnsCanFitInPage(St,er),ar=er.settings;if(ar.horizontalPageBreakBehaviour==="afterAllRows")nr.forEach(function(lr,cr){St.applyStyles(St.userStyles),cr>0?addPage(St,er,tr,rr,lr.columns,!0):printHead(St,er,rr,lr.columns),printBody(St,er,tr,rr,lr.columns),printFoot(St,er,rr,lr.columns)});else for(var sr=-1,ir=nr[0],or=function(){var lr=sr;if(ir){St.applyStyles(St.userStyles);var cr=ir.columns;sr>=0?addPage(St,er,tr,rr,cr,!0):printHead(St,er,rr,cr),lr=printBodyWithoutPageBreaks(St,er,sr+1,rr,cr),printFoot(St,er,rr,cr)}var ur=lr-sr;nr.slice(1).forEach(function(dr){St.applyStyles(St.userStyles),addPage(St,er,tr,rr,dr.columns,!0),printBodyWithoutPageBreaks(St,er,sr+1,rr,dr.columns,ur),printFoot(St,er,rr,dr.columns)}),sr=lr};sr<er.body.length-1;)or()}function printHead(St,er,tr,rr){var nr=er.settings;St.applyStyles(St.userStyles),(nr.showHead==="firstPage"||nr.showHead==="everyPage")&&er.head.forEach(function(ar){return printRow(St,er,ar,tr,rr)})}function printBody(St,er,tr,rr,nr){St.applyStyles(St.userStyles),er.body.forEach(function(ar,sr){var ir=sr===er.body.length-1;printFullRow(St,er,ar,ir,tr,rr,nr)})}function printBodyWithoutPageBreaks(St,er,tr,rr,nr,ar){St.applyStyles(St.userStyles),ar=ar??er.body.length;var sr=Math.min(tr+ar,er.body.length),ir=-1;return er.body.slice(tr,sr).forEach(function(or,lr){var cr=tr+lr===er.body.length-1,ur=getRemainingPageSpace(St,er,cr,rr);or.canEntireRowFit(ur,nr)&&(printRow(St,er,or,rr,nr),ir=tr+lr)}),ir}function printFoot(St,er,tr,rr){var nr=er.settings;St.applyStyles(St.userStyles),(nr.showFoot==="lastPage"||nr.showFoot==="everyPage")&&er.foot.forEach(function(ar){return printRow(St,er,ar,tr,rr)})}function getRemainingLineCount(St,er,tr){var rr=tr.getLineHeight(St.styles.fontSize),nr=St.padding("vertical"),ar=Math.floor((er-nr)/rr);return Math.max(0,ar)}function modifyRowToFit(St,er,tr,rr){var nr={};St.spansMultiplePages=!0,St.height=0;for(var ar=0,sr=0,ir=tr.columns;sr<ir.length;sr++){var or=ir[sr],lr=St.cells[or.index];if(lr){Array.isArray(lr.text)||(lr.text=[lr.text]);var cr=new Cell(lr.raw,lr.styles,lr.section);cr=assign(cr,lr),cr.text=[];var ur=getRemainingLineCount(lr,er,rr);lr.text.length>ur&&(cr.text=lr.text.splice(ur,lr.text.length));var dr=rr.scaleFactor(),fr=rr.getLineHeightFactor();lr.contentHeight=lr.getContentHeight(dr,fr),lr.contentHeight>=er&&(lr.contentHeight=er,cr.styles.minCellHeight-=er),lr.contentHeight>St.height&&(St.height=lr.contentHeight),cr.contentHeight=cr.getContentHeight(dr,fr),cr.contentHeight>ar&&(ar=cr.contentHeight),nr[or.index]=cr}}var mr=new Row(St.raw,-1,St.section,nr,!0);mr.height=ar;for(var xr=0,pr=tr.columns;xr<pr.length;xr++){var or=pr[xr],cr=mr.cells[or.index];cr&&(cr.height=mr.height);var lr=St.cells[or.index];lr&&(lr.height=St.height)}return mr}function shouldPrintOnCurrentPage(St,er,tr,rr){var nr=St.pageSize().height,ar=rr.settings.margin,sr=ar.top+ar.bottom,ir=nr-sr;er.section==="body"&&(ir-=rr.getHeadHeight(rr.columns)+rr.getFootHeight(rr.columns));var or=er.getMinimumRowHeight(rr.columns,St),lr=or<tr;if(or>ir)return console.error("Will not be able to print row ".concat(er.index," correctly since it's minimum height is larger than page height")),!0;if(!lr)return!1;var cr=er.hasRowSpan(rr.columns),ur=er.getMaxCellHeight(rr.columns)>ir;return ur?(cr&&console.error("The content of row ".concat(er.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(cr||rr.settings.rowPageBreak==="avoid")}function printFullRow(St,er,tr,rr,nr,ar,sr){var ir=getRemainingPageSpace(St,er,rr,ar);if(tr.canEntireRowFit(ir,sr))printRow(St,er,tr,ar,sr);else if(shouldPrintOnCurrentPage(St,tr,ir,er)){var or=modifyRowToFit(tr,ir,er,St);printRow(St,er,tr,ar,sr),addPage(St,er,nr,ar,sr),printFullRow(St,er,or,rr,nr,ar,sr)}else addPage(St,er,nr,ar,sr),printFullRow(St,er,tr,rr,nr,ar,sr)}function printRow(St,er,tr,rr,nr){rr.x=er.settings.margin.left;for(var ar=0,sr=nr;ar<sr.length;ar++){var ir=sr[ar],or=tr.cells[ir.index];if(!or){rr.x+=ir.width;continue}St.applyStyles(or.styles),or.x=rr.x,or.y=rr.y;var lr=er.callCellHooks(St,er.hooks.willDrawCell,or,tr,ir,rr);if(lr===!1){rr.x+=ir.width;continue}drawCellRect(St,or,rr);var cr=or.getTextPos();autoTableText(or.text,cr.x,cr.y,{halign:or.styles.halign,valign:or.styles.valign,maxWidth:Math.ceil(or.width-or.padding("left")-or.padding("right"))},St.getDocument()),er.callCellHooks(St,er.hooks.didDrawCell,or,tr,ir,rr),rr.x+=ir.width}rr.y+=tr.height}function drawCellRect(St,er,tr){var rr=er.styles;if(St.getDocument().setFillColor(St.getDocument().getFillColor()),typeof rr.lineWidth=="number"){var nr=getFillStyle(rr.lineWidth,rr.fillColor);nr&&St.rect(er.x,tr.y,er.width,er.height,nr)}else typeof rr.lineWidth=="object"&&(rr.fillColor&&St.rect(er.x,tr.y,er.width,er.height,"F"),drawCellBorders(St,er,tr,rr.lineWidth))}function drawCellBorders(St,er,tr,rr){var nr,ar,sr,ir;rr.top&&(nr=tr.x,ar=tr.y,sr=tr.x+er.width,ir=tr.y,rr.right&&(sr+=.5*rr.right),rr.left&&(nr-=.5*rr.left),or(rr.top,nr,ar,sr,ir)),rr.bottom&&(nr=tr.x,ar=tr.y+er.height,sr=tr.x+er.width,ir=tr.y+er.height,rr.right&&(sr+=.5*rr.right),rr.left&&(nr-=.5*rr.left),or(rr.bottom,nr,ar,sr,ir)),rr.left&&(nr=tr.x,ar=tr.y,sr=tr.x,ir=tr.y+er.height,rr.top&&(ar-=.5*rr.top),rr.bottom&&(ir+=.5*rr.bottom),or(rr.left,nr,ar,sr,ir)),rr.right&&(nr=tr.x+er.width,ar=tr.y,sr=tr.x+er.width,ir=tr.y+er.height,rr.top&&(ar-=.5*rr.top),rr.bottom&&(ir+=.5*rr.bottom),or(rr.right,nr,ar,sr,ir));function or(lr,cr,ur,dr,fr){St.getDocument().setLineWidth(lr),St.getDocument().line(cr,ur,dr,fr,"S")}}function getRemainingPageSpace(St,er,tr,rr){var nr=er.settings.margin.bottom,ar=er.settings.showFoot;return(ar==="everyPage"||ar==="lastPage"&&tr)&&(nr+=er.getFootHeight(er.columns)),St.pageSize().height-rr.y-nr}function addPage(St,er,tr,rr,nr,ar){nr===void 0&&(nr=[]),ar===void 0&&(ar=!1),St.applyStyles(St.userStyles),er.settings.showFoot==="everyPage"&&!ar&&er.foot.forEach(function(ir){return printRow(St,er,ir,rr,nr)}),er.callEndPageHooks(St,rr);var sr=er.settings.margin;addTableBorder(St,er,tr,rr),nextPage(St),er.pageNumber++,rr.x=sr.left,rr.y=sr.top,tr.y=sr.top,er.callWillDrawPageHooks(St,rr),er.settings.showHead==="everyPage"&&(er.head.forEach(function(ir){return printRow(St,er,ir,rr,nr)}),St.applyStyles(St.userStyles))}function nextPage(St){var er=St.pageNumber();St.setPage(er+1);var tr=St.pageNumber();return tr===er?(St.addPage(),!0):!1}function applyPlugin(St){St.API.autoTable=function(){for(var er=[],tr=0;tr<arguments.length;tr++)er[tr]=arguments[tr];var rr=er[0],nr=parseInput(this,rr),ar=createTable(this,nr);return drawTable(this,ar),this},St.API.lastAutoTable=!1,St.API.autoTableText=function(er,tr,rr,nr){autoTableText(er,tr,rr,nr,this)},St.API.autoTableSetDefaults=function(er){return DocHandler.setDefaults(er,this),this},St.autoTableSetDefaults=function(er,tr){DocHandler.setDefaults(er,tr)},St.API.autoTableHtmlToJson=function(er,tr){var rr;if(tr===void 0&&(tr=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var nr=new DocHandler(this),ar=parseHtml(nr,er,window,tr,!1),sr=ar.head,ir=ar.body,or=((rr=sr[0])===null||rr===void 0?void 0:rr.map(function(lr){return lr.content}))||[];return{columns:or,rows:ir,data:ir}}}var _a;try{if(typeof window<"u"&&window){var anyWindow=window,jsPDF=anyWindow.jsPDF||((_a=anyWindow.jspdf)===null||_a===void 0?void 0:_a.jsPDF);jsPDF&&applyPlugin(jsPDF)}}catch(St){console.error("Could not apply autoTable plugin",St)}const exportToExcel=St=>{const er=utils.json_to_sheet(St),tr=utils.book_new();utils.book_append_sheet(tr,er,"Resultados"),writeFileSync(tr,"resultados_indicadores.xlsx")},exportToPDF=St=>{const er=new E$2;er.text("Resultados de Indicadores",20,10);const tr=St.map(rr=>{var nr;return[rr.indicatorName,rr.headquarterName,((nr=rr.calculatedValue)==null?void 0:nr.toFixed(2))||"0",rr.target,rr.measurementUnit,rr.year.toString()]});er.autoTable({head:[["Indicador","Sede","Resultado","Meta","Unidad","Ao"]],body:tr,startY:20}),er.save("resultados_indicadores.pdf")};var i$5=Object.defineProperty,d$2=(St,er,tr)=>er in St?i$5(St,er,{enumerable:!0,configurable:!0,writable:!0,value:tr}):St[er]=tr,r$3=(St,er,tr)=>(d$2(St,typeof er!="symbol"?er+"":er,tr),tr);let o$8=class{constructor(){r$3(this,"current",this.detect()),r$3(this,"handoffState","pending"),r$3(this,"currentId",0)}set(er){this.current!==er&&(this.handoffState="pending",this.currentId=0,this.current=er)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},s$6=new o$8;function o$7(St){var er,tr;return s$6.isServer?null:St?"ownerDocument"in St?St.ownerDocument:"current"in St?(tr=(er=St.current)==null?void 0:er.ownerDocument)!=null?tr:document:null:document}function t$4(St){typeof queueMicrotask=="function"?queueMicrotask(St):Promise.resolve().then(St).catch(er=>setTimeout(()=>{throw er}))}function o$6(){let St=[],er={addEventListener(tr,rr,nr,ar){return tr.addEventListener(rr,nr,ar),er.add(()=>tr.removeEventListener(rr,nr,ar))},requestAnimationFrame(...tr){let rr=requestAnimationFrame(...tr);return er.add(()=>cancelAnimationFrame(rr))},nextFrame(...tr){return er.requestAnimationFrame(()=>er.requestAnimationFrame(...tr))},setTimeout(...tr){let rr=setTimeout(...tr);return er.add(()=>clearTimeout(rr))},microTask(...tr){let rr={current:!0};return t$4(()=>{rr.current&&tr[0]()}),er.add(()=>{rr.current=!1})},style(tr,rr,nr){let ar=tr.style.getPropertyValue(rr);return Object.assign(tr.style,{[rr]:nr}),this.add(()=>{Object.assign(tr.style,{[rr]:ar})})},group(tr){let rr=o$6();return tr(rr),this.add(()=>rr.dispose())},add(tr){return St.includes(tr)||St.push(tr),()=>{let rr=St.indexOf(tr);if(rr>=0)for(let nr of St.splice(rr,1))nr()}},dispose(){for(let tr of St.splice(0))tr()}};return er}function p$3(){let[St]=reactExports.useState(o$6);return reactExports.useEffect(()=>()=>St.dispose(),[St]),St}let n$6=(St,er)=>{s$6.isServer?reactExports.useEffect(St,er):reactExports.useLayoutEffect(St,er)};function s$5(St){let er=reactExports.useRef(St);return n$6(()=>{er.current=St},[St]),er}let o$5=function(St){let er=s$5(St);return U$5.useCallback((...tr)=>er.current(...tr),[er])},e$2=reactExports.createContext(void 0);function a$c(){return reactExports.useContext(e$2)}function t$3(...St){return Array.from(new Set(St.flatMap(er=>typeof er=="string"?er.split(" "):[]))).filter(Boolean).join(" ")}function u$6(St,er,...tr){if(St in er){let nr=er[St];return typeof nr=="function"?nr(...tr):nr}let rr=new Error(`Tried to handle "${St}" but there is no handler defined. Only defined handlers are: ${Object.keys(er).map(nr=>`"${nr}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(rr,u$6),rr}var O$2=(St=>(St[St.None=0]="None",St[St.RenderStrategy=1]="RenderStrategy",St[St.Static=2]="Static",St))(O$2||{}),A$1=(St=>(St[St.Unmount=0]="Unmount",St[St.Hidden=1]="Hidden",St))(A$1||{});function L$1(){let St=U$1();return reactExports.useCallback(er=>C$4({mergeRefs:St,...er}),[St])}function C$4({ourProps:St,theirProps:er,slot:tr,defaultTag:rr,features:nr,visible:ar=!0,name:sr,mergeRefs:ir}){ir=ir??$$2;let or=P$2(er,St);if(ar)return F$1(or,tr,rr,sr,ir);let lr=nr??0;if(lr&2){let{static:cr=!1,...ur}=or;if(cr)return F$1(ur,tr,rr,sr,ir)}if(lr&1){let{unmount:cr=!0,...ur}=or;return u$6(cr?0:1,{0(){return null},1(){return F$1({...ur,hidden:!0,style:{display:"none"}},tr,rr,sr,ir)}})}return F$1(or,tr,rr,sr,ir)}function F$1(St,er={},tr,rr,nr){let{as:ar=tr,children:sr,refName:ir="ref",...or}=h$3(St,["unmount","static"]),lr=St.ref!==void 0?{[ir]:St.ref}:{},cr=typeof sr=="function"?sr(er):sr;"className"in or&&or.className&&typeof or.className=="function"&&(or.className=or.className(er)),or["aria-labelledby"]&&or["aria-labelledby"]===or.id&&(or["aria-labelledby"]=void 0);let ur={};if(er){let dr=!1,fr=[];for(let[mr,xr]of Object.entries(er))typeof xr=="boolean"&&(dr=!0),xr===!0&&fr.push(mr.replace(/([A-Z])/g,pr=>`-${pr.toLowerCase()}`));if(dr){ur["data-headlessui-state"]=fr.join(" ");for(let mr of fr)ur[`data-${mr}`]=""}}if(ar===reactExports.Fragment&&(Object.keys(m$3(or)).length>0||Object.keys(m$3(ur)).length>0))if(!reactExports.isValidElement(cr)||Array.isArray(cr)&&cr.length>1){if(Object.keys(m$3(or)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${rr} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(m$3(or)).concat(Object.keys(m$3(ur))).map(dr=>`  - ${dr}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(dr=>`  - ${dr}`).join(`
`)].join(`
`))}else{let dr=cr.props,fr=dr==null?void 0:dr.className,mr=typeof fr=="function"?(...hr)=>t$3(fr(...hr),or.className):t$3(fr,or.className),xr=mr?{className:mr}:{},pr=P$2(cr.props,m$3(h$3(or,["ref"])));for(let hr in ur)hr in pr&&delete ur[hr];return reactExports.cloneElement(cr,Object.assign({},pr,ur,lr,{ref:nr(H$4(cr),lr.ref)},xr))}return reactExports.createElement(ar,Object.assign({},h$3(or,["ref"]),ar!==reactExports.Fragment&&lr,ar!==reactExports.Fragment&&ur),cr)}function U$1(){let St=reactExports.useRef([]),er=reactExports.useCallback(tr=>{for(let rr of St.current)rr!=null&&(typeof rr=="function"?rr(tr):rr.current=tr)},[]);return(...tr)=>{if(!tr.every(rr=>rr==null))return St.current=tr,er}}function $$2(...St){return St.every(er=>er==null)?void 0:er=>{for(let tr of St)tr!=null&&(typeof tr=="function"?tr(er):tr.current=er)}}function P$2(...St){if(St.length===0)return{};if(St.length===1)return St[0];let er={},tr={};for(let rr of St)for(let nr in rr)nr.startsWith("on")&&typeof rr[nr]=="function"?(tr[nr]!=null||(tr[nr]=[]),tr[nr].push(rr[nr])):er[nr]=rr[nr];if(er.disabled||er["aria-disabled"])for(let rr in tr)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(rr)&&(tr[rr]=[nr=>{var ar;return(ar=nr==null?void 0:nr.preventDefault)==null?void 0:ar.call(nr)}]);for(let rr in tr)Object.assign(er,{[rr](nr,...ar){let sr=tr[rr];for(let ir of sr){if((nr instanceof Event||(nr==null?void 0:nr.nativeEvent)instanceof Event)&&nr.defaultPrevented)return;ir(nr,...ar)}}});return er}function K(St){var er;return Object.assign(reactExports.forwardRef(St),{displayName:(er=St.displayName)!=null?er:St.name})}function m$3(St){let er=Object.assign({},St);for(let tr in er)er[tr]===void 0&&delete er[tr];return er}function h$3(St,er=[]){let tr=Object.assign({},St);for(let rr of er)rr in tr&&delete tr[rr];return tr}function H$4(St){return U$5.version.split(".")[0]>="19"?St.props.ref:St.ref}let a$b="span";var s$4=(St=>(St[St.None=1]="None",St[St.Focusable=2]="Focusable",St[St.Hidden=4]="Hidden",St))(s$4||{});function l$3(St,er){var tr;let{features:rr=1,...nr}=St,ar={ref:er,"aria-hidden":(rr&2)===2?!0:(tr=nr["aria-hidden"])!=null?tr:void 0,hidden:(rr&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(rr&4)===4&&(rr&2)!==2&&{display:"none"}}};return L$1()({ourProps:ar,theirProps:nr,slot:{},defaultTag:a$b,name:"Hidden"})}let f$7=K(l$3);function o$4(St){return typeof St!="object"||St===null?!1:"nodeType"in St}function t$2(St){return o$4(St)&&"tagName"in St}function n$5(St){return t$2(St)&&"accessKey"in St}function i$4(St){return t$2(St)&&"tabIndex"in St}function r$2(St){return t$2(St)&&"style"in St}function u$5(St){return n$5(St)&&St.nodeName==="IFRAME"}function l$2(St){return n$5(St)&&St.nodeName==="INPUT"}let u$4=Symbol();function T$2(St,er=!0){return Object.assign(St,{[u$4]:er})}function y$5(...St){let er=reactExports.useRef(St);reactExports.useEffect(()=>{er.current=St},[St]);let tr=o$5(rr=>{for(let nr of er.current)nr!=null&&(typeof nr=="function"?nr(rr):nr.current=rr)});return St.every(rr=>rr==null||(rr==null?void 0:rr[u$4]))?void 0:tr}let a$a=reactExports.createContext(null);a$a.displayName="DescriptionContext";function f$6(){let St=reactExports.useContext(a$a);if(St===null){let er=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(er,f$6),er}return St}function w$5(){let[St,er]=reactExports.useState([]);return[St.length>0?St.join(" "):void 0,reactExports.useMemo(()=>function(tr){let rr=o$5(ar=>(er(sr=>[...sr,ar]),()=>er(sr=>{let ir=sr.slice(),or=ir.indexOf(ar);return or!==-1&&ir.splice(or,1),ir}))),nr=reactExports.useMemo(()=>({register:rr,slot:tr.slot,name:tr.name,props:tr.props,value:tr.value}),[rr,tr.slot,tr.name,tr.props,tr.value]);return U$5.createElement(a$a.Provider,{value:nr},tr.children)},[er])]}let S$2="p";function C$3(St,er){let tr=reactExports.useId(),rr=a$c(),{id:nr=`headlessui-description-${tr}`,...ar}=St,sr=f$6(),ir=y$5(er);n$6(()=>sr.register(nr),[nr,sr.register]);let or=rr||!1,lr=reactExports.useMemo(()=>({...sr.slot,disabled:or}),[sr.slot,or]),cr={ref:ir,...sr.props,id:nr};return L$1()({ourProps:cr,theirProps:ar,slot:lr,defaultTag:S$2,name:sr.name||"Description"})}let _$1=K(C$3),H$3=Object.assign(_$1,{});var o$3=(St=>(St.Space=" ",St.Enter="Enter",St.Escape="Escape",St.Backspace="Backspace",St.Delete="Delete",St.ArrowLeft="ArrowLeft",St.ArrowUp="ArrowUp",St.ArrowRight="ArrowRight",St.ArrowDown="ArrowDown",St.Home="Home",St.End="End",St.PageUp="PageUp",St.PageDown="PageDown",St.Tab="Tab",St))(o$3||{});let e$1=reactExports.createContext(()=>{});function C$2({value:St,children:er}){return U$5.createElement(e$1.Provider,{value:St},er)}let a$9=class extends Map{constructor(er){super(),this.factory=er}get(er){let tr=super.get(er);return tr===void 0&&(tr=this.factory(er),this.set(er,tr)),tr}};var p$2=Object.defineProperty,h$2=(St,er,tr)=>er in St?p$2(St,er,{enumerable:!0,configurable:!0,writable:!0,value:tr}):St[er]=tr,f$5=(St,er,tr)=>(h$2(St,er+"",tr),tr),b$2=(St,er,tr)=>{if(!er.has(St))throw TypeError("Cannot "+tr)},n$4=(St,er,tr)=>(b$2(St,er,"read from private field"),tr?tr.call(St):er.get(St)),c$3=(St,er,tr)=>{if(er.has(St))throw TypeError("Cannot add the same private member more than once");er instanceof WeakSet?er.add(St):er.set(St,tr)},u$3=(St,er,tr,rr)=>(b$2(St,er,"write to private field"),er.set(St,tr),tr),i$3,a$8,o$2;let E$1=class{constructor(er){c$3(this,i$3,{}),c$3(this,a$8,new a$9(()=>new Set)),c$3(this,o$2,new Set),f$5(this,"disposables",o$6()),u$3(this,i$3,er)}dispose(){this.disposables.dispose()}get state(){return n$4(this,i$3)}subscribe(er,tr){let rr={selector:er,callback:tr,current:er(n$4(this,i$3))};return n$4(this,o$2).add(rr),this.disposables.add(()=>{n$4(this,o$2).delete(rr)})}on(er,tr){return n$4(this,a$8).get(er).add(tr),this.disposables.add(()=>{n$4(this,a$8).get(er).delete(tr)})}send(er){let tr=this.reduce(n$4(this,i$3),er);if(tr!==n$4(this,i$3)){u$3(this,i$3,tr);for(let rr of n$4(this,o$2)){let nr=rr.selector(n$4(this,i$3));j$1(rr.current,nr)||(rr.current=nr,rr.callback(nr))}for(let rr of n$4(this,a$8).get(er.type))rr(n$4(this,i$3),er)}}};i$3=new WeakMap,a$8=new WeakMap,o$2=new WeakMap;function j$1(St,er){return Object.is(St,er)?!0:typeof St!="object"||St===null||typeof er!="object"||er===null?!1:Array.isArray(St)&&Array.isArray(er)?St.length!==er.length?!1:d$1(St[Symbol.iterator](),er[Symbol.iterator]()):St instanceof Map&&er instanceof Map||St instanceof Set&&er instanceof Set?St.size!==er.size?!1:d$1(St.entries(),er.entries()):y$4(St)&&y$4(er)?d$1(Object.entries(St)[Symbol.iterator](),Object.entries(er)[Symbol.iterator]()):!1}function d$1(St,er){do{let tr=St.next(),rr=er.next();if(tr.done&&rr.done)return!0;if(tr.done||rr.done||!Object.is(tr.value,rr.value))return!1}while(!0)}function y$4(St){if(Object.prototype.toString.call(St)!=="[object Object]")return!1;let er=Object.getPrototypeOf(St);return er===null||Object.getPrototypeOf(er)===null}var a$7=Object.defineProperty,r$1=(St,er,tr)=>er in St?a$7(St,er,{enumerable:!0,configurable:!0,writable:!0,value:tr}):St[er]=tr,p$1=(St,er,tr)=>(r$1(St,typeof er!="symbol"?er+"":er,tr),tr),k$2=(St=>(St[St.Push=0]="Push",St[St.Pop=1]="Pop",St))(k$2||{});let y$3={0(St,er){let tr=er.id,rr=St.stack,nr=St.stack.indexOf(tr);if(nr!==-1){let ar=St.stack.slice();return ar.splice(nr,1),ar.push(tr),rr=ar,{...St,stack:rr}}return{...St,stack:[...St.stack,tr]}},1(St,er){let tr=er.id,rr=St.stack.indexOf(tr);if(rr===-1)return St;let nr=St.stack.slice();return nr.splice(rr,1),{...St,stack:nr}}},o$1=class ex extends E$1{constructor(){super(...arguments),p$1(this,"actions",{push:er=>this.send({type:0,id:er}),pop:er=>this.send({type:1,id:er})}),p$1(this,"selectors",{isTop:(er,tr)=>er.stack[er.stack.length-1]===tr,inStack:(er,tr)=>er.stack.includes(tr)})}static new(){return new ex({stack:[]})}reduce(er,tr){return u$6(tr.type,y$3,er,tr)}};const x$2=new a$9(()=>o$1.new());function S$1(St,er,tr=j$1){return withSelectorExports.useSyncExternalStoreWithSelector(o$5(rr=>St.subscribe(s$3,rr)),o$5(()=>St.state),o$5(()=>St.state),o$5(er),tr)}function s$3(St){return St}function I$3(St,er){let tr=reactExports.useId(),rr=x$2.get(er),[nr,ar]=S$1(rr,reactExports.useCallback(sr=>[rr.selectors.isTop(sr,tr),rr.selectors.inStack(sr,tr)],[rr,tr]));return n$6(()=>{if(St)return rr.actions.push(tr),()=>rr.actions.pop(tr)},[rr,St,tr]),St?ar?nr:!0:!1}let f$4=new Map,u$2=new Map;function h$1(St){var er;let tr=(er=u$2.get(St))!=null?er:0;return u$2.set(St,tr+1),tr!==0?()=>m$2(St):(f$4.set(St,{"aria-hidden":St.getAttribute("aria-hidden"),inert:St.inert}),St.setAttribute("aria-hidden","true"),St.inert=!0,()=>m$2(St))}function m$2(St){var er;let tr=(er=u$2.get(St))!=null?er:1;if(tr===1?u$2.delete(St):u$2.set(St,tr-1),tr!==1)return;let rr=f$4.get(St);rr&&(rr["aria-hidden"]===null?St.removeAttribute("aria-hidden"):St.setAttribute("aria-hidden",rr["aria-hidden"]),St.inert=rr.inert,f$4.delete(St))}function y$2(St,{allowed:er,disallowed:tr}={}){let rr=I$3(St,"inert-others");n$6(()=>{var nr,ar;if(!rr)return;let sr=o$6();for(let or of(nr=tr==null?void 0:tr())!=null?nr:[])or&&sr.add(h$1(or));let ir=(ar=er==null?void 0:er())!=null?ar:[];for(let or of ir){if(!or)continue;let lr=o$7(or);if(!lr)continue;let cr=or.parentElement;for(;cr&&cr!==lr.body;){for(let ur of cr.children)ir.some(dr=>ur.contains(dr))||sr.add(h$1(ur));cr=cr.parentElement}}return sr.dispose},[rr,er,tr])}function p(St,er,tr){let rr=s$5(nr=>{let ar=nr.getBoundingClientRect();ar.x===0&&ar.y===0&&ar.width===0&&ar.height===0&&tr()});reactExports.useEffect(()=>{if(!St)return;let nr=er===null?null:n$5(er)?er:er.current;if(!nr)return;let ar=o$6();if(typeof ResizeObserver<"u"){let sr=new ResizeObserver(()=>rr.current(nr));sr.observe(nr),ar.add(()=>sr.disconnect())}if(typeof IntersectionObserver<"u"){let sr=new IntersectionObserver(()=>rr.current(nr));sr.observe(nr),ar.add(()=>sr.disconnect())}return()=>ar.dispose()},[er,rr,St])}let f$3=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(St=>`${St}:not([tabindex='-1'])`).join(","),F=["[data-autofocus]"].map(St=>`${St}:not([tabindex='-1'])`).join(",");var T$1=(St=>(St[St.First=1]="First",St[St.Previous=2]="Previous",St[St.Next=4]="Next",St[St.Last=8]="Last",St[St.WrapAround=16]="WrapAround",St[St.NoScroll=32]="NoScroll",St[St.AutoFocus=64]="AutoFocus",St))(T$1||{}),y$1=(St=>(St[St.Error=0]="Error",St[St.Overflow=1]="Overflow",St[St.Success=2]="Success",St[St.Underflow=3]="Underflow",St))(y$1||{}),S=(St=>(St[St.Previous=-1]="Previous",St[St.Next=1]="Next",St))(S||{});function b$1(St=document.body){return St==null?[]:Array.from(St.querySelectorAll(f$3)).sort((er,tr)=>Math.sign((er.tabIndex||Number.MAX_SAFE_INTEGER)-(tr.tabIndex||Number.MAX_SAFE_INTEGER)))}function O$1(St=document.body){return St==null?[]:Array.from(St.querySelectorAll(F)).sort((er,tr)=>Math.sign((er.tabIndex||Number.MAX_SAFE_INTEGER)-(tr.tabIndex||Number.MAX_SAFE_INTEGER)))}var h=(St=>(St[St.Strict=0]="Strict",St[St.Loose=1]="Loose",St))(h||{});function A(St,er=0){var tr;return St===((tr=o$7(St))==null?void 0:tr.body)?!1:u$6(er,{0(){return St.matches(f$3)},1(){let rr=St;for(;rr!==null;){if(rr.matches(f$3))return!0;rr=rr.parentElement}return!1}})}var H$2=(St=>(St[St.Keyboard=0]="Keyboard",St[St.Mouse=1]="Mouse",St))(H$2||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",St=>{St.metaKey||St.altKey||St.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",St=>{St.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:St.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function I$2(St){St==null||St.focus({preventScroll:!0})}let w$4=["textarea","input"].join(",");function _(St){var er,tr;return(tr=(er=St==null?void 0:St.matches)==null?void 0:er.call(St,w$4))!=null?tr:!1}function P$1(St,er=tr=>tr){return St.slice().sort((tr,rr)=>{let nr=er(tr),ar=er(rr);if(nr===null||ar===null)return 0;let sr=nr.compareDocumentPosition(ar);return sr&Node.DOCUMENT_POSITION_FOLLOWING?-1:sr&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function g$1(St,er,{sorted:tr=!0,relativeTo:rr=null,skipElements:nr=[]}={}){let ar=Array.isArray(St)?St.length>0?St[0].ownerDocument:document:St.ownerDocument,sr=Array.isArray(St)?tr?P$1(St):St:er&64?O$1(St):b$1(St);nr.length>0&&sr.length>1&&(sr=sr.filter(fr=>!nr.some(mr=>mr!=null&&"current"in mr?(mr==null?void 0:mr.current)===fr:mr===fr))),rr=rr??ar.activeElement;let ir=(()=>{if(er&5)return 1;if(er&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),or=(()=>{if(er&1)return 0;if(er&2)return Math.max(0,sr.indexOf(rr))-1;if(er&4)return Math.max(0,sr.indexOf(rr))+1;if(er&8)return sr.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),lr=er&32?{preventScroll:!0}:{},cr=0,ur=sr.length,dr;do{if(cr>=ur||cr+ur<=0)return 0;let fr=or+cr;if(er&16)fr=(fr+ur)%ur;else{if(fr<0)return 3;if(fr>=ur)return 1}dr=sr[fr],dr==null||dr.focus(lr),cr+=ir}while(dr!==ar.activeElement);return er&6&&_(dr)&&dr.select(),2}function t$1(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function i$2(){return/Android/gi.test(window.navigator.userAgent)}function n$3(){return t$1()||i$2()}function i$1(St,er,tr,rr){let nr=s$5(tr);reactExports.useEffect(()=>{if(!St)return;function ar(sr){nr.current(sr)}return document.addEventListener(er,ar,rr),()=>document.removeEventListener(er,ar,rr)},[St,er,rr])}function s$2(St,er,tr,rr){let nr=s$5(tr);reactExports.useEffect(()=>{if(!St)return;function ar(sr){nr.current(sr)}return window.addEventListener(er,ar,rr),()=>window.removeEventListener(er,ar,rr)},[St,er,rr])}const C$1=30;function k$1(St,er,tr){let rr=s$5(tr),nr=reactExports.useCallback(function(ir,or){if(ir.defaultPrevented)return;let lr=or(ir);if(lr===null||!lr.getRootNode().contains(lr)||!lr.isConnected)return;let cr=function ur(dr){return typeof dr=="function"?ur(dr()):Array.isArray(dr)||dr instanceof Set?dr:[dr]}(er);for(let ur of cr)if(ur!==null&&(ur.contains(lr)||ir.composed&&ir.composedPath().includes(ur)))return;return!A(lr,h.Loose)&&lr.tabIndex!==-1&&ir.preventDefault(),rr.current(ir,lr)},[rr,er]),ar=reactExports.useRef(null);i$1(St,"pointerdown",ir=>{var or,lr;n$3()||(ar.current=((lr=(or=ir.composedPath)==null?void 0:or.call(ir))==null?void 0:lr[0])||ir.target)},!0),i$1(St,"pointerup",ir=>{if(n$3()||!ar.current)return;let or=ar.current;return ar.current=null,nr(ir,()=>or)},!0);let sr=reactExports.useRef({x:0,y:0});i$1(St,"touchstart",ir=>{sr.current.x=ir.touches[0].clientX,sr.current.y=ir.touches[0].clientY},!0),i$1(St,"touchend",ir=>{let or={x:ir.changedTouches[0].clientX,y:ir.changedTouches[0].clientY};if(!(Math.abs(or.x-sr.current.x)>=C$1||Math.abs(or.y-sr.current.y)>=C$1))return nr(ir,()=>i$4(ir.target)?ir.target:null)},!0),s$2(St,"blur",ir=>nr(ir,()=>u$5(window.document.activeElement)?window.document.activeElement:null),!0)}function n$2(...St){return reactExports.useMemo(()=>o$7(...St),[...St])}function E(St,er,tr,rr){let nr=s$5(tr);reactExports.useEffect(()=>{St=St??window;function ar(sr){nr.current(sr)}return St.addEventListener(er,ar,rr),()=>St.removeEventListener(er,ar,rr)},[St,er,rr])}function o(St){return reactExports.useSyncExternalStore(St.subscribe,St.getSnapshot,St.getSnapshot)}function a$6(St,er){let tr=St(),rr=new Set;return{getSnapshot(){return tr},subscribe(nr){return rr.add(nr),()=>rr.delete(nr)},dispatch(nr,...ar){let sr=er[nr].call(tr,...ar);sr&&(tr=sr,rr.forEach(ir=>ir()))}}}function d(){let St;return{before({doc:er}){var tr;let rr=er.documentElement,nr=(tr=er.defaultView)!=null?tr:window;St=Math.max(0,nr.innerWidth-rr.clientWidth)},after({doc:er,d:tr}){let rr=er.documentElement,nr=Math.max(0,rr.clientWidth-rr.offsetWidth),ar=Math.max(0,St-nr);tr.style(rr,"paddingRight",`${ar}px`)}}}function w$3(){return t$1()?{before({doc:St,d:er,meta:tr}){function rr(nr){return tr.containers.flatMap(ar=>ar()).some(ar=>ar.contains(nr))}er.microTask(()=>{var nr;if(window.getComputedStyle(St.documentElement).scrollBehavior!=="auto"){let ir=o$6();ir.style(St.documentElement,"scrollBehavior","auto"),er.add(()=>er.microTask(()=>ir.dispose()))}let ar=(nr=window.scrollY)!=null?nr:window.pageYOffset,sr=null;er.addEventListener(St,"click",ir=>{if(i$4(ir.target))try{let or=ir.target.closest("a");if(!or)return;let{hash:lr}=new URL(or.href),cr=St.querySelector(lr);i$4(cr)&&!rr(cr)&&(sr=cr)}catch{}},!0),er.addEventListener(St,"touchstart",ir=>{if(i$4(ir.target)&&r$2(ir.target))if(rr(ir.target)){let or=ir.target;for(;or.parentElement&&rr(or.parentElement);)or=or.parentElement;er.style(or,"overscrollBehavior","contain")}else er.style(ir.target,"touchAction","none")}),er.addEventListener(St,"touchmove",ir=>{if(i$4(ir.target)){if(l$2(ir.target))return;if(rr(ir.target)){let or=ir.target;for(;or.parentElement&&or.dataset.headlessuiPortal!==""&&!(or.scrollHeight>or.clientHeight||or.scrollWidth>or.clientWidth);)or=or.parentElement;or.dataset.headlessuiPortal===""&&ir.preventDefault()}else ir.preventDefault()}},{passive:!1}),er.add(()=>{var ir;let or=(ir=window.scrollY)!=null?ir:window.pageYOffset;ar!==or&&window.scrollTo(0,ar),sr&&sr.isConnected&&(sr.scrollIntoView({block:"nearest"}),sr=null)})})}}:{}}function r(){return{before({doc:St,d:er}){er.style(St.documentElement,"overflow","hidden")}}}function m$1(St){let er={};for(let tr of St)Object.assign(er,tr(er));return er}let a$5=a$6(()=>new Map,{PUSH(St,er){var tr;let rr=(tr=this.get(St))!=null?tr:{doc:St,count:0,d:o$6(),meta:new Set};return rr.count++,rr.meta.add(er),this.set(St,rr),this},POP(St,er){let tr=this.get(St);return tr&&(tr.count--,tr.meta.delete(er)),this},SCROLL_PREVENT({doc:St,d:er,meta:tr}){let rr={doc:St,d:er,meta:m$1(tr)},nr=[w$3(),d(),r()];nr.forEach(({before:ar})=>ar==null?void 0:ar(rr)),nr.forEach(({after:ar})=>ar==null?void 0:ar(rr))},SCROLL_ALLOW({d:St}){St.dispose()},TEARDOWN({doc:St}){this.delete(St)}});a$5.subscribe(()=>{let St=a$5.getSnapshot(),er=new Map;for(let[tr]of St)er.set(tr,tr.documentElement.style.overflow);for(let tr of St.values()){let rr=er.get(tr.doc)==="hidden",nr=tr.count!==0;(nr&&!rr||!nr&&rr)&&a$5.dispatch(tr.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",tr),tr.count===0&&a$5.dispatch("TEARDOWN",tr)}});function a$4(St,er,tr=()=>({containers:[]})){let rr=o(a$5),nr=er?rr.get(er):void 0,ar=nr?nr.count>0:!1;return n$6(()=>{if(!(!er||!St))return a$5.dispatch("PUSH",er,tr),()=>a$5.dispatch("POP",er,tr)},[St,er]),ar}function f$2(St,er,tr=()=>[document.body]){let rr=I$3(St,"scroll-lock");a$4(rr,er,nr=>{var ar;return{containers:[...(ar=nr.containers)!=null?ar:[],tr]}})}function c$2(St=0){let[er,tr]=reactExports.useState(St),rr=reactExports.useCallback(or=>tr(or),[er]),nr=reactExports.useCallback(or=>tr(lr=>lr|or),[er]),ar=reactExports.useCallback(or=>(er&or)===or,[er]),sr=reactExports.useCallback(or=>tr(lr=>lr&~or),[tr]),ir=reactExports.useCallback(or=>tr(lr=>lr^or),[tr]);return{flags:er,setFlag:rr,addFlag:nr,hasFlag:ar,removeFlag:sr,toggleFlag:ir}}var define_process_env_default={},T,b;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((T=process==null?void 0:define_process_env_default)==null?void 0:T.NODE_ENV)==="test"&&typeof((b=Element==null?void 0:Element.prototype)==null?void 0:b.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var L=(St=>(St[St.None=0]="None",St[St.Closed=1]="Closed",St[St.Enter=2]="Enter",St[St.Leave=4]="Leave",St))(L||{});function R(St){let er={};for(let tr in St)St[tr]===!0&&(er[`data-${tr}`]="");return er}function x$1(St,er,tr,rr){let[nr,ar]=reactExports.useState(tr),{hasFlag:sr,addFlag:ir,removeFlag:or}=c$2(St&&nr?3:0),lr=reactExports.useRef(!1),cr=reactExports.useRef(!1),ur=p$3();return n$6(()=>{var dr;if(St){if(tr&&ar(!0),!er){tr&&ir(3);return}return(dr=rr==null?void 0:rr.start)==null||dr.call(rr,tr),C(er,{inFlight:lr,prepare(){cr.current?cr.current=!1:cr.current=lr.current,lr.current=!0,!cr.current&&(tr?(ir(3),or(4)):(ir(4),or(2)))},run(){cr.current?tr?(or(3),ir(4)):(or(4),ir(3)):tr?or(1):ir(1)},done(){var fr;cr.current&&typeof er.getAnimations=="function"&&er.getAnimations().length>0||(lr.current=!1,or(7),tr||ar(!1),(fr=rr==null?void 0:rr.end)==null||fr.call(rr,tr))}})}},[St,tr,er,ur]),St?[nr,{closed:sr(1),enter:sr(2),leave:sr(4),transition:sr(2)||sr(4)}]:[tr,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function C(St,{prepare:er,run:tr,done:rr,inFlight:nr}){let ar=o$6();return j(St,{prepare:er,inFlight:nr}),ar.nextFrame(()=>{tr(),ar.requestAnimationFrame(()=>{ar.add(M$2(St,rr))})}),ar.dispose}function M$2(St,er){var tr,rr;let nr=o$6();if(!St)return nr.dispose;let ar=!1;nr.add(()=>{ar=!0});let sr=(rr=(tr=St.getAnimations)==null?void 0:tr.call(St).filter(ir=>ir instanceof CSSTransition))!=null?rr:[];return sr.length===0?(er(),nr.dispose):(Promise.allSettled(sr.map(ir=>ir.finished)).then(()=>{ar||er()}),nr.dispose)}function j(St,{inFlight:er,prepare:tr}){if(er!=null&&er.current){tr();return}let rr=St.style.transition;St.style.transition="none",tr(),St.offsetHeight,St.style.transition=rr}function m(St,er){let tr=reactExports.useRef([]),rr=o$5(St);reactExports.useEffect(()=>{let nr=[...tr.current];for(let[ar,sr]of er.entries())if(tr.current[ar]!==sr){let ir=rr(er,nr);return tr.current=er,ir}},[rr,...er])}let n$1=reactExports.createContext(null);n$1.displayName="OpenClosedContext";var i=(St=>(St[St.Open=1]="Open",St[St.Closed=2]="Closed",St[St.Closing=4]="Closing",St[St.Opening=8]="Opening",St))(i||{});function u$1(){return reactExports.useContext(n$1)}function c$1({value:St,children:er}){return U$5.createElement(n$1.Provider,{value:St},er)}function s$1({children:St}){return U$5.createElement(n$1.Provider,{value:null},St)}function t(St){function er(){document.readyState!=="loading"&&(St(),document.removeEventListener("DOMContentLoaded",er))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",er),er())}let n=[];t(()=>{function St(er){if(!i$4(er.target)||er.target===document.body||n[0]===er.target)return;let tr=er.target;tr=tr.closest(f$3),n.unshift(tr??er.target),n=n.filter(rr=>rr!=null&&rr.isConnected),n.splice(10)}window.addEventListener("click",St,{capture:!0}),window.addEventListener("mousedown",St,{capture:!0}),window.addEventListener("focus",St,{capture:!0}),document.body.addEventListener("click",St,{capture:!0}),document.body.addEventListener("mousedown",St,{capture:!0}),document.body.addEventListener("focus",St,{capture:!0})});function c(St){let er=o$5(St),tr=reactExports.useRef(!1);reactExports.useEffect(()=>(tr.current=!1,()=>{tr.current=!0,t$4(()=>{tr.current&&er()})}),[er])}function s(){let St=typeof document>"u";return"useSyncExternalStore"in t$5?(er=>er.useSyncExternalStore)(t$5)(()=>()=>{},()=>!1,()=>!St):!1}function l$1(){let St=s(),[er,tr]=reactExports.useState(s$6.isHandoffComplete);return er&&s$6.isHandoffComplete===!1&&tr(!1),reactExports.useEffect(()=>{er!==!0&&tr(!0)},[er]),reactExports.useEffect(()=>s$6.handoff(),[]),St?!1:er}let e=reactExports.createContext(!1);function a$3(){return reactExports.useContext(e)}function l(St){return U$5.createElement(e.Provider,{value:St.force},St.children)}function I$1(St){let er=a$3(),tr=reactExports.useContext(H$1),[rr,nr]=reactExports.useState(()=>{var ar;if(!er&&tr!==null)return(ar=tr.current)!=null?ar:null;if(s$6.isServer)return null;let sr=St==null?void 0:St.getElementById("headlessui-portal-root");if(sr)return sr;if(St===null)return null;let ir=St.createElement("div");return ir.setAttribute("id","headlessui-portal-root"),St.body.appendChild(ir)});return reactExports.useEffect(()=>{rr!==null&&(St!=null&&St.body.contains(rr)||St==null||St.body.appendChild(rr))},[rr,St]),reactExports.useEffect(()=>{er||tr!==null&&nr(tr.current)},[tr,nr,er]),rr}let M$1=reactExports.Fragment,D$1=K(function(St,er){let{ownerDocument:tr=null,...rr}=St,nr=reactExports.useRef(null),ar=y$5(T$2(fr=>{nr.current=fr}),er),sr=n$2(nr),ir=tr??sr,or=I$1(ir),[lr]=reactExports.useState(()=>{var fr;return s$6.isServer?null:(fr=ir==null?void 0:ir.createElement("div"))!=null?fr:null}),cr=reactExports.useContext(g),ur=l$1();n$6(()=>{!or||!lr||or.contains(lr)||(lr.setAttribute("data-headlessui-portal",""),or.appendChild(lr))},[or,lr]),n$6(()=>{if(lr&&cr)return cr.register(lr)},[cr,lr]),c(()=>{var fr;!or||!lr||(o$4(lr)&&or.contains(lr)&&or.removeChild(lr),or.childNodes.length<=0&&((fr=or.parentElement)==null||fr.removeChild(or)))});let dr=L$1();return ur?!or||!lr?null:reactDomExports.createPortal(dr({ourProps:{ref:ar},theirProps:rr,slot:{},defaultTag:M$1,name:"Portal"}),lr):null});function J(St,er){let tr=y$5(er),{enabled:rr=!0,ownerDocument:nr,...ar}=St,sr=L$1();return rr?U$5.createElement(D$1,{...ar,ownerDocument:nr,ref:tr}):sr({ourProps:{ref:tr},theirProps:ar,slot:{},defaultTag:M$1,name:"Portal"})}let X$1=reactExports.Fragment,H$1=reactExports.createContext(null);function k(St,er){let{target:tr,...rr}=St,nr={ref:y$5(er)},ar=L$1();return U$5.createElement(H$1.Provider,{value:tr},ar({ourProps:nr,theirProps:rr,defaultTag:X$1,name:"Popover.Group"}))}let g=reactExports.createContext(null);function oe(){let St=reactExports.useContext(g),er=reactExports.useRef([]),tr=o$5(ar=>(er.current.push(ar),St&&St.register(ar),()=>rr(ar))),rr=o$5(ar=>{let sr=er.current.indexOf(ar);sr!==-1&&er.current.splice(sr,1),St&&St.unregister(ar)}),nr=reactExports.useMemo(()=>({register:tr,unregister:rr,portals:er}),[tr,rr,er]);return[er,reactExports.useMemo(()=>function({children:ar}){return U$5.createElement(g.Provider,{value:nr},ar)},[nr])]}let B=K(J),q=K(k),ne$1=Object.assign(B,{Group:q});function a$2(St,er=typeof document<"u"?document.defaultView:null,tr){let rr=I$3(St,"escape");E(er,"keydown",nr=>{rr&&(nr.defaultPrevented||nr.key===o$3.Escape&&tr(nr))})}function f$1(){var St;let[er]=reactExports.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[tr,rr]=reactExports.useState((St=er==null?void 0:er.matches)!=null?St:!1);return n$6(()=>{if(!er)return;function nr(ar){rr(ar.matches)}return er.addEventListener("change",nr),()=>er.removeEventListener("change",nr)},[er]),tr}function H({defaultContainers:St=[],portals:er,mainTreeNode:tr}={}){let rr=n$2(tr),nr=o$5(()=>{var ar,sr;let ir=[];for(let or of St)or!==null&&(t$2(or)?ir.push(or):"current"in or&&t$2(or.current)&&ir.push(or.current));if(er!=null&&er.current)for(let or of er.current)ir.push(or);for(let or of(ar=rr==null?void 0:rr.querySelectorAll("html > *, body > *"))!=null?ar:[])or!==document.body&&or!==document.head&&t$2(or)&&or.id!=="headlessui-portal-root"&&(tr&&(or.contains(tr)||or.contains((sr=tr==null?void 0:tr.getRootNode())==null?void 0:sr.host))||ir.some(lr=>or.contains(lr))||ir.push(or));return ir});return{resolveContainers:nr,contains:o$5(ar=>nr().some(sr=>sr.contains(ar)))}}let a$1=reactExports.createContext(null);function P({children:St,node:er}){let[tr,rr]=reactExports.useState(null),nr=y(er??tr);return U$5.createElement(a$1.Provider,{value:nr},St,nr===null&&U$5.createElement(f$7,{features:s$4.Hidden,ref:ar=>{var sr,ir;if(ar){for(let or of(ir=(sr=o$7(ar))==null?void 0:sr.querySelectorAll("html > *, body > *"))!=null?ir:[])if(or!==document.body&&or!==document.head&&t$2(or)&&or!=null&&or.contains(ar)){rr(or);break}}}}))}function y(St=null){var er;return(er=reactExports.useContext(a$1))!=null?er:St}function f(){let St=reactExports.useRef(!1);return n$6(()=>(St.current=!0,()=>{St.current=!1}),[]),St}var a=(St=>(St[St.Forwards=0]="Forwards",St[St.Backwards=1]="Backwards",St))(a||{});function u(){let St=reactExports.useRef(0);return s$2(!0,"keydown",er=>{er.key==="Tab"&&(St.current=er.shiftKey?1:0)},!0),St}function x(St){if(!St)return new Set;if(typeof St=="function")return new Set(St());let er=new Set;for(let tr of St.current)t$2(tr.current)&&er.add(tr.current);return er}let $$1="div";var G=(St=>(St[St.None=0]="None",St[St.InitialFocus=1]="InitialFocus",St[St.TabLock=2]="TabLock",St[St.FocusLock=4]="FocusLock",St[St.RestoreFocus=8]="RestoreFocus",St[St.AutoFocus=16]="AutoFocus",St))(G||{});function D(St,er){let tr=reactExports.useRef(null),rr=y$5(tr,er),{initialFocus:nr,initialFocusFallback:ar,containers:sr,features:ir=15,...or}=St;l$1()||(ir=0);let lr=n$2(tr);te(ir,{ownerDocument:lr});let cr=re(ir,{ownerDocument:lr,container:tr,initialFocus:nr,initialFocusFallback:ar});ne(ir,{ownerDocument:lr,container:tr,containers:sr,previousActiveElement:cr});let ur=u(),dr=o$5(gr=>{if(!n$5(tr.current))return;let vr=tr.current;(br=>br())(()=>{u$6(ur.current,{[a.Forwards]:()=>{g$1(vr,T$1.First,{skipElements:[gr.relatedTarget,ar]})},[a.Backwards]:()=>{g$1(vr,T$1.Last,{skipElements:[gr.relatedTarget,ar]})}})})}),fr=I$3(!!(ir&2),"focus-trap#tab-lock"),mr=p$3(),xr=reactExports.useRef(!1),pr={ref:rr,onKeyDown(gr){gr.key=="Tab"&&(xr.current=!0,mr.requestAnimationFrame(()=>{xr.current=!1}))},onBlur(gr){if(!(ir&4))return;let vr=x(sr);n$5(tr.current)&&vr.add(tr.current);let br=gr.relatedTarget;i$4(br)&&br.dataset.headlessuiFocusGuard!=="true"&&(I(vr,br)||(xr.current?g$1(tr.current,u$6(ur.current,{[a.Forwards]:()=>T$1.Next,[a.Backwards]:()=>T$1.Previous})|T$1.WrapAround,{relativeTo:gr.target}):i$4(gr.target)&&I$2(gr.target)))}},hr=L$1();return U$5.createElement(U$5.Fragment,null,fr&&U$5.createElement(f$7,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:dr,features:s$4.Focusable}),hr({ourProps:pr,theirProps:or,defaultTag:$$1,name:"FocusTrap"}),fr&&U$5.createElement(f$7,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:dr,features:s$4.Focusable}))}let w$2=K(D),Re=Object.assign(w$2,{features:G});function ee(St=!0){let er=reactExports.useRef(n.slice());return m(([tr],[rr])=>{rr===!0&&tr===!1&&t$4(()=>{er.current.splice(0)}),rr===!1&&tr===!0&&(er.current=n.slice())},[St,n,er]),o$5(()=>{var tr;return(tr=er.current.find(rr=>rr!=null&&rr.isConnected))!=null?tr:null})}function te(St,{ownerDocument:er}){let tr=!!(St&8),rr=ee(tr);m(()=>{tr||(er==null?void 0:er.activeElement)===(er==null?void 0:er.body)&&I$2(rr())},[tr]),c(()=>{tr&&I$2(rr())})}function re(St,{ownerDocument:er,container:tr,initialFocus:rr,initialFocusFallback:nr}){let ar=reactExports.useRef(null),sr=I$3(!!(St&1),"focus-trap#initial-focus"),ir=f();return m(()=>{if(St===0)return;if(!sr){nr!=null&&nr.current&&I$2(nr.current);return}let or=tr.current;or&&t$4(()=>{if(!ir.current)return;let lr=er==null?void 0:er.activeElement;if(rr!=null&&rr.current){if((rr==null?void 0:rr.current)===lr){ar.current=lr;return}}else if(or.contains(lr)){ar.current=lr;return}if(rr!=null&&rr.current)I$2(rr.current);else{if(St&16){if(g$1(or,T$1.First|T$1.AutoFocus)!==y$1.Error)return}else if(g$1(or,T$1.First)!==y$1.Error)return;if(nr!=null&&nr.current&&(I$2(nr.current),(er==null?void 0:er.activeElement)===nr.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}ar.current=er==null?void 0:er.activeElement})},[nr,sr,St]),ar}function ne(St,{ownerDocument:er,container:tr,containers:rr,previousActiveElement:nr}){let ar=f(),sr=!!(St&4);E(er==null?void 0:er.defaultView,"focus",ir=>{if(!sr||!ar.current)return;let or=x(rr);n$5(tr.current)&&or.add(tr.current);let lr=nr.current;if(!lr)return;let cr=ir.target;n$5(cr)?I(or,cr)?(nr.current=cr,I$2(cr)):(ir.preventDefault(),ir.stopPropagation(),I$2(lr)):I$2(nr.current)},!0)}function I(St,er){for(let tr of St)if(tr.contains(er))return!0;return!1}function ue(St){var er;return!!(St.enter||St.enterFrom||St.enterTo||St.leave||St.leaveFrom||St.leaveTo)||((er=St.as)!=null?er:de)!==reactExports.Fragment||U$5.Children.count(St.children)===1}let w$1=reactExports.createContext(null);w$1.displayName="TransitionContext";var _e=(St=>(St.Visible="visible",St.Hidden="hidden",St))(_e||{});function De(){let St=reactExports.useContext(w$1);if(St===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return St}function He$1(){let St=reactExports.useContext(M);if(St===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return St}let M=reactExports.createContext(null);M.displayName="NestingContext";function U(St){return"children"in St?U(St.children):St.current.filter(({el:er})=>er.current!==null).filter(({state:er})=>er==="visible").length>0}function Te(St,er){let tr=s$5(St),rr=reactExports.useRef([]),nr=f(),ar=p$3(),sr=o$5((fr,mr=A$1.Hidden)=>{let xr=rr.current.findIndex(({el:pr})=>pr===fr);xr!==-1&&(u$6(mr,{[A$1.Unmount](){rr.current.splice(xr,1)},[A$1.Hidden](){rr.current[xr].state="hidden"}}),ar.microTask(()=>{var pr;!U(rr)&&nr.current&&((pr=tr.current)==null||pr.call(tr))}))}),ir=o$5(fr=>{let mr=rr.current.find(({el:xr})=>xr===fr);return mr?mr.state!=="visible"&&(mr.state="visible"):rr.current.push({el:fr,state:"visible"}),()=>sr(fr,A$1.Unmount)}),or=reactExports.useRef([]),lr=reactExports.useRef(Promise.resolve()),cr=reactExports.useRef({enter:[],leave:[]}),ur=o$5((fr,mr,xr)=>{or.current.splice(0),er&&(er.chains.current[mr]=er.chains.current[mr].filter(([pr])=>pr!==fr)),er==null||er.chains.current[mr].push([fr,new Promise(pr=>{or.current.push(pr)})]),er==null||er.chains.current[mr].push([fr,new Promise(pr=>{Promise.all(cr.current[mr].map(([hr,gr])=>gr)).then(()=>pr())})]),mr==="enter"?lr.current=lr.current.then(()=>er==null?void 0:er.wait.current).then(()=>xr(mr)):xr(mr)}),dr=o$5((fr,mr,xr)=>{Promise.all(cr.current[mr].splice(0).map(([pr,hr])=>hr)).then(()=>{var pr;(pr=or.current.shift())==null||pr()}).then(()=>xr(mr))});return reactExports.useMemo(()=>({children:rr,register:ir,unregister:sr,onStart:ur,onStop:dr,wait:lr,chains:cr}),[ir,sr,rr,ur,dr,cr,lr])}let de=reactExports.Fragment,fe=O$2.RenderStrategy;function Ae(St,er){var tr,rr;let{transition:nr=!0,beforeEnter:ar,afterEnter:sr,beforeLeave:ir,afterLeave:or,enter:lr,enterFrom:cr,enterTo:ur,entered:dr,leave:fr,leaveFrom:mr,leaveTo:xr,...pr}=St,[hr,gr]=reactExports.useState(null),vr=reactExports.useRef(null),br=ue(St),yr=y$5(...br?[vr,er,gr]:er===null?[]:[er]),Er=(tr=pr.unmount)==null||tr?A$1.Unmount:A$1.Hidden,{show:jr,appear:_r,initial:Cr}=De(),[Or,Pr]=reactExports.useState(jr?"visible":"hidden"),Lr=He$1(),{register:Gr,unregister:Kr}=Lr;n$6(()=>Gr(vr),[Gr,vr]),n$6(()=>{if(Er===A$1.Hidden&&vr.current){if(jr&&Or!=="visible"){Pr("visible");return}return u$6(Or,{hidden:()=>Kr(vr),visible:()=>Gr(vr)})}},[Or,vr,Gr,Kr,jr,Er]);let nn=l$1();n$6(()=>{if(br&&nn&&Or==="visible"&&vr.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[vr,Or,nn,br]);let Qr=Cr&&!_r,zr=_r&&jr&&Cr,Vr=reactExports.useRef(!1),Jr=Te(()=>{Vr.current||(Pr("hidden"),Kr(vr))},Lr),tn=o$5(Br=>{Vr.current=!0;let qr=Br?"enter":"leave";Jr.onStart(vr,qr,Wr=>{Wr==="enter"?ar==null||ar():Wr==="leave"&&(ir==null||ir())})}),Yr=o$5(Br=>{let qr=Br?"enter":"leave";Vr.current=!1,Jr.onStop(vr,qr,Wr=>{Wr==="enter"?sr==null||sr():Wr==="leave"&&(or==null||or())}),qr==="leave"&&!U(Jr)&&(Pr("hidden"),Kr(vr))});reactExports.useEffect(()=>{br&&nr||(tn(jr),Yr(jr))},[jr,br,nr]);let Sr=!(!nr||!br||!nn||Qr),[,Rr]=x$1(Sr,hr,jr,{start:tn,end:Yr}),Tr=m$3({ref:yr,className:((rr=t$3(pr.className,zr&&lr,zr&&cr,Rr.enter&&lr,Rr.enter&&Rr.closed&&cr,Rr.enter&&!Rr.closed&&ur,Rr.leave&&fr,Rr.leave&&!Rr.closed&&mr,Rr.leave&&Rr.closed&&xr,!Rr.transition&&jr&&dr))==null?void 0:rr.trim())||void 0,...R(Rr)}),Dr=0;Or==="visible"&&(Dr|=i.Open),Or==="hidden"&&(Dr|=i.Closed),jr&&Or==="hidden"&&(Dr|=i.Opening),!jr&&Or==="visible"&&(Dr|=i.Closing);let Mr=L$1();return U$5.createElement(M.Provider,{value:Jr},U$5.createElement(c$1,{value:Dr},Mr({ourProps:Tr,theirProps:pr,defaultTag:de,features:fe,visible:Or==="visible",name:"Transition.Child"})))}function Ie(St,er){let{show:tr,appear:rr=!1,unmount:nr=!0,...ar}=St,sr=reactExports.useRef(null),ir=ue(St),or=y$5(...ir?[sr,er]:er===null?[]:[er]);l$1();let lr=u$1();if(tr===void 0&&lr!==null&&(tr=(lr&i.Open)===i.Open),tr===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[cr,ur]=reactExports.useState(tr?"visible":"hidden"),dr=Te(()=>{tr||ur("hidden")}),[fr,mr]=reactExports.useState(!0),xr=reactExports.useRef([tr]);n$6(()=>{fr!==!1&&xr.current[xr.current.length-1]!==tr&&(xr.current.push(tr),mr(!1))},[xr,tr]);let pr=reactExports.useMemo(()=>({show:tr,appear:rr,initial:fr}),[tr,rr,fr]);n$6(()=>{tr?ur("visible"):!U(dr)&&sr.current!==null&&ur("hidden")},[tr,dr]);let hr={unmount:nr},gr=o$5(()=>{var yr;fr&&mr(!1),(yr=St.beforeEnter)==null||yr.call(St)}),vr=o$5(()=>{var yr;fr&&mr(!1),(yr=St.beforeLeave)==null||yr.call(St)}),br=L$1();return U$5.createElement(M.Provider,{value:dr},U$5.createElement(w$1.Provider,{value:pr},br({ourProps:{...hr,as:reactExports.Fragment,children:U$5.createElement(me,{ref:or,...hr,...ar,beforeEnter:gr,beforeLeave:vr})},theirProps:{},defaultTag:reactExports.Fragment,features:fe,visible:cr==="visible",name:"Transition"})))}function Le(St,er){let tr=reactExports.useContext(w$1)!==null,rr=u$1()!==null;return U$5.createElement(U$5.Fragment,null,!tr&&rr?U$5.createElement(X,{ref:er,...St}):U$5.createElement(me,{ref:er,...St}))}let X=K(Ie),me=K(Ae),Fe=K(Le),ze$1=Object.assign(X,{Child:Fe,Root:X});var Ge=(St=>(St[St.Open=0]="Open",St[St.Closed=1]="Closed",St))(Ge||{}),we=(St=>(St[St.SetTitleId=0]="SetTitleId",St))(we||{});let Be={0(St,er){return St.titleId===er.id?St:{...St,titleId:er.id}}},w=reactExports.createContext(null);w.displayName="DialogContext";function O(St){let er=reactExports.useContext(w);if(er===null){let tr=new Error(`<${St} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(tr,O),tr}return er}function Ue(St,er){return u$6(er.type,Be,St,er)}let z=K(function(St,er){let tr=reactExports.useId(),{id:rr=`headlessui-dialog-${tr}`,open:nr,onClose:ar,initialFocus:sr,role:ir="dialog",autoFocus:or=!0,__demoMode:lr=!1,unmount:cr=!1,...ur}=St,dr=reactExports.useRef(!1);ir=function(){return ir==="dialog"||ir==="alertdialog"?ir:(dr.current||(dr.current=!0,console.warn(`Invalid role [${ir}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let fr=u$1();nr===void 0&&fr!==null&&(nr=(fr&i.Open)===i.Open);let mr=reactExports.useRef(null),xr=y$5(mr,er),pr=n$2(mr),hr=nr?0:1,[gr,vr]=reactExports.useReducer(Ue,{titleId:null,descriptionId:null,panelRef:reactExports.createRef()}),br=o$5(()=>ar(!1)),yr=o$5(Rr=>vr({type:0,id:Rr})),Er=l$1()?hr===0:!1,[jr,_r]=oe(),Cr={get current(){var Rr;return(Rr=gr.panelRef.current)!=null?Rr:mr.current}},Or=y(),{resolveContainers:Pr}=H({mainTreeNode:Or,portals:jr,defaultContainers:[Cr]}),Lr=fr!==null?(fr&i.Closing)===i.Closing:!1;y$2(lr||Lr?!1:Er,{allowed:o$5(()=>{var Rr,Tr;return[(Tr=(Rr=mr.current)==null?void 0:Rr.closest("[data-headlessui-portal]"))!=null?Tr:null]}),disallowed:o$5(()=>{var Rr;return[(Rr=Or==null?void 0:Or.closest("body > *:not(#headlessui-portal-root)"))!=null?Rr:null]})});let Gr=x$2.get(null);n$6(()=>{if(Er)return Gr.actions.push(rr),()=>Gr.actions.pop(rr)},[Gr,rr,Er]);let Kr=S$1(Gr,reactExports.useCallback(Rr=>Gr.selectors.isTop(Rr,rr),[Gr,rr]));k$1(Kr,Pr,Rr=>{Rr.preventDefault(),br()}),a$2(Kr,pr==null?void 0:pr.defaultView,Rr=>{Rr.preventDefault(),Rr.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),br()}),f$2(lr||Lr?!1:Er,pr,Pr),p(Er,mr,br);let[nn,Qr]=w$5(),zr=reactExports.useMemo(()=>[{dialogState:hr,close:br,setTitleId:yr,unmount:cr},gr],[hr,gr,br,yr,cr]),Vr=reactExports.useMemo(()=>({open:hr===0}),[hr]),Jr={ref:xr,id:rr,role:ir,tabIndex:-1,"aria-modal":lr?void 0:hr===0?!0:void 0,"aria-labelledby":gr.titleId,"aria-describedby":nn,unmount:cr},tn=!f$1(),Yr=G.None;Er&&!lr&&(Yr|=G.RestoreFocus,Yr|=G.TabLock,or&&(Yr|=G.AutoFocus),tn&&(Yr|=G.InitialFocus));let Sr=L$1();return U$5.createElement(s$1,null,U$5.createElement(l,{force:!0},U$5.createElement(ne$1,null,U$5.createElement(w.Provider,{value:zr},U$5.createElement(q,{target:mr},U$5.createElement(l,{force:!1},U$5.createElement(Qr,{slot:Vr},U$5.createElement(_r,null,U$5.createElement(Re,{initialFocus:sr,initialFocusFallback:mr,containers:Pr,features:Yr},U$5.createElement(C$2,{value:br},Sr({ourProps:Jr,theirProps:ur,slot:Vr,defaultTag:He,features:Ne,visible:hr===0,name:"Dialog"})))))))))))}),He="div",Ne=O$2.RenderStrategy|O$2.Static;function We(St,er){let{transition:tr=!1,open:rr,...nr}=St,ar=u$1(),sr=St.hasOwnProperty("open")||ar!==null,ir=St.hasOwnProperty("onClose");if(!sr&&!ir)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!sr)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!ir)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!ar&&typeof St.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${St.open}`);if(typeof St.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${St.onClose}`);return(rr!==void 0||tr)&&!nr.static?U$5.createElement(P,null,U$5.createElement(ze$1,{show:rr,transition:tr,unmount:nr.unmount},U$5.createElement(z,{ref:er,...nr}))):U$5.createElement(P,null,U$5.createElement(z,{ref:er,open:rr,...nr}))}let $e="div";function je(St,er){let tr=reactExports.useId(),{id:rr=`headlessui-dialog-panel-${tr}`,transition:nr=!1,...ar}=St,[{dialogState:sr,unmount:ir},or]=O("Dialog.Panel"),lr=y$5(er,or.panelRef),cr=reactExports.useMemo(()=>({open:sr===0}),[sr]),ur=o$5(pr=>{pr.stopPropagation()}),dr={ref:lr,id:rr,onClick:ur},fr=nr?Fe:reactExports.Fragment,mr=nr?{unmount:ir}:{},xr=L$1();return U$5.createElement(fr,{...mr},xr({ourProps:dr,theirProps:ar,slot:cr,defaultTag:$e,name:"Dialog.Panel"}))}let Ye="div";function Je(St,er){let{transition:tr=!1,...rr}=St,[{dialogState:nr,unmount:ar}]=O("Dialog.Backdrop"),sr=reactExports.useMemo(()=>({open:nr===0}),[nr]),ir={ref:er,"aria-hidden":!0},or=tr?Fe:reactExports.Fragment,lr=tr?{unmount:ar}:{},cr=L$1();return U$5.createElement(or,{...lr},cr({ourProps:ir,theirProps:rr,slot:sr,defaultTag:Ye,name:"Dialog.Backdrop"}))}let Ke="h2";function Xe(St,er){let tr=reactExports.useId(),{id:rr=`headlessui-dialog-title-${tr}`,...nr}=St,[{dialogState:ar,setTitleId:sr}]=O("Dialog.Title"),ir=y$5(er);reactExports.useEffect(()=>(sr(rr),()=>sr(null)),[rr,sr]);let or=reactExports.useMemo(()=>({open:ar===0}),[ar]),lr={ref:ir,id:rr};return L$1()({ourProps:lr,theirProps:nr,slot:or,defaultTag:Ke,name:"Dialog.Title"})}let Ve=K(We),qe=K(je);K(Je);let ze=K(Xe),Lt=Object.assign(Ve,{Panel:qe,Title:ze,Description:H$3});function IndicatorDetailModal({isOpen:St,onClose:er,indicator:tr,results:rr}){if(!tr)return null;const nr=rr.filter(sr=>sr.indicator===tr.id),ar=nr.map(sr=>({resultado:sr.calculatedValue,meta:parseFloat(tr.target),periodo:(()=>{switch(sr.measurementFrequency){case"monthly":return`${sr.year}-${String(sr.month).padStart(2,"0")}`;case"quarterly":return`Q${sr.quarter} ${sr.year}`;case"semesterly":return`S${sr.semester} ${sr.year}`;case"annually":return`${sr.year}`;default:return`${sr.year}`}})()})).sort((sr,ir)=>sr.periodo.localeCompare(ir.periodo));return jsxRuntimeExports.jsxs(Lt,{open:St,onClose:er,className:"relative z-50",children:[jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/30","aria-hidden":"true"}),jsxRuntimeExports.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:jsxRuntimeExports.jsxs(Lt.Panel,{className:"w-full max-w-xl rounded-xl bg-white dark:bg-gray-800 p-6 shadow-lg",children:[nr.length>0&&jsxRuntimeExports.jsxs("div",{className:"mt-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-md font-semibold mb-2",children:"Evolucin temporal"}),jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:250,children:jsxRuntimeExports.jsxs(LineChart,{data:ar,children:[jsxRuntimeExports.jsx(XAxis,{dataKey:"periodo"}),jsxRuntimeExports.jsx(YAxis,{}),jsxRuntimeExports.jsx(Tooltip,{}),jsxRuntimeExports.jsx(Legend,{}),jsxRuntimeExports.jsx(Line,{type:"monotone",dataKey:"resultado",stroke:"#3b82f6",strokeWidth:2}),jsxRuntimeExports.jsx(Line,{type:"monotone",dataKey:"meta",stroke:"#10b981",strokeDasharray:"5 5"})]})})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx(Lt.Title,{className:"text-xl font-bold text-gray-800 dark:text-white",children:"Detalle del Indicador"}),jsxRuntimeExports.jsx("button",{onClick:er,children:jsxRuntimeExports.jsx(X$3,{className:"w-6 h-6 text-gray-500 hover:text-gray-700 dark:text-white"})})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 text-sm text-gray-700 dark:text-gray-200",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Nombre:"})," ",tr.name]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Cdigo:"})," ",tr.code]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Versin:"})," ",tr.version]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Descripcin:"})," ",tr.description]}),jsxRuntimeExports.jsx("hr",{}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Frmula:"})," ",tr.numerator," / ",tr.denominator]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Unidad:"})," ",tr.measurementUnit]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Frecuencia:"})," ",tr.measurementFrequency]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Mtodo de clculo:"})," ",tr.calculationMethod]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Meta:"})," ",tr.target]}),jsxRuntimeExports.jsx("hr",{}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Responsable Numerador:"})," ",tr.numeratorResponsible]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Responsable Denominador:"})," ",tr.denominatorResponsible]})]})]})})]})}function formatPeriodo(St){switch(St.measurementFrequency){case"monthly":return`${St.year}-${String(St.month).padStart(2,"0")}`;case"quarterly":return`Q${St.quarter} ${St.year}`;case"semiannual":return`S${St.semester} ${St.year}`;case"annual":return`${St.year}`;default:return`${St.year}`}}function getIndicatorValue(St,er,tr=0){return St[er]!==void 0&&St[er]!==null?St[er]:St.indicator&&typeof St.indicator=="object"&&St.indicator[er]!==void 0?St.indicator[er]:St.headquarters&&typeof St.headquarters=="object"&&St.headquarters[er]!==void 0?St.headquarters[er]:tr}function safeFormatNumber(St,er=2){const tr=parseFloat(St);return isNaN(tr)?"0.00":tr.toFixed(er)}function IndicatorTable({data:St,loading:er}){if(er)return jsxRuntimeExports.jsx("p",{className:"text-center",children:"Cargando tabla..."});if(St.length===0)return jsxRuntimeExports.jsx("p",{className:"text-center",children:"No hay datos para mostrar."});const[tr,rr]=reactExports.useState(!1),[nr,ar]=reactExports.useState(null),sr=St.map((ir,or)=>{console.log(` Procesando item ${or}:`,ir);const lr={id:ir.id||or,headquarterName:getIndicatorValue(ir,"name","Sin sede")||getIndicatorValue(ir,"headquarterName","Sin sede"),headquarters:ir.headquarters,indicatorName:getIndicatorValue(ir,"name","Sin nombre")||getIndicatorValue(ir,"indicatorName","Sin nombre"),indicatorCode:getIndicatorValue(ir,"code","Sin cdigo")||getIndicatorValue(ir,"indicatorCode","Sin cdigo"),indicator:ir.indicator,calculatedValue:parseFloat(ir.calculatedValue||0),numerator:parseFloat(ir.numerator||0),denominator:parseFloat(ir.denominator||0),target:parseFloat(getIndicatorValue(ir,"target",0)),year:ir.year||new Date().getFullYear(),month:ir.month,quarter:ir.quarter,semester:ir.semester,measurementUnit:getIndicatorValue(ir,"measurementUnit",""),measurementFrequency:getIndicatorValue(ir,"measurementFrequency","annual"),calculationMethod:getIndicatorValue(ir,"calculationMethod",""),user:ir.user,creationDate:ir.creationDate,updateDate:ir.updateDate};return console.log(` Item procesado ${or}:`,lr),lr});return jsxRuntimeExports.jsxs("div",{className:"overflow-x-auto bg-white dark:bg-gray-800 p-4 rounded-xl shadow-md",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-4 mb-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>exportToExcel(sr),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Exportar a Excel"}),jsxRuntimeExports.jsx("button",{onClick:()=>exportToPDF(sr),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors",children:"Exportar a PDF"})]}),jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100",children:"Tabla de Resultados"}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full text-sm text-left",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-100 dark:bg-gray-700 border-b font-medium",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-gray-900 dark:text-gray-100",children:"Indicador"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-gray-900 dark:text-gray-100",children:"Sede"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-gray-900 dark:text-gray-100",children:"Resultado"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-gray-900 dark:text-gray-100",children:"Meta"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-gray-900 dark:text-gray-100",children:"Unidad"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-gray-900 dark:text-gray-100",children:"Perodo"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-gray-900 dark:text-gray-100",children:"Cumple"})]})}),jsxRuntimeExports.jsx("tbody",{children:sr.map((ir,or)=>{const lr=ir.calculatedValue>=ir.target;return jsxRuntimeExports.jsxs("tr",{className:"border-b hover:bg-gray-50 dark:hover:bg-gray-700",children:[jsxRuntimeExports.jsx("td",{className:"px-4 py-2",children:jsxRuntimeExports.jsx("button",{onClick:()=>{ar(ir),rr(!0)},className:"text-blue-600 hover:underline dark:text-blue-400",children:ir.indicatorName})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2 text-gray-900 dark:text-gray-100",children:ir.headquarterName}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2 text-gray-900 dark:text-gray-100",children:safeFormatNumber(ir.calculatedValue)}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2 text-gray-900 dark:text-gray-100",children:safeFormatNumber(ir.target)}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2 text-gray-900 dark:text-gray-100",children:ir.measurementUnit||"-"}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2 text-gray-900 dark:text-gray-100",children:formatPeriodo(ir)}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2",children:lr?jsxRuntimeExports.jsx(CircleCheckBig,{className:"text-green-500 w-5 h-5"}):jsxRuntimeExports.jsx(CircleX,{className:"text-red-500 w-5 h-5"})})]},ir.id||or)})})]})}),jsxRuntimeExports.jsx(IndicatorDetailModal,{isOpen:tr,onClose:()=>rr(!1),indicator:nr,results:sr})]})}function SummaryCards({data:St}){const er=(sr,ir=0)=>{const or=parseFloat(sr);return isNaN(or)?ir:or},tr=St.length,rr=St.filter(sr=>{var lr;const ir=er(sr.calculatedValue),or=er(sr.target||((lr=sr.indicator)==null?void 0:lr.target));return ir>=or}).length,nr=tr-rr,ar=tr>0?(rr/tr*100).toFixed(1):"0";return jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4 mb-6",children:[jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900 rounded-lg",children:jsxRuntimeExports.jsx(HiTableCells,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),jsxRuntimeExports.jsxs("div",{className:"ml-4",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Resultados"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100",children:tr})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900 rounded-lg",children:jsxRuntimeExports.jsx(HiArrowTrendingUp,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),jsxRuntimeExports.jsxs("div",{className:"ml-4",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Cumplidos"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100",children:rr})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-900 rounded-lg",children:jsxRuntimeExports.jsx(HiSparkles,{className:"w-6 h-6 text-red-600 dark:text-red-400"})}),jsxRuntimeExports.jsxs("div",{className:"ml-4",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"No Cumplidos"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100",children:nr})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900 rounded-lg",children:jsxRuntimeExports.jsx(HiChartBar,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),jsxRuntimeExports.jsxs("div",{className:"ml-4",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"% Cumplimiento"}),jsxRuntimeExports.jsxs("p",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100",children:[ar,"%"]})]})]})})]})}const COLORS=["#10b981","#ef4444"];function CompliancePieChart({data:St,loading:er}){if(er)return jsxRuntimeExports.jsx("p",{className:"text-center",children:"Cargando grfico de cumplimiento..."});if(St.length===0)return jsxRuntimeExports.jsx("p",{className:"text-center",children:"No hay datos disponibles."});const tr=St.reduce((nr,ar)=>{const sr=ar.headquarterName,ir=ar.calculatedValue>=ar.target;return nr[sr]||(nr[sr]={cumplidos:0,noCumplidos:0}),ir?nr[sr].cumplidos+=1:nr[sr].noCumplidos+=1,nr},{}),rr=Object.entries(tr).flatMap(([nr,ar])=>[{name:`${nr} (Cumple)`,value:ar.cumplidos,sede:nr},{name:`${nr} (No cumple)`,value:ar.noCumplidos,sede:nr}]);return jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-md",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Cumplimiento por sede"}),jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:300,children:jsxRuntimeExports.jsxs(PieChart,{children:[jsxRuntimeExports.jsx(Pie,{data:rr,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:100,label:!0,children:rr.map((nr,ar)=>jsxRuntimeExports.jsx(Cell$1,{fill:nr.name.includes("No")?COLORS[1]:COLORS[0]},`cell-${ar}`))}),jsxRuntimeExports.jsx(Tooltip,{}),jsxRuntimeExports.jsx(Legend,{})]})})]})}function WorstIndicatorsChart({data:St,loading:er,top:tr=5}){if(er)return jsxRuntimeExports.jsx("p",{className:"text-center",children:"Cargando ranking..."});if(!St||St.length===0)return jsxRuntimeExports.jsx("p",{className:"text-center",children:"No hay datos para mostrar."});const rr=reactExports.useMemo(()=>(console.log(" Datos recibidos en WorstIndicatorsChart:",St),St.map(nr=>{const ar=parseFloat(nr.calculatedValue)||0,sr=parseFloat(nr.target)||0,ir=ar-sr;return console.log(" Procesando item:",{id:nr.id,calculatedValue:ar,target:sr,diferencia:ir,indicatorName:nr.indicatorName,headquarterName:nr.headquarterName}),{...nr,calculatedValue:ar,target:sr,diferencia:ir,name:nr.indicatorName||nr.name||`Indicador ${nr.id}`,sede:nr.headquarterName||nr.sede||"Sin sede",displayName:`${nr.indicatorCode||nr.code||"IND"} - ${nr.headquarterName||"Sin sede"}`}}).filter(nr=>!isNaN(nr.diferencia)).sort((nr,ar)=>nr.diferencia-ar.diferencia).slice(0,tr)),[St,tr]);return console.log(" Datos procesados para grfico:",rr),rr.length===0?jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Peores Indicadores"}),jsxRuntimeExports.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400",children:"No hay datos vlidos para mostrar el ranking"})]}):jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:["Peores Indicadores (Top ",tr,")"]}),jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:400,children:jsxRuntimeExports.jsxs(BarChart,{data:rr,margin:{top:20,right:30,left:20,bottom:60},children:[jsxRuntimeExports.jsx(XAxis,{dataKey:"displayName",angle:-45,textAnchor:"end",height:80,interval:0,fontSize:12}),jsxRuntimeExports.jsx(YAxis,{label:{value:"Diferencia vs Meta",angle:-90,position:"insideLeft"}}),jsxRuntimeExports.jsx(Tooltip,{formatter:(nr,ar)=>{const sr=parseFloat(nr);return isNaN(sr)?["N/A",ar]:[sr.toFixed(2),ar]},labelFormatter:nr=>`Indicador: ${nr}`,content:({active:nr,payload:ar,label:sr})=>{if(nr&&ar&&ar.length>0){const ir=ar[0].payload;return jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700",children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:ir.name}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Sede: ",ir.sede]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Valor actual: ",ir.calculatedValue.toFixed(2)]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Meta: ",ir.target.toFixed(2)]}),jsxRuntimeExports.jsxs("p",{className:`text-sm font-medium ${ir.diferencia<0?"text-red-600":"text-green-600"}`,children:["Diferencia: ",ir.diferencia.toFixed(2)]})]})}return null}}),jsxRuntimeExports.jsx(Bar,{dataKey:"diferencia",fill:"#ef4444",radius:[4,4,0,0],children:jsxRuntimeExports.jsx(LabelList,{dataKey:"diferencia",position:"top",formatter:nr=>{const ar=parseFloat(nr);return isNaN(ar)?"N/A":ar.toFixed(1)},style:{fontSize:"12px",fill:"#374151"}})})]})})]})}function DashboardPage(){const{data:St,loading:er,error:tr}=useResultsData(),[rr,nr]=reactExports.useState(""),[ar,sr]=reactExports.useState(""),[ir,or]=reactExports.useState(""),[lr,cr]=reactExports.useState(""),[ur,dr]=reactExports.useState(""),fr=reactExports.useMemo(()=>!St||!Array.isArray(St)?(console.warn(" Data no es un array vlido:",St),[]):St,[St]),mr=reactExports.useMemo(()=>fr.length===0?[]:[...new Set(fr.map(yr=>yr.headquarterName))].filter(Boolean),[fr]),xr=reactExports.useMemo(()=>fr.length===0?[]:[...new Set(fr.map(yr=>yr.indicatorName))].filter(Boolean),[fr]),pr=reactExports.useMemo(()=>fr.length===0?[]:[...new Set(fr.map(yr=>yr.measurementUnit))].filter(Boolean),[fr]),hr=reactExports.useMemo(()=>fr.length===0?[]:[...new Set(fr.map(yr=>yr.measurementFrequency))].filter(Boolean),[fr]),gr=reactExports.useMemo(()=>fr.length===0?[]:[...new Set(fr.map(yr=>String(yr.year)))].filter(Boolean).sort((yr,Er)=>Number(Er)-Number(yr)),[fr]),vr=reactExports.useMemo(()=>fr.length===0?[]:fr.filter(yr=>{if(!yr)return!1;const Er=!rr||yr.headquarterName&&yr.headquarterName===rr,jr=!ar||yr.indicatorName&&yr.indicatorName===ar,_r=!ir||yr.measurementUnit&&yr.measurementUnit===ir,Cr=!lr||yr.measurementFrequency&&yr.measurementFrequency===lr,Or=!ur||yr.year&&String(yr.year)===ur;return Er&&jr&&_r&&Cr&&Or}),[fr,rr,ar,ir,lr,ur]),br=()=>{nr(""),sr(""),or(""),cr(""),dr("")};return tr?jsxRuntimeExports.jsx("div",{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-red-800 dark:text-red-200 font-medium",children:"Error al cargar datos"}),jsxRuntimeExports.jsx("p",{className:"text-red-600 dark:text-red-300 text-sm mt-1",children:tr}),jsxRuntimeExports.jsx("button",{onClick:()=>window.location.reload(),className:"mt-3 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Reintentar"})]})}):er?jsxRuntimeExports.jsx("div",{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center h-64",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Cargando datos del dashboard..."})]})}):fr.length===0?jsxRuntimeExports.jsx("div",{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-6 text-center",children:[jsxRuntimeExports.jsx("h3",{className:"text-yellow-800 dark:text-yellow-200 font-medium mb-2",children:"No hay datos disponibles"}),jsxRuntimeExports.jsx("p",{className:"text-yellow-600 dark:text-yellow-300 text-sm",children:"No se encontraron resultados para mostrar en el dashboard. Asegrate de que existan resultados de indicadores cargados en el sistema."})]})}):jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-6",children:[!1,jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:"Dashboard de Resultados"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Visualizacin y anlisis de indicadores institucionales"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Filtros"}),jsxRuntimeExports.jsx("button",{onClick:br,className:"px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"Limpiar filtros"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-5 gap-4",children:[jsxRuntimeExports.jsx(FilterSelect,{label:"Sede",options:mr,value:rr,onChange:nr}),jsxRuntimeExports.jsx(FilterSelect,{label:"Indicador",options:xr,value:ar,onChange:sr}),jsxRuntimeExports.jsx(FilterSelect,{label:"Unidad de Medida",options:pr,value:ir,onChange:or}),jsxRuntimeExports.jsx(FilterSelect,{label:"Frecuencia",options:hr,value:lr,onChange:cr}),jsxRuntimeExports.jsx(FilterSelect,{label:"Ao",options:gr,value:ur,onChange:dr})]})]}),jsxRuntimeExports.jsx(SummaryCards,{data:vr}),jsxRuntimeExports.jsx(IndicatorBarChart,{data:vr,loading:!1}),jsxRuntimeExports.jsx(TimeSeriesChart,{data:vr,loading:!1}),jsxRuntimeExports.jsx(CompliancePieChart,{data:vr,loading:!1}),jsxRuntimeExports.jsx(WorstIndicatorsChart,{data:vr,loading:!1}),jsxRuntimeExports.jsx(IndicatorTable,{data:vr,loading:!1})]})}class IndicadoresApiService{constructor(){_i(this,"baseUrl","/indicators")}async getIndicators(){try{const er=await axiosInstance.get(`${this.baseUrl}/indicators/`);return console.log(" Respuesta API (lista indicadores):",er.data),er.data}catch(er){throw console.error(" Error al obtener indicadores:",er),new Error("Error al cargar los indicadores")}}async getIndicatorById(er){try{const tr=await axiosInstance.get(`${this.baseUrl}/indicators/${er}/`);return console.log(" Respuesta API (indicador individual):",tr.data),tr.data}catch(tr){throw console.error(` Error al obtener indicador ${er}:`,tr),new Error(`Error al cargar el indicador con ID ${er}`)}}async createIndicator(er){var tr;try{if(console.log(" Enviando indicador al backend:",er),!er.process||er.process===0)throw new Error("Debe seleccionar un proceso vlido");const rr=await axiosInstance.post(`${this.baseUrl}/indicators/`,er);return console.log(" Respuesta del backend:",rr.data),rr.data}catch(rr){if(console.error(" Error al crear indicador:",rr),(tr=rr.response)!=null&&tr.data){const nr=rr.response.data;if(typeof nr=="object"){const ar=Object.entries(nr).map(([sr,ir])=>`${sr}: ${Array.isArray(ir)?ir.join(", "):ir}`).join(`
`);throw new Error(`Errores de validacin:
${ar}`)}}throw new Error(rr.message||"Error al crear el indicador")}}async updateIndicator(er){var tr;try{console.log(" Actualizando indicador:",er);const rr=await axiosInstance.put(`${this.baseUrl}/indicators/${er.id}/`,er);return console.log(" Respuesta de actualizacin:",rr.data),rr.data}catch(rr){if(console.error(" Error al actualizar indicador:",rr),(tr=rr.response)!=null&&tr.data){const nr=rr.response.data;if(typeof nr=="object"){const ar=Object.entries(nr).map(([sr,ir])=>`${sr}: ${Array.isArray(ir)?ir.join(", "):ir}`).join(`
`);throw new Error(`Errores de validacin:
${ar}`)}}throw new Error(rr.message||"Error al actualizar el indicador")}}async deleteIndicator(er){var tr,rr;try{await axiosInstance.delete(`${this.baseUrl}/indicators/${er}/`),console.log(` Indicador ${er} eliminado exitosamente`)}catch(nr){throw console.error(` Error al eliminar indicador ${er}:`,nr),new Error(`Error al eliminar el indicador: ${((rr=(tr=nr.response)==null?void 0:tr.data)==null?void 0:rr.detail)||nr.message}`)}}async toggleIndicatorStatus(er,tr){var rr,nr;try{const ar=await axiosInstance.patch(`${this.baseUrl}/indicators/${er}/`,{status:tr});return console.log(` Estado del indicador ${er} cambiado a:`,tr),ar.data}catch(ar){throw console.error(` Error al cambiar estado del indicador ${er}:`,ar),new Error(`Error al cambiar el estado: ${((nr=(rr=ar.response)==null?void 0:rr.data)==null?void 0:nr.detail)||ar.message}`)}}async getProcesses(){try{const er=await axiosInstance.get("/companies/processes/");return console.log(" Procesos obtenidos:",er.data),er.data}catch(er){throw console.error(" Error al obtener procesos:",er),new Error("Error al cargar los procesos")}}}class ApiIndicatorRepository{constructor(){_i(this,"apiService");this.apiService=new IndicadoresApiService}async getAll(){return await this.apiService.getIndicators()}async getById(er){try{return await this.apiService.getIndicatorById(er)}catch{return null}}async create(er){return await this.apiService.createIndicator(er)}async update(er){return await this.apiService.updateIndicator(er)}async delete(er){await this.apiService.deleteIndicator(er)}async toggleStatus(er,tr){return await this.apiService.toggleIndicatorStatus(er,tr)}async getProcesses(){return await this.apiService.getProcesses()}}class GetIndicatorsUseCase{constructor(er){_i(this,"indicatorRepository");this.indicatorRepository=er}async execute(){return await this.indicatorRepository.getAll()}}class CreateIndicatorUseCase{constructor(er){_i(this,"indicatorRepository");this.indicatorRepository=er}async execute(er){if(!er.name||er.name.trim()==="")throw new Error("El nombre del indicador es obligatorio");if(!er.code||er.code.trim()==="")throw new Error("El cdigo del indicador es obligatorio");if(Number(er.target)<0)throw new Error("La meta debe ser un nmero positivo");return await this.indicatorRepository.create(er)}}class IndicatorService{constructor(){_i(this,"repository");_i(this,"getIndicatorsUseCase");_i(this,"createIndicatorUseCase");this.repository=new ApiIndicatorRepository,this.getIndicatorsUseCase=new GetIndicatorsUseCase(this.repository),this.createIndicatorUseCase=new CreateIndicatorUseCase(this.repository)}async getAllIndicators(){return await this.getIndicatorsUseCase.execute()}async createIndicator(er){return await this.createIndicatorUseCase.execute(er)}async updateIndicator(er){return await this.repository.update(er)}async deleteIndicator(er){await this.repository.delete(er)}async toggleIndicatorStatus(er,tr){return await this.repository.toggleStatus(er,tr)}async getProcesses(){return await this.repository.getProcesses()}}const useIndicators=()=>{const[St,er]=reactExports.useState([]),[tr,rr]=reactExports.useState([]),[nr,ar]=reactExports.useState(!0),[sr,ir]=reactExports.useState(null),or=new IndicatorService,{notifySuccess:lr,notifyError:cr}=useNotifications(),ur=async()=>{try{ar(!0),ir(null),console.log(" Iniciando carga de indicadores...");const[pr,hr]=await Promise.all([or.getAllIndicators(),or.getProcesses()]);console.log(" Indicadores cargados:",pr.length),console.log(" Procesos cargados:",hr.length),er(pr),rr(hr)}catch(pr){console.error(" Error al cargar indicadores:",pr),ir(pr.message||"Error al cargar los indicadores"),cr(pr.message||"Error al cargar los indicadores")}finally{ar(!1)}},dr=async pr=>{try{if(console.log(" Creando indicador:",pr),!pr.process||pr.process===0)return cr("Debe seleccionar un proceso"),!1;const hr=await or.createIndicator(pr);return er(gr=>[...gr,hr]),lr("Indicador creado exitosamente"),console.log(" Indicador creado:",hr),!0}catch(hr){return console.error(" Error al crear indicador:",hr),cr(hr.message||"Error al crear el indicador"),!1}},fr=async pr=>{try{console.log(" Actualizando indicador:",pr);const hr=await or.updateIndicator(pr);return er(gr=>gr.map(vr=>vr.id===hr.id?hr:vr)),lr("Indicador actualizado exitosamente"),console.log(" Indicador actualizado:",hr),!0}catch(hr){return console.error(" Error al actualizar indicador:",hr),cr(hr.message||"Error al actualizar el indicador"),!1}},mr=async pr=>{try{return console.log(" Eliminando indicador:",pr),await or.deleteIndicator(pr),er(hr=>hr.filter(gr=>gr.id!==pr)),lr("Indicador eliminado exitosamente"),console.log(" Indicador eliminado:",pr),!0}catch(hr){return console.error(" Error al eliminar indicador:",hr),cr(hr.message||"Error al eliminar el indicador"),!1}},xr=async(pr,hr)=>{try{console.log(` Cambiando estado del indicador ${pr} a:`,hr);const gr=await or.toggleIndicatorStatus(pr,hr);return er(vr=>vr.map(br=>br.id===gr.id?gr:br)),lr(`Indicador ${hr?"activado":"inactivado"} exitosamente`),console.log(" Estado cambiado:",gr),!0}catch(gr){return console.error(" Error al cambiar estado:",gr),cr(gr.message||"Error al cambiar el estado del indicador"),!1}};return reactExports.useEffect(()=>{ur()},[]),{indicators:St,processes:tr,loading:nr,error:sr,fetchIndicators:ur,createIndicator:dr,updateIndicator:fr,deleteIndicator:mr,toggleIndicatorStatus:xr}},CALCULATION_METHODS=[{value:"percentage",label:"Porcentaje"},{value:"rate_per_1000",label:"Tasa por 1000"},{value:"rate_per_10000",label:"Tasa por 10000"},{value:"average",label:"Promedio"},{value:"ratio",label:"Razn"}],MEASUREMENT_FREQUENCIES=[{value:"monthly",label:"Mensual"},{value:"quarterly",label:"Trimestral"},{value:"semiannual",label:"Semestral"},{value:"annual",label:"Anual"}],TREND_OPTIONS=[{value:"increasing",label:"Creciente"},{value:"decreasing",label:"Decreciente"}],MONTHS=[{value:1,label:"Enero"},{value:2,label:"Febrero"},{value:3,label:"Marzo"},{value:4,label:"Abril"},{value:5,label:"Mayo"},{value:6,label:"Junio"},{value:7,label:"Julio"},{value:8,label:"Agosto"},{value:9,label:"Septiembre"},{value:10,label:"Octubre"},{value:11,label:"Noviembre"},{value:12,label:"Diciembre"}],QUARTERS=[{value:1,label:"Q1 - Primer Trimestre"},{value:2,label:"Q2 - Segundo Trimestre"},{value:3,label:"Q3 - Tercer Trimestre"},{value:4,label:"Q4 - Cuarto Trimestre"}],SEMESTERS=[{value:1,label:"Primer Semestre"},{value:2,label:"Segundo Semestre"}],YEARS=Array.from({length:11},(St,er)=>{const tr=new Date().getFullYear()-5+er;return{value:tr,label:tr.toString()}}),IndicatorForm=({indicator:St,processes:er,onSubmit:tr,loading:rr})=>{const{user:nr}=useAuthContext(),[ar,sr]=reactExports.useState({name:(St==null?void 0:St.name)||"",description:(St==null?void 0:St.description)||"",code:(St==null?void 0:St.code)||"",version:(St==null?void 0:St.version)||"1.0",calculationMethod:(St==null?void 0:St.calculationMethod)||"percentage",measurementUnit:(St==null?void 0:St.measurementUnit)||"",numerator:(St==null?void 0:St.numerator)||"",numeratorResponsible:(St==null?void 0:St.numeratorResponsible)||"",numeratorSource:(St==null?void 0:St.numeratorSource)||"",numeratorDescription:(St==null?void 0:St.numeratorDescription)||"",denominator:(St==null?void 0:St.denominator)||"",denominatorResponsible:(St==null?void 0:St.denominatorResponsible)||"",denominatorSource:(St==null?void 0:St.denominatorSource)||"",denominatorDescription:(St==null?void 0:St.denominatorDescription)||"",trend:(St==null?void 0:St.trend)||"increasing",target:(St==null?void 0:St.target)||"",author:(St==null?void 0:St.author)||"",process:(St==null?void 0:St.process)||0,measurementFrequency:(St==null?void 0:St.measurementFrequency)||"quarterly",status:(St==null?void 0:St.status)??!0,user:(nr==null?void 0:nr.id)||(St==null?void 0:St.user)||0}),[ir,or]=reactExports.useState({}),lr=dr=>{const{name:fr,value:mr,type:xr}=dr.target;let pr=mr;xr==="checkbox"?pr=dr.target.checked:fr==="Process"&&(pr=parseInt(mr)||0),sr(hr=>({...hr,[fr]:pr})),ir[fr]&&or(hr=>({...hr,[fr]:""}))},cr=()=>{var fr,mr,xr,pr,hr,gr,vr,br,yr;const dr={};return(fr=ar.name)!=null&&fr.trim()||(dr.name="El nombre es obligatorio"),(mr=ar.description)!=null&&mr.trim()||(dr.description="La descripcin es obligatoria"),(xr=ar.code)!=null&&xr.trim()||(dr.code="El cdigo es obligatorio"),(pr=ar.version)!=null&&pr.trim()||(dr.version="La versin es obligatoria"),(hr=ar.measurementUnit)!=null&&hr.trim()||(dr.measurementUnit="La unidad de medida es obligatoria"),(gr=ar.numerator)!=null&&gr.trim()||(dr.numerator="El numerador es obligatorio"),(vr=ar.denominator)!=null&&vr.trim()||(dr.denominator="El denominador es obligatorio"),(br=ar.target)!=null&&br.trim()||(dr.target="La meta es obligatoria"),(yr=ar.author)!=null&&yr.trim()||(dr.author="El autor es obligatorio"),(!ar.process||ar.process===0)&&(dr.process="Debe seleccionar un proceso"),or(dr),Object.keys(dr).length===0},ur=dr=>{if(dr.preventDefault(),!cr())return;const fr={...ar,user:(nr==null?void 0:nr.id)||ar.user||0};St!=null&&St.id&&(fr.id=St.id),tr(fr)};return jsxRuntimeExports.jsxs("form",{onSubmit:ur,className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx("div",{className:"md:col-span-2",children:jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Informacin Bsica"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Nombre *"}),jsxRuntimeExports.jsx("input",{type:"text",name:"name",value:ar.name||"",onChange:lr,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${ir.name?"border-red-500":"border-gray-300 dark:border-gray-600"} bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100`}),ir.name&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:ir.name})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Cdigo *"}),jsxRuntimeExports.jsx("input",{type:"text",name:"code",value:ar.code||"",onChange:lr,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${ir.code?"border-red-500":"border-gray-300 dark:border-gray-600"} bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100`}),ir.code&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:ir.code})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Versin *"}),jsxRuntimeExports.jsx("input",{type:"text",name:"version",value:ar.version||"",onChange:lr,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${ir.version?"border-red-500":"border-gray-300 dark:border-gray-600"} bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100`}),ir.version&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:ir.version})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Proceso *"}),jsxRuntimeExports.jsxs("select",{name:"process",value:ar.process||"",onChange:lr,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${ir.process?"border-red-500":"border-gray-300 dark:border-gray-600"} bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100`,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Seleccionar proceso"}),er.map(dr=>jsxRuntimeExports.jsx("option",{value:dr.id,children:dr.name},dr.id))]}),ir.process&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:ir.process})]}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Descripcin *"}),jsxRuntimeExports.jsx("textarea",{name:"description",value:ar.description||"",onChange:lr,rows:3,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${ir.description?"border-red-500":"border-gray-300 dark:border-gray-600"} bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100`}),ir.description&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:ir.description})]}),jsxRuntimeExports.jsx("div",{className:"md:col-span-2",children:jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4 mt-6",children:"Configuracin del Clculo"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Mtodo de Clculo *"}),jsxRuntimeExports.jsx("select",{name:"calculationMethod",value:ar.calculationMethod||"",onChange:lr,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:CALCULATION_METHODS.map(dr=>jsxRuntimeExports.jsx("option",{value:dr.value,children:dr.label},dr.value))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Unidad de Medida *"}),jsxRuntimeExports.jsx("input",{type:"text",name:"measurementUnit",value:ar.measurementUnit||"",onChange:lr,placeholder:"%, cantidad, etc.",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${ir.measurementUnit?"border-red-500":"border-gray-300 dark:border-gray-600"} bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100`}),ir.measurementUnit&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:ir.measurementUnit})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Frecuencia de Medicin *"}),jsxRuntimeExports.jsx("select",{name:"measurementFrequency",value:ar.measurementFrequency||"",onChange:lr,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:MEASUREMENT_FREQUENCIES.map(dr=>jsxRuntimeExports.jsx("option",{value:dr.value,children:dr.label},dr.value))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Tendencia *"}),jsxRuntimeExports.jsx("select",{name:"trend",value:ar.trend||"",onChange:lr,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:TREND_OPTIONS.map(dr=>jsxRuntimeExports.jsx("option",{value:dr.value,children:dr.label},dr.value))})]}),jsxRuntimeExports.jsx("div",{className:"md:col-span-2",children:jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4 mt-6",children:"Numerador"})}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Definicin del Numerador *"}),jsxRuntimeExports.jsx("textarea",{name:"numerator",value:ar.numerator||"",onChange:lr,rows:2,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${ir.numerator?"border-red-500":"border-gray-300 dark:border-gray-600"} bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100`}),ir.numerator&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:ir.numerator})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Responsable del Numerador"}),jsxRuntimeExports.jsx("input",{type:"text",name:"numeratorResponsible",value:ar.numeratorResponsible||"",onChange:lr,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Fuente del Numerador"}),jsxRuntimeExports.jsx("input",{type:"text",name:"numeratorSource",value:ar.numeratorSource||"",onChange:lr,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Descripcin del Numerador"}),jsxRuntimeExports.jsx("textarea",{name:"numeratorDescription",value:ar.numeratorDescription||"",onChange:lr,rows:2,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),jsxRuntimeExports.jsx("div",{className:"md:col-span-2",children:jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4 mt-6",children:"Denominador"})}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Definicin del Denominador *"}),jsxRuntimeExports.jsx("textarea",{name:"denominator",value:ar.denominator||"",onChange:lr,rows:2,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${ir.denominator?"border-red-500":"border-gray-300 dark:border-gray-600"} bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100`}),ir.denominator&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:ir.denominator})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Responsable del Denominador"}),jsxRuntimeExports.jsx("input",{type:"text",name:"denominatorResponsible",value:ar.denominatorResponsible||"",onChange:lr,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Fuente del Denominador"}),jsxRuntimeExports.jsx("input",{type:"text",name:"denominatorSource",value:ar.denominatorSource||"",onChange:lr,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Descripcin del Denominador"}),jsxRuntimeExports.jsx("textarea",{name:"denominatorDescription",value:ar.denominatorDescription||"",onChange:lr,rows:2,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),jsxRuntimeExports.jsx("div",{className:"md:col-span-2",children:jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4 mt-6",children:"Informacin Adicional"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Meta *"}),jsxRuntimeExports.jsx("input",{type:"text",name:"target",value:ar.target||"",onChange:lr,placeholder:"95%, 100 casos, etc.",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${ir.target?"border-red-500":"border-gray-300 dark:border-gray-600"} bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100`}),ir.target&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:ir.target})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Autor *"}),jsxRuntimeExports.jsx("input",{type:"text",name:"author",value:ar.author||"",onChange:lr,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${ir.author?"border-red-500":"border-gray-300 dark:border-gray-600"} bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100`}),ir.author&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:ir.author})]}),jsxRuntimeExports.jsx("div",{className:"md:col-span-2",children:jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"status",checked:ar.status||!1,onChange:lr,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:"Indicador activo"})]})})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:jsxRuntimeExports.jsxs("button",{type:"submit",disabled:rr,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white rounded-lg font-medium transition-colors duration-200 flex items-center gap-2",children:[rr&&jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),rr?"Guardando...":St?"Actualizar":"Crear"," Indicador"]})})]})},FilterPanel$1=({searchTerm:St,onSearchChange:er,selectedStatus:tr,onStatusChange:rr,selectedFrequency:nr,onFrequencyChange:ar,onClearFilters:sr})=>jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[jsxRuntimeExports.jsx(HiAdjustmentsHorizontal,{className:"w-5 h-5 text-blue-600"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Filtros"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(HiMagnifyingGlass,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Buscar indicadores...",value:St,onChange:ir=>er(ir.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),jsxRuntimeExports.jsxs("select",{value:tr,onChange:ir=>rr(ir.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Todos los estados"}),jsxRuntimeExports.jsx("option",{value:"true",children:"Activos"}),jsxRuntimeExports.jsx("option",{value:"false",children:"Inactivos"})]}),jsxRuntimeExports.jsxs("select",{value:nr,onChange:ir=>ar(ir.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Todas las frecuencias"}),jsxRuntimeExports.jsx("option",{value:"monthly",children:"Mensual"}),jsxRuntimeExports.jsx("option",{value:"quarterly",children:"Trimestral"}),jsxRuntimeExports.jsx("option",{value:"semiannual",children:"Semestral"}),jsxRuntimeExports.jsx("option",{value:"annual",children:"Anual"})]}),jsxRuntimeExports.jsx("button",{onClick:sr,className:"px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg transition-colors duration-200",children:"Limpiar filtros"})]})]}),LoadingSpinner$1=()=>jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center py-12",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),CrudModal$1=({isOpen:St,onClose:er,title:tr,children:rr})=>St?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 dark:border-gray-700",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:tr}),jsxRuntimeExports.jsx("button",{onClick:er,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",children:""})]}),jsxRuntimeExports.jsx("div",{className:"p-6",children:rr})]})}):null,DeleteConfirmModal$1=({isOpen:St,onClose:er,onConfirm:tr,loading:rr,itemName:nr})=>St?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-md w-full",children:jsxRuntimeExports.jsxs("div",{className:"p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Eliminar Indicador"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Ests seguro de que deseas eliminar este indicador? Esta accin no se puede deshacer."}),jsxRuntimeExports.jsxs("p",{className:"font-medium text-gray-900 dark:text-gray-100 mb-6",children:["Elemento: ",nr]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-3",children:[jsxRuntimeExports.jsx("button",{onClick:er,disabled:rr,className:"px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"Cancelar"}),jsxRuntimeExports.jsx("button",{onClick:tr,disabled:rr,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:rr?"Eliminando...":"Eliminar"})]})]})})}):null,IndicatorsTable=({data:St,onEdit:er,onDelete:tr,onView:rr})=>jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Cdigo"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Nombre"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Frecuencia"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Meta"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Estado"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Acciones"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:St.map(nr=>{var ar;return jsxRuntimeExports.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-100",children:nr.code}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:nr.name}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[(ar=nr.description)==null?void 0:ar.substring(0,50),"..."]})]})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:nr.measurementFrequency}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:nr.target}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${nr.status?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:nr.status?"Activo":"Inactivo"})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>rr(nr),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300 p-1 rounded",title:"Ver detalles",children:jsxRuntimeExports.jsx(HiEye,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>er(nr),className:"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-300 p-1 rounded",title:"Editar",children:jsxRuntimeExports.jsx(HiPencil,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>tr(nr),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300 p-1 rounded",title:"Eliminar",children:jsxRuntimeExports.jsx(HiTrash,{className:"w-4 h-4"})})]})})]},nr.id)})})]})})}),IndicadoresPage=()=>{const[St,er]=reactExports.useState(""),[tr,rr]=reactExports.useState(""),[nr,ar]=reactExports.useState(""),[sr,ir]=reactExports.useState(!1),[or,lr]=reactExports.useState(!1),[cr,ur]=reactExports.useState(!1),[dr,fr]=reactExports.useState(null),[mr,xr]=reactExports.useState(!1),{indicators:pr,processes:hr,loading:gr,createIndicator:vr,updateIndicator:br,deleteIndicator:yr}=useIndicators(),Er=pr.filter(Kr=>{var Vr,Jr,tn;const nn=((Vr=Kr.name)==null?void 0:Vr.toLowerCase().includes(St.toLowerCase()))||((Jr=Kr.code)==null?void 0:Jr.toLowerCase().includes(St.toLowerCase()))||!1,Qr=tr===""||((tn=Kr.status)==null?void 0:tn.toString())===tr,zr=nr===""||Kr.measurementFrequency===nr;return nn&&Qr&&zr}),jr=()=>{fr(null),ir(!0)},_r=Kr=>{fr(Kr),lr(!0)},Cr=Kr=>{fr(Kr),ur(!0)},Or=Kr=>{fr(Kr)},Pr=async Kr=>{xr(!0);let nn=!1;dr?(nn=await br({...Kr,id:dr.id}),nn&&(lr(!1),fr(null))):(nn=await vr(Kr),nn&&ir(!1)),xr(!1)},Lr=async()=>{if(!dr)return;xr(!0),await yr(dr.id)&&(ur(!1),fr(null)),xr(!1)},Gr=()=>{er(""),rr(""),ar("")};return jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Gestin de Indicadores"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Administra los indicadores de la organizacin"})]}),jsxRuntimeExports.jsxs("button",{onClick:jr,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors duration-200 shadow-lg",children:[jsxRuntimeExports.jsx(HiPlus,{className:"w-5 h-5"}),jsxRuntimeExports.jsx("span",{children:"Nuevo Indicador"})]})]})}),jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:gr?jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex justify-center items-center h-64",children:jsxRuntimeExports.jsx(LoadingSpinner$1,{})},"loading"):jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"space-y-6",children:[jsxRuntimeExports.jsx(FilterPanel$1,{searchTerm:St,onSearchChange:er,selectedStatus:tr,onStatusChange:rr,selectedFrequency:nr,onFrequencyChange:ar,onClearFilters:Gr}),jsxRuntimeExports.jsx("div",{className:"flex justify-between items-center",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(HiSparkles,{className:"w-5 h-5 text-yellow-500"}),jsxRuntimeExports.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[Er.length," indicador(es) encontrado(s)"]})]})}),jsxRuntimeExports.jsx(IndicatorsTable,{data:Er,onEdit:_r,onDelete:Cr,onView:Or}),Er.length===0&&jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("div",{className:"w-24 h-24 bg-gray-100 dark:bg-gray-800 rounded-full mx-auto mb-4 flex items-center justify-center",children:jsxRuntimeExports.jsx(HiChartBar,{className:"w-12 h-12 text-gray-400"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"No se encontraron indicadores"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Intenta ajustar los filtros o crear un nuevo indicador"})]})]},"content")}),jsxRuntimeExports.jsx(CrudModal$1,{isOpen:sr,onClose:()=>{ir(!1),fr(null)},title:"Crear Nuevo Indicador",children:jsxRuntimeExports.jsx(IndicatorForm,{processes:hr,onSubmit:Pr,loading:mr})}),jsxRuntimeExports.jsx(CrudModal$1,{isOpen:or,onClose:()=>{lr(!1),fr(null)},title:"Editar Indicador",children:jsxRuntimeExports.jsx(IndicatorForm,{indicator:dr??void 0,processes:hr,onSubmit:Pr,loading:mr})}),jsxRuntimeExports.jsx(DeleteConfirmModal$1,{isOpen:cr,onClose:()=>{ur(!1),fr(null)},onConfirm:Lr,loading:mr,itemName:(dr==null?void 0:dr.name)||""}),!1]})},useResults=()=>{const[St,er]=reactExports.useState([]),[tr,rr]=reactExports.useState([]),[nr,ar]=reactExports.useState([]),[sr,ir]=reactExports.useState([]),[or,lr]=reactExports.useState(!0),[cr,ur]=reactExports.useState(null),dr=new ResultService,{notifySuccess:fr,notifyError:mr}=useNotifications(),xr=async()=>{try{lr(!0),ur(null),console.log(" Iniciando carga de resultados...");const[yr,Er,jr,_r]=await Promise.all([dr.getAllResults(),dr.getAllResultsWithDetails(),dr.getIndicators(),dr.getHeadquarters()]);console.log(" Datos cargados:",{results:yr.length,detailedResults:Er.length,indicators:jr.length,headquarters:_r.length}),er(Array.isArray(yr)?yr:[]),rr(Array.isArray(Er)?Er:[]),ar(Array.isArray(jr)?jr:[]),ir(Array.isArray(_r)?_r:[])}catch(yr){console.error(" Error al cargar resultados:",yr),ur(yr.message||"Error al cargar los resultados"),mr("Error al cargar los resultados"),er([]),rr([]),ar([]),ir([])}finally{lr(!1)}},pr=async yr=>{try{console.log(" Creando resultado:",yr);const Er=await dr.createResult(yr);return er(jr=>[...jr,Er]),fr("Resultado creado exitosamente"),await xr(),!0}catch(Er){return console.error(" Error al crear resultado:",Er),mr(Er.message||"Error al crear el resultado"),!1}},hr=async yr=>{try{const Er=await dr.updateResult(yr);return er(jr=>jr.map(_r=>_r.id===Er.id?Er:_r)),fr("Resultado actualizado exitosamente"),await xr(),!0}catch(Er){return mr(Er.message||"Error al actualizar el resultado"),!1}},gr=async yr=>{try{return await dr.deleteResult(yr),er(Er=>Er.filter(jr=>jr.id!==yr)),rr(Er=>Er.filter(jr=>jr.id!==yr)),fr("Resultado eliminado exitosamente"),!0}catch(Er){return mr(Er.message||"Error al eliminar el resultado"),!1}},vr=async yr=>{try{return await dr.getResultsByIndicator(yr)}catch(Er){return mr(Er.message||"Error al obtener resultados por indicador"),[]}},br=async yr=>{try{return await dr.getResultsByHeadquarters(yr)}catch(Er){return mr(Er.message||"Error al obtener resultados por sede"),[]}};return reactExports.useEffect(()=>{xr()},[]),{results:St,detailedResults:tr,indicators:nr,headquarters:sr,loading:or,error:cr,fetchResults:xr,createResult:pr,updateResult:hr,deleteResult:gr,getResultsByIndicator:vr,getResultsByHeadquarters:br}},ResultForm=({result:St,indicators:er,headquarters:tr,onSubmit:rr,loading:nr})=>{const{user:ar}=useAuthContext(),[sr,ir]=reactExports.useState({headquarters:(St==null?void 0:St.headquarters)||0,indicator:(St==null?void 0:St.indicator)||0,numerator:(St==null?void 0:St.numerator)||0,denominator:(St==null?void 0:St.denominator)||0,year:(St==null?void 0:St.year)||new Date().getFullYear(),month:(St==null?void 0:St.month)||null,quarter:(St==null?void 0:St.quarter)||null,semester:(St==null?void 0:St.semester)||null,user:(ar==null?void 0:ar.id)||(St==null?void 0:St.user)||0}),[or,lr]=reactExports.useState({}),[cr,ur]=reactExports.useState(null);reactExports.useEffect(()=>{if(sr.indicator){const pr=er.find(hr=>hr.id===sr.indicator);if(ur(pr),pr){const hr={...sr};pr.measurementFrequency!=="monthly"&&(hr.month=null),pr.measurementFrequency!=="quarterly"&&(hr.quarter=null),pr.measurementFrequency!=="semiannual"&&(hr.semester=null),ir(hr)}}},[sr.indicator,er]);const dr=pr=>{const{name:hr,value:gr}=pr.target;let vr=gr;hr==="headquarters"||hr==="indicator"||hr==="year"||hr==="month"||hr==="quarter"||hr==="semester"?vr=parseInt(gr)||(hr==="month"||hr==="quarter"||hr==="semester"?null:0):(hr==="numerator"||hr==="denominator")&&(vr=parseFloat(gr)||0),ir(br=>({...br,[hr]:vr})),or[hr]&&lr(br=>({...br,[hr]:""}))},fr=()=>{const pr={};return(!sr.headquarters||sr.headquarters===0)&&(pr.headquarters="Debe seleccionar una sede"),(!sr.indicator||sr.indicator===0)&&(pr.indicator="Debe seleccionar un indicador"),(sr.numerator===void 0||sr.numerator<0)&&(pr.numerator="El numerador no puede ser negativo"),(!sr.denominator||sr.denominator<=0)&&(pr.denominator="El denominador debe ser mayor que cero"),(!sr.year||sr.year<2020||sr.year>2030)&&(pr.year="El ao debe estar entre 2020 y 2030"),cr&&(cr.measurementFrequency==="monthly"&&(!sr.month||sr.month<1||sr.month>12)&&(pr.month="Debe seleccionar un mes vlido"),cr.measurementFrequency==="quarterly"&&(!sr.quarter||sr.quarter<1||sr.quarter>4)&&(pr.quarter="Debe seleccionar un trimestre vlido"),cr.measurementFrequency==="semiannual"&&(!sr.semester||sr.semester<1||sr.semester>2)&&(pr.semester="Debe seleccionar un semestre vlido")),lr(pr),Object.keys(pr).length===0},mr=pr=>{if(pr.preventDefault(),!fr())return;const hr={...sr,user:(ar==null?void 0:ar.id)||sr.user||0};St!=null&&St.id&&(hr.id=St.id),rr(hr)},xr=()=>{if(!cr)return null;const{measurementFrequency:pr}=cr;return jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[pr==="monthly"&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Mes *"}),jsxRuntimeExports.jsxs("select",{name:"month",value:sr.month||"",onChange:dr,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${or.month?"border-red-500":"border-gray-300 dark:border-gray-600"} bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100`,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Seleccione mes"}),MONTHS.map(hr=>jsxRuntimeExports.jsx("option",{value:hr.value,children:hr.label},hr.value))]}),or.month&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:or.month})]}),pr==="quarterly"&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Trimestre *"}),jsxRuntimeExports.jsxs("select",{name:"quarter",value:sr.quarter||"",onChange:dr,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${or.quarter?"border-red-500":"border-gray-300 dark:border-gray-600"} bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100`,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Seleccione trimestre"}),QUARTERS.map(hr=>jsxRuntimeExports.jsx("option",{value:hr.value,children:hr.label},hr.value))]}),or.quarter&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:or.quarter})]}),pr==="semiannual"&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Semestre *"}),jsxRuntimeExports.jsxs("select",{name:"semester",value:sr.semester||"",onChange:dr,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${or.semester?"border-red-500":"border-gray-300 dark:border-gray-600"} bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100`,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Seleccione semestre"}),SEMESTERS.map(hr=>jsxRuntimeExports.jsx("option",{value:hr.value,children:hr.label},hr.value))]}),or.semester&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:or.semester})]})]})};return jsxRuntimeExports.jsxs("form",{onSubmit:mr,className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Sede *"}),jsxRuntimeExports.jsxs("select",{name:"headquarters",value:sr.headquarters||"",onChange:dr,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${or.headquarters?"border-red-500":"border-gray-300 dark:border-gray-600"} bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100`,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Seleccione sede"}),tr.map(pr=>jsxRuntimeExports.jsx("option",{value:pr.id,children:pr.name},pr.id))]}),or.headquarters&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:or.headquarters})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Indicador *"}),jsxRuntimeExports.jsxs("select",{name:"indicator",value:sr.indicator||"",onChange:dr,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${or.indicator?"border-red-500":"border-gray-300 dark:border-gray-600"} bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100`,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Seleccione indicador"}),er.map(pr=>jsxRuntimeExports.jsxs("option",{value:pr.id,children:[pr.code," - ",pr.name]},pr.id))]}),or.indicator&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:or.indicator})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Numerador *"}),jsxRuntimeExports.jsx("input",{type:"number",name:"numerator",value:sr.numerator||"",onChange:dr,step:"0.01",min:"0",placeholder:"Ej: 85",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${or.numerator?"border-red-500":"border-gray-300 dark:border-gray-600"} bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100`}),or.numerator&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:or.numerator})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Denominador *"}),jsxRuntimeExports.jsx("input",{type:"number",name:"denominator",value:sr.denominator||"",onChange:dr,step:"0.01",min:"0.01",placeholder:"Ej: 100",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${or.denominator?"border-red-500":"border-gray-300 dark:border-gray-600"} bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100`}),or.denominator&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:or.denominator})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Ao *"}),jsxRuntimeExports.jsxs("select",{name:"year",value:sr.year||"",onChange:dr,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${or.year?"border-red-500":"border-gray-300 dark:border-gray-600"} bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100`,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Seleccione ao"}),YEARS.map(pr=>jsxRuntimeExports.jsx("option",{value:pr.value,children:pr.label},pr.value))]}),or.year&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:or.year})]}),cr&&jsxRuntimeExports.jsxs("div",{className:"md:col-span-2 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-200 mb-2",children:"Informacin del Indicador"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 text-sm text-blue-800 dark:text-blue-300",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{children:"Cdigo:"})," ",cr.code]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{children:"Frecuencia:"})," ",cr.measurementFrequency]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{children:"Nombre:"})," ",cr.name]})]})]}),cr&&jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100 mb-3",children:"Perodo de Medicin"}),xr()]})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:jsxRuntimeExports.jsxs("button",{type:"submit",disabled:nr,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white rounded-lg font-medium transition-colors duration-200 flex items-center gap-2",children:[nr&&jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),St?"Actualizar":"Crear"," Resultado"]})})]})},LoadingSpinner=()=>jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center py-12",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})}),CrudModal=({isOpen:St,onClose:er,title:tr,children:rr})=>St?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 dark:border-gray-700",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:tr}),jsxRuntimeExports.jsx("button",{onClick:er,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",children:""})]}),jsxRuntimeExports.jsx("div",{className:"p-6",children:rr})]})}):null,DeleteConfirmModal=({isOpen:St,onClose:er,onConfirm:tr,loading:rr,itemName:nr})=>St?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-md w-full",children:jsxRuntimeExports.jsxs("div",{className:"p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Eliminar Resultado"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Ests seguro de que deseas eliminar este resultado? Esta accin no se puede deshacer."}),jsxRuntimeExports.jsxs("p",{className:"font-medium text-gray-900 dark:text-gray-100 mb-6",children:["Elemento: ",nr]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-3",children:[jsxRuntimeExports.jsx("button",{onClick:er,disabled:rr,className:"px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"Cancelar"}),jsxRuntimeExports.jsx("button",{onClick:tr,disabled:rr,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:rr?"Eliminando...":"Eliminar"})]})]})})}):null,FilterPanel=({searchTerm:St,onSearchChange:er,selectedIndicator:tr,onIndicatorChange:rr,selectedHeadquarters:nr,onHeadquartersChange:ar,selectedYear:sr,onYearChange:ir,onClearFilters:or,indicators:lr,headquarters:cr,years:ur})=>jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[jsxRuntimeExports.jsx(HiAdjustmentsHorizontal,{className:"w-5 h-5 text-green-600"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Filtros"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(HiMagnifyingGlass,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Buscar resultados...",value:St,onChange:dr=>er(dr.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),jsxRuntimeExports.jsxs("select",{value:tr,onChange:dr=>rr(dr.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Todos los indicadores"}),lr.map(dr=>jsxRuntimeExports.jsx("option",{value:dr.id,children:dr.name},dr.id))]}),jsxRuntimeExports.jsxs("select",{value:nr,onChange:dr=>ar(dr.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Todas las sedes"}),cr.map(dr=>jsxRuntimeExports.jsx("option",{value:dr.id,children:dr.name},dr.id))]}),jsxRuntimeExports.jsxs("select",{value:sr,onChange:dr=>ir(dr.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Todos los aos"}),ur.map(dr=>jsxRuntimeExports.jsx("option",{value:dr.value,children:dr.label},dr.value))]}),jsxRuntimeExports.jsx("button",{onClick:or,className:"px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg transition-colors duration-200",children:"Limpiar filtros"})]})]}),ResultsTable=({data:St,onEdit:er,onDelete:tr,onView:rr})=>jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Indicador"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Sede"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Resultado"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Meta"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Ao"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Acciones"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:St.map(nr=>{var ar;return jsxRuntimeExports.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:nr.indicatorName}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:nr.indicatorCode})]})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:nr.headquarterName}),jsxRuntimeExports.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:[((ar=nr.calculatedValue)==null?void 0:ar.toFixed(2))||"0.00"," ",nr.measurementUnit]}),jsxRuntimeExports.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:[nr.target," ",nr.measurementUnit]}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:nr.year}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>rr(nr),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300 p-1 rounded",title:"Ver detalles",children:jsxRuntimeExports.jsx(HiEye,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>er(nr),className:"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-300 p-1 rounded",title:"Editar",children:jsxRuntimeExports.jsx(HiPencil,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>tr(nr),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300 p-1 rounded",title:"Eliminar",children:jsxRuntimeExports.jsx(HiTrash,{className:"w-4 h-4"})})]})})]},nr.id)})})]})})}),DashboardMetrics=({data:St})=>jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900 rounded-lg",children:jsxRuntimeExports.jsx(HiTableCells,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),jsxRuntimeExports.jsxs("div",{className:"ml-4",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Resultados"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100",children:St.totalResults})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900 rounded-lg",children:jsxRuntimeExports.jsx(HiSparkles,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),jsxRuntimeExports.jsxs("div",{className:"ml-4",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Cumplimiento Promedio"}),jsxRuntimeExports.jsxs("p",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100",children:[St.avgCompliance.toFixed(1),"%"]})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"p-3 bg-yellow-100 dark:bg-yellow-900 rounded-lg",children:jsxRuntimeExports.jsx(HiSparkles,{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})}),jsxRuntimeExports.jsxs("div",{className:"ml-4",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Alto Rendimiento"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100",children:St.highPerformance})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900 rounded-lg",children:jsxRuntimeExports.jsx(HiTableCells,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),jsxRuntimeExports.jsxs("div",{className:"ml-4",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Indicadores nicos"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100",children:St.uniqueIndicators})]})]})})]}),ResultadosPage=()=>{const[St,er]=reactExports.useState(""),[tr,rr]=reactExports.useState(""),[nr,ar]=reactExports.useState(""),[sr,ir]=reactExports.useState(""),[or,lr]=reactExports.useState(!1),[cr,ur]=reactExports.useState(!1),[dr,fr]=reactExports.useState(!1),[mr,xr]=reactExports.useState(!1),[pr,hr]=reactExports.useState(null),[gr,vr]=reactExports.useState(!1),{detailedResults:br,indicators:yr,headquarters:Er,loading:jr,createResult:_r,updateResult:Cr,deleteResult:Or}=useResults(),Pr=br.filter(Yr=>{const Sr=Yr.indicatorName.toLowerCase().includes(St.toLowerCase())||Yr.indicatorCode.toLowerCase().includes(St.toLowerCase())||Yr.headquarterName.toLowerCase().includes(St.toLowerCase()),Rr=tr===""||Yr.indicator.toString()===tr,Tr=nr===""||Yr.headquarters.toString()===nr,Dr=sr===""||Yr.year.toString()===sr;return Sr&&Rr&&Tr&&Dr}),Lr={totalResults:br.length,avgCompliance:br.length>0?br.reduce((Yr,Sr)=>{const Rr=parseFloat(Sr.target);return isNaN(Rr)||Rr===0?Yr:Yr+(Sr.calculatedValue||0)/Rr*100},0)/br.length:0,highPerformance:br.filter(Yr=>{const Sr=parseFloat(Yr.target);return isNaN(Sr)||Sr===0?!1:(Yr.calculatedValue||0)/Sr*100>=95}).length,uniqueIndicators:new Set(br.map(Yr=>Yr.indicator)).size},Gr=Array.from(new Set(br.map(Yr=>Yr.year))).sort((Yr,Sr)=>Sr-Yr).map(Yr=>({value:Yr,label:Yr.toString()})),Kr=()=>{hr(null),lr(!0)},nn=Yr=>{hr(Yr),ur(!0)},Qr=Yr=>{hr(Yr),fr(!0)},zr=Yr=>{hr(Yr),xr(!0)},Vr=async Yr=>{vr(!0);let Sr=!1;pr?(Sr=await Cr({...Yr,id:pr.id}),Sr&&(ur(!1),hr(null))):(Sr=await _r(Yr),Sr&&lr(!1)),vr(!1)},Jr=async()=>{if(!pr)return;vr(!0),await Or(pr.id)&&(fr(!1),hr(null)),vr(!1)},tn=()=>{er(""),rr(""),ar(""),ir("")};return jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Gestin de Resultados"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Registro y seguimiento de resultados de indicadores"})]}),jsxRuntimeExports.jsxs("button",{onClick:Kr,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors duration-200 shadow-lg",children:[jsxRuntimeExports.jsx(HiPlus,{className:"w-5 h-5"}),jsxRuntimeExports.jsx("span",{children:"Nuevo Resultado"})]})]})}),jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:jr?jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex justify-center items-center h-64",children:jsxRuntimeExports.jsx(LoadingSpinner,{})},"loading"):jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"space-y-6",children:[jsxRuntimeExports.jsx(DashboardMetrics,{data:Lr}),jsxRuntimeExports.jsx(FilterPanel,{searchTerm:St,onSearchChange:er,selectedIndicator:tr,onIndicatorChange:rr,selectedHeadquarters:nr,onHeadquartersChange:ar,selectedYear:sr,onYearChange:ir,onClearFilters:tn,indicators:yr,headquarters:Er,years:Gr}),jsxRuntimeExports.jsx("div",{className:"flex justify-between items-center",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(HiSparkles,{className:"w-5 h-5 text-yellow-500"}),jsxRuntimeExports.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[Pr.length," resultado(s) encontrado(s)"]})]})}),jsxRuntimeExports.jsx(ResultsTable,{data:Pr,onEdit:nn,onDelete:Qr,onView:zr})]},"content")}),jsxRuntimeExports.jsx(CrudModal,{isOpen:or,onClose:()=>{lr(!1),hr(null)},title:"Crear Nuevo Resultado",children:jsxRuntimeExports.jsx(ResultForm,{indicators:yr,headquarters:Er,onSubmit:Vr,loading:gr})}),jsxRuntimeExports.jsx(CrudModal,{isOpen:cr,onClose:()=>{ur(!1),hr(null)},title:"Editar Resultado",children:jsxRuntimeExports.jsx(ResultForm,{result:pr??void 0,indicators:yr,headquarters:Er,onSubmit:Vr,loading:gr})}),jsxRuntimeExports.jsx(DeleteConfirmModal,{isOpen:dr,onClose:()=>{fr(!1),hr(null)},onConfirm:Jr,loading:gr,itemName:(pr==null?void 0:pr.indicatorName)||""})]})};function SiTailwindcss(St){return GenIcon({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"title",attr:{},child:[]},{tag:"path",attr:{d:"M12.001,4.8c-3.2,0-5.2,1.6-6,4.8c1.2-1.6,2.6-2.2,4.2-1.8c0.913,0.228,1.565,0.89,2.288,1.624 C13.666,10.618,15.027,12,18.001,12c3.2,0,5.2-1.6,6-4.8c-1.2,1.6-2.6,2.2-4.2,1.8c-0.913-0.228-1.565-0.89-2.288-1.624 C16.337,6.182,14.976,4.8,12.001,4.8z M6.001,12c-3.2,0-5.2,1.6-6,4.8c1.2-1.6,2.6-2.2,4.2-1.8c0.913,0.228,1.565,0.89,2.288,1.624 c1.177,1.194,2.538,2.576,5.512,2.576c3.2,0,5.2-1.6,6-4.8c-1.2,1.6-2.6,2.2-4.2,1.8c-0.913-0.228-1.565-0.89-2.288-1.624 C10.337,13.382,8.976,12,6.001,12z"}}]})(St)}const containerVariants={hidden:{opacity:1},visible:{opacity:1,transition:{staggerChildren:.3}}},sectionVariants={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.6,ease:["easeOut"]}}},cardVariants={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}},techCardVariants={hidden:{opacity:0,scale:.8},visible:{opacity:1,scale:1,transition:{duration:.5,ease:"easeOut",type:"spring",bounce:.4}}},About=()=>{const St=useReducedMotion(),er=useNavigate(),tr={hidden:{opacity:0,x:-20},visible:{opacity:1,x:0,transition:{duration:.5,ease:["easeInOut"]}}};return jsxRuntimeExports.jsxs(motion.div,{initial:"hidden",animate:"visible",variants:St?{}:containerVariants,className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-10 text-gray-800 dark:text-gray-100",children:[jsxRuntimeExports.jsxs(motion.button,{variants:tr,whileHover:St?{}:{scale:1.05,boxShadow:"0 4px 8px rgba(37, 99, 235, 0.2)"},whileTap:St?{}:{scale:.95},onClick:()=>er("/menu"),className:"mb-6 flex items-center text-blue-700 dark:text-blue-300 hover:text-blue-900 dark:hover:text-blue-100 transition-colors","aria-label":"Volver a la pgina principal",children:[jsxRuntimeExports.jsx(FaArrowLeft,{className:"mr-2 text-lg"}),"Volver"]}),jsxRuntimeExports.jsxs(motion.h1,{variants:sectionVariants,className:"text-3xl sm:text-4xl font-bold text-blue-700 dark:text-blue-300 mb-10 text-center",children:["Portal Institucional"," ",jsxRuntimeExports.jsx("span",{className:"text-blue-500 dark:text-blue-400",children:"Red Medicron IPS"})]}),jsxRuntimeExports.jsxs(motion.section,{variants:St?{}:sectionVariants,className:"mb-12",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-4 text-blue-700 dark:text-blue-300 text-xl font-semibold",children:[jsxRuntimeExports.jsx(FaLightbulb,{className:"mr-2"})," Qu es el Portal Institucional?"]}),jsxRuntimeExports.jsxs("p",{className:"text-base sm:text-lg leading-relaxed text-justify text-gray-800 dark:text-gray-200",children:["El ",jsxRuntimeExports.jsx("strong",{children:"Portal Institucional de Red Medicron IPS"})," es una plataforma moderna diseada para centralizar y facilitar el acceso a todas las tecnologas y recursos utilizados en la gestin diaria de la empresa. Su objetivo es ofrecer un espacio nico donde los colaboradores puedan consultar, gestionar y visualizar informacin clave de procesos, indicadores, documentos, eventos y ms."]}),jsxRuntimeExports.jsx("p",{className:"mt-4 text-base sm:text-lg leading-relaxed text-justify text-gray-800 dark:text-gray-200",children:"Este desarrollo responde a la necesidad de integrar la informacin institucional en un solo lugar, permitiendo una gestin eficiente, segura y colaborativa. El portal est pensado para adaptarse a los retos actuales del sector salud, promoviendo la digitalizacin, la transparencia y la mejora continua en Red Medicron IPS."})]}),jsxRuntimeExports.jsx(motion.section,{variants:St?{}:containerVariants,className:"mb-12",children:jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 text-center",children:[{icon:jsxRuntimeExports.jsx(FaLightbulb,{className:"text-yellow-400 text-4xl mb-3 mx-auto"}),title:"Innovacin y Centralizacin",text:"Un solo lugar para acceder a todos los recursos tecnolgicos y procesos institucionales."},{icon:jsxRuntimeExports.jsx(FaUsers,{className:"text-indigo-500 text-4xl mb-3 mx-auto"}),title:"Colaboracin y Gestin",text:"Facilita el trabajo colaborativo y la gestin eficiente entre reas y equipos."},{icon:jsxRuntimeExports.jsx(FaChartLine,{className:"text-green-500 text-4xl mb-3 mx-auto"}),title:"Indicadores y Resultados",text:"Visualizacin y seguimiento de indicadores clave para la toma de decisiones."},{icon:jsxRuntimeExports.jsx(FaUniversity,{className:"text-blue-500 text-4xl mb-3 mx-auto"}),title:"Desarrollo Acadmico",text:"Proyecto realizado en colaboracin con pasantes SENA y bajo la direccin de un ingeniero de software."}].map((rr,nr)=>jsxRuntimeExports.jsxs(motion.div,{variants:St?{}:sectionVariants,whileHover:St?{}:{scale:1.05,y:-5},transition:{type:"spring",stiffness:300},className:"p-6 bg-white dark:bg-gray-800 rounded-2xl shadow hover:shadow-md transition",children:[rr.icon,jsxRuntimeExports.jsx("h3",{className:"font-semibold text-lg mb-2 text-gray-900 dark:text-gray-100",children:rr.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm",children:rr.text})]},nr))})}),jsxRuntimeExports.jsxs(motion.section,{variants:St?{}:sectionVariants,className:"mb-12",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-4 text-blue-700 dark:text-blue-300 text-xl font-semibold",children:[jsxRuntimeExports.jsx(FaLaptopCode,{className:"mr-2"})," Tecnologas utilizadas"]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-4 text-center text-blue-700 dark:text-blue-300",children:[{icon:jsxRuntimeExports.jsx(FaReact,{className:"text-4xl mx-auto mb-2"}),name:"React + TypeScript",description:"Frontend moderno y dinmico para una experiencia de usuario gil."},{icon:jsxRuntimeExports.jsx("img",{src:"https://vitejs.dev/logo.svg",alt:"Vite",className:"h-10 mx-auto mb-2"}),name:"Vite",description:"Herramienta de construccin rpida para proyectos web."},{icon:jsxRuntimeExports.jsx(FaPython,{className:"text-4xl mx-auto mb-2"}),name:"Python",description:"Lenguaje robusto para el backend y lgica de negocio."},{icon:jsxRuntimeExports.jsx("img",{src:"https://static.djangoproject.com/img/logos/django-logo-negative.svg",alt:"Django",className:"h-8 mx-auto mb-2"}),name:"Django + DRF",description:"Framework backend y API REST para gestin segura de datos."},{icon:jsxRuntimeExports.jsx(SiTailwindcss,{className:"text-4xl mx-auto mb-2 text-blue-500"}),name:"Tailwind CSS",description:"Framework CSS para estilos rpidos y personalizables."}].map((rr,nr)=>jsxRuntimeExports.jsxs(motion.div,{variants:St?{}:techCardVariants,whileHover:St?{}:{scale:1.1,boxShadow:"0 8px 16px rgba(37, 99, 235, 0.2)"},transition:{type:"spring",stiffness:300},className:"relative bg-white dark:bg-gray-800 rounded-lg shadow p-4 group",children:[rr.icon,jsxRuntimeExports.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:rr.name}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-full mb-2 hidden group-hover:block bg-blue-700 dark:bg-blue-900 text-white text-xs rounded py-1 px-2 w-max max-w-xs z-10",children:rr.description})]},nr))})]}),jsxRuntimeExports.jsxs(motion.section,{variants:St?{}:sectionVariants,className:"mb-12",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-4 text-blue-700 dark:text-blue-300 text-xl font-semibold",children:[jsxRuntimeExports.jsx(FaUniversity,{className:"mr-2"})," Crditos"]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs(motion.div,{variants:St?{}:cardVariants,whileHover:St?{}:{y:-5,boxShadow:"0 8px 16px rgba(37, 99, 235, 0.2)"},transition:{type:"spring",stiffness:300},className:"bg-gradient-to-br from-white dark:from-gray-900 to-blue-50 dark:to-gray-800 shadow rounded-lg p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-4",children:[jsxRuntimeExports.jsx(FaUniversity,{className:"text-blue-500 dark:text-blue-300 text-2xl mr-2"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-blue-700 dark:text-blue-300",children:"Equipo de desarrollo"})]}),jsxRuntimeExports.jsxs("p",{className:"text-sm sm:text-base text-gray-800 dark:text-gray-200",children:[jsxRuntimeExports.jsx("strong",{children:"Edison Stiven Narvaez"}),jsxRuntimeExports.jsx("br",{}),"Ingeniero de Software",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Lider del proyecto y responsable principal del desarrollo"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("strong",{children:"Andrea Benavides"}),jsxRuntimeExports.jsx("br",{}),"Pasante SENA",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Colaboracin en backend y frontend del componente de proveedores"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("strong",{children:"Camila Crdenas"}),jsxRuntimeExports.jsx("br",{}),"Pasante SENA",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Colaboracin en backend y frontend del componente de proveedores"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("span",{className:"block mt-2 text-xs text-gray-400 dark:text-gray-500",children:"Ao: 2025"})]})]}),jsxRuntimeExports.jsxs(motion.div,{variants:St?{}:cardVariants,whileHover:St?{}:{y:-5,boxShadow:"0 8px 16px rgba(37, 99, 235, 0.2)"},transition:{type:"spring",stiffness:300},className:"bg-gradient-to-br from-white dark:from-gray-900 to-blue-50 dark:to-gray-800 shadow rounded-lg p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-4",children:[jsxRuntimeExports.jsx(FaHandsHelping,{className:"text-blue-500 dark:text-blue-300 text-2xl mr-2"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-blue-700 dark:text-blue-300",children:"Agradecimientos"})]}),jsxRuntimeExports.jsxs("p",{className:"text-sm sm:text-base text-gray-800 dark:text-gray-200",children:["Agradecimientos especiales al ingeniero"," ",jsxRuntimeExports.jsx("strong",{children:"Orlando Garcia"})," por su invaluable apoyo durante el desarrollo del proyecto."]})]})]})]})]})};function AppRouter(){const{isAuthenticated:St}=useAuthContext();return useRoutes([{path:"/auth/*",element:jsxRuntimeExports.jsx(AuthRoutes,{})},{path:"/",element:jsxRuntimeExports.jsx(AuthGuard,{isAuthenticated:St,redirectTo:"/auth/login",children:jsxRuntimeExports.jsx(MainLayout,{})}),children:[{path:"/",element:jsxRuntimeExports.jsx(Navigate,{to:"/menu",replace:!0})},{path:"menu",element:jsxRuntimeExports.jsx(MenuPage,{})},{path:"eventos",element:jsxRuntimeExports.jsx(EventosPage,{})},{path:"eventos/:id",element:jsxRuntimeExports.jsx(EventosPage,{})},{path:"noticias",element:jsxRuntimeExports.jsx(NoticiasPage,{})},{path:"noticias/:id",element:jsxRuntimeExports.jsx(NoticiasPage,{})},{path:"funcionarios",element:jsxRuntimeExports.jsx(FuncionariosPage,{})},{path:"reconocimientos",element:jsxRuntimeExports.jsx(ReconocimientosPage,{})},{path:"felicitaciones",element:jsxRuntimeExports.jsx(FelicitacionesPage,{})},{path:"profile",element:jsxRuntimeExports.jsx(ProfilePage,{})},{path:"auditorias",element:jsxRuntimeExports.jsx(AuditoriasPage,{})},{path:"dashboard",element:jsxRuntimeExports.jsx(DashboardPage,{})},{path:"indicators",element:jsxRuntimeExports.jsx(IndicadoresPage,{})},{path:"results",element:jsxRuntimeExports.jsx(ResultadosPage,{})},{path:"procesos",element:jsxRuntimeExports.jsx(ProcesosPage,{})},{path:"proveedores",element:jsxRuntimeExports.jsx(ProveedoresPage,{})},{path:"terceros",element:jsxRuntimeExports.jsx(TercerosPage,{})},{path:"facturas",element:jsxRuntimeExports.jsx(FacturasPage,{})},{path:"administracion",element:jsxRuntimeExports.jsx(AdministracionPage,{})},{path:"acerca_de",element:jsxRuntimeExports.jsx(About,{})}]},{path:"*",element:jsxRuntimeExports.jsx(Navigate,{to:"/auth/login",replace:!0})}])}const routerConfig={future:{v7_startTransition:!0,v7_relativeSplatPath:!0}};function App(){return jsxRuntimeExports.jsxs(BrowserRouter,{...routerConfig,children:[jsxRuntimeExports.jsx(AppRouter,{}),jsxRuntimeExports.jsx(Lt$2,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})}createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(AuthProvider,{children:jsxRuntimeExports.jsx(App,{})})}));export{_typeof as _,commonjsGlobal as c,getDefaultExportFromCjs as g};
